/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
var InsightsFetcher;(function(n){function h(n,t,i,r,u){return AsyncFetcher.fetch(c(n,t),i,function(n){l(n,t);typeof r!="undefined"&&r&&r(n)},function(n){typeof u!="undefined"&&u?u(n):typeof r!="undefined"&&r&&r(n)})}function c(n,h){var c,y,a,k,l,p,d;switch(h){case t.SingleAsync:c=o;break;case t.Batch:c=e;break;default:c=f}c||(i=_w.IIConfig,c=u(h));c= __call$(c,"replace",[/%SFX%/,String(++s)]) ;var v=c.indexOf("?"),w="",b=c;v>0&&(w=c.substr(0,v),b=c.substr(v));y=parseQueryParamsFromQuery(b);for(a in n)k=h==t.Batch?a+"s":a,l= __get$(n,a) ,l!==null&&(typeof l=="undefined"&&(l=""), __set$(y,k,encodeURIComponent(l)) );return c=w+"?"+queryParamsToString(y),r&&n&&(p=h==t.Batch?n.mid?n.mid.split(",")[0]:"":n.mid,c=h!=t.Batch&&(d=r.qsv("insightsbag"))?r.stb(c,d+(n.iss?"_"+n.iss:"")):h==t.SingleAsync?r.atb(c,"InsightsSingleAsync_"+p):r.atb(c,(h==t.Batch?"InsightsBatchMock_":"InsightsMock_")+p)),c}function u(n){var r;switch(n){case t.SingleAsync:r=i&&i.saut?i.saut:"";break;case t.Batch:r=i&&i.baut?i.baut:"";break;default:r=i&&i.aut?i.aut:""}return addCommonPersistedParams(r)}function l(n,i){var r={};r.Name=i==t.Batch?"imageinsightsbatch":"imageinsights";r.T="CI.Error";r.TS=sb_gt();r.AppNS=_G.P;r.URL=n;r.Text="InsightsFetchError";pInstr.icd(r)}var t;(function(n){ __set$(n,n.Default=0,"Default") ; __set$(n,n.Batch=1,"Batch") ; __set$(n,n.SingleAsync=2,"SingleAsync") })(t=n.ImageRequestMode||(n.ImageRequestMode={}));var r=typeof MMTestUtils!="undefined"?MMTestUtils:null,i=_w.IIConfig,f=u(t.Default),e=u(t.Batch),o=u(t.SingleAsync),s=0;n.fetch=h})(InsightsFetcher||(InsightsFetcher={}))
/*hammerhead|script|end*/