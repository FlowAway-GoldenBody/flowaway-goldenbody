/*hammerhead|script|start*/"use strict";if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
"use strict";this.default_BardChatUi=this.default_BardChatUi||{};(function(_){var window=this;
try{
var kwf=function(a){let b,c;a=_.sN(a==null?void 0:(b=a.response)==null?void 0:(c=b.Wa)==null?void 0:c.zc,36)[0];return(a==null?0:a.Ni)?[a.Ni]:[]},owf,nwf,pwf;_.yO.prototype.sFa=_.ba(347,function(){this.Id.pipe(_.zv(1)).subscribe(a=>{a&&_.jwc(this,a.response.mb,{Uc:{t1:{KJ:a.response.mb}}})})});_.zO.prototype.sFa=_.ba(346,function(){});
_.lwf=function(a){return a.Ka.Id.pipe(_.mw(b=>{b=kwf(b);return b.length?_.Rv(b.map(c=>a.ha(c))).pipe(_.r(c=>c.map(d=>_.qN(d)).filter(d=>!!d).filter(_.TMd).map(d=>d.taskId))):_.Qv([])}))};_.mwf=function(a){return _.lwf(a).pipe(_.r(b=>b.length>0))};owf=function(a){nwf(a);a.ma=_.vv(2E4,2E4).pipe(_.YA(a.Ma)).subscribe(()=>{const b=a.na.ka;Date.now()-b>2E4&&a.Ka.Hha()})};nwf=function(a){let b;(b=a.ma)==null||b.unsubscribe();a.ma=void 0};
pwf=function(a,b,c){a.Ka.Id.pipe(_.zv(1)).subscribe(d=>{if(d){var e=a.Ka.Xf();a.Ka.Ud({textQuery:b!=null?b:"",ig:!1,yg:!1,Uc:{t1:{KJ:d.response.mb,M1a:c!=null?c:0}},ld:e})}})};_.qwf=function(a,b,c){_.Rv([a.oa,a.ha]).pipe(_.zv(1)).subscribe(( _hh$temp0 )=>{ var _hh$temp1=__arrayFrom$(_hh$temp0),d=_hh$temp1[0],e=_hh$temp1[1]; a.ka&&e&&(d?pwf(a,b,c):a.Ka.sFa())})};
_.F3=class{constructor(){this.na=_.u(_.C3);this.Ka=_.u(_.AO);this.Ma=_.u(_.Gx);this.va=_.u(_.jz);this.ka=this.va.Aa(_.Qdc);this.qa=this.va.Aa(_.ppc);this.oa=this.Ka.Id.pipe(_.r(a=>{let b;return(a==null?void 0:(b=a.response.Jx)==null?void 0:b.fK)===22}));this.ha=this.Ka.Id.pipe(_.mw(a=>a?this.bfa(a):_.Qv(!1)));this.qa&&this.ha.pipe(_.YA(this.Ma)).subscribe(a=>{a?owf(this):nwf(this)})}bfa(a){return this.Ka.ri.pipe(_.r(b=>{let c;return this.ka&&!b&&(a==null?void 0:(c=a.response.Wa)==null?void 0:c.hf)===
"PARTIAL"&&(a==null?void 0:a.response.isFinal)}))}};_.F3.ua=function(a){return new (a||_.F3)};_.F3.Ua=_.zw({token:_.F3,Ra:_.F3.ua,Va:"root"});
var ePf,gPf,mPf,rPf,sPf,tPf,uPf,vPf,wPf,xPf,qPf,oPf,nPf,pPf,dPf,kPf,jPf,iPf,hPf,lPf;_.bPf=function(a){var b=new _.aPf;b=_.Yf(b,1,a.A2a);b=_.Yf(b,2,a.n2);b=_.Yf(b,3,a.conversationId);b=_.Yf(b,4,a.mb);return _.cv(b,5,a.Q5a)};_.cPf=function(a){return{A2a:a.A2a||"",n2:a.n2||"",conversationId:a.conversationId||"",mb:a.id||"",Q5a:a.Q5a||_.Cc()}};ePf=function(a){return _.wf(a,dPf,1,_.nf()).map(b=>({urls:[..._.Lf(b,1,_.nf())],username:_.n(b,2),credential:_.n(b,3)}))};
gPf=function(a){return{sessionId:_.n(a,3),r_c:_.n(a,1),swc:"answer",K$c:_.wf(a,fPf,4,_.nf()).map(b=>({candidate:_.n(b,1),sdpMid:_.n(b,3),sdpMLineIndex:_.Gf(b,4)}))}};mPf=function(a,b){return hPf(iPf(jPf(kPf(new lPf,_.bPf(a)),b.iceServers.map(c=>{var d=new dPf;d=_.iC(d,1,c.urls);d=_.Yf(d,2,c.username);return _.Yf(d,3,c.credential)})),b.s_c),b.ZUc)};
rPf=function(a,b){return nPf(oPf(new pPf,_.bPf(a)),b.map(c=>{const d=new qPf;_.Yf(d,1,c.sessionId);_.Yf(d,2,c.candidate);_.Yf(d,3,c.sdpMid);_.Uf(d,4,c.sdpMLineIndex);return d}))};sPf=function(a){try{_.X5==null|| __call$(_.X5,"postMessage",[JSON.stringify(a)]) }catch(b){}};tPf=function(){let a;return((a=window.webkit)==null?void 0:a.messageHandlers.geminiApp)!==void 0};uPf=function(a){try{let b;(b=window.webkit)==null|| __call$(b.messageHandlers.geminiApp,"postMessage",[a]) }catch(b){}};
vPf=function(){try{const a={dynamoEvent:"pageFailed"};_.X5!==void 0?sPf(a):tPf()&&uPf(a)}catch(a){}};_.aPf=class extends _.l{constructor(a){super(a)}};wPf=class extends _.l{constructor(a){super(a)}};xPf=function(a){return _.NG(a.ha,"disable_take_control_disclaimer").pipe(_.r(b=>!b))};qPf=class extends _.l{constructor(a){super(a)}};oPf=function(a,b){return _.xf(a,_.aPf,1,b)};nPf=function(a,b){return _.zf(a,3,b)};pPf=class extends _.l{constructor(a){super(a)}yxb(a,b){return _.Pj(this,3,qPf,a,b)}};
dPf=class extends _.l{constructor(a){super(a)}};kPf=function(a,b){return _.xf(a,_.aPf,1,b)};jPf=function(a,b){return _.zf(a,2,b)};iPf=function(a,b){return _.Yf(a,3,b)};hPf=function(a,b){return _.Yf(a,4,b)};lPf=class extends _.l{constructor(a){super(a)}getType(){return _.n(this,4)}};var yPf=new _.hA("YjPFC",class extends _.l{constructor(a){super(a)}},[_.Oi,!1,_.Pi,"/BardFrontendService.AddWebRtcIceCandidate"]);var zPf=class extends _.l{constructor(a){super(a)}};var APf=new _.hA("AUWn6c",class extends _.l{constructor(a){super(a)}},[_.Oi,!0,_.Pi,"/BardFrontendService.GetWebRtcCredentials"]);var fPf=class extends _.l{constructor(a){super(a)}};var BPf=new _.hA("G1wmmd",class extends _.l{constructor(a){super(a)}getType(){return _.n(this,2)}},[_.Oi,!1,_.Pi,"/BardFrontendService.SendWebRtcSdpOffer"]);var CPf=function(a){const b=new zPf;return _.Vv(()=>a.ha.fetch(APf.getInstance(b))).pipe(_.r(c=>ePf(c)))},DPf=function(a,b,c){const d=mPf(b,c);return _.Vv(()=>a.ha.Ae(BPf.getInstance(d))).pipe(_.r(e=>gPf(e)))},EPf=class{constructor(){this.ha=_.u(_.pA)}yxb(a,b){return _.Vv(()=>this.ha.Ae(yPf.getInstance(rPf(a,b)))).pipe(_.r(()=>{}))}};EPf.ua=function(a){return new (a||EPf)};EPf.Ua=_.zw({token:EPf,Ra:EPf.ua,Va:"root"});var FPf=_.FA("WebRtcApi",EPf,_.EA("WebRtcApiFake"));var GPf=class extends _.tE{constructor(){super(...arguments);this.Da=_.UB}cancel(){this.Tc.close({t2:!1})}confirm(){this.Tc.close({t2:!0})}};GPf.ua=(()=>{let a;return function(b){return(a||(a=_.rx(GPf)))(b||GPf)}})();
GPf.Ja=_.C({type:GPf,Ga:[["take-control-disclaimer"]],features:[_.rz],Ha:14,Ia:6,La:()=>["You're about to take control of the remote browser ","Browser data (like cookies that contain your website authentication info) will be saved in your Gemini Remote Browser Data. You can delete this data any time in your Remote Browser Data setting. "," Cancel "," Take Control ",[1,"container"],[1,"header"],["mat-dialog-title","",1,"title","gds-title-l"],[1,"screenshot-warning-container"],[1,"warning-text","gds-body-m"],
["align","end"],["mat-button","","data-test-id","cancel-button",1,"gds-button-tonal",3,"click","ve","veImpression","veClick"],["mat-button","","data-test-id","confirm-button",1,"gds-button-tonal",3,"click","ve","veImpression","veClick"]],template:function(a,b){a&1&&(_.G(0,"div",4)(1,"div",5)(2,"div")(3,"h1",6),_.M(4,0),_.H()()(),_.G(5,"mat-dialog-content")(6,"div",7)(7,"span",8),_.M(8,1),_.H()()(),_.G(9,"mat-dialog-actions",9)(10,"button",10),_.P("click",function(){return b.cancel()}),_.M(11,2),_.H(),
_.G(12,"button",11),_.P("click",function(){return b.confirm()}),_.M(13,3),_.H()()());a&2&&(_.A(10),_.F("ve",b.Da.S9b)("veImpression",!0)("veClick",!0),_.A(2),_.F("ve",b.Da.R9b)("veImpression",!0)("veClick",!0))},dependencies:[_.dE,_.bE,_.IT,_.pE,_.mE,_.oE,_.nE,_.$P,_.TB,_.SB],styles:['body[_ngcontent-%COMP%]{--gds-type-scale-default-wdth:"wdth" 100;--gds-type-scale-default-slnt:"slnt" 0;--gds-type-scale-default-rond:"ROND" 0}.container[_ngcontent-%COMP%]{background-color:var(--gem-sys-color--surface-container);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.header[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0 var(--gem-sys-spacing--xl) var(--gem-sys-spacing--l) var(--gem-sys-spacing--xl)}.title[_ngcontent-%COMP%]{padding:0}mat-dialog-content[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:var(--gem-sys-spacing--l);padding:var(--gem-sys-spacing--l)}.warning-text[_ngcontent-%COMP%]{color:var(--gem-sys-color--on-surface-variant)}mat-dialog-actions[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:var(--gem-sys-spacing--xxl)}'],
Na:0});var HPf,IPf,JPf,KPf,LPf,OPf;HPf=_.QM("[ComputerUse] Load computer use metadata from conversation",_.RM());IPf=_.QM("[ComputerUse] Open computer use panel",_.RM());JPf=_.QM("[ComputerUse] Close computer use panel");KPf=_.QM("[ComputerUse] Take control of the virtual machine",_.RM());LPf=_.QM("[ComputerUse] Relinquish control of the virtual machine");_.MPf=_.QM("[ComputerUse] Take control of the virtual machine from mobile");_.NPf=_.QM("[ComputerUse] Relinquish control of the virtual machine from mobile");
OPf=_.QM("[ComputerUse] Clear computer use state");_.X5="robinDynamoWebViewMessageChannel"in window?window.robinDynamoWebViewMessageChannel:void 0;window.sendDynamoIosEventToGeminiWeb=function(a){ __call$(window,"postMessage",[a,__get$(window,"location").origin]) };var PPf=class{};PPf.ua=function(a){return new (a||PPf)};PPf.Ua=_.zw({token:PPf,Ra:PPf.ua,Va:"root"});/*
 ************************************************* !*\
    !*** ./node_modules/@novnc/novnc/lib/base64.js ***!
    \************************************************ ./util/logging.js  ***************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/crypto/aes.js ***!
    \**************************************************** regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE  ******************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/crypto/bigint.js ***!
    \******************************************************* ******************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/crypto/crypto.js ***!
    \******************************************************* ./aes.js  ./des.js  ./rsa.js  ./dh.js  ./md5.js  ***************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/crypto/des.js ***!
    \**************************************************** **************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/crypto/dh.js ***!
    \*************************************************** ./bigint.js  ***************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/crypto/md5.js ***!
    \**************************************************** ***************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/crypto/rsa.js ***!
    \**************************************************** ../base64.js  ************************************************************ !*\
    !*** ./node_modules/@novnc/novnc/lib/decoders/copyrect.js ***!
    \*********************************************************** ******************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/decoders/h264.js ***!
    \******************************************************* ../util/logging.js  *********************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/decoders/hextile.js ***!
    \********************************************************** ******************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/decoders/jpeg.js ***!
    \******************************************************* ******************************************************* !*\
    !*** ./node_modules/@novnc/novnc/lib/decoders/raw.js ***!
    \****************************************************** ******************************************************* !*\
    !*** ./node_modules/@novnc/novnc/lib/decoders/rre.js ***!
    \****************************************************** ********************************************************* !*\
    !*** ./node_modules/@novnc/novnc/lib/decoders/tight.js ***!
    \******************************************************** ../inflator.js  ************************************************************ !*\
    !*** ./node_modules/@novnc/novnc/lib/decoders/tightpng.js ***!
    \*********************************************************** ./tight.js  ******************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/decoders/zlib.js ***!
    \******************************************************* ******************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/decoders/zrle.js ***!
    \******************************************************* *************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/deflator.js ***!
    \************************************************** ../lib/vendor/pako/lib/zlib/deflate.js  ../lib/vendor/pako/lib/zlib/zstream.js  ************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/display.js ***!
    \************************************************* ./base64.js  ./util/int.js  **************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/encodings.js ***!
    \*************************************************** *************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/inflator.js ***!
    \************************************************** ../lib/vendor/pako/lib/zlib/inflate.js  ************************************************************ !*\
    !*** ./node_modules/@novnc/novnc/lib/input/domkeytable.js ***!
    \*********************************************************** ./keysym.js  ********************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/input/fixedkeys.js ***!
    \********************************************************* *************************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/input/gesturehandler.js ***!
    \************************************************************** ********************************************************* !*\
    !*** ./node_modules/@novnc/novnc/lib/input/keyboard.js ***!
    \******************************************************** ../util/events.js  ./util.js  ../util/browser.js  ******************************************************* !*\
    !*** ./node_modules/@novnc/novnc/lib/input/keysym.js ***!
    \****************************************************** ********************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/input/keysymdef.js ***!
    \********************************************************* ***************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/input/util.js ***!
    \**************************************************** ./keysymdef.js  ./vkeys.js  ./fixedkeys.js  ./domkeytable.js  ****************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/input/vkeys.js ***!
    \***************************************************** ************************************************************ !*\
    !*** ./node_modules/@novnc/novnc/lib/input/xtscancodes.js ***!
    \*********************************************************** ********************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/ra2.js ***!
    \********************************************* ./util/strings.js  ./util/eventtarget.js  ./crypto/crypto.js  ********************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/rfb.js ***!
    \********************************************* ./util/browser.js  ./util/element.js  ./util/events.js  ./display.js  ./inflator.js  ./deflator.js  ./input/keyboard.js  ./input/gesturehandler.js  ./util/cursor.js  ./websock.js  ./input/keysym.js  ./input/xtscancodes.js  ./encodings.js  ./ra2.js  ./decoders/raw.js  ./decoders/copyrect.js  ./decoders/rre.js  ./decoders/hextile.js  ./decoders/zlib.js  ./decoders/tight.js  ./decoders/tightpng.js  ./decoders/zrle.js  ./decoders/jpeg.js  ./decoders/h264.js  ******************************************************* !*\
    !*** ./node_modules/@novnc/novnc/lib/util/browser.js ***!
    \****************************************************** ./logging.js  ****************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/util/cursor.js ***!
    \***************************************************** ./browser.js  ******************************************************* !*\
    !*** ./node_modules/@novnc/novnc/lib/util/element.js ***!
    \****************************************************** ****************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/util/events.js ***!
    \***************************************************** *********************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/util/eventtarget.js ***!
    \********************************************************** *************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/util/int.js ***!
    \************************************************** ******************************************************* !*\
    !*** ./node_modules/@novnc/novnc/lib/util/logging.js ***!
    \****************************************************** ******************************************************* !*\
    !*** ./node_modules/@novnc/novnc/lib/util/strings.js ***!
    \****************************************************** *********************************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/vendor/pako/lib/utils/common.js ***!
    \********************************************************************** *********************************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/adler32.js ***!
    \********************************************************************** ********************************************************************* !*\
    !*** ./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/crc32.js ***!
    \******************************************************************** *********************************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/deflate.js ***!
    \********************************************************************** ../utils/common.js  ./trees.js  ./adler32.js  ./crc32.js  ./messages.js  *********************************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/inffast.js ***!
    \********************************************************************** *********************************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/inflate.js ***!
    \********************************************************************** ./inffast.js  ./inftrees.js  ************************************************************************ !*\
    !*** ./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/inftrees.js ***!
    \*********************************************************************** ************************************************************************ !*\
    !*** ./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/messages.js ***!
    \*********************************************************************** ********************************************************************* !*\
    !*** ./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/trees.js ***!
    \******************************************************************** *********************************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/zstream.js ***!
    \********************************************************************** ************************************************** !*\
    !*** ./node_modules/@novnc/novnc/lib/websock.js ***!
    \************************************************* ********************** !*\
    !*** ./src/index.js ***!
    \********************* @novnc/novnc 

 N/A. We wrote this file.

 @fileoverview This is the bootstrapping file for the noVNC library.
*/
(function(){let module=undefined;let exports=undefined;let define=undefined;(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define([],factory);else if(typeof exports==="object")exports["noVNC"]=factory();else root["noVNC"]=factory()})(globalThis,()=>{return(()=>{var __webpack_modules__={"./node_modules/@novnc/novnc/lib/base64.js":(__unused_webpack_module,exports,
__webpack_require__)=>{function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var Log=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/util/logging.js"));function _getRequireWildcardCache(e){if("function"!=
typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=
a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,n),n}var _default=exports["default"]={toBase64Table:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),base64Pad:"=",encode:function encode(data){var result="";var length=data.length;var lengthpad=length%3;for(var i=0;i<length-2;i+=3){result+= __get$(this.toBase64Table,__get$(data,i)>>2) ;result+= __get$(this.toBase64Table,((__get$(data,i)&3)<<4)+(__get$(data,i+1)>>4)) ;result+=
 __get$(this.toBase64Table,((__get$(data,i+1)&15)<<2)+(__get$(data,i+2)>>6)) ;result+= __get$(this.toBase64Table,__get$(data,i+2)&63) }var j=length-lengthpad;if(lengthpad===2){result+= __get$(this.toBase64Table,__get$(data,j)>>2) ;result+= __get$(this.toBase64Table,((__get$(data,j)&3)<<4)+(__get$(data,j+1)>>4)) ;result+= __get$(this.toBase64Table,(__get$(data,j+1)&15)<<2) ;result+=this.toBase64Table[64]}else if(lengthpad===1){result+= __get$(this.toBase64Table,__get$(data,j)>>2) ;result+= __get$(this.toBase64Table,(__get$(data,j)&3)<<4) ;result+=this.toBase64Table[64];result+=this.toBase64Table[64]}return result},toBinaryTable:[-1,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],decode:function decode(data){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var dataLength=data.indexOf("=")-
offset;if(dataLength<0)dataLength=data.length-offset;var resultLength=(dataLength>>2)*3+Math.floor(dataLength%4/1.5);var result=new Array(resultLength);var leftbits=0;var leftdata=0;for(var idx=0,i=offset;i<data.length;i++){var c= __get$(this.toBinaryTable,data.charCodeAt(i)&127) ;var padding=data.charAt(i)===this.base64Pad;if(c===-1){Log.Error("Illegal character code "+data.charCodeAt(i)+" at position "+i);continue}leftdata=leftdata<<6|c;leftbits+=6;if(leftbits>=8){leftbits-=8;if(!padding) __set$(result,idx++,leftdata>>leftbits&255) ;leftdata&=(1<<leftbits)-1}}if(leftbits){var err=new Error("Corrupted base64 string");err.name="Base64-Error";throw err;}return result}}},"./node_modules/@novnc/novnc/lib/crypto/aes.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports.AESECBCipher=exports.AESEAXCipher=void 0;function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&
"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){ __set$(t,e,r.value) },i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,
configurable:!0,writable:!0}), __get$(t,e) }try{define({},"")}catch(t){define=function define(t,e,r){return  __set$(t,e,r) }}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}
function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){define(t,e,function(t){return this._invoke(e,t)})})}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch( __get$(t,r) ,t,o);if("throw"!==c.type){var u=
c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){invoke("next",t,i,a)},function(t){invoke("throw",t,i,a)}):e.resolve(h).then(function(t){u.value=t,i(u)},function(t){return invoke("throw",t,i,a)})}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e(function(e,r){invoke(t,n,e,r)})}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,
r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===
y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o= __get$(e.iterator,n) ;if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=
null,y;var a=i.arg;return a?a.done?( __set$(r,e.resultName,a.value) ,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=
[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r= __get$(e,a) ;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value= __get$(e,o) ,next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable");}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,
configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,
"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,function(){return this}),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,function(){return this}),define(g,
"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===
r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&( __set$(this,r,t) )},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i= __get$(this.tryEntries,o) ,a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=
n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o= __get$(this.tryEntries,r) ;if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<
o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-
1;e>=0;--e){var r= __get$(this.tryEntries,e) ;if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},"catch":function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r= __get$(this.tryEntries,e) ;if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt");},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},
e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i= __call$(n,a,[c]) ,u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");
}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;
var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var AESECBCipher=exports.AESECBCipher=function(){function AESECBCipher(){_classCallCheck(this,AESECBCipher);this._key=null}return _createClass(AESECBCipher,[{key:"algorithm",get:function get(){return{name:"AES-ECB"}}},{key:"_importKey",value:function(){var _importKey2=_asyncToGenerator(_regeneratorRuntime().mark(function _callee(key,
extractable,keyUsages){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return window.crypto.subtle.importKey("raw",key,{name:"AES-CBC"},extractable,keyUsages);case 2:this._key=_context.sent;case 3:case "end":return _context.stop()}},_callee,this)}));function _importKey(_x,_x2,_x3){return _importKey2.apply(this,arguments)}return _importKey}()},{key:"encrypt",value:function(){var _encrypt=_asyncToGenerator(_regeneratorRuntime().mark(function _callee2(_algorithm,
plaintext){var x,n,i,y;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:x=new Uint8Array(plaintext);if(!(x.length%16!==0||this._key===null)){_context2.next=3;break}return _context2.abrupt("return",null);case 3:n=x.length/16;i=0;case 5:if(!(i<n)){_context2.next=15;break}_context2.t0=Uint8Array;_context2.next=9;return window.crypto.subtle.encrypt({name:"AES-CBC",iv:new Uint8Array(16)},this._key,x.slice(i*16,i*16+16));case 9:_context2.t1=
_context2.sent;y=(new _context2.t0(_context2.t1)).slice(0,16);x.set(y,i*16);case 12:i++;_context2.next=5;break;case 15:return _context2.abrupt("return",x);case 16:case "end":return _context2.stop()}},_callee2,this)}));function encrypt(_x4,_x5){return _encrypt.apply(this,arguments)}return encrypt}()}],[{key:"importKey",value:function(){var _importKey3=_asyncToGenerator(_regeneratorRuntime().mark(function _callee3(key,_algorithm,extractable,keyUsages){var cipher;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=
_context3.next){case 0:cipher=new AESECBCipher;_context3.next=3;return cipher._importKey(key,extractable,keyUsages);case 3:return _context3.abrupt("return",cipher);case 4:case "end":return _context3.stop()}},_callee3)}));function importKey(_x6,_x7,_x8,_x9){return _importKey3.apply(this,arguments)}return importKey}()}])}();var AESEAXCipher=exports.AESEAXCipher=function(){function AESEAXCipher(){_classCallCheck(this,AESEAXCipher);this._rawKey=null;this._ctrKey=null;this._cbcKey=null;this._zeroBlock=
new Uint8Array(16);this._prefixBlock0=this._zeroBlock;this._prefixBlock1=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1]);this._prefixBlock2=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2])}return _createClass(AESEAXCipher,[{key:"algorithm",get:function get(){return{name:"AES-EAX"}}},{key:"_encryptBlock",value:function(){var _encryptBlock2=_asyncToGenerator(_regeneratorRuntime().mark(function _callee4(block){var encrypted;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=
_context4.next){case 0:_context4.next=2;return window.crypto.subtle.encrypt({name:"AES-CBC",iv:this._zeroBlock},this._cbcKey,block);case 2:encrypted=_context4.sent;return _context4.abrupt("return",(new Uint8Array(encrypted)).slice(0,16));case 4:case "end":return _context4.stop()}},_callee4,this)}));function _encryptBlock(_x10){return _encryptBlock2.apply(this,arguments)}return _encryptBlock}()},{key:"_initCMAC",value:function(){var _initCMAC2=_asyncToGenerator(_regeneratorRuntime().mark(function _callee5(){var k1,
k2,v,i,lut;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this._encryptBlock(this._zeroBlock);case 2:k1=_context5.sent;k2=new Uint8Array(16);v=k1[0]>>>6;for(i=0;i<15;i++){ __set$(k2,i,__get$(k1,i+1)>>6|__get$(k1,i)<<2) ; __set$(k1,i,__get$(k1,i+1)>>7|__get$(k1,i)<<1) }lut=[0,135,14,137];k2[14]^=v>>>1;k2[15]=k1[15]<<2^ __get$(lut,v) ;k1[15]=k1[15]<<1^ __get$(lut,v>>1) ;this._k1=k1;this._k2=k2;case 12:case "end":return _context5.stop()}},_callee5,this)}));function _initCMAC(){return _initCMAC2.apply(this,
arguments)}return _initCMAC}()},{key:"_encryptCTR",value:function(){var _encryptCTR2=_asyncToGenerator(_regeneratorRuntime().mark(function _callee6(data,counter){var encrypted;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return window.crypto.subtle.encrypt({name:"AES-CTR",counter:counter,length:128},this._ctrKey,data);case 2:encrypted=_context6.sent;return _context6.abrupt("return",new Uint8Array(encrypted));
case 4:case "end":return _context6.stop()}},_callee6,this)}));function _encryptCTR(_x11,_x12){return _encryptCTR2.apply(this,arguments)}return _encryptCTR}()},{key:"_decryptCTR",value:function(){var _decryptCTR2=_asyncToGenerator(_regeneratorRuntime().mark(function _callee7(data,counter){var decrypted;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.next=2;return window.crypto.subtle.decrypt({name:"AES-CTR",counter:counter,
length:128},this._ctrKey,data);case 2:decrypted=_context7.sent;return _context7.abrupt("return",new Uint8Array(decrypted));case 4:case "end":return _context7.stop()}},_callee7,this)}));function _decryptCTR(_x13,_x14){return _decryptCTR2.apply(this,arguments)}return _decryptCTR}()},{key:"_computeCMAC",value:function(){var _computeCMAC2=_asyncToGenerator(_regeneratorRuntime().mark(function _callee8(data,prefixBlock){var n,m,r,cbcData,i,_i,cbcEncrypted,mac;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1)switch(_context8.prev=
_context8.next){case 0:if(!(prefixBlock.length!==16)){_context8.next=2;break}return _context8.abrupt("return",null);case 2:n=Math.floor(data.length/16);m=Math.ceil(data.length/16);r=data.length-n*16;cbcData=new Uint8Array((m+1)*16);cbcData.set(prefixBlock);cbcData.set(data,16);if(r===0)for(i=0;i<16;i++)cbcData[n*16+i]^= __get$(this._k1,i) ;else{ __set$(cbcData,(n+1)*16+r,128) ;for(_i=0;_i<16;_i++)cbcData[(n+1)*16+_i]^= __get$(this._k2,_i) }_context8.next=11;return window.crypto.subtle.encrypt({name:"AES-CBC",iv:this._zeroBlock},
this._cbcKey,cbcData);case 11:cbcEncrypted=_context8.sent;cbcEncrypted=new Uint8Array(cbcEncrypted);mac=cbcEncrypted.slice(cbcEncrypted.length-32,cbcEncrypted.length-16);return _context8.abrupt("return",mac);case 15:case "end":return _context8.stop()}},_callee8,this)}));function _computeCMAC(_x15,_x16){return _computeCMAC2.apply(this,arguments)}return _computeCMAC}()},{key:"_importKey",value:function(){var _importKey4=_asyncToGenerator(_regeneratorRuntime().mark(function _callee9(key){return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1)switch(_context9.prev=
_context9.next){case 0:this._rawKey=key;_context9.next=3;return window.crypto.subtle.importKey("raw",key,{name:"AES-CTR"},false,["encrypt","decrypt"]);case 3:this._ctrKey=_context9.sent;_context9.next=6;return window.crypto.subtle.importKey("raw",key,{name:"AES-CBC"},false,["encrypt"]);case 6:this._cbcKey=_context9.sent;_context9.next=9;return this._initCMAC();case 9:case "end":return _context9.stop()}},_callee9,this)}));function _importKey(_x17){return _importKey4.apply(this,arguments)}return _importKey}()},
{key:"encrypt",value:function(){var _encrypt2=_asyncToGenerator(_regeneratorRuntime().mark(function _callee10(algorithm,message){var ad,nonce,nCMAC,encrypted,adCMAC,mac,i,res;return _regeneratorRuntime().wrap(function _callee10$(_context10){while(1)switch(_context10.prev=_context10.next){case 0:ad=algorithm.additionalData;nonce=algorithm.iv;_context10.next=4;return this._computeCMAC(nonce,this._prefixBlock0);case 4:nCMAC=_context10.sent;_context10.next=7;return this._encryptCTR(message,nCMAC);case 7:encrypted=
_context10.sent;_context10.next=10;return this._computeCMAC(ad,this._prefixBlock1);case 10:adCMAC=_context10.sent;_context10.next=13;return this._computeCMAC(encrypted,this._prefixBlock2);case 13:mac=_context10.sent;for(i=0;i<16;i++)mac[i]^= __get$(nCMAC,i) ^ __get$(adCMAC,i) ;res=new Uint8Array(16+encrypted.length);res.set(encrypted);res.set(mac,encrypted.length);return _context10.abrupt("return",res);case 19:case "end":return _context10.stop()}},_callee10,this)}));function encrypt(_x18,_x19){return _encrypt2.apply(this,
arguments)}return encrypt}()},{key:"decrypt",value:function(){var _decrypt=_asyncToGenerator(_regeneratorRuntime().mark(function _callee11(algorithm,data){var encrypted,ad,nonce,mac,nCMAC,adCMAC,computedMac,i,_i2,res;return _regeneratorRuntime().wrap(function _callee11$(_context11){while(1)switch(_context11.prev=_context11.next){case 0:encrypted=data.slice(0,data.length-16);ad=algorithm.additionalData;nonce=algorithm.iv;mac=data.slice(data.length-16);_context11.next=6;return this._computeCMAC(nonce,
this._prefixBlock0);case 6:nCMAC=_context11.sent;_context11.next=9;return this._computeCMAC(ad,this._prefixBlock1);case 9:adCMAC=_context11.sent;_context11.next=12;return this._computeCMAC(encrypted,this._prefixBlock2);case 12:computedMac=_context11.sent;for(i=0;i<16;i++)computedMac[i]^= __get$(nCMAC,i) ^ __get$(adCMAC,i) ;if(!(computedMac.length!==mac.length)){_context11.next=16;break}return _context11.abrupt("return",null);case 16:_i2=0;case 17:if(!(_i2<mac.length)){_context11.next=23;break}if(!( __get$(computedMac,_i2) !==
 __get$(mac,_i2) )){_context11.next=20;break}return _context11.abrupt("return",null);case 20:_i2++;_context11.next=17;break;case 23:_context11.next=25;return this._decryptCTR(encrypted,nCMAC);case 25:res=_context11.sent;return _context11.abrupt("return",res);case 27:case "end":return _context11.stop()}},_callee11,this)}));function decrypt(_x20,_x21){return _decrypt.apply(this,arguments)}return decrypt}()}],[{key:"importKey",value:function(){var _importKey5=_asyncToGenerator(_regeneratorRuntime().mark(function _callee12(key,
_algorithm,_extractable,_keyUsages){var cipher;return _regeneratorRuntime().wrap(function _callee12$(_context12){while(1)switch(_context12.prev=_context12.next){case 0:cipher=new AESEAXCipher;_context12.next=3;return cipher._importKey(key);case 3:return _context12.abrupt("return",cipher);case 4:case "end":return _context12.stop()}},_callee12)}));function importKey(_x22,_x23,_x24,_x25){return _importKey5.apply(this,arguments)}return importKey}()}])}()},"./node_modules/@novnc/novnc/lib/crypto/bigint.js":(__unused_webpack_module,
exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports.bigIntToU8Array=bigIntToU8Array;exports.modPow=modPow;exports.u8ArrayToBigInt=u8ArrayToBigInt;function modPow(b,e,m){var r=1n;b=b%m;while(e>0n){if((e&1n)===1n)r=r*b%m;e=e>>1n;b=b*b%m}return r}function bigIntToU8Array(bigint){var padLength=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var hex=bigint.toString(16);if(padLength===0)padLength=Math.ceil(hex.length/2);hex=hex.padStart(padLength*2,"0");var length=hex.length/
2;var arr=new Uint8Array(length);for(var i=0;i<length;i++) __set$(arr,i,parseInt(hex.slice(i*2,i*2+2),16)) ;return arr}function u8ArrayToBigInt(arr){var hex="0x";for(var i=0;i<arr.length;i++)hex+= __get$(arr,i) .toString(16).padStart(2,"0");return BigInt(hex)}},"./node_modules/@novnc/novnc/lib/crypto/crypto.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _aes=__webpack_require__("./node_modules/@novnc/novnc/lib/crypto/aes.js");
var _des=__webpack_require__("./node_modules/@novnc/novnc/lib/crypto/des.js");var _rsa=__webpack_require__("./node_modules/@novnc/novnc/lib/crypto/rsa.js");var _dh=__webpack_require__("./node_modules/@novnc/novnc/lib/crypto/dh.js");var _md=__webpack_require__("./node_modules/@novnc/novnc/lib/crypto/md5.js");function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&
o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,
"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var LegacyCrypto=function(){function LegacyCrypto(){_classCallCheck(this,LegacyCrypto);this._algorithms=
{"AES-ECB":_aes.AESECBCipher,"AES-EAX":_aes.AESEAXCipher,"DES-ECB":_des.DESECBCipher,"DES-CBC":_des.DESCBCCipher,"RSA-PKCS1-v1_5":_rsa.RSACipher,"DH":_dh.DHCipher,"MD5":_md.MD5}}return _createClass(LegacyCrypto,[{key:"encrypt",value:function encrypt(algorithm,key,data){if(key.algorithm.name!==algorithm.name)throw new Error("algorithm does not match");if(typeof key.encrypt!=="function")throw new Error("key does not support encryption");return key.encrypt(algorithm,data)}},{key:"decrypt",value:function decrypt(algorithm,
key,data){if(key.algorithm.name!==algorithm.name)throw new Error("algorithm does not match");if(typeof key.decrypt!=="function")throw new Error("key does not support encryption");return key.decrypt(algorithm,data)}},{key:"importKey",value:function importKey(format,keyData,algorithm,extractable,keyUsages){if(format!=="raw")throw new Error("key format is not supported");var alg= __get$(this._algorithms,algorithm.name) ;if(typeof alg==="undefined"||typeof alg.importKey!=="function")throw new Error("algorithm is not supported");
return alg.importKey(keyData,algorithm,extractable,keyUsages)}},{key:"generateKey",value:function generateKey(algorithm,extractable,keyUsages){var alg= __get$(this._algorithms,algorithm.name) ;if(typeof alg==="undefined"||typeof alg.generateKey!=="function")throw new Error("algorithm is not supported");return alg.generateKey(algorithm,extractable,keyUsages)}},{key:"exportKey",value:function exportKey(format,key){if(format!=="raw")throw new Error("key format is not supported");if(typeof key.exportKey!=="function")throw new Error("key does not support exportKey");
return key.exportKey()}},{key:"digest",value:function digest(algorithm,data){var alg= __get$(this._algorithms,algorithm) ;if(typeof alg!=="function")throw new Error("algorithm is not supported");return alg(data)}},{key:"deriveBits",value:function deriveBits(algorithm,key,length){if(key.algorithm.name!==algorithm.name)throw new Error("algorithm does not match");if(typeof key.deriveBits!=="function")throw new Error("key does not support deriveBits");return key.deriveBits(algorithm,length)}}])}();var _default=
exports["default"]=new LegacyCrypto},"./node_modules/@novnc/novnc/lib/crypto/des.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports.DESECBCipher=exports.DESCBCCipher=void 0;function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}
function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,
"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var PC2=[13,16,10,23,0,4,2,27,14,5,20,9,22,18,11,3,25,7,15,6,26,19,12,1,40,51,30,36,46,54,29,39,50,44,32,47,43,48,38,55,33,52,45,41,49,35,28,31],totrot=[1,2,4,6,8,10,12,14,15,17,19,
21,23,25,27,28];var z=0;var a,b,c,d,e,f;a=1<<16;b=1<<24;c=a|b;d=1<<2;e=1<<10;f=d|e;var SP1=[c|e,z|z,a|z,c|f,c|d,a|f,z|d,a|z,z|e,c|e,c|f,z|e,b|f,c|d,b|z,z|d,z|f,b|e,b|e,a|e,a|e,c|z,c|z,b|f,a|d,b|d,b|d,a|d,z|z,z|f,a|f,b|z,a|z,c|f,z|d,c|z,c|e,b|z,b|z,z|e,c|d,a|z,a|e,b|d,z|e,z|d,b|f,a|f,c|f,a|d,c|z,b|f,b|d,z|f,a|f,c|e,z|f,b|e,b|e,z|z,a|d,a|e,z|z,c|d];a=1<<20;b=1<<31;c=a|b;d=1<<5;e=1<<15;f=d|e;var SP2=[c|f,b|e,z|e,a|f,a|z,z|d,c|d,b|f,b|d,c|f,c|e,b|z,b|e,a|z,z|d,c|d,a|e,a|d,b|f,z|z,b|z,z|e,a|f,c|z,a|d,
b|d,z|z,a|e,z|f,c|e,c|z,z|f,z|z,a|f,c|d,a|z,b|f,c|z,c|e,z|e,c|z,b|e,z|d,c|f,a|f,z|d,z|e,b|z,z|f,c|e,a|z,b|d,a|d,b|f,b|d,a|d,a|e,z|z,b|e,z|f,b|z,c|d,c|f,a|e];a=1<<17;b=1<<27;c=a|b;d=1<<3;e=1<<9;f=d|e;var SP3=[z|f,c|e,z|z,c|d,b|e,z|z,a|f,b|e,a|d,b|d,b|d,a|z,c|f,a|d,c|z,z|f,b|z,z|d,c|e,z|e,a|e,c|z,c|d,a|f,b|f,a|e,a|z,b|f,z|d,c|f,z|e,b|z,c|e,b|z,a|d,z|f,a|z,c|e,b|e,z|z,z|e,a|d,c|f,b|e,b|d,z|e,z|z,c|d,b|f,a|z,b|z,c|f,z|d,a|f,a|e,b|d,c|z,b|f,z|f,c|z,a|f,z|d,c|d,a|e];a=1<<13;b=1<<23;c=a|b;d=1<<0;e=1<<7;
f=d|e;var SP4=[c|d,a|f,a|f,z|e,c|e,b|f,b|d,a|d,z|z,c|z,c|z,c|f,z|f,z|z,b|e,b|d,z|d,a|z,b|z,c|d,z|e,b|z,a|d,a|e,b|f,z|d,a|e,b|e,a|z,c|e,c|f,z|f,b|e,b|d,c|z,c|f,z|f,z|z,z|z,c|z,a|e,b|e,b|f,z|d,c|d,a|f,a|f,z|e,c|f,z|f,z|d,a|z,b|d,a|d,c|e,b|f,a|d,a|e,b|z,c|d,z|e,b|z,a|z,c|e];a=1<<25;b=1<<30;c=a|b;d=1<<8;e=1<<19;f=d|e;var SP5=[z|d,a|f,a|e,c|d,z|e,z|d,b|z,a|e,b|f,z|e,a|d,b|f,c|d,c|e,z|f,b|z,a|z,b|e,b|e,z|z,b|d,c|f,c|f,a|d,c|e,b|d,z|z,c|z,a|f,a|z,c|z,z|f,z|e,c|d,z|d,a|z,b|z,a|e,c|d,b|f,a|d,b|z,c|e,a|f,b|
f,z|d,a|z,c|e,c|f,z|f,c|z,c|f,a|e,z|z,b|e,c|z,z|f,a|d,b|d,z|e,z|z,b|e,a|f,b|d];a=1<<22;b=1<<29;c=a|b;d=1<<4;e=1<<14;f=d|e;var SP6=[b|d,c|z,z|e,c|f,c|z,z|d,c|f,a|z,b|e,a|f,a|z,b|d,a|d,b|e,b|z,z|f,z|z,a|d,b|f,z|e,a|e,b|f,z|d,c|d,c|d,z|z,a|f,c|e,z|f,a|e,c|e,b|z,b|e,z|d,c|d,a|e,c|f,a|z,z|f,b|d,a|z,b|e,b|z,z|f,b|d,c|f,a|e,c|z,a|f,c|e,z|z,c|d,z|d,z|e,c|z,a|f,z|e,a|d,b|f,z|z,c|e,b|z,a|d,b|f];a=1<<21;b=1<<26;c=a|b;d=1<<1;e=1<<11;f=d|e;var SP7=[a|z,c|d,b|f,z|z,z|e,b|f,a|f,c|e,c|f,a|z,z|z,b|d,z|d,b|z,c|d,z|
f,b|e,a|f,a|d,b|e,b|d,c|z,c|e,a|d,c|z,z|e,z|f,c|f,a|e,z|d,b|z,a|e,b|z,a|e,a|z,b|f,b|f,c|d,c|d,z|d,a|d,b|z,b|e,a|z,c|e,z|f,a|f,c|e,z|f,b|d,c|f,c|z,a|e,z|z,z|d,c|f,z|z,a|f,c|z,z|e,b|d,b|e,z|e,a|d];a=1<<18;b=1<<28;c=a|b;d=1<<6;e=1<<12;f=d|e;var SP8=[b|f,z|e,a|z,c|f,b|z,b|f,z|d,b|z,a|d,c|z,c|f,a|e,c|e,a|f,z|e,z|d,c|z,b|d,b|e,z|f,a|e,a|d,c|d,c|e,z|f,z|z,z|z,c|d,b|d,b|e,a|f,a|z,a|f,a|z,c|e,z|e,z|d,c|d,z|e,a|f,b|e,z|d,b|d,c|z,c|d,b|z,a|z,b|f,z|z,c|f,a|d,b|d,c|z,b|e,b|f,z|z,c|f,a|e,a|e,z|f,z|f,a|d,b|z,c|
e];var DES=function(){function DES(password){_classCallCheck(this,DES);this.keys=[];var pc1m=[],pcr=[],kn=[];for(var j=0,l=56;j<56;++j,l-=8){l+=l<-5?65:l<-3?31:l<-1?63:l===27?35:0;var m=l&7; __set$(pc1m,j,(__get$(password,l>>>3)&1<<m)!==0?1:0) }for(var i=0;i<16;++i){var _m=i<<1;var n=_m+1; __set$(kn,_m,__set$(kn,n,0)) ;for(var o=28;o<59;o+=28)for(var _j=o-28;_j<o;++_j){var _l=_j+ __get$(totrot,i) ; __set$(pcr,_j,_l<o?__get$(pc1m,_l):__get$(pc1m,_l-28)) }for(var _j2=0;_j2<24;++_j2){if( __get$(pcr,__get$(PC2,_j2)) !==0)kn[_m]|=1<<23-_j2;if( __get$(pcr,__get$(PC2,_j2+24)) !==0)kn[n]|=1<<23-_j2}}for(var _i=
0,rawi=0,KnLi=0;_i<16;++_i){var raw0= __get$(kn,rawi++) ;var raw1= __get$(kn,rawi++) ; __set$(this.keys,KnLi,(raw0&16515072)<<6) ;this.keys[KnLi]|=(raw0&4032)<<10;this.keys[KnLi]|=(raw1&16515072)>>>10;this.keys[KnLi]|=(raw1&4032)>>>6;++KnLi; __set$(this.keys,KnLi,(raw0&258048)<<12) ;this.keys[KnLi]|=(raw0&63)<<16;this.keys[KnLi]|=(raw1&258048)>>>4;this.keys[KnLi]|=raw1&63;++KnLi}}return _createClass(DES,[{key:"enc8",value:function enc8(text){var b=text.slice();var i=0,l,r,x;l= __get$(b,i++) <<24| __get$(b,i++) <<16| __get$(b,i++) <<8| __get$(b,i++) ;r= __get$(b,i++) <<24| __get$(b,i++) <<
16| __get$(b,i++) <<8| __get$(b,i++) ;x=(l>>>4^r)&252645135;r^=x;l^=x<<4;x=(l>>>16^r)&65535;r^=x;l^=x<<16;x=(r>>>2^l)&858993459;l^=x;r^=x<<2;x=(r>>>8^l)&16711935;l^=x;r^=x<<8;r=r<<1|r>>>31&1;x=(l^r)&2863311530;l^=x;r^=x;l=l<<1|l>>>31&1;for(var _i2=0,keysi=0;_i2<8;++_i2){x=r<<28|r>>>4;x^= __get$(this.keys,keysi++) ;var fval= __get$(SP7,x&63) ;fval|= __get$(SP5,x>>>8&63) ;fval|= __get$(SP3,x>>>16&63) ;fval|= __get$(SP1,x>>>24&63) ;x=r^ __get$(this.keys,keysi++) ;fval|= __get$(SP8,x&63) ;fval|= __get$(SP6,x>>>8&63) ;fval|= __get$(SP4,x>>>16&63) ;fval|= __get$(SP2,x>>>24&63) ;l^=fval;x=l<<28|l>>>4;x^= __get$(this.keys,keysi++) ;
fval= __get$(SP7,x&63) ;fval|= __get$(SP5,x>>>8&63) ;fval|= __get$(SP3,x>>>16&63) ;fval|= __get$(SP1,x>>>24&63) ;x=l^ __get$(this.keys,keysi++) ;fval|= __get$(SP8,x&63) ;fval|= __get$(SP6,x>>>8&63) ;fval|= __get$(SP4,x>>>16&63) ;fval|= __get$(SP2,x>>>24&63) ;r^=fval}r=r<<31|r>>>1;x=(l^r)&2863311530;l^=x;r^=x;l=l<<31|l>>>1;x=(l>>>8^r)&16711935;r^=x;l^=x<<8;x=(l>>>2^r)&858993459;r^=x;l^=x<<2;x=(r>>>16^l)&65535;l^=x;r^=x<<16;x=(r>>>4^l)&252645135;l^=x;r^=x<<4;x=[r,l];for(i=0;i<8;i++){ __set$(b,i,(__get$(x,i>>>2)>>>8*(3-i%4))%256) ;if( __get$(b,i) <0) __set$(b,i,__get$(b,i)+256) }return b}}])}();var DESECBCipher=exports.DESECBCipher=
function(){function DESECBCipher(){_classCallCheck(this,DESECBCipher);this._cipher=null}return _createClass(DESECBCipher,[{key:"algorithm",get:function get(){return{name:"DES-ECB"}}},{key:"_importKey",value:function _importKey(key,_extractable,_keyUsages){this._cipher=new DES(key)}},{key:"encrypt",value:function encrypt(_algorithm,plaintext){var x=new Uint8Array(plaintext);if(x.length%8!==0||this._cipher===null)return null;var n=x.length/8;for(var i=0;i<n;i++)x.set(this._cipher.enc8(x.slice(i*8,i*
8+8)),i*8);return x}}],[{key:"importKey",value:function importKey(key,_algorithm,_extractable,_keyUsages){var cipher=new DESECBCipher;cipher._importKey(key);return cipher}}])}();var DESCBCCipher=exports.DESCBCCipher=function(){function DESCBCCipher(){_classCallCheck(this,DESCBCCipher);this._cipher=null}return _createClass(DESCBCCipher,[{key:"algorithm",get:function get(){return{name:"DES-CBC"}}},{key:"_importKey",value:function _importKey(key){this._cipher=new DES(key)}},{key:"encrypt",value:function encrypt(algorithm,
plaintext){var x=new Uint8Array(plaintext);var y=new Uint8Array(algorithm.iv);if(x.length%8!==0||this._cipher===null)return null;var n=x.length/8;for(var i=0;i<n;i++){for(var j=0;j<8;j++)y[j]^= __get$(plaintext,i*8+j) ;y=this._cipher.enc8(y);x.set(y,i*8)}return x}}],[{key:"importKey",value:function importKey(key,_algorithm,_extractable,_keyUsages){var cipher=new DESCBCCipher;cipher._importKey(key);return cipher}}])}()},"./node_modules/@novnc/novnc/lib/crypto/dh.js":(__unused_webpack_module,exports,__webpack_require__)=>
{Object.defineProperty(exports,"__esModule",{value:true});exports.DHCipher=void 0;var _bigint=__webpack_require__("./node_modules/@novnc/novnc/lib/crypto/bigint.js");function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");
}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;
var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var DHPublicKey=function(){function DHPublicKey(key){_classCallCheck(this,DHPublicKey);this._key=key}return _createClass(DHPublicKey,[{key:"algorithm",get:function get(){return{name:"DH"}}},{key:"exportKey",value:function exportKey(){return this._key}}])}();var DHCipher=exports.DHCipher=function(){function DHCipher(){_classCallCheck(this,
DHCipher);this._g=null;this._p=null;this._gBigInt=null;this._pBigInt=null;this._privateKey=null}return _createClass(DHCipher,[{key:"algorithm",get:function get(){return{name:"DH"}}},{key:"_generateKey",value:function _generateKey(algorithm){var g=algorithm.g;var p=algorithm.p;this._keyBytes=p.length;this._gBigInt=(0,_bigint.u8ArrayToBigInt)(g);this._pBigInt=(0,_bigint.u8ArrayToBigInt)(p);this._privateKey=window.crypto.getRandomValues(new Uint8Array(this._keyBytes));this._privateKeyBigInt=(0,_bigint.u8ArrayToBigInt)(this._privateKey);
this._publicKey=(0,_bigint.bigIntToU8Array)((0,_bigint.modPow)(this._gBigInt,this._privateKeyBigInt,this._pBigInt),this._keyBytes)}},{key:"deriveBits",value:function deriveBits(algorithm,length){var bytes=Math.ceil(length/8);var pkey=new Uint8Array(algorithm["public"]);var len=bytes>this._keyBytes?bytes:this._keyBytes;var secret=(0,_bigint.modPow)((0,_bigint.u8ArrayToBigInt)(pkey),this._privateKeyBigInt,this._pBigInt);return(0,_bigint.bigIntToU8Array)(secret,len).slice(0,len)}}],[{key:"generateKey",
value:function generateKey(algorithm,_extractable){var cipher=new DHCipher;cipher._generateKey(algorithm);return{privateKey:cipher,publicKey:new DHPublicKey(cipher._publicKey)}}}])}()},"./node_modules/@novnc/novnc/lib/crypto/md5.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports.MD5=MD5;function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&
"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){ __set$(t,e,r.value) },i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,
configurable:!0,writable:!0}), __get$(t,e) }try{define({},"")}catch(t){define=function define(t,e,r){return  __set$(t,e,r) }}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}
function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){define(t,e,function(t){return this._invoke(e,t)})})}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch( __get$(t,r) ,t,o);if("throw"!==c.type){var u=
c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){invoke("next",t,i,a)},function(t){invoke("throw",t,i,a)}):e.resolve(h).then(function(t){u.value=t,i(u)},function(t){return invoke("throw",t,i,a)})}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e(function(e,r){invoke(t,n,e,r)})}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,
r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===
y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o= __get$(e.iterator,n) ;if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=
null,y;var a=i.arg;return a?a.done?( __set$(r,e.resultName,a.value) ,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=
[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r= __get$(e,a) ;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value= __get$(e,o) ,next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable");}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,
configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,
"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,function(){return this}),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,function(){return this}),define(g,
"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===
r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&( __set$(this,r,t) )},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i= __get$(this.tryEntries,o) ,a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=
n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o= __get$(this.tryEntries,r) ;if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<
o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-
1;e>=0;--e){var r= __get$(this.tryEntries,e) ;if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},"catch":function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r= __get$(this.tryEntries,e) ;if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt");},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},
e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i= __call$(n,a,[c]) ,u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function MD5(_x){return _MD.apply(this,arguments)}function _MD(){_MD=_asyncToGenerator(_regeneratorRuntime().mark(function _callee(d){var s,
i;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:s="";for(i=0;i<d.length;i++)s+=String.fromCharCode( __get$(d,i) );return _context.abrupt("return",M(V(Y(X(s),8*s.length))));case 3:case "end":return _context.stop()}},_callee)}));return _MD.apply(this,arguments)}function M(d){var f=new Uint8Array(d.length);for(var i=0;i<d.length;i++) __set$(f,i,d.charCodeAt(i)) ;return f}function X(d){var r=Array(d.length>>2);for(var m=0;m<r.length;m++) __set$(r,m,0) ;for(var _m=
0;_m<8*d.length;_m+=8)r[_m>>5]|=(255&d.charCodeAt(_m/8))<<_m%32;return r}function V(d){var r="";for(var m=0;m<32*d.length;m+=8)r+=String.fromCharCode( __get$(d,m>>5) >>>m%32&255);return r}function Y(d,g){d[g>>5]|=128<<g%32, __set$(d,14+(g+64>>>9<<4),g) ;var m=1732584193,f=-271733879,r=-1732584194,i=271733878;for(var n=0;n<d.length;n+=16){var h=m,t=f,_g=r,e=i;f=ii(f=ii(f=ii(f=ii(f=hh(f=hh(f=hh(f=hh(f=gg(f=gg(f=gg(f=gg(f=ff(f=ff(f=ff(f=ff(f,r=ff(r,i=ff(i,m=ff(m,f,r,i, __get$(d,n+0) ,7,-680876936),f,r, __get$(d,n+1) ,12,-389564586),m,
f, __get$(d,n+2) ,17,606105819),i,m, __get$(d,n+3) ,22,-1044525330),r=ff(r,i=ff(i,m=ff(m,f,r,i, __get$(d,n+4) ,7,-176418897),f,r, __get$(d,n+5) ,12,1200080426),m,f, __get$(d,n+6) ,17,-1473231341),i,m, __get$(d,n+7) ,22,-45705983),r=ff(r,i=ff(i,m=ff(m,f,r,i, __get$(d,n+8) ,7,1770035416),f,r, __get$(d,n+9) ,12,-1958414417),m,f, __get$(d,n+10) ,17,-42063),i,m, __get$(d,n+11) ,22,-1990404162),r=ff(r,i=ff(i,m=ff(m,f,r,i, __get$(d,n+12) ,7,1804603682),f,r, __get$(d,n+13) ,12,-40341101),m,f, __get$(d,n+14) ,17,-1502002290),i,m, __get$(d,n+15) ,22,1236535329),r=gg(r,i=gg(i,m=gg(m,f,r,i, __get$(d,n+1) ,5,-165796510),f,r, __get$(d,n+6) ,9,-1069501632),
m,f, __get$(d,n+11) ,14,643717713),i,m, __get$(d,n+0) ,20,-373897302),r=gg(r,i=gg(i,m=gg(m,f,r,i, __get$(d,n+5) ,5,-701558691),f,r, __get$(d,n+10) ,9,38016083),m,f, __get$(d,n+15) ,14,-660478335),i,m, __get$(d,n+4) ,20,-405537848),r=gg(r,i=gg(i,m=gg(m,f,r,i, __get$(d,n+9) ,5,568446438),f,r, __get$(d,n+14) ,9,-1019803690),m,f, __get$(d,n+3) ,14,-187363961),i,m, __get$(d,n+8) ,20,1163531501),r=gg(r,i=gg(i,m=gg(m,f,r,i, __get$(d,n+13) ,5,-1444681467),f,r, __get$(d,n+2) ,9,-51403784),m,f, __get$(d,n+7) ,14,1735328473),i,m, __get$(d,n+12) ,20,-1926607734),r=hh(r,i=hh(i,m=hh(m,f,r,i, __get$(d,n+5) ,4,-378558),f,r, __get$(d,n+8) ,11,-2022574463),
m,f, __get$(d,n+11) ,16,1839030562),i,m, __get$(d,n+14) ,23,-35309556),r=hh(r,i=hh(i,m=hh(m,f,r,i, __get$(d,n+1) ,4,-1530992060),f,r, __get$(d,n+4) ,11,1272893353),m,f, __get$(d,n+7) ,16,-155497632),i,m, __get$(d,n+10) ,23,-1094730640),r=hh(r,i=hh(i,m=hh(m,f,r,i, __get$(d,n+13) ,4,681279174),f,r, __get$(d,n+0) ,11,-358537222),m,f, __get$(d,n+3) ,16,-722521979),i,m, __get$(d,n+6) ,23,76029189),r=hh(r,i=hh(i,m=hh(m,f,r,i, __get$(d,n+9) ,4,-640364487),f,r, __get$(d,n+12) ,11,-421815835),m,f, __get$(d,n+15) ,16,530742520),i,m, __get$(d,n+2) ,23,-995338651),r=ii(r,i=ii(i,m=ii(m,f,r,i, __get$(d,n+0) ,6,-198630844),f,r, __get$(d,n+7) ,10,1126891415),
m,f, __get$(d,n+14) ,15,-1416354905),i,m, __get$(d,n+5) ,21,-57434055),r=ii(r,i=ii(i,m=ii(m,f,r,i, __get$(d,n+12) ,6,1700485571),f,r, __get$(d,n+3) ,10,-1894986606),m,f, __get$(d,n+10) ,15,-1051523),i,m, __get$(d,n+1) ,21,-2054922799),r=ii(r,i=ii(i,m=ii(m,f,r,i, __get$(d,n+8) ,6,1873313359),f,r, __get$(d,n+15) ,10,-30611744),m,f, __get$(d,n+6) ,15,-1560198380),i,m, __get$(d,n+13) ,21,1309151649),r=ii(r,i=ii(i,m=ii(m,f,r,i, __get$(d,n+4) ,6,-145523070),f,r, __get$(d,n+11) ,10,-1120210379),m,f, __get$(d,n+2) ,15,718787259),i,m, __get$(d,n+9) ,21,-343485551),m=add(m,h),f=add(f,t),r=add(r,_g),i=add(i,e)}return Array(m,f,r,i)}
function cmn(d,g,m,f,r,i){return add(rol(add(add(g,d),add(f,i)),r),m)}function ff(d,g,m,f,r,i,n){return cmn(g&m|~g&f,d,g,r,i,n)}function gg(d,g,m,f,r,i,n){return cmn(g&f|m&~f,d,g,r,i,n)}function hh(d,g,m,f,r,i,n){return cmn(g^m^f,d,g,r,i,n)}function ii(d,g,m,f,r,i,n){return cmn(m^(g|~f),d,g,r,i,n)}function add(d,g){var m=(65535&d)+(65535&g);return(d>>16)+(g>>16)+(m>>16)<<16|65535&m}function rol(d,g){return d<<g|d>>>32-g}},"./node_modules/@novnc/novnc/lib/crypto/rsa.js":(__unused_webpack_module,exports,
__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports.RSACipher=void 0;var _base=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/base64.js"));var _bigint=__webpack_require__("./node_modules/@novnc/novnc/lib/crypto/bigint.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:
function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){ __set$(t,e,r.value) },i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,
e,{value:r,enumerable:!0,configurable:!0,writable:!0}), __get$(t,e) }try{define({},"")}catch(t){define=function define(t,e,r){return  __set$(t,e,r) }}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",
y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){define(t,e,function(t){return this._invoke(e,t)})})}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch( __get$(t,r) ,
t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){invoke("next",t,i,a)},function(t){invoke("throw",t,i,a)}):e.resolve(h).then(function(t){u.value=t,i(u)},function(t){return invoke("throw",t,i,a)})}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e(function(e,r){invoke(t,n,e,r)})}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}
function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=
n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o= __get$(e.iterator,n) ;if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",
r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?( __set$(r,e.resultName,a.value) ,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=
[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r= __get$(e,a) ;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value= __get$(e,o) ,next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable");}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,
configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,
"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,function(){return this}),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,function(){return this}),define(g,
"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===
r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&( __set$(this,r,t) )},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i= __get$(this.tryEntries,o) ,a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=
n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o= __get$(this.tryEntries,r) ;if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<
o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-
1;e>=0;--e){var r= __get$(this.tryEntries,e) ;if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},"catch":function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r= __get$(this.tryEntries,e) ;if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt");},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},
e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i= __call$(n,a,[c]) ,u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");
}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;
var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var RSACipher=exports.RSACipher=function(){function RSACipher(){_classCallCheck(this,RSACipher);this._keyLength=0;this._keyBytes=0;this._n=null;this._e=null;this._d=null;this._nBigInt=null;this._eBigInt=null;this._dBigInt=null;this._extractable=false}return _createClass(RSACipher,[{key:"algorithm",
get:function get(){return{name:"RSA-PKCS1-v1_5"}}},{key:"_base64urlDecode",value:function _base64urlDecode(data){data= __call$(__call$(data,"replace",[/-/g,"+"]),"replace",[/_/g,"/"]) ;data=data.padEnd(Math.ceil(data.length/4)*4,"=");return _base["default"].decode(data)}},{key:"_padArray",value:function _padArray(arr,length){var res=new Uint8Array(length);res.set(arr,length-arr.length);return res}},{key:"_generateKey",value:function(){var _generateKey2=_asyncToGenerator(_regeneratorRuntime().mark(function _callee(algorithm,
extractable){var key,privateKey;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:this._keyLength=algorithm.modulusLength;this._keyBytes=Math.ceil(this._keyLength/8);_context.next=4;return window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:algorithm.modulusLength,publicExponent:algorithm.publicExponent,hash:{name:"SHA-256"}},true,["encrypt","decrypt"]);case 4:key=_context.sent;_context.next=7;return window.crypto.subtle.exportKey("jwk",
key.privateKey);case 7:privateKey=_context.sent;this._n=this._padArray(this._base64urlDecode(privateKey.n),this._keyBytes);this._nBigInt=(0,_bigint.u8ArrayToBigInt)(this._n);this._e=this._padArray(this._base64urlDecode(privateKey.e),this._keyBytes);this._eBigInt=(0,_bigint.u8ArrayToBigInt)(this._e);this._d=this._padArray(this._base64urlDecode(privateKey.d),this._keyBytes);this._dBigInt=(0,_bigint.u8ArrayToBigInt)(this._d);this._extractable=extractable;case 15:case "end":return _context.stop()}},_callee,
this)}));function _generateKey(_x,_x2){return _generateKey2.apply(this,arguments)}return _generateKey}()},{key:"_importKey",value:function(){var _importKey2=_asyncToGenerator(_regeneratorRuntime().mark(function _callee2(key,extractable){var n,e;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:n=key.n;e=key.e;if(!(n.length!==e.length)){_context2.next=4;break}throw new Error("the sizes of modulus and public exponent do not match");
case 4:this._keyBytes=n.length;this._keyLength=this._keyBytes*8;this._n=new Uint8Array(this._keyBytes);this._e=new Uint8Array(this._keyBytes);this._n.set(n);this._e.set(e);this._nBigInt=(0,_bigint.u8ArrayToBigInt)(this._n);this._eBigInt=(0,_bigint.u8ArrayToBigInt)(this._e);this._extractable=extractable;case 13:case "end":return _context2.stop()}},_callee2,this)}));function _importKey(_x3,_x4){return _importKey2.apply(this,arguments)}return _importKey}()},{key:"encrypt",value:function(){var _encrypt=
_asyncToGenerator(_regeneratorRuntime().mark(function _callee3(_algorithm,message){var ps,i,em,emBigInt,c;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(!(message.length>this._keyBytes-11)){_context3.next=2;break}return _context3.abrupt("return",null);case 2:ps=new Uint8Array(this._keyBytes-message.length-3);window.crypto.getRandomValues(ps);for(i=0;i<ps.length;i++) __set$(ps,i,Math.floor(__get$(ps,i)*254/255+1)) ;em=new Uint8Array(this._keyBytes);
em[1]=2;em.set(ps,2);em.set(message,ps.length+3);emBigInt=(0,_bigint.u8ArrayToBigInt)(em);c=(0,_bigint.modPow)(emBigInt,this._eBigInt,this._nBigInt);return _context3.abrupt("return",(0,_bigint.bigIntToU8Array)(c,this._keyBytes));case 12:case "end":return _context3.stop()}},_callee3,this)}));function encrypt(_x5,_x6){return _encrypt.apply(this,arguments)}return encrypt}()},{key:"decrypt",value:function(){var _decrypt=_asyncToGenerator(_regeneratorRuntime().mark(function _callee4(_algorithm,message){var msgBigInt,
emBigInt,em,i;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:if(!(message.length!==this._keyBytes)){_context4.next=2;break}return _context4.abrupt("return",null);case 2:msgBigInt=(0,_bigint.u8ArrayToBigInt)(message);emBigInt=(0,_bigint.modPow)(msgBigInt,this._dBigInt,this._nBigInt);em=(0,_bigint.bigIntToU8Array)(emBigInt,this._keyBytes);if(!(em[0]!==0||em[1]!==2)){_context4.next=7;break}return _context4.abrupt("return",null);case 7:i=
2;case 8:if(!(i<em.length)){_context4.next=14;break}if(!( __get$(em,i) ===0)){_context4.next=11;break}return _context4.abrupt("break",14);case 11:i++;_context4.next=8;break;case 14:if(!(i===em.length)){_context4.next=16;break}return _context4.abrupt("return",null);case 16:return _context4.abrupt("return",em.slice(i+1,em.length));case 17:case "end":return _context4.stop()}},_callee4,this)}));function decrypt(_x7,_x8){return _decrypt.apply(this,arguments)}return decrypt}()},{key:"exportKey",value:function(){var _exportKey=
_asyncToGenerator(_regeneratorRuntime().mark(function _callee5(){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:if(this._extractable){_context5.next=2;break}throw new Error("key is not extractable");case 2:return _context5.abrupt("return",{n:this._n,e:this._e,d:this._d});case 3:case "end":return _context5.stop()}},_callee5,this)}));function exportKey(){return _exportKey.apply(this,arguments)}return exportKey}()}],[{key:"generateKey",
value:function(){var _generateKey3=_asyncToGenerator(_regeneratorRuntime().mark(function _callee6(algorithm,extractable,_keyUsages){var cipher;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:cipher=new RSACipher;_context6.next=3;return cipher._generateKey(algorithm,extractable);case 3:return _context6.abrupt("return",{privateKey:cipher});case 4:case "end":return _context6.stop()}},_callee6)}));function generateKey(_x9,_x10,_x11){return _generateKey3.apply(this,
arguments)}return generateKey}()},{key:"importKey",value:function(){var _importKey3=_asyncToGenerator(_regeneratorRuntime().mark(function _callee7(key,_algorithm,extractable,keyUsages){var cipher;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:if(!(keyUsages.length!==1||keyUsages[0]!=="encrypt")){_context7.next=2;break}throw new Error("only support importing RSA public key");case 2:cipher=new RSACipher;_context7.next=5;return cipher._importKey(key,
extractable);case 5:return _context7.abrupt("return",cipher);case 6:case "end":return _context7.stop()}},_callee7)}));function importKey(_x12,_x13,_x14,_x15){return _importKey3.apply(this,arguments)}return importKey}()}])}()},"./node_modules/@novnc/novnc/lib/decoders/copyrect.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?
function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,
r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var CopyRectDecoder=exports["default"]=function(){function CopyRectDecoder(){_classCallCheck(this,
CopyRectDecoder)}return _createClass(CopyRectDecoder,[{key:"decodeRect",value:function decodeRect(x,y,width,height,sock,display,depth){if(sock.rQwait("COPYRECT",4))return false;var deltaX=sock.rQshift16();var deltaY=sock.rQshift16();if(width===0||height===0)return true;display.copyImage(deltaX,deltaY,x,y,width,height);return true}}])}()},"./node_modules/@novnc/novnc/lib/decoders/h264.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});
exports["default"]=exports.H264Parser=exports.H264Context=void 0;var Log=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/util/logging.js"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};
var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,n),n}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:
function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(r,a){if(r){if("string"==
typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++) __set$(n,e,__get$(r,e)) ;return n}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&& __get$(r,Symbol.iterator) ||r["@@iterator"];
if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n;}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=
0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==
e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var H264Parser=exports.H264Parser=function(){function H264Parser(data){_classCallCheck(this,H264Parser);this._data=data;this._index=0;this.profileIdc=null;this.constraintSet=null;this.levelIdc=null}return _createClass(H264Parser,[{key:"_getStartSequenceLen",value:function _getStartSequenceLen(index){var data=this._data;if( __get$(data,index+0) ==0&& __get$(data,index+1) ==0&& __get$(data,index+2) ==0&& __get$(data,index+3) ==1)return 4;if( __get$(data,index+0) ==0&& __get$(data,index+1) ==0&& __get$(data,index+2) ==1)return 3;return 0}},{key:"_indexOfNextNalUnit",value:function _indexOfNextNalUnit(index){var data=this._data;for(var i=index;i<data.length;++i)if(this._getStartSequenceLen(i)!=0)return i;return-1}},{key:"_parseSps",value:function _parseSps(index){this.profileIdc= __get$(this._data,index) ;this.constraintSet= __get$(this._data,index+1) ;this.levelIdc= __get$(this._data,index+2) }},{key:"_parseNalUnit",
value:function _parseNalUnit(index){var firstByte= __get$(this._data,index) ;if(firstByte&128)throw new Error("H264 parsing sanity check failed, forbidden zero bit is set");var unitType=firstByte&31;switch(unitType){case 1:return{slice:true};case 5:return{slice:true,key:true};case 6:return{};case 7:this._parseSps(index+1);return{};case 8:return{};default:Log.Warn("Unhandled unit type: ",unitType);break}return{}}},{key:"parse",value:function parse(){var startIndex=this._index;var isKey=false;while(this._index<
this._data.length){var startSequenceLen=this._getStartSequenceLen(this._index);if(startSequenceLen==0)throw new Error("Invalid start sequence in bit stream");var _this$_parseNalUnit=this._parseNalUnit(this._index+startSequenceLen),slice=_this$_parseNalUnit.slice,key=_this$_parseNalUnit.key;var nextIndex=this._indexOfNextNalUnit(this._index+startSequenceLen);if(nextIndex==-1)this._index=this._data.length;else this._index=nextIndex;if(key)isKey=true;if(slice)break}if(startIndex===this._index)return null;
return{frame:this._data.subarray(startIndex,this._index),key:isKey}}}])}();var H264Context=exports.H264Context=function(){function H264Context(width,height){_classCallCheck(this,H264Context);this.lastUsed=0;this._width=width;this._height=height;this._profileIdc=null;this._constraintSet=null;this._levelIdc=null;this._decoder=null;this._pendingFrames=[]}return _createClass(H264Context,[{key:"_handleFrame",value:function _handleFrame(frame){var pending=this._pendingFrames.shift();if(pending===undefined)throw new Error("Pending frame queue empty when receiving frame from decoder");
if(pending.timestamp!=frame.timestamp)throw new Error("Video frame timestamp mismatch. Expected "+frame.timestamp+" but but got "+pending.timestamp);pending.frame=frame;pending.ready=true;pending.resolve();if(!pending.keep)frame.close()}},{key:"_handleError",value:function _handleError(e){throw new Error("Failed to decode frame: "+e.message);}},{key:"_configureDecoder",value:function _configureDecoder(profileIdc,constraintSet,levelIdc){var _this=this;if(this._decoder===null||this._decoder.state===
"closed")this._decoder=new VideoDecoder({output:function output(frame){return _this._handleFrame(frame)},error:function error(e){return _this._handleError(e)}});var codec="avc1."+profileIdc.toString(16).padStart(2,"0")+constraintSet.toString(16).padStart(2,"0")+levelIdc.toString(16).padStart(2,"0");this._decoder.configure({codec:codec,codedWidth:this._width,codedHeight:this._height,optimizeForLatency:true})}},{key:"_preparePendingFrame",value:function _preparePendingFrame(timestamp){var pending={timestamp:timestamp,
promise:null,resolve:null,frame:null,ready:false,keep:false};pending.promise=new Promise(function(resolve){pending.resolve=resolve});this._pendingFrames.push(pending);return pending}},{key:"decode",value:function decode(payload){var parser=new H264Parser(payload);var result=null;var timestamp=Math.round(window.performance.now()*1E3);while(true){var encodedFrame=parser.parse();if(encodedFrame===null)break;if(parser.profileIdc!==null){self._profileIdc=parser.profileIdc;self._constraintSet=parser.constraintSet;
self._levelIdc=parser.levelIdc}if(this._decoder===null||this._decoder.state!=="configured"){if(!encodedFrame.key){Log.Warn("Missing key frame. Can't decode until one arrives");continue}if(self._profileIdc===null){Log.Warn("Cannot config decoder. Have not received SPS and PPS yet.");continue}this._configureDecoder(self._profileIdc,self._constraintSet,self._levelIdc)}result=this._preparePendingFrame(timestamp);var chunk=new EncodedVideoChunk({timestamp:timestamp,type:encodedFrame.key?"key":"delta",
data:encodedFrame.frame});try{this._decoder.decode(chunk)}catch(e){Log.Warn("Failed to decode:",e)}}if(result!==null)result.keep=true;return result}}])}();var H264Decoder=exports["default"]=function(){function H264Decoder(){_classCallCheck(this,H264Decoder);this._tick=0;this._contexts={}}return _createClass(H264Decoder,[{key:"_contextId",value:function _contextId(x,y,width,height){return[x,y,width,height].join(",")}},{key:"_findOldestContextId",value:function _findOldestContextId(){var oldestTick=
Number.MAX_VALUE;var oldestKey=undefined;for(var _i=0,_Object$entries=Object.entries(this._contexts);_i<_Object$entries.length;_i++){var _Object$entries$_i=_slicedToArray( __get$(_Object$entries,_i) ,2),key=_Object$entries$_i[0],value=_Object$entries$_i[1];if(value.lastUsed<oldestTick){oldestTick=value.lastUsed;oldestKey=key}}return oldestKey}},{key:"_createContext",value:function _createContext(x,y,width,height){var maxContexts=64;if(Object.keys(this._contexts).length>=maxContexts){var oldestContextId=this._findOldestContextId();
delete this._contexts[oldestContextId]}var context=new H264Context(width,height); __set$(this._contexts,this._contextId(x,y,width,height),context) ;return context}},{key:"_getContext",value:function _getContext(x,y,width,height){var context= __get$(this._contexts,this._contextId(x,y,width,height)) ;return context!==undefined?context:this._createContext(x,y,width,height)}},{key:"_resetContext",value:function _resetContext(x,y,width,height){delete this._contexts[this._contextId(x,y,width,height)]}},{key:"_resetAllContexts",
value:function _resetAllContexts(){this._contexts={}}},{key:"decodeRect",value:function decodeRect(x,y,width,height,sock,display,depth){var resetContextFlag=1;var resetAllContextsFlag=2;if(sock.rQwait("h264 header",8))return false;var length=sock.rQshift32();var flags=sock.rQshift32();if(sock.rQwait("h264 payload",length,8))return false;if(flags&resetAllContextsFlag)this._resetAllContexts();else if(flags&resetContextFlag)this._resetContext(x,y,width,height);var context=this._getContext(x,y,width,
height);context.lastUsed=this._tick++;if(length!==0){var payload=sock.rQshiftBytes(length,false);var frame=context.decode(payload);if(frame!==null)display.videoFrame(x,y,width,height,frame)}return true}}])}()},"./node_modules/@novnc/novnc/lib/decoders/hextile.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var Log=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/util/logging.js"));
function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==
u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,n),n}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");
}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;
var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var HextileDecoder=exports["default"]=function(){function HextileDecoder(){_classCallCheck(this,HextileDecoder);this._tiles=0;this._lastsubencoding=0;this._tileBuffer=new Uint8Array(16*16*4)}return _createClass(HextileDecoder,[{key:"decodeRect",value:function decodeRect(x,y,width,height,sock,
display,depth){if(this._tiles===0){this._tilesX=Math.ceil(width/16);this._tilesY=Math.ceil(height/16);this._totalTiles=this._tilesX*this._tilesY;this._tiles=this._totalTiles}while(this._tiles>0){var bytes=1;if(sock.rQwait("HEXTILE",bytes))return false;var subencoding=sock.rQpeek8();if(subencoding>30)throw new Error("Illegal hextile subencoding (subencoding: "+subencoding+")");var currTile=this._totalTiles-this._tiles;var tileX=currTile%this._tilesX;var tileY=Math.floor(currTile/this._tilesX);var tx=
x+tileX*16;var ty=y+tileY*16;var tw=Math.min(16,x+width-tx);var th=Math.min(16,y+height-ty);if(subencoding&1)bytes+=tw*th*4;else{if(subencoding&2)bytes+=4;if(subencoding&4)bytes+=4;if(subencoding&8){bytes++;if(sock.rQwait("HEXTILE",bytes))return false;var subrects=sock.rQpeekBytes(bytes).at(-1);if(subencoding&16)bytes+=subrects*(4+2);else bytes+=subrects*2}}if(sock.rQwait("HEXTILE",bytes))return false;sock.rQshift8();if(subencoding===0)if(this._lastsubencoding&1)Log.Debug("     Ignoring blank after RAW");
else display.fillRect(tx,ty,tw,th,this._background);else if(subencoding&1){var pixels=tw*th;var data=sock.rQshiftBytes(pixels*4,false);for(var i=0;i<pixels;i++) __set$(data,i*4+3,255) ;display.blitImage(tx,ty,tw,th,data,0)}else{if(subencoding&2)this._background=new Uint8Array(sock.rQshiftBytes(4));if(subencoding&4)this._foreground=new Uint8Array(sock.rQshiftBytes(4));this._startTile(tx,ty,tw,th,this._background);if(subencoding&8){var _subrects=sock.rQshift8();for(var s=0;s<_subrects;s++){var color=void 0;
if(subencoding&16)color=sock.rQshiftBytes(4);else color=this._foreground;var xy=sock.rQshift8();var sx=xy>>4;var sy=xy&15;var wh=sock.rQshift8();var sw=(wh>>4)+1;var sh=(wh&15)+1;this._subTile(sx,sy,sw,sh,color)}}this._finishTile(display)}this._lastsubencoding=subencoding;this._tiles--}return true}},{key:"_startTile",value:function _startTile(x,y,width,height,color){this._tileX=x;this._tileY=y;this._tileW=width;this._tileH=height;var red=color[0];var green=color[1];var blue=color[2];var data=this._tileBuffer;
for(var i=0;i<width*height*4;i+=4){ __set$(data,i,red) ; __set$(data,i+1,green) ; __set$(data,i+2,blue) ; __set$(data,i+3,255) }}},{key:"_subTile",value:function _subTile(x,y,w,h,color){var red=color[0];var green=color[1];var blue=color[2];var xend=x+w;var yend=y+h;var data=this._tileBuffer;var width=this._tileW;for(var j=y;j<yend;j++)for(var i=x;i<xend;i++){var p=(i+j*width)*4; __set$(data,p,red) ; __set$(data,p+1,green) ; __set$(data,p+2,blue) ; __set$(data,p+3,255) }}},{key:"_finishTile",value:function _finishTile(display){display.blitImage(this._tileX,this._tileY,
this._tileW,this._tileH,this._tileBuffer,0)}}])}()},"./node_modules/@novnc/novnc/lib/decoders/jpeg.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||
_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!= __get$(r,Symbol.iterator) ||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _createForOfIteratorHelper(r,
e){var t="undefined"!=typeof Symbol&& __get$(r,Symbol.iterator) ||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value: __get$(r,_n++) }},e:function e(r){throw r;},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var o,a=!0,u=!1;return{s:function s(){t=
t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o;}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,
a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++) __set$(n,e,__get$(r,e)) ;return n}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,
"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var JPEGDecoder=exports["default"]=function(){function JPEGDecoder(){_classCallCheck(this,JPEGDecoder);this._cachedQuantTables=
[];this._cachedHuffmanTables=[];this._segments=[]}return _createClass(JPEGDecoder,[{key:"decodeRect",value:function decodeRect(x,y,width,height,sock,display,depth){while(true){var segment=this._readSegment(sock);if(segment===null)return false;this._segments.push(segment);if(segment[1]===217)break}var huffmanTables=[];var quantTables=[];var _iterator=_createForOfIteratorHelper(this._segments),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _segment=_step.value;var type=_segment[1];if(type===
196)huffmanTables.push(_segment);else if(type===219)quantTables.push(_segment)}}catch(err){_iterator.e(err)}finally{_iterator.f()}var sofIndex=this._segments.findIndex(function(x){return x[1]==192||x[1]==194});if(sofIndex==-1)throw new Error("Illegal JPEG image without SOF");if(quantTables.length===0){var _this$_segments;(_this$_segments=this._segments).splice.apply(_this$_segments,[sofIndex+1,0].concat(_toConsumableArray(this._cachedQuantTables)))}if(huffmanTables.length===0){var _this$_segments2;
(_this$_segments2=this._segments).splice.apply(_this$_segments2,[sofIndex+1,0].concat(_toConsumableArray(this._cachedHuffmanTables)))}var length=0;var _iterator2=_createForOfIteratorHelper(this._segments),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _segment2=_step2.value;length+=_segment2.length}}catch(err){_iterator2.e(err)}finally{_iterator2.f()}var data=new Uint8Array(length);length=0;var _iterator3=_createForOfIteratorHelper(this._segments),_step3;try{for(_iterator3.s();!(_step3=
_iterator3.n()).done;){var _segment3=_step3.value;data.set(_segment3,length);length+=_segment3.length}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}display.imageRect(x,y,width,height,"image/jpeg",data);if(huffmanTables.length!==0)this._cachedHuffmanTables=huffmanTables;if(quantTables.length!==0)this._cachedQuantTables=quantTables;this._segments=[];return true}},{key:"_readSegment",value:function _readSegment(sock){if(sock.rQwait("JPEG",2))return null;var marker=sock.rQshift8();if(marker!=255)throw new Error("Illegal JPEG marker received (byte: "+
marker+")");var type=sock.rQshift8();if(type>=208&&type<=217||type==1)return new Uint8Array([marker,type]);if(sock.rQwait("JPEG",2,2))return null;var length=sock.rQshift16();if(length<2)throw new Error("Illegal JPEG length received (length: "+length+")");if(sock.rQwait("JPEG",length-2,4))return null;var extra=0;if(type===218){extra+=2;while(true){if(sock.rQwait("JPEG",length-2+extra,4))return null;var data=sock.rQpeekBytes(length-2+extra,false);if(data.at(-2)===255&&data.at(-1)!==0&&!(data.at(-1)>=
208&&data.at(-1)<=215)){extra-=2;break}extra++}}var segment=new Uint8Array(2+length+extra);segment[0]=marker;segment[1]=type;segment[2]=length>>8;segment[3]=length;segment.set(sock.rQshiftBytes(length-2+extra,false),4);return segment}}])}()},"./node_modules/@novnc/novnc/lib/decoders/raw.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==
typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,
r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var RawDecoder=
exports["default"]=function(){function RawDecoder(){_classCallCheck(this,RawDecoder);this._lines=0}return _createClass(RawDecoder,[{key:"decodeRect",value:function decodeRect(x,y,width,height,sock,display,depth){if(width===0||height===0)return true;if(this._lines===0)this._lines=height;var pixelSize=depth==8?1:4;var bytesPerLine=width*pixelSize;while(this._lines>0){if(sock.rQwait("RAW",bytesPerLine))return false;var curY=y+(height-this._lines);var data=sock.rQshiftBytes(bytesPerLine,false);if(depth==
8){var newdata=new Uint8Array(width*4);for(var i=0;i<width;i++){ __set$(newdata,i*4+0,(__get$(data,i)>>0&3)*255/3) ; __set$(newdata,i*4+1,(__get$(data,i)>>2&3)*255/3) ; __set$(newdata,i*4+2,(__get$(data,i)>>4&3)*255/3) ; __set$(newdata,i*4+3,255) }data=newdata}for(var _i=0;_i<width;_i++) __set$(data,_i*4+3,255) ;display.blitImage(x,curY,width,1,data,0);this._lines--}return true}}])}()},"./node_modules/@novnc/novnc/lib/decoders/rre.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function _typeof(o){"@babel/helpers - typeof";
return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,
_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");
}return("string"===r?String:Number)(t)}var RREDecoder=exports["default"]=function(){function RREDecoder(){_classCallCheck(this,RREDecoder);this._subrects=0}return _createClass(RREDecoder,[{key:"decodeRect",value:function decodeRect(x,y,width,height,sock,display,depth){if(this._subrects===0){if(sock.rQwait("RRE",4+4))return false;this._subrects=sock.rQshift32();var color=sock.rQshiftBytes(4);display.fillRect(x,y,width,height,color)}while(this._subrects>0){if(sock.rQwait("RRE",4+8))return false;var _color=
sock.rQshiftBytes(4);var sx=sock.rQshift16();var sy=sock.rQshift16();var swidth=sock.rQshift16();var sheight=sock.rQshift16();display.fillRect(x+sx,y+sy,swidth,sheight,_color);this._subrects--}return true}}])}()},"./node_modules/@novnc/novnc/lib/decoders/tight.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var Log=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/util/logging.js"));
var _inflator=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/inflator.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};
var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,n),n}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:
function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),
t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var TightDecoder=exports["default"]=function(){function TightDecoder(){_classCallCheck(this,
TightDecoder);this._ctl=null;this._filter=null;this._numColors=0;this._palette=new Uint8Array(1024);this._len=0;this._zlibs=[];for(var i=0;i<4;i++) __set$(this._zlibs,i,new _inflator["default"]()) }return _createClass(TightDecoder,[{key:"decodeRect",value:function decodeRect(x,y,width,height,sock,display,depth){if(this._ctl===null){if(sock.rQwait("TIGHT compression-control",1))return false;this._ctl=sock.rQshift8();for(var i=0;i<4;i++)if(this._ctl>>i&1){ __get$(this._zlibs,i) .reset();Log.Info("Reset zlib stream "+i)}this._ctl=
this._ctl>>4}var ret;if(this._ctl===8)ret=this._fillRect(x,y,width,height,sock,display,depth);else if(this._ctl===9)ret=this._jpegRect(x,y,width,height,sock,display,depth);else if(this._ctl===10)ret=this._pngRect(x,y,width,height,sock,display,depth);else if((this._ctl&8)==0)ret=this._basicRect(this._ctl,x,y,width,height,sock,display,depth);else throw new Error("Illegal tight compression received (ctl: "+this._ctl+")");if(ret)this._ctl=null;return ret}},{key:"_fillRect",value:function _fillRect(x,
y,width,height,sock,display,depth){if(sock.rQwait("TIGHT",3))return false;var pixel=sock.rQshiftBytes(3);display.fillRect(x,y,width,height,pixel,false);return true}},{key:"_jpegRect",value:function _jpegRect(x,y,width,height,sock,display,depth){var data=this._readData(sock);if(data===null)return false;display.imageRect(x,y,width,height,"image/jpeg",data);return true}},{key:"_pngRect",value:function _pngRect(x,y,width,height,sock,display,depth){throw new Error("PNG received in standard Tight rect");
}},{key:"_basicRect",value:function _basicRect(ctl,x,y,width,height,sock,display,depth){if(this._filter===null)if(ctl&4){if(sock.rQwait("TIGHT",1))return false;this._filter=sock.rQshift8()}else this._filter=0;var streamId=ctl&3;var ret;switch(this._filter){case 0:ret=this._copyFilter(streamId,x,y,width,height,sock,display,depth);break;case 1:ret=this._paletteFilter(streamId,x,y,width,height,sock,display,depth);break;case 2:ret=this._gradientFilter(streamId,x,y,width,height,sock,display,depth);break;
default:throw new Error("Illegal tight filter received (ctl: "+this._filter+")");}if(ret)this._filter=null;return ret}},{key:"_copyFilter",value:function _copyFilter(streamId,x,y,width,height,sock,display,depth){var uncompressedSize=width*height*3;var data;if(uncompressedSize===0)return true;if(uncompressedSize<12){if(sock.rQwait("TIGHT",uncompressedSize))return false;data=sock.rQshiftBytes(uncompressedSize)}else{data=this._readData(sock);if(data===null)return false; __get$(this._zlibs,streamId) .setInput(data);
data= __get$(this._zlibs,streamId) .inflate(uncompressedSize); __get$(this._zlibs,streamId) .setInput(null)}var rgbx=new Uint8Array(width*height*4);for(var i=0,j=0;i<width*height*4;i+=4,j+=3){ __set$(rgbx,i,__get$(data,j)) ; __set$(rgbx,i+1,__get$(data,j+1)) ; __set$(rgbx,i+2,__get$(data,j+2)) ; __set$(rgbx,i+3,255) }display.blitImage(x,y,width,height,rgbx,0,false);return true}},{key:"_paletteFilter",value:function _paletteFilter(streamId,x,y,width,height,sock,display,depth){if(this._numColors===0){if(sock.rQwait("TIGHT palette",1))return false;var numColors=sock.rQpeek8()+
1;var paletteSize=numColors*3;if(sock.rQwait("TIGHT palette",1+paletteSize))return false;this._numColors=numColors;sock.rQskipBytes(1);sock.rQshiftTo(this._palette,paletteSize)}var bpp=this._numColors<=2?1:8;var rowSize=Math.floor((width*bpp+7)/8);var uncompressedSize=rowSize*height;var data;if(uncompressedSize===0)return true;if(uncompressedSize<12){if(sock.rQwait("TIGHT",uncompressedSize))return false;data=sock.rQshiftBytes(uncompressedSize)}else{data=this._readData(sock);if(data===null)return false;
 __get$(this._zlibs,streamId) .setInput(data);data= __get$(this._zlibs,streamId) .inflate(uncompressedSize); __get$(this._zlibs,streamId) .setInput(null)}if(this._numColors==2)this._monoRect(x,y,width,height,data,this._palette,display);else this._paletteRect(x,y,width,height,data,this._palette,display);this._numColors=0;return true}},{key:"_monoRect",value:function _monoRect(x,y,width,height,data,palette,display){var dest=this._getScratchBuffer(width*height*4);var w=Math.floor((width+7)/8);var w1=Math.floor(width/8);for(var _y=
0;_y<height;_y++){var dp=void 0,sp=void 0,_x=void 0;for(_x=0;_x<w1;_x++)for(var b=7;b>=0;b--){dp=(_y*width+_x*8+7-b)*4;sp=( __get$(data,_y*w+_x) >>b&1)*3; __set$(dest,dp,__get$(palette,sp)) ; __set$(dest,dp+1,__get$(palette,sp+1)) ; __set$(dest,dp+2,__get$(palette,sp+2)) ; __set$(dest,dp+3,255) }for(var _b=7;_b>=8-width%8;_b--){dp=(_y*width+_x*8+7-_b)*4;sp=( __get$(data,_y*w+_x) >>_b&1)*3; __set$(dest,dp,__get$(palette,sp)) ; __set$(dest,dp+1,__get$(palette,sp+1)) ; __set$(dest,dp+2,__get$(palette,sp+2)) ; __set$(dest,dp+3,255) }}display.blitImage(x,y,width,height,dest,0,false)}},{key:"_paletteRect",value:function _paletteRect(x,
y,width,height,data,palette,display){var dest=this._getScratchBuffer(width*height*4);var total=width*height*4;for(var i=0,j=0;i<total;i+=4,j++){var sp= __get$(data,j) *3; __set$(dest,i,__get$(palette,sp)) ; __set$(dest,i+1,__get$(palette,sp+1)) ; __set$(dest,i+2,__get$(palette,sp+2)) ; __set$(dest,i+3,255) }display.blitImage(x,y,width,height,dest,0,false)}},{key:"_gradientFilter",value:function _gradientFilter(streamId,x,y,width,height,sock,display,depth){var uncompressedSize=width*height*3;var data;if(uncompressedSize===0)return true;if(uncompressedSize<12){if(sock.rQwait("TIGHT",
uncompressedSize))return false;data=sock.rQshiftBytes(uncompressedSize)}else{data=this._readData(sock);if(data===null)return false; __get$(this._zlibs,streamId) .setInput(data);data= __get$(this._zlibs,streamId) .inflate(uncompressedSize); __get$(this._zlibs,streamId) .setInput(null)}var rgbx=new Uint8Array(4*width*height);var rgbxIndex=0,dataIndex=0;var left=new Uint8Array(3);for(var _x2=0;_x2<width;_x2++){for(var c=0;c<3;c++){var prediction= __get$(left,c) ;var value= __get$(data,dataIndex++) +prediction; __set$(rgbx,rgbxIndex++,value) ; __set$(left,c,value) } __set$(rgbx,rgbxIndex++,255) }var upperIndex=0;var upper=new Uint8Array(3),upperleft=new Uint8Array(3);for(var _y2=1;_y2<height;_y2++){left.fill(0);upperleft.fill(0);for(var _x3=0;_x3<width;_x3++){for(var _c=0;_c<3;_c++){ __set$(upper,_c,__get$(rgbx,upperIndex++)) ;var _prediction= __get$(left,_c) + __get$(upper,_c) - __get$(upperleft,_c) ;if(_prediction<0)_prediction=0;else if(_prediction>255)_prediction=255;var _value= __get$(data,dataIndex++) +_prediction; __set$(rgbx,rgbxIndex++,_value) ; __set$(upperleft,_c,__get$(upper,_c)) ; __set$(left,_c,_value) } __set$(rgbx,rgbxIndex++,255) ;upperIndex++}}display.blitImage(x,
y,width,height,rgbx,0,false);return true}},{key:"_readData",value:function _readData(sock){if(this._len===0){if(sock.rQwait("TIGHT",3))return null;var _byte;_byte=sock.rQshift8();this._len=_byte&127;if(_byte&128){_byte=sock.rQshift8();this._len|=(_byte&127)<<7;if(_byte&128){_byte=sock.rQshift8();this._len|=_byte<<14}}}if(sock.rQwait("TIGHT",this._len))return null;var data=sock.rQshiftBytes(this._len,false);this._len=0;return data}},{key:"_getScratchBuffer",value:function _getScratchBuffer(size){if(!this._scratchBuffer||
this._scratchBuffer.length<size)this._scratchBuffer=new Uint8Array(size);return this._scratchBuffer}}])}()},"./node_modules/@novnc/novnc/lib/decoders/tightpng.js":(__unused_webpack_module,exports,__webpack_require__)=>{function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,
"__esModule",{value:true});exports["default"]=void 0;var _tight=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/decoders/tight.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,
_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");
}return("string"===r?String:Number)(t)}function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e))}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}var TightPNGDecoder=exports["default"]=function(_TightDecoder){function TightPNGDecoder(){_classCallCheck(this,TightPNGDecoder);return _callSuper(this,TightPNGDecoder,arguments)}
_inherits(TightPNGDecoder,_TightDecoder);return _createClass(TightPNGDecoder,[{key:"_pngRect",value:function _pngRect(x,y,width,height,sock,display,depth){var data=this._readData(sock);if(data===null)return false;display.imageRect(x,y,width,height,"image/png",data);return true}},{key:"_basicRect",value:function _basicRect(ctl,x,y,width,height,sock,display,depth){throw new Error("BasicCompression received in TightPNG rect");}}])}(_tight["default"])},"./node_modules/@novnc/novnc/lib/decoders/zlib.js":(__unused_webpack_module,
exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _inflator=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/inflator.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===
Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),
e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var ZlibDecoder=exports["default"]=function(){function ZlibDecoder(){_classCallCheck(this,ZlibDecoder);this._zlib=new _inflator["default"];
this._length=0}return _createClass(ZlibDecoder,[{key:"decodeRect",value:function decodeRect(x,y,width,height,sock,display,depth){if(width===0||height===0)return true;if(this._length===0){if(sock.rQwait("ZLIB",4))return false;this._length=sock.rQshift32()}if(sock.rQwait("ZLIB",this._length))return false;var data=new Uint8Array(sock.rQshiftBytes(this._length,false));this._length=0;this._zlib.setInput(data);data=this._zlib.inflate(width*height*4);this._zlib.setInput(null);for(var i=0;i<width*height;i++) __set$(data,i*4+3,255) ;display.blitImage(x,y,width,height,data,0);return true}}])}()},"./node_modules/@novnc/novnc/lib/decoders/zrle.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _inflator=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/inflator.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _typeof(o){"@babel/helpers - typeof";return _typeof=
"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),
o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===
r?String:Number)(t)}var ZRLE_TILE_WIDTH=64;var ZRLE_TILE_HEIGHT=64;var ZRLEDecoder=exports["default"]=function(){function ZRLEDecoder(){_classCallCheck(this,ZRLEDecoder);this._length=0;this._inflator=new _inflator["default"];this._pixelBuffer=new Uint8Array(ZRLE_TILE_WIDTH*ZRLE_TILE_HEIGHT*4);this._tileBuffer=new Uint8Array(ZRLE_TILE_WIDTH*ZRLE_TILE_HEIGHT*4)}return _createClass(ZRLEDecoder,[{key:"decodeRect",value:function decodeRect(x,y,width,height,sock,display,depth){if(this._length===0){if(sock.rQwait("ZLib data length",
4))return false;this._length=sock.rQshift32()}if(sock.rQwait("Zlib data",this._length))return false;var data=sock.rQshiftBytes(this._length,false);this._inflator.setInput(data);for(var ty=y;ty<y+height;ty+=ZRLE_TILE_HEIGHT){var th=Math.min(ZRLE_TILE_HEIGHT,y+height-ty);for(var tx=x;tx<x+width;tx+=ZRLE_TILE_WIDTH){var tw=Math.min(ZRLE_TILE_WIDTH,x+width-tx);var tileSize=tw*th;var subencoding=this._inflator.inflate(1)[0];if(subencoding===0){var _data=this._readPixels(tileSize);display.blitImage(tx,
ty,tw,th,_data,0,false)}else if(subencoding===1){var background=this._readPixels(1);display.fillRect(tx,ty,tw,th,[background[0],background[1],background[2]])}else if(subencoding>=2&&subencoding<=16){var _data2=this._decodePaletteTile(subencoding,tileSize,tw,th);display.blitImage(tx,ty,tw,th,_data2,0,false)}else if(subencoding===128){var _data3=this._decodeRLETile(tileSize);display.blitImage(tx,ty,tw,th,_data3,0,false)}else if(subencoding>=130&&subencoding<=255){var _data4=this._decodeRLEPaletteTile(subencoding-
128,tileSize);display.blitImage(tx,ty,tw,th,_data4,0,false)}else throw new Error("Unknown subencoding: "+subencoding);}}this._length=0;return true}},{key:"_getBitsPerPixelInPalette",value:function _getBitsPerPixelInPalette(paletteSize){if(paletteSize<=2)return 1;else if(paletteSize<=4)return 2;else if(paletteSize<=16)return 4}},{key:"_readPixels",value:function _readPixels(pixels){var data=this._pixelBuffer;var buffer=this._inflator.inflate(3*pixels);for(var i=0,j=0;i<pixels*4;i+=4,j+=3){ __set$(data,i,__get$(buffer,j)) ; __set$(data,i+1,__get$(buffer,j+1)) ; __set$(data,i+2,__get$(buffer,j+2)) ; __set$(data,i+3,255) }return data}},{key:"_decodePaletteTile",value:function _decodePaletteTile(paletteSize,tileSize,tilew,tileh){var data=this._tileBuffer;var palette=this._readPixels(paletteSize);var bitsPerPixel=this._getBitsPerPixelInPalette(paletteSize);var mask=(1<<bitsPerPixel)-1;var offset=0;var encoded=this._inflator.inflate(1)[0];for(var y=0;y<tileh;y++){var shift=8-bitsPerPixel;for(var x=0;x<tilew;x++){if(shift<0){shift=8-bitsPerPixel;encoded=
this._inflator.inflate(1)[0]}var indexInPalette=encoded>>shift&mask; __set$(data,offset,__get$(palette,indexInPalette*4)) ; __set$(data,offset+1,__get$(palette,indexInPalette*4+1)) ; __set$(data,offset+2,__get$(palette,indexInPalette*4+2)) ; __set$(data,offset+3,__get$(palette,indexInPalette*4+3)) ;offset+=4;shift-=bitsPerPixel}if(shift<8-bitsPerPixel&&y<tileh-1)encoded=this._inflator.inflate(1)[0]}return data}},{key:"_decodeRLETile",value:function _decodeRLETile(tileSize){var data=this._tileBuffer;var i=0;while(i<tileSize){var pixel=this._readPixels(1);var length=
this._readRLELength();for(var j=0;j<length;j++){ __set$(data,i*4,pixel[0]) ; __set$(data,i*4+1,pixel[1]) ; __set$(data,i*4+2,pixel[2]) ; __set$(data,i*4+3,pixel[3]) ;i++}}return data}},{key:"_decodeRLEPaletteTile",value:function _decodeRLEPaletteTile(paletteSize,tileSize){var data=this._tileBuffer;var palette=this._readPixels(paletteSize);var offset=0;while(offset<tileSize){var indexInPalette=this._inflator.inflate(1)[0];var length=1;if(indexInPalette>=128){indexInPalette-=128;length=this._readRLELength()}if(indexInPalette>paletteSize)throw new Error("Too big index in palette: "+
indexInPalette+", palette size: "+paletteSize);if(offset+length>tileSize)throw new Error("Too big rle length in palette mode: "+length+", allowed length is: "+(tileSize-offset));for(var j=0;j<length;j++){ __set$(data,offset*4,__get$(palette,indexInPalette*4)) ; __set$(data,offset*4+1,__get$(palette,indexInPalette*4+1)) ; __set$(data,offset*4+2,__get$(palette,indexInPalette*4+2)) ; __set$(data,offset*4+3,__get$(palette,indexInPalette*4+3)) ;offset++}}return data}},{key:"_readRLELength",value:function _readRLELength(){var length=0;var current=0;do{current=this._inflator.inflate(1)[0];
length+=current}while(current===255);return length+1}}])}()},"./node_modules/@novnc/novnc/lib/deflator.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _deflate2=__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/deflate.js");var _zstream=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/zstream.js"));function _interopRequireDefault(e){return e&&
e.__esModule?e:{"default":e}}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||
!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;
throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var Deflator=exports["default"]=function(){function Deflator(){_classCallCheck(this,Deflator);this.strm=new _zstream["default"];this.chunkSize=1024*10*10;this.outputBuffer=new Uint8Array(this.chunkSize);(0,_deflate2.deflateInit)(this.strm,_deflate2.Z_DEFAULT_COMPRESSION)}return _createClass(Deflator,[{key:"deflate",value:function deflate(inData){this.strm.input=inData;this.strm.avail_in=this.strm.input.length;
this.strm.next_in=0;this.strm.output=this.outputBuffer;this.strm.avail_out=this.chunkSize;this.strm.next_out=0;var lastRet=(0,_deflate2.deflate)(this.strm,_deflate2.Z_FULL_FLUSH);var outData=new Uint8Array(this.strm.output.buffer,0,this.strm.next_out);if(lastRet<0)throw new Error("zlib deflate failed");if(this.strm.avail_in>0){var chunks=[outData];var totalLen=outData.length;do{this.strm.output=new Uint8Array(this.chunkSize);this.strm.next_out=0;this.strm.avail_out=this.chunkSize;lastRet=(0,_deflate2.deflate)(this.strm,
_deflate2.Z_FULL_FLUSH);if(lastRet<0)throw new Error("zlib deflate failed");var chunk=new Uint8Array(this.strm.output.buffer,0,this.strm.next_out);totalLen+=chunk.length;chunks.push(chunk)}while(this.strm.avail_in>0);var newData=new Uint8Array(totalLen);var offset=0;for(var i=0;i<chunks.length;i++){newData.set( __get$(chunks,i) ,offset);offset+= __get$(chunks,i) .length}outData=newData}this.strm.input=null;this.strm.avail_in=0;this.strm.next_in=0;return outData}}])}()},"./node_modules/@novnc/novnc/lib/display.js":(__unused_webpack_module,
exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var Log=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/util/logging.js"));var _base=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/base64.js"));var _int=__webpack_require__("./node_modules/@novnc/novnc/lib/util/int.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _getRequireWildcardCache(e){if("function"!=
typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=
a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,n),n}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");
}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;
var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var Display=exports["default"]=function(){function Display(target){_classCallCheck(this,Display);this._drawCtx=null;this._renderQ=[];this._flushPromise=null;this._fbWidth=0;this._fbHeight=0;this._prevDrawStyle="";Log.Debug(">> Display.constructor");this._target=target;if(!this._target)throw new Error("Target must be set");
if(typeof this._target==="string")throw new Error("target must be a DOM element");if(!this._target.getContext)throw new Error("no getContext method");this._targetCtx=this._target.getContext("2d");this._viewportLoc={"x":0,"y":0,"w":this._target.width,"h":this._target.height};this._backbuffer=document.createElement("canvas");this._drawCtx=this._backbuffer.getContext("2d");this._damageBounds={left:0,top:0,right:this._backbuffer.width,bottom:this._backbuffer.height};Log.Debug("User Agent: "+navigator.userAgent);
Log.Debug("<< Display.constructor");this._scale=1;this._clipViewport=false}return _createClass(Display,[{key:"scale",get:function get(){return this._scale},set:function set(scale){this._rescale(scale)}},{key:"clipViewport",get:function get(){return this._clipViewport},set:function set(viewport){this._clipViewport=viewport;var vp=this._viewportLoc;this.viewportChangeSize(vp.w,vp.h);this.viewportChangePos(0,0)}},{key:"width",get:function get(){return this._fbWidth}},{key:"height",get:function get(){return this._fbHeight}},
{key:"viewportChangePos",value:function viewportChangePos(deltaX,deltaY){var vp=this._viewportLoc;deltaX=Math.floor(deltaX);deltaY=Math.floor(deltaY);if(!this._clipViewport){deltaX=-vp.w;deltaY=-vp.h}var vx2=vp.x+vp.w-1;var vy2=vp.y+vp.h-1;if(deltaX<0&&vp.x+deltaX<0)deltaX=-vp.x;if(vx2+deltaX>=this._fbWidth)deltaX-=vx2+deltaX-this._fbWidth+1;if(vp.y+deltaY<0)deltaY=-vp.y;if(vy2+deltaY>=this._fbHeight)deltaY-=vy2+deltaY-this._fbHeight+1;if(deltaX===0&&deltaY===0)return;Log.Debug("viewportChange deltaX: "+
deltaX+", deltaY: "+deltaY);vp.x+=deltaX;vp.y+=deltaY;this._damage(vp.x,vp.y,vp.w,vp.h);this.flip()}},{key:"viewportChangeSize",value:function viewportChangeSize(width,height){if(!this._clipViewport||typeof width==="undefined"||typeof height==="undefined"){Log.Debug("Setting viewport to full display region");width=this._fbWidth;height=this._fbHeight}width=Math.floor(width);height=Math.floor(height);if(width>this._fbWidth)width=this._fbWidth;if(height>this._fbHeight)height=this._fbHeight;var vp=this._viewportLoc;
if(vp.w!==width||vp.h!==height){vp.w=width;vp.h=height;var canvas=this._target;canvas.width=width;canvas.height=height;this.viewportChangePos(0,0);this._damage(vp.x,vp.y,vp.w,vp.h);this.flip();this._rescale(this._scale)}}},{key:"absX",value:function absX(x){if(this._scale===0)return 0;return(0,_int.toSigned32bit)(x/this._scale+this._viewportLoc.x)}},{key:"absY",value:function absY(y){if(this._scale===0)return 0;return(0,_int.toSigned32bit)(y/this._scale+this._viewportLoc.y)}},{key:"resize",value:function resize(width,
height){this._prevDrawStyle="";this._fbWidth=width;this._fbHeight=height;var canvas=this._backbuffer;if(canvas.width!==width||canvas.height!==height){var saveImg=null;if(canvas.width>0&&canvas.height>0)saveImg=this._drawCtx.getImageData(0,0,canvas.width,canvas.height);if(canvas.width!==width)canvas.width=width;if(canvas.height!==height)canvas.height=height;if(saveImg)this._drawCtx.putImageData(saveImg,0,0)}var vp=this._viewportLoc;this.viewportChangeSize(vp.w,vp.h);this.viewportChangePos(0,0)}},{key:"getImageData",
value:function getImageData(){return this._drawCtx.getImageData(0,0,this.width,this.height)}},{key:"toDataURL",value:function toDataURL(type,encoderOptions){return this._backbuffer.toDataURL(type,encoderOptions)}},{key:"toBlob",value:function toBlob(callback,type,quality){return this._backbuffer.toBlob(callback,type,quality)}},{key:"_damage",value:function _damage(x,y,w,h){if(x<this._damageBounds.left)this._damageBounds.left=x;if(y<this._damageBounds.top)this._damageBounds.top=y;if(x+w>this._damageBounds.right)this._damageBounds.right=
x+w;if(y+h>this._damageBounds.bottom)this._damageBounds.bottom=y+h}},{key:"flip",value:function flip(fromQueue){if(this._renderQ.length!==0&&!fromQueue)this._renderQPush({"type":"flip"});else{var x=this._damageBounds.left;var y=this._damageBounds.top;var w=this._damageBounds.right-x;var h=this._damageBounds.bottom-y;var vx=x-this._viewportLoc.x;var vy=y-this._viewportLoc.y;if(vx<0){w+=vx;x-=vx;vx=0}if(vy<0){h+=vy;y-=vy;vy=0}if(vx+w>this._viewportLoc.w)w=this._viewportLoc.w-vx;if(vy+h>this._viewportLoc.h)h=
this._viewportLoc.h-vy;if(w>0&&h>0)this._targetCtx.drawImage(this._backbuffer,x,y,w,h,vx,vy,w,h);this._damageBounds.left=this._damageBounds.top=65535;this._damageBounds.right=this._damageBounds.bottom=0}}},{key:"pending",value:function pending(){return this._renderQ.length>0}},{key:"flush",value:function flush(){var _this=this;if(this._renderQ.length===0)return Promise.resolve();else{if(this._flushPromise===null)this._flushPromise=new Promise(function(resolve){_this._flushResolve=resolve});return this._flushPromise}}},
{key:"fillRect",value:function fillRect(x,y,width,height,color,fromQueue){if(this._renderQ.length!==0&&!fromQueue)this._renderQPush({"type":"fill","x":x,"y":y,"width":width,"height":height,"color":color});else{this._setFillColor(color);this._drawCtx.fillRect(x,y,width,height);this._damage(x,y,width,height)}}},{key:"copyImage",value:function copyImage(oldX,oldY,newX,newY,w,h,fromQueue){if(this._renderQ.length!==0&&!fromQueue)this._renderQPush({"type":"copy","oldX":oldX,"oldY":oldY,"x":newX,"y":newY,
"width":w,"height":h});else{this._drawCtx.mozImageSmoothingEnabled=false;this._drawCtx.webkitImageSmoothingEnabled=false;this._drawCtx.msImageSmoothingEnabled=false;this._drawCtx.imageSmoothingEnabled=false;this._drawCtx.drawImage(this._backbuffer,oldX,oldY,w,h,newX,newY,w,h);this._damage(newX,newY,w,h)}}},{key:"imageRect",value:function imageRect(x,y,width,height,mime,arr){if(width===0||height===0)return;var img=new Image;img.src="data: "+mime+";base64,"+_base["default"].encode(arr);this._renderQPush({"type":"img",
"img":img,"x":x,"y":y,"width":width,"height":height})}},{key:"videoFrame",value:function videoFrame(x,y,width,height,frame){this._renderQPush({"type":"frame","frame":frame,"x":x,"y":y,"width":width,"height":height})}},{key:"blitImage",value:function blitImage(x,y,width,height,arr,offset,fromQueue){if(this._renderQ.length!==0&&!fromQueue){var newArr=new Uint8Array(width*height*4);newArr.set(new Uint8Array(arr.buffer,0,newArr.length));this._renderQPush({"type":"blit","data":newArr,"x":x,"y":y,"width":width,
"height":height})}else{var data=new Uint8ClampedArray(arr.buffer,arr.byteOffset+offset,width*height*4);var img=new ImageData(data,width,height);this._drawCtx.putImageData(img,x,y);this._damage(x,y,width,height)}}},{key:"drawImage",value:function drawImage(img){var _this$_drawCtx;for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++) __set$(args,_key-1,__get$(arguments,_key)) ;(_this$_drawCtx=this._drawCtx).drawImage.apply(_this$_drawCtx,[img].concat(args));if(args.length<=4){var x=
args[0],y=args[1];this._damage(x,y,img.width,img.height)}else{var sw=args[2],sh=args[3],dx=args[4],dy=args[5];this._damage(dx,dy,sw,sh)}}},{key:"autoscale",value:function autoscale(containerWidth,containerHeight){var scaleRatio;if(containerWidth===0||containerHeight===0)scaleRatio=0;else{var vp=this._viewportLoc;var targetAspectRatio=containerWidth/containerHeight;var fbAspectRatio=vp.w/vp.h;if(fbAspectRatio>=targetAspectRatio)scaleRatio=containerWidth/vp.w;else scaleRatio=containerHeight/vp.h}this._rescale(scaleRatio)}},
{key:"_rescale",value:function _rescale(factor){this._scale=factor;var vp=this._viewportLoc;var width=factor*vp.w+"px";var height=factor*vp.h+"px";if(this._target.style.width!==width||this._target.style.height!==height){this._target.style.width=width;this._target.style.height=height}}},{key:"_setFillColor",value:function _setFillColor(color){var newStyle="rgb("+color[0]+","+color[1]+","+color[2]+")";if(newStyle!==this._prevDrawStyle){this._drawCtx.fillStyle=newStyle;this._prevDrawStyle=newStyle}}},
{key:"_renderQPush",value:function _renderQPush(action){this._renderQ.push(action);if(this._renderQ.length===1)this._scanRenderQ()}},{key:"_resumeRenderQ",value:function _resumeRenderQ(){this.removeEventListener("load",this._noVNCDisplay._resumeRenderQ);this._noVNCDisplay._scanRenderQ()}},{key:"_scanRenderQ",value:function _scanRenderQ(){var _this2=this;var ready=true;var _loop=function _loop(){var a=_this2._renderQ[0];switch(a.type){case "flip":_this2.flip(true);break;case "copy":_this2.copyImage(a.oldX,
a.oldY,a.x,a.y,a.width,a.height,true);break;case "fill":_this2.fillRect(a.x,a.y,a.width,a.height,a.color,true);break;case "blit":_this2.blitImage(a.x,a.y,a.width,a.height,a.data,0,true);break;case "img":if(a.img.complete){if(a.img.width!==a.width||a.img.height!==a.height){Log.Error("Decoded image has incorrect dimensions. Got "+a.img.width+"x"+a.img.height+". Expected "+a.width+"x"+a.height+".");return{v:void 0}}_this2.drawImage(a.img,a.x,a.y)}else{a.img._noVNCDisplay=_this2;a.img.addEventListener("load",
_this2._resumeRenderQ);ready=false}break;case "frame":if(a.frame.ready){var frame=a.frame.frame;if(frame.codedWidth<a.width||frame.codedHeight<a.height)Log.Warn("Decoded video frame does not cover its full rectangle area. Expecting at least "+a.width+"x"+a.height+" but got "+frame.codedWidth+"x"+frame.codedHeight);var sx=0;var sy=0;var sw=a.width;var sh=a.height;var dx=a.x;var dy=a.y;var dw=sw;var dh=sh;_this2.drawImage(frame,sx,sy,sw,sh,dx,dy,dw,dh);frame.close()}else{var display=_this2;a.frame.promise.then(function(){display._scanRenderQ()});
ready=false}break}if(ready)_this2._renderQ.shift()},_ret;while(ready&&this._renderQ.length>0){_ret=_loop();if(_ret)return _ret.v}if(this._renderQ.length===0&&this._flushPromise!==null){this._flushResolve();this._flushPromise=null;this._flushResolve=null}}}])}()},"./node_modules/@novnc/novnc/lib/encodings.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports.encodingName=encodingName;exports.encodings=void 0;var encodings=exports.encodings={encodingRaw:0,
encodingCopyRect:1,encodingRRE:2,encodingHextile:5,encodingZlib:6,encodingTight:7,encodingZRLE:16,encodingTightPNG:-260,encodingJPEG:21,encodingH264:50,pseudoEncodingQualityLevel9:-23,pseudoEncodingQualityLevel0:-32,pseudoEncodingDesktopSize:-223,pseudoEncodingLastRect:-224,pseudoEncodingCursor:-239,pseudoEncodingQEMUExtendedKeyEvent:-258,pseudoEncodingQEMULedEvent:-261,pseudoEncodingDesktopName:-307,pseudoEncodingExtendedDesktopSize:-308,pseudoEncodingXvp:-309,pseudoEncodingFence:-312,pseudoEncodingContinuousUpdates:-313,
pseudoEncodingExtendedMouseButtons:-316,pseudoEncodingCompressLevel9:-247,pseudoEncodingCompressLevel0:-256,pseudoEncodingVMwareCursor:1464686180,pseudoEncodingExtendedClipboard:3231835598};function encodingName(num){switch(num){case encodings.encodingRaw:return"Raw";case encodings.encodingCopyRect:return"CopyRect";case encodings.encodingRRE:return"RRE";case encodings.encodingHextile:return"Hextile";case encodings.encodingZlib:return"Zlib";case encodings.encodingTight:return"Tight";case encodings.encodingZRLE:return"ZRLE";
case encodings.encodingTightPNG:return"TightPNG";case encodings.encodingJPEG:return"JPEG";case encodings.encodingH264:return"H.264";default:return"[unknown encoding "+num+"]"}}},"./node_modules/@novnc/novnc/lib/inflator.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _inflate2=__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/inflate.js");var _zstream=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/zstream.js"));
function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<
r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=
e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var Inflate=exports["default"]=function(){function Inflate(){_classCallCheck(this,Inflate);this.strm=new _zstream["default"];this.chunkSize=1024*10*10;this.strm.output=new Uint8Array(this.chunkSize);(0,_inflate2.inflateInit)(this.strm)}return _createClass(Inflate,[{key:"setInput",value:function setInput(data){if(!data){this.strm.input=null;
this.strm.avail_in=0;this.strm.next_in=0}else{this.strm.input=data;this.strm.avail_in=this.strm.input.length;this.strm.next_in=0}}},{key:"inflate",value:function inflate(expected){if(expected>this.chunkSize){this.chunkSize=expected;this.strm.output=new Uint8Array(this.chunkSize)}this.strm.next_out=0;this.strm.avail_out=expected;var ret=(0,_inflate2.inflate)(this.strm,0);if(ret<0)throw new Error("zlib inflate failed");if(this.strm.next_out!=expected)throw new Error("Incomplete zlib block");return new Uint8Array(this.strm.output.buffer,
0,this.strm.next_out)}},{key:"reset",value:function reset(){(0,_inflate2.inflateReset)(this.strm)}}])}()},"./node_modules/@novnc/novnc/lib/input/domkeytable.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _keysym=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/input/keysym.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var DOMKeyTable={};function addStandard(key,
standard){if(standard===undefined)throw new Error('Undefined keysym for key "'+key+'"');if(key in DOMKeyTable)throw new Error('Duplicate entry for key "'+key+'"'); __set$(DOMKeyTable,key,[standard,standard,standard,standard]) }function addLeftRight(key,left,right){if(left===undefined)throw new Error('Undefined keysym for key "'+key+'"');if(right===undefined)throw new Error('Undefined keysym for key "'+key+'"');if(key in DOMKeyTable)throw new Error('Duplicate entry for key "'+key+'"'); __set$(DOMKeyTable,key,[left,left,right,left]) }function addNumpad(key,standard,numpad){if(standard===undefined)throw new Error('Undefined keysym for key "'+key+'"');if(numpad===undefined)throw new Error('Undefined keysym for key "'+key+'"');if(key in DOMKeyTable)throw new Error('Duplicate entry for key "'+key+'"'); __set$(DOMKeyTable,key,[standard,standard,standard,numpad]) }addLeftRight("Alt",_keysym["default"].XK_Alt_L,_keysym["default"].XK_Alt_R);addStandard("AltGraph",_keysym["default"].XK_ISO_Level3_Shift);addStandard("CapsLock",
_keysym["default"].XK_Caps_Lock);addLeftRight("Control",_keysym["default"].XK_Control_L,_keysym["default"].XK_Control_R);addLeftRight("Meta",_keysym["default"].XK_Super_L,_keysym["default"].XK_Super_R);addStandard("NumLock",_keysym["default"].XK_Num_Lock);addStandard("ScrollLock",_keysym["default"].XK_Scroll_Lock);addLeftRight("Shift",_keysym["default"].XK_Shift_L,_keysym["default"].XK_Shift_R);addNumpad("Enter",_keysym["default"].XK_Return,_keysym["default"].XK_KP_Enter);addStandard("Tab",_keysym["default"].XK_Tab);
addNumpad(" ",_keysym["default"].XK_space,_keysym["default"].XK_KP_Space);addNumpad("ArrowDown",_keysym["default"].XK_Down,_keysym["default"].XK_KP_Down);addNumpad("ArrowLeft",_keysym["default"].XK_Left,_keysym["default"].XK_KP_Left);addNumpad("ArrowRight",_keysym["default"].XK_Right,_keysym["default"].XK_KP_Right);addNumpad("ArrowUp",_keysym["default"].XK_Up,_keysym["default"].XK_KP_Up);addNumpad("End",_keysym["default"].XK_End,_keysym["default"].XK_KP_End);addNumpad("Home",_keysym["default"].XK_Home,
_keysym["default"].XK_KP_Home);addNumpad("PageDown",_keysym["default"].XK_Next,_keysym["default"].XK_KP_Next);addNumpad("PageUp",_keysym["default"].XK_Prior,_keysym["default"].XK_KP_Prior);addStandard("Backspace",_keysym["default"].XK_BackSpace);addNumpad("Clear",_keysym["default"].XK_Clear,_keysym["default"].XK_KP_Begin);addStandard("Copy",_keysym["default"].XF86XK_Copy);addStandard("Cut",_keysym["default"].XF86XK_Cut);addNumpad("Delete",_keysym["default"].XK_Delete,_keysym["default"].XK_KP_Delete);
addNumpad("Insert",_keysym["default"].XK_Insert,_keysym["default"].XK_KP_Insert);addStandard("Paste",_keysym["default"].XF86XK_Paste);addStandard("Redo",_keysym["default"].XK_Redo);addStandard("Undo",_keysym["default"].XK_Undo);addStandard("Cancel",_keysym["default"].XK_Cancel);addStandard("ContextMenu",_keysym["default"].XK_Menu);addStandard("Escape",_keysym["default"].XK_Escape);addStandard("Execute",_keysym["default"].XK_Execute);addStandard("Find",_keysym["default"].XK_Find);addStandard("Help",
_keysym["default"].XK_Help);addStandard("Pause",_keysym["default"].XK_Pause);addStandard("Select",_keysym["default"].XK_Select);addStandard("ZoomIn",_keysym["default"].XF86XK_ZoomIn);addStandard("ZoomOut",_keysym["default"].XF86XK_ZoomOut);addStandard("BrightnessDown",_keysym["default"].XF86XK_MonBrightnessDown);addStandard("BrightnessUp",_keysym["default"].XF86XK_MonBrightnessUp);addStandard("Eject",_keysym["default"].XF86XK_Eject);addStandard("LogOff",_keysym["default"].XF86XK_LogOff);addStandard("Power",
_keysym["default"].XF86XK_PowerOff);addStandard("PowerOff",_keysym["default"].XF86XK_PowerDown);addStandard("PrintScreen",_keysym["default"].XK_Print);addStandard("Hibernate",_keysym["default"].XF86XK_Hibernate);addStandard("Standby",_keysym["default"].XF86XK_Standby);addStandard("WakeUp",_keysym["default"].XF86XK_WakeUp);addStandard("AllCandidates",_keysym["default"].XK_MultipleCandidate);addStandard("Alphanumeric",_keysym["default"].XK_Eisu_toggle);addStandard("CodeInput",_keysym["default"].XK_Codeinput);
addStandard("Compose",_keysym["default"].XK_Multi_key);addStandard("Convert",_keysym["default"].XK_Henkan);addStandard("GroupFirst",_keysym["default"].XK_ISO_First_Group);addStandard("GroupLast",_keysym["default"].XK_ISO_Last_Group);addStandard("GroupNext",_keysym["default"].XK_ISO_Next_Group);addStandard("GroupPrevious",_keysym["default"].XK_ISO_Prev_Group);addStandard("NonConvert",_keysym["default"].XK_Muhenkan);addStandard("PreviousCandidate",_keysym["default"].XK_PreviousCandidate);addStandard("SingleCandidate",
_keysym["default"].XK_SingleCandidate);addStandard("HangulMode",_keysym["default"].XK_Hangul);addStandard("HanjaMode",_keysym["default"].XK_Hangul_Hanja);addStandard("JunjaMode",_keysym["default"].XK_Hangul_Jeonja);addStandard("Eisu",_keysym["default"].XK_Eisu_toggle);addStandard("Hankaku",_keysym["default"].XK_Hankaku);addStandard("Hiragana",_keysym["default"].XK_Hiragana);addStandard("HiraganaKatakana",_keysym["default"].XK_Hiragana_Katakana);addStandard("KanaMode",_keysym["default"].XK_Kana_Shift);
addStandard("KanjiMode",_keysym["default"].XK_Kanji);addStandard("Katakana",_keysym["default"].XK_Katakana);addStandard("Romaji",_keysym["default"].XK_Romaji);addStandard("Zenkaku",_keysym["default"].XK_Zenkaku);addStandard("ZenkakuHankaku",_keysym["default"].XK_Zenkaku_Hankaku);addStandard("F1",_keysym["default"].XK_F1);addStandard("F2",_keysym["default"].XK_F2);addStandard("F3",_keysym["default"].XK_F3);addStandard("F4",_keysym["default"].XK_F4);addStandard("F5",_keysym["default"].XK_F5);addStandard("F6",
_keysym["default"].XK_F6);addStandard("F7",_keysym["default"].XK_F7);addStandard("F8",_keysym["default"].XK_F8);addStandard("F9",_keysym["default"].XK_F9);addStandard("F10",_keysym["default"].XK_F10);addStandard("F11",_keysym["default"].XK_F11);addStandard("F12",_keysym["default"].XK_F12);addStandard("F13",_keysym["default"].XK_F13);addStandard("F14",_keysym["default"].XK_F14);addStandard("F15",_keysym["default"].XK_F15);addStandard("F16",_keysym["default"].XK_F16);addStandard("F17",_keysym["default"].XK_F17);
addStandard("F18",_keysym["default"].XK_F18);addStandard("F19",_keysym["default"].XK_F19);addStandard("F20",_keysym["default"].XK_F20);addStandard("F21",_keysym["default"].XK_F21);addStandard("F22",_keysym["default"].XK_F22);addStandard("F23",_keysym["default"].XK_F23);addStandard("F24",_keysym["default"].XK_F24);addStandard("F25",_keysym["default"].XK_F25);addStandard("F26",_keysym["default"].XK_F26);addStandard("F27",_keysym["default"].XK_F27);addStandard("F28",_keysym["default"].XK_F28);addStandard("F29",
_keysym["default"].XK_F29);addStandard("F30",_keysym["default"].XK_F30);addStandard("F31",_keysym["default"].XK_F31);addStandard("F32",_keysym["default"].XK_F32);addStandard("F33",_keysym["default"].XK_F33);addStandard("F34",_keysym["default"].XK_F34);addStandard("F35",_keysym["default"].XK_F35);addStandard("Close",_keysym["default"].XF86XK_Close);addStandard("MailForward",_keysym["default"].XF86XK_MailForward);addStandard("MailReply",_keysym["default"].XF86XK_Reply);addStandard("MailSend",_keysym["default"].XF86XK_Send);
addStandard("MediaFastForward",_keysym["default"].XF86XK_AudioForward);addStandard("MediaPause",_keysym["default"].XF86XK_AudioPause);addStandard("MediaPlay",_keysym["default"].XF86XK_AudioPlay);addStandard("MediaRecord",_keysym["default"].XF86XK_AudioRecord);addStandard("MediaRewind",_keysym["default"].XF86XK_AudioRewind);addStandard("MediaStop",_keysym["default"].XF86XK_AudioStop);addStandard("MediaTrackNext",_keysym["default"].XF86XK_AudioNext);addStandard("MediaTrackPrevious",_keysym["default"].XF86XK_AudioPrev);
addStandard("New",_keysym["default"].XF86XK_New);addStandard("Open",_keysym["default"].XF86XK_Open);addStandard("Print",_keysym["default"].XK_Print);addStandard("Save",_keysym["default"].XF86XK_Save);addStandard("SpellCheck",_keysym["default"].XF86XK_Spell);addStandard("AudioVolumeDown",_keysym["default"].XF86XK_AudioLowerVolume);addStandard("AudioVolumeUp",_keysym["default"].XF86XK_AudioRaiseVolume);addStandard("AudioVolumeMute",_keysym["default"].XF86XK_AudioMute);addStandard("MicrophoneVolumeMute",
_keysym["default"].XF86XK_AudioMicMute);addStandard("LaunchApplication1",_keysym["default"].XF86XK_MyComputer);addStandard("LaunchApplication2",_keysym["default"].XF86XK_Calculator);addStandard("LaunchCalendar",_keysym["default"].XF86XK_Calendar);addStandard("LaunchMail",_keysym["default"].XF86XK_Mail);addStandard("LaunchMediaPlayer",_keysym["default"].XF86XK_AudioMedia);addStandard("LaunchMusicPlayer",_keysym["default"].XF86XK_Music);addStandard("LaunchPhone",_keysym["default"].XF86XK_Phone);addStandard("LaunchScreenSaver",
_keysym["default"].XF86XK_ScreenSaver);addStandard("LaunchSpreadsheet",_keysym["default"].XF86XK_Excel);addStandard("LaunchWebBrowser",_keysym["default"].XF86XK_WWW);addStandard("LaunchWebCam",_keysym["default"].XF86XK_WebCam);addStandard("LaunchWordProcessor",_keysym["default"].XF86XK_Word);addStandard("BrowserBack",_keysym["default"].XF86XK_Back);addStandard("BrowserFavorites",_keysym["default"].XF86XK_Favorites);addStandard("BrowserForward",_keysym["default"].XF86XK_Forward);addStandard("BrowserHome",
_keysym["default"].XF86XK_HomePage);addStandard("BrowserRefresh",_keysym["default"].XF86XK_Refresh);addStandard("BrowserSearch",_keysym["default"].XF86XK_Search);addStandard("BrowserStop",_keysym["default"].XF86XK_Stop);addStandard("Dimmer",_keysym["default"].XF86XK_BrightnessAdjust);addStandard("MediaAudioTrack",_keysym["default"].XF86XK_AudioCycleTrack);addStandard("RandomToggle",_keysym["default"].XF86XK_AudioRandomPlay);addStandard("SplitScreenToggle",_keysym["default"].XF86XK_SplitScreen);addStandard("Subtitle",
_keysym["default"].XF86XK_Subtitle);addStandard("VideoModeNext",_keysym["default"].XF86XK_Next_VMode);addNumpad("=",_keysym["default"].XK_equal,_keysym["default"].XK_KP_Equal);addNumpad("+",_keysym["default"].XK_plus,_keysym["default"].XK_KP_Add);addNumpad("-",_keysym["default"].XK_minus,_keysym["default"].XK_KP_Subtract);addNumpad("*",_keysym["default"].XK_asterisk,_keysym["default"].XK_KP_Multiply);addNumpad("/",_keysym["default"].XK_slash,_keysym["default"].XK_KP_Divide);addNumpad(".",_keysym["default"].XK_period,
_keysym["default"].XK_KP_Decimal);addNumpad(",",_keysym["default"].XK_comma,_keysym["default"].XK_KP_Separator);addNumpad("0",_keysym["default"].XK_0,_keysym["default"].XK_KP_0);addNumpad("1",_keysym["default"].XK_1,_keysym["default"].XK_KP_1);addNumpad("2",_keysym["default"].XK_2,_keysym["default"].XK_KP_2);addNumpad("3",_keysym["default"].XK_3,_keysym["default"].XK_KP_3);addNumpad("4",_keysym["default"].XK_4,_keysym["default"].XK_KP_4);addNumpad("5",_keysym["default"].XK_5,_keysym["default"].XK_KP_5);
addNumpad("6",_keysym["default"].XK_6,_keysym["default"].XK_KP_6);addNumpad("7",_keysym["default"].XK_7,_keysym["default"].XK_KP_7);addNumpad("8",_keysym["default"].XK_8,_keysym["default"].XK_KP_8);addNumpad("9",_keysym["default"].XK_9,_keysym["default"].XK_KP_9);var _default=exports["default"]=DOMKeyTable},"./node_modules/@novnc/novnc/lib/input/fixedkeys.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _default=exports["default"]=
{"Backspace":"Backspace","AltLeft":"Alt","AltRight":"Alt","CapsLock":"CapsLock","ContextMenu":"ContextMenu","ControlLeft":"Control","ControlRight":"Control","Enter":"Enter","MetaLeft":"Meta","MetaRight":"Meta","ShiftLeft":"Shift","ShiftRight":"Shift","Tab":"Tab","Delete":"Delete","End":"End","Help":"Help","Home":"Home","Insert":"Insert","PageDown":"PageDown","PageUp":"PageUp","ArrowDown":"ArrowDown","ArrowLeft":"ArrowLeft","ArrowRight":"ArrowRight","ArrowUp":"ArrowUp","NumLock":"NumLock","NumpadBackspace":"Backspace",
"NumpadClear":"Clear","Escape":"Escape","F1":"F1","F2":"F2","F3":"F3","F4":"F4","F5":"F5","F6":"F6","F7":"F7","F8":"F8","F9":"F9","F10":"F10","F11":"F11","F12":"F12","F13":"F13","F14":"F14","F15":"F15","F16":"F16","F17":"F17","F18":"F18","F19":"F19","F20":"F20","F21":"F21","F22":"F22","F23":"F23","F24":"F24","F25":"F25","F26":"F26","F27":"F27","F28":"F28","F29":"F29","F30":"F30","F31":"F31","F32":"F32","F33":"F33","F34":"F34","F35":"F35","PrintScreen":"PrintScreen","ScrollLock":"ScrollLock","Pause":"Pause",
"BrowserBack":"BrowserBack","BrowserFavorites":"BrowserFavorites","BrowserForward":"BrowserForward","BrowserHome":"BrowserHome","BrowserRefresh":"BrowserRefresh","BrowserSearch":"BrowserSearch","BrowserStop":"BrowserStop","Eject":"Eject","LaunchApp1":"LaunchMyComputer","LaunchApp2":"LaunchCalendar","LaunchMail":"LaunchMail","MediaPlayPause":"MediaPlay","MediaStop":"MediaStop","MediaTrackNext":"MediaTrackNext","MediaTrackPrevious":"MediaTrackPrevious","Power":"Power","Sleep":"Sleep","AudioVolumeDown":"AudioVolumeDown",
"AudioVolumeMute":"AudioVolumeMute","AudioVolumeUp":"AudioVolumeUp","WakeUp":"WakeUp"}},"./node_modules/@novnc/novnc/lib/input/gesturehandler.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?
"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=
_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var GH_NOGESTURE=0;var GH_ONETAP=1;var GH_TWOTAP=2;var GH_THREETAP=4;var GH_DRAG=8;var GH_LONGPRESS=16;var GH_TWODRAG=32;var GH_PINCH=64;var GH_INITSTATE=127;var GH_MOVE_THRESHOLD=
50;var GH_ANGLE_THRESHOLD=90;var GH_MULTITOUCH_TIMEOUT=250;var GH_TAP_TIMEOUT=1E3;var GH_LONGPRESS_TIMEOUT=1E3;var GH_TWOTOUCH_TIMEOUT=50;var GestureHandler=exports["default"]=function(){function GestureHandler(){_classCallCheck(this,GestureHandler);this._target=null;this._state=GH_INITSTATE;this._tracked=[];this._ignored=[];this._waitingRelease=false;this._releaseStart=0;this._longpressTimeoutId=null;this._twoTouchTimeoutId=null;this._boundEventHandler=this._eventHandler.bind(this)}return _createClass(GestureHandler,
[{key:"attach",value:function attach(target){this.detach();this._target=target;this._target.addEventListener("touchstart",this._boundEventHandler);this._target.addEventListener("touchmove",this._boundEventHandler);this._target.addEventListener("touchend",this._boundEventHandler);this._target.addEventListener("touchcancel",this._boundEventHandler)}},{key:"detach",value:function detach(){if(!this._target)return;this._stopLongpressTimeout();this._stopTwoTouchTimeout();this._target.removeEventListener("touchstart",
this._boundEventHandler);this._target.removeEventListener("touchmove",this._boundEventHandler);this._target.removeEventListener("touchend",this._boundEventHandler);this._target.removeEventListener("touchcancel",this._boundEventHandler);this._target=null}},{key:"_eventHandler",value:function _eventHandler(e){var fn;e.stopPropagation();e.preventDefault();switch(e.type){case "touchstart":fn=this._touchStart;break;case "touchmove":fn=this._touchMove;break;case "touchend":case "touchcancel":fn=this._touchEnd;
break}for(var i=0;i<e.changedTouches.length;i++){var touch= __get$(e.changedTouches,i) ;fn.call(this,touch.identifier,touch.clientX,touch.clientY)}}},{key:"_touchStart",value:function _touchStart(id,x,y){if(this._hasDetectedGesture()||this._state===GH_NOGESTURE){this._ignored.push(id);return}if(this._tracked.length>0&&Date.now()-this._tracked[0].started>GH_MULTITOUCH_TIMEOUT){this._state=GH_NOGESTURE;this._ignored.push(id);return}if(this._waitingRelease){this._state=GH_NOGESTURE;this._ignored.push(id);return}this._tracked.push({id:id,
started:Date.now(),active:true,firstX:x,firstY:y,lastX:x,lastY:y,angle:0});switch(this._tracked.length){case 1:this._startLongpressTimeout();break;case 2:this._state&=~(GH_ONETAP|GH_DRAG|GH_LONGPRESS);this._stopLongpressTimeout();break;case 3:this._state&=~(GH_TWOTAP|GH_TWODRAG|GH_PINCH);break;default:this._state=GH_NOGESTURE}}},{key:"_touchMove",value:function _touchMove(id,x,y){var touch=this._tracked.find(function(t){return t.id===id});if(touch===undefined)return;touch.lastX=x;touch.lastY=y;var deltaX=
x-touch.firstX;var deltaY=y-touch.firstY;if(touch.firstX!==touch.lastX||touch.firstY!==touch.lastY)touch.angle=Math.atan2(deltaY,deltaX)*180/Math.PI;if(!this._hasDetectedGesture()){if(Math.hypot(deltaX,deltaY)<GH_MOVE_THRESHOLD)return;this._state&=~(GH_ONETAP|GH_TWOTAP|GH_THREETAP|GH_LONGPRESS);this._stopLongpressTimeout();if(this._tracked.length!==1)this._state&=~GH_DRAG;if(this._tracked.length!==2)this._state&=~(GH_TWODRAG|GH_PINCH);if(this._tracked.length===2){var prevTouch=this._tracked.find(function(t){return t.id!==
id});var prevDeltaMove=Math.hypot(prevTouch.firstX-prevTouch.lastX,prevTouch.firstY-prevTouch.lastY);if(prevDeltaMove>GH_MOVE_THRESHOLD){var deltaAngle=Math.abs(touch.angle-prevTouch.angle);deltaAngle=Math.abs((deltaAngle+180)%360-180);if(deltaAngle>GH_ANGLE_THRESHOLD)this._state&=~GH_TWODRAG;else this._state&=~GH_PINCH;if(this._isTwoTouchTimeoutRunning())this._stopTwoTouchTimeout()}else if(!this._isTwoTouchTimeoutRunning())this._startTwoTouchTimeout()}if(!this._hasDetectedGesture())return;this._pushEvent("gesturestart")}this._pushEvent("gesturemove")}},
{key:"_touchEnd",value:function _touchEnd(id,x,y){if(this._ignored.indexOf(id)!==-1){this._ignored.splice(this._ignored.indexOf(id),1);if(this._ignored.length===0&&this._tracked.length===0){this._state=GH_INITSTATE;this._waitingRelease=false}return}if(!this._hasDetectedGesture()&&this._isTwoTouchTimeoutRunning()){this._stopTwoTouchTimeout();this._state=GH_NOGESTURE}if(!this._hasDetectedGesture()){this._state&=~(GH_DRAG|GH_TWODRAG|GH_PINCH);this._state&=~GH_LONGPRESS;this._stopLongpressTimeout();if(!this._waitingRelease){this._releaseStart=
Date.now();this._waitingRelease=true;switch(this._tracked.length){case 1:this._state&=~(GH_TWOTAP|GH_THREETAP);break;case 2:this._state&=~(GH_ONETAP|GH_THREETAP);break}}}if(this._waitingRelease){if(Date.now()-this._releaseStart>GH_MULTITOUCH_TIMEOUT)this._state=GH_NOGESTURE;if(this._tracked.some(function(t){return Date.now()-t.started>GH_TAP_TIMEOUT}))this._state=GH_NOGESTURE;var touch=this._tracked.find(function(t){return t.id===id});touch.active=false;if(this._hasDetectedGesture())this._pushEvent("gesturestart");
else if(this._state!==GH_NOGESTURE)return}if(this._hasDetectedGesture())this._pushEvent("gestureend");for(var i=0;i<this._tracked.length;i++)if( __get$(this._tracked,i) .active)this._ignored.push( __get$(this._tracked,i) .id);this._tracked=[];this._state=GH_NOGESTURE;if(this._ignored.indexOf(id)!==-1)this._ignored.splice(this._ignored.indexOf(id),1);if(this._ignored.length===0){this._state=GH_INITSTATE;this._waitingRelease=false}}},{key:"_hasDetectedGesture",value:function _hasDetectedGesture(){if(this._state===GH_NOGESTURE)return false;
if(this._state&this._state-1)return false;if(this._state&(GH_ONETAP|GH_TWOTAP|GH_THREETAP))if(this._tracked.some(function(t){return t.active}))return false;return true}},{key:"_startLongpressTimeout",value:function _startLongpressTimeout(){var _this=this;this._stopLongpressTimeout();this._longpressTimeoutId=setTimeout(function(){return _this._longpressTimeout()},GH_LONGPRESS_TIMEOUT)}},{key:"_stopLongpressTimeout",value:function _stopLongpressTimeout(){clearTimeout(this._longpressTimeoutId);this._longpressTimeoutId=
null}},{key:"_longpressTimeout",value:function _longpressTimeout(){if(this._hasDetectedGesture())throw new Error("A longpress gesture failed, conflict with a different gesture");this._state=GH_LONGPRESS;this._pushEvent("gesturestart")}},{key:"_startTwoTouchTimeout",value:function _startTwoTouchTimeout(){var _this2=this;this._stopTwoTouchTimeout();this._twoTouchTimeoutId=setTimeout(function(){return _this2._twoTouchTimeout()},GH_TWOTOUCH_TIMEOUT)}},{key:"_stopTwoTouchTimeout",value:function _stopTwoTouchTimeout(){clearTimeout(this._twoTouchTimeoutId);
this._twoTouchTimeoutId=null}},{key:"_isTwoTouchTimeoutRunning",value:function _isTwoTouchTimeoutRunning(){return this._twoTouchTimeoutId!==null}},{key:"_twoTouchTimeout",value:function _twoTouchTimeout(){if(this._tracked.length===0)throw new Error("A pinch or two drag gesture failed, no tracked touches");var avgM=this._getAverageMovement();var avgMoveH=Math.abs(avgM.x);var avgMoveV=Math.abs(avgM.y);var avgD=this._getAverageDistance();var deltaTouchDistance=Math.abs(Math.hypot(avgD.first.x,avgD.first.y)-
Math.hypot(avgD.last.x,avgD.last.y));if(avgMoveV<deltaTouchDistance&&avgMoveH<deltaTouchDistance)this._state=GH_PINCH;else this._state=GH_TWODRAG;this._pushEvent("gesturestart");this._pushEvent("gesturemove")}},{key:"_pushEvent",value:function _pushEvent(type){var detail={type:this._stateToGesture(this._state)};var avg=this._getPosition();var pos=avg.last;if(type==="gesturestart")pos=avg.first;switch(this._state){case GH_TWODRAG:case GH_PINCH:pos=avg.first;break}detail["clientX"]=pos.x;detail["clientY"]=
pos.y;if(this._state===GH_PINCH){var distance=this._getAverageDistance();if(type==="gesturestart"){detail["magnitudeX"]=distance.first.x;detail["magnitudeY"]=distance.first.y}else{detail["magnitudeX"]=distance.last.x;detail["magnitudeY"]=distance.last.y}}else if(this._state===GH_TWODRAG)if(type==="gesturestart"){detail["magnitudeX"]=0;detail["magnitudeY"]=0}else{var movement=this._getAverageMovement();detail["magnitudeX"]=movement.x;detail["magnitudeY"]=movement.y}var gev=new CustomEvent(type,{detail:detail});
this._target.dispatchEvent(gev)}},{key:"_stateToGesture",value:function _stateToGesture(state){switch(state){case GH_ONETAP:return"onetap";case GH_TWOTAP:return"twotap";case GH_THREETAP:return"threetap";case GH_DRAG:return"drag";case GH_LONGPRESS:return"longpress";case GH_TWODRAG:return"twodrag";case GH_PINCH:return"pinch"}throw new Error("Unknown gesture state: "+state);}},{key:"_getPosition",value:function _getPosition(){if(this._tracked.length===0)throw new Error("Failed to get gesture position, no tracked touches");
var size=this._tracked.length;var fx=0,fy=0,lx=0,ly=0;for(var i=0;i<this._tracked.length;i++){fx+= __get$(this._tracked,i) .firstX;fy+= __get$(this._tracked,i) .firstY;lx+= __get$(this._tracked,i) .lastX;ly+= __get$(this._tracked,i) .lastY}return{first:{x:fx/size,y:fy/size},last:{x:lx/size,y:ly/size}}}},{key:"_getAverageMovement",value:function _getAverageMovement(){if(this._tracked.length===0)throw new Error("Failed to get gesture movement, no tracked touches");var totalH,totalV;totalH=totalV=0;var size=this._tracked.length;for(var i=
0;i<this._tracked.length;i++){totalH+= __get$(this._tracked,i) .lastX- __get$(this._tracked,i) .firstX;totalV+= __get$(this._tracked,i) .lastY- __get$(this._tracked,i) .firstY}return{x:totalH/size,y:totalV/size}}},{key:"_getAverageDistance",value:function _getAverageDistance(){if(this._tracked.length===0)throw new Error("Failed to get gesture distance, no tracked touches");var first=this._tracked[0];var last= __get$(this._tracked,this._tracked.length-1) ;var fdx=Math.abs(last.firstX-first.firstX);var fdy=Math.abs(last.firstY-first.firstY);var ldx=
Math.abs(last.lastX-first.lastX);var ldy=Math.abs(last.lastY-first.lastY);return{first:{x:fdx,y:fdy},last:{x:ldx,y:ldy}}}}])}()},"./node_modules/@novnc/novnc/lib/input/keyboard.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var Log=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/util/logging.js"));var _events=__webpack_require__("./node_modules/@novnc/novnc/lib/util/events.js");
var KeyboardUtil=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/input/util.js"));var _keysym=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/input/keysym.js"));var browser=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/util/browser.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;
return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||
i.set)?Object.defineProperty(n,u,i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,n),n}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=
0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==
e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var Keyboard=exports["default"]=function(){function Keyboard(target){_classCallCheck(this,Keyboard);this._target=target||null;this._keyDownList={};this._altGrArmed=false;this._eventHandlers={"keyup":this._handleKeyUp.bind(this),"keydown":this._handleKeyDown.bind(this),"blur":this._allKeysUp.bind(this)};this.onkeyevent=function(){}}
return _createClass(Keyboard,[{key:"_sendKeyEvent",value:function _sendKeyEvent(keysym,code,down){var numlock=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var capslock=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;if(down) __set$(this._keyDownList,code,keysym) ;else{if(!(code in this._keyDownList))return;delete this._keyDownList[code]}Log.Debug("onkeyevent "+(down?"down":"up")+", keysym: "+keysym,", code: "+code+", numlock: "+numlock+", capslock: "+capslock);this.onkeyevent(keysym,
code,down,numlock,capslock)}},{key:"_getKeyCode",value:function _getKeyCode(e){var code=KeyboardUtil.getKeycode(e);if(code!=="Unidentified")return code;if(e.keyCode)if(e.keyCode!==229)return"Platform"+e.keyCode;if(e.keyIdentifier){if(e.keyIdentifier.substr(0,2)!=="U+")return e.keyIdentifier;var codepoint=parseInt(e.keyIdentifier.substr(2),16);var _char=String.fromCharCode(codepoint).toUpperCase();return"Platform"+_char.charCodeAt()}return"Unidentified"}},{key:"_handleKeyDown",value:function _handleKeyDown(e){var code=
this._getKeyCode(e);var keysym=KeyboardUtil.getKeysym(e);var numlock=e.getModifierState("NumLock");var capslock=e.getModifierState("CapsLock");if(browser.isMac()||browser.isIOS())numlock=null;if(this._altGrArmed){this._altGrArmed=false;clearTimeout(this._altGrTimeout);if(code==="AltRight"&&e.timeStamp-this._altGrCtrlTime<50)keysym=_keysym["default"].XK_ISO_Level3_Shift;else this._sendKeyEvent(_keysym["default"].XK_Control_L,"ControlLeft",true,numlock,capslock)}if(code==="Unidentified"){if(keysym){this._sendKeyEvent(keysym,
code,true,numlock,capslock);this._sendKeyEvent(keysym,code,false,numlock,capslock)}(0,_events.stopEvent)(e);return}if(browser.isMac()||browser.isIOS())switch(keysym){case _keysym["default"].XK_Super_L:keysym=_keysym["default"].XK_Alt_L;break;case _keysym["default"].XK_Super_R:keysym=_keysym["default"].XK_Super_L;break;case _keysym["default"].XK_Alt_L:keysym=_keysym["default"].XK_Mode_switch;break;case _keysym["default"].XK_Alt_R:keysym=_keysym["default"].XK_ISO_Level3_Shift;break}if(code in this._keyDownList)keysym=
 __get$(this._keyDownList,code) ;if((browser.isMac()||browser.isIOS())&&e.metaKey&&code!=="MetaLeft"&&code!=="MetaRight"){this._sendKeyEvent(keysym,code,true,numlock,capslock);this._sendKeyEvent(keysym,code,false,numlock,capslock);(0,_events.stopEvent)(e);return}if((browser.isMac()||browser.isIOS())&&code==="CapsLock"){this._sendKeyEvent(_keysym["default"].XK_Caps_Lock,"CapsLock",true,numlock,capslock);this._sendKeyEvent(_keysym["default"].XK_Caps_Lock,"CapsLock",false,numlock,capslock);(0,_events.stopEvent)(e);
return}var jpBadKeys=[_keysym["default"].XK_Zenkaku_Hankaku,_keysym["default"].XK_Eisu_toggle,_keysym["default"].XK_Katakana,_keysym["default"].XK_Hiragana,_keysym["default"].XK_Romaji];if(browser.isWindows()&&jpBadKeys.includes(keysym)){this._sendKeyEvent(keysym,code,true,numlock,capslock);this._sendKeyEvent(keysym,code,false,numlock,capslock);(0,_events.stopEvent)(e);return}(0,_events.stopEvent)(e);if(code==="ControlLeft"&&browser.isWindows()&&!("ControlLeft"in this._keyDownList)){this._altGrArmed=
true;this._altGrTimeout=setTimeout(this._interruptAltGrSequence.bind(this),100);this._altGrCtrlTime=e.timeStamp;return}this._sendKeyEvent(keysym,code,true,numlock,capslock)}},{key:"_handleKeyUp",value:function _handleKeyUp(e){(0,_events.stopEvent)(e);var code=this._getKeyCode(e);this._interruptAltGrSequence();if((browser.isMac()||browser.isIOS())&&code==="CapsLock"){this._sendKeyEvent(_keysym["default"].XK_Caps_Lock,"CapsLock",true);this._sendKeyEvent(_keysym["default"].XK_Caps_Lock,"CapsLock",false);
return}this._sendKeyEvent( __get$(this._keyDownList,code) ,code,false);if(browser.isWindows()&&(code==="ShiftLeft"||code==="ShiftRight")){if("ShiftRight"in this._keyDownList)this._sendKeyEvent(this._keyDownList["ShiftRight"],"ShiftRight",false);if("ShiftLeft"in this._keyDownList)this._sendKeyEvent(this._keyDownList["ShiftLeft"],"ShiftLeft",false)}}},{key:"_interruptAltGrSequence",value:function _interruptAltGrSequence(){if(this._altGrArmed){this._altGrArmed=false;clearTimeout(this._altGrTimeout);this._sendKeyEvent(_keysym["default"].XK_Control_L,
"ControlLeft",true)}}},{key:"_allKeysUp",value:function _allKeysUp(){Log.Debug(">> Keyboard.allKeysUp");this._interruptAltGrSequence();for(var code in this._keyDownList)this._sendKeyEvent( __get$(this._keyDownList,code) ,code,false);Log.Debug("<< Keyboard.allKeysUp")}},{key:"grab",value:function grab(){this._target.addEventListener("keydown",this._eventHandlers.keydown);this._target.addEventListener("keyup",this._eventHandlers.keyup);window.addEventListener("blur",this._eventHandlers.blur)}},{key:"ungrab",
value:function ungrab(){this._target.removeEventListener("keydown",this._eventHandlers.keydown);this._target.removeEventListener("keyup",this._eventHandlers.keyup);window.removeEventListener("blur",this._eventHandlers.blur);this._allKeysUp()}}])}()},"./node_modules/@novnc/novnc/lib/input/keysym.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _default=exports["default"]={XK_VoidSymbol:16777215,XK_BackSpace:65288,XK_Tab:65289,
XK_Linefeed:65290,XK_Clear:65291,XK_Return:65293,XK_Pause:65299,XK_Scroll_Lock:65300,XK_Sys_Req:65301,XK_Escape:65307,XK_Delete:65535,XK_Multi_key:65312,XK_Codeinput:65335,XK_SingleCandidate:65340,XK_MultipleCandidate:65341,XK_PreviousCandidate:65342,XK_Kanji:65313,XK_Muhenkan:65314,XK_Henkan_Mode:65315,XK_Henkan:65315,XK_Romaji:65316,XK_Hiragana:65317,XK_Katakana:65318,XK_Hiragana_Katakana:65319,XK_Zenkaku:65320,XK_Hankaku:65321,XK_Zenkaku_Hankaku:65322,XK_Touroku:65323,XK_Massyo:65324,XK_Kana_Lock:65325,
XK_Kana_Shift:65326,XK_Eisu_Shift:65327,XK_Eisu_toggle:65328,XK_Kanji_Bangou:65335,XK_Zen_Koho:65341,XK_Mae_Koho:65342,XK_Home:65360,XK_Left:65361,XK_Up:65362,XK_Right:65363,XK_Down:65364,XK_Prior:65365,XK_Page_Up:65365,XK_Next:65366,XK_Page_Down:65366,XK_End:65367,XK_Begin:65368,XK_Select:65376,XK_Print:65377,XK_Execute:65378,XK_Insert:65379,XK_Undo:65381,XK_Redo:65382,XK_Menu:65383,XK_Find:65384,XK_Cancel:65385,XK_Help:65386,XK_Break:65387,XK_Mode_switch:65406,XK_script_switch:65406,XK_Num_Lock:65407,
XK_KP_Space:65408,XK_KP_Tab:65417,XK_KP_Enter:65421,XK_KP_F1:65425,XK_KP_F2:65426,XK_KP_F3:65427,XK_KP_F4:65428,XK_KP_Home:65429,XK_KP_Left:65430,XK_KP_Up:65431,XK_KP_Right:65432,XK_KP_Down:65433,XK_KP_Prior:65434,XK_KP_Page_Up:65434,XK_KP_Next:65435,XK_KP_Page_Down:65435,XK_KP_End:65436,XK_KP_Begin:65437,XK_KP_Insert:65438,XK_KP_Delete:65439,XK_KP_Equal:65469,XK_KP_Multiply:65450,XK_KP_Add:65451,XK_KP_Separator:65452,XK_KP_Subtract:65453,XK_KP_Decimal:65454,XK_KP_Divide:65455,XK_KP_0:65456,XK_KP_1:65457,
XK_KP_2:65458,XK_KP_3:65459,XK_KP_4:65460,XK_KP_5:65461,XK_KP_6:65462,XK_KP_7:65463,XK_KP_8:65464,XK_KP_9:65465,XK_F1:65470,XK_F2:65471,XK_F3:65472,XK_F4:65473,XK_F5:65474,XK_F6:65475,XK_F7:65476,XK_F8:65477,XK_F9:65478,XK_F10:65479,XK_F11:65480,XK_L1:65480,XK_F12:65481,XK_L2:65481,XK_F13:65482,XK_L3:65482,XK_F14:65483,XK_L4:65483,XK_F15:65484,XK_L5:65484,XK_F16:65485,XK_L6:65485,XK_F17:65486,XK_L7:65486,XK_F18:65487,XK_L8:65487,XK_F19:65488,XK_L9:65488,XK_F20:65489,XK_L10:65489,XK_F21:65490,XK_R1:65490,
XK_F22:65491,XK_R2:65491,XK_F23:65492,XK_R3:65492,XK_F24:65493,XK_R4:65493,XK_F25:65494,XK_R5:65494,XK_F26:65495,XK_R6:65495,XK_F27:65496,XK_R7:65496,XK_F28:65497,XK_R8:65497,XK_F29:65498,XK_R9:65498,XK_F30:65499,XK_R10:65499,XK_F31:65500,XK_R11:65500,XK_F32:65501,XK_R12:65501,XK_F33:65502,XK_R13:65502,XK_F34:65503,XK_R14:65503,XK_F35:65504,XK_R15:65504,XK_Shift_L:65505,XK_Shift_R:65506,XK_Control_L:65507,XK_Control_R:65508,XK_Caps_Lock:65509,XK_Shift_Lock:65510,XK_Meta_L:65511,XK_Meta_R:65512,XK_Alt_L:65513,
XK_Alt_R:65514,XK_Super_L:65515,XK_Super_R:65516,XK_Hyper_L:65517,XK_Hyper_R:65518,XK_ISO_Level3_Shift:65027,XK_ISO_Next_Group:65032,XK_ISO_Prev_Group:65034,XK_ISO_First_Group:65036,XK_ISO_Last_Group:65038,XK_space:32,XK_exclam:33,XK_quotedbl:34,XK_numbersign:35,XK_dollar:36,XK_percent:37,XK_ampersand:38,XK_apostrophe:39,XK_quoteright:39,XK_parenleft:40,XK_parenright:41,XK_asterisk:42,XK_plus:43,XK_comma:44,XK_minus:45,XK_period:46,XK_slash:47,XK_0:48,XK_1:49,XK_2:50,XK_3:51,XK_4:52,XK_5:53,XK_6:54,
XK_7:55,XK_8:56,XK_9:57,XK_colon:58,XK_semicolon:59,XK_less:60,XK_equal:61,XK_greater:62,XK_question:63,XK_at:64,XK_A:65,XK_B:66,XK_C:67,XK_D:68,XK_E:69,XK_F:70,XK_G:71,XK_H:72,XK_I:73,XK_J:74,XK_K:75,XK_L:76,XK_M:77,XK_N:78,XK_O:79,XK_P:80,XK_Q:81,XK_R:82,XK_S:83,XK_T:84,XK_U:85,XK_V:86,XK_W:87,XK_X:88,XK_Y:89,XK_Z:90,XK_bracketleft:91,XK_backslash:92,XK_bracketright:93,XK_asciicircum:94,XK_underscore:95,XK_grave:96,XK_quoteleft:96,XK_a:97,XK_b:98,XK_c:99,XK_d:100,XK_e:101,XK_f:102,XK_g:103,XK_h:104,
XK_i:105,XK_j:106,XK_k:107,XK_l:108,XK_m:109,XK_n:110,XK_o:111,XK_p:112,XK_q:113,XK_r:114,XK_s:115,XK_t:116,XK_u:117,XK_v:118,XK_w:119,XK_x:120,XK_y:121,XK_z:122,XK_braceleft:123,XK_bar:124,XK_braceright:125,XK_asciitilde:126,XK_nobreakspace:160,XK_exclamdown:161,XK_cent:162,XK_sterling:163,XK_currency:164,XK_yen:165,XK_brokenbar:166,XK_section:167,XK_diaeresis:168,XK_copyright:169,XK_ordfeminine:170,XK_guillemotleft:171,XK_notsign:172,XK_hyphen:173,XK_registered:174,XK_macron:175,XK_degree:176,XK_plusminus:177,
XK_twosuperior:178,XK_threesuperior:179,XK_acute:180,XK_mu:181,XK_paragraph:182,XK_periodcentered:183,XK_cedilla:184,XK_onesuperior:185,XK_masculine:186,XK_guillemotright:187,XK_onequarter:188,XK_onehalf:189,XK_threequarters:190,XK_questiondown:191,XK_Agrave:192,XK_Aacute:193,XK_Acircumflex:194,XK_Atilde:195,XK_Adiaeresis:196,XK_Aring:197,XK_AE:198,XK_Ccedilla:199,XK_Egrave:200,XK_Eacute:201,XK_Ecircumflex:202,XK_Ediaeresis:203,XK_Igrave:204,XK_Iacute:205,XK_Icircumflex:206,XK_Idiaeresis:207,XK_ETH:208,
XK_Eth:208,XK_Ntilde:209,XK_Ograve:210,XK_Oacute:211,XK_Ocircumflex:212,XK_Otilde:213,XK_Odiaeresis:214,XK_multiply:215,XK_Oslash:216,XK_Ooblique:216,XK_Ugrave:217,XK_Uacute:218,XK_Ucircumflex:219,XK_Udiaeresis:220,XK_Yacute:221,XK_THORN:222,XK_Thorn:222,XK_ssharp:223,XK_agrave:224,XK_aacute:225,XK_acircumflex:226,XK_atilde:227,XK_adiaeresis:228,XK_aring:229,XK_ae:230,XK_ccedilla:231,XK_egrave:232,XK_eacute:233,XK_ecircumflex:234,XK_ediaeresis:235,XK_igrave:236,XK_iacute:237,XK_icircumflex:238,XK_idiaeresis:239,
XK_eth:240,XK_ntilde:241,XK_ograve:242,XK_oacute:243,XK_ocircumflex:244,XK_otilde:245,XK_odiaeresis:246,XK_division:247,XK_oslash:248,XK_ooblique:248,XK_ugrave:249,XK_uacute:250,XK_ucircumflex:251,XK_udiaeresis:252,XK_yacute:253,XK_thorn:254,XK_ydiaeresis:255,XK_Hangul:65329,XK_Hangul_Hanja:65332,XK_Hangul_Jeonja:65336,XF86XK_ModeLock:269025025,XF86XK_MonBrightnessUp:269025026,XF86XK_MonBrightnessDown:269025027,XF86XK_KbdLightOnOff:269025028,XF86XK_KbdBrightnessUp:269025029,XF86XK_KbdBrightnessDown:269025030,
XF86XK_Standby:269025040,XF86XK_AudioLowerVolume:269025041,XF86XK_AudioMute:269025042,XF86XK_AudioRaiseVolume:269025043,XF86XK_AudioPlay:269025044,XF86XK_AudioStop:269025045,XF86XK_AudioPrev:269025046,XF86XK_AudioNext:269025047,XF86XK_HomePage:269025048,XF86XK_Mail:269025049,XF86XK_Start:269025050,XF86XK_Search:269025051,XF86XK_AudioRecord:269025052,XF86XK_Calculator:269025053,XF86XK_Memo:269025054,XF86XK_ToDoList:269025055,XF86XK_Calendar:269025056,XF86XK_PowerDown:269025057,XF86XK_ContrastAdjust:269025058,
XF86XK_RockerUp:269025059,XF86XK_RockerDown:269025060,XF86XK_RockerEnter:269025061,XF86XK_Back:269025062,XF86XK_Forward:269025063,XF86XK_Stop:269025064,XF86XK_Refresh:269025065,XF86XK_PowerOff:269025066,XF86XK_WakeUp:269025067,XF86XK_Eject:269025068,XF86XK_ScreenSaver:269025069,XF86XK_WWW:269025070,XF86XK_Sleep:269025071,XF86XK_Favorites:269025072,XF86XK_AudioPause:269025073,XF86XK_AudioMedia:269025074,XF86XK_MyComputer:269025075,XF86XK_VendorHome:269025076,XF86XK_LightBulb:269025077,XF86XK_Shop:269025078,
XF86XK_History:269025079,XF86XK_OpenURL:269025080,XF86XK_AddFavorite:269025081,XF86XK_HotLinks:269025082,XF86XK_BrightnessAdjust:269025083,XF86XK_Finance:269025084,XF86XK_Community:269025085,XF86XK_AudioRewind:269025086,XF86XK_BackForward:269025087,XF86XK_Launch0:269025088,XF86XK_Launch1:269025089,XF86XK_Launch2:269025090,XF86XK_Launch3:269025091,XF86XK_Launch4:269025092,XF86XK_Launch5:269025093,XF86XK_Launch6:269025094,XF86XK_Launch7:269025095,XF86XK_Launch8:269025096,XF86XK_Launch9:269025097,XF86XK_LaunchA:269025098,
XF86XK_LaunchB:269025099,XF86XK_LaunchC:269025100,XF86XK_LaunchD:269025101,XF86XK_LaunchE:269025102,XF86XK_LaunchF:269025103,XF86XK_ApplicationLeft:269025104,XF86XK_ApplicationRight:269025105,XF86XK_Book:269025106,XF86XK_CD:269025107,XF86XK_Calculater:269025108,XF86XK_Clear:269025109,XF86XK_Close:269025110,XF86XK_Copy:269025111,XF86XK_Cut:269025112,XF86XK_Display:269025113,XF86XK_DOS:269025114,XF86XK_Documents:269025115,XF86XK_Excel:269025116,XF86XK_Explorer:269025117,XF86XK_Game:269025118,XF86XK_Go:269025119,
XF86XK_iTouch:269025120,XF86XK_LogOff:269025121,XF86XK_Market:269025122,XF86XK_Meeting:269025123,XF86XK_MenuKB:269025125,XF86XK_MenuPB:269025126,XF86XK_MySites:269025127,XF86XK_New:269025128,XF86XK_News:269025129,XF86XK_OfficeHome:269025130,XF86XK_Open:269025131,XF86XK_Option:269025132,XF86XK_Paste:269025133,XF86XK_Phone:269025134,XF86XK_Q:269025136,XF86XK_Reply:269025138,XF86XK_Reload:269025139,XF86XK_RotateWindows:269025140,XF86XK_RotationPB:269025141,XF86XK_RotationKB:269025142,XF86XK_Save:269025143,
XF86XK_ScrollUp:269025144,XF86XK_ScrollDown:269025145,XF86XK_ScrollClick:269025146,XF86XK_Send:269025147,XF86XK_Spell:269025148,XF86XK_SplitScreen:269025149,XF86XK_Support:269025150,XF86XK_TaskPane:269025151,XF86XK_Terminal:269025152,XF86XK_Tools:269025153,XF86XK_Travel:269025154,XF86XK_UserPB:269025156,XF86XK_User1KB:269025157,XF86XK_User2KB:269025158,XF86XK_Video:269025159,XF86XK_WheelButton:269025160,XF86XK_Word:269025161,XF86XK_Xfer:269025162,XF86XK_ZoomIn:269025163,XF86XK_ZoomOut:269025164,XF86XK_Away:269025165,
XF86XK_Messenger:269025166,XF86XK_WebCam:269025167,XF86XK_MailForward:269025168,XF86XK_Pictures:269025169,XF86XK_Music:269025170,XF86XK_Battery:269025171,XF86XK_Bluetooth:269025172,XF86XK_WLAN:269025173,XF86XK_UWB:269025174,XF86XK_AudioForward:269025175,XF86XK_AudioRepeat:269025176,XF86XK_AudioRandomPlay:269025177,XF86XK_Subtitle:269025178,XF86XK_AudioCycleTrack:269025179,XF86XK_CycleAngle:269025180,XF86XK_FrameBack:269025181,XF86XK_FrameForward:269025182,XF86XK_Time:269025183,XF86XK_Select:269025184,
XF86XK_View:269025185,XF86XK_TopMenu:269025186,XF86XK_Red:269025187,XF86XK_Green:269025188,XF86XK_Yellow:269025189,XF86XK_Blue:269025190,XF86XK_Suspend:269025191,XF86XK_Hibernate:269025192,XF86XK_TouchpadToggle:269025193,XF86XK_TouchpadOn:269025200,XF86XK_TouchpadOff:269025201,XF86XK_AudioMicMute:269025202,XF86XK_Switch_VT_1:269024769,XF86XK_Switch_VT_2:269024770,XF86XK_Switch_VT_3:269024771,XF86XK_Switch_VT_4:269024772,XF86XK_Switch_VT_5:269024773,XF86XK_Switch_VT_6:269024774,XF86XK_Switch_VT_7:269024775,
XF86XK_Switch_VT_8:269024776,XF86XK_Switch_VT_9:269024777,XF86XK_Switch_VT_10:269024778,XF86XK_Switch_VT_11:269024779,XF86XK_Switch_VT_12:269024780,XF86XK_Ungrab:269024800,XF86XK_ClearGrab:269024801,XF86XK_Next_VMode:269024802,XF86XK_Prev_VMode:269024803,XF86XK_LogWindowTree:269024804,XF86XK_LogGrabInfo:269024805}},"./node_modules/@novnc/novnc/lib/input/keysymdef.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var codepoints=
{256:960,257:992,258:451,259:483,260:417,261:433,262:454,263:486,264:710,265:742,266:709,267:741,268:456,269:488,270:463,271:495,272:464,273:496,274:938,275:954,278:972,279:1004,280:458,281:490,282:460,283:492,284:728,285:760,286:683,287:699,288:725,289:757,290:939,291:955,292:678,293:694,294:673,295:689,296:933,297:949,298:975,299:1007,302:967,303:999,304:681,305:697,308:684,309:700,310:979,311:1011,312:930,313:453,314:485,315:934,316:950,317:421,318:437,321:419,322:435,323:465,324:497,325:977,326:1009,
327:466,328:498,330:957,331:959,332:978,333:1010,336:469,337:501,338:5052,339:5053,340:448,341:480,342:931,343:947,344:472,345:504,346:422,347:438,348:734,349:766,350:426,351:442,352:425,353:441,354:478,355:510,356:427,357:443,358:940,359:956,360:989,361:1021,362:990,363:1022,364:733,365:765,366:473,367:505,368:475,369:507,370:985,371:1017,376:5054,377:428,378:444,379:431,380:447,381:430,382:446,402:2294,466:16777681,711:439,728:418,729:511,731:434,733:445,901:1966,902:1953,904:1954,905:1955,906:1956,
908:1959,910:1960,911:1963,912:1974,913:1985,914:1986,915:1987,916:1988,917:1989,918:1990,919:1991,920:1992,921:1993,922:1994,923:1995,924:1996,925:1997,926:1998,927:1999,928:2E3,929:2001,931:2002,932:2004,933:2005,934:2006,935:2007,936:2008,937:2009,938:1957,939:1961,940:1969,941:1970,942:1971,943:1972,944:1978,945:2017,946:2018,947:2019,948:2020,949:2021,950:2022,951:2023,952:2024,953:2025,954:2026,955:2027,956:2028,957:2029,958:2030,959:2031,960:2032,961:2033,962:2035,963:2034,964:2036,965:2037,
966:2038,967:2039,968:2040,969:2041,970:1973,971:1977,972:1975,973:1976,974:1979,1025:1715,1026:1713,1027:1714,1028:1716,1029:1717,1030:1718,1031:1719,1032:1720,1033:1721,1034:1722,1035:1723,1036:1724,1038:1726,1039:1727,1040:1761,1041:1762,1042:1783,1043:1767,1044:1764,1045:1765,1046:1782,1047:1786,1048:1769,1049:1770,1050:1771,1051:1772,1052:1773,1053:1774,1054:1775,1055:1776,1056:1778,1057:1779,1058:1780,1059:1781,1060:1766,1061:1768,1062:1763,1063:1790,1064:1787,1065:1789,1066:1791,1067:1785,
1068:1784,1069:1788,1070:1760,1071:1777,1072:1729,1073:1730,1074:1751,1075:1735,1076:1732,1077:1733,1078:1750,1079:1754,1080:1737,1081:1738,1082:1739,1083:1740,1084:1741,1085:1742,1086:1743,1087:1744,1088:1746,1089:1747,1090:1748,1091:1749,1092:1734,1093:1736,1094:1731,1095:1758,1096:1755,1097:1757,1098:1759,1099:1753,1100:1752,1101:1756,1102:1728,1103:1745,1105:1699,1106:1697,1107:1698,1108:1700,1109:1701,1110:1702,1111:1703,1112:1704,1113:1705,1114:1706,1115:1707,1116:1708,1118:1710,1119:1711,1168:1725,
1169:1709,1488:3296,1489:3297,1490:3298,1491:3299,1492:3300,1493:3301,1494:3302,1495:3303,1496:3304,1497:3305,1498:3306,1499:3307,1500:3308,1501:3309,1502:3310,1503:3311,1504:3312,1505:3313,1506:3314,1507:3315,1508:3316,1509:3317,1510:3318,1511:3319,1512:3320,1513:3321,1514:3322,1548:1452,1563:1467,1567:1471,1569:1473,1570:1474,1571:1475,1572:1476,1573:1477,1574:1478,1575:1479,1576:1480,1577:1481,1578:1482,1579:1483,1580:1484,1581:1485,1582:1486,1583:1487,1584:1488,1585:1489,1586:1490,1587:1491,1588:1492,
1589:1493,1590:1494,1591:1495,1592:1496,1593:1497,1594:1498,1600:1504,1601:1505,1602:1506,1603:1507,1604:1508,1605:1509,1606:1510,1607:1511,1608:1512,1609:1513,1610:1514,1611:1515,1612:1516,1613:1517,1614:1518,1615:1519,1616:1520,1617:1521,1618:1522,3585:3489,3586:3490,3587:3491,3588:3492,3589:3493,3590:3494,3591:3495,3592:3496,3593:3497,3594:3498,3595:3499,3596:3500,3597:3501,3598:3502,3599:3503,3600:3504,3601:3505,3602:3506,3603:3507,3604:3508,3605:3509,3606:3510,3607:3511,3608:3512,3609:3513,3610:3514,
3611:3515,3612:3516,3613:3517,3614:3518,3615:3519,3616:3520,3617:3521,3618:3522,3619:3523,3620:3524,3621:3525,3622:3526,3623:3527,3624:3528,3625:3529,3626:3530,3627:3531,3628:3532,3629:3533,3630:3534,3631:3535,3632:3536,3633:3537,3634:3538,3635:3539,3636:3540,3637:3541,3638:3542,3639:3543,3640:3544,3641:3545,3642:3546,3647:3551,3648:3552,3649:3553,3650:3554,3651:3555,3652:3556,3653:3557,3654:3558,3655:3559,3656:3560,3657:3561,3658:3562,3659:3563,3660:3564,3661:3565,3664:3568,3665:3569,3666:3570,3667:3571,
3668:3572,3669:3573,3670:3574,3671:3575,3672:3576,3673:3577,8194:2722,8195:2721,8196:2723,8197:2724,8199:2725,8200:2726,8201:2727,8202:2728,8210:2747,8211:2730,8212:2729,8213:1967,8215:3295,8216:2768,8217:2769,8218:2813,8220:2770,8221:2771,8222:2814,8224:2801,8225:2802,8226:2790,8229:2735,8230:2734,8240:2773,8242:2774,8243:2775,8248:2812,8254:1150,8361:3839,8364:8364,8453:2744,8470:1712,8471:2811,8478:2772,8482:2761,8531:2736,8532:2737,8533:2738,8534:2739,8535:2740,8536:2741,8537:2742,8538:2743,8539:2755,
8540:2756,8541:2757,8542:2758,8592:2299,8593:2300,8594:2301,8595:2302,8658:2254,8660:2253,8706:2287,8711:2245,8728:3018,8730:2262,8733:2241,8734:2242,8743:2270,8744:2271,8745:2268,8746:2269,8747:2239,8756:2240,8764:2248,8771:2249,8773:16785992,8800:2237,8801:2255,8804:2236,8805:2238,8834:2266,8835:2267,8866:3068,8867:3036,8868:3010,8869:3022,8968:3027,8970:3012,8981:2810,8992:2212,8993:2213,9109:3020,9115:2219,9117:2220,9118:2221,9120:2222,9121:2215,9123:2216,9124:2217,9126:2218,9128:2223,9132:2224,
9143:2209,9146:2543,9147:2544,9148:2546,9149:2547,9225:2530,9226:2533,9227:2537,9228:2531,9229:2532,9251:2732,9252:2536,9472:2211,9474:2214,9484:2210,9488:2539,9492:2541,9496:2538,9500:2548,9508:2549,9516:2551,9524:2550,9532:2542,9618:2529,9642:2791,9643:2785,9644:2779,9645:2786,9646:2783,9647:2767,9650:2792,9651:2787,9654:2781,9655:2765,9660:2793,9661:2788,9664:2780,9665:2764,9670:2528,9675:2766,9679:2782,9702:2784,9734:2789,9742:2809,9747:2762,9756:2794,9758:2795,9792:2808,9794:2807,9827:2796,9829:2798,
9830:2797,9837:2806,9839:2805,10003:2803,10007:2804,10013:2777,10016:2800,10216:2748,10217:2750,12289:1188,12290:1185,12300:1186,12301:1187,12443:1246,12444:1247,12449:1191,12450:1201,12451:1192,12452:1202,12453:1193,12454:1203,12455:1194,12456:1204,12457:1195,12458:1205,12459:1206,12461:1207,12463:1208,12465:1209,12467:1210,12469:1211,12471:1212,12473:1213,12475:1214,12477:1215,12479:1216,12481:1217,12483:1199,12484:1218,12486:1219,12488:1220,12490:1221,12491:1222,12492:1223,12493:1224,12494:1225,
12495:1226,12498:1227,12501:1228,12504:1229,12507:1230,12510:1231,12511:1232,12512:1233,12513:1234,12514:1235,12515:1196,12516:1236,12517:1197,12518:1237,12519:1198,12520:1238,12521:1239,12522:1240,12523:1241,12524:1242,12525:1243,12527:1244,12530:1190,12531:1245,12539:1189,12540:1200};var _default=exports["default"]={lookup:function lookup(u){if(u>=32&&u<=255)return u;var keysym= __get$(codepoints,u) ;if(keysym!==undefined)return keysym;return 16777216|u}}},"./node_modules/@novnc/novnc/lib/input/util.js":(__unused_webpack_module,
exports,__webpack_require__)=>{function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.getKey=getKey;exports.getKeycode=getKeycode;exports.getKeysym=getKeysym;var _keysym=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/input/keysym.js"));
var _keysymdef=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/input/keysymdef.js"));var _vkeys=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/input/vkeys.js"));var _fixedkeys=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/input/fixedkeys.js"));var _domkeytable=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/input/domkeytable.js"));var browser=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/util/browser.js"));
function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==
u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,n),n}function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function getKeycode(evt){if(evt.code){switch(evt.code){case "OSLeft":return"MetaLeft";case "OSRight":return"MetaRight"}return evt.code}if(evt.keyCode in _vkeys["default"]){var code= __get$(_vkeys["default"],evt.keyCode) ;if(browser.isMac()&&code==="ContextMenu")code=
"MetaRight";if( __get$(evt,"location") ===2)switch(code){case "ShiftLeft":return"ShiftRight";case "ControlLeft":return"ControlRight";case "AltLeft":return"AltRight"}if( __get$(evt,"location") ===3)switch(code){case "Delete":return"NumpadDecimal";case "Insert":return"Numpad0";case "End":return"Numpad1";case "ArrowDown":return"Numpad2";case "PageDown":return"Numpad3";case "ArrowLeft":return"Numpad4";case "ArrowRight":return"Numpad6";case "Home":return"Numpad7";case "ArrowUp":return"Numpad8";case "PageUp":return"Numpad9";case "Enter":return"NumpadEnter"}return code}return"Unidentified"}
function getKey(evt){if(evt.key!==undefined&&evt.key!=="Unidentified"){switch(evt.key){case "OS":return"Meta";case "LaunchMyComputer":return"LaunchApplication1";case "LaunchCalculator":return"LaunchApplication2"}switch(evt.key){case "UIKeyInputUpArrow":return"ArrowUp";case "UIKeyInputDownArrow":return"ArrowDown";case "UIKeyInputLeftArrow":return"ArrowLeft";case "UIKeyInputRightArrow":return"ArrowRight";case "UIKeyInputEscape":return"Escape"}if(evt.key==="\x00"&&evt.code==="NumpadDecimal")return"Delete";
return evt.key}var code=getKeycode(evt);if(code in _fixedkeys["default"])return  __get$(_fixedkeys["default"],code) ;if(evt.charCode)return String.fromCharCode(evt.charCode);return"Unidentified"}function getKeysym(evt){var key=getKey(evt);if(key==="Unidentified")return null;if(key in _domkeytable["default"]){var location= __get$(evt,"location") ;if(key==="Meta"&& __get$Loc(location) ===0) 0,function(){var _hh$temp2=2;return __set$Loc(location,_hh$temp2)||(location=_hh$temp2);}.call(this) ;if(key==="Clear"&& __get$Loc(location) ===3){var code=getKeycode(evt);if(code==="NumLock") 0,function(){var _hh$temp3=0;return __set$Loc(location,_hh$temp3)||(location=_hh$temp3);}.call(this) }if( __get$Loc(location) ===undefined|| __get$Loc(location) >3) 0,function(){var _hh$temp4=0;return __set$Loc(location,_hh$temp4)||(location=_hh$temp4);}.call(this) ;if(key==="Meta"){var _code=getKeycode(evt);if(_code==="AltLeft")return _keysym["default"].XK_Meta_L;else if(_code==="AltRight")return _keysym["default"].XK_Meta_R}if(key==="Clear"){var _code2=getKeycode(evt);if(_code2==="NumLock")return _keysym["default"].XK_Num_Lock}if(browser.isWindows())switch(key){case "Zenkaku":case "Hankaku":return _keysym["default"].XK_Zenkaku_Hankaku;case "Romaji":case "KanaMode":return _keysym["default"].XK_Romaji}return  __get$(__get$(_domkeytable["default"],key),__get$Loc(location)) }if(key.length!==
1)return null;var codepoint=key.charCodeAt();if(codepoint)return _keysymdef["default"].lookup(codepoint);return null}},"./node_modules/@novnc/novnc/lib/input/vkeys.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _default=exports["default"]={8:"Backspace",9:"Tab",10:"NumpadClear",13:"Enter",16:"ShiftLeft",17:"ControlLeft",18:"AltLeft",19:"Pause",20:"CapsLock",21:"Lang1",25:"Lang2",27:"Escape",28:"Convert",29:"NonConvert",
32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",44:"PrintScreen",45:"Insert",46:"Delete",47:"Help",48:"Digit0",49:"Digit1",50:"Digit2",51:"Digit3",52:"Digit4",53:"Digit5",54:"Digit6",55:"Digit7",56:"Digit8",57:"Digit9",91:"MetaLeft",92:"MetaRight",93:"ContextMenu",95:"Sleep",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",106:"NumpadMultiply",
107:"NumpadAdd",108:"NumpadDecimal",109:"NumpadSubtract",110:"NumpadDecimal",111:"NumpadDivide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"NumLock",145:"ScrollLock",166:"BrowserBack",167:"BrowserForward",168:"BrowserRefresh",169:"BrowserStop",170:"BrowserSearch",171:"BrowserFavorites",172:"BrowserHome",173:"AudioVolumeMute",
174:"AudioVolumeDown",175:"AudioVolumeUp",176:"MediaTrackNext",177:"MediaTrackPrevious",178:"MediaStop",179:"MediaPlayPause",180:"LaunchMail",181:"MediaSelect",182:"LaunchApp1",183:"LaunchApp2",225:"AltRight"}},"./node_modules/@novnc/novnc/lib/input/xtscancodes.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _default=exports["default"]={"Again":57349,"AltLeft":56,"AltRight":57400,"ArrowDown":57424,"ArrowLeft":57419,"ArrowRight":57421,
"ArrowUp":57416,"AudioVolumeDown":57390,"AudioVolumeMute":57376,"AudioVolumeUp":57392,"Backquote":41,"Backslash":43,"Backspace":14,"BracketLeft":26,"BracketRight":27,"BrowserBack":57450,"BrowserFavorites":57446,"BrowserForward":57449,"BrowserHome":57394,"BrowserRefresh":57447,"BrowserSearch":57445,"BrowserStop":57448,"CapsLock":58,"Comma":51,"ContextMenu":57437,"ControlLeft":29,"ControlRight":57373,"Convert":121,"Copy":57464,"Cut":57404,"Delete":57427,"Digit0":11,"Digit1":2,"Digit2":3,"Digit3":4,
"Digit4":5,"Digit5":6,"Digit6":7,"Digit7":8,"Digit8":9,"Digit9":10,"Eject":57469,"End":57423,"Enter":28,"Equal":13,"Escape":1,"F1":59,"F10":68,"F11":87,"F12":88,"F13":93,"F14":94,"F15":95,"F16":85,"F17":57347,"F18":57463,"F19":57348,"F2":60,"F20":90,"F21":116,"F22":57465,"F23":109,"F24":111,"F3":61,"F4":62,"F5":63,"F6":64,"F7":65,"F8":66,"F9":67,"Find":57409,"Help":57461,"Hiragana":119,"Home":57415,"Insert":57426,"IntlBackslash":86,"IntlRo":115,"IntlYen":125,"KanaMode":112,"Katakana":120,"KeyA":30,
"KeyB":48,"KeyC":46,"KeyD":32,"KeyE":18,"KeyF":33,"KeyG":34,"KeyH":35,"KeyI":23,"KeyJ":36,"KeyK":37,"KeyL":38,"KeyM":50,"KeyN":49,"KeyO":24,"KeyP":25,"KeyQ":16,"KeyR":19,"KeyS":31,"KeyT":20,"KeyU":22,"KeyV":47,"KeyW":17,"KeyX":45,"KeyY":21,"KeyZ":44,"Lang1":114,"Lang2":113,"Lang3":120,"Lang4":119,"Lang5":118,"LaunchApp1":57451,"LaunchApp2":57377,"LaunchMail":57452,"MediaPlayPause":57378,"MediaSelect":57453,"MediaStop":57380,"MediaTrackNext":57369,"MediaTrackPrevious":57360,"MetaLeft":57435,"MetaRight":57436,
"Minus":12,"NonConvert":123,"NumLock":69,"Numpad0":82,"Numpad1":79,"Numpad2":80,"Numpad3":81,"Numpad4":75,"Numpad5":76,"Numpad6":77,"Numpad7":71,"Numpad8":72,"Numpad9":73,"NumpadAdd":78,"NumpadComma":126,"NumpadDecimal":83,"NumpadDivide":57397,"NumpadEnter":57372,"NumpadEqual":89,"NumpadMultiply":55,"NumpadParenLeft":57462,"NumpadParenRight":57467,"NumpadSubtract":74,"Open":100,"PageDown":57425,"PageUp":57417,"Paste":101,"Pause":57414,"Period":52,"Power":57438,"PrintScreen":84,"Props":57350,"Quote":40,
"ScrollLock":70,"Semicolon":39,"ShiftLeft":42,"ShiftRight":54,"Slash":53,"Sleep":57439,"Space":57,"Suspend":57381,"Tab":15,"Undo":57351,"WakeUp":57443}},"./node_modules/@novnc/novnc/lib/ra2.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _strings=__webpack_require__("./node_modules/@novnc/novnc/lib/util/strings.js");var _eventtarget=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/util/eventtarget.js"));
var _crypto=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/crypto/crypto.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e))}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");
return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||
Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,
e)}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){ __set$(t,e,r.value) },i="function"==typeof Symbol?
Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}), __get$(t,e) }try{define({},"")}catch(t){define=function define(t,e,r){return  __set$(t,e,r) }}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",
arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){define(t,
e,function(t){return this._invoke(e,t)})})}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch( __get$(t,r) ,t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){invoke("next",t,i,a)},function(t){invoke("throw",t,i,a)}):e.resolve(h).then(function(t){u.value=t,i(u)},function(t){return invoke("throw",t,i,a)})}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e(function(e,
r){invoke(t,n,e,r)})}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,
n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o= __get$(e.iterator,n) ;if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+
n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?( __set$(r,e.resultName,a.value) ,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=
t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r= __get$(e,a) ;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value= __get$(e,o) ,next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable");}return GeneratorFunction.prototype=
GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,
GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,function(){return this}),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},defineIteratorMethods(g),
define(g,u,"Generator"),define(g,a,function(){return this}),define(g,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",
this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&( __set$(this,r,t) )},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i= __get$(this.tryEntries,o) ,
a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=
0;--r){var o= __get$(this.tryEntries,r) ;if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next=
"end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r= __get$(this.tryEntries,e) ;if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},"catch":function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r= __get$(this.tryEntries,e) ;if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt");},delegateYield:function delegateYield(e,r,
n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i= __call$(n,a,[c]) ,u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",
n)}_next(void 0)})}}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=
_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var RA2Cipher=function(){function RA2Cipher(){_classCallCheck(this,RA2Cipher);this._cipher=null;this._counter=new Uint8Array(16)}return _createClass(RA2Cipher,[{key:"setKey",
value:function(){var _setKey=_asyncToGenerator(_regeneratorRuntime().mark(function _callee(key){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _crypto["default"].importKey("raw",key,{name:"AES-EAX"},false,["encrypt, decrypt"]);case 2:this._cipher=_context.sent;case 3:case "end":return _context.stop()}},_callee,this)}));function setKey(_x){return _setKey.apply(this,arguments)}return setKey}()},{key:"makeMessage",
value:function(){var _makeMessage=_asyncToGenerator(_regeneratorRuntime().mark(function _callee2(message){var ad,encrypted,i,res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:ad=new Uint8Array([(message.length&65280)>>>8,message.length&255]);_context2.next=3;return _crypto["default"].encrypt({name:"AES-EAX",iv:this._counter,additionalData:ad},this._cipher,message);case 3:encrypted=_context2.sent;for(i=0;i<16&&this._counter[i]++===
255;i++);res=new Uint8Array(message.length+2+16);res.set(ad);res.set(encrypted,2);return _context2.abrupt("return",res);case 9:case "end":return _context2.stop()}},_callee2,this)}));function makeMessage(_x2){return _makeMessage.apply(this,arguments)}return makeMessage}()},{key:"receiveMessage",value:function(){var _receiveMessage=_asyncToGenerator(_regeneratorRuntime().mark(function _callee3(length,encrypted){var ad,res,i;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=
_context3.next){case 0:ad=new Uint8Array([(length&65280)>>>8,length&255]);_context3.next=3;return _crypto["default"].decrypt({name:"AES-EAX",iv:this._counter,additionalData:ad},this._cipher,encrypted);case 3:res=_context3.sent;for(i=0;i<16&&this._counter[i]++===255;i++);return _context3.abrupt("return",res);case 6:case "end":return _context3.stop()}},_callee3,this)}));function receiveMessage(_x3,_x4){return _receiveMessage.apply(this,arguments)}return receiveMessage}()}])}();var RSAAESAuthenticationState=
exports["default"]=function(_EventTargetMixin){function RSAAESAuthenticationState(sock,getCredentials){var _this;_classCallCheck(this,RSAAESAuthenticationState);_this=_callSuper(this,RSAAESAuthenticationState);_this._hasStarted=false;_this._checkSock=null;_this._checkCredentials=null;_this._approveServerResolve=null;_this._sockReject=null;_this._credentialsReject=null;_this._approveServerReject=null;_this._sock=sock;_this._getCredentials=getCredentials;return _this}_inherits(RSAAESAuthenticationState,
_EventTargetMixin);return _createClass(RSAAESAuthenticationState,[{key:"_waitSockAsync",value:function _waitSockAsync(len){var _this2=this;return new Promise(function(resolve,reject){var hasData=function hasData(){return!_this2._sock.rQwait("RA2",len)};if(hasData())resolve();else{_this2._checkSock=function(){if(hasData()){resolve();_this2._checkSock=null;_this2._sockReject=null}};_this2._sockReject=reject}})}},{key:"_waitApproveKeyAsync",value:function _waitApproveKeyAsync(){var _this3=this;return new Promise(function(resolve,
reject){_this3._approveServerResolve=resolve;_this3._approveServerReject=reject})}},{key:"_waitCredentialsAsync",value:function _waitCredentialsAsync(subtype){var _this4=this;var hasCredentials=function hasCredentials(){if(subtype===1&&_this4._getCredentials().username!==undefined&&_this4._getCredentials().password!==undefined)return true;else if(subtype===2&&_this4._getCredentials().password!==undefined)return true;return false};return new Promise(function(resolve,reject){if(hasCredentials())resolve();
else{_this4._checkCredentials=function(){if(hasCredentials()){resolve();_this4._checkCredentials=null;_this4._credentialsReject=null}};_this4._credentialsReject=reject}})}},{key:"checkInternalEvents",value:function checkInternalEvents(){if(this._checkSock!==null)this._checkSock();if(this._checkCredentials!==null)this._checkCredentials()}},{key:"approveServer",value:function approveServer(){if(this._approveServerResolve!==null){this._approveServerResolve();this._approveServerResolve=null}}},{key:"disconnect",
value:function disconnect(){if(this._sockReject!==null){this._sockReject(new Error("disconnect normally"));this._sockReject=null}if(this._credentialsReject!==null){this._credentialsReject(new Error("disconnect normally"));this._credentialsReject=null}if(this._approveServerReject!==null){this._approveServerReject(new Error("disconnect normally"));this._approveServerReject=null}}},{key:"negotiateRA2neAuthAsync",value:function(){var _negotiateRA2neAuthAsync=_asyncToGenerator(_regeneratorRuntime().mark(function _callee4(){var serverKeyLengthBuffer,
serverKeyLength,serverKeyBytes,serverN,serverE,serverRSACipher,serverPublickey,approveKey,clientKeyLength,clientKeyBytes,clientRSACipher,clientExportedRSAKey,clientN,clientE,clientPublicKey,clientRandom,clientEncryptedRandom,clientRandomMessage,serverEncryptedRandom,serverRandom,clientSessionKey,serverSessionKey,clientCipher,serverCipher,serverHash,clientHash,serverHashReceived,i,subtype,waitCredentials,username,password,credentials,_i,_i2;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=
_context4.next){case 0:this._hasStarted=true;_context4.next=3;return this._waitSockAsync(4);case 3:serverKeyLengthBuffer=this._sock.rQpeekBytes(4);serverKeyLength=this._sock.rQshift32();if(!(serverKeyLength<1024)){_context4.next=9;break}throw new Error("RA2: server public key is too short: "+serverKeyLength);case 9:if(!(serverKeyLength>8192)){_context4.next=11;break}throw new Error("RA2: server public key is too long: "+serverKeyLength);case 11:serverKeyBytes=Math.ceil(serverKeyLength/8);_context4.next=
14;return this._waitSockAsync(serverKeyBytes*2);case 14:serverN=this._sock.rQshiftBytes(serverKeyBytes);serverE=this._sock.rQshiftBytes(serverKeyBytes);_context4.next=18;return _crypto["default"].importKey("raw",{n:serverN,e:serverE},{name:"RSA-PKCS1-v1_5"},false,["encrypt"]);case 18:serverRSACipher=_context4.sent;serverPublickey=new Uint8Array(4+serverKeyBytes*2);serverPublickey.set(serverKeyLengthBuffer);serverPublickey.set(serverN,4);serverPublickey.set(serverE,4+serverKeyBytes);approveKey=this._waitApproveKeyAsync();
this.dispatchEvent(new CustomEvent("serververification",{detail:{type:"RSA",publickey:serverPublickey}}));_context4.next=27;return approveKey;case 27:clientKeyLength=2048;clientKeyBytes=Math.ceil(clientKeyLength/8);_context4.next=31;return _crypto["default"].generateKey({name:"RSA-PKCS1-v1_5",modulusLength:clientKeyLength,publicExponent:new Uint8Array([1,0,1])},true,["encrypt"]);case 31:clientRSACipher=_context4.sent.privateKey;_context4.next=34;return _crypto["default"].exportKey("raw",clientRSACipher);
case 34:clientExportedRSAKey=_context4.sent;clientN=clientExportedRSAKey.n;clientE=clientExportedRSAKey.e;clientPublicKey=new Uint8Array(4+clientKeyBytes*2);clientPublicKey[0]=(clientKeyLength&4278190080)>>>24;clientPublicKey[1]=(clientKeyLength&16711680)>>>16;clientPublicKey[2]=(clientKeyLength&65280)>>>8;clientPublicKey[3]=clientKeyLength&255;clientPublicKey.set(clientN,4);clientPublicKey.set(clientE,4+clientKeyBytes);this._sock.sQpushBytes(clientPublicKey);this._sock.flush();clientRandom=new Uint8Array(16);
window.crypto.getRandomValues(clientRandom);_context4.next=50;return _crypto["default"].encrypt({name:"RSA-PKCS1-v1_5"},serverRSACipher,clientRandom);case 50:clientEncryptedRandom=_context4.sent;clientRandomMessage=new Uint8Array(2+serverKeyBytes);clientRandomMessage[0]=(serverKeyBytes&65280)>>>8;clientRandomMessage[1]=serverKeyBytes&255;clientRandomMessage.set(clientEncryptedRandom,2);this._sock.sQpushBytes(clientRandomMessage);this._sock.flush();_context4.next=59;return this._waitSockAsync(2);case 59:if(!(this._sock.rQshift16()!==
clientKeyBytes)){_context4.next=61;break}throw new Error("RA2: wrong encrypted message length");case 61:serverEncryptedRandom=this._sock.rQshiftBytes(clientKeyBytes);_context4.next=64;return _crypto["default"].decrypt({name:"RSA-PKCS1-v1_5"},clientRSACipher,serverEncryptedRandom);case 64:serverRandom=_context4.sent;if(!(serverRandom===null||serverRandom.length!==16)){_context4.next=67;break}throw new Error("RA2: corrupted server encrypted random");case 67:clientSessionKey=new Uint8Array(32);serverSessionKey=
new Uint8Array(32);clientSessionKey.set(serverRandom);clientSessionKey.set(clientRandom,16);serverSessionKey.set(clientRandom);serverSessionKey.set(serverRandom,16);_context4.next=75;return window.crypto.subtle.digest("SHA-1",clientSessionKey);case 75:clientSessionKey=_context4.sent;clientSessionKey=(new Uint8Array(clientSessionKey)).slice(0,16);_context4.next=79;return window.crypto.subtle.digest("SHA-1",serverSessionKey);case 79:serverSessionKey=_context4.sent;serverSessionKey=(new Uint8Array(serverSessionKey)).slice(0,
16);clientCipher=new RA2Cipher;_context4.next=84;return clientCipher.setKey(clientSessionKey);case 84:serverCipher=new RA2Cipher;_context4.next=87;return serverCipher.setKey(serverSessionKey);case 87:serverHash=new Uint8Array(8+serverKeyBytes*2+clientKeyBytes*2);clientHash=new Uint8Array(8+serverKeyBytes*2+clientKeyBytes*2);serverHash.set(serverPublickey);serverHash.set(clientPublicKey,4+serverKeyBytes*2);clientHash.set(clientPublicKey);clientHash.set(serverPublickey,4+clientKeyBytes*2);_context4.next=
95;return window.crypto.subtle.digest("SHA-1",serverHash);case 95:serverHash=_context4.sent;_context4.next=98;return window.crypto.subtle.digest("SHA-1",clientHash);case 98:clientHash=_context4.sent;serverHash=new Uint8Array(serverHash);clientHash=new Uint8Array(clientHash);_context4.t0=this._sock;_context4.next=104;return clientCipher.makeMessage(clientHash);case 104:_context4.t1=_context4.sent;_context4.t0.sQpushBytes.call(_context4.t0,_context4.t1);this._sock.flush();_context4.next=109;return this._waitSockAsync(2+
20+16);case 109:if(!(this._sock.rQshift16()!==20)){_context4.next=111;break}throw new Error("RA2: wrong server hash");case 111:_context4.next=113;return serverCipher.receiveMessage(20,this._sock.rQshiftBytes(20+16));case 113:serverHashReceived=_context4.sent;if(!(serverHashReceived===null)){_context4.next=116;break}throw new Error("RA2: failed to authenticate the message");case 116:i=0;case 117:if(!(i<20)){_context4.next=123;break}if(!( __get$(serverHashReceived,i) !== __get$(serverHash,i) )){_context4.next=120;break}throw new Error("RA2: wrong server hash");
case 120:i++;_context4.next=117;break;case 123:_context4.next=125;return this._waitSockAsync(2+1+16);case 125:if(!(this._sock.rQshift16()!==1)){_context4.next=127;break}throw new Error("RA2: wrong subtype");case 127:_context4.next=129;return serverCipher.receiveMessage(1,this._sock.rQshiftBytes(1+16));case 129:subtype=_context4.sent;if(!(subtype===null)){_context4.next=132;break}throw new Error("RA2: failed to authenticate the message");case 132:subtype=subtype[0];waitCredentials=this._waitCredentialsAsync(subtype);
if(!(subtype===1)){_context4.next=138;break}if(this._getCredentials().username===undefined||this._getCredentials().password===undefined)this.dispatchEvent(new CustomEvent("credentialsrequired",{detail:{types:["username","password"]}}));_context4.next=143;break;case 138:if(!(subtype===2)){_context4.next=142;break}if(this._getCredentials().password===undefined)this.dispatchEvent(new CustomEvent("credentialsrequired",{detail:{types:["password"]}}));_context4.next=143;break;case 142:throw new Error("RA2: wrong subtype");
case 143:_context4.next=145;return waitCredentials;case 145:if(subtype===1)username=(0,_strings.encodeUTF8)(this._getCredentials().username).slice(0,255);else username="";password=(0,_strings.encodeUTF8)(this._getCredentials().password).slice(0,255);credentials=new Uint8Array(username.length+password.length+2);credentials[0]=username.length; __set$(credentials,username.length+1,password.length) ;for(_i=0;_i<username.length;_i++) __set$(credentials,_i+1,username.charCodeAt(_i)) ;for(_i2=0;_i2<password.length;_i2++) __set$(credentials,username.length+2+_i2,password.charCodeAt(_i2)) ;_context4.t2=this._sock;_context4.next=155;return clientCipher.makeMessage(credentials);case 155:_context4.t3=_context4.sent;_context4.t2.sQpushBytes.call(_context4.t2,_context4.t3);this._sock.flush();case 158:case "end":return _context4.stop()}},_callee4,this)}));function negotiateRA2neAuthAsync(){return _negotiateRA2neAuthAsync.apply(this,arguments)}return negotiateRA2neAuthAsync}()},{key:"hasStarted",get:function get(){return this._hasStarted},set:function set(s){this._hasStarted=
s}}])}(_eventtarget["default"])},"./node_modules/@novnc/novnc/lib/rfb.js":(__unused_webpack_module,exports,__webpack_require__)=>{function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _int=__webpack_require__("./node_modules/@novnc/novnc/lib/util/int.js");
var Log=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/util/logging.js"));var _strings=__webpack_require__("./node_modules/@novnc/novnc/lib/util/strings.js");var _browser=__webpack_require__("./node_modules/@novnc/novnc/lib/util/browser.js");var _element=__webpack_require__("./node_modules/@novnc/novnc/lib/util/element.js");var _events=__webpack_require__("./node_modules/@novnc/novnc/lib/util/events.js");var _eventtarget=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/util/eventtarget.js"));
var _display=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/display.js"));var _inflator=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/inflator.js"));var _deflator=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/deflator.js"));var _keyboard=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/input/keyboard.js"));var _gesturehandler=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/input/gesturehandler.js"));
var _cursor=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/util/cursor.js"));var _websock=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/websock.js"));var _keysym=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/input/keysym.js"));var _xtscancodes=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/input/xtscancodes.js"));var _encodings=__webpack_require__("./node_modules/@novnc/novnc/lib/encodings.js");
var _ra=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/ra2.js"));var _crypto=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/crypto/crypto.js"));var _raw=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/decoders/raw.js"));var _copyrect=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/decoders/copyrect.js"));var _rre=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/decoders/rre.js"));
var _hextile=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/decoders/hextile.js"));var _zlib=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/decoders/zlib.js"));var _tight=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/decoders/tight.js"));var _tightpng=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/decoders/tightpng.js"));var _zrle=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/decoders/zrle.js"));
var _jpeg=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/decoders/jpeg.js"));var _h=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/decoders/h264.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,
r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,n),n}function _regeneratorRuntime(){_regeneratorRuntime=
function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){ __set$(t,e,r.value) },i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}), __get$(t,e) }try{define({},"")}catch(t){define=function define(t,e,r){return  __set$(t,e,r) }}function wrap(t,e,r,n){var i=e&&e.prototype instanceof
Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(values([])));
v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){define(t,e,function(t){return this._invoke(e,t)})})}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch( __get$(t,r) ,t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?e.resolve(h.__await).then(function(t){invoke("next",t,i,a)},function(t){invoke("throw",
t,i,a)}):e.resolve(h).then(function(t){u.value=t,i(u)},function(t){return invoke("throw",t,i,a)})}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e(function(e,r){invoke(t,n,e,r)})}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,
done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=
r.method,o= __get$(e.iterator,n) ;if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?( __set$(r,e.resultName,a.value) ,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=
null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r= __get$(e,a) ;if(r)return r.call(e);if("function"==
typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value= __get$(e,o) ,next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable");}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=
define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),
define(AsyncIterator.prototype,c,function(){return this}),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,function(){return this}),define(g,"toString",function(){return"[object Generator]"}),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),
function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&( __set$(this,r,t) )},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;
if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i= __get$(this.tryEntries,o) ,a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<
i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o= __get$(this.tryEntries,r) ;if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:
{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r= __get$(this.tryEntries,e) ;if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),
y}},"catch":function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r= __get$(this.tryEntries,e) ;if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt");},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i= __call$(n,a,[c]) ,u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,
o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&& __get$(r,Symbol.iterator) ||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t["return"]&&(u=t["return"](),Object(u)!==u))return}finally{if(o)throw n;}}return a}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _createForOfIteratorHelper(r,
e){var t="undefined"!=typeof Symbol&& __get$(r,Symbol.iterator) ||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value: __get$(r,_n++) }},e:function e(r){throw r;},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var o,a=!0,u=!1;return{s:function s(){t=
t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t["return"]||t["return"]()}finally{if(u)throw o;}}}}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,
a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++) __set$(n,e,__get$(r,e)) ;return n}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,
"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}function _callSuper(t,o,e){return o=_getPrototypeOf(o),_possibleConstructorReturn(t,_isNativeReflectConstruct()?
Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e))}function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,
[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),
Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}var DISCONNECT_TIMEOUT=3;var DEFAULT_BACKGROUND="rgb(40, 40, 40)";var MOUSE_MOVE_DELAY=17;var WHEEL_STEP=50;var WHEEL_LINE_HEIGHT=19;var GESTURE_ZOOMSENS=75;var GESTURE_SCRLSENS=50;var DOUBLE_TAP_TIMEOUT=1E3;var DOUBLE_TAP_THRESHOLD=50;var securityTypeNone=1;var securityTypeVNCAuth=
2;var securityTypeRA2ne=6;var securityTypeTight=16;var securityTypeVeNCrypt=19;var securityTypeXVP=22;var securityTypeARD=30;var securityTypeMSLogonII=113;var securityTypeUnixLogon=129;var securityTypePlain=256;var extendedClipboardFormatText=1;var extendedClipboardFormatRtf=1<<1;var extendedClipboardFormatHtml=1<<2;var extendedClipboardFormatDib=1<<3;var extendedClipboardFormatFiles=1<<4;var extendedClipboardActionCaps=1<<24;var extendedClipboardActionRequest=1<<25;var extendedClipboardActionPeek=
1<<26;var extendedClipboardActionNotify=1<<27;var extendedClipboardActionProvide=1<<28;var RFB=exports["default"]=function(_EventTargetMixin){function RFB(target,urlOrChannel,options){var _this;_classCallCheck(this,RFB);if(!target)throw new Error("Must specify target");if(!urlOrChannel)throw new Error("Must specify URL, WebSocket or RTCDataChannel");if(!window.isSecureContext)Log.Error("noVNC requires a secure context (TLS). Expect crashes!");_this=_callSuper(this,RFB);_this._target=target;if(typeof urlOrChannel===
"string")_this._url=urlOrChannel;else{_this._url=null;_this._rawChannel=urlOrChannel}options=options||{};_this._rfbCredentials=options.credentials||{};_this._shared="shared"in options?!!options.shared:true;_this._repeaterID=options.repeaterID||"";_this._wsProtocols=options.wsProtocols||[];_this._rfbConnectionState="";_this._rfbInitState="";_this._rfbAuthScheme=-1;_this._rfbCleanDisconnect=true;_this._rfbRSAAESAuthenticationState=null;_this._rfbVersion=0;_this._rfbMaxVersion=3.8;_this._rfbTightVNC=
false;_this._rfbVeNCryptState=0;_this._rfbXvpVer=0;_this._fbWidth=0;_this._fbHeight=0;_this._fbName="";_this._capabilities={power:false};_this._supportsFence=false;_this._supportsContinuousUpdates=false;_this._enabledContinuousUpdates=false;_this._supportsSetDesktopSize=false;_this._screenID=0;_this._screenFlags=0;_this._pendingRemoteResize=false;_this._lastResize=0;_this._qemuExtKeyEventSupported=false;_this._extendedPointerEventSupported=false;_this._clipboardText=null;_this._clipboardServerCapabilitiesActions=
{};_this._clipboardServerCapabilitiesFormats={};_this._sock=null;_this._display=null;_this._flushing=false;_this._keyboard=null;_this._gestures=null;_this._resizeObserver=null;_this._disconnTimer=null;_this._resizeTimeout=null;_this._mouseMoveTimer=null;_this._decoders={};_this._FBU={rects:0,x:0,y:0,width:0,height:0,encoding:null};_this._mousePos={};_this._mouseButtonMask=0;_this._mouseLastMoveTime=0;_this._viewportDragging=false;_this._viewportDragPos={};_this._viewportHasMoved=false;_this._accumulatedWheelDeltaX=
0;_this._accumulatedWheelDeltaY=0;_this._gestureLastTapTime=null;_this._gestureFirstDoubleTapEv=null;_this._gestureLastMagnitudeX=0;_this._gestureLastMagnitudeY=0;_this._eventHandlers={focusCanvas:_this._focusCanvas.bind(_this),handleResize:_this._handleResize.bind(_this),handleMouse:_this._handleMouse.bind(_this),handleWheel:_this._handleWheel.bind(_this),handleGesture:_this._handleGesture.bind(_this),handleRSAAESCredentialsRequired:_this._handleRSAAESCredentialsRequired.bind(_this),handleRSAAESServerVerification:_this._handleRSAAESServerVerification.bind(_this)};
Log.Debug(">> RFB.constructor");_this._screen=document.createElement("div");_this._screen.style.display="flex";_this._screen.style.width="100%";_this._screen.style.height="100%";_this._screen.style.overflow="auto";_this._screen.style.background=DEFAULT_BACKGROUND;_this._canvas=document.createElement("canvas");_this._canvas.style.margin="auto";_this._canvas.style.outline="none";_this._canvas.width=0;_this._canvas.height=0;_this._canvas.tabIndex=-1;_this._screen.appendChild(_this._canvas);_this._cursor=
new _cursor["default"];_this._cursorImage=RFB.cursors.none; __set$(_this._decoders,_encodings.encodings.encodingRaw,new _raw["default"]()) ; __set$(_this._decoders,_encodings.encodings.encodingCopyRect,new _copyrect["default"]()) ; __set$(_this._decoders,_encodings.encodings.encodingRRE,new _rre["default"]()) ; __set$(_this._decoders,_encodings.encodings.encodingHextile,new _hextile["default"]()) ; __set$(_this._decoders,_encodings.encodings.encodingZlib,new _zlib["default"]()) ; __set$(_this._decoders,_encodings.encodings.encodingTight,new _tight["default"]()) ;
 __set$(_this._decoders,_encodings.encodings.encodingTightPNG,new _tightpng["default"]()) ; __set$(_this._decoders,_encodings.encodings.encodingZRLE,new _zrle["default"]()) ; __set$(_this._decoders,_encodings.encodings.encodingJPEG,new _jpeg["default"]()) ; __set$(_this._decoders,_encodings.encodings.encodingH264,new _h["default"]()) ;try{_this._display=new _display["default"](_this._canvas)}catch(exc){Log.Error("Display exception: "+exc);throw exc;}_this._keyboard=new _keyboard["default"](_this._canvas);_this._keyboard.onkeyevent=_this._handleKeyEvent.bind(_this);
_this._remoteCapsLock=null;_this._remoteNumLock=null;_this._gestures=new _gesturehandler["default"];_this._sock=new _websock["default"];_this._sock.on("open",_this._socketOpen.bind(_this));_this._sock.on("close",_this._socketClose.bind(_this));_this._sock.on("message",_this._handleMessage.bind(_this));_this._sock.on("error",_this._socketError.bind(_this));_this._expectedClientWidth=null;_this._expectedClientHeight=null;_this._resizeObserver=new ResizeObserver(_this._eventHandlers.handleResize);_this._updateConnectionState("connecting");
Log.Debug("<< RFB.constructor");_this.dragViewport=false;_this.focusOnClick=true;_this._viewOnly=false;_this._clipViewport=false;_this._clippingViewport=false;_this._scaleViewport=false;_this._resizeSession=false;_this._showDotCursor=false;if(options.showDotCursor!==undefined){Log.Warn("Specifying showDotCursor as a RFB constructor argument is deprecated");_this._showDotCursor=options.showDotCursor}_this._qualityLevel=6;_this._compressionLevel=2;return _this}_inherits(RFB,_EventTargetMixin);return _createClass(RFB,
[{key:"viewOnly",get:function get(){return this._viewOnly},set:function set(viewOnly){this._viewOnly=viewOnly;if(this._rfbConnectionState==="connecting"||this._rfbConnectionState==="connected")if(viewOnly)this._keyboard.ungrab();else this._keyboard.grab()}},{key:"capabilities",get:function get(){return this._capabilities}},{key:"clippingViewport",get:function get(){return this._clippingViewport}},{key:"_setClippingViewport",value:function _setClippingViewport(on){if(on===this._clippingViewport)return;
this._clippingViewport=on;this.dispatchEvent(new CustomEvent("clippingviewport",{detail:this._clippingViewport}))}},{key:"touchButton",get:function get(){return 0},set:function set(button){Log.Warn("Using old API!")}},{key:"clipViewport",get:function get(){return this._clipViewport},set:function set(viewport){this._clipViewport=viewport;this._updateClip()}},{key:"scaleViewport",get:function get(){return this._scaleViewport},set:function set(scale){this._scaleViewport=scale;if(scale&&this._clipViewport)this._updateClip();
this._updateScale();if(!scale&&this._clipViewport)this._updateClip()}},{key:"resizeSession",get:function get(){return this._resizeSession},set:function set(resize){this._resizeSession=resize;if(resize)this._requestRemoteResize()}},{key:"showDotCursor",get:function get(){return this._showDotCursor},set:function set(show){this._showDotCursor=show;this._refreshCursor()}},{key:"background",get:function get(){return this._screen.style.background},set:function set(cssValue){this._screen.style.background=
cssValue}},{key:"qualityLevel",get:function get(){return this._qualityLevel},set:function set(qualityLevel){if(!Number.isInteger(qualityLevel)||qualityLevel<0||qualityLevel>9){Log.Error("qualityLevel must be an integer between 0 and 9");return}if(this._qualityLevel===qualityLevel)return;this._qualityLevel=qualityLevel;if(this._rfbConnectionState==="connected")this._sendEncodings()}},{key:"compressionLevel",get:function get(){return this._compressionLevel},set:function set(compressionLevel){if(!Number.isInteger(compressionLevel)||
compressionLevel<0||compressionLevel>9){Log.Error("compressionLevel must be an integer between 0 and 9");return}if(this._compressionLevel===compressionLevel)return;this._compressionLevel=compressionLevel;if(this._rfbConnectionState==="connected")this._sendEncodings()}},{key:"disconnect",value:function disconnect(){this._updateConnectionState("disconnecting");this._sock.off("error");this._sock.off("message");this._sock.off("open");if(this._rfbRSAAESAuthenticationState!==null)this._rfbRSAAESAuthenticationState.disconnect()}},
{key:"approveServer",value:function approveServer(){if(this._rfbRSAAESAuthenticationState!==null)this._rfbRSAAESAuthenticationState.approveServer()}},{key:"sendCredentials",value:function sendCredentials(creds){this._rfbCredentials=creds;this._resumeAuthentication()}},{key:"sendCtrlAltDel",value:function sendCtrlAltDel(){if(this._rfbConnectionState!=="connected"||this._viewOnly)return;Log.Info("Sending Ctrl-Alt-Del");this.sendKey(_keysym["default"].XK_Control_L,"ControlLeft",true);this.sendKey(_keysym["default"].XK_Alt_L,
"AltLeft",true);this.sendKey(_keysym["default"].XK_Delete,"Delete",true);this.sendKey(_keysym["default"].XK_Delete,"Delete",false);this.sendKey(_keysym["default"].XK_Alt_L,"AltLeft",false);this.sendKey(_keysym["default"].XK_Control_L,"ControlLeft",false)}},{key:"machineShutdown",value:function machineShutdown(){this._xvpOp(1,2)}},{key:"machineReboot",value:function machineReboot(){this._xvpOp(1,3)}},{key:"machineReset",value:function machineReset(){this._xvpOp(1,4)}},{key:"sendKey",value:function sendKey(keysym,
code,down){if(this._rfbConnectionState!=="connected"||this._viewOnly)return;if(down===undefined){this.sendKey(keysym,code,true);this.sendKey(keysym,code,false);return}var scancode= __get$(_xtscancodes["default"],code) ;if(this._qemuExtKeyEventSupported&&scancode){keysym=keysym||0;Log.Info("Sending key ("+(down?"down":"up")+"): keysym "+keysym+", scancode "+scancode);RFB.messages.QEMUExtendedKeyEvent(this._sock,keysym,down,scancode)}else{if(!keysym)return;Log.Info("Sending keysym ("+(down?"down":"up")+"): "+
keysym);RFB.messages.keyEvent(this._sock,keysym,down?1:0)}}},{key:"focus",value:function focus(options){this._canvas.focus(options)}},{key:"blur",value:function blur(){this._canvas.blur()}},{key:"clipboardPasteFrom",value:function clipboardPasteFrom(text){if(this._rfbConnectionState!=="connected"||this._viewOnly)return;if( __get$(this._clipboardServerCapabilitiesFormats,extendedClipboardFormatText) && __get$(this._clipboardServerCapabilitiesActions,extendedClipboardActionNotify) ){this._clipboardText=text;RFB.messages.extendedClipboardNotify(this._sock,
[extendedClipboardFormatText])}else{var length,i;var data;length=0;var _iterator=_createForOfIteratorHelper(text),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var codePoint=_step.value;length++}}catch(err){_iterator.e(err)}finally{_iterator.f()}data=new Uint8Array(length);i=0;var _iterator2=_createForOfIteratorHelper(text),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _codePoint=_step2.value;var code=_codePoint.codePointAt(0);if(code>255)code=63; __set$(data,i++,code) }}catch(err){_iterator2.e(err)}finally{_iterator2.f()}RFB.messages.clientCutText(this._sock,
data)}}},{key:"getImageData",value:function getImageData(){return this._display.getImageData()}},{key:"toDataURL",value:function toDataURL(type,encoderOptions){return this._display.toDataURL(type,encoderOptions)}},{key:"toBlob",value:function toBlob(callback,type,quality){return this._display.toBlob(callback,type,quality)}},{key:"_connect",value:function _connect(){Log.Debug(">> RFB.connect");if(this._url){Log.Info("connecting to ".concat(this._url));this._sock.open(this._url,this._wsProtocols)}else{Log.Info("attaching ".concat(this._rawChannel,
" to Websock"));this._sock.attach(this._rawChannel);if(this._sock.readyState==="closed")throw Error("Cannot use already closed WebSocket/RTCDataChannel");if(this._sock.readyState==="open")this._socketOpen()}this._target.appendChild(this._screen);this._gestures.attach(this._canvas);this._cursor.attach(this._canvas);this._refreshCursor();this._resizeObserver.observe(this._screen);this._canvas.addEventListener("mousedown",this._eventHandlers.focusCanvas);this._canvas.addEventListener("touchstart",this._eventHandlers.focusCanvas);
this._canvas.addEventListener("mousedown",this._eventHandlers.handleMouse);this._canvas.addEventListener("mouseup",this._eventHandlers.handleMouse);this._canvas.addEventListener("mousemove",this._eventHandlers.handleMouse);this._canvas.addEventListener("click",this._eventHandlers.handleMouse);this._canvas.addEventListener("contextmenu",this._eventHandlers.handleMouse);this._canvas.addEventListener("wheel",this._eventHandlers.handleWheel);this._canvas.addEventListener("gesturestart",this._eventHandlers.handleGesture);
this._canvas.addEventListener("gesturemove",this._eventHandlers.handleGesture);this._canvas.addEventListener("gestureend",this._eventHandlers.handleGesture);Log.Debug("<< RFB.connect")}},{key:"_disconnect",value:function _disconnect(){Log.Debug(">> RFB.disconnect");this._cursor.detach();this._canvas.removeEventListener("gesturestart",this._eventHandlers.handleGesture);this._canvas.removeEventListener("gesturemove",this._eventHandlers.handleGesture);this._canvas.removeEventListener("gestureend",this._eventHandlers.handleGesture);
this._canvas.removeEventListener("wheel",this._eventHandlers.handleWheel);this._canvas.removeEventListener("mousedown",this._eventHandlers.handleMouse);this._canvas.removeEventListener("mouseup",this._eventHandlers.handleMouse);this._canvas.removeEventListener("mousemove",this._eventHandlers.handleMouse);this._canvas.removeEventListener("click",this._eventHandlers.handleMouse);this._canvas.removeEventListener("contextmenu",this._eventHandlers.handleMouse);this._canvas.removeEventListener("mousedown",
this._eventHandlers.focusCanvas);this._canvas.removeEventListener("touchstart",this._eventHandlers.focusCanvas);this._resizeObserver.disconnect();this._keyboard.ungrab();this._gestures.detach();this._sock.close();try{this._target.removeChild(this._screen)}catch(e){if(e.name==="NotFoundError");else throw e;}clearTimeout(this._resizeTimeout);clearTimeout(this._mouseMoveTimer);Log.Debug("<< RFB.disconnect")}},{key:"_socketOpen",value:function _socketOpen(){if(this._rfbConnectionState==="connecting"&&
this._rfbInitState===""){this._rfbInitState="ProtocolVersion";Log.Debug("Starting VNC handshake")}else this._fail("Unexpected server connection while "+this._rfbConnectionState)}},{key:"_socketClose",value:function _socketClose(e){Log.Debug("WebSocket on-close event");var msg="";if(e.code){msg="(code: "+e.code;if(e.reason)msg+=", reason: "+e.reason;msg+=")"}switch(this._rfbConnectionState){case "connecting":this._fail("Connection closed "+msg);break;case "connected":this._updateConnectionState("disconnecting");
this._updateConnectionState("disconnected");break;case "disconnecting":this._updateConnectionState("disconnected");break;case "disconnected":this._fail("Unexpected server disconnect "+"when already disconnected "+msg);break;default:this._fail("Unexpected server disconnect before connecting "+msg);break}this._sock.off("close");this._rawChannel=null}},{key:"_socketError",value:function _socketError(e){Log.Warn("WebSocket on-error event")}},{key:"_focusCanvas",value:function _focusCanvas(event){if(!this.focusOnClick)return;
this.focus({preventScroll:true})}},{key:"_setDesktopName",value:function _setDesktopName(name){this._fbName=name;this.dispatchEvent(new CustomEvent("desktopname",{detail:{name:this._fbName}}))}},{key:"_saveExpectedClientSize",value:function _saveExpectedClientSize(){this._expectedClientWidth=this._screen.clientWidth;this._expectedClientHeight=this._screen.clientHeight}},{key:"_currentClientSize",value:function _currentClientSize(){return[this._screen.clientWidth,this._screen.clientHeight]}},{key:"_clientHasExpectedSize",
value:function _clientHasExpectedSize(){var _this$_currentClientS=this._currentClientSize(),_this$_currentClientS2=_slicedToArray(_this$_currentClientS,2),currentWidth=_this$_currentClientS2[0],currentHeight=_this$_currentClientS2[1];return currentWidth==this._expectedClientWidth&&currentHeight==this._expectedClientHeight}},{key:"_handleResize",value:function _handleResize(){var _this2=this;if(this._clientHasExpectedSize())return;window.requestAnimationFrame(function(){_this2._updateClip();_this2._updateScale();
_this2._saveExpectedClientSize()});this._requestRemoteResize()}},{key:"_updateClip",value:function _updateClip(){var curClip=this._display.clipViewport;var newClip=this._clipViewport;if(this._scaleViewport)newClip=false;if(curClip!==newClip)this._display.clipViewport=newClip;if(newClip){var size=this._screenSize();this._display.viewportChangeSize(size.w,size.h);this._fixScrollbars();this._setClippingViewport(size.w<this._display.width||size.h<this._display.height)}else this._setClippingViewport(false);
if(curClip!==newClip)this._saveExpectedClientSize()}},{key:"_updateScale",value:function _updateScale(){if(!this._scaleViewport)this._display.scale=1;else{var size=this._screenSize();this._display.autoscale(size.w,size.h)}this._fixScrollbars()}},{key:"_requestRemoteResize",value:function _requestRemoteResize(){if(!this._resizeSession)return;if(this._viewOnly)return;if(!this._supportsSetDesktopSize)return;if(this._pendingRemoteResize)return;if(Date.now()-this._lastResize<100){clearTimeout(this._resizeTimeout);
this._resizeTimeout=setTimeout(this._requestRemoteResize.bind(this),100-(Date.now()-this._lastResize));return}this._resizeTimeout=null;var size=this._screenSize();if(size.w===this._fbWidth&&size.h===this._fbHeight)return;this._pendingRemoteResize=true;this._lastResize=Date.now();RFB.messages.setDesktopSize(this._sock,Math.floor(size.w),Math.floor(size.h),this._screenID,this._screenFlags);Log.Debug("Requested new desktop size: "+size.w+"x"+size.h)}},{key:"_screenSize",value:function _screenSize(){var r=
this._screen.getBoundingClientRect();return{w:r.width,h:r.height}}},{key:"_fixScrollbars",value:function _fixScrollbars(){var orig=this._screen.style.overflow;this._screen.style.overflow="hidden";this._screen.getBoundingClientRect();this._screen.style.overflow=orig}},{key:"_updateConnectionState",value:function _updateConnectionState(state){var _this3=this;var oldstate=this._rfbConnectionState;if(state===oldstate){Log.Debug("Already in state '"+state+"', ignoring");return}if(oldstate==="disconnected"){Log.Error("Tried changing state of a disconnected RFB object");
return}switch(state){case "connected":if(oldstate!=="connecting"){Log.Error("Bad transition to connected state, "+"previous connection state: "+oldstate);return}break;case "disconnected":if(oldstate!=="disconnecting"){Log.Error("Bad transition to disconnected state, "+"previous connection state: "+oldstate);return}break;case "connecting":if(oldstate!==""){Log.Error("Bad transition to connecting state, "+"previous connection state: "+oldstate);return}break;case "disconnecting":if(oldstate!=="connected"&&
oldstate!=="connecting"){Log.Error("Bad transition to disconnecting state, "+"previous connection state: "+oldstate);return}break;default:Log.Error("Unknown connection state: "+state);return}this._rfbConnectionState=state;Log.Debug("New state '"+state+"', was '"+oldstate+"'.");if(this._disconnTimer&&state!=="disconnecting"){Log.Debug("Clearing disconnect timer");clearTimeout(this._disconnTimer);this._disconnTimer=null;this._sock.off("close")}switch(state){case "connecting":this._connect();break;case "connected":this.dispatchEvent(new CustomEvent("connect",
{detail:{}}));break;case "disconnecting":this._disconnect();this._disconnTimer=setTimeout(function(){Log.Error("Disconnection timed out.");_this3._updateConnectionState("disconnected")},DISCONNECT_TIMEOUT*1E3);break;case "disconnected":this.dispatchEvent(new CustomEvent("disconnect",{detail:{clean:this._rfbCleanDisconnect}}));break}}},{key:"_fail",value:function _fail(details){switch(this._rfbConnectionState){case "disconnecting":Log.Error("Failed when disconnecting: "+details);break;case "connected":Log.Error("Failed while connected: "+
details);break;case "connecting":Log.Error("Failed when connecting: "+details);break;default:Log.Error("RFB failure: "+details);break}this._rfbCleanDisconnect=false;this._updateConnectionState("disconnecting");this._updateConnectionState("disconnected");return false}},{key:"_setCapability",value:function _setCapability(cap,val){ __set$(this._capabilities,cap,val) ;this.dispatchEvent(new CustomEvent("capabilities",{detail:{capabilities:this._capabilities}}))}},{key:"_handleMessage",value:function _handleMessage(){if(this._sock.rQwait("message",
1)){Log.Warn("handleMessage called on an empty receive queue");return}switch(this._rfbConnectionState){case "disconnected":Log.Error("Got data while disconnected");break;case "connected":while(true){if(this._flushing)break;if(!this._normalMsg())break;if(this._sock.rQwait("message",1))break}break;case "connecting":while(this._rfbConnectionState==="connecting")if(!this._initMsg())break;break;default:Log.Error("Got data while in an invalid state");break}}},{key:"_handleKeyEvent",value:function _handleKeyEvent(keysym,
code,down,numlock,capslock){if(code=="CapsLock"&&down)this._remoteCapsLock=null;if(this._remoteCapsLock!==null&&capslock!==null&&this._remoteCapsLock!==capslock&&down){Log.Debug("Fixing remote caps lock");this.sendKey(_keysym["default"].XK_Caps_Lock,"CapsLock",true);this.sendKey(_keysym["default"].XK_Caps_Lock,"CapsLock",false);this._remoteCapsLock=null}if(code=="NumLock"&&down)this._remoteNumLock=null;if(this._remoteNumLock!==null&&numlock!==null&&this._remoteNumLock!==numlock&&down){Log.Debug("Fixing remote num lock");
this.sendKey(_keysym["default"].XK_Num_Lock,"NumLock",true);this.sendKey(_keysym["default"].XK_Num_Lock,"NumLock",false);this._remoteNumLock=null}this.sendKey(keysym,code,down)}},{key:"_handleMouse",value:function _handleMouse(ev){if(ev.type==="click")if(ev.target!==this._canvas)return;ev.stopPropagation();ev.preventDefault();if(ev.type==="click"||ev.type==="contextmenu")return;var pos=(0,_element.clientToElement)(ev.clientX,ev.clientY,this._canvas);var bmask=RFB._convertButtonMask(ev.buttons);var down=
ev.type=="mousedown";switch(ev.type){case "mousedown":case "mouseup":if(this.dragViewport)if(down&&!this._viewportDragging){this._viewportDragging=true;this._viewportDragPos={"x":pos.x,"y":pos.y};this._viewportHasMoved=false;this._flushMouseMoveTimer(pos.x,pos.y);this._mouseButtonMask=bmask;break}else{this._viewportDragging=false;if(this._viewportHasMoved){this._mouseButtonMask=bmask;break}this._sendMouse(pos.x,pos.y,this._mouseButtonMask)}if(down)(0,_events.setCapture)(this._canvas);this._handleMouseButton(pos.x,
pos.y,bmask);break;case "mousemove":if(this._viewportDragging){var deltaX=this._viewportDragPos.x-pos.x;var deltaY=this._viewportDragPos.y-pos.y;if(this._viewportHasMoved||Math.abs(deltaX)>_browser.dragThreshold||Math.abs(deltaY)>_browser.dragThreshold){this._viewportHasMoved=true;this._viewportDragPos={"x":pos.x,"y":pos.y};this._display.viewportChangePos(deltaX,deltaY)}break}this._handleMouseMove(pos.x,pos.y);break}}},{key:"_handleMouseButton",value:function _handleMouseButton(x,y,bmask){this._flushMouseMoveTimer(x,
y);this._mouseButtonMask=bmask;this._sendMouse(x,y,this._mouseButtonMask)}},{key:"_handleMouseMove",value:function _handleMouseMove(x,y){var _this4=this;this._mousePos={"x":x,"y":y};if(this._mouseMoveTimer==null){var timeSinceLastMove=Date.now()-this._mouseLastMoveTime;if(timeSinceLastMove>MOUSE_MOVE_DELAY){this._sendMouse(x,y,this._mouseButtonMask);this._mouseLastMoveTime=Date.now()}else this._mouseMoveTimer=setTimeout(function(){_this4._handleDelayedMouseMove()},MOUSE_MOVE_DELAY-timeSinceLastMove)}}},
{key:"_handleDelayedMouseMove",value:function _handleDelayedMouseMove(){this._mouseMoveTimer=null;this._sendMouse(this._mousePos.x,this._mousePos.y,this._mouseButtonMask);this._mouseLastMoveTime=Date.now()}},{key:"_sendMouse",value:function _sendMouse(x,y,mask){if(this._rfbConnectionState!=="connected")return;if(this._viewOnly)return;if(mask&32768)throw new Error("Illegal mouse button mask (mask: "+mask+")");var extendedMouseButtons=mask&32640;if(this._extendedPointerEventSupported&&extendedMouseButtons)RFB.messages.extendedPointerEvent(this._sock,
this._display.absX(x),this._display.absY(y),mask);else RFB.messages.pointerEvent(this._sock,this._display.absX(x),this._display.absY(y),mask)}},{key:"_handleWheel",value:function _handleWheel(ev){if(this._rfbConnectionState!=="connected")return;if(this._viewOnly)return;ev.stopPropagation();ev.preventDefault();var pos=(0,_element.clientToElement)(ev.clientX,ev.clientY,this._canvas);var bmask=RFB._convertButtonMask(ev.buttons);var dX=ev.deltaX;var dY=ev.deltaY;if(ev.deltaMode!==0){dX*=WHEEL_LINE_HEIGHT;
dY*=WHEEL_LINE_HEIGHT}this._accumulatedWheelDeltaX+=dX;this._accumulatedWheelDeltaY+=dY;if(Math.abs(this._accumulatedWheelDeltaX)>=WHEEL_STEP){if(this._accumulatedWheelDeltaX<0){this._handleMouseButton(pos.x,pos.y,bmask|1<<5);this._handleMouseButton(pos.x,pos.y,bmask)}else if(this._accumulatedWheelDeltaX>0){this._handleMouseButton(pos.x,pos.y,bmask|1<<6);this._handleMouseButton(pos.x,pos.y,bmask)}this._accumulatedWheelDeltaX=0}if(Math.abs(this._accumulatedWheelDeltaY)>=WHEEL_STEP){if(this._accumulatedWheelDeltaY<
0){this._handleMouseButton(pos.x,pos.y,bmask|1<<3);this._handleMouseButton(pos.x,pos.y,bmask)}else if(this._accumulatedWheelDeltaY>0){this._handleMouseButton(pos.x,pos.y,bmask|1<<4);this._handleMouseButton(pos.x,pos.y,bmask)}this._accumulatedWheelDeltaY=0}}},{key:"_fakeMouseMove",value:function _fakeMouseMove(ev,elementX,elementY){this._handleMouseMove(elementX,elementY);this._cursor.move(ev.detail.clientX,ev.detail.clientY)}},{key:"_handleTapEvent",value:function _handleTapEvent(ev,bmask){var pos=
(0,_element.clientToElement)(ev.detail.clientX,ev.detail.clientY,this._canvas);if(this._gestureLastTapTime!==null&&Date.now()-this._gestureLastTapTime<DOUBLE_TAP_TIMEOUT&&this._gestureFirstDoubleTapEv.detail.type===ev.detail.type){var dx=this._gestureFirstDoubleTapEv.detail.clientX-ev.detail.clientX;var dy=this._gestureFirstDoubleTapEv.detail.clientY-ev.detail.clientY;var distance=Math.hypot(dx,dy);if(distance<DOUBLE_TAP_THRESHOLD)pos=(0,_element.clientToElement)(this._gestureFirstDoubleTapEv.detail.clientX,
this._gestureFirstDoubleTapEv.detail.clientY,this._canvas);else this._gestureFirstDoubleTapEv=ev}else this._gestureFirstDoubleTapEv=ev;this._gestureLastTapTime=Date.now();this._fakeMouseMove(this._gestureFirstDoubleTapEv,pos.x,pos.y);this._handleMouseButton(pos.x,pos.y,bmask);this._handleMouseButton(pos.x,pos.y,0)}},{key:"_handleGesture",value:function _handleGesture(ev){var magnitude;var pos=(0,_element.clientToElement)(ev.detail.clientX,ev.detail.clientY,this._canvas);switch(ev.type){case "gesturestart":switch(ev.detail.type){case "onetap":this._handleTapEvent(ev,
1);break;case "twotap":this._handleTapEvent(ev,4);break;case "threetap":this._handleTapEvent(ev,2);break;case "drag":if(this.dragViewport){this._viewportHasMoved=false;this._viewportDragging=true;this._viewportDragPos={"x":pos.x,"y":pos.y}}else{this._fakeMouseMove(ev,pos.x,pos.y);this._handleMouseButton(pos.x,pos.y,1)}break;case "longpress":if(this.dragViewport){this._viewportHasMoved=false;this._viewportDragPos={"x":pos.x,"y":pos.y}}else{this._fakeMouseMove(ev,pos.x,pos.y);this._handleMouseButton(pos.x,
pos.y,4)}break;case "twodrag":this._gestureLastMagnitudeX=ev.detail.magnitudeX;this._gestureLastMagnitudeY=ev.detail.magnitudeY;this._fakeMouseMove(ev,pos.x,pos.y);break;case "pinch":this._gestureLastMagnitudeX=Math.hypot(ev.detail.magnitudeX,ev.detail.magnitudeY);this._fakeMouseMove(ev,pos.x,pos.y);break}break;case "gesturemove":switch(ev.detail.type){case "onetap":case "twotap":case "threetap":break;case "drag":case "longpress":if(this.dragViewport){this._viewportDragging=true;var deltaX=this._viewportDragPos.x-
pos.x;var deltaY=this._viewportDragPos.y-pos.y;if(this._viewportHasMoved||Math.abs(deltaX)>_browser.dragThreshold||Math.abs(deltaY)>_browser.dragThreshold){this._viewportHasMoved=true;this._viewportDragPos={"x":pos.x,"y":pos.y};this._display.viewportChangePos(deltaX,deltaY)}}else this._fakeMouseMove(ev,pos.x,pos.y);break;case "twodrag":this._fakeMouseMove(ev,pos.x,pos.y);while(ev.detail.magnitudeY-this._gestureLastMagnitudeY>GESTURE_SCRLSENS){this._handleMouseButton(pos.x,pos.y,8);this._handleMouseButton(pos.x,
pos.y,0);this._gestureLastMagnitudeY+=GESTURE_SCRLSENS}while(ev.detail.magnitudeY-this._gestureLastMagnitudeY<-GESTURE_SCRLSENS){this._handleMouseButton(pos.x,pos.y,16);this._handleMouseButton(pos.x,pos.y,0);this._gestureLastMagnitudeY-=GESTURE_SCRLSENS}while(ev.detail.magnitudeX-this._gestureLastMagnitudeX>GESTURE_SCRLSENS){this._handleMouseButton(pos.x,pos.y,32);this._handleMouseButton(pos.x,pos.y,0);this._gestureLastMagnitudeX+=GESTURE_SCRLSENS}while(ev.detail.magnitudeX-this._gestureLastMagnitudeX<
-GESTURE_SCRLSENS){this._handleMouseButton(pos.x,pos.y,64);this._handleMouseButton(pos.x,pos.y,0);this._gestureLastMagnitudeX-=GESTURE_SCRLSENS}break;case "pinch":this._fakeMouseMove(ev,pos.x,pos.y);magnitude=Math.hypot(ev.detail.magnitudeX,ev.detail.magnitudeY);if(Math.abs(magnitude-this._gestureLastMagnitudeX)>GESTURE_ZOOMSENS){this._handleKeyEvent(_keysym["default"].XK_Control_L,"ControlLeft",true);while(magnitude-this._gestureLastMagnitudeX>GESTURE_ZOOMSENS){this._handleMouseButton(pos.x,pos.y,
8);this._handleMouseButton(pos.x,pos.y,0);this._gestureLastMagnitudeX+=GESTURE_ZOOMSENS}while(magnitude-this._gestureLastMagnitudeX<-GESTURE_ZOOMSENS){this._handleMouseButton(pos.x,pos.y,16);this._handleMouseButton(pos.x,pos.y,0);this._gestureLastMagnitudeX-=GESTURE_ZOOMSENS}}this._handleKeyEvent(_keysym["default"].XK_Control_L,"ControlLeft",false);break}break;case "gestureend":switch(ev.detail.type){case "onetap":case "twotap":case "threetap":case "pinch":case "twodrag":break;case "drag":if(this.dragViewport)this._viewportDragging=
false;else{this._fakeMouseMove(ev,pos.x,pos.y);this._handleMouseButton(pos.x,pos.y,0)}break;case "longpress":if(this._viewportHasMoved)break;if(this.dragViewport&&!this._viewportHasMoved){this._fakeMouseMove(ev,pos.x,pos.y);this._handleMouseButton(pos.x,pos.y,4);this._handleMouseButton(pos.x,pos.y,0);this._viewportDragging=false}else{this._fakeMouseMove(ev,pos.x,pos.y);this._handleMouseButton(pos.x,pos.y,0)}break}break}}},{key:"_flushMouseMoveTimer",value:function _flushMouseMoveTimer(x,y){if(this._mouseMoveTimer!==
null){clearTimeout(this._mouseMoveTimer);this._mouseMoveTimer=null;this._sendMouse(x,y,this._mouseButtonMask)}}},{key:"_negotiateProtocolVersion",value:function _negotiateProtocolVersion(){if(this._sock.rQwait("version",12))return false;var sversion=this._sock.rQshiftStr(12).substr(4,7);Log.Info("Server ProtocolVersion: "+sversion);var isRepeater=0;switch(sversion){case "000.000":isRepeater=1;break;case "003.003":case "003.006":this._rfbVersion=3.3;break;case "003.007":this._rfbVersion=3.7;break;
case "003.008":case "003.889":case "004.000":case "004.001":case "005.000":this._rfbVersion=3.8;break;default:return this._fail("Invalid server version "+sversion)}if(isRepeater){var repeaterID="ID:"+this._repeaterID;while(repeaterID.length<250)repeaterID+="\x00";this._sock.sQpushString(repeaterID);this._sock.flush();return true}if(this._rfbVersion>this._rfbMaxVersion)this._rfbVersion=this._rfbMaxVersion;var cversion="00"+parseInt(this._rfbVersion,10)+".00"+this._rfbVersion*10%10;this._sock.sQpushString("RFB "+
cversion+"\n");this._sock.flush();Log.Debug("Sent ProtocolVersion: "+cversion);this._rfbInitState="Security"}},{key:"_isSupportedSecurityType",value:function _isSupportedSecurityType(type){var clientTypes=[securityTypeNone,securityTypeVNCAuth,securityTypeRA2ne,securityTypeTight,securityTypeVeNCrypt,securityTypeXVP,securityTypeARD,securityTypeMSLogonII,securityTypePlain];return clientTypes.includes(type)}},{key:"_negotiateSecurity",value:function _negotiateSecurity(){if(this._rfbVersion>=3.7){var numTypes=
this._sock.rQshift8();if(this._sock.rQwait("security type",numTypes,1))return false;if(numTypes===0){this._rfbInitState="SecurityReason";this._securityContext="no security types";this._securityStatus=1;return true}var types=this._sock.rQshiftBytes(numTypes);Log.Debug("Server security types: "+types);this._rfbAuthScheme=-1;var _iterator3=_createForOfIteratorHelper(types),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var type=_step3.value;if(this._isSupportedSecurityType(type)){this._rfbAuthScheme=
type;break}}}catch(err){_iterator3.e(err)}finally{_iterator3.f()}if(this._rfbAuthScheme===-1)return this._fail("Unsupported security types (types: "+types+")");this._sock.sQpush8(this._rfbAuthScheme);this._sock.flush()}else{if(this._sock.rQwait("security scheme",4))return false;this._rfbAuthScheme=this._sock.rQshift32();if(this._rfbAuthScheme==0){this._rfbInitState="SecurityReason";this._securityContext="authentication scheme";this._securityStatus=1;return true}}this._rfbInitState="Authentication";
Log.Debug("Authenticating using scheme: "+this._rfbAuthScheme);return true}},{key:"_handleSecurityReason",value:function _handleSecurityReason(){if(this._sock.rQwait("reason length",4))return false;var strlen=this._sock.rQshift32();var reason="";if(strlen>0){if(this._sock.rQwait("reason",strlen,4))return false;reason=this._sock.rQshiftStr(strlen)}if(reason!==""){this.dispatchEvent(new CustomEvent("securityfailure",{detail:{status:this._securityStatus,reason:reason}}));return this._fail("Security negotiation failed on "+
this._securityContext+" (reason: "+reason+")")}else{this.dispatchEvent(new CustomEvent("securityfailure",{detail:{status:this._securityStatus}}));return this._fail("Security negotiation failed on "+this._securityContext)}}},{key:"_negotiateXvpAuth",value:function _negotiateXvpAuth(){if(this._rfbCredentials.username===undefined||this._rfbCredentials.password===undefined||this._rfbCredentials.target===undefined){this.dispatchEvent(new CustomEvent("credentialsrequired",{detail:{types:["username","password",
"target"]}}));return false}this._sock.sQpush8(this._rfbCredentials.username.length);this._sock.sQpush8(this._rfbCredentials.target.length);this._sock.sQpushString(this._rfbCredentials.username);this._sock.sQpushString(this._rfbCredentials.target);this._sock.flush();this._rfbAuthScheme=securityTypeVNCAuth;return this._negotiateAuthentication()}},{key:"_negotiateVeNCryptAuth",value:function _negotiateVeNCryptAuth(){if(this._rfbVeNCryptState==0){if(this._sock.rQwait("vencrypt version",2))return false;
var major=this._sock.rQshift8();var minor=this._sock.rQshift8();if(!(major==0&&minor==2))return this._fail("Unsupported VeNCrypt version "+major+"."+minor);this._sock.sQpush8(0);this._sock.sQpush8(2);this._sock.flush();this._rfbVeNCryptState=1}if(this._rfbVeNCryptState==1){if(this._sock.rQwait("vencrypt ack",1))return false;var res=this._sock.rQshift8();if(res!=0)return this._fail("VeNCrypt failure "+res);this._rfbVeNCryptState=2}if(this._rfbVeNCryptState==2){if(this._sock.rQwait("vencrypt subtypes length",
1))return false;var subtypesLength=this._sock.rQshift8();if(subtypesLength<1)return this._fail("VeNCrypt subtypes empty");this._rfbVeNCryptSubtypesLength=subtypesLength;this._rfbVeNCryptState=3}if(this._rfbVeNCryptState==3){if(this._sock.rQwait("vencrypt subtypes",4*this._rfbVeNCryptSubtypesLength))return false;var subtypes=[];for(var i=0;i<this._rfbVeNCryptSubtypesLength;i++)subtypes.push(this._sock.rQshift32());this._rfbAuthScheme=-1;for(var _i=0,_subtypes=subtypes;_i<_subtypes.length;_i++){var type=
 __get$(_subtypes,_i) ;if(type===securityTypeVeNCrypt)continue;if(this._isSupportedSecurityType(type)){this._rfbAuthScheme=type;break}}if(this._rfbAuthScheme===-1)return this._fail("Unsupported security types (types: "+subtypes+")");this._sock.sQpush32(this._rfbAuthScheme);this._sock.flush();this._rfbVeNCryptState=4;return true}}},{key:"_negotiatePlainAuth",value:function _negotiatePlainAuth(){if(this._rfbCredentials.username===undefined||this._rfbCredentials.password===undefined){this.dispatchEvent(new CustomEvent("credentialsrequired",
{detail:{types:["username","password"]}}));return false}var user=(0,_strings.encodeUTF8)(this._rfbCredentials.username);var pass=(0,_strings.encodeUTF8)(this._rfbCredentials.password);this._sock.sQpush32(user.length);this._sock.sQpush32(pass.length);this._sock.sQpushString(user);this._sock.sQpushString(pass);this._sock.flush();this._rfbInitState="SecurityResult";return true}},{key:"_negotiateStdVNCAuth",value:function _negotiateStdVNCAuth(){if(this._sock.rQwait("auth challenge",16))return false;if(this._rfbCredentials.password===
undefined){this.dispatchEvent(new CustomEvent("credentialsrequired",{detail:{types:["password"]}}));return false}var challenge=Array.prototype.slice.call(this._sock.rQshiftBytes(16));var response=RFB.genDES(this._rfbCredentials.password,challenge);this._sock.sQpushBytes(response);this._sock.flush();this._rfbInitState="SecurityResult";return true}},{key:"_negotiateARDAuth",value:function _negotiateARDAuth(){if(this._rfbCredentials.username===undefined||this._rfbCredentials.password===undefined){this.dispatchEvent(new CustomEvent("credentialsrequired",
{detail:{types:["username","password"]}}));return false}if(this._rfbCredentials.ardPublicKey!=undefined&&this._rfbCredentials.ardCredentials!=undefined){this._sock.sQpushBytes(this._rfbCredentials.ardCredentials);this._sock.sQpushBytes(this._rfbCredentials.ardPublicKey);this._sock.flush();this._rfbCredentials.ardCredentials=null;this._rfbCredentials.ardPublicKey=null;this._rfbInitState="SecurityResult";return true}if(this._sock.rQwait("read ard",4))return false;var generator=this._sock.rQshiftBytes(2);
var keyLength=this._sock.rQshift16();if(this._sock.rQwait("read ard keylength",keyLength*2,4))return false;var prime=this._sock.rQshiftBytes(keyLength);var serverPublicKey=this._sock.rQshiftBytes(keyLength);var clientKey=_crypto["default"].generateKey({name:"DH",g:generator,p:prime},false,["deriveBits"]);this._negotiateARDAuthAsync(keyLength,serverPublicKey,clientKey);return false}},{key:"_negotiateARDAuthAsync",value:function(){var _negotiateARDAuthAsync2=_asyncToGenerator(_regeneratorRuntime().mark(function _callee(keyLength,
serverPublicKey,clientKey){var clientPublicKey,sharedKey,username,password,credentials,i,_i2,key,cipher,encrypted;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:clientPublicKey=_crypto["default"].exportKey("raw",clientKey.publicKey);sharedKey=_crypto["default"].deriveBits({name:"DH","public":serverPublicKey},clientKey.privateKey,keyLength*8);username=(0,_strings.encodeUTF8)(this._rfbCredentials.username).substring(0,63);password=(0,_strings.encodeUTF8)(this._rfbCredentials.password).substring(0,
63);credentials=window.crypto.getRandomValues(new Uint8Array(128));for(i=0;i<username.length;i++) __set$(credentials,i,username.charCodeAt(i)) ; __set$(credentials,username.length,0) ;for(_i2=0;_i2<password.length;_i2++) __set$(credentials,64+_i2,password.charCodeAt(_i2)) ; __set$(credentials,64+password.length,0) ;_context.next=11;return _crypto["default"].digest("MD5",sharedKey);case 11:key=_context.sent;_context.next=14;return _crypto["default"].importKey("raw",key,{name:"AES-ECB"},false,["encrypt"]);case 14:cipher=_context.sent;
_context.next=17;return _crypto["default"].encrypt({name:"AES-ECB"},cipher,credentials);case 17:encrypted=_context.sent;this._rfbCredentials.ardCredentials=encrypted;this._rfbCredentials.ardPublicKey=clientPublicKey;this._resumeAuthentication();case 21:case "end":return _context.stop()}},_callee,this)}));function _negotiateARDAuthAsync(_x,_x2,_x3){return _negotiateARDAuthAsync2.apply(this,arguments)}return _negotiateARDAuthAsync}()},{key:"_negotiateTightUnixAuth",value:function _negotiateTightUnixAuth(){if(this._rfbCredentials.username===
undefined||this._rfbCredentials.password===undefined){this.dispatchEvent(new CustomEvent("credentialsrequired",{detail:{types:["username","password"]}}));return false}this._sock.sQpush32(this._rfbCredentials.username.length);this._sock.sQpush32(this._rfbCredentials.password.length);this._sock.sQpushString(this._rfbCredentials.username);this._sock.sQpushString(this._rfbCredentials.password);this._sock.flush();this._rfbInitState="SecurityResult";return true}},{key:"_negotiateTightTunnels",value:function _negotiateTightTunnels(numTunnels){var clientSupportedTunnelTypes=
{0:{vendor:"TGHT",signature:"NOTUNNEL"}};var serverSupportedTunnelTypes={};for(var i=0;i<numTunnels;i++){var capCode=this._sock.rQshift32();var capVendor=this._sock.rQshiftStr(4);var capSignature=this._sock.rQshiftStr(8); __set$(serverSupportedTunnelTypes,capCode,{vendor:capVendor,signature:capSignature}) }Log.Debug("Server Tight tunnel types: "+serverSupportedTunnelTypes);if(serverSupportedTunnelTypes[1]&&serverSupportedTunnelTypes[1].vendor==="SICR"&&serverSupportedTunnelTypes[1].signature==="SCHANNEL"){Log.Debug("Detected Siemens server. Assuming NOTUNNEL support.");
serverSupportedTunnelTypes[0]={vendor:"TGHT",signature:"NOTUNNEL"}}if(serverSupportedTunnelTypes[0]){if(serverSupportedTunnelTypes[0].vendor!=clientSupportedTunnelTypes[0].vendor||serverSupportedTunnelTypes[0].signature!=clientSupportedTunnelTypes[0].signature)return this._fail("Client's tunnel type had the incorrect "+"vendor or signature");Log.Debug("Selected tunnel type: "+clientSupportedTunnelTypes[0]);this._sock.sQpush32(0);this._sock.flush();return false}else return this._fail("Server wanted tunnels, but doesn't support "+
"the notunnel type")}},{key:"_negotiateTightAuth",value:function _negotiateTightAuth(){if(!this._rfbTightVNC){if(this._sock.rQwait("num tunnels",4))return false;var numTunnels=this._sock.rQshift32();if(numTunnels>0&&this._sock.rQwait("tunnel capabilities",16*numTunnels,4))return false;this._rfbTightVNC=true;if(numTunnels>0){this._negotiateTightTunnels(numTunnels);return false}}if(this._sock.rQwait("sub auth count",4))return false;var subAuthCount=this._sock.rQshift32();if(subAuthCount===0){this._rfbInitState=
"SecurityResult";return true}if(this._sock.rQwait("sub auth capabilities",16*subAuthCount,4))return false;var clientSupportedTypes={"STDVNOAUTH__":1,"STDVVNCAUTH_":2,"TGHTULGNAUTH":129};var serverSupportedTypes=[];for(var i=0;i<subAuthCount;i++){this._sock.rQshift32();var capabilities=this._sock.rQshiftStr(12);serverSupportedTypes.push(capabilities)}Log.Debug("Server Tight authentication types: "+serverSupportedTypes);for(var authType in clientSupportedTypes)if(serverSupportedTypes.indexOf(authType)!=
-1){this._sock.sQpush32( __get$(clientSupportedTypes,authType) );this._sock.flush();Log.Debug("Selected authentication type: "+authType);switch(authType){case "STDVNOAUTH__":this._rfbInitState="SecurityResult";return true;case "STDVVNCAUTH_":this._rfbAuthScheme=securityTypeVNCAuth;return true;case "TGHTULGNAUTH":this._rfbAuthScheme=securityTypeUnixLogon;return true;default:return this._fail("Unsupported tiny auth scheme "+"(scheme: "+authType+")")}}return this._fail("No supported sub-auth types!")}},{key:"_handleRSAAESCredentialsRequired",
value:function _handleRSAAESCredentialsRequired(event){this.dispatchEvent(event)}},{key:"_handleRSAAESServerVerification",value:function _handleRSAAESServerVerification(event){this.dispatchEvent(event)}},{key:"_negotiateRA2neAuth",value:function _negotiateRA2neAuth(){var _this5=this;if(this._rfbRSAAESAuthenticationState===null){this._rfbRSAAESAuthenticationState=new _ra["default"](this._sock,function(){return _this5._rfbCredentials});this._rfbRSAAESAuthenticationState.addEventListener("serververification",
this._eventHandlers.handleRSAAESServerVerification);this._rfbRSAAESAuthenticationState.addEventListener("credentialsrequired",this._eventHandlers.handleRSAAESCredentialsRequired)}this._rfbRSAAESAuthenticationState.checkInternalEvents();if(!this._rfbRSAAESAuthenticationState.hasStarted)this._rfbRSAAESAuthenticationState.negotiateRA2neAuthAsync()["catch"](function(e){if(e.message!=="disconnect normally")_this5._fail(e.message)}).then(function(){_this5._rfbInitState="SecurityResult";return true})["finally"](function(){_this5._rfbRSAAESAuthenticationState.removeEventListener("serververification",
_this5._eventHandlers.handleRSAAESServerVerification);_this5._rfbRSAAESAuthenticationState.removeEventListener("credentialsrequired",_this5._eventHandlers.handleRSAAESCredentialsRequired);_this5._rfbRSAAESAuthenticationState=null});return false}},{key:"_negotiateMSLogonIIAuth",value:function _negotiateMSLogonIIAuth(){if(this._sock.rQwait("mslogonii dh param",24))return false;if(this._rfbCredentials.username===undefined||this._rfbCredentials.password===undefined){this.dispatchEvent(new CustomEvent("credentialsrequired",
{detail:{types:["username","password"]}}));return false}var g=this._sock.rQshiftBytes(8);var p=this._sock.rQshiftBytes(8);var A=this._sock.rQshiftBytes(8);var dhKey=_crypto["default"].generateKey({name:"DH",g:g,p:p},true,["deriveBits"]);var B=_crypto["default"].exportKey("raw",dhKey.publicKey);var secret=_crypto["default"].deriveBits({name:"DH","public":A},dhKey.privateKey,64);var key=_crypto["default"].importKey("raw",secret,{name:"DES-CBC"},false,["encrypt"]);var username=(0,_strings.encodeUTF8)(this._rfbCredentials.username).substring(0,
255);var password=(0,_strings.encodeUTF8)(this._rfbCredentials.password).substring(0,63);var usernameBytes=new Uint8Array(256);var passwordBytes=new Uint8Array(64);window.crypto.getRandomValues(usernameBytes);window.crypto.getRandomValues(passwordBytes);for(var i=0;i<username.length;i++) __set$(usernameBytes,i,username.charCodeAt(i)) ; __set$(usernameBytes,username.length,0) ;for(var _i3=0;_i3<password.length;_i3++) __set$(passwordBytes,_i3,password.charCodeAt(_i3)) ; __set$(passwordBytes,password.length,0) ;usernameBytes=_crypto["default"].encrypt({name:"DES-CBC",
iv:secret},key,usernameBytes);passwordBytes=_crypto["default"].encrypt({name:"DES-CBC",iv:secret},key,passwordBytes);this._sock.sQpushBytes(B);this._sock.sQpushBytes(usernameBytes);this._sock.sQpushBytes(passwordBytes);this._sock.flush();this._rfbInitState="SecurityResult";return true}},{key:"_negotiateAuthentication",value:function _negotiateAuthentication(){switch(this._rfbAuthScheme){case securityTypeNone:if(this._rfbVersion>=3.8)this._rfbInitState="SecurityResult";else this._rfbInitState="ClientInitialisation";
return true;case securityTypeXVP:return this._negotiateXvpAuth();case securityTypeARD:return this._negotiateARDAuth();case securityTypeVNCAuth:return this._negotiateStdVNCAuth();case securityTypeTight:return this._negotiateTightAuth();case securityTypeVeNCrypt:return this._negotiateVeNCryptAuth();case securityTypePlain:return this._negotiatePlainAuth();case securityTypeUnixLogon:return this._negotiateTightUnixAuth();case securityTypeRA2ne:return this._negotiateRA2neAuth();case securityTypeMSLogonII:return this._negotiateMSLogonIIAuth();
default:return this._fail("Unsupported auth scheme (scheme: "+this._rfbAuthScheme+")")}}},{key:"_handleSecurityResult",value:function _handleSecurityResult(){if(this._sock.rQwait("VNC auth response ",4))return false;var status=this._sock.rQshift32();if(status===0){this._rfbInitState="ClientInitialisation";Log.Debug("Authentication OK");return true}else if(this._rfbVersion>=3.8){this._rfbInitState="SecurityReason";this._securityContext="security result";this._securityStatus=status;return true}else{this.dispatchEvent(new CustomEvent("securityfailure",
{detail:{status:status}}));return this._fail("Security handshake failed")}}},{key:"_negotiateServerInit",value:function _negotiateServerInit(){if(this._sock.rQwait("server initialization",24))return false;var width=this._sock.rQshift16();var height=this._sock.rQshift16();var bpp=this._sock.rQshift8();var depth=this._sock.rQshift8();var bigEndian=this._sock.rQshift8();var trueColor=this._sock.rQshift8();var redMax=this._sock.rQshift16();var greenMax=this._sock.rQshift16();var blueMax=this._sock.rQshift16();
var redShift=this._sock.rQshift8();var greenShift=this._sock.rQshift8();var blueShift=this._sock.rQshift8();this._sock.rQskipBytes(3);var nameLength=this._sock.rQshift32();if(this._sock.rQwait("server init name",nameLength,24))return false;var name=this._sock.rQshiftStr(nameLength);name=(0,_strings.decodeUTF8)(name,true);if(this._rfbTightVNC){if(this._sock.rQwait("TightVNC extended server init header",8,24+nameLength))return false;var numServerMessages=this._sock.rQshift16();var numClientMessages=
this._sock.rQshift16();var numEncodings=this._sock.rQshift16();this._sock.rQskipBytes(2);var totalMessagesLength=(numServerMessages+numClientMessages+numEncodings)*16;if(this._sock.rQwait("TightVNC extended server init header",totalMessagesLength,32+nameLength))return false;this._sock.rQskipBytes(16*numServerMessages);this._sock.rQskipBytes(16*numClientMessages);this._sock.rQskipBytes(16*numEncodings)}Log.Info("Screen: "+width+"x"+height+", bpp: "+bpp+", depth: "+depth+", bigEndian: "+bigEndian+", trueColor: "+
trueColor+", redMax: "+redMax+", greenMax: "+greenMax+", blueMax: "+blueMax+", redShift: "+redShift+", greenShift: "+greenShift+", blueShift: "+blueShift);this._setDesktopName(name);this._resize(width,height);if(!this._viewOnly)this._keyboard.grab();this._fbDepth=24;if(this._fbName==="Intel(r) AMT KVM"){Log.Warn("Intel AMT KVM only supports 8/16 bit depths. Using low color mode.");this._fbDepth=8}RFB.messages.pixelFormat(this._sock,this._fbDepth,true);this._sendEncodings();RFB.messages.fbUpdateRequest(this._sock,
false,0,0,this._fbWidth,this._fbHeight);this._updateConnectionState("connected");return true}},{key:"_sendEncodings",value:function _sendEncodings(){var encs=[];encs.push(_encodings.encodings.encodingCopyRect);if(this._fbDepth==24){if(_browser.supportsWebCodecsH264Decode)encs.push(_encodings.encodings.encodingH264);encs.push(_encodings.encodings.encodingTight);encs.push(_encodings.encodings.encodingTightPNG);encs.push(_encodings.encodings.encodingZRLE);encs.push(_encodings.encodings.encodingJPEG);
encs.push(_encodings.encodings.encodingHextile);encs.push(_encodings.encodings.encodingRRE);encs.push(_encodings.encodings.encodingZlib)}encs.push(_encodings.encodings.encodingRaw);encs.push(_encodings.encodings.pseudoEncodingQualityLevel0+this._qualityLevel);encs.push(_encodings.encodings.pseudoEncodingCompressLevel0+this._compressionLevel);encs.push(_encodings.encodings.pseudoEncodingDesktopSize);encs.push(_encodings.encodings.pseudoEncodingLastRect);encs.push(_encodings.encodings.pseudoEncodingQEMUExtendedKeyEvent);
encs.push(_encodings.encodings.pseudoEncodingQEMULedEvent);encs.push(_encodings.encodings.pseudoEncodingExtendedDesktopSize);encs.push(_encodings.encodings.pseudoEncodingXvp);encs.push(_encodings.encodings.pseudoEncodingFence);encs.push(_encodings.encodings.pseudoEncodingContinuousUpdates);encs.push(_encodings.encodings.pseudoEncodingDesktopName);encs.push(_encodings.encodings.pseudoEncodingExtendedClipboard);encs.push(_encodings.encodings.pseudoEncodingExtendedMouseButtons);if(this._fbDepth==24){encs.push(_encodings.encodings.pseudoEncodingVMwareCursor);
encs.push(_encodings.encodings.pseudoEncodingCursor)}RFB.messages.clientEncodings(this._sock,encs)}},{key:"_initMsg",value:function _initMsg(){switch(this._rfbInitState){case "ProtocolVersion":return this._negotiateProtocolVersion();case "Security":return this._negotiateSecurity();case "Authentication":return this._negotiateAuthentication();case "SecurityResult":return this._handleSecurityResult();case "SecurityReason":return this._handleSecurityReason();case "ClientInitialisation":this._sock.sQpush8(this._shared?
1:0);this._sock.flush();this._rfbInitState="ServerInitialisation";return true;case "ServerInitialisation":return this._negotiateServerInit();default:return this._fail("Unknown init state (state: "+this._rfbInitState+")")}}},{key:"_resumeAuthentication",value:function _resumeAuthentication(){setTimeout(this._initMsg.bind(this),0)}},{key:"_handleSetColourMapMsg",value:function _handleSetColourMapMsg(){Log.Debug("SetColorMapEntries");return this._fail("Unexpected SetColorMapEntries message")}},{key:"_handleServerCutText",
value:function _handleServerCutText(){Log.Debug("ServerCutText");if(this._sock.rQwait("ServerCutText header",7,1))return false;this._sock.rQskipBytes(3);var length=this._sock.rQshift32();length=(0,_int.toSigned32bit)(length);if(this._sock.rQwait("ServerCutText content",Math.abs(length),8))return false;if(length>=0){var text=this._sock.rQshiftStr(length);if(this._viewOnly)return true;this.dispatchEvent(new CustomEvent("clipboard",{detail:{text:text}}))}else{length=Math.abs(length);var flags=this._sock.rQshift32();
var formats=flags&65535;var actions=flags&4278190080;var isCaps=!!(actions&extendedClipboardActionCaps);if(isCaps){this._clipboardServerCapabilitiesFormats={};this._clipboardServerCapabilitiesActions={};for(var i=0;i<=15;i++){var index=1<<i;if(formats&index){ __set$(this._clipboardServerCapabilitiesFormats,index,true) ;this._sock.rQshift32()}}for(var _i4=24;_i4<=31;_i4++){var _index=1<<_i4; __set$(this._clipboardServerCapabilitiesActions,_index,!!(actions&_index)) }var clientActions=[extendedClipboardActionCaps,extendedClipboardActionRequest,
extendedClipboardActionPeek,extendedClipboardActionNotify,extendedClipboardActionProvide];RFB.messages.extendedClipboardCaps(this._sock,clientActions,{extendedClipboardFormatText:0})}else if(actions===extendedClipboardActionRequest){if(this._viewOnly)return true;if(this._clipboardText!=null&& __get$(this._clipboardServerCapabilitiesActions,extendedClipboardActionProvide) )if(formats&extendedClipboardFormatText)RFB.messages.extendedClipboardProvide(this._sock,[extendedClipboardFormatText],[this._clipboardText])}else if(actions===
extendedClipboardActionPeek){if(this._viewOnly)return true;if( __get$(this._clipboardServerCapabilitiesActions,extendedClipboardActionNotify) )if(this._clipboardText!=null)RFB.messages.extendedClipboardNotify(this._sock,[extendedClipboardFormatText]);else RFB.messages.extendedClipboardNotify(this._sock,[])}else if(actions===extendedClipboardActionNotify){if(this._viewOnly)return true;if( __get$(this._clipboardServerCapabilitiesActions,extendedClipboardActionRequest) )if(formats&extendedClipboardFormatText)RFB.messages.extendedClipboardRequest(this._sock,
[extendedClipboardFormatText])}else if(actions===extendedClipboardActionProvide){if(this._viewOnly)return true;if(!(formats&extendedClipboardFormatText))return true;this._clipboardText=null;var zlibStream=this._sock.rQshiftBytes(length-4);var streamInflator=new _inflator["default"];var textData=null;streamInflator.setInput(zlibStream);for(var _i5=0;_i5<=15;_i5++){var format=1<<_i5;if(formats&format){var size=0;var sizeArray=streamInflator.inflate(4);size|=sizeArray[0]<<24;size|=sizeArray[1]<<16;size|=
sizeArray[2]<<8;size|=sizeArray[3];var chunk=streamInflator.inflate(size);if(format===extendedClipboardFormatText)textData=chunk}}streamInflator.setInput(null);if(textData!==null){var tmpText="";for(var _i6=0;_i6<textData.length;_i6++)tmpText+=String.fromCharCode( __get$(textData,_i6) );textData=tmpText;textData=(0,_strings.decodeUTF8)(textData);if(textData.length>0&&"\x00"===textData.charAt(textData.length-1))textData=textData.slice(0,-1);textData=textData.replaceAll("\r\n","\n");this.dispatchEvent(new CustomEvent("clipboard",
{detail:{text:textData}}))}}else return this._fail("Unexpected action in extended clipboard message: "+actions)}return true}},{key:"_handleServerFenceMsg",value:function _handleServerFenceMsg(){if(this._sock.rQwait("ServerFence header",8,1))return false;this._sock.rQskipBytes(3);var flags=this._sock.rQshift32();var length=this._sock.rQshift8();if(this._sock.rQwait("ServerFence payload",length,9))return false;if(length>64){Log.Warn("Bad payload length ("+length+") in fence response");length=64}var payload=
this._sock.rQshiftStr(length);this._supportsFence=true;if(!(flags&1<<31))return this._fail("Unexpected fence response");flags&=1<<0|1<<1;RFB.messages.clientFence(this._sock,flags,payload);return true}},{key:"_handleXvpMsg",value:function _handleXvpMsg(){if(this._sock.rQwait("XVP version and message",3,1))return false;this._sock.rQskipBytes(1);var xvpVer=this._sock.rQshift8();var xvpMsg=this._sock.rQshift8();switch(xvpMsg){case 0:Log.Error("XVP operation failed");break;case 1:this._rfbXvpVer=xvpVer;
Log.Info("XVP extensions enabled (version "+this._rfbXvpVer+")");this._setCapability("power",true);break;default:this._fail("Illegal server XVP message (msg: "+xvpMsg+")");break}return true}},{key:"_normalMsg",value:function _normalMsg(){var msgType;if(this._FBU.rects>0)msgType=0;else msgType=this._sock.rQshift8();var first,ret;switch(msgType){case 0:ret=this._framebufferUpdate();if(ret&&!this._enabledContinuousUpdates)RFB.messages.fbUpdateRequest(this._sock,true,0,0,this._fbWidth,this._fbHeight);
return ret;case 1:return this._handleSetColourMapMsg();case 2:Log.Debug("Bell");this.dispatchEvent(new CustomEvent("bell",{detail:{}}));return true;case 3:return this._handleServerCutText();case 150:first=!this._supportsContinuousUpdates;this._supportsContinuousUpdates=true;this._enabledContinuousUpdates=false;if(first){this._enabledContinuousUpdates=true;this._updateContinuousUpdates();Log.Info("Enabling continuous updates.")}else;return true;case 248:return this._handleServerFenceMsg();case 250:return this._handleXvpMsg();
default:this._fail("Unexpected server message (type "+msgType+")");Log.Debug("sock.rQpeekBytes(30): "+this._sock.rQpeekBytes(30));return true}}},{key:"_framebufferUpdate",value:function _framebufferUpdate(){var _this6=this;if(this._FBU.rects===0){if(this._sock.rQwait("FBU header",3,1))return false;this._sock.rQskipBytes(1);this._FBU.rects=this._sock.rQshift16();if(this._display.pending()){this._flushing=true;this._display.flush().then(function(){_this6._flushing=false;if(!_this6._sock.rQwait("message",
1))_this6._handleMessage()});return false}}while(this._FBU.rects>0){if(this._FBU.encoding===null){if(this._sock.rQwait("rect header",12))return false;this._FBU.x=this._sock.rQshift16();this._FBU.y=this._sock.rQshift16();this._FBU.width=this._sock.rQshift16();this._FBU.height=this._sock.rQshift16();this._FBU.encoding=this._sock.rQshift32();this._FBU.encoding>>=0}if(!this._handleRect())return false;this._FBU.rects--;this._FBU.encoding=null}this._display.flip();return true}},{key:"_handleRect",value:function _handleRect(){switch(this._FBU.encoding){case _encodings.encodings.pseudoEncodingLastRect:this._FBU.rects=
1;return true;case _encodings.encodings.pseudoEncodingVMwareCursor:return this._handleVMwareCursor();case _encodings.encodings.pseudoEncodingCursor:return this._handleCursor();case _encodings.encodings.pseudoEncodingQEMUExtendedKeyEvent:this._qemuExtKeyEventSupported=true;return true;case _encodings.encodings.pseudoEncodingDesktopName:return this._handleDesktopName();case _encodings.encodings.pseudoEncodingDesktopSize:this._resize(this._FBU.width,this._FBU.height);return true;case _encodings.encodings.pseudoEncodingExtendedDesktopSize:return this._handleExtendedDesktopSize();
case _encodings.encodings.pseudoEncodingExtendedMouseButtons:this._extendedPointerEventSupported=true;return true;case _encodings.encodings.pseudoEncodingQEMULedEvent:return this._handleLedEvent();default:return this._handleDataRect()}}},{key:"_handleVMwareCursor",value:function _handleVMwareCursor(){var hotx=this._FBU.x;var hoty=this._FBU.y;var w=this._FBU.width;var h=this._FBU.height;if(this._sock.rQwait("VMware cursor encoding",1))return false;var cursorType=this._sock.rQshift8();this._sock.rQshift8();
var rgba;var bytesPerPixel=4;if(cursorType==0){var PIXEL_MASK=4294967040|0;rgba=new Array(w*h*bytesPerPixel);if(this._sock.rQwait("VMware cursor classic encoding",w*h*bytesPerPixel*2,2))return false;var andMask=new Array(w*h);for(var pixel=0;pixel<w*h;pixel++) __set$(andMask,pixel,this._sock.rQshift32()) ;var xorMask=new Array(w*h);for(var _pixel=0;_pixel<w*h;_pixel++) __set$(xorMask,_pixel,this._sock.rQshift32()) ;for(var _pixel2=0;_pixel2<w*h;_pixel2++)if( __get$(andMask,_pixel2) ==0){var bgr= __get$(xorMask,_pixel2) ;var r=bgr>>
8&255;var g=bgr>>16&255;var b=bgr>>24&255; __set$(rgba,_pixel2*bytesPerPixel,r) ; __set$(rgba,_pixel2*bytesPerPixel+1,g) ; __set$(rgba,_pixel2*bytesPerPixel+2,b) ; __set$(rgba,_pixel2*bytesPerPixel+3,255) }else if(( __get$(andMask,_pixel2) &PIXEL_MASK)==PIXEL_MASK)if( __get$(xorMask,_pixel2) ==0){ __set$(rgba,_pixel2*bytesPerPixel,0) ; __set$(rgba,_pixel2*bytesPerPixel+1,0) ; __set$(rgba,_pixel2*bytesPerPixel+2,0) ; __set$(rgba,_pixel2*bytesPerPixel+3,0) }else if(( __get$(xorMask,_pixel2) &PIXEL_MASK)==PIXEL_MASK){ __set$(rgba,_pixel2*bytesPerPixel,0) ; __set$(rgba,_pixel2*bytesPerPixel+1,0) ; __set$(rgba,_pixel2*bytesPerPixel+2,0) ; __set$(rgba,_pixel2*bytesPerPixel+3,255) }else{ __set$(rgba,_pixel2*bytesPerPixel,0) ; __set$(rgba,_pixel2*bytesPerPixel+1,0) ; __set$(rgba,_pixel2*bytesPerPixel+2,0) ; __set$(rgba,_pixel2*bytesPerPixel+3,255) }else{ __set$(rgba,_pixel2*bytesPerPixel,0) ; __set$(rgba,_pixel2*bytesPerPixel+1,0) ; __set$(rgba,_pixel2*bytesPerPixel+2,0) ; __set$(rgba,_pixel2*bytesPerPixel+3,255) }}else if(cursorType==1){if(this._sock.rQwait("VMware cursor alpha encoding",w*h*4,2))return false;rgba=new Array(w*h*bytesPerPixel);for(var _pixel3=0;_pixel3<w*h;_pixel3++){var data=this._sock.rQshift32();
 __set$(rgba,_pixel3*4,data>>24&255) ; __set$(rgba,_pixel3*4+1,data>>16&255) ; __set$(rgba,_pixel3*4+2,data>>8&255) ; __set$(rgba,_pixel3*4+3,data&255) }}else{Log.Warn("The given cursor type is not supported: "+cursorType+" given.");return false}this._updateCursor(rgba,hotx,hoty,w,h);return true}},{key:"_handleCursor",value:function _handleCursor(){var hotx=this._FBU.x;var hoty=this._FBU.y;var w=this._FBU.width;var h=this._FBU.height;var pixelslength=w*h*4;var masklength=Math.ceil(w/8)*h;var bytes=pixelslength+masklength;if(this._sock.rQwait("cursor encoding",
bytes))return false;var pixels=this._sock.rQshiftBytes(pixelslength);var mask=this._sock.rQshiftBytes(masklength);var rgba=new Uint8Array(w*h*4);var pixIdx=0;for(var y=0;y<h;y++)for(var x=0;x<w;x++){var maskIdx=y*Math.ceil(w/8)+Math.floor(x/8);var alpha= __get$(mask,maskIdx) <<x%8&128?255:0; __set$(rgba,pixIdx,__get$(pixels,pixIdx+2)) ; __set$(rgba,pixIdx+1,__get$(pixels,pixIdx+1)) ; __set$(rgba,pixIdx+2,__get$(pixels,pixIdx)) ; __set$(rgba,pixIdx+3,alpha) ;pixIdx+=4}this._updateCursor(rgba,hotx,hoty,w,h);return true}},{key:"_handleDesktopName",value:function _handleDesktopName(){if(this._sock.rQwait("DesktopName",
4))return false;var length=this._sock.rQshift32();if(this._sock.rQwait("DesktopName",length,4))return false;var name=this._sock.rQshiftStr(length);name=(0,_strings.decodeUTF8)(name,true);this._setDesktopName(name);return true}},{key:"_handleLedEvent",value:function _handleLedEvent(){if(this._sock.rQwait("LED status",1))return false;var data=this._sock.rQshift8();var numLock=data&2?true:false;var capsLock=data&4?true:false;this._remoteCapsLock=capsLock;this._remoteNumLock=numLock;return true}},{key:"_handleExtendedDesktopSize",
value:function _handleExtendedDesktopSize(){if(this._sock.rQwait("ExtendedDesktopSize",4))return false;var numberOfScreens=this._sock.rQpeek8();var bytes=4+numberOfScreens*16;if(this._sock.rQwait("ExtendedDesktopSize",bytes))return false;var firstUpdate=!this._supportsSetDesktopSize;this._supportsSetDesktopSize=true;this._sock.rQskipBytes(1);this._sock.rQskipBytes(3);for(var i=0;i<numberOfScreens;i+=1)if(i===0){this._screenID=this._sock.rQshift32();this._sock.rQskipBytes(2);this._sock.rQskipBytes(2);
this._sock.rQskipBytes(2);this._sock.rQskipBytes(2);this._screenFlags=this._sock.rQshift32()}else this._sock.rQskipBytes(16);if(this._FBU.x===1)this._pendingRemoteResize=false;if(this._FBU.x===1&&this._FBU.y!==0){var msg="";switch(this._FBU.y){case 1:msg="Resize is administratively prohibited";break;case 2:msg="Out of resources";break;case 3:msg="Invalid screen layout";break;default:msg="Unknown reason";break}Log.Warn("Server did not accept the resize request: "+msg)}else this._resize(this._FBU.width,
this._FBU.height);if(firstUpdate)this._requestRemoteResize();if(this._FBU.x===1&&this._FBU.y===0)this._requestRemoteResize();return true}},{key:"_handleDataRect",value:function _handleDataRect(){var decoder= __get$(this._decoders,this._FBU.encoding) ;if(!decoder){this._fail("Unsupported encoding (encoding: "+this._FBU.encoding+")");return false}try{return decoder.decodeRect(this._FBU.x,this._FBU.y,this._FBU.width,this._FBU.height,this._sock,this._display,this._fbDepth)}catch(err){this._fail("Error decoding rect: "+
err);return false}}},{key:"_updateContinuousUpdates",value:function _updateContinuousUpdates(){if(!this._enabledContinuousUpdates)return;RFB.messages.enableContinuousUpdates(this._sock,true,0,0,this._fbWidth,this._fbHeight)}},{key:"_resize",value:function _resize(width,height){this._fbWidth=width;this._fbHeight=height;this._display.resize(this._fbWidth,this._fbHeight);this._updateClip();this._updateScale();this._updateContinuousUpdates();this._saveExpectedClientSize()}},{key:"_xvpOp",value:function _xvpOp(ver,
op){if(this._rfbXvpVer<ver)return;Log.Info("Sending XVP operation "+op+" (version "+ver+")");RFB.messages.xvpOp(this._sock,ver,op)}},{key:"_updateCursor",value:function _updateCursor(rgba,hotx,hoty,w,h){this._cursorImage={rgbaPixels:rgba,hotx:hotx,hoty:hoty,w:w,h:h};this._refreshCursor()}},{key:"_shouldShowDotCursor",value:function _shouldShowDotCursor(){if(!this._showDotCursor)return false;for(var i=3;i<this._cursorImage.rgbaPixels.length;i+=4)if( __get$(this._cursorImage.rgbaPixels,i) )return false;return true}},
{key:"_refreshCursor",value:function _refreshCursor(){if(this._rfbConnectionState!=="connecting"&&this._rfbConnectionState!=="connected")return;var image=this._shouldShowDotCursor()?RFB.cursors.dot:this._cursorImage;this._cursor.change(image.rgbaPixels,image.hotx,image.hoty,image.w,image.h)}}],[{key:"_convertButtonMask",value:function _convertButtonMask(buttons){var buttonMaskMap={0:1<<0,1:1<<2,2:1<<1,3:1<<7,4:1<<8};var bmask=0;for(var i=0;i<5;i++)if(buttons&1<<i)bmask|= __get$(buttonMaskMap,i) ;return bmask}},
{key:"genDES",value:function genDES(password,challenge){var passwordChars=password.split("").map(function(c){return c.charCodeAt(0)});var key=_crypto["default"].importKey("raw",passwordChars,{name:"DES-ECB"},false,["encrypt"]);return _crypto["default"].encrypt({name:"DES-ECB"},key,challenge)}}])}(_eventtarget["default"]);RFB.messages={keyEvent:function keyEvent(sock,keysym,down){sock.sQpush8(4);sock.sQpush8(down);sock.sQpush16(0);sock.sQpush32(keysym);sock.flush()},QEMUExtendedKeyEvent:function QEMUExtendedKeyEvent(sock,
keysym,down,keycode){function getRFBkeycode(xtScanCode){var upperByte=keycode>>8;var lowerByte=keycode&255;if(upperByte===224&&lowerByte<127)return lowerByte|128;return xtScanCode}sock.sQpush8(255);sock.sQpush8(0);sock.sQpush16(down);sock.sQpush32(keysym);var RFBkeycode=getRFBkeycode(keycode);sock.sQpush32(RFBkeycode);sock.flush()},pointerEvent:function pointerEvent(sock,x,y,mask){sock.sQpush8(5);mask=mask&127;sock.sQpush8(mask);sock.sQpush16(x);sock.sQpush16(y);sock.flush()},extendedPointerEvent:function extendedPointerEvent(sock,
x,y,mask){sock.sQpush8(5);var higherBits=mask>>7&255;if(higherBits&252)throw new Error("Invalid mouse button mask: "+mask);var lowerBits=mask&127;lowerBits|=128;sock.sQpush8(lowerBits);sock.sQpush16(x);sock.sQpush16(y);sock.sQpush8(higherBits);sock.flush()},_buildExtendedClipboardFlags:function _buildExtendedClipboardFlags(actions,formats){var data=new Uint8Array(4);var formatFlag=0;var actionFlag=0;for(var i=0;i<actions.length;i++)actionFlag|= __get$(actions,i) ;for(var _i7=0;_i7<formats.length;_i7++)formatFlag|=
 __get$(formats,_i7) ;data[0]=actionFlag>>24;data[1]=0;data[2]=0;data[3]=formatFlag;return data},extendedClipboardProvide:function extendedClipboardProvide(sock,formats,inData){var deflator=new _deflator["default"];var dataToDeflate=[];for(var i=0;i<formats.length;i++){if( __get$(formats,i) !=extendedClipboardFormatText)throw new Error("Unsupported extended clipboard format for Provide message."); __set$(inData,i,__call$(__get$(inData,i),"replace",[/\r\n|\r|\n/gm,"\r\n"])) ;var text=(0,_strings.encodeUTF8)( __get$(inData,i) +"\x00");dataToDeflate.push(text.length>>
24&255,text.length>>16&255,text.length>>8&255,text.length&255);for(var j=0;j<text.length;j++)dataToDeflate.push(text.charCodeAt(j))}var deflatedData=deflator.deflate(new Uint8Array(dataToDeflate));var data=new Uint8Array(4+deflatedData.length);data.set(RFB.messages._buildExtendedClipboardFlags([extendedClipboardActionProvide],formats));data.set(deflatedData,4);RFB.messages.clientCutText(sock,data,true)},extendedClipboardNotify:function extendedClipboardNotify(sock,formats){var flags=RFB.messages._buildExtendedClipboardFlags([extendedClipboardActionNotify],
formats);RFB.messages.clientCutText(sock,flags,true)},extendedClipboardRequest:function extendedClipboardRequest(sock,formats){var flags=RFB.messages._buildExtendedClipboardFlags([extendedClipboardActionRequest],formats);RFB.messages.clientCutText(sock,flags,true)},extendedClipboardCaps:function extendedClipboardCaps(sock,actions,formats){var formatKeys=Object.keys(formats);var data=new Uint8Array(4+4*formatKeys.length);formatKeys.map(function(x){return parseInt(x)});formatKeys.sort(function(a,b){return a-
b});data.set(RFB.messages._buildExtendedClipboardFlags(actions,[]));var loopOffset=4;for(var i=0;i<formatKeys.length;i++){ __set$(data,loopOffset,__get$(formats,__get$(formatKeys,i))>>24) ; __set$(data,loopOffset+1,__get$(formats,__get$(formatKeys,i))>>16) ; __set$(data,loopOffset+2,__get$(formats,__get$(formatKeys,i))>>8) ; __set$(data,loopOffset+3,__get$(formats,__get$(formatKeys,i))>>0) ;loopOffset+=4;data[3]|=1<< __get$(formatKeys,i) }RFB.messages.clientCutText(sock,data,true)},clientCutText:function clientCutText(sock,data){var extended=arguments.length>2&&arguments[2]!==undefined?arguments[2]:
false;sock.sQpush8(6);sock.sQpush8(0);sock.sQpush8(0);sock.sQpush8(0);var length;if(extended)length=(0,_int.toUnsigned32bit)(-data.length);else length=data.length;sock.sQpush32(length);sock.sQpushBytes(data);sock.flush()},setDesktopSize:function setDesktopSize(sock,width,height,id,flags){sock.sQpush8(251);sock.sQpush8(0);sock.sQpush16(width);sock.sQpush16(height);sock.sQpush8(1);sock.sQpush8(0);sock.sQpush32(id);sock.sQpush16(0);sock.sQpush16(0);sock.sQpush16(width);sock.sQpush16(height);sock.sQpush32(flags);
sock.flush()},clientFence:function clientFence(sock,flags,payload){sock.sQpush8(248);sock.sQpush8(0);sock.sQpush8(0);sock.sQpush8(0);sock.sQpush32(flags);sock.sQpush8(payload.length);sock.sQpushString(payload);sock.flush()},enableContinuousUpdates:function enableContinuousUpdates(sock,enable,x,y,width,height){sock.sQpush8(150);sock.sQpush8(enable);sock.sQpush16(x);sock.sQpush16(y);sock.sQpush16(width);sock.sQpush16(height);sock.flush()},pixelFormat:function pixelFormat(sock,depth,trueColor){var bpp;
if(depth>16)bpp=32;else if(depth>8)bpp=16;else bpp=8;var bits=Math.floor(depth/3);sock.sQpush8(0);sock.sQpush8(0);sock.sQpush8(0);sock.sQpush8(0);sock.sQpush8(bpp);sock.sQpush8(depth);sock.sQpush8(0);sock.sQpush8(trueColor?1:0);sock.sQpush16((1<<bits)-1);sock.sQpush16((1<<bits)-1);sock.sQpush16((1<<bits)-1);sock.sQpush8(bits*0);sock.sQpush8(bits*1);sock.sQpush8(bits*2);sock.sQpush8(0);sock.sQpush8(0);sock.sQpush8(0);sock.flush()},clientEncodings:function clientEncodings(sock,encodings){sock.sQpush8(2);
sock.sQpush8(0);sock.sQpush16(encodings.length);for(var i=0;i<encodings.length;i++)sock.sQpush32( __get$(encodings,i) );sock.flush()},fbUpdateRequest:function fbUpdateRequest(sock,incremental,x,y,w,h){if(typeof x==="undefined")x=0;if(typeof y==="undefined")y=0;sock.sQpush8(3);sock.sQpush8(incremental?1:0);sock.sQpush16(x);sock.sQpush16(y);sock.sQpush16(w);sock.sQpush16(h);sock.flush()},xvpOp:function xvpOp(sock,ver,op){sock.sQpush8(250);sock.sQpush8(0);sock.sQpush8(ver);sock.sQpush8(op);sock.flush()}};RFB.cursors=
{none:{rgbaPixels:new Uint8Array,w:0,h:0,hotx:0,hoty:0},dot:{rgbaPixels:new Uint8Array([255,255,255,255,0,0,0,255,255,255,255,255,0,0,0,255,0,0,0,0,0,0,0,255,255,255,255,255,0,0,0,255,255,255,255,255]),w:3,h:3,hotx:1,hoty:1}}},"./node_modules/@novnc/novnc/lib/util/browser.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports.hasScrollbarGutter=exports.dragThreshold=void 0;exports.isAndroid=isAndroid;exports.isBlink=isBlink;exports.isChrome=
isChrome;exports.isChromeOS=isChromeOS;exports.isChromium=isChromium;exports.isEdge=isEdge;exports.isFirefox=isFirefox;exports.isGecko=isGecko;exports.isIOS=isIOS;exports.isMac=isMac;exports.isOpera=isOpera;exports.isSafari=isSafari;exports.isTouchDevice=void 0;exports.isWebKit=isWebKit;exports.isWindows=isWindows;exports.supportsWebCodecsH264Decode=exports.supportsCursorURIs=void 0;var Log=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/util/logging.js"));var _base=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/base64.js"));
function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},
a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,n),n}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?
"symbol":typeof o},_typeof(o)}function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){ __set$(t,e,r.value) },i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}), __get$(t,e) }try{define({},"")}catch(t){define=
function define(t,e,r){return  __set$(t,e,r) }}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}
var p={};define(p,a,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach(function(e){define(t,e,function(t){return this._invoke(e,t)})})}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch( __get$(t,r) ,t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==_typeof(h)&&n.call(h,"__await")?
e.resolve(h.__await).then(function(t){invoke("next",t,i,a)},function(t){invoke("throw",t,i,a)}):e.resolve(h).then(function(t){u.value=t,i(u)},function(t){return invoke("throw",t,i,a)})}a(c.arg)}var r;o(this,"_invoke",{value:function value(t,n){function callInvokeWithMethodAndArg(){return new e(function(e,r){invoke(t,n,e,r)})}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===
f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===
p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o= __get$(e.iterator,n) ;if(o===t)return r.delegate=null,"throw"===n&&e.iterator["return"]&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?( __set$(r,e.resultName,a.value) ,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),
this.reset(!0)}function values(e){if(e||""===e){var r= __get$(e,a) ;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value= __get$(e,o) ,next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(_typeof(e)+" is not iterable");}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,
"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),
t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,function(){return this}),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then(function(t){return t.done?t.value:a.next()})},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,function(){return this}),define(g,"toString",function(){return"[object Generator]"}),
e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function reset(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&
( __set$(this,r,t) )},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i= __get$(this.tryEntries,o) ,a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");
if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function abrupt(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o= __get$(this.tryEntries,r) ;if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===
t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function complete(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function finish(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r= __get$(this.tryEntries,e) ;
if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},"catch":function _catch(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r= __get$(this.tryEntries,e) ;if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt");},delegateYield:function delegateYield(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}function asyncGeneratorStep(n,t,
e,r,o,a,c){try{var i= __call$(n,a,[c]) ,u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}var isTouchDevice=exports.isTouchDevice="ontouchstart"in document.documentElement||document.ontouchstart!==undefined||navigator.maxTouchPoints>
0||navigator.msMaxTouchPoints>0;window.addEventListener("touchstart",function onFirstTouch(){exports.isTouchDevice=isTouchDevice=true;window.removeEventListener("touchstart",onFirstTouch,false)},false);var dragThreshold=exports.dragThreshold=10*(window.devicePixelRatio||1);var _supportsCursorURIs=false;try{var target=document.createElement("canvas");target.style.cursor='url("data:image/x-icon;base64,AAACAAEACAgAAAIAAgA4AQAAFgAAACgAAAAIAAAAEAAAAAEAIAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAA==") 2 2, default';
if(target.style.cursor.indexOf("url")===0){Log.Info("Data URI scheme cursor supported");_supportsCursorURIs=true}else Log.Warn("Data URI scheme cursor not supported")}catch(exc){Log.Error("Data URI scheme cursor test exception: "+exc)}var supportsCursorURIs=exports.supportsCursorURIs=_supportsCursorURIs;var _hasScrollbarGutter=true;try{var container=document.createElement("div");container.style.visibility="hidden";container.style.overflow="scroll";document.body.appendChild(container);var child=document.createElement("div");
container.appendChild(child);var scrollbarWidth=container.offsetWidth-child.offsetWidth;container.parentNode.removeChild(container);_hasScrollbarGutter=scrollbarWidth!=0}catch(exc){Log.Error("Scrollbar test exception: "+exc)}var hasScrollbarGutter=exports.hasScrollbarGutter=_hasScrollbarGutter;var supportsWebCodecsH264Decode=exports.supportsWebCodecsH264Decode=false;function _checkWebCodecsH264DecodeSupport(){return _checkWebCodecsH264DecodeSupport2.apply(this,arguments)}function _checkWebCodecsH264DecodeSupport2(){_checkWebCodecsH264DecodeSupport2=
_asyncToGenerator(_regeneratorRuntime().mark(function _callee(){var config,support,data,gotframe,_error,decoder,chunk;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if("VideoDecoder"in window){_context.next=2;break}return _context.abrupt("return",false);case 2:config={codec:"avc1.42401f",codedWidth:1920,codedHeight:1080,optimizeForLatency:true};_context.next=5;return VideoDecoder.isConfigSupported(config);case 5:support=_context.sent;
if(support.supported){_context.next=8;break}return _context.abrupt("return",false);case 8:data=new Uint8Array(_base["default"].decode("AAAAAWdCwBTZnpuAgICgAAADACAAAAZB4oVNAAAAAWjJYyyAAAABBgX//4Hc"+"Rem95tlIt5Ys2CDZI+7veDI2NCAtIGNvcmUgMTY0IHIzMTA4IDMxZTE5Zjkg"+"LSBILjI2NC9NUEVHLTQgQVZDIGNvZGVjIC0gQ29weWxlZnQgMjAwMy0yMDIz"+"IC0gaHR0cDovL3d3dy52aWRlb2xhbi5vcmcveDI2NC5odG1sIC0gb3B0aW9u"+"czogY2FiYWM9MCByZWY9NSBkZWJsb2NrPTE6MDowIGFuYWx5c2U9MHgxOjB4"+"MTExIG1lPWhleCBzdWJtZT04IHBzeT0xIHBzeV9yZD0xLjAwOjAuMDAgbWl4"+
"ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0yIDh4"+"OGRjdD0wIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJv"+"bWFfcXBfb2Zmc2V0PS0yIHRocmVhZHM9MSBsb29rYWhlYWRfdGhyZWFkcz0x"+"IHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9"+"MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVz"+"PTAgd2VpZ2h0cD0wIGtleWludD1pbmZpbml0ZSBrZXlpbnRfbWluPTI1IHNj"+"ZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NTAgcmM9"+"YWJyIG1idHJlZT0xIGJpdHJhdGU9NDAwIHJhdGV0b2w9MS4wIHFjb21wPTAu"+
"NjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFx"+"PTE6MS4wMACAAAABZYiEBrxmKAAPVccAAS044AA5DRJMnkycJk4TPw=="));gotframe=false;_error=null;decoder=new VideoDecoder({output:function output(frame){gotframe=true},error:function error(e){_error=e}});chunk=new EncodedVideoChunk({timestamp:0,type:"key",data:data});decoder.configure(config);decoder.decode(chunk);_context.prev=15;_context.next=18;return decoder.flush();case 18:_context.next=23;break;case 20:_context.prev=20;_context.t0=_context["catch"](15);
_error=_context.t0;case 23:if(gotframe){_context.next=25;break}return _context.abrupt("return",false);case 25:if(!(_error!==null)){_context.next=27;break}return _context.abrupt("return",false);case 27:return _context.abrupt("return",true);case 28:case "end":return _context.stop()}},_callee,null,[[15,20]])}));return _checkWebCodecsH264DecodeSupport2.apply(this,arguments)}exports.supportsWebCodecsH264Decode=supportsWebCodecsH264Decode=false;function isMac(){return!!/mac/i.exec(navigator.platform)}function isWindows(){return!!/win/i.exec(navigator.platform)}
function isIOS(){return!!/ipad/i.exec(navigator.platform)||!!/iphone/i.exec(navigator.platform)||!!/ipod/i.exec(navigator.platform)}function isAndroid(){return!!navigator.userAgent.match("Android ")}function isChromeOS(){return!!navigator.userAgent.match(" CrOS ")}function isSafari(){return!!navigator.userAgent.match("Safari/...")&&!navigator.userAgent.match("Chrome/...")&&!navigator.userAgent.match("Chromium/...")&&!navigator.userAgent.match("Epiphany/...")}function isFirefox(){return!!navigator.userAgent.match("Firefox/...")&&
!navigator.userAgent.match("Seamonkey/...")}function isChrome(){return!!navigator.userAgent.match("Chrome/...")&&!navigator.userAgent.match("Chromium/...")&&!navigator.userAgent.match("Edg/...")&&!navigator.userAgent.match("OPR/...")}function isChromium(){return!!navigator.userAgent.match("Chromium/...")}function isOpera(){return!!navigator.userAgent.match("OPR/...")}function isEdge(){return!!navigator.userAgent.match("Edg/...")}function isGecko(){return!!navigator.userAgent.match("Gecko/...")}function isWebKit(){return!!navigator.userAgent.match("AppleWebKit/...")&&
!navigator.userAgent.match("Chrome/...")}function isBlink(){return!!navigator.userAgent.match("Chrome/...")}},"./node_modules/@novnc/novnc/lib/util/cursor.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _browser=__webpack_require__("./node_modules/@novnc/novnc/lib/util/browser.js");function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?
function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,
r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var useFallback=!_browser.supportsCursorURIs||_browser.isTouchDevice;
var Cursor=exports["default"]=function(){function Cursor(){_classCallCheck(this,Cursor);this._target=null;this._canvas=document.createElement("canvas");if(useFallback){this._canvas.style.position="fixed";this._canvas.style.zIndex="65535";this._canvas.style.pointerEvents="none";this._canvas.style.userSelect="none";this._canvas.style.WebkitUserSelect="none";this._canvas.style.visibility="hidden"}this._position={x:0,y:0};this._hotSpot={x:0,y:0};this._eventHandlers={"mouseover":this._handleMouseOver.bind(this),
"mouseleave":this._handleMouseLeave.bind(this),"mousemove":this._handleMouseMove.bind(this),"mouseup":this._handleMouseUp.bind(this)}}return _createClass(Cursor,[{key:"attach",value:function attach(target){if(this._target)this.detach();this._target=target;if(useFallback){document.body.appendChild(this._canvas);var options={capture:true,passive:true};this._target.addEventListener("mouseover",this._eventHandlers.mouseover,options);this._target.addEventListener("mouseleave",this._eventHandlers.mouseleave,
options);this._target.addEventListener("mousemove",this._eventHandlers.mousemove,options);this._target.addEventListener("mouseup",this._eventHandlers.mouseup,options)}this.clear()}},{key:"detach",value:function detach(){if(!this._target)return;if(useFallback){var options={capture:true,passive:true};this._target.removeEventListener("mouseover",this._eventHandlers.mouseover,options);this._target.removeEventListener("mouseleave",this._eventHandlers.mouseleave,options);this._target.removeEventListener("mousemove",
this._eventHandlers.mousemove,options);this._target.removeEventListener("mouseup",this._eventHandlers.mouseup,options);if(document.contains(this._canvas))document.body.removeChild(this._canvas)}this._target=null}},{key:"change",value:function change(rgba,hotx,hoty,w,h){if(w===0||h===0){this.clear();return}this._position.x=this._position.x+this._hotSpot.x-hotx;this._position.y=this._position.y+this._hotSpot.y-hoty;this._hotSpot.x=hotx;this._hotSpot.y=hoty;var ctx=this._canvas.getContext("2d");this._canvas.width=
w;this._canvas.height=h;var img=new ImageData(new Uint8ClampedArray(rgba),w,h);ctx.clearRect(0,0,w,h);ctx.putImageData(img,0,0);if(useFallback)this._updatePosition();else{var url=this._canvas.toDataURL();this._target.style.cursor="url("+url+")"+hotx+" "+hoty+", default"}}},{key:"clear",value:function clear(){this._target.style.cursor="none";this._canvas.width=0;this._canvas.height=0;this._position.x=this._position.x+this._hotSpot.x;this._position.y=this._position.y+this._hotSpot.y;this._hotSpot.x=
0;this._hotSpot.y=0}},{key:"move",value:function move(clientX,clientY){if(!useFallback)return;if(window.visualViewport){this._position.x=clientX+window.visualViewport.offsetLeft;this._position.y=clientY+window.visualViewport.offsetTop}else{this._position.x=clientX;this._position.y=clientY}this._updatePosition();var target=document.elementFromPoint(clientX,clientY);this._updateVisibility(target)}},{key:"_handleMouseOver",value:function _handleMouseOver(event){this._handleMouseMove(event)}},{key:"_handleMouseLeave",
value:function _handleMouseLeave(event){this._updateVisibility(event.relatedTarget)}},{key:"_handleMouseMove",value:function _handleMouseMove(event){this._updateVisibility(event.target);this._position.x=event.clientX-this._hotSpot.x;this._position.y=event.clientY-this._hotSpot.y;this._updatePosition()}},{key:"_handleMouseUp",value:function _handleMouseUp(event){var _this=this;var target=document.elementFromPoint(event.clientX,event.clientY);this._updateVisibility(target);if(this._captureIsActive())window.setTimeout(function(){if(!_this._target)return;
target=document.elementFromPoint(event.clientX,event.clientY);_this._updateVisibility(target)},0)}},{key:"_showCursor",value:function _showCursor(){if(this._canvas.style.visibility==="hidden")this._canvas.style.visibility=""}},{key:"_hideCursor",value:function _hideCursor(){if(this._canvas.style.visibility!=="hidden")this._canvas.style.visibility="hidden"}},{key:"_shouldShowCursor",value:function _shouldShowCursor(target){if(!target)return false;if(target===this._target)return true;if(!this._target.contains(target))return false;
if(window.getComputedStyle(target).cursor!=="none")return false;return true}},{key:"_updateVisibility",value:function _updateVisibility(target){if(this._captureIsActive())target=document.captureElement;if(this._shouldShowCursor(target))this._showCursor();else this._hideCursor()}},{key:"_updatePosition",value:function _updatePosition(){this._canvas.style.left=this._position.x+"px";this._canvas.style.top=this._position.y+"px"}},{key:"_captureIsActive",value:function _captureIsActive(){return document.captureElement&&
document.documentElement.contains(document.captureElement)}}])}()},"./node_modules/@novnc/novnc/lib/util/element.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports.clientToElement=clientToElement;function clientToElement(x,y,elem){var bounds=elem.getBoundingClientRect();var pos={x:0,y:0};if(x<bounds.left)pos.x=0;else if(x>=bounds.right)pos.x=bounds.width-1;else pos.x=x-bounds.left;if(y<bounds.top)pos.y=0;else if(y>=bounds.bottom)pos.y=bounds.height-
1;else pos.y=y-bounds.top;return pos}},"./node_modules/@novnc/novnc/lib/util/events.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports.getPointerEvent=getPointerEvent;exports.releaseCapture=releaseCapture;exports.setCapture=setCapture;exports.stopEvent=stopEvent;function getPointerEvent(e){return e.changedTouches?e.changedTouches[0]:e.touches?e.touches[0]:e}function stopEvent(e){e.stopPropagation();e.preventDefault()}var _captureRecursion=false;
var _elementForUnflushedEvents=null;document.captureElement=null;function _captureProxy(e){if(_captureRecursion)return;var newEv=new e.constructor(e.type,e);_captureRecursion=true;if(document.captureElement)document.captureElement.dispatchEvent(newEv);else _elementForUnflushedEvents.dispatchEvent(newEv);_captureRecursion=false;e.stopPropagation();if(newEv.defaultPrevented)e.preventDefault();if(e.type==="mouseup")releaseCapture()}function _capturedElemChanged(){var proxyElem=document.getElementById("noVNC_mouse_capture_elem");
proxyElem.style.cursor=window.getComputedStyle(document.captureElement).cursor}var _captureObserver=new MutationObserver(_capturedElemChanged);function setCapture(target){if(target.setCapture){target.setCapture();document.captureElement=target}else{releaseCapture();var proxyElem=document.getElementById("noVNC_mouse_capture_elem");if(proxyElem===null){proxyElem=document.createElement("div");proxyElem.id="noVNC_mouse_capture_elem";proxyElem.style.position="fixed";proxyElem.style.top="0px";proxyElem.style.left=
"0px";proxyElem.style.width="100%";proxyElem.style.height="100%";proxyElem.style.zIndex=1E4;proxyElem.style.display="none";document.body.appendChild(proxyElem);proxyElem.addEventListener("contextmenu",_captureProxy);proxyElem.addEventListener("mousemove",_captureProxy);proxyElem.addEventListener("mouseup",_captureProxy)}document.captureElement=target;_captureObserver.observe(target,{attributes:true});_capturedElemChanged();proxyElem.style.display="";window.addEventListener("mousemove",_captureProxy);
window.addEventListener("mouseup",_captureProxy)}}function releaseCapture(){if(document.releaseCapture){document.releaseCapture();document.captureElement=null}else{if(!document.captureElement)return;_elementForUnflushedEvents=document.captureElement;document.captureElement=null;_captureObserver.disconnect();var proxyElem=document.getElementById("noVNC_mouse_capture_elem");proxyElem.style.display="none";window.removeEventListener("mousemove",_captureProxy);window.removeEventListener("mouseup",_captureProxy)}}
},"./node_modules/@novnc/novnc/lib/util/eventtarget.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");
}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;
var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var EventTargetMixin=exports["default"]=function(){function EventTargetMixin(){_classCallCheck(this,EventTargetMixin);this._listeners=new Map}return _createClass(EventTargetMixin,[{key:"addEventListener",value:function addEventListener(type,callback){if(!this._listeners.has(type))this._listeners.set(type,
new Set);this._listeners.get(type).add(callback)}},{key:"removeEventListener",value:function removeEventListener(type,callback){if(this._listeners.has(type))this._listeners.get(type)["delete"](callback)}},{key:"dispatchEvent",value:function dispatchEvent(event){var _this=this;if(!this._listeners.has(event.type))return true;this._listeners.get(event.type).forEach(function(callback){return callback.call(_this,event)});return!event.defaultPrevented}}])}()},"./node_modules/@novnc/novnc/lib/util/int.js":(__unused_webpack_module,
exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports.toSigned32bit=toSigned32bit;exports.toUnsigned32bit=toUnsigned32bit;function toUnsigned32bit(toConvert){return toConvert>>>0}function toSigned32bit(toConvert){return toConvert|0}},"./node_modules/@novnc/novnc/lib/util/logging.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports.Warn=exports.Info=exports.Error=exports.Debug=void 0;exports.getLogging=getLogging;exports.initLogging=
initLogging;var _logLevel="warn";var Debug=exports.Debug=function Debug(){};var Info=exports.Info=function Info(){};var Warn=exports.Warn=function Warn(){};var Error=exports.Error=function Error(){};function initLogging(level){if(typeof level==="undefined")level=_logLevel;else _logLevel=level;exports.Debug=Debug=exports.Info=Info=exports.Warn=Warn=exports.Error=Error=function Error(){};if(typeof window.console!=="undefined")switch(level){case "debug":exports.Debug=Debug=console.debug.bind(window.console);
case "info":exports.Info=Info=console.info.bind(window.console);case "warn":exports.Warn=Warn=console.warn.bind(window.console);case "error":exports.Error=Error=console.error.bind(window.console);case "none":break;default:throw new window.Error("invalid logging type '"+level+"'");}}function getLogging(){return _logLevel}initLogging()},"./node_modules/@novnc/novnc/lib/util/strings.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports.decodeUTF8=decodeUTF8;
exports.encodeUTF8=encodeUTF8;function decodeUTF8(utf8string){var allowLatin1=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;try{return decodeURIComponent(escape(utf8string))}catch(e){if(e instanceof URIError)if(allowLatin1)return utf8string;throw e;}}function encodeUTF8(DOMString){return unescape(encodeURIComponent(DOMString))}},"./node_modules/@novnc/novnc/lib/vendor/pako/lib/utils/common.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});
exports.Buf8=exports.Buf32=exports.Buf16=void 0;exports.arraySet=arraySet;exports.flattenChunks=flattenChunks;exports.shrinkBuf=shrinkBuf;function shrinkBuf(buf,size){if(buf.length===size)return buf;if(buf.subarray)return buf.subarray(0,size);buf.length=size;return buf}function arraySet(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray){dest.set(src.subarray(src_offs,src_offs+len),dest_offs);return}for(var i=0;i<len;i++) __set$(dest,dest_offs+i,__get$(src,src_offs+i)) }function flattenChunks(chunks){var i,
l,len,pos,chunk,result;len=0;for(i=0,l=chunks.length;i<l;i++)len+= __get$(chunks,i) .length;result=new Uint8Array(len);pos=0;for(i=0,l=chunks.length;i<l;i++){chunk= __get$(chunks,i) ;result.set(chunk,pos);pos+=chunk.length}return result}var Buf8=exports.Buf8=Uint8Array;var Buf16=exports.Buf16=Uint16Array;var Buf32=exports.Buf32=Int32Array},"./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/adler32.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=
adler32;function adler32(adler,buf,len,pos){var s1=adler&65535|0,s2=adler>>>16&65535|0,n=0;while(len!==0){n=len>2E3?2E3:len;len-=n;do{s1=s1+ __get$(buf,pos++) |0;s2=s2+s1|0}while(--n);s1%=65521;s2%=65521}return s1|s2<<16|0}},"./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/crc32.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=makeTable;function makeTable(){var c,table=[];for(var n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=c&1?3988292384^
c>>>1:c>>>1; __set$(table,n,c) }return table}var crcTable=makeTable();function crc32(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^ __get$(t,(crc^__get$(buf,i))&255) ;return crc^-1}},"./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/deflate.js":(__unused_webpack_module,exports,__webpack_require__)=>{function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==
typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.Z_UNKNOWN=exports.Z_STREAM_ERROR=exports.Z_STREAM_END=exports.Z_RLE=exports.Z_PARTIAL_FLUSH=exports.Z_OK=exports.Z_NO_FLUSH=exports.Z_HUFFMAN_ONLY=exports.Z_FULL_FLUSH=exports.Z_FIXED=exports.Z_FINISH=exports.Z_FILTERED=exports.Z_DEFLATED=exports.Z_DEFAULT_STRATEGY=exports.Z_DEFAULT_COMPRESSION=exports.Z_DATA_ERROR=exports.Z_BUF_ERROR=exports.Z_BLOCK=
void 0;exports.deflate=deflate;exports.deflateEnd=deflateEnd;exports.deflateInfo=void 0;exports.deflateInit=deflateInit;exports.deflateInit2=deflateInit2;exports.deflateReset=deflateReset;exports.deflateResetKeep=deflateResetKeep;exports.deflateSetDictionary=deflateSetDictionary;exports.deflateSetHeader=deflateSetHeader;var utils=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/utils/common.js"));var trees=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/trees.js"));
var _adler=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/adler32.js"));var _crc=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/crc32.js"));var _messages=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/messages.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;
var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,
u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,n),n}var Z_NO_FLUSH=exports.Z_NO_FLUSH=0;var Z_PARTIAL_FLUSH=exports.Z_PARTIAL_FLUSH=1;var Z_FULL_FLUSH=exports.Z_FULL_FLUSH=3;var Z_FINISH=exports.Z_FINISH=4;var Z_BLOCK=exports.Z_BLOCK=5;var Z_OK=exports.Z_OK=0;var Z_STREAM_END=exports.Z_STREAM_END=1;var Z_STREAM_ERROR=exports.Z_STREAM_ERROR=-2;var Z_DATA_ERROR=exports.Z_DATA_ERROR=-3;var Z_BUF_ERROR=exports.Z_BUF_ERROR=-5;var Z_DEFAULT_COMPRESSION=
exports.Z_DEFAULT_COMPRESSION=-1;var Z_FILTERED=exports.Z_FILTERED=1;var Z_HUFFMAN_ONLY=exports.Z_HUFFMAN_ONLY=2;var Z_RLE=exports.Z_RLE=3;var Z_FIXED=exports.Z_FIXED=4;var Z_DEFAULT_STRATEGY=exports.Z_DEFAULT_STRATEGY=0;var Z_UNKNOWN=exports.Z_UNKNOWN=2;var Z_DEFLATED=exports.Z_DEFLATED=8;var MAX_MEM_LEVEL=9;var MAX_WBITS=15;var DEF_MEM_LEVEL=8;var LENGTH_CODES=29;var LITERALS=256;var L_CODES=LITERALS+1+LENGTH_CODES;var D_CODES=30;var BL_CODES=19;var HEAP_SIZE=2*L_CODES+1;var MAX_BITS=15;var MIN_MATCH=
3;var MAX_MATCH=258;var MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1;var PRESET_DICT=32;var INIT_STATE=42;var EXTRA_STATE=69;var NAME_STATE=73;var COMMENT_STATE=91;var HCRC_STATE=103;var BUSY_STATE=113;var FINISH_STATE=666;var BS_NEED_MORE=1;var BS_BLOCK_DONE=2;var BS_FINISH_STARTED=3;var BS_FINISH_DONE=4;var OS_CODE=3;function err(strm,errorCode){strm.msg= __get$(_messages["default"],errorCode) ;return errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){var len=buf.length;while(--len>=0) __set$(buf,len,0) }function flush_pending(strm){var s=strm.state;var len=s.pending;if(len>strm.avail_out)len=strm.avail_out;if(len===0)return;utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out);strm.next_out+=len;s.pending_out+=len;strm.total_out+=len;strm.avail_out-=len;s.pending-=len;if(s.pending===0)s.pending_out=0}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last);s.block_start=s.strstart;flush_pending(s.strm)}function put_byte(s,
b){ __set$(s.pending_buf,s.pending++,b) }function putShortMSB(s,b){ __set$(s.pending_buf,s.pending++,b>>>8&255) ; __set$(s.pending_buf,s.pending++,b&255) }function read_buf(strm,buf,start,size){var len=strm.avail_in;if(len>size)len=size;if(len===0)return 0;strm.avail_in-=len;utils.arraySet(buf,strm.input,strm.next_in,len,start);if(strm.state.wrap===1)strm.adler=(0,_adler["default"])(strm.adler,buf,len,start);else if(strm.state.wrap===2)strm.adler=(0,_crc["default"])(strm.adler,buf,len,start);strm.next_in+=len;strm.total_in+=
len;return len}function longest_match(s,cur_match){var chain_length=s.max_chain_length;var scan=s.strstart;var match;var len;var best_len=s.prev_length;var nice_match=s.nice_match;var limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0;var _win=s.window;var wmask=s.w_mask;var prev=s.prev;var strend=s.strstart+MAX_MATCH;var scan_end1= __get$(_win,scan+best_len-1) ;var scan_end= __get$(_win,scan+best_len) ;if(s.prev_length>=s.good_match)chain_length>>=2;if(nice_match>s.lookahead)nice_match=
s.lookahead;do{match=cur_match;if( __get$(_win,match+best_len) !==scan_end|| __get$(_win,match+best_len-1) !==scan_end1|| __get$(_win,match) !== __get$(_win,scan) || __get$(_win,++match) !== __get$(_win,scan+1) )continue;scan+=2;match++;do;while( __get$(_win,++scan) === __get$(_win,++match) && __get$(_win,++scan) === __get$(_win,++match) && __get$(_win,++scan) === __get$(_win,++match) && __get$(_win,++scan) === __get$(_win,++match) && __get$(_win,++scan) === __get$(_win,++match) && __get$(_win,++scan) === __get$(_win,++match) && __get$(_win,++scan) === __get$(_win,++match) && __get$(_win,++scan) === __get$(_win,++match) &&scan<strend);len=MAX_MATCH-(strend-scan);scan=strend-MAX_MATCH;if(len>
best_len){s.match_start=cur_match;best_len=len;if(len>=nice_match)break;scan_end1= __get$(_win,scan+best_len-1) ;scan_end= __get$(_win,scan+best_len) }}while((cur_match= __get$(prev,cur_match&wmask) )>limit&&--chain_length!==0);if(best_len<=s.lookahead)return best_len;return s.lookahead}function fill_window(s){var _w_size=s.w_size;var p,n,m,more,str;do{more=s.window_size-s.lookahead-s.strstart;if(s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0);s.match_start-=_w_size;s.strstart-=
_w_size;s.block_start-=_w_size;n=s.hash_size;p=n;do{m= __get$(s.head,--p) ; __set$(s.head,p,m>=_w_size?m-_w_size:0) }while(--n);n=_w_size;p=n;do{m= __get$(s.prev,--p) ; __set$(s.prev,p,m>=_w_size?m-_w_size:0) }while(--n);more+=_w_size}if(s.strm.avail_in===0)break;n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more);s.lookahead+=n;if(s.lookahead+s.insert>=MIN_MATCH){str=s.strstart-s.insert;s.ins_h= __get$(s.window,str) ;s.ins_h=(s.ins_h<<s.hash_shift^ __get$(s.window,str+1) )&s.hash_mask;while(s.insert){s.ins_h=(s.ins_h<<s.hash_shift^ __get$(s.window,str+MIN_MATCH-1) )&s.hash_mask; __set$(s.prev,str&s.w_mask,__get$(s.head,s.ins_h)) ; __set$(s.head,s.ins_h,str) ;str++;s.insert--;if(s.lookahead+s.insert<MIN_MATCH)break}}}while(s.lookahead<MIN_LOOKAHEAD&&s.strm.avail_in!==0)}function deflate_stored(s,flush){var max_block_size=65535;if(max_block_size>s.pending_buf_size-5)max_block_size=s.pending_buf_size-5;for(;;){if(s.lookahead<=1){fill_window(s);if(s.lookahead===0&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(s.lookahead===0)break}s.strstart+=s.lookahead;s.lookahead=0;var max_start=
s.block_start+max_block_size;if(s.strstart===0||s.strstart>=max_start){s.lookahead=s.strstart-max_start;s.strstart=max_start;flush_block_only(s,false);if(s.strm.avail_out===0)return BS_NEED_MORE}if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD){flush_block_only(s,false);if(s.strm.avail_out===0)return BS_NEED_MORE}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0)return BS_FINISH_STARTED;return BS_FINISH_DONE}if(s.strstart>s.block_start){flush_block_only(s,false);
if(s.strm.avail_out===0)return BS_NEED_MORE}return BS_NEED_MORE}function deflate_fast(s,flush){var hash_head;var bflush;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(s.lookahead===0)break}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^ __get$(s.window,s.strstart+MIN_MATCH-1) )&s.hash_mask;hash_head= __set$(s.prev,s.strstart&s.w_mask,__get$(s.head,s.ins_h)) ; __set$(s.head,s.ins_h,s.strstart) }if(hash_head!==0&&s.strstart-hash_head<=
s.w_size-MIN_LOOKAHEAD)s.match_length=longest_match(s,hash_head);if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;if(s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++;s.ins_h=(s.ins_h<<s.hash_shift^ __get$(s.window,s.strstart+MIN_MATCH-1) )&s.hash_mask;hash_head= __set$(s.prev,s.strstart&s.w_mask,__get$(s.head,s.ins_h)) ; __set$(s.head,s.ins_h,s.strstart) }while(--s.match_length!==0);s.strstart++}else{s.strstart+=
s.match_length;s.match_length=0;s.ins_h= __get$(s.window,s.strstart) ;s.ins_h=(s.ins_h<<s.hash_shift^ __get$(s.window,s.strstart+1) )&s.hash_mask}}else{bflush=trees._tr_tally(s,0, __get$(s.window,s.strstart) );s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0)return BS_NEED_MORE}}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0)return BS_FINISH_STARTED;return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);
if(s.strm.avail_out===0)return BS_NEED_MORE}return BS_BLOCK_DONE}function deflate_slow(s,flush){var hash_head;var bflush;var max_insert;for(;;){if(s.lookahead<MIN_LOOKAHEAD){fill_window(s);if(s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(s.lookahead===0)break}hash_head=0;if(s.lookahead>=MIN_MATCH){s.ins_h=(s.ins_h<<s.hash_shift^ __get$(s.window,s.strstart+MIN_MATCH-1) )&s.hash_mask;hash_head= __set$(s.prev,s.strstart&s.w_mask,__get$(s.head,s.ins_h)) ; __set$(s.head,s.ins_h,s.strstart) }s.prev_length=s.match_length;
s.prev_match=s.match_start;s.match_length=MIN_MATCH-1;if(hash_head!==0&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD){s.match_length=longest_match(s,hash_head);if(s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096))s.match_length=MIN_MATCH-1}if(s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH;bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH);
s.lookahead-=s.prev_length-1;s.prev_length-=2;do if(++s.strstart<=max_insert){s.ins_h=(s.ins_h<<s.hash_shift^ __get$(s.window,s.strstart+MIN_MATCH-1) )&s.hash_mask;hash_head= __set$(s.prev,s.strstart&s.w_mask,__get$(s.head,s.ins_h)) ; __set$(s.head,s.ins_h,s.strstart) }while(--s.prev_length!==0);s.match_available=0;s.match_length=MIN_MATCH-1;s.strstart++;if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0)return BS_NEED_MORE}}else if(s.match_available){bflush=trees._tr_tally(s,0, __get$(s.window,s.strstart-1) );if(bflush)flush_block_only(s,
false);s.strstart++;s.lookahead--;if(s.strm.avail_out===0)return BS_NEED_MORE}else{s.match_available=1;s.strstart++;s.lookahead--}}if(s.match_available){bflush=trees._tr_tally(s,0, __get$(s.window,s.strstart-1) );s.match_available=0}s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0)return BS_FINISH_STARTED;return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0)return BS_NEED_MORE}return BS_BLOCK_DONE}
function deflate_rle(s,flush){var bflush;var prev;var scan,strend;var _win=s.window;for(;;){if(s.lookahead<=MAX_MATCH){fill_window(s);if(s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(s.lookahead===0)break}s.match_length=0;if(s.lookahead>=MIN_MATCH&&s.strstart>0){scan=s.strstart-1;prev= __get$(_win,scan) ;if(prev=== __get$(_win,++scan) &&prev=== __get$(_win,++scan) &&prev=== __get$(_win,++scan) ){strend=s.strstart+MAX_MATCH;do;while(prev=== __get$(_win,++scan) &&prev=== __get$(_win,++scan) &&prev=== __get$(_win,++scan) &&prev=== __get$(_win,++scan) &&
prev=== __get$(_win,++scan) &&prev=== __get$(_win,++scan) &&prev=== __get$(_win,++scan) &&prev=== __get$(_win,++scan) &&scan<strend);s.match_length=MAX_MATCH-(strend-scan);if(s.match_length>s.lookahead)s.match_length=s.lookahead}}if(s.match_length>=MIN_MATCH){bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH);s.lookahead-=s.match_length;s.strstart+=s.match_length;s.match_length=0}else{bflush=trees._tr_tally(s,0, __get$(s.window,s.strstart) );s.lookahead--;s.strstart++}if(bflush){flush_block_only(s,false);if(s.strm.avail_out===0)return BS_NEED_MORE}}s.insert=
0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0)return BS_FINISH_STARTED;return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0)return BS_NEED_MORE}return BS_BLOCK_DONE}function deflate_huff(s,flush){var bflush;for(;;){if(s.lookahead===0){fill_window(s);if(s.lookahead===0){if(flush===Z_NO_FLUSH)return BS_NEED_MORE;break}}s.match_length=0;bflush=trees._tr_tally(s,0, __get$(s.window,s.strstart) );s.lookahead--;s.strstart++;if(bflush){flush_block_only(s,
false);if(s.strm.avail_out===0)return BS_NEED_MORE}}s.insert=0;if(flush===Z_FINISH){flush_block_only(s,true);if(s.strm.avail_out===0)return BS_FINISH_STARTED;return BS_FINISH_DONE}if(s.last_lit){flush_block_only(s,false);if(s.strm.avail_out===0)return BS_NEED_MORE}return BS_BLOCK_DONE}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length;this.max_lazy=max_lazy;this.nice_length=nice_length;this.max_chain=max_chain;this.func=func}var configuration_table;configuration_table=
[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)];function lm_init(s){s.window_size=2*s.w_size;zero(s.head);s.max_lazy_match= __get$(configuration_table,s.level) .max_lazy;s.good_match= __get$(configuration_table,s.level) .good_length;
s.nice_match= __get$(configuration_table,s.level) .nice_length;s.max_chain_length= __get$(configuration_table,s.level) .max_chain;s.strstart=0;s.block_start=0;s.lookahead=0;s.insert=0;s.match_length=s.prev_length=MIN_MATCH-1;s.match_available=0;s.ins_h=0}function DeflateState(){this.strm=null;this.status=0;this.pending_buf=null;this.pending_buf_size=0;this.pending_out=0;this.pending=0;this.wrap=0;this.gzhead=null;this.gzindex=0;this.method=Z_DEFLATED;this.last_flush=-1;this.w_size=0;this.w_bits=0;this.w_mask=0;this.window=
null;this.window_size=0;this.prev=null;this.head=null;this.ins_h=0;this.hash_size=0;this.hash_bits=0;this.hash_mask=0;this.hash_shift=0;this.block_start=0;this.match_length=0;this.prev_match=0;this.match_available=0;this.strstart=0;this.match_start=0;this.lookahead=0;this.prev_length=0;this.max_chain_length=0;this.max_lazy_match=0;this.level=0;this.strategy=0;this.good_match=0;this.nice_match=0;this.dyn_ltree=new utils.Buf16(HEAP_SIZE*2);this.dyn_dtree=new utils.Buf16((2*D_CODES+1)*2);this.bl_tree=
new utils.Buf16((2*BL_CODES+1)*2);zero(this.dyn_ltree);zero(this.dyn_dtree);zero(this.bl_tree);this.l_desc=null;this.d_desc=null;this.bl_desc=null;this.bl_count=new utils.Buf16(MAX_BITS+1);this.heap=new utils.Buf16(2*L_CODES+1);zero(this.heap);this.heap_len=0;this.heap_max=0;this.depth=new utils.Buf16(2*L_CODES+1);zero(this.depth);this.l_buf=0;this.lit_bufsize=0;this.last_lit=0;this.d_buf=0;this.opt_len=0;this.static_len=0;this.matches=0;this.insert=0;this.bi_buf=0;this.bi_valid=0}function deflateResetKeep(strm){var s;
if(!strm||!strm.state)return err(strm,Z_STREAM_ERROR);strm.total_in=strm.total_out=0;strm.data_type=Z_UNKNOWN;s=strm.state;s.pending=0;s.pending_out=0;if(s.wrap<0)s.wrap=-s.wrap;s.status=s.wrap?INIT_STATE:BUSY_STATE;strm.adler=s.wrap===2?0:1;s.last_flush=Z_NO_FLUSH;trees._tr_init(s);return Z_OK}function deflateReset(strm){var ret=deflateResetKeep(strm);if(ret===Z_OK)lm_init(strm.state);return ret}function deflateSetHeader(strm,head){if(!strm||!strm.state)return Z_STREAM_ERROR;if(strm.state.wrap!==
2)return Z_STREAM_ERROR;strm.state.gzhead=head;return Z_OK}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm)return Z_STREAM_ERROR;var wrap=1;if(level===Z_DEFAULT_COMPRESSION)level=6;if(windowBits<0){wrap=0;windowBits=-windowBits}else if(windowBits>15){wrap=2;windowBits-=16}if(memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED)return err(strm,Z_STREAM_ERROR);if(windowBits===8)windowBits=
9;var s=new DeflateState;strm.state=s;s.strm=strm;s.wrap=wrap;s.gzhead=null;s.w_bits=windowBits;s.w_size=1<<s.w_bits;s.w_mask=s.w_size-1;s.hash_bits=memLevel+7;s.hash_size=1<<s.hash_bits;s.hash_mask=s.hash_size-1;s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH);s.window=new utils.Buf8(s.w_size*2);s.head=new utils.Buf16(s.hash_size);s.prev=new utils.Buf16(s.w_size);s.lit_bufsize=1<<memLevel+6;s.pending_buf_size=s.lit_bufsize*4;s.pending_buf=new utils.Buf8(s.pending_buf_size);s.d_buf=1*s.lit_bufsize;
s.l_buf=(1+2)*s.lit_bufsize;s.level=level;s.strategy=strategy;s.method=method;return deflateReset(strm)}function deflateInit(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(strm,flush){var old_flush,s;var beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0)return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR;s=strm.state;if(!strm.output||!strm.input&&strm.avail_in!==0||s.status===FINISH_STATE&&flush!==Z_FINISH)return err(strm,strm.avail_out===
0?Z_BUF_ERROR:Z_STREAM_ERROR);s.strm=strm;old_flush=s.last_flush;s.last_flush=flush;if(s.status===INIT_STATE)if(s.wrap===2){strm.adler=0;put_byte(s,31);put_byte(s,139);put_byte(s,8);if(!s.gzhead){put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,0);put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0);put_byte(s,OS_CODE);s.status=BUSY_STATE}else{put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(!s.gzhead.extra?0:4)+(!s.gzhead.name?0:8)+(!s.gzhead.comment?0:16));put_byte(s,
s.gzhead.time&255);put_byte(s,s.gzhead.time>>8&255);put_byte(s,s.gzhead.time>>16&255);put_byte(s,s.gzhead.time>>24&255);put_byte(s,s.level===9?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0);put_byte(s,s.gzhead.os&255);if(s.gzhead.extra&&s.gzhead.extra.length){put_byte(s,s.gzhead.extra.length&255);put_byte(s,s.gzhead.extra.length>>8&255)}if(s.gzhead.hcrc)strm.adler=(0,_crc["default"])(strm.adler,s.pending_buf,s.pending,0);s.gzindex=0;s.status=EXTRA_STATE}}else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<
8;var level_flags=-1;if(s.strategy>=Z_HUFFMAN_ONLY||s.level<2)level_flags=0;else if(s.level<6)level_flags=1;else if(s.level===6)level_flags=2;else level_flags=3;header|=level_flags<<6;if(s.strstart!==0)header|=PRESET_DICT;header+=31-header%31;s.status=BUSY_STATE;putShortMSB(s,header);if(s.strstart!==0){putShortMSB(s,strm.adler>>>16);putShortMSB(s,strm.adler&65535)}strm.adler=1}if(s.status===EXTRA_STATE)if(s.gzhead.extra){beg=s.pending;while(s.gzindex<(s.gzhead.extra.length&65535)){if(s.pending===
s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg)strm.adler=(0,_crc["default"])(strm.adler,s.pending_buf,s.pending-beg,beg);flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size)break}put_byte(s, __get$(s.gzhead.extra,s.gzindex) &255);s.gzindex++}if(s.gzhead.hcrc&&s.pending>beg)strm.adler=(0,_crc["default"])(strm.adler,s.pending_buf,s.pending-beg,beg);if(s.gzindex===s.gzhead.extra.length){s.gzindex=0;s.status=NAME_STATE}}else s.status=NAME_STATE;if(s.status===NAME_STATE)if(s.gzhead.name){beg=
s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg)strm.adler=(0,_crc["default"])(strm.adler,s.pending_buf,s.pending-beg,beg);flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.name.length)val=s.gzhead.name.charCodeAt(s.gzindex++)&255;else val=0;put_byte(s,val)}while(val!==0);if(s.gzhead.hcrc&&s.pending>beg)strm.adler=(0,_crc["default"])(strm.adler,s.pending_buf,s.pending-beg,beg);if(val===0){s.gzindex=0;s.status=COMMENT_STATE}}else s.status=
COMMENT_STATE;if(s.status===COMMENT_STATE)if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size){if(s.gzhead.hcrc&&s.pending>beg)strm.adler=(0,_crc["default"])(strm.adler,s.pending_buf,s.pending-beg,beg);flush_pending(strm);beg=s.pending;if(s.pending===s.pending_buf_size){val=1;break}}if(s.gzindex<s.gzhead.comment.length)val=s.gzhead.comment.charCodeAt(s.gzindex++)&255;else val=0;put_byte(s,val)}while(val!==0);if(s.gzhead.hcrc&&s.pending>beg)strm.adler=(0,_crc["default"])(strm.adler,
s.pending_buf,s.pending-beg,beg);if(val===0)s.status=HCRC_STATE}else s.status=HCRC_STATE;if(s.status===HCRC_STATE)if(s.gzhead.hcrc){if(s.pending+2>s.pending_buf_size)flush_pending(strm);if(s.pending+2<=s.pending_buf_size){put_byte(s,strm.adler&255);put_byte(s,strm.adler>>8&255);strm.adler=0;s.status=BUSY_STATE}}else s.status=BUSY_STATE;if(s.pending!==0){flush_pending(strm);if(strm.avail_out===0){s.last_flush=-1;return Z_OK}}else if(strm.avail_in===0&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH)return err(strm,
Z_BUF_ERROR);if(s.status===FINISH_STATE&&strm.avail_in!==0)return err(strm,Z_BUF_ERROR);if(strm.avail_in!==0||s.lookahead!==0||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?deflate_huff(s,flush):s.strategy===Z_RLE?deflate_rle(s,flush): __get$(configuration_table,s.level) .func(s,flush);if(bstate===BS_FINISH_STARTED||bstate===BS_FINISH_DONE)s.status=FINISH_STATE;if(bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED){if(strm.avail_out===0)s.last_flush=-1;return Z_OK}if(bstate===
BS_BLOCK_DONE){if(flush===Z_PARTIAL_FLUSH)trees._tr_align(s);else if(flush!==Z_BLOCK){trees._tr_stored_block(s,0,0,false);if(flush===Z_FULL_FLUSH){zero(s.head);if(s.lookahead===0){s.strstart=0;s.block_start=0;s.insert=0}}}flush_pending(strm);if(strm.avail_out===0){s.last_flush=-1;return Z_OK}}}if(flush!==Z_FINISH)return Z_OK;if(s.wrap<=0)return Z_STREAM_END;if(s.wrap===2){put_byte(s,strm.adler&255);put_byte(s,strm.adler>>8&255);put_byte(s,strm.adler>>16&255);put_byte(s,strm.adler>>24&255);put_byte(s,
strm.total_in&255);put_byte(s,strm.total_in>>8&255);put_byte(s,strm.total_in>>16&255);put_byte(s,strm.total_in>>24&255)}else{putShortMSB(s,strm.adler>>>16);putShortMSB(s,strm.adler&65535)}flush_pending(strm);if(s.wrap>0)s.wrap=-s.wrap;return s.pending!==0?Z_OK:Z_STREAM_END}function deflateEnd(strm){var status;if(!strm||!strm.state)return Z_STREAM_ERROR;status=strm.state.status;if(status!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==
BUSY_STATE&&status!==FINISH_STATE)return err(strm,Z_STREAM_ERROR);strm.state=null;return status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK}function deflateSetDictionary(strm,dictionary){var dictLength=dictionary.length;var s;var str,n;var wrap;var avail;var next;var input;var tmpDict;if(!strm||!strm.state)return Z_STREAM_ERROR;s=strm.state;wrap=s.wrap;if(wrap===2||wrap===1&&s.status!==INIT_STATE||s.lookahead)return Z_STREAM_ERROR;if(wrap===1)strm.adler=(0,_adler["default"])(strm.adler,dictionary,dictLength,
0);s.wrap=0;if(dictLength>=s.w_size){if(wrap===0){zero(s.head);s.strstart=0;s.block_start=0;s.insert=0}tmpDict=new utils.Buf8(s.w_size);utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0);dictionary=tmpDict;dictLength=s.w_size}avail=strm.avail_in;next=strm.next_in;input=strm.input;strm.avail_in=dictLength;strm.next_in=0;strm.input=dictionary;fill_window(s);while(s.lookahead>=MIN_MATCH){str=s.strstart;n=s.lookahead-(MIN_MATCH-1);do{s.ins_h=(s.ins_h<<s.hash_shift^ __get$(s.window,str+MIN_MATCH-1) )&s.hash_mask; __set$(s.prev,str&s.w_mask,__get$(s.head,s.ins_h)) ; __set$(s.head,s.ins_h,str) ;str++}while(--n);s.strstart=str;s.lookahead=MIN_MATCH-1;fill_window(s)}s.strstart+=s.lookahead;s.block_start=s.strstart;s.insert=s.lookahead;s.lookahead=0;s.match_length=s.prev_length=MIN_MATCH-1;s.match_available=0;strm.next_in=next;strm.input=input;strm.avail_in=avail;s.wrap=wrap;return Z_OK}var deflateInfo=exports.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/inffast.js":(__unused_webpack_module,
exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=inflate_fast;var BAD=30;var TYPE=12;function inflate_fast(strm,start){var state;var _in;var last;var _out;var beg;var end;var dmax;var wsize;var whave;var wnext;var s_window;var hold;var bits;var lcode;var dcode;var lmask;var dmask;var here;var op;var len;var dist;var from;var from_source;var input,output;state=strm.state;_in=strm.next_in;input=strm.input;last=_in+(strm.avail_in-5);_out=strm.next_out;output=strm.output;
beg=_out-(start-strm.avail_out);end=_out+(strm.avail_out-257);dmax=state.dmax;wsize=state.wsize;whave=state.whave;wnext=state.wnext;s_window=state.window;hold=state.hold;bits=state.bits;lcode=state.lencode;dcode=state.distcode;lmask=(1<<state.lenbits)-1;dmask=(1<<state.distbits)-1;top:do{if(bits<15){hold+= __get$(input,_in++) <<bits;bits+=8;hold+= __get$(input,_in++) <<bits;bits+=8}here= __get$(lcode,hold&lmask) ;dolen:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=here>>>16&255;if(op===0) __set$(output,_out++,here&65535) ;else if(op&
16){len=here&65535;op&=15;if(op){if(bits<op){hold+= __get$(input,_in++) <<bits;bits+=8}len+=hold&(1<<op)-1;hold>>>=op;bits-=op}if(bits<15){hold+= __get$(input,_in++) <<bits;bits+=8;hold+= __get$(input,_in++) <<bits;bits+=8}here= __get$(dcode,hold&dmask) ;dodist:for(;;){op=here>>>24;hold>>>=op;bits-=op;op=here>>>16&255;if(op&16){dist=here&65535;op&=15;if(bits<op){hold+= __get$(input,_in++) <<bits;bits+=8;if(bits<op){hold+= __get$(input,_in++) <<bits;bits+=8}}dist+=hold&(1<<op)-1;if(dist>dmax){strm.msg="invalid distance too far back";state.mode=BAD;break top}hold>>>=
op;bits-=op;op=_out-beg;if(dist>op){op=dist-op;if(op>whave)if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break top}from=0;from_source=s_window;if(wnext===0){from+=wsize-op;if(op<len){len-=op;do  __set$(output,_out++,__get$(s_window,from++)) ;while(--op);from=_out-dist;from_source=output}}else if(wnext<op){from+=wsize+wnext-op;op-=wnext;if(op<len){len-=op;do  __set$(output,_out++,__get$(s_window,from++)) ;while(--op);from=0;if(wnext<len){op=wnext;len-=op;do  __set$(output,_out++,__get$(s_window,from++)) ;while(--op);from=
_out-dist;from_source=output}}}else{from+=wnext-op;if(op<len){len-=op;do  __set$(output,_out++,__get$(s_window,from++)) ;while(--op);from=_out-dist;from_source=output}}while(len>2){ __set$(output,_out++,__get$(from_source,from++)) ; __set$(output,_out++,__get$(from_source,from++)) ; __set$(output,_out++,__get$(from_source,from++)) ;len-=3}if(len){ __set$(output,_out++,__get$(from_source,from++)) ;if(len>1) __set$(output,_out++,__get$(from_source,from++)) }}else{from=_out-dist;do{ __set$(output,_out++,__get$(output,from++)) ; __set$(output,_out++,__get$(output,from++)) ; __set$(output,_out++,__get$(output,from++)) ;len-=3}while(len>2);if(len){ __set$(output,_out++,__get$(output,from++)) ;if(len>1) __set$(output,_out++,__get$(output,from++)) }}}else if((op&64)===0){here= __get$(dcode,(here&65535)+(hold&(1<<op)-1)) ;continue dodist}else{strm.msg="invalid distance code";state.mode=BAD;break top}break}}else if((op&64)===0){here= __get$(lcode,(here&65535)+(hold&(1<<op)-1)) ;continue dolen}else if(op&32){state.mode=TYPE;break top}else{strm.msg="invalid literal/length code";state.mode=BAD;break top}break}}while(_in<last&&_out<end);len=bits>>3;_in-=len;bits-=len<<3;hold&=(1<<bits)-1;strm.next_in=_in;strm.next_out=
_out;strm.avail_in=_in<last?5+(last-_in):5-(_in-last);strm.avail_out=_out<end?257+(end-_out):257-(_out-end);state.hold=hold;state.bits=bits;return}},"./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/inflate.js":(__unused_webpack_module,exports,__webpack_require__)=>{function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?
"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports.Z_TREES=exports.Z_STREAM_ERROR=exports.Z_STREAM_END=exports.Z_OK=exports.Z_NEED_DICT=exports.Z_MEM_ERROR=exports.Z_FINISH=exports.Z_DEFLATED=exports.Z_DATA_ERROR=exports.Z_BUF_ERROR=exports.Z_BLOCK=void 0;exports.inflate=inflate;exports.inflateEnd=inflateEnd;exports.inflateGetHeader=inflateGetHeader;exports.inflateInfo=void 0;exports.inflateInit=inflateInit;exports.inflateInit2=inflateInit2;exports.inflateReset=
inflateReset;exports.inflateReset2=inflateReset2;exports.inflateResetKeep=inflateResetKeep;exports.inflateSetDictionary=inflateSetDictionary;var utils=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/utils/common.js"));var _adler=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/adler32.js"));var _crc=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/crc32.js"));
var _inffast=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/inffast.js"));var _inftrees=_interopRequireDefault(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/inftrees.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?
t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,
n),n}var CODES=0;var LENS=1;var DISTS=2;var Z_FINISH=exports.Z_FINISH=4;var Z_BLOCK=exports.Z_BLOCK=5;var Z_TREES=exports.Z_TREES=6;var Z_OK=exports.Z_OK=0;var Z_STREAM_END=exports.Z_STREAM_END=1;var Z_NEED_DICT=exports.Z_NEED_DICT=2;var Z_STREAM_ERROR=exports.Z_STREAM_ERROR=-2;var Z_DATA_ERROR=exports.Z_DATA_ERROR=-3;var Z_MEM_ERROR=exports.Z_MEM_ERROR=-4;var Z_BUF_ERROR=exports.Z_BUF_ERROR=-5;var Z_DEFLATED=exports.Z_DEFLATED=8;var HEAD=1;var FLAGS=2;var TIME=3;var OS=4;var EXLEN=5;var EXTRA=6;
var NAME=7;var COMMENT=8;var HCRC=9;var DICTID=10;var DICT=11;var TYPE=12;var TYPEDO=13;var STORED=14;var COPY_=15;var COPY=16;var TABLE=17;var LENLENS=18;var CODELENS=19;var LEN_=20;var LEN=21;var LENEXT=22;var DIST=23;var DISTEXT=24;var MATCH=25;var LIT=26;var CHECK=27;var LENGTH=28;var DONE=29;var BAD=30;var MEM=31;var SYNC=32;var ENOUGH_LENS=852;var ENOUGH_DISTS=592;var MAX_WBITS=15;var DEF_WBITS=MAX_WBITS;function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((q&65280)<<8)+((q&255)<<24)}function InflateState(){this.mode=
0;this.last=false;this.wrap=0;this.havedict=false;this.flags=0;this.dmax=0;this.check=0;this.total=0;this.head=null;this.wbits=0;this.wsize=0;this.whave=0;this.wnext=0;this.window=null;this.hold=0;this.bits=0;this.length=0;this.offset=0;this.extra=0;this.lencode=null;this.distcode=null;this.lenbits=0;this.distbits=0;this.ncode=0;this.nlen=0;this.ndist=0;this.have=0;this.next=null;this.lens=new utils.Buf16(320);this.work=new utils.Buf16(288);this.lendyn=null;this.distdyn=null;this.sane=0;this.back=
0;this.was=0}function inflateResetKeep(strm){var state;if(!strm||!strm.state)return Z_STREAM_ERROR;state=strm.state;strm.total_in=strm.total_out=state.total=0;strm.msg="";if(state.wrap)strm.adler=state.wrap&1;state.mode=HEAD;state.last=0;state.havedict=0;state.dmax=32768;state.head=null;state.hold=0;state.bits=0;state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS);state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS);state.sane=1;state.back=-1;return Z_OK}function inflateReset(strm){var state;
if(!strm||!strm.state)return Z_STREAM_ERROR;state=strm.state;state.wsize=0;state.whave=0;state.wnext=0;return inflateResetKeep(strm)}function inflateReset2(strm,windowBits){var wrap;var state;if(!strm||!strm.state)return Z_STREAM_ERROR;state=strm.state;if(windowBits<0){wrap=0;windowBits=-windowBits}else{wrap=(windowBits>>4)+1;if(windowBits<48)windowBits&=15}if(windowBits&&(windowBits<8||windowBits>15))return Z_STREAM_ERROR;if(state.window!==null&&state.wbits!==windowBits)state.window=null;state.wrap=
wrap;state.wbits=windowBits;return inflateReset(strm)}function inflateInit2(strm,windowBits){var ret;var state;if(!strm)return Z_STREAM_ERROR;state=new InflateState;strm.state=state;state.window=null;ret=inflateReset2(strm,windowBits);if(ret!==Z_OK)strm.state=null;return ret}function inflateInit(strm){return inflateInit2(strm,DEF_WBITS)}var virgin=true;var lenfix,distfix;function fixedtables(state){if(virgin){var sym;lenfix=new utils.Buf32(512);distfix=new utils.Buf32(32);sym=0;while(sym<144) __set$(state.lens,sym++,8) ;while(sym<256) __set$(state.lens,sym++,9) ;while(sym<280) __set$(state.lens,sym++,7) ;while(sym<288) __set$(state.lens,sym++,8) ;(0,_inftrees["default"])(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9});sym=0;while(sym<32) __set$(state.lens,sym++,5) ;(0,_inftrees["default"])(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5});virgin=false}state.lencode=lenfix;state.lenbits=9;state.distcode=distfix;state.distbits=5}function updatewindow(strm,src,end,copy){var dist;var state=strm.state;if(state.window===null){state.wsize=1<<state.wbits;
state.wnext=0;state.whave=0;state.window=new utils.Buf8(state.wsize)}if(copy>=state.wsize){utils.arraySet(state.window,src,end-state.wsize,state.wsize,0);state.wnext=0;state.whave=state.wsize}else{dist=state.wsize-state.wnext;if(dist>copy)dist=copy;utils.arraySet(state.window,src,end-copy,dist,state.wnext);copy-=dist;if(copy){utils.arraySet(state.window,src,end-copy,copy,0);state.wnext=copy;state.whave=state.wsize}else{state.wnext+=dist;if(state.wnext===state.wsize)state.wnext=0;if(state.whave<state.wsize)state.whave+=
dist}}return 0}function inflate(strm,flush){var state;var input,output;var next;var put;var have,left;var hold;var bits;var _in,_out;var copy;var from;var from_source;var here=0;var here_bits,here_op,here_val;var last_bits,last_op,last_val;var len;var ret;var hbuf=new utils.Buf8(4);var opts;var n;var order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&strm.avail_in!==0)return Z_STREAM_ERROR;state=strm.state;if(state.mode===TYPE)state.mode=TYPEDO;
put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;_in=have;_out=left;ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(state.wrap===0){state.mode=TYPEDO;break}while(bits<16){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}if(state.wrap&2&&hold===35615){state.check=0;hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=(0,_crc["default"])(state.check,hbuf,2,0);hold=0;bits=0;state.mode=
FLAGS;break}state.flags=0;if(state.head)state.head.done=false;if(!(state.wrap&1)||(((hold&255)<<8)+(hold>>8))%31){strm.msg="incorrect header check";state.mode=BAD;break}if((hold&15)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}hold>>>=4;bits-=4;len=(hold&15)+8;if(state.wbits===0)state.wbits=len;else if(len>state.wbits){strm.msg="invalid window size";state.mode=BAD;break}state.dmax=1<<len;strm.adler=state.check=1;state.mode=hold&512?DICTID:TYPE;hold=0;bits=0;break;case FLAGS:while(bits<
16){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}state.flags=hold;if((state.flags&255)!==Z_DEFLATED){strm.msg="unknown compression method";state.mode=BAD;break}if(state.flags&57344){strm.msg="unknown header flags set";state.mode=BAD;break}if(state.head)state.head.text=hold>>8&1;if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=(0,_crc["default"])(state.check,hbuf,2,0)}hold=0;bits=0;state.mode=TIME;case TIME:while(bits<32){if(have===0)break inf_leave;have--;
hold+= __get$(input,next++) <<bits;bits+=8}if(state.head)state.head.time=hold;if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;hbuf[2]=hold>>>16&255;hbuf[3]=hold>>>24&255;state.check=(0,_crc["default"])(state.check,hbuf,4,0)}hold=0;bits=0;state.mode=OS;case OS:while(bits<16){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}if(state.head){state.head.xflags=hold&255;state.head.os=hold>>8}if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=(0,_crc["default"])(state.check,
hbuf,2,0)}hold=0;bits=0;state.mode=EXLEN;case EXLEN:if(state.flags&1024){while(bits<16){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}state.length=hold;if(state.head)state.head.extra_len=hold;if(state.flags&512){hbuf[0]=hold&255;hbuf[1]=hold>>>8&255;state.check=(0,_crc["default"])(state.check,hbuf,2,0)}hold=0;bits=0}else if(state.head)state.head.extra=null;state.mode=EXTRA;case EXTRA:if(state.flags&1024){copy=state.length;if(copy>have)copy=have;if(copy){if(state.head){len=state.head.extra_len-
state.length;if(!state.head.extra)state.head.extra=new Array(state.head.extra_len);utils.arraySet(state.head.extra,input,next,copy,len)}if(state.flags&512)state.check=(0,_crc["default"])(state.check,input,copy,next);have-=copy;next+=copy;state.length-=copy}if(state.length)break inf_leave}state.length=0;state.mode=NAME;case NAME:if(state.flags&2048){if(have===0)break inf_leave;copy=0;do{len= __get$(input,next+copy++) ;if(state.head&&len&&state.length<65536)state.head.name+=String.fromCharCode(len)}while(len&&
copy<have);if(state.flags&512)state.check=(0,_crc["default"])(state.check,input,copy,next);have-=copy;next+=copy;if(len)break inf_leave}else if(state.head)state.head.name=null;state.length=0;state.mode=COMMENT;case COMMENT:if(state.flags&4096){if(have===0)break inf_leave;copy=0;do{len= __get$(input,next+copy++) ;if(state.head&&len&&state.length<65536)state.head.comment+=String.fromCharCode(len)}while(len&&copy<have);if(state.flags&512)state.check=(0,_crc["default"])(state.check,input,copy,next);have-=copy;
next+=copy;if(len)break inf_leave}else if(state.head)state.head.comment=null;state.mode=HCRC;case HCRC:if(state.flags&512){while(bits<16){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}if(hold!==(state.check&65535)){strm.msg="header crc mismatch";state.mode=BAD;break}hold=0;bits=0}if(state.head){state.head.hcrc=state.flags>>9&1;state.head.done=true}strm.adler=state.check=0;state.mode=TYPE;break;case DICTID:while(bits<32){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<
bits;bits+=8}strm.adler=state.check=zswap32(hold);hold=0;bits=0;state.mode=DICT;case DICT:if(state.havedict===0){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;return Z_NEED_DICT}strm.adler=state.check=1;state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES)break inf_leave;case TYPEDO:if(state.last){hold>>>=bits&7;bits-=bits&7;state.mode=CHECK;break}while(bits<3){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=
8}state.last=hold&1;hold>>>=1;bits-=1;switch(hold&3){case 0:state.mode=STORED;break;case 1:fixedtables(state);state.mode=LEN_;if(flush===Z_TREES){hold>>>=2;bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg="invalid block type";state.mode=BAD}hold>>>=2;bits-=2;break;case STORED:hold>>>=bits&7;bits-=bits&7;while(bits<32){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}if((hold&65535)!==(hold>>>16^65535)){strm.msg="invalid stored block lengths";state.mode=
BAD;break}state.length=hold&65535;hold=0;bits=0;state.mode=COPY_;if(flush===Z_TREES)break inf_leave;case COPY_:state.mode=COPY;case COPY:copy=state.length;if(copy){if(copy>have)copy=have;if(copy>left)copy=left;if(copy===0)break inf_leave;utils.arraySet(output,input,next,copy,put);have-=copy;next+=copy;left-=copy;put+=copy;state.length-=copy;break}state.mode=TYPE;break;case TABLE:while(bits<14){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}state.nlen=(hold&31)+257;hold>>>=5;
bits-=5;state.ndist=(hold&31)+1;hold>>>=5;bits-=5;state.ncode=(hold&15)+4;hold>>>=4;bits-=4;if(state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols";state.mode=BAD;break}state.have=0;state.mode=LENLENS;case LENLENS:while(state.have<state.ncode){while(bits<3){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8} __set$(state.lens,__get$(order,state.have++),hold&7) ;hold>>>=3;bits-=3}while(state.have<19) __set$(state.lens,__get$(order,state.have++),0) ;state.lencode=state.lendyn;state.lenbits=
7;opts={bits:state.lenbits};ret=(0,_inftrees["default"])(CODES,state.lens,0,19,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid code lengths set";state.mode=BAD;break}state.have=0;state.mode=CODELENS;case CODELENS:while(state.have<state.nlen+state.ndist){for(;;){here= __get$(state.lencode,hold&(1<<state.lenbits)-1) ;here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits)break;if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}if(here_val<
16){hold>>>=here_bits;bits-=here_bits; __set$(state.lens,state.have++,here_val) }else{if(here_val===16){n=here_bits+2;while(bits<n){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;if(state.have===0){strm.msg="invalid bit length repeat";state.mode=BAD;break}len= __get$(state.lens,state.have-1) ;copy=3+(hold&3);hold>>>=2;bits-=2}else if(here_val===17){n=here_bits+3;while(bits<n){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}hold>>>=here_bits;
bits-=here_bits;len=0;copy=3+(hold&7);hold>>>=3;bits-=3}else{n=here_bits+7;while(bits<n){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}hold>>>=here_bits;bits-=here_bits;len=0;copy=11+(hold&127);hold>>>=7;bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat";state.mode=BAD;break}while(copy--) __set$(state.lens,state.have++,len) }}if(state.mode===BAD)break;if(state.lens[256]===0){strm.msg="invalid code -- missing end-of-block";state.mode=BAD;break}state.lenbits=
9;opts={bits:state.lenbits};ret=(0,_inftrees["default"])(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts);state.lenbits=opts.bits;if(ret){strm.msg="invalid literal/lengths set";state.mode=BAD;break}state.distbits=6;state.distcode=state.distdyn;opts={bits:state.distbits};ret=(0,_inftrees["default"])(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts);state.distbits=opts.bits;if(ret){strm.msg="invalid distances set";state.mode=BAD;break}state.mode=LEN_;if(flush===
Z_TREES)break inf_leave;case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;(0,_inffast["default"])(strm,_out);put=strm.next_out;output=strm.output;left=strm.avail_out;next=strm.next_in;input=strm.input;have=strm.avail_in;hold=state.hold;bits=state.bits;if(state.mode===TYPE)state.back=-1;break}state.back=0;for(;;){here= __get$(state.lencode,hold&(1<<state.lenbits)-1) ;here_bits=here>>>24;here_op=
here>>>16&255;here_val=here&65535;if(here_bits<=bits)break;if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}if(here_op&&(here_op&240)===0){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here= __get$(state.lencode,last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)) ;here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(last_bits+here_bits<=bits)break;if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=
last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;state.length=here_val;if(here_op===0){state.mode=LIT;break}if(here_op&32){state.back=-1;state.mode=TYPE;break}if(here_op&64){strm.msg="invalid literal/length code";state.mode=BAD;break}state.extra=here_op&15;state.mode=LENEXT;case LENEXT:if(state.extra){n=state.extra;while(bits<n){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}state.length+=hold&(1<<state.extra)-1;hold>>>=state.extra;bits-=state.extra;state.back+=
state.extra}state.was=state.length;state.mode=DIST;case DIST:for(;;){here= __get$(state.distcode,hold&(1<<state.distbits)-1) ;here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(here_bits<=bits)break;if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}if((here_op&240)===0){last_bits=here_bits;last_op=here_op;last_val=here_val;for(;;){here= __get$(state.distcode,last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)) ;here_bits=here>>>24;here_op=here>>>16&255;here_val=here&65535;if(last_bits+
here_bits<=bits)break;if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}hold>>>=last_bits;bits-=last_bits;state.back+=last_bits}hold>>>=here_bits;bits-=here_bits;state.back+=here_bits;if(here_op&64){strm.msg="invalid distance code";state.mode=BAD;break}state.offset=here_val;state.extra=here_op&15;state.mode=DISTEXT;case DISTEXT:if(state.extra){n=state.extra;while(bits<n){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}state.offset+=hold&(1<<state.extra)-1;hold>>>=
state.extra;bits-=state.extra;state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back";state.mode=BAD;break}state.mode=MATCH;case MATCH:if(left===0)break inf_leave;copy=_out-left;if(state.offset>copy){copy=state.offset-copy;if(copy>state.whave)if(state.sane){strm.msg="invalid distance too far back";state.mode=BAD;break}if(copy>state.wnext){copy-=state.wnext;from=state.wsize-copy}else from=state.wnext-copy;if(copy>state.length)copy=state.length;from_source=state.window}else{from_source=
output;from=put-state.offset;copy=state.length}if(copy>left)copy=left;left-=copy;state.length-=copy;do  __set$(output,put++,__get$(from_source,from++)) ;while(--copy);if(state.length===0)state.mode=LEN;break;case LIT:if(left===0)break inf_leave; __set$(output,put++,state.length) ;left--;state.mode=LEN;break;case CHECK:if(state.wrap){while(bits<32){if(have===0)break inf_leave;have--;hold|= __get$(input,next++) <<bits;bits+=8}_out-=left;strm.total_out+=_out;state.total+=_out;if(_out)strm.adler=state.check=state.flags?(0,_crc["default"])(state.check,
output,_out,put-_out):(0,_adler["default"])(state.check,output,_out,put-_out);_out=left;if((state.flags?hold:zswap32(hold))!==state.check){strm.msg="incorrect data check";state.mode=BAD;break}hold=0;bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){while(bits<32){if(have===0)break inf_leave;have--;hold+= __get$(input,next++) <<bits;bits+=8}if(hold!==(state.total&4294967295)){strm.msg="incorrect length check";state.mode=BAD;break}hold=0;bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;
case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}strm.next_out=put;strm.avail_out=left;strm.next_in=next;strm.avail_in=have;state.hold=hold;state.bits=bits;if(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH))if(updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)){state.mode=MEM;return Z_MEM_ERROR}_in-=strm.avail_in;_out-=strm.avail_out;strm.total_in+=_in;strm.total_out+=_out;state.total+=
_out;if(state.wrap&&_out)strm.adler=state.check=state.flags?(0,_crc["default"])(state.check,output,_out,strm.next_out-_out):(0,_adler["default"])(state.check,output,_out,strm.next_out-_out);strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0);if((_in===0&&_out===0||flush===Z_FINISH)&&ret===Z_OK)ret=Z_BUF_ERROR;return ret}function inflateEnd(strm){if(!strm||!strm.state)return Z_STREAM_ERROR;var state=strm.state;if(state.window)state.window=
null;strm.state=null;return Z_OK}function inflateGetHeader(strm,head){var state;if(!strm||!strm.state)return Z_STREAM_ERROR;state=strm.state;if((state.wrap&2)===0)return Z_STREAM_ERROR;state.head=head;head.done=false;return Z_OK}function inflateSetDictionary(strm,dictionary){var dictLength=dictionary.length;var state;var dictid;var ret;if(!strm||!strm.state)return Z_STREAM_ERROR;state=strm.state;if(state.wrap!==0&&state.mode!==DICT)return Z_STREAM_ERROR;if(state.mode===DICT){dictid=1;dictid=(0,_adler["default"])(dictid,
dictionary,dictLength,0);if(dictid!==state.check)return Z_DATA_ERROR}ret=updatewindow(strm,dictionary,dictLength,dictLength);if(ret){state.mode=MEM;return Z_MEM_ERROR}state.havedict=1;return Z_OK}var inflateInfo=exports.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/inftrees.js":(__unused_webpack_module,exports,__webpack_require__)=>{function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?
function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=inflate_table;var utils=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/utils/common.js"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=
function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,
i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,n),n}var MAXBITS=15;var ENOUGH_LENS=852;var ENOUGH_DISTS=592;var CODES=0;var LENS=1;var DISTS=2;var lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];var lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78];var dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0];var dext=[16,16,16,16,17,
17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function inflate_table(type,lens,lens_index,codes,table,table_index,work,opts){var bits=opts.bits;var len=0;var sym=0;var min=0,max=0;var root=0;var curr=0;var drop=0;var left=0;var used=0;var huff=0;var incr;var fill;var low;var mask;var next;var base=null;var base_index=0;var end;var count=new utils.Buf16(MAXBITS+1);var offs=new utils.Buf16(MAXBITS+1);var extra=null;var extra_index=0;var here_bits,here_op,here_val;
for(len=0;len<=MAXBITS;len++) __set$(count,len,0) ;for(sym=0;sym<codes;sym++)count[ __get$(lens,lens_index+sym) ]++;root=bits;for(max=MAXBITS;max>=1;max--)if( __get$(count,max) !==0)break;if(root>max)root=max;if(max===0){ __set$(table,table_index++,1<<24|64<<16|0) ; __set$(table,table_index++,1<<24|64<<16|0) ;opts.bits=1;return 0}for(min=1;min<max;min++)if( __get$(count,min) !==0)break;if(root<min)root=min;left=1;for(len=1;len<=MAXBITS;len++){left<<=1;left-= __get$(count,len) ;if(left<0)return-1}if(left>0&&(type===CODES||max!==1))return-1;offs[1]=0;for(len=1;len<
MAXBITS;len++) __set$(offs,len+1,__get$(offs,len)+__get$(count,len)) ;for(sym=0;sym<codes;sym++)if( __get$(lens,lens_index+sym) !==0) __set$(work,offs[__get$(lens,lens_index+sym)]++,sym) ;if(type===CODES){base=extra=work;end=19}else if(type===LENS){base=lbase;base_index-=257;extra=lext;extra_index-=257;end=256}else{base=dbase;extra=dext;end=-1}huff=0;sym=0;len=min;next=table_index;curr=root;drop=0;low=-1;used=1<<root;mask=used-1;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS)return 1;for(;;){here_bits=len-drop;if( __get$(work,sym) <end){here_op=
0;here_val= __get$(work,sym) }else if( __get$(work,sym) >end){here_op= __get$(extra,extra_index+__get$(work,sym)) ;here_val= __get$(base,base_index+__get$(work,sym)) }else{here_op=32+64;here_val=0}incr=1<<len-drop;fill=1<<curr;min=fill;do{fill-=incr; __set$(table,next+(huff>>drop)+fill,here_bits<<24|here_op<<16|here_val|0) }while(fill!==0);incr=1<<len-1;while(huff&incr)incr>>=1;if(incr!==0){huff&=incr-1;huff+=incr}else huff=0;sym++;if(--count[len]===0){if(len===max)break;len= __get$(lens,lens_index+__get$(work,sym)) }if(len>root&&(huff&mask)!==low){if(drop===0)drop=root;
next+=min;curr=len-drop;left=1<<curr;while(curr+drop<max){left-= __get$(count,curr+drop) ;if(left<=0)break;curr++;left<<=1}used+=1<<curr;if(type===LENS&&used>ENOUGH_LENS||type===DISTS&&used>ENOUGH_DISTS)return 1;low=huff&mask; __set$(table,low,root<<24|curr<<16|next-table_index|0) }}if(huff!==0) __set$(table,next+huff,len-drop<<24|64<<16|0) ;opts.bits=root;return 0}},"./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/messages.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});
exports["default"]=void 0;var _default=exports["default"]={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/trees.js":(__unused_webpack_module,exports,__webpack_require__)=>{function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:
function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Object.defineProperty(exports,"__esModule",{value:true});exports._tr_align=_tr_align;exports._tr_flush_block=_tr_flush_block;exports._tr_init=_tr_init;exports._tr_stored_block=_tr_stored_block;exports._tr_tally=_tr_tally;var utils=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/vendor/pako/lib/utils/common.js"));function _getRequireWildcardCache(e){if("function"!=
typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=
a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,n),n}var Z_FIXED=4;var Z_BINARY=0;var Z_TEXT=1;var Z_UNKNOWN=2;function zero(buf){var len=buf.length;while(--len>=0) __set$(buf,len,0) }var STORED_BLOCK=0;var STATIC_TREES=1;var DYN_TREES=2;var MIN_MATCH=3;var MAX_MATCH=258;var LENGTH_CODES=29;var LITERALS=256;var L_CODES=LITERALS+1+LENGTH_CODES;var D_CODES=30;var BL_CODES=19;var HEAP_SIZE=2*L_CODES+1;var MAX_BITS=15;var Buf_size=
16;var MAX_BL_BITS=7;var END_BLOCK=256;var REP_3_6=16;var REPZ_3_10=17;var REPZ_11_138=18;var extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];var extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];var bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var DIST_CODE_LEN=512;var static_ltree=new Array((L_CODES+2)*2);zero(static_ltree);var static_dtree=new Array(D_CODES*2);zero(static_dtree);
var _dist_code=new Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=new Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES);zero(base_dist);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree;this.extra_bits=extra_bits;this.extra_base=extra_base;this.elems=elems;this.max_length=max_length;this.has_stree=static_tree&&static_tree.length}var static_l_desc;
var static_d_desc;var static_bl_desc;function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree;this.max_code=0;this.stat_desc=stat_desc}function d_code(dist){return dist<256? __get$(_dist_code,dist) : __get$(_dist_code,256+(dist>>>7)) }function put_short(s,w){ __set$(s.pending_buf,s.pending++,w&255) ; __set$(s.pending_buf,s.pending++,w>>>8&255) }function send_bits(s,value,length){if(s.bi_valid>Buf_size-length){s.bi_buf|=value<<s.bi_valid&65535;put_short(s,s.bi_buf);s.bi_buf=value>>Buf_size-s.bi_valid;s.bi_valid+=length-Buf_size}else{s.bi_buf|=
value<<s.bi_valid&65535;s.bi_valid+=length}}function send_code(s,c,tree){send_bits(s, __get$(tree,c*2) , __get$(tree,c*2+1) )}function bi_reverse(code,len){var res=0;do{res|=code&1;code>>>=1;res<<=1}while(--len>0);return res>>>1}function bi_flush(s){if(s.bi_valid===16){put_short(s,s.bi_buf);s.bi_buf=0;s.bi_valid=0}else if(s.bi_valid>=8){ __set$(s.pending_buf,s.pending++,s.bi_buf&255) ;s.bi_buf>>=8;s.bi_valid-=8}}function gen_bitlen(s,desc){var tree=desc.dyn_tree;var max_code=desc.max_code;var stree=desc.stat_desc.static_tree;
var has_stree=desc.stat_desc.has_stree;var extra=desc.stat_desc.extra_bits;var base=desc.stat_desc.extra_base;var max_length=desc.stat_desc.max_length;var h;var n,m;var bits;var xbits;var f;var overflow=0;for(bits=0;bits<=MAX_BITS;bits++) __set$(s.bl_count,bits,0) ; __set$(tree,__get$(s.heap,s.heap_max)*2+1,0) ;for(h=s.heap_max+1;h<HEAP_SIZE;h++){n= __get$(s.heap,h) ;bits= __get$(tree,__get$(tree,n*2+1)*2+1) +1;if(bits>max_length){bits=max_length;overflow++} __set$(tree,n*2+1,bits) ;if(n>max_code)continue;s.bl_count[bits]++;xbits=0;if(n>=base)xbits= __get$(extra,n-base) ;f= __get$(tree,n*2) ;s.opt_len+=f*(bits+xbits);if(has_stree)s.static_len+=f*( __get$(stree,n*2+1) +xbits)}if(overflow===0)return;do{bits=max_length-1;while( __get$(s.bl_count,bits) ===0)bits--;s.bl_count[bits]--; __set$(s.bl_count,bits+1,__get$(s.bl_count,bits+1)+2) ;s.bl_count[max_length]--;overflow-=2}while(overflow>0);for(bits=max_length;bits!==0;bits--){n= __get$(s.bl_count,bits) ;while(n!==0){m= __get$(s.heap,--h) ;if(m>max_code)continue;if( __get$(tree,m*2+1) !==bits){s.opt_len+=(bits- __get$(tree,m*2+1) )* __get$(tree,m*2) ; __set$(tree,m*2+1,bits) }n--}}}function gen_codes(tree,max_code,bl_count){var next_code=
new Array(MAX_BITS+1);var code=0;var bits;var n;for(bits=1;bits<=MAX_BITS;bits++) __set$(next_code,bits,code=code+__get$(bl_count,bits-1)<<1) ;for(n=0;n<=max_code;n++){var len= __get$(tree,n*2+1) ;if(len===0)continue; __set$(tree,n*2,bi_reverse(next_code[len]++,len)) }}function tr_static_init(){var n;var bits;var length;var code;var dist;var bl_count=new Array(MAX_BITS+1);length=0;for(code=0;code<LENGTH_CODES-1;code++){ __set$(base_length,code,length) ;for(n=0;n<1<< __get$(extra_lbits,code) ;n++) __set$(_length_code,length++,code) } __set$(_length_code,length-1,code) ;
dist=0;for(code=0;code<16;code++){ __set$(base_dist,code,dist) ;for(n=0;n<1<< __get$(extra_dbits,code) ;n++) __set$(_dist_code,dist++,code) }dist>>=7;for(;code<D_CODES;code++){ __set$(base_dist,code,dist<<7) ;for(n=0;n<1<< __get$(extra_dbits,code) -7;n++) __set$(_dist_code,256+dist++,code) }for(bits=0;bits<=MAX_BITS;bits++) __set$(bl_count,bits,0) ;n=0;while(n<=143){ __set$(static_ltree,n*2+1,8) ;n++;bl_count[8]++}while(n<=255){ __set$(static_ltree,n*2+1,9) ;n++;bl_count[9]++}while(n<=279){ __set$(static_ltree,n*2+1,7) ;n++;bl_count[7]++}while(n<=287){ __set$(static_ltree,n*2+1,8) ;n++;bl_count[8]++}gen_codes(static_ltree,
L_CODES+1,bl_count);for(n=0;n<D_CODES;n++){ __set$(static_dtree,n*2+1,5) ; __set$(static_dtree,n*2,bi_reverse(n,5)) }static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS);static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS);static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(s){var n;for(n=0;n<L_CODES;n++) __set$(s.dyn_ltree,n*2,0) ;for(n=0;n<D_CODES;n++) __set$(s.dyn_dtree,n*2,0) ;for(n=0;n<BL_CODES;n++) __set$(s.bl_tree,n*2,0) ; __set$(s.dyn_ltree,END_BLOCK*2,1) ;s.opt_len=s.static_len=0;s.last_lit=s.matches=0}function bi_windup(s){if(s.bi_valid>8)put_short(s,s.bi_buf);else if(s.bi_valid>0) __set$(s.pending_buf,s.pending++,s.bi_buf) ;s.bi_buf=0;s.bi_valid=0}function copy_block(s,buf,len,header){bi_windup(s);if(header){put_short(s,len);put_short(s,~len)}utils.arraySet(s.pending_buf,s.window,buf,len,s.pending);s.pending+=len}function smaller(tree,n,m,depth){var _n2=n*2;var _m2=m*2;return  __get$(tree,_n2) < __get$(tree,_m2) || __get$(tree,_n2) === __get$(tree,_m2) && __get$(depth,n) <= __get$(depth,m) }function pqdownheap(s,
tree,k){var v= __get$(s.heap,k) ;var j=k<<1;while(j<=s.heap_len){if(j<s.heap_len&&smaller(tree, __get$(s.heap,j+1) , __get$(s.heap,j) ,s.depth))j++;if(smaller(tree,v, __get$(s.heap,j) ,s.depth))break; __set$(s.heap,k,__get$(s.heap,j)) ;k=j;j<<=1} __set$(s.heap,k,v) }function compress_block(s,ltree,dtree){var dist;var lc;var lx=0;var code;var extra;if(s.last_lit!==0){do{dist= __get$(s.pending_buf,s.d_buf+lx*2) <<8| __get$(s.pending_buf,s.d_buf+lx*2+1) ;lc= __get$(s.pending_buf,s.l_buf+lx) ;lx++;if(dist===0)send_code(s,lc,ltree);else{code= __get$(_length_code,lc) ;send_code(s,code+LITERALS+1,ltree);
extra= __get$(extra_lbits,code) ;if(extra!==0){lc-= __get$(base_length,code) ;send_bits(s,lc,extra)}dist--;code=d_code(dist);send_code(s,code,dtree);extra= __get$(extra_dbits,code) ;if(extra!==0){dist-= __get$(base_dist,code) ;send_bits(s,dist,extra)}}}while(lx<s.last_lit)}send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var tree=desc.dyn_tree;var stree=desc.stat_desc.static_tree;var has_stree=desc.stat_desc.has_stree;var elems=desc.stat_desc.elems;var n,m;var max_code=-1;var node;s.heap_len=0;s.heap_max=HEAP_SIZE;for(n=0;n<
elems;n++)if( __get$(tree,n*2) !==0){ __set$(s.heap,++s.heap_len,max_code=n) ; __set$(s.depth,n,0) }else  __set$(tree,n*2+1,0) ;while(s.heap_len<2){node= __set$(s.heap,++s.heap_len,max_code<2?++max_code:0) ; __set$(tree,node*2,1) ; __set$(s.depth,node,0) ;s.opt_len--;if(has_stree)s.static_len-= __get$(stree,node*2+1) }desc.max_code=max_code;for(n=s.heap_len>>1;n>=1;n--)pqdownheap(s,tree,n);node=elems;do{n=s.heap[1];s.heap[1]= __get$(s.heap,s.heap_len--) ;pqdownheap(s,tree,1);m=s.heap[1]; __set$(s.heap,--s.heap_max,n) ; __set$(s.heap,--s.heap_max,m) ; __set$(tree,node*2,__get$(tree,n*2)+__get$(tree,m*2)) ; __set$(s.depth,node,(__get$(s.depth,n)>=__get$(s.depth,m)?__get$(s.depth,n):__get$(s.depth,m))+1) ; __set$(tree,n*2+1,__set$(tree,m*2+1,node)) ;s.heap[1]=node++;pqdownheap(s,tree,1)}while(s.heap_len>=2); __set$(s.heap,--s.heap_max,s.heap[1]) ;gen_bitlen(s,desc);gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n;var prevlen=-1;var curlen;var nextlen= __get$(tree,0*2+1) ;var count=0;var max_count=7;var min_count=4;if(nextlen===0){max_count=138;min_count=3} __set$(tree,(max_code+1)*2+1,65535) ;for(n=0;n<=max_code;n++){curlen=nextlen;nextlen= __get$(tree,(n+1)*2+1) ;if(++count<
max_count&&curlen===nextlen)continue;else if(count<min_count) __set$(s.bl_tree,curlen*2,__get$(s.bl_tree,curlen*2)+count) ;else if(curlen!==0){if(curlen!==prevlen)s.bl_tree[curlen*2]++;s.bl_tree[REP_3_6*2]++}else if(count<=10)s.bl_tree[REPZ_3_10*2]++;else s.bl_tree[REPZ_11_138*2]++;count=0;prevlen=curlen;if(nextlen===0){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function send_tree(s,tree,max_code){var n;var prevlen=-1;var curlen;var nextlen= __get$(tree,0*2+1) ;var count=0;var max_count=
7;var min_count=4;if(nextlen===0){max_count=138;min_count=3}for(n=0;n<=max_code;n++){curlen=nextlen;nextlen= __get$(tree,(n+1)*2+1) ;if(++count<max_count&&curlen===nextlen)continue;else if(count<min_count){do send_code(s,curlen,s.bl_tree);while(--count!==0)}else if(curlen!==0){if(curlen!==prevlen){send_code(s,curlen,s.bl_tree);count--}send_code(s,REP_3_6,s.bl_tree);send_bits(s,count-3,2)}else if(count<=10){send_code(s,REPZ_3_10,s.bl_tree);send_bits(s,count-3,3)}else{send_code(s,REPZ_11_138,s.bl_tree);send_bits(s,
count-11,7)}count=0;prevlen=curlen;if(nextlen===0){max_count=138;min_count=3}else if(curlen===nextlen){max_count=6;min_count=3}else{max_count=7;min_count=4}}}function build_bl_tree(s){var max_blindex;scan_tree(s,s.dyn_ltree,s.l_desc.max_code);scan_tree(s,s.dyn_dtree,s.d_desc.max_code);build_tree(s,s.bl_desc);for(max_blindex=BL_CODES-1;max_blindex>=3;max_blindex--)if( __get$(s.bl_tree,__get$(bl_order,max_blindex)*2+1) !==0)break;s.opt_len+=3*(max_blindex+1)+5+5+4;return max_blindex}function send_all_trees(s,lcodes,
dcodes,blcodes){var rank;send_bits(s,lcodes-257,5);send_bits(s,dcodes-1,5);send_bits(s,blcodes-4,4);for(rank=0;rank<blcodes;rank++)send_bits(s, __get$(s.bl_tree,__get$(bl_order,rank)*2+1) ,3);send_tree(s,s.dyn_ltree,lcodes-1);send_tree(s,s.dyn_dtree,dcodes-1)}function detect_data_type(s){var black_mask=4093624447;var n;for(n=0;n<=31;n++,black_mask>>>=1)if(black_mask&1&& __get$(s.dyn_ltree,n*2) !==0)return Z_BINARY;if( __get$(s.dyn_ltree,9*2) !==0|| __get$(s.dyn_ltree,10*2) !==0|| __get$(s.dyn_ltree,13*2) !==0)return Z_TEXT;for(n=32;n<LITERALS;n++)if( __get$(s.dyn_ltree,n*2) !==0)return Z_TEXT;return Z_BINARY}var static_init_done=false;function _tr_init(s){if(!static_init_done){tr_static_init();static_init_done=true}s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc);s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc);s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc);s.bi_buf=0;s.bi_valid=0;init_block(s)}function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3);copy_block(s,buf,stored_len,true)}function _tr_align(s){send_bits(s,STATIC_TREES<<
1,3);send_code(s,END_BLOCK,static_ltree);bi_flush(s)}function _tr_flush_block(s,buf,stored_len,last){var opt_lenb,static_lenb;var max_blindex=0;if(s.level>0){if(s.strm.data_type===Z_UNKNOWN)s.strm.data_type=detect_data_type(s);build_tree(s,s.l_desc);build_tree(s,s.d_desc);max_blindex=build_bl_tree(s);opt_lenb=s.opt_len+3+7>>>3;static_lenb=s.static_len+3+7>>>3;if(static_lenb<=opt_lenb)opt_lenb=static_lenb}else opt_lenb=static_lenb=stored_len+5;if(stored_len+4<=opt_lenb&&buf!==-1)_tr_stored_block(s,
buf,stored_len,last);else if(s.strategy===Z_FIXED||static_lenb===opt_lenb){send_bits(s,(STATIC_TREES<<1)+(last?1:0),3);compress_block(s,static_ltree,static_dtree)}else{send_bits(s,(DYN_TREES<<1)+(last?1:0),3);send_all_trees(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1);compress_block(s,s.dyn_ltree,s.dyn_dtree)}init_block(s);if(last)bi_windup(s)}function _tr_tally(s,dist,lc){ __set$(s.pending_buf,s.d_buf+s.last_lit*2,dist>>>8&255) ; __set$(s.pending_buf,s.d_buf+s.last_lit*2+1,dist&255) ; __set$(s.pending_buf,s.l_buf+s.last_lit,lc&255) ;s.last_lit++;if(dist===0)s.dyn_ltree[lc*2]++;else{s.matches++;dist--;s.dyn_ltree[( __get$(_length_code,lc) +LITERALS+1)*2]++;s.dyn_dtree[d_code(dist)*2]++}return s.last_lit===s.lit_bufsize-1}},"./node_modules/@novnc/novnc/lib/vendor/pako/lib/zlib/zstream.js":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=ZStream;function ZStream(){this.input=null;this.next_in=0;this.avail_in=0;this.total_in=0;this.output=null;this.next_out=
0;this.avail_out=0;this.total_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},"./node_modules/@novnc/novnc/lib/websock.js":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var Log=_interopRequireWildcard(__webpack_require__("./node_modules/@novnc/novnc/lib/util/logging.js"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=
function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{"default":e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,
i): __set$(n,u,__get$(e,u)) }return n["default"]=e,t&&t.set(e,n),n}function _typeof(o){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!= __get$(r,Symbol.iterator) ||null!=r["@@iterator"])return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}
function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++) __set$(n,e,__get$(r,e)) ;return n}function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o= __get$(r,t) ;o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,
t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==_typeof(i)?i:i+""}function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e= __get$(t,Symbol.toPrimitive) ;if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===r?String:Number)(t)}var MAX_RQ_GROW_SIZE=40*1024*1024;var DataChannel={CONNECTING:"connecting",OPEN:"open",
CLOSING:"closing",CLOSED:"closed"};var ReadyStates={CONNECTING:[WebSocket.CONNECTING,DataChannel.CONNECTING],OPEN:[WebSocket.OPEN,DataChannel.OPEN],CLOSING:[WebSocket.CLOSING,DataChannel.CLOSING],CLOSED:[WebSocket.CLOSED,DataChannel.CLOSED]};var rawChannelProps=["send","close","binaryType","onerror","onmessage","onopen","protocol","readyState"];var Websock=exports["default"]=function(){function Websock(){_classCallCheck(this,Websock);this._websocket=null;this._rQi=0;this._rQlen=0;this._rQbufferSize=
1024*1024*4;this._rQ=null;this._sQbufferSize=1024*10;this._sQlen=0;this._sQ=null;this._eventHandlers={message:function message(){},open:function open(){},close:function close(){},error:function error(){}}}return _createClass(Websock,[{key:"readyState",get:function get(){var subState;if(this._websocket===null)return"unused";subState=this._websocket.readyState;if(ReadyStates.CONNECTING.includes(subState))return"connecting";else if(ReadyStates.OPEN.includes(subState))return"open";else if(ReadyStates.CLOSING.includes(subState))return"closing";
else if(ReadyStates.CLOSED.includes(subState))return"closed";return"unknown"}},{key:"rQpeek8",value:function rQpeek8(){return  __get$(this._rQ,this._rQi) }},{key:"rQskipBytes",value:function rQskipBytes(bytes){this._rQi+=bytes}},{key:"rQshift8",value:function rQshift8(){return this._rQshift(1)}},{key:"rQshift16",value:function rQshift16(){return this._rQshift(2)}},{key:"rQshift32",value:function rQshift32(){return this._rQshift(4)}},{key:"_rQshift",value:function _rQshift(bytes){var res=0;for(var _byte=bytes-
1;_byte>=0;_byte--)res+= __get$(this._rQ,this._rQi++) <<_byte*8;return res>>>0}},{key:"rQshiftStr",value:function rQshiftStr(len){var str="";for(var i=0;i<len;i+=4096){var part=this.rQshiftBytes(Math.min(4096,len-i),false);str+=String.fromCharCode.apply(null,part)}return str}},{key:"rQshiftBytes",value:function rQshiftBytes(len){var copy=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this._rQi+=len;if(copy)return this._rQ.slice(this._rQi-len,this._rQi);else return this._rQ.subarray(this._rQi-
len,this._rQi)}},{key:"rQshiftTo",value:function rQshiftTo(target,len){target.set(new Uint8Array(this._rQ.buffer,this._rQi,len));this._rQi+=len}},{key:"rQpeekBytes",value:function rQpeekBytes(len){var copy=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(copy)return this._rQ.slice(this._rQi,this._rQi+len);else return this._rQ.subarray(this._rQi,this._rQi+len)}},{key:"rQwait",value:function rQwait(msg,num,goback){if(this._rQlen-this._rQi<num){if(goback){if(this._rQi<goback)throw new Error("rQwait cannot backup "+
goback+" bytes");this._rQi-=goback}return true}return false}},{key:"sQpush8",value:function sQpush8(num){this._sQensureSpace(1); __set$(this._sQ,this._sQlen++,num) }},{key:"sQpush16",value:function sQpush16(num){this._sQensureSpace(2); __set$(this._sQ,this._sQlen++,num>>8&255) ; __set$(this._sQ,this._sQlen++,num>>0&255) }},{key:"sQpush32",value:function sQpush32(num){this._sQensureSpace(4); __set$(this._sQ,this._sQlen++,num>>24&255) ; __set$(this._sQ,this._sQlen++,num>>16&255) ; __set$(this._sQ,this._sQlen++,num>>8&255) ; __set$(this._sQ,this._sQlen++,num>>0&255) }},{key:"sQpushString",value:function sQpushString(str){var bytes=str.split("").map(function(chr){return chr.charCodeAt(0)});this.sQpushBytes(new Uint8Array(bytes))}},{key:"sQpushBytes",value:function sQpushBytes(bytes){for(var offset=0;offset<bytes.length;){this._sQensureSpace(1);var chunkSize=this._sQbufferSize-this._sQlen;if(chunkSize>bytes.length-offset)chunkSize=bytes.length-offset;this._sQ.set(bytes.subarray(offset,offset+chunkSize),this._sQlen);this._sQlen+=chunkSize;offset+=chunkSize}}},
{key:"flush",value:function flush(){if(this._sQlen>0&&this.readyState==="open"){this._websocket.send(new Uint8Array(this._sQ.buffer,0,this._sQlen));this._sQlen=0}}},{key:"_sQensureSpace",value:function _sQensureSpace(bytes){if(this._sQbufferSize-this._sQlen<bytes)this.flush()}},{key:"off",value:function off(evt){ __set$(this._eventHandlers,evt,function(){}) }},{key:"on",value:function on(evt,handler){ __set$(this._eventHandlers,evt,handler) }},{key:"_allocateBuffers",value:function _allocateBuffers(){this._rQ=new Uint8Array(this._rQbufferSize);
this._sQ=new Uint8Array(this._sQbufferSize)}},{key:"init",value:function init(){this._allocateBuffers();this._rQi=0;this._websocket=null}},{key:"open",value:function open(uri,protocols){this.attach(new WebSocket(uri,protocols))}},{key:"attach",value:function attach(rawChannel){var _this=this;this.init();var channelProps=[].concat(_toConsumableArray(Object.keys(rawChannel)),_toConsumableArray(Object.getOwnPropertyNames(Object.getPrototypeOf(rawChannel))));for(var i=0;i<rawChannelProps.length;i++){var prop=
 __get$(rawChannelProps,i) ;if(channelProps.indexOf(prop)<0)throw new Error("Raw channel missing property: "+prop);}this._websocket=rawChannel;this._websocket.binaryType="arraybuffer";this._websocket.onmessage=this._recvMessage.bind(this);this._websocket.onopen=function(){Log.Debug(">> WebSock.onopen");if(_this._websocket.protocol)Log.Info("Server choose sub-protocol: "+_this._websocket.protocol);_this._eventHandlers.open();Log.Debug("<< WebSock.onopen")};this._websocket.onclose=function(e){Log.Debug(">> WebSock.onclose");
_this._eventHandlers.close(e);Log.Debug("<< WebSock.onclose")};this._websocket.onerror=function(e){Log.Debug(">> WebSock.onerror: "+e);_this._eventHandlers.error(e);Log.Debug("<< WebSock.onerror: "+e)}}},{key:"close",value:function close(){if(this._websocket){if(this.readyState==="connecting"||this.readyState==="open"){Log.Info("Closing WebSocket connection");this._websocket.close()}this._websocket.onmessage=function(){}}}},{key:"_expandCompactRQ",value:function _expandCompactRQ(minFit){var requiredBufferSize=
(this._rQlen-this._rQi+minFit)*8;var resizeNeeded=this._rQbufferSize<requiredBufferSize;if(resizeNeeded)this._rQbufferSize=Math.max(this._rQbufferSize*2,requiredBufferSize);if(this._rQbufferSize>MAX_RQ_GROW_SIZE){this._rQbufferSize=MAX_RQ_GROW_SIZE;if(this._rQbufferSize-(this._rQlen-this._rQi)<minFit)throw new Error("Receive queue buffer exceeded "+MAX_RQ_GROW_SIZE+" bytes, and the new message could not fit");}if(resizeNeeded){var oldRQbuffer=this._rQ.buffer;this._rQ=new Uint8Array(this._rQbufferSize);
this._rQ.set(new Uint8Array(oldRQbuffer,this._rQi,this._rQlen-this._rQi))}else this._rQ.copyWithin(0,this._rQi,this._rQlen);this._rQlen=this._rQlen-this._rQi;this._rQi=0}},{key:"_recvMessage",value:function _recvMessage(e){if(this._rQlen==this._rQi){this._rQlen=0;this._rQi=0}var u8=new Uint8Array(e.data);if(u8.length>this._rQbufferSize-this._rQlen)this._expandCompactRQ(u8.length);this._rQ.set(u8,this._rQlen);this._rQlen+=u8.length;if(this._rQlen-this._rQi>0)this._eventHandlers.message();else Log.Debug("Ignoring empty message")}}])}()}};
var __webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule= __get$(__webpack_module_cache__,moduleId) ;if(cachedModule!==undefined)return cachedModule.exports;var module= __set$(__webpack_module_cache__,moduleId,{exports:{}}) ; __call$(__webpack_modules__,moduleId,[module,module.exports,__webpack_require__]) ;return module.exports}(()=>{__webpack_require__.d=(exports,definition)=>{for(var key in definition)if(__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key))Object.defineProperty(exports,
key,{enumerable:true,get: __get$(definition,key) })}})();(()=>{__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)})();(()=>{__webpack_require__.r=exports=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag)Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});Object.defineProperty(exports,"__esModule",{value:true})}})();var __webpack_exports__={};(()=>{__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,{"default":()=>__WEBPACK_DEFAULT_EXPORT__});
var _novnc_novnc__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@novnc/novnc/lib/rfb.js");const __WEBPACK_DEFAULT_EXPORT__=_novnc_novnc__WEBPACK_IMPORTED_MODULE_0__["default"]})();return __webpack_exports__})()})}).call(globalThis);var QPf,RPf,VPf,WPf,SPf,TPf,UPf;QPf=function(a,b,c,d){var e=new wPf;b=_.ag(e,1,b);d=_.Uf(b,2,d!==void 0?d:a.oa);c=_.ag(d,3,c);c=_.Xb(c);a=a.Ya;d=a.uw;b=new _.CE;e=new _.mRb;c=_.xf(e,wPf,12,c);d.call(a,203402,_.Nt(_.oi(_.ARb(_.oi(_.qRb(b,[_.Xb(c)]))))))};RPf=function(a){a.Ca();a.wa=setTimeout(()=>{a.logger.log(`No data stream message received in ${a.Qa}ms. Triggering reconnect.`);a.Ba()},a.Qa)};
VPf=function(a,b,c){return _.ze(function*(){a.logger.log("Connect method called. Current state: "+a.ma.value);if(a.ma.value!=="disconnected")a.logger.log("Already connected or connecting. Aborting connection attempt.");else{a.ma.next("connecting");a.logger.log("Connection state set to CONNECTING.");a.zl();try{a.logger.log("Step 1: Obtaining ICE servers.");const d=yield _.CA(a.Za);a.logger.log("Step 1: ICE servers obtained successfully.");a.logger.log("Step 2: Creating WebRTC peer connection and initializing noVNC.");
a.ka=new RTCPeerConnection({iceServers:d,iceTransportPolicy:"all"});a.ka.onconnectionstatechange=()=>{let t;const v=(t=a.ka)==null?void 0:t.connectionState;a.logger.log(`WebRTC onconnectionstatechange event: ${v}`);!a.ab||v!=="failed"&&v!=="disconnected"&&v!=="closed"||(a.logger.log(`WebRTC connection state is ${v}. Triggering reconnect.`),a.Ba())};a.ka.onicecandidateerror=t=>{a.logger.log(`WebRTC onicecandidateerror event: ${JSON.stringify({address:t.address,port:t.port,url:t.url,errorCode:t.errorCode,
errorText:t.errorText})}`)};a.ka.oniceconnectionstatechange=()=>{let t;a.logger.log(`WebRTC oniceconnectionstatechange event: ${(t=a.ka)==null?void 0:t.iceConnectionState}`)};a.ka.onicegatheringstatechange=()=>{let t;a.logger.log(`WebRTC onicegatheringstatechange event: ${(t=a.ka)==null?void 0:t.iceGatheringState}`)};a.ka.onnegotiationneeded=()=>{a.logger.log("WebRTC onnegotiationneeded event")};a.ka.onsignalingstatechange=()=>{let t;a.logger.log(`WebRTC onsignalingstatechange event: ${(t=a.ka)==
null?void 0:t.signalingState}`)};a.ka.ontrack=t=>{a.logger.log(`WebRTC ontrack event: ${t}`)};const e=a.ka.createDataChannel("data");a.logger.log("Step 2: WebRTC peer connection and data channel created.");SPf(a,b,e);a.logger.log("Step 2: noVNC RFB instance setup initiated.");let f=null;const g=[];a.ka.onicecandidate=t=>{t.candidate?(t=t.candidate.toJSON(),a.logger.log(`ICE candidate gathered: ${JSON.stringify(t)}`),f?TPf(a,c,f,[t]):(g.push(t),a.logger.log("ICE candidate queued (session ID not yet available)."))):
a.logger.log("ICE gathering complete.")};a.logger.log("Step 3: ICE candidate handler set up.");a.logger.log("Step 4: Creating and sending SDP offer.");const h=yield UPf(a,d,c);f=h.sessionId;a.logger.log(`Step 4: SDP offer sent. Received answer with session ID: ${f}`);yield a.ka.setRemoteDescription({type:h.swc,sdp:h.r_c});a.logger.log("Step 4: Remote description set with SDP answer.");if(a.lb){const t=a.ka,v=h.K$c.map(x=>({candidate:x.candidate,sdpMid:x.sdpMid,sdpMLineIndex:x.sdpMLineIndex}));(yield Promise.allSettled(v.map(x=>
t.addIceCandidate(x)))).forEach((x,B)=>{a.logger.log(`Step 4b: Adding VM ICE candidate ${JSON.stringify( __get$(v,B) )}: ${JSON.stringify(x)}`)})}g.length>0?a.logger.log(`Step 5: Signaling ${g.length} queued ICE candidates.`):a.logger.log("Step 5: No ICE candidates were queued.");yield TPf(a,c,f,g);g.length=0;a.logger.log("VNC connection process completed successfully.")}catch(d){throw a.logger.log(`Error during VNC connection: ${d}`),a.zl(),a.ma.next("disconnected"),d;}}})};
WPf=function(a){a=a.toLowerCase();return a.includes("ice")?1:a.includes("sdp")||a.includes("offer")||a.includes("answer")?2:a.includes("data channel")?3:a.includes("peer connection")?4:a.includes("timeout")?5:0};
SPf=function(a,b,c){a.logger.log("Starting RFB setup.");let d;var e=((d=window.noVNC)==null?0:d.default)?new window.noVNC.default(b.Oa,c):null;a.ha=e;a.ha?(a.na=c,a.ha.viewOnly=!0,a.ha.showDotCursor=!0,a.ha.scaleViewport=!0,a.ha.background="transparent",a.Fa&&(a.logger.log("Setting up data stream watcher."),a.na&&(a.na.onmessage=a.nb.bind(a),a.na.onclose=a.Ca.bind(a))),a.ha.addEventListener("connect",a.Sa),a.ha.addEventListener("disconnect",a.Ba),a.logger.log("RFB instance created and initialized.")):
(a.logger.log("Failed to create RFB instance."),a.qa.reportError(Error("qp")))};TPf=function(a,b,c,d){return _.ze(function*(){a.logger.log(`Signaling ${d.length} ICE candidates for session ${c}.`);yield _.CA(a.Ea.yxb(_.cPf(b),d.map(e=>({sessionId:c,candidate:e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex}))));a.logger.log("ICE candidates successfully signaled.")})};
UPf=function(a,b,c){return _.ze(function*(){if(!a.ka)throw a.logger.log("Error: Peer connection not initialized when creating SDP offer."),Error("rp");a.logger.log("Creating SDP offer.");var d=yield a.ka.createOffer();yield a.ka.setLocalDescription(d);a.logger.log("SDP offer created and set as local description.");a.logger.log("Sending SDP offer to WebRTC API.");d=yield _.CA(DPf(a.Ea,_.cPf(c),{iceServers:b,s_c:d.sdp||"",ZUc:d.type}));a.logger.log("SDP offer sent and answer received.");return d})};
_.Y5=class{constructor(){this.Ea=_.u(FPf);this.qa=_.u(_.WF);_.u(PPf);this.Ya=_.u(_.EE);this.logger=_.u(_.$G);this.ha=this.wa=this.na=this.ka=null;this.ma=new _.Fy("disconnected");this.v2=_.Ey(this.ma);this.Za=CPf(this.Ea);this.va=_.u(_.jz);this.Pa=this.va.Aa(_.RUb);this.ab=this.va.Aa(_.VUb);this.Fa=this.va.Aa(_.UUb);this.Qa=this.va.Aa(_.OUb);this.lb=this.va.Aa(_.eVb);this.oa=0;this.Sa=()=>{this.ma.next("connected-view-only");this.logger.log("VNC RFB connected. State: CONNECTED_VIEW_ONLY.");QPf(this,
2);this.oa=0;this.Fa&&(this.logger.log("Connection established. Starting data stream timer."),RPf(this));if(this.Pa)try{const a={dynamoEvent:"pageLoaded"};_.X5!==void 0?sPf(a):tPf()&&uPf(a)}catch(a){}};this.Ba=()=>{this.Ca();this.ma.value==="disconnected"?this.logger.log("VNC RFB already disconnected. Aborting reconnection attempt."):(this.ma.next("disconnected"),this.logger.log("VNC RFB disconnected. Initiating cleanup."),this.zl(),this.oa>=5?(this.logger.log("VNC RFB disconnected. Max retries reached. Aborting reconnection attempt."),
vPf()):(this.oa++,this.logger.log("Attempting to reconnect..."),this.bAa&&this.metadata?this.connect(this.bAa,this.metadata,!0):this.logger.log("Cannot reconnect: viewerScreen or metadata not available.")))}}connect(a,b,c=!1){const d=this;return _.ze(function*(){c||(QPf(d,1),d.logger.log("External call to connect method. Resetting retry count."),d.oa=0);d.bAa=a;d.metadata=b;for(let e=1;e<=5;e++)try{yield VPf(d,a,b);d.logger.log(`Connection attempt ${e} succeeded.`);break}catch(f){d.logger.log(`Connection attempt ${e} of ${5} failed: ${f}`),
e===5&&(d.logger.log(`Connection attempt ${e} of ${5} failed. Aborting connection process.`),d.Pa&&vPf(),QPf(d,3,WPf(f instanceof Error?f.message:String(f)),e-1),d.qa.reportError(Error("np"))),yield new Promise(g=>{setTimeout(g,2E3)})}})}nP(a){const b=this;return _.ze(function*(){b.logger.log(`Waiting to take control. Current state: ${b.ma.value}`);try{yield _.CA(b.ma.pipe(_.Zv(d=>d==="connected-view-only"),_.zv(1),_.UA(15E3)))}catch(d){d instanceof _.Mpb?(b.logger.log("Timeout while waiting to take control."),
b.qa.reportError(Error("op"))):(b.logger.log(`Error while waiting to take control: ${d}`),b.qa.reportError(Error("pp`"+d)));vPf();return}let c;if(((c=b.metadata)==null?void 0:c.id)!==a.id){let d;b.logger.log(`Cannot take control: ComputerUseMetadata id mismatch. Current: ${(d=b.metadata)==null?void 0:d.id}, Requested: ${a.id}`)}else b.ha!==null&&(b.ha.viewOnly=!1,b.logger.log("RFB viewOnly set to false (taking control).")),b.ma.next("connected-full-control"),b.logger.log("Connection state set to CONNECTED_FULL_CONTROL.")})}jL(){this.ma.value!==
"connected-full-control"?this.logger.log(`Cannot relinquish control. Current state: ${this.ma.value}`):(this.ha!==null&&(this.ha.viewOnly=!0,this.logger.log("RFB viewOnly set to true (relinquishing control).")),this.ma.next("connected-view-only"),this.logger.log("Connection state set to CONNECTED_VIEW_ONLY."))}disconnect(){this.logger.log("Disconnect method called. Initiating cleanup and setting state to DISCONNECTED.");this.zl();this.ma.next("disconnected")}zl(){this.logger.log("Starting cleanup process.");
this.Ca();this.ha&&(this.ha.removeEventListener("connect",this.Sa),this.ha.removeEventListener("disconnect",this.Ba),this.ha.disconnect(),this.ha=null,this.logger.log("noVNC RFB instance disconnected and cleaned up."));this.ka&&(this.ka.close(),this.ka=null,this.logger.log("WebRTC peer connection closed and cleaned up."));this.na=null;this.logger.log("Cleanup process complete.")}Ca(){this.wa&&(clearTimeout(this.wa),this.wa=null)}nb(a){if(this.Fa){a=a.data;var b=!1;typeof a==="string"?b=a.length===
0:a instanceof Blob?b=a.size===0:a instanceof ArrayBuffer?b=a.byteLength===0:ArrayBuffer.isView(a)&&(b=a.byteLength===0);b?this.logger.log("Received empty data stream message, not resetting timer."):RPf(this)}}};_.Y5.ua=function(a){return new (a||_.Y5)};_.Y5.Ua=_.zw({token:_.Y5,Ra:_.Y5.ua,Va:"root"});var XPf={Joa:{},LG:void 0,Xva:[],O9:!1,iPb:[],uKa:!1};var YPf;_.Z5=_.TM("computer-use");YPf=_.SM(_.Z5,a=>a.LG);_.SM(_.Z5,a=>a.Joa);var ZPf=_.SM(_.Z5,a=>{const b=a==null?void 0:a.LG;if(b){var c;return(c= __get$(a.Joa,b) )==null?void 0:c.metadata}}),$Pf=_.SM(_.Z5,a=>a.Xva),aQf=_.SM(_.Z5,a=>a.O9),bQf=_.SM(_.Z5,a=>a.uKa);var cQf=class{constructor(){this.store=_.u(_.bB);this.Ka=_.u(_.AO);this.ka=_.u(_.KO);this.qa=_.u(_.Y5);this.ma=_.u(_.aN);this.ha=_.u(_.NE);this.oa=_.u(_.QH);this.na=_.u(_.F3);this.clearComputerUseStateOnCurrentConversationChangeObs=_.YM(()=>this.Ka.wk.pipe(_.fw(),_.Zv( _hh$temp5=>{var _hh$temp6=__arrayFrom$(_hh$temp5),a=_hh$temp6[0];return!!a;} ),_.r(()=>{_.JO(this.ka,3);return OPf()})));this.openComputerUsePanelIfLastTurnContainsComputerUseMetadataObs=_.YM(()=>this.ma.pipe(_.XM(HPf),_.WA(this.Ka.Id||_.Qv(void 0),this.ha.Zc||_.Qv({}),this.oa.Mb,this.store.select(ZPf),
this.store.select($Pf)),_.Zv(( _hh$temp7 )=>{ var _hh$temp8=__arrayFrom$(_hh$temp7),a=_hh$temp8[1],b=_hh$temp8[2]; const c=b==null?void 0:b["cloud-vm-request-id"];let d,e;return(b==null?void 0:b["full-screen"])==="true"&&!!c||!!(a==null?0:(d=a.response.Wa)==null?0:(e=d.Fc)==null?0:e.Fo)}),_.r(( _hh$temp9 )=>{ var _hh$temp10=__arrayFrom$(_hh$temp9),a=_hh$temp10[1],b=_hh$temp10[2],c=_hh$temp10[3],d=_hh$temp10[4],e=_hh$temp10[5]; if(b=b==null?void 0:b["cloud-vm-request-id"])_.IO(this.ka,{type:3,id:b},!0);else{let f,g;a=a==null?void 0:(f=a.response.Wa)==null?void 0:(g=f.Fc)==null?void 0:g.Fo;e=e.includes((a==null?void 0:a.id)||"");(d==null?void 0:d.id)===(a==null?void 0:a.id)||e||_.IO(this.ka,
{type:3,id:(a==null?void 0:a.id)||""},c)}})),{dispatch:!1});this.loadComputerUseMetadataFromConversationObs=_.YM(()=>this.Ka.Wd.pipe(_.r(a=>HPf({Xe:a}))));this.takeControlObs=_.YM(()=>this.ma.pipe(_.XM(KPf),_.BN(()=>[this.store.select(ZPf)]),_.WA(this.na.ha),_.mw(( _hh$temp11 )=>{ var _hh$temp12=__arrayFrom$(_hh$temp11),_hh$temp12$i0=__arrayFrom$(_hh$temp12[0]),a=_hh$temp12$i0[1],b=_hh$temp12[1]; b&&_.qwf(this.na,"",1);return _.Qv(a)}),_.ow(a=>{_.IO(this.ka,{type:3,id:(a==null?void 0:a.id)||""},!0);a&&this.qa.nP(a)})),{dispatch:!1});this.relinquishControlObs=_.YM(()=>this.ma.pipe(_.XM(LPf),_.BN(()=>[this.store.select(ZPf),
this.oa.Mb]),_.r(( _hh$temp13 )=>{ var _hh$temp14=__arrayFrom$(_hh$temp13),a=_hh$temp14[1],b=_hh$temp14[2]; this.qa.jL();_.IO(this.ka,{type:3,id:(a==null?void 0:a.id)||""},b)})),{dispatch:!1})}};cQf.ua=function(a){return new (a||cQf)};cQf.Ua=_.zw({token:cQf,Ra:cQf.ua});var dQf=[_.VM(HPf,(a, _hh$temp15 )=>{ var b=_hh$temp15.Xe; const c= __call$(Object,"assign",[{},a.Joa]) ,d=new Set([...a.iPb]);for(const e of b.Xb){b=e.response.mb;const f=e.response.Wa;if(f&&!d.has(b)){let g;if((g=f.Fc)==null?0:g.Fo) __set$(c,b,{metadata:f.Fc.Fo}) ;f.hf!=="PARTIAL"&&d.add(b)}}return  __call$(Object,"assign",[{},a,{Joa:c,iPb:[...d]}]) }),_.VM(IPf, (a,_hh$temp16)=>{var b=_hh$temp16.id,c=_hh$temp16.fullScreen;return a.LG!==b?__call$(Object,"assign",[{},a,{LG:b,O9:!1,uKa:!!c}]):__call$(Object,"assign",[{},a,{LG:b,uKa:!!c}]);} ),_.VM(JPf,a=> __call$(Object,"assign",[{},a,{Xva:a.LG&&!a.Xva.includes(a.LG)?[...a.Xva,a.LG]:a.Xva,LG:void 0,O9:!1,uKa:!1}]) ),_.VM(KPf, (a,_hh$temp17)=>{var b=_hh$temp17.id;return __call$(Object,"assign",[{},a,{LG:b,O9:!0}]);} ),_.VM(LPf,a=> __call$(Object,"assign",[{},a,{O9:!1}]) ),_.VM(_.MPf,a=> __call$(Object,"assign",[{},a,{O9:!0}]) ),_.VM(_.NPf,a=> __call$(Object,"assign",[{},a,{O9:!1}]) ),_.VM(OPf,()=>XPf)],eQf=_.WM(XPf,...dQf);var fQf=_.$M("ComputerUseNgrxFeatureEnv",{feature:_.UM({name:"computer-use",Eq:eQf}),Yv:[cQf]});var hQf,iQf;
_.gQf=new Map([["https://default-bard-run-dev.corp.goog",(0,_.fe)`https://default-bard-run-dev.corp.goog`],["https://vnc-000-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-000-bard-run-dev.corp.goog`],["https://vnc-001-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-001-bard-run-dev.corp.goog`],["https://vnc-002-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-002-bard-run-dev.corp.goog`],["https://vnc-003-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-003-bard-run-dev.corp.goog`],["https://vnc-004-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-004-bard-run-dev.corp.goog`],
["https://vnc-005-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-005-bard-run-dev.corp.goog`],["https://vnc-006-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-006-bard-run-dev.corp.goog`],["https://vnc-007-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-007-bard-run-dev.corp.goog`],["https://vnc-008-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-008-bard-run-dev.corp.goog`],["https://vnc-009-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-009-bard-run-dev.corp.goog`],["https://vnc-010-bard-run-dev.corp.goog",
(0,_.fe)`https://vnc-010-bard-run-dev.corp.goog`],["https://vnc-011-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-011-bard-run-dev.corp.goog`],["https://vnc-012-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-012-bard-run-dev.corp.goog`],["https://vnc-013-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-013-bard-run-dev.corp.goog`],["https://vnc-014-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-014-bard-run-dev.corp.goog`],["https://vnc-015-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-015-bard-run-dev.corp.goog`],
["https://vnc-016-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-016-bard-run-dev.corp.goog`],["https://vnc-017-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-017-bard-run-dev.corp.goog`],["https://vnc-018-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-018-bard-run-dev.corp.goog`],["https://vnc-019-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-019-bard-run-dev.corp.goog`],["https://vnc-020-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-020-bard-run-dev.corp.goog`],["https://vnc-021-bard-run-dev.corp.goog",
(0,_.fe)`https://vnc-021-bard-run-dev.corp.goog`],["https://vnc-022-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-022-bard-run-dev.corp.goog`],["https://vnc-023-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-023-bard-run-dev.corp.goog`],["https://vnc-024-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-024-bard-run-dev.corp.goog`],["https://vnc-025-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-025-bard-run-dev.corp.goog`],["https://vnc-026-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-026-bard-run-dev.corp.goog`],
["https://vnc-027-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-027-bard-run-dev.corp.goog`],["https://vnc-028-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-028-bard-run-dev.corp.goog`],["https://vnc-029-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-029-bard-run-dev.corp.goog`],["https://vnc-030-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-030-bard-run-dev.corp.goog`],["https://vnc-031-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-031-bard-run-dev.corp.goog`],["https://vnc-032-bard-run-dev.corp.goog",
(0,_.fe)`https://vnc-032-bard-run-dev.corp.goog`],["https://vnc-033-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-033-bard-run-dev.corp.goog`],["https://vnc-034-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-034-bard-run-dev.corp.goog`],["https://vnc-035-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-035-bard-run-dev.corp.goog`],["https://vnc-036-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-036-bard-run-dev.corp.goog`],["https://vnc-037-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-037-bard-run-dev.corp.goog`],
["https://vnc-038-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-038-bard-run-dev.corp.goog`],["https://vnc-039-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-039-bard-run-dev.corp.goog`],["https://vnc-040-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-040-bard-run-dev.corp.goog`],["https://vnc-041-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-041-bard-run-dev.corp.goog`],["https://vnc-042-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-042-bard-run-dev.corp.goog`],["https://vnc-043-bard-run-dev.corp.goog",
(0,_.fe)`https://vnc-043-bard-run-dev.corp.goog`],["https://vnc-044-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-044-bard-run-dev.corp.goog`],["https://vnc-045-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-045-bard-run-dev.corp.goog`],["https://vnc-046-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-046-bard-run-dev.corp.goog`],["https://vnc-047-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-047-bard-run-dev.corp.goog`],["https://vnc-048-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-048-bard-run-dev.corp.goog`],
["https://vnc-049-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-049-bard-run-dev.corp.goog`],["https://vnc-050-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-050-bard-run-dev.corp.goog`],["https://vnc-051-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-051-bard-run-dev.corp.goog`],["https://vnc-052-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-052-bard-run-dev.corp.goog`],["https://vnc-053-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-053-bard-run-dev.corp.goog`],["https://vnc-054-bard-run-dev.corp.goog",
(0,_.fe)`https://vnc-054-bard-run-dev.corp.goog`],["https://vnc-055-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-055-bard-run-dev.corp.goog`],["https://vnc-056-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-056-bard-run-dev.corp.goog`],["https://vnc-057-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-057-bard-run-dev.corp.goog`],["https://vnc-058-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-058-bard-run-dev.corp.goog`],["https://vnc-059-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-059-bard-run-dev.corp.goog`],
["https://vnc-060-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-060-bard-run-dev.corp.goog`],["https://vnc-061-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-061-bard-run-dev.corp.goog`],["https://vnc-062-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-062-bard-run-dev.corp.goog`],["https://vnc-063-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-063-bard-run-dev.corp.goog`],["https://vnc-064-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-064-bard-run-dev.corp.goog`],["https://vnc-065-bard-run-dev.corp.goog",
(0,_.fe)`https://vnc-065-bard-run-dev.corp.goog`],["https://vnc-066-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-066-bard-run-dev.corp.goog`],["https://vnc-067-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-067-bard-run-dev.corp.goog`],["https://vnc-068-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-068-bard-run-dev.corp.goog`],["https://vnc-069-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-069-bard-run-dev.corp.goog`],["https://vnc-070-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-070-bard-run-dev.corp.goog`],
["https://vnc-071-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-071-bard-run-dev.corp.goog`],["https://vnc-072-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-072-bard-run-dev.corp.goog`],["https://vnc-073-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-073-bard-run-dev.corp.goog`],["https://vnc-074-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-074-bard-run-dev.corp.goog`],["https://vnc-075-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-075-bard-run-dev.corp.goog`],["https://vnc-076-bard-run-dev.corp.goog",
(0,_.fe)`https://vnc-076-bard-run-dev.corp.goog`],["https://vnc-077-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-077-bard-run-dev.corp.goog`],["https://vnc-078-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-078-bard-run-dev.corp.goog`],["https://vnc-079-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-079-bard-run-dev.corp.goog`],["https://vnc-080-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-080-bard-run-dev.corp.goog`],["https://vnc-081-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-081-bard-run-dev.corp.goog`],
["https://vnc-082-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-082-bard-run-dev.corp.goog`],["https://vnc-083-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-083-bard-run-dev.corp.goog`],["https://vnc-084-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-084-bard-run-dev.corp.goog`],["https://vnc-085-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-085-bard-run-dev.corp.goog`],["https://vnc-086-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-086-bard-run-dev.corp.goog`],["https://vnc-087-bard-run-dev.corp.goog",
(0,_.fe)`https://vnc-087-bard-run-dev.corp.goog`],["https://vnc-088-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-088-bard-run-dev.corp.goog`],["https://vnc-089-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-089-bard-run-dev.corp.goog`],["https://vnc-090-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-090-bard-run-dev.corp.goog`],["https://vnc-091-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-091-bard-run-dev.corp.goog`],["https://vnc-092-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-092-bard-run-dev.corp.goog`],
["https://vnc-093-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-093-bard-run-dev.corp.goog`],["https://vnc-094-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-094-bard-run-dev.corp.goog`],["https://vnc-095-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-095-bard-run-dev.corp.goog`],["https://vnc-096-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-096-bard-run-dev.corp.goog`],["https://vnc-097-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-097-bard-run-dev.corp.goog`],["https://vnc-098-bard-run-dev.corp.goog",
(0,_.fe)`https://vnc-098-bard-run-dev.corp.goog`],["https://vnc-099-bard-run-dev.corp.goog",(0,_.fe)`https://vnc-099-bard-run-dev.corp.goog`]]);hQf=new _.Ww("VM_TIMER_FACTORY",{Va:"root",Ra:()=>()=>_.vv(0,6E4)});_.jQf=function(a,b){const c=!b||(new Date(b)).getTime()<Date.now();c||!a.F5a?b="":b?(a=iQf(b,"minutes"),b=iQf(b,"hours"),b=a<=0?"":b>=1?b===1?"1 hour":`${b}`+" hours":a===1?"1 min":`${a}`+" mins"):b="";return{Kra:c,h6a:b}};
_.kQf=function(a,b){return _.Rv([a.Ba.ha,a.Ka.Id]).pipe(_.r(( _hh$temp18 )=>{ var _hh$temp19=__arrayFrom$(_hh$temp18),c=_hh$temp19[0],d=_hh$temp19[1]; const e=_.jQf(a,b.z2a).Kra;let f;d=!!d&&((f=d.response)==null?void 0:f.mb)===b.id;return e&&b.Iya?"Browser timed out":b.Iya&&d?"Browser paused":c&&d?"Using browser...":"Browser"}),_.dw())};iQf=function(a,b){a=a.getTime()-Date.now();if(a<0)return 0;a/=6E4;return b==="minutes"?Math.ceil(a):Math.floor(a/60)};
_.$5=class{constructor(){this.store=_.u(_.bB);this.Ka=_.u(_.AO);this.na=_.u(_.KO);this.va=_.u(_.jz);this.Ma=_.u(_.Gx);this.ha=_.u(_.NE);this.Ca=_.u(_.QH);this.dialog=_.u(_.uE);this.qa=_.u(_.VG);this.Ba=_.u(_.F3);this.Sa=_.u(hQf);this.ma=!1;this.oa=this.store.select(YPf);this.oa.pipe(_.r(a=>!!a));this.ka=this.store.select(ZPf).pipe(_.dw());this.Lza=this.store.select(aQf);this.d4a=this.ha.Zc.pipe(_.r(a=>(a==null?void 0:a["full-screen"])==="true"));this.Ea=this.store.select(bQf);this.Gab=this.Ka.ri;
this.F5a=this.va.Aa(_.XUb);this.Fa=this.ka.pipe(_.r(a=>a==null?void 0:a.z2a),_.dw());this.Qa=this.Sa().pipe(_.lw(0));this.wa=_.Rv([this.Fa,this.Qa]).pipe(_.r( _hh$temp20=>{var _hh$temp21=__arrayFrom$(_hh$temp20),a=_hh$temp21[0];return _.jQf(this,a);} ),_.dw((a,b)=>a.Kra===b.Kra&&a.h6a===b.h6a),_.jw({bufferSize:1,Kb:!0}),_.YA(this.Ma));this.Pa=this.wa.pipe(_.r(a=>a.Kra),_.dw());_.u(fQf);_.HO(this.na,3).pipe(_.YA(this.Ma)).subscribe(a=>{switch(a.action){case 1:this.ma||this.store.dispatch(JPf());this.ma=!1;break;case 0:this.ma=!1,a.Gr&&a.Gr.type===3&&a.Gr.id&&this.store.dispatch(IPf({id:a.Gr.id,
fullScreen:!!a.fullScreen}))}})}nP(a){const b=this;return _.ze(function*(){b.ma=!0;const c=b.va.Aa(_.YUb),d=yield _.CA(xPf(b.qa));if(c&&d){var e;if((e=yield _.CA(b.dialog.open(GPf).qe()))==null?0:e.t2)b.qa.ha.setValue("disable_take_control_disclaimer",!0),b.store.dispatch(KPf({id:a}))}else b.store.dispatch(KPf({id:a}))})}jL(a,b){a&&this.Ka.Ud({textQuery:b||"Resume",ig:!1,yg:!1,ld:this.Ka.Xf(),Uc:{Fo:{wPc:!0}}});this.store.dispatch(LPf())}};_.$5.ua=function(a){return new (a||_.$5)};
_.$5.Ua=_.zw({token:_.$5,Ra:_.$5.ua,Va:"root"});
_.C8=class{constructor(){this.va=_.u(_.jz);this.ha=_.u(_.pA);this.ka=_.u(_.SF)}};_.C8.prototype.Wwa=_.aa(618);_.C8.prototype.ppa=_.aa(616);_.C8.ua=function(a){return new (a||_.C8)};_.C8.Ua=_.zw({token:_.C8,Ra:_.C8.ua,Va:"root"});var RYg=_.FA("PersistentLoginApi",_.C8,_.EA("PersistentLoginApiFake"));_.D8=class{constructor(){this.ka=_.u(RYg);this.ha=_.u(_.WF)}};_.D8.prototype.Wwa=_.aa(617);_.D8.prototype.ppa=_.aa(615);_.D8.ua=function(a){return new (a||_.D8)};_.D8.Ua=_.zw({token:_.D8,Ra:_.D8.ua,Va:"root"});
_.dd("ZoLPLb");

var SYg=function(a){a&1&&(_.ly(0,"div",3)(1,"span",4),_.M(2,1),_.my()())},TYg=function(a){a&1&&_.I(0,"mat-progress-spinner",24)},UYg=function(a){a&1&&_.I(0,"mat-icon",25)},VYg=function(a){a&1&&(_.G(0,"span",28),_.M(1,8),_.H());a&2&&(_.R(2),a=_.O(16),_.A(),_.eJ(a),_.fJ(1))},WYg=function(a){if(a&1){const b=_.w();_.G(0,"button",31);_.P("click",function(){_.y(b);const c=_.R(2);return _.z(c.jL())});_.M(1,9);_.H()}a&2&&(a=_.R(2),_.F("ve",a.Da.I9b)("veImpression",!0)("veClick",!0))},XYg=function(a){if(a&
1){const b=_.w();_.G(0,"button",32);_.P("click",function(){_.y(b);const c=_.R(2);return _.z(c.closePanel())});_.I(1,"mat-icon",33);_.H()}a&2&&(a=_.R(2),_.F("ve",a.Da.H9b)("veImpression",!0)("veClick",!0))},YYg=function(a){a&1&&(_.G(0,"div",22)(1,"div",23),_.D(2,TYg,1,0,"mat-progress-spinner",24)(3,UYg,1,0,"mat-icon",25),_.G(4,"span",26),_.U(5),_.H()(),_.G(6,"div",27),_.D(7,VYg,2,1,"span",28),_.D(8,WYg,2,3,"button",29)(9,XYg,2,3,"button",30),_.H()());if(a&2){a=_.R();const b=_.O(2),c=_.O(4),d=_.O(6),
e=_.O(10),f=_.O(14),g=_.O(16);_.T("full-screen",d);_.A(2);_.E(c?2:3);_.A(3);_.Jz(f);_.A(2);_.E(a.F5a&&g?7:-1);_.A();_.E(b&&!e?8:b?-1:9)}},ZYg=function(a){a&1&&_.I(0,"vnc-viewer",34);a&2&&(_.R(),a=_.O(21),_.T("hidden",!a))},$Yg=function(a){a&1&&_.I(0,"iframe",35);if(a&2){_.R();a=_.O(0);const b=_.O(2),c=_.O(21);_.zy("pointer-events",b?"auto":"none");_.T("hidden",!c);_.F("src",a,_.pz)}},aZg=function(a){a&1&&_.I(0,"img",36);a&2&&(_.R(),a=_.O(0),_.F("src",a==null?null:a.url,_.Qx))},bZg=function(a){a&1&&
_.uz(0)},cZg=function(a){a&1&&_.sz(0,bZg,1,0,"ng-container",37);a&2&&(_.R(2),_.F("ngTemplateOutlet",_.Cz(59)))},dZg=function(a){a&1&&(_.N(0),_.X(1,"sig"),_.D(2,aZg,1,1,"img",36)(3,cZg,1,1,"ng-container"));a&2&&(a=_.uy(_.Y(1,1,_.R().fBc)),_.A(2),_.E((a==null?0:a.url)?2:3))},eZg=function(a){a&1&&_.uz(0)},fZg=function(a){a&1&&_.uz(0)},gZg=function(a){a&1&&_.sz(0,fZg,1,0,"ng-container",37);a&2&&(_.R(2),_.F("ngTemplateOutlet",_.Cz(53)))},hZg=function(a){a&1&&_.uz(0)},iZg=function(a){a&1&&_.uz(0)},jZg=
function(a){a&1&&(_.G(0,"div",38),_.sz(1,eZg,1,0,"ng-container",37),_.D(2,gZg,1,1,"ng-container"),_.sz(3,hZg,1,0,"ng-container",37)(4,iZg,1,0,"ng-container",37),_.H());if(a&2){_.R();a=_.Cz(47);const b=_.Cz(49),c=_.Cz(51),d=_.O(10),e=_.O(18),f=_.O(29);_.T("has-screenshots",f)("always-visible",e);_.A();_.F("ngTemplateOutlet",a);_.A();_.E(d?-1:2);_.A();_.F("ngTemplateOutlet",b);_.A();_.F("ngTemplateOutlet",c)}},kZg=function(a){a&1&&_.I(0,"div",21)},lZg=function(a){a&1&&_.uz(0)},mZg=function(a){a&1&&
_.sz(0,lZg,1,0,"ng-container",37);a&2&&(_.R(),_.F("ngTemplateOutlet",_.Cz(55)))},oZg=function(a){if(a&1){const b=_.w();_.G(0,"button",40);_.P("click",function(){_.y(b);const c=_.R(2);return _.z(nZg(c))});_.I(1,"mat-icon",41);_.H()}if(a&2){a=_.R(2);const b=_.O(30);_.F("disabled",b===0)("ve",a.Da.L9b)("veImpression",!0)("veClick",!0)}},pZg=function(a){a&1&&_.D(0,oZg,2,4,"button",39);if(a&2){_.R();a=_.O(23);const b=_.O(29);_.E(b&&!a?0:-1)}},qZg=function(a){if(a&1){const b=_.w();_.G(0,"button",43);_.P("click",
function(){_.y(b);const c=_.R(2);c.PM.set(c.PM()+1);return _.z()});_.I(1,"mat-icon",44);_.H()}if(a&2){a=_.R(2);const b=_.O(21),c=_.O(27),d=_.O(30);_.F("disabled",d===c.length-1||b)("ve",a.Da.K9b)("veImpression",!0)("veClick",!0)}},rZg=function(a){a&1&&_.D(0,qZg,2,4,"button",42);if(a&2){_.R();a=_.O(23);const b=_.O(29);_.E(b&&!a?0:-1)}},sZg=function(a,b){a&1&&_.I(0,"div",47);a&2&&(a=b.Rc,_.R(3),b=_.O(30),_.T("active",a===b))},tZg=function(a){a&1&&(_.G(0,"div",45),_.iy(1,sZg,1,2,"div",46,_.xC),_.H());
a&2&&(_.R(2),a=_.O(27),_.A(),_.ky(a))},uZg=function(a){a&1&&_.D(0,tZg,3,0,"div",45);if(a&2){_.R();a=_.O(21);const b=_.O(29);_.E(b&&!a?0:-1)}},vZg=function(a){if(a&1){const b=_.w();_.G(0,"button",50);_.P("click",function(){_.y(b);const c=_.R(2);return _.z(c.nP())});_.I(1,"mat-icon",51);_.G(2,"span",52);_.U(3);_.H()()}if(a&2){a=_.R(2);const b=_.O(18);_.F("ve",a.Da.M9b)("veImpression",!0)("veClick",!0);_.A(3);_.Jz(a.zHa?b:a.JGa)}},wZg=function(a){if(a&1){const b=_.w();_.G(0,"button",53);_.P("click",
function(){_.y(b);const c=_.R(2);c.e_.set(!0);c.PM.set(-1);return _.z()});_.I(1,"mat-icon",54);_.G(2,"span");_.M(3,10);_.H()()}a&2&&(a=_.R(2),_.F("ve",a.Da.J9b)("veImpression",!0)("veClick",!0))},xZg=function(a){a&1&&_.D(0,vZg,4,4,"button",48)(1,wZg,4,3,"button",49);if(a&2){_.R();a=_.O(19);const b=_.O(21),c=_.O(24),d=_.O(25);_.E(b&&c&&d?0:!b&&a?1:-1)}},zZg=function(a){if(a&1){const b=_.w();_.G(0,"div",57)(1,"div",58)(2,"button",59);_.X(3,"sig");_.P("click",function(){_.y(b);const c=_.R(3);return _.z(yZg(c))});
_.I(4,"mat-icon",60);_.H();_.G(5,"button",61);_.X(6,"sig");_.P("click",function(){_.y(b);const c=_.R(3);return _.z(yZg(c))});_.I(7,"mat-icon",51);_.H()();_.G(8,"div",62)(9,"button",63);_.P("click",function(){_.y(b);const c=_.R(3);return _.z(c.jL())});_.M(10,11);_.H()()()}a&2&&(a=_.R(3),_.A(2),_.T("selected",_.Y(3,10,a.Ita)),_.F("ve",a.Da.Rob)("veImpression",!0)("veClick",!0),_.A(3),_.T("selected",_.Y(6,12,a.n2a)),_.A(4),_.F("ve",a.Da.C9b)("veImpression",!0)("veClick",!0))},AZg=function(a){if(a&1){const b=
_.w();_.G(0,"button",67);_.P("click",function(){_.y(b);const c=_.R(4);return _.z(c.nP())});_.I(1,"mat-icon",51);_.G(2,"span",52);_.U(3);_.H()()}if(a&2){a=_.R(4);const b=_.O(18);_.F("ve",a.Da.F9b)("veImpression",!0)("veClick",!0);_.A(3);_.Jz(a.zHa?b:a.JGa)}},BZg=function(a){if(a&1){const b=_.w();_.G(0,"button",68);_.P("click",function(){_.y(b);const c=_.R(4);c.e_.set(!0);c.PM.set(-1);return _.z()});_.I(1,"mat-icon",54);_.G(2,"span");_.M(3,12);_.H()()}a&2&&(a=_.R(4),_.F("ve",a.Da.B9b)("veImpression",
!0)("veClick",!0))},CZg=function(a){if(a&1){const b=_.w();_.G(0,"button",69);_.P("click",function(){_.y(b);const c=_.R(4);return _.z(nZg(c))});_.I(1,"mat-icon",70);_.G(2,"span");_.M(3,13);_.H()()}a&2&&(a=_.R(4),_.F("ve",a.Da.G9b)("veImpression",!0)("veClick",!0))},DZg=function(a){a&1&&(_.D(0,AZg,4,4,"button",64)(1,BZg,4,3,"button",65),_.D(2,CZg,4,3,"button",66));if(a&2){_.R(3);a=_.O(21);const b=_.O(24),c=_.O(25),d=_.O(29);_.E(a&&b&&c?0:!a&&b?1:-1);_.A(2);_.E(d&&a?2:-1)}},EZg=function(a){a&1&&(_.G(0,
"div",56),_.D(1,zZg,11,14,"div",57),_.X(2,"sig"),_.gy(3,DZg,3,2),_.H());if(a&2){a=_.R(2);const b=_.O(2);_.T("in-control",b);_.A();_.E(b&&!_.Y(2,3,a.Ita)?1:b?-1:3)}},FZg=function(a){a&1&&_.D(0,EZg,4,5,"div",55);if(a&2){_.R();a=_.O(10);const b=_.O(19);_.E(a&&b?0:-1)}},GZg=function(a){if(a&1){const b=_.w();_.G(0,"keyboard-input-bar",71);_.P("onHideKeyboard",function(){_.y(b);const c=_.R();return _.z(yZg(c))});_.H()}},HZg=function(a){a&1&&(_.G(0,"div",72)(1,"div",73),_.I(2,"mat-icon",74),_.H()())},IZg=
class extends _.l{constructor(a){super(a)}},JZg=new _.hA("jTGBwf",class extends _.l{constructor(a){super(a)}},[_.Oi,!1,_.Pi,"/BardFrontendService.SaveVmProfile"]);_.C8.prototype.Wwa=_.ba(618,function(a){return this.va.Aa(_.SUb)?_.Vv(()=>{var b=this.ha,c=b.Ae,d=JZg.getInstance;var e=new IZg;var f=_.bPf(a);e=_.xf(e,_.aPf,1,f);return c.call(b,d.call(JZg,e))}).pipe(_.r(()=>{})):_.Qv(void 0)});_.D8.prototype.Wwa=_.ba(617,function(a){return this.ka.Wwa(a).pipe(_.$v(b=>{this.ha.reportError(b);return _.Qv(void 0)}))});
var KZg=function(a,b){a.ma.value!=="connected-full-control"?a.logger.log(`Cannot send text. Current state: ${a.ma.value}`):a.ha!==null&&(a.ha.clipboardPasteFrom(b),a.ha.sendKey(65507,"ControlLeft",!0),a.ha.sendKey(118,"KeyV",!0),a.ha.sendKey(118,"KeyV",!1),a.ha.sendKey(65507,"ControlLeft",!1),setTimeout(()=>{a.ha!==null&&a.ha.clipboardPasteFrom("")},500))},LZg=function(a){a.ma.value!=="connected-full-control"?a.logger.log(`Cannot send backspace. Current state: ${a.ma.value}`):a.ha!==null&&(a.ha.sendKey(65288,
"Backspace",!0),a.ha.sendKey(65288,"Backspace",!1))},MZg=function(a){return a.ka.pipe(_.r(b=>{b=b?(b=a.va.Aa(_.NUb)||b.host)?(b=_.gQf.get(b))?b:_.Rl(_.Sqa(_.me("bTPVLd"),_.Tl))||(0,_.fe)``:(0,_.fe)``:void 0;return b}))},NZg={DISCONNECTED:"disconnected",CONNECTING:"connecting",X7b:"connected-view-only",gbd:"connected-full-control",ERROR:"error"},OZg=["inputField"],PZg=function(a){KZg(a.srb,a.tq.value);a.tq.setValue("")},QZg=class{constructor(){this.srb=_.u(_.Y5);this.QRb=_.By();this.nLb=_.mz("inputField",
 __call$(Object,"assign",[{},{},{read:_.tx}]) );this.tq=new _.OP("");this.Da=_.UB}Nc(){let a;(a=this.nLb())==null||a.Oa.focus()}};QZg.ua=function(a){return new (a||QZg)};
QZg.Ja=_.C({type:QZg,Ga:[["keyboard-input-bar"]],Ib:function(a,b){a&1&&_.Az(b.nLb,OZg,5,_.tx);a&2&&_.Bz()},outputs:{QRb:"onHideKeyboard"},Ha:10,Ia:10,La:()=>[["inputField",""],[1,"chat-input-container"],["appearance","fill",1,"form-field"],["matInput","","placeholder","Send text","aria-label","Send text","data-test-id","keyboard-input",1,"input-field",3,"keyup.enter","formControl"],["mat-icon-button","","matPrefix","","aria-label","Hide keyboard","data-test-id","hide-keyboard-button",1,"gds-icon-m",
"keyboard-button",3,"click","ve","veImpression","veClick"],["fontIcon","keyboard_hide"],["mat-icon-button","","matSuffix","","aria-label","Send backspace","data-test-id","send-backspace-button",1,"gds-icon-m","keyboard-button",3,"click","ve","veImpression","veClick"],["fontIcon","backspace",1,"icon-filled"],["mat-icon-button","","matSuffix","","aria-label","Send text to virtual machine","data-test-id","send-button",1,"gds-icon-m","send-button",3,"click","ve","veImpression","veInputText"],["fontIcon",
"send",1,"icon-filled"]],template:function(a,b){a&1&&(_.G(0,"div",1)(1,"mat-form-field",2)(2,"input",3,0),_.P("keyup.enter",function(){return PZg(b)}),_.H(),_.G(4,"button",4),_.P("click",function(){b.QRb.emit(!0)}),_.I(5,"mat-icon",5),_.H(),_.G(6,"button",6),_.P("click",function(){LZg(b.srb)}),_.I(7,"mat-icon",7),_.H(),_.G(8,"button",8),_.P("click",function(){return PZg(b)}),_.I(9,"mat-icon",9),_.H()()());a&2&&(_.A(2),_.F("formControl",b.tq),_.A(2),_.F("ve",b.Da.Rob)("veImpression",!0)("veClick",
!0),_.A(2),_.F("ve",b.Da.D9b)("veImpression",!0)("veClick",!0),_.A(2),_.F("ve",b.Da.E9b)("veImpression",!0)("veInputText",!0))},dependencies:[_.AB,_.yB,_.Sz,_.RT,_.QT,_.XT,_.ZT,_.dU,_.cU,_.$P,_.tP,_.AP,_.QP,_.TB,_.SB],styles:[".chat-input-container[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100vw;background-color:#f0f0f0;box-shadow:0 -2px 5px rgba(0,0,0,.1);border-radius:var(--gem-sys-shape--corner-large-top);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;z-index:1000;-webkit-animation:_ngcontent-%COMP%_slideUp .3s ease-out;animation:_ngcontent-%COMP%_slideUp .3s ease-out}.chat-input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#888}.chat-input[_ngcontent-%COMP%]::-moz-placeholder{color:#888}.chat-input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#888}.chat-input[_ngcontent-%COMP%]::-ms-input-placeholder{color:#888}.chat-input[_ngcontent-%COMP%]::placeholder{color:#888}.form-field[_ngcontent-%COMP%]{border:1px solid var(--gem-sys-color--outline-variant);border-radius:var(--gem-sys-shape--corner-full);margin:var(--gem-sys-spacing--l);margin-bottom:var(--gem-sys-spacing--s);width:100%}mat-form-field[_ngcontent-%COMP%]    {--mdc-shape-small:28px}mat-form-field[_ngcontent-%COMP%]     .mat-mdc-form-field-subscript-wrapper{display:none}mat-form-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{background-color:var(--gem-sys-color--surface-container);border-radius:var(--gem-sys-shape--corner-full)}mat-form-field[_ngcontent-%COMP%]     div[matformfieldlineripple]{display:none}@-webkit-keyframes _ngcontent-%COMP%_slideUp{0%{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideUp{0%{-webkit-transform:translateY(100%);transform:translateY(100%)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@supports (bottom:env(keyboard-inset-height)){.chat-input-container[_ngcontent-%COMP%]{padding-bottom:calc(10px + env(keyboard-inset-height))}}.keyboard-button[_ngcontent-%COMP%], .send-button[_ngcontent-%COMP%]{border:none;padding:var(--gem-sys-spacing--m);border-radius:var(--gem-sys-shape--corner-full);background-color:transparent;color:var(--gem-sys-color--on-surface-variant)}"],
Na:0});var RZg=class extends _.tE{constructor(){super(...arguments);this.Da=_.UB;this.nf=new _.OP("",{jg:!0})}jL(){this.Tc.close({t2:!0,nf:this.nf.value})}};RZg.ua=(()=>{let a;return function(b){return(a||(a=_.rx(RZg)))(b||RZg)}})();
RZg.Ja=_.C({type:RZg,Ga:[["relinquish-control-dialogue"]],features:[_.rz],Ha:16,Ia:13,La:()=>[" Help Gemini understand what you changed "," Exit to chat ","\ufffd#15\ufffd\ufffd/#15\ufffd Resume ",[1,"container"],[1,"header"],["mat-dialog-title","",1,"title","gds-title-l"],["mat-icon-button","","mat-dialog-close","","matTooltip","Close","matTooltipPosition","below","aria-label","Close","data-test-id","close-button",1,"close-button",3,"ve","veImpression","veClick"],["fontIcon","close",1,"gds-icon-xl"],
["appearance","outline",1,"form-field"],["matInput","","aria-label","Provide steps you took while you were in control (Optional)","placeholder","Provide steps you took while you were in control (Optional)","data-test-id","text-input",1,"text-input",3,"formControl","ve","veImpression","veInputText"],["align","end"],["mat-button","","data-test-id","exit-to-chat-button",1,"gds-button-tonal",3,"click","ve","veImpression","veClick"],["mat-flat-button","","data-test-id","resume-button",1,"gds-button",3,
"click","ve","veImpression","veClick"],["fontIcon","play_arrow",1,"gds-icon-s","icon-filled"]],template:function(a,b){a&1&&(_.G(0,"div",3)(1,"div",4)(2,"div")(3,"h1",5),_.M(4,0),_.H()(),_.G(5,"button",6),_.I(6,"mat-icon",7),_.H()(),_.G(7,"mat-dialog-content")(8,"mat-form-field",8),_.I(9,"textarea",9),_.H()(),_.G(10,"mat-dialog-actions",10)(11,"button",11),_.P("click",function(){b.Tc.close({t2:!1,nf:""})}),_.M(12,1),_.H(),_.G(13,"button",12),_.P("click",function(){return b.jL()}),_.ry(14,2),_.I(15,
"mat-icon",13),_.sy(),_.H()()());a&2&&(_.A(5),_.F("ve",b.Da.N9b)("veImpression",!0)("veClick",!0),_.A(4),_.F("formControl",b.nf)("ve",b.Da.P9b)("veImpression",!0)("veInputText",!0),_.A(2),_.F("ve",b.Da.O9b)("veImpression",!0)("veClick",!0),_.A(2),_.F("ve",b.Da.Q9b)("veImpression",!0)("veClick",!0))},dependencies:[_.AB,_.yB,_.dE,_.bE,_.cE,_.pE,_.EF,_.mE,_.oE,_.nE,_.RT,_.QT,_.dU,_.cU,_.kQ,_.jQ,_.$P,_.tP,_.AP,_.QP,_.TB,_.SB],styles:['body[_ngcontent-%COMP%]{--gds-type-scale-default-wdth:"wdth" 100;--gds-type-scale-default-slnt:"slnt" 0;--gds-type-scale-default-rond:"ROND" 0}.container[_ngcontent-%COMP%]{background-color:var(--gem-sys-color--surface-container);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.header[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:0 var(--gem-sys-spacing--xl) var(--gem-sys-spacing--l) var(--gem-sys-spacing--xl)}.title[_ngcontent-%COMP%]{padding:0}.close-button[_ngcontent-%COMP%]{margin-top:var(--gem-sys-spacing--l)}mat-dialog-content[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:var(--gem-sys-spacing--l)}.form-field[_ngcontent-%COMP%]{--border-radius:20px;width:100%;--mat-form-field-filled-container-shape:var(--border-radius);--mat-form-field-outlined-outline-width:0;--mat-form-field-outlined-container-shape:var(--border-radius)}.form-field[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{border-radius:var(--border-radius);background-color:var(--gem-sys-color--surface-container-high)}.text-input[_ngcontent-%COMP%]{resize:none}.buttons[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:var(--gem-sys-spacing--m);-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}'],
Na:0});var SZg=function(a,b){const c=b.data.value;switch(b.data.dynamoEvent){case "sendTakeControlMessage":a.logger.log("Switching the interactive mode of the VM ",c);c?(a.ka.ka.pipe(_.YA(a.Ma),_.zv(1)).subscribe(d=>{d&&a.ha.nP(d)}),a.store.dispatch((0,_.MPf)())):(a.ha.jL(),a.store.dispatch((0,_.NPf)()));break;case "sendTakeControlKeyboardText":a.logger.log("Keyboard text received");KZg(a.ha,c);break;case "sendTakeControlBackspaceMessage":a.logger.log("Backspace message received");LZg(a.ha);break;case "sendDarkModeEnabled":a.logger.log("Dark mode enabled: ",
c),a.hc.QF(c?2:1)}},TZg=function(a){a.va.Aa(_.RUb)&&(_.X5&&(_.X5.onmessage=b=>{SZg(a,{data:JSON.parse(b.data)})}),window.addEventListener("message",b=>{b.origin=== __get$(window,"location") .origin&&SZg(a,b)}))},UZg=class{constructor(){this.ka=_.u(_.$5);this.ha=_.u(_.Y5);this.va=_.u(_.jz);this.logger=_.u(_.$G);this.store=_.u(_.bB);this.hc=_.u(_.sH);this.Ma=_.u(_.Gx)}};UZg.ua=function(a){return new (a||UZg)};UZg.Ua=_.zw({token:UZg,Ra:UZg.ua,Va:"root"});var VZg=["viewerScreen"],WZg=class{constructor(){this.ha=_.u(_.Y5);this.oa=_.u(UZg);this.ma=_.u(_.$5);this.logger=_.u(_.$G);this.uAa=NZg;this.v2=this.ha.v2;this.bAa=_.mz.required("viewerScreen");this.na=_.u(_.Gx);this.ka=void 0}Nc(){this.logger.log("Attempting to connect with VNC Service.");TZg(this.oa);this.ma.ka.pipe(_.Zv(a=>!!a),_.dw((a,b)=>(a==null?void 0:a.id)===(b==null?void 0:b.id)&&(a==null?void 0:a.n2)===(b==null?void 0:b.n2)),_.YA(this.na)).subscribe(a=>{this.ka&&this.ka!==(a==null?void 0:
a.n2)&&(this.logger.log("Cloud VM IP changed. Disconnecting from the old session."),this.ha.disconnect());(this.ka=a==null?void 0:a.n2)?this.ha.connect(this.bAa(),a):this.logger.log("Cloud VM IP is undefined. Not connecting.")})}tb(){this.logger.log("Attempting to disconnect with VNC Service.");this.ha.disconnect()}};WZg.ua=function(a){return new (a||WZg)};
WZg.Ja=_.C({type:WZg,Ga:[["vnc-viewer"]],Ib:function(a,b){a&1&&_.Az(b.bAa,VZg,5);a&2&&_.Bz()},Ha:5,Ia:5,La:()=>[["viewerScreen",""],"Preparing your browser...",["data-test-id","vnc-viewer-screen",1,"viewer-screen"],["data-test-id","vnc-viewer-loading-container",1,"loading-container"],[1,"loading-text","gds-label-l"]],template:function(a,b){a&1&&(_.ny(0,"div",2,0),_.D(2,SYg,3,0,"div",3),_.X(3,"async"),_.X(4,"async"));a&2&&(_.A(2),_.E(_.Y(3,1,b.v2)===b.uAa.CONNECTING||_.Y(4,3,b.v2)===b.uAa.DISCONNECTED?
2:-1))},dependencies:[_.Sz,_.sT,_.nC],styles:['[_nghost-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%}.viewer-screen[_ngcontent-%COMP%]{width:100%;height:100%}@-webkit-keyframes _ngcontent-%COMP%_animateGradient{0%{background-position:200%}to{background-position:0}}@keyframes _ngcontent-%COMP%_animateGradient{0%{background-position:200%}to{background-position:0}}.loading-container[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;overflow:hidden;border-radius:16px;width:100%;height:100%}.loading-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-100%;background:-webkit-gradient(linear,left top,right top,from(var(--bard-color-imagen-loading-gradient-step-1)),color-stop(var(--bard-color-imagen-loading-gradient-step-2)),color-stop(var(--bard-color-imagen-loading-gradient-step-3)),color-stop(var(--bard-color-imagen-loading-gradient-step-2)),color-stop(var(--bard-color-imagen-loading-gradient-step-1)),color-stop(var(--bard-color-imagen-loading-gradient-step-2)),color-stop(var(--bard-color-imagen-loading-gradient-step-3)),to(var(--bard-color-imagen-loading-gradient-step-2)));background:-webkit-linear-gradient(left,var(--bard-color-imagen-loading-gradient-step-1),var(--bard-color-imagen-loading-gradient-step-2),var(--bard-color-imagen-loading-gradient-step-3),var(--bard-color-imagen-loading-gradient-step-2),var(--bard-color-imagen-loading-gradient-step-1),var(--bard-color-imagen-loading-gradient-step-2),var(--bard-color-imagen-loading-gradient-step-3),var(--bard-color-imagen-loading-gradient-step-2));background:linear-gradient(90deg,var(--bard-color-imagen-loading-gradient-step-1),var(--bard-color-imagen-loading-gradient-step-2),var(--bard-color-imagen-loading-gradient-step-3),var(--bard-color-imagen-loading-gradient-step-2),var(--bard-color-imagen-loading-gradient-step-1),var(--bard-color-imagen-loading-gradient-step-2),var(--bard-color-imagen-loading-gradient-step-3),var(--bard-color-imagen-loading-gradient-step-2));background-size:200% 200%;-webkit-transform:rotate(33deg);transform:rotate(33deg);-webkit-animation:_ngcontent-%COMP%_animateGradient 4.3s linear infinite;animation:_ngcontent-%COMP%_animateGradient 4.3s linear infinite}.loading-container[_ngcontent-%COMP%] > .loading-text[_ngcontent-%COMP%]{position:relative}'],
Na:0});var XZg=["floatingContainer"],nZg=function(a){a.e_()?(a.e_.set(!1),YZg(a)):a.PM()>0&&a.PM.set(a.PM()-1)},yZg=function(a){a.Ita.set(!a.Ita());a.n2a.set(!a.n2a())},YZg=function(a){let b;const c=(b=a.jhb())==null?void 0:b.length;c&&a.PM.set(c-1)},ZZg=function(a){var b,c=(b=a.XEa())==null?void 0:b.Oa;if(c){b=c.offsetWidth-48;c=c.offsetHeight-24;var d=b;b/=1.25;b>c&&(b=c,d=b*1.25);a.tKb.set(`${d}px`);a.sKb.set(`${b}px`)}};
_.nNd=class{constructor(){this.ha=_.u(_.$5);this.Ma=_.u(_.Gx);this.va=_.u(_.jz);this.dialog=_.u(_.uE);this.ka=_.u(_.QH);this.ma=_.u(_.D8);this.na=_.u(_.Y5);this.Da=_.UB;this.XEa=_.mz("floatingContainer", __call$(Object,"assign",[{},{},{read:_.tx}]) );this.Ct=_.aB(this.ka.Mb,{initialValue:!1});this.tKb=_.yy("100%");this.sKb=_.yy("100%");this.JGa="Take control";this.FFc=this.va.Aa(_.bVb);this.xFc=this.va.Aa(_.aVb);this.CFb=this.va.Aa(_.cVb);this.zHa=this.va.Aa(_.$Ub);this.F5a=this.va.Aa(_.XUb);this.oa=this.va.Aa(_.TUb);
this.Fo=_.aB(this.ha.ka,{initialValue:void 0});this.wlb=_.aB(_.$A(this.Fo).pipe(_.mw(a=>a?a.title?_.Qv(a.title):_.kQf(this.ha,a):_.Qv("Browser"))),{initialValue:"Browser"});this.LKb=_.aB(this.ha.Ea,{initialValue:!1});this.d4a=this.ha.d4a;this.jhb=_.aB(this.ha.ka.pipe(_.r(a=>a==null?void 0:a.aWb)),{initialValue:void 0});this.uAa=NZg;this.v2=this.na.v2;this.L4b=_.aB(this.ha.Pa,{initialValue:!1});this.qGc=_.aB(this.ha.wa.pipe(_.r(a=>a.h6a)),{initialValue:""});this.e_=_.yy(!1);this.PM=_.yy(-1);this.Lza=
this.ha.Lza;_.aB(this.ha.Lza,{initialValue:!1});this.Gab=this.ha.Gab;this.ELc=MZg(this.ha);this.fBc=_.Z(()=>{if(!this.e_()){let a;return(a=this.jhb())==null?void 0:a.at(this.PM())}});this.Ita=_.yy(!1);this.n2a=_.yy(!0);_.cy(()=>{this.L4b()&&(this.e_.set(!1),YZg(this),this.ha.jL(!1,""))})}ngOnInit(){this.ha.oa.pipe(_.dw(),_.YA(this.Ma)).subscribe(()=>{this.e_.set(!0)});this.ha.Lza.pipe(_.dw(),_.YA(this.Ma)).subscribe(()=>{ZZg(this)})}Nc(){if(this.XEa()){this.Uh=new ResizeObserver(()=>{ZZg(this)});
let a;this.Uh.observe((a=this.XEa())==null?void 0:a.Oa)}this.Ma.Ue(()=>{let a;(a=this.Uh)==null||a.disconnect()})}nP(){let a,b;this.ha.nP((b=(a=this.Fo())==null?void 0:a.id)!=null?b:"")}jL(){const a=this.Fo();a&&this.ma.Wwa(_.cPf(a)).pipe(_.zv(1)).subscribe();this.oa?this.dialog.open(RZg).qe().pipe(_.YA(this.Ma)).subscribe(b=>{b&&this.ha.jL(b.t2,b.nf)}):this.ha.jL(!0,"")}closePanel(){_.JO(this.ha.na,3)}};_.nNd.ua=function(a){return new (a||_.nNd)};
_.nNd.Ja=_.C({type:_.nNd,Ga:[["computer-use-panel"]],Ib:function(a,b){a&1&&_.Az(b.XEa,XZg,5,_.tx);a&2&&_.Bz()},Vb:2,Pb:function(a,b){a&2&&_.T("fullscreen-panel",b.LKb())},Ha:60,Ia:65,La:()=>[["floatingContainer",""],["iframeContainer",""],["previousScreenshotButton",""],["nextScreenshotButton",""],["screenshotNavigationDots",""],["takeControlAndLiveViewButtons",""],["mobileWebButtons",""],["placeholderImage",""],"\ufffd0\ufffd to complete the task","End control","View Live","End control","View Live",
"View history",[1,"container"],[1,"header",3,"full-screen"],[1,"floating-container"],[1,"iframe-container"],[1,"vnc-viewer",3,"hidden"],[3,"hidden","pointer-events","src"],["data-test-id","scrim",1,"scrim",3,"has-screenshots","always-visible"],["data-test-id","mobile-scrim",1,"mobile-scrim"],[1,"header"],[1,"header-left"],["diameter","20","mode","indeterminate",1,"loading-spinner"],["fontIcon","explore",1,"icon","gds-icon-l"],[1,"title","gds-title-s"],[1,"header-right"],["data-test-id","expiration-time",
1,"expiration-time","gds-title-s"],["mat-flat-button","","data-test-id","relinquish-control-button",1,"gds-button-tonal","relinquish-control-button",3,"ve","veImpression","veClick"],["mat-icon-button","","matTooltip","Close panel","matTooltipPosition","below","aria-label","Close panel","data-test-id","close-button",1,"close-button",3,"ve","veImpression","veClick"],["mat-flat-button","","data-test-id","relinquish-control-button",1,"gds-button-tonal","relinquish-control-button",3,"click","ve","veImpression",
"veClick"],["mat-icon-button","","matTooltip","Close panel","matTooltipPosition","below","aria-label","Close panel","data-test-id","close-button",1,"close-button",3,"click","ve","veImpression","veClick"],["fontIcon","close",1,"gds-icon-l"],[1,"vnc-viewer"],[3,"src"],["alt","Screenshot of the virtual machine",1,"screenshot",3,"src"],[4,"ngTemplateOutlet"],["data-test-id","scrim",1,"scrim"],["mat-icon-button","","aria-label","View previous","data-test-id","previous-screenshot-button",1,"previous-screenshot-button",
"navigation-button",3,"disabled","ve","veImpression","veClick"],["mat-icon-button","","aria-label","View previous","data-test-id","previous-screenshot-button",1,"previous-screenshot-button","navigation-button",3,"click","disabled","ve","veImpression","veClick"],["fontIcon","chevron_left",1,"gds-icon-l","icon-filled"],["mat-icon-button","","aria-label","View next","data-test-id","next-screenshot-button",1,"next-screenshot-button","navigation-button",3,"disabled","ve","veImpression","veClick"],["mat-icon-button",
"","aria-label","View next","data-test-id","next-screenshot-button",1,"next-screenshot-button","navigation-button",3,"click","disabled","ve","veImpression","veClick"],["fontIcon","chevron_right",1,"gds-icon-l","icon-filled"],["data-test-id","screenshot-dots",1,"screenshot-dots"],[1,"dot",3,"active"],[1,"dot"],["mat-flat-button","","data-test-id","take-control-button",1,"gds-button-tonal","take-control-button",3,"ve","veImpression","veClick"],["mat-flat-button","","data-test-id","live-view-button",
1,"gds-button-tonal","live-view-button",3,"ve","veImpression","veClick"],["mat-flat-button","","data-test-id","take-control-button",1,"gds-button-tonal","take-control-button",3,"click","ve","veImpression","veClick"],["fontIcon","web_traffic",1,"gds-icon-m"],["data-test-id","take-control-button-label"],["mat-flat-button","","data-test-id","live-view-button",1,"gds-button-tonal","live-view-button",3,"click","ve","veImpression","veClick"],["fontIcon","youtube_live",1,"gds-icon-l","icon-filled"],[1,"bottom-container",
3,"in-control"],[1,"bottom-container"],[1,"in-control-container"],[1,"left-container"],["mat-icon-button","","data-test-id","keyboard-button",1,"keyboard-button","icon-button",3,"click","ve","veImpression","veClick"],["fontIcon","keyboard",1,"gds-icon-m"],["mat-icon-button","","data-test-id","click-button",1,"click-button","icon-button",3,"click"],[1,"right-container"],["mat-flat-button","","data-test-id","mobile-relinquish-control-button",1,"gds-button-tonal","mobile-relinquish-control-button",3,
"click","ve","veImpression","veClick"],["mat-flat-button","","data-test-id","mobile-take-control-button",1,"gds-button-tonal","mobile-take-control-button",3,"ve","veImpression","veClick"],["mat-flat-button","","data-test-id","mobile-live-view-button",1,"gds-button-tonal","mobile-live-view-button",3,"ve","veImpression","veClick"],["mat-flat-button","","data-test-id","mobile-view-history-button",1,"gds-button-tonal","mobile-view-history-button",3,"ve","veImpression","veClick"],["mat-flat-button","",
"data-test-id","mobile-take-control-button",1,"gds-button-tonal","mobile-take-control-button",3,"click","ve","veImpression","veClick"],["mat-flat-button","","data-test-id","mobile-live-view-button",1,"gds-button-tonal","mobile-live-view-button",3,"click","ve","veImpression","veClick"],["mat-flat-button","","data-test-id","mobile-view-history-button",1,"gds-button-tonal","mobile-view-history-button",3,"click","ve","veImpression","veClick"],["fontIcon","history",1,"gds-icon-m"],[3,"onHideKeyboard"],
["data-test-id","placeholder-image",1,"screenshot","placeholder-image"],[1,"icon"],["fontIcon","hide_image"]],template:function(a,b){a&1&&(_.N(0),_.X(1,"async"),_.N(2),_.X(3,"async"),_.N(4),_.X(5,"async"),_.N(6),_.X(7,"sig"),_.N(8),_.X(9,"async"),_.N(10),_.X(11,"sig"),_.N(12),_.X(13,"sig"),_.N(14),_.X(15,"sig"),_.N(16),_.X(17,"sig"),_.N(18)(19),_.X(20,"sig"),_.N(21),_.X(22,"sig"),_.N(23)(24)(25),_.X(26,"async"),_.N(27),_.X(28,"sig"),_.N(29)(30),_.X(31,"sig"),_.G(32,"div",14),_.D(33,YYg,10,6,"div",
15),_.G(34,"div",16,0)(36,"div",17,1),_.X(38,"sig"),_.X(39,"sig"),_.D(40,ZYg,1,2,"vnc-viewer",18)(41,$Yg,1,5,"iframe",19),_.D(42,dZg,4,4),_.D(43,jZg,5,8,"div",20),_.D(44,kZg,1,0,"div",21),_.H()(),_.D(45,mZg,1,1,"ng-container"),_.H(),_.sz(46,pZg,1,1,"ng-template",null,2,_.Lz)(48,rZg,1,1,"ng-template",null,3,_.Lz)(50,uZg,1,1,"ng-template",null,4,_.Lz)(52,xZg,2,1,"ng-template",null,5,_.Lz)(54,FZg,1,1,"ng-template",null,6,_.Lz),_.D(56,GZg,1,0,"keyboard-input-bar"),_.X(57,"sig"),_.sz(58,HZg,3,0,"ng-template",
null,7,_.Lz));if(a&2){a=_.uy(_.Y(1,15,b.ELc));_.A(2);const e=_.uy(_.Y(3,18,b.Lza));_.A(2);var c=_.uy(_.Y(5,21,b.Gab));_.A(2);const f=_.uy(_.Y(7,24,b.LKb)),g=_.Y(9,27,b.d4a);_.A(4);const h=_.uy(_.Y(11,29,b.Ct)&&!g);var d=_.Y(13,32,b.Fo);_.A(4);_.uy(_.Y(15,34,b.wlb));_.A(2);_.uy(_.Y(17,37,b.qGc));_.A(2);_.uy(d==null?null:d.Iya);_.A();d=_.uy(!_.Y(20,41,b.L4b));_.A(2);const t=_.uy(_.Y(22,44,b.e_)&&d);_.A(2);_.uy(h&&t);_.A();_.uy(a||b.CFb);_.A();_.uy(b.FFc&&(!c||b.xFc)&&_.Y(26,49,b.v2)===b.uAa.X7b);_.A(2);
c=_.uy(_.Y(28,52,b.jhb));_.A(2);_.uy(c&&c.length>0);_.A();_.uy(_.Y(31,56,b.PM));_.A(2);_.T("full-screen",f)("in-control",e);_.A();_.E(g?-1:33);_.A(3);_.zy("width",_.Y(38,59,b.tKb))("height",_.Y(39,61,b.sKb));_.A(4);_.E(b.CFb?40:a?41:-1);_.A(2);_.E(t?-1:42);_.A();_.E(e||g?-1:43);_.A();_.E(!e&&g?44:-1);_.A();_.E(h&&d?45:-1);_.A(11);_.E(h&&_.Y(57,63,b.Ita)?56:-1)}},dependencies:[_.AB,_.yB,_.Sz,_.Rz,QZg,_.dE,_.bE,_.cE,_.sT,_.rT,_.kQ,_.jQ,_.TB,_.SB,WZg,_.nC,_.iJ],styles:["[_nghost-%COMP%]{position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.fullscreen-panel[_nghost-%COMP%]{height:100dvh;left:0;position:fixed;top:0;width:100vw;z-index:2}.container[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:calc(100% - 2px);border:1px solid var(--gem-sys-color--surface-variant);border-radius:var(--gem-sys-shape--corner-large);padding-bottom:var(--gem-sys-spacing--xxl);margin-bottom:var(--gem-sys-spacing--xl)}@media only screen and (max-width:422px){.container.in-control[_ngcontent-%COMP%]{padding-bottom:0}}.container.full-screen[_ngcontent-%COMP%]{background-color:var(--gem-sys-color--surface-container);border:none;border-radius:0;margin-bottom:0;width:100%}.header[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--gem-sys-spacing--l);border-bottom:1px solid var(--gem-sys-color--surface-variant);-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.header.full-screen[_ngcontent-%COMP%]{border-bottom:none}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--gem-sys-spacing--m)}.header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--gem-sys-color--on-surface-variant)}.header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.expiration-time[_ngcontent-%COMP%]{color:var(--gem-sys-color--on-surface);overflow:hidden;text-align:right;text-overflow:ellipsis;padding-right:var(--gem-sys-spacing--s)}.floating-container[_ngcontent-%COMP%]{max-width:calc(100% - var(--gem-sys-spacing--xxl)*2);max-height:calc(100% - var(--gem-sys-spacing--xxl)*2);min-height:0;padding:var(--gem-sys-spacing--xxl);padding-bottom:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}.iframe-container[_ngcontent-%COMP%]{height:100%;width:100%;position:relative;border-radius:var(--gem-sys-shape--corner-large);overflow:hidden}.vnc-viewer[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%]{position:absolute;height:calc(100% + 2px);width:calc(100% + 2px);border:none;border-radius:var(--gem-sys-shape--corner-large);background-color:var(--gem-sys-color--surface-container)}.hidden[_ngcontent-%COMP%]{display:none}.screenshot[_ngcontent-%COMP%]{position:absolute;width:calc(100% + 2px);height:calc(100% + 2px);border-radius:var(--gem-sys-shape--corner-large)}.placeholder-image[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:var(--bard-color-image-placeholder-background)}.scrim[_ngcontent-%COMP%]{background:-webkit-gradient(linear,left top,left bottom,from(transparent),to(rgba(0,0,0,.4)));background:-webkit-linear-gradient(top,transparent,rgba(0,0,0,.4));background:linear-gradient(180deg,transparent,rgba(0,0,0,.4));border-radius:var(--gem-sys-shape--corner-large);position:absolute;top:0;left:0;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;opacity:0;-webkit-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}.scrim.has-screenshots[_ngcontent-%COMP%]{-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.mobile-scrim[_ngcontent-%COMP%]{background:transparent;border-radius:var(--gem-sys-shape--corner-large);position:absolute;top:0;left:0;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;opacity:0;-webkit-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}.iframe-container[_ngcontent-%COMP%]:hover   .mobile-scrim[_ngcontent-%COMP%], .iframe-container[_ngcontent-%COMP%]:hover   .scrim[_ngcontent-%COMP%]{opacity:1}.scrim.always-visible[_ngcontent-%COMP%]{opacity:1}.take-control-button[_ngcontent-%COMP%]{background-color:var(--gem-sys-color--secondary-container);color:var(--gem-sys-color--on-secondary-container);height:56px}.navigation-button[_ngcontent-%COMP%]{background-color:var(--gem-sys-color--surface-container);color:var(--gem-sys-color--on-surface-variant);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;width:56px;height:56px;padding:var(--gem-sys-spacing--xs);margin:var(--gem-sys-spacing--xl);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.navigation-button[_ngcontent-%COMP%]:hover{opacity:.8}.navigation-button[_ngcontent-%COMP%]:disabled{opacity:.3}.screenshot-dots[_ngcontent-%COMP%]{position:absolute;bottom:var(--gem-sys-spacing--xl);left:0;right:0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--gem-sys-spacing--xs)}.screenshot-dots[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:inline-block;height:6px;width:6px;border-radius:6px;background:var(--gem-sys-color--surface-container);opacity:.6}.screenshot-dots[_ngcontent-%COMP%]   .dot.active[_ngcontent-%COMP%]{width:14px;opacity:1}.live-view-button[_ngcontent-%COMP%]{background-color:var(--gem-sys-color--surface-container);color:var(--gem-sys-color--on-surface-variant);padding:var(--gem-sys-spacing--xxl);height:56px}.live-view-button.active[_ngcontent-%COMP%]{cursor:default}.live-view-button.active[_ngcontent-%COMP%]:hover{opacity:.8}.bottom-container[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:var(--gem-sys-spacing--m);width:auto;padding:var(--gem-sys-spacing--m) var(--gem-sys-spacing--m) 0 var(--gem-sys-spacing--m)}.bottom-container.in-control[_ngcontent-%COMP%]{padding:var(--gem-sys-spacing--m) 0 0 0}.bottom-container[_ngcontent-%COMP%]   .mobile-live-view-button[_ngcontent-%COMP%], .bottom-container[_ngcontent-%COMP%]   .mobile-take-control-button[_ngcontent-%COMP%], .bottom-container[_ngcontent-%COMP%]   .mobile-view-history-button[_ngcontent-%COMP%]{min-width:100px;max-width:320px;width:100%;height:48px;padding:var(--gem-sys-spacing--s) var(--gem-sys-spacing--l) var(--gem-sys-spacing--s) var(--gem-sys-spacing--m);-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:var(--gem-sys-spacing--s);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.bottom-container[_ngcontent-%COMP%]   .mobile-live-view-button[_ngcontent-%COMP%], .bottom-container[_ngcontent-%COMP%]   .mobile-take-control-button[_ngcontent-%COMP%]{background-color:var(--gem-sys-color--secondary-container);color:var(--gem-sys-color--on-secondary-container)}.bottom-container[_ngcontent-%COMP%]   .mobile-view-history-button[_ngcontent-%COMP%]{background-color:var(--gem-sys-color--surface);color:var(--gem-sys-color--on-surface)}.in-control-container[_ngcontent-%COMP%]{background-color:var(--gem-sys-color--surface-container-lowest);border-top-left-radius:var(--gem-sys-shape--corner-large);border-top-right-radius:var(--gem-sys-shape--corner-large);padding:var(--gem-sys-spacing--l);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;gap:var(--gem-sys-spacing--m);width:100%;max-width:390px}@media only screen and (min-width:423px){.in-control-container[_ngcontent-%COMP%]{border-radius:var(--gem-sys-shape--corner-large)}}.left-container[_ngcontent-%COMP%], .right-container[_ngcontent-%COMP%]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;gap:var(--gem-sys-spacing--m)}.icon-button[_ngcontent-%COMP%]{background-color:var(--gem-sys-color--surface-container-low)}.icon-button.selected[_ngcontent-%COMP%]{background:var(--gem-sys-color--primary-container)}.icon-button.selected[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:var(--gem-sys-color--on-primary-container)}"],
Na:0});

_.ed();
}catch(e){_._DumpException(e)}
}).call(this,this.default_BardChatUi);
// Google Inc.

/*hammerhead|script|end*/