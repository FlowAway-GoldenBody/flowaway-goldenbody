/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
var __spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)), __set$(u,r,__get$(t,r)) );return n.concat(u||Array.prototype.slice.call(t))},CopilotSearch;(function(n){var t;(function(n){function y(t){n.locStrings=t.locStrings;n.maxSuggestCount=t.maxSug;n.originalUrl= __get$(__get$(window,"location"),"href") }function p(){var n=_d.getElementsByClassName("b_dark"),t=_d.getElementsByClassName("b_drk");return n!=null&&n.length!=0||t!=null&&t.length!=0}function w(t,i){i===void 0&&(i=n.originalUrl);var f=new RegExp("[?&]{1}".concat(t,"=([^&]+)"),"i"),r=i.match(f),u=r?r[1]:null;return u?decodeURIComponent( __call$(u,"replace",[/\+/g," "]) ):""}function b(t,i){i===void 0&&(i=n.originalUrl);var u= __call$(decodeURIComponent(i),"replace",[/&amp;/gi,"&"]) ,f=new RegExp("[?&]{1}".concat(t,"=([^&]+)"),"i"),r=u.match(f);return r? __call$(r[1],"replace",[/\+/g," "]) :""}function u(n,t){for(var r=[],i=2;i<arguments.length;i++) __set$(r,i-2,__get$(arguments,i)) ;typeof Log!="undefined"&&Log.Log&&Log.Log.apply(Log,__spreadArray([n,"CopilotSearch",t,!0],r,!1))}function k(n){typeof Log!="undefined"&&Log.LogFilterFlare&&Log.LogFilterFlare([n])}function d(n,t,i,r,u){typeof Log!="undefined"&&Log.LogCustomData&&Log.LogCustomData(n,"CopilotSearch",t,i,r,u)}function g(n,t,i){for(var f=[],r=3;r<arguments.length;r++) __set$(f,r-3,__get$(arguments,r)) ;u.apply(void 0,__spreadArray([n,t,"OvrIG",i],f,!1))}function nt(n){var t,i;return n&&((i=(t=n.impressionID)!==null&&t!==void 0?t:n.shLoadingIg)!==null&&i!==void 0?i:n.ig)}function tt(n,t,i){var r= new URL(__get$(n,"href").toLowerCase()) ;r.searchParams.has(t.toLowerCase())||n.searchParams.set(t,i)}function f(){var n=_d.querySelector(".ca_turn:last-of-type");return n?n.getAttribute("turnid"):null}function e(){var n=_d.querySelector("#convId");return n?n.getAttribute("value"):null}function it(){var n=e(),t=f();return!n||!t?"":t+"-"+n}function rt(){function n(){var n=new Uint32Array(1);return window.crypto.getRandomValues(n),n[0]/4294967296}return __call$("xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx","replace",[/[xy]/g,function(t){var i=n()*16|0,r=t==="x"?i:i&3|8;return r.toString(16);}]) }function ft(n,t){var i,r=n.contentDocument||((i=n.contentWindow)===null||i===void 0?void 0:i.document);return r?r.querySelector(t):null}var r,o,s,h,c,l,a,v,t,i,ut;(function(n){ __set$(n,n.Error=0,"Error") ; __set$(n,n.FloatingZeroPage=1,"FloatingZeroPage") ; __set$(n,n.FloatCompose=2,"FloatCompose") ; __set$(n,n.Retry=3,"Retry") ; __set$(n,n.BlankInput=4,"BlankInput") })(o=n.CopilotSearchState||(n.CopilotSearchState={})),function(n){ __set$(n,n.Success=1,"Success") ; __set$(n,n.Failure=2,"Failure") ; __set$(n,n.InProgress=3,"InProgress") ; __set$(n,n.Default=16,"Default") }(s=n.ChipsGenerationStatus||(n.ChipsGenerationStatus={})),function(n){ __set$(n,n.IsRAIQueryBlocklist=1,"IsRAIQueryBlocklist") ; __set$(n,n.InitiatedGeneration=2,"InitiatedGeneration") ; __set$(n,n.IsComplete=3,"IsComplete") ; __set$(n,n.PapyrusRequestCreation=4,"PapyrusRequestCreation") ; __set$(n,n.PapyrusResponseProcess=5,"PapyrusResponseProcess") ; __set$(n,n.IsRAISuggestionsBlocklist=6,"IsRAISuggestionsBlocklist") ; __set$(n,n.IsQueryBlocklist=7,"IsQueryBlocklist") ; __set$(n,n.NoEntryInOS=8,"NoEntryInOS") ; __set$(n,n.NoProperStatus=9,"NoProperStatus") ; __set$(n,n.CorruptStatus=10,"CorruptStatus") ; __set$(n,n.Default=16,"Default") }(h=n.GenerationStatusReason||(n.GenerationStatusReason={})),function(n){n.Click="Click";n.CopilotSystem="CopilotSystem";n.CopilotInteraction="CopilotInteraction";n.Perf="Perf";n.SystemEvent="SystemEvent";n.AjaxAds="AjaxAds"}(c=n.ClientInst||(n.ClientInst={})),function(n){n.AttachmentUploadSuccess="AttachmentUploadSuccess";n.AttachmentUploadFailure="AttachmentUploadFailure";n.BackToSerp="BackToSerp";n.ConversationStarted="ConversationStarted";n.ConversationCreateFailure="ConversationCreateFailure";n.DislikeClicked="DislikeClicked";n.DwellTimeFiveSec="DwellTimeFiveSec";n.LikeClicked="LikeClicked";n.MenuToggle="MenuToggle";n.NewThreadButtonClicked="NewThreadButtonClicked";n.NewThreadFromError="NewThreadFromError";n.ModelSwitchingMenuToggle="ModelSwitchingMenuToggle";n.ModelSwitchingOptionClicked="ModelSwitchingOptionClicked";n.OpenAllResults="OpenAllResults";n.PerformanceData="PerformanceData";n.QueryIssued="QueryIssued";n.ResponseRendered="ResponseRendered";n.ResponseFailed="ResponseFailed";n.ResponseTimeout="ResponseTimeout";n.ResultsEmpty="ResultsEmpty";n.ContainerNoAnswer="ContainerNoAnswer";n.ThinkStateError="ThinkStateError";n.RetryButtonClicked="RetryButtonClicked";n.BackButtonClicked="BackButtonClicked";n.SuggestionChipsApiSent="SuggestionChipsApiSent";n.TotalSuggestionChipsApiReq="TotalSuggestionChipsApiReq";n.FeedbackClick="FeedbackClick";n.SuggestionChipsApiSuccess="SuggestionChipsApiSuccess";n.SuggestionChipsApiEmptyResponse="SuggestionChipsApiEmptyResponse";n.SuggestionChipsApiError="SuggestionChipsApiError";n.SuggestionChipsApiFailure="SuggestionChipsApiFailure";n.SuggestionChipsApiReachMaxRetry="SuggestionChipsApiReachMaxRetry";n.SuggestionChipRender="SuggestionChipRender";n.SuggestionChipEvent="SuggestionChipEvent";n.SuggestionChipClick="SuggestionChipClick";n.SuggestionChipsRetryNum="SuggestionChipsRetryNum";n.ScopeClick="ScopeClick";n.NoChipMsg="NoChipMsg";n.Error="Error";n.CopilotAnswerLoadTime="CopilotAnswerLoadTime";n.CitationPopup="CitationPopup";n.CitationClick="CitationClick";n.CitationDimiss="CitationDimiss";n.ComposerSubmitButtonClicked="ComposerSubmitButtonClicked";n.ClipboardPasteTransfer="ClipboardPasteTransfer";n.ZeroInputCardClicked="ZeroInputCardClicked";n.DiscoverCardClicked="DiscoverCardClicked";n.NewSearchClicked="NewSearchClicked";n.CacheOnlyRequestIssued="CacheOnlyRequestIssued";n.TriggerFailureFallback="IssuedFrameFailureFallback";n.ZeroInputPageLoaded="ZeroInputPageLoaded";n.ZipAjaxRequestSent="ZipAjaxRequestSent";n.ZipAjaxRequestSuccess="ZipAjaxRequestSuccess";n.ZipAjaxRequestFailure="ZipAjaxRequestFailure";n.ZipHtmlResponseAppended="ZipHtmlResponseAppended";n.ZipHtmlResponseAppendFail="ZipHtmlResponseAppendFail";n.MagazineFollowupIssued="MagFollowIssued";n.TraceIdDebug="TraceIdDebug";n.TraceIdData="TraceIdData";n.OverlayCitationClick="OverlayCitationClick";n.OverlayLinkClick="OverlayLinkClick";n.OverlayCheckSourceClick="OverlayCheckSourceClick";n.OverlayPopup="OverlayPopup";n.OverlayDimiss="OverlayDimiss";n.StopStreamingClick="StopStreamingButtonClick";n.PostMessageToTurn="PostMessageToTurn";n.CopyButtonRendered="CopyButtonRendered";n.CopyButtonClick="CopyButtonClick";n.AttachmentAdded="AttachmentAdded";n.AttachmentUpdated="AttachmentUpdated";n.AttachmentCleared="AttachmentCleared";n.ScrollToBottomIssueQuery="ScrollToBottomIssueQuery";n.AjaxAdsLoadTime="AjaxAdsLoadTime";n.AjaxAdsLoadedAfterIframe="AjaxAdsLoadedAfterIframe";n.AjaxAdsErrorStateDroppedAds="AjaxAdsErrorStateDroppedAds";n.AjaxAdsDuplicatedCopyCallCaughtByMap="AjaxAdsDuplicatedCopyCallCaughtByMap";n.AjaxAdsDuplicatedCopyCallCaughtByElement="AjaxAdsDuplicatedCopyCallCaughtByElement";n.FrameReplacementSuccess="FrameReplacementSuccess";n.FrameReplacementError="FrameReplacementError";n.FrameReplacementExecuted="FrameReplacementExecuted"}(l=n.LogNames||(n.LogNames={})),function(n){n.AutoSuggest="AutoSuggest";n.History="History";n.MagFollow="MagFollow";n.ScrollToBottom="ScrollToBottom";n.SuggestionChip="SuggestionChip";n.Text="Text";n.Voice="Voice";n.Url="Url";n.Zero="Zero";n.ThreadHistory="ThreadHistory";n.Scope="Scope"}(a=n.InputTypes||(n.InputTypes={})),function(n){n.Turn="Turn";n.Zero="Zero";n.Rest="Rest";n.Float="Float";n.FloatZero="FloatZero"}(v=n.CopilotMode||(n.CopilotMode={}));n.svgNS="http://www.w3.org/2000/svg";n.hiddenClassName="hidden";n.loadingClassName="loading";n.collapseClassName="coll";n.maxSuggestCount=-1;n.isDarkMode=p();n.GlobalInstTracker=_w.GlobalInstTracker;n.instTracker=typeof n.GlobalInstTracker!="undefined"?(r=n.GlobalInstTracker.createInstTracker("CopilotSearch"))!==null&&r!==void 0?r:n.GlobalInstTracker.getInstTracker("CopilotSearch"):null;n.originalUrl= __get$(__get$(window,"location"),"href") ;n.initConfig=y;n.getValueFromUrl=w;n.getValueFromUrlNormalized=b;n.writeLog=u;n.writeFilterFlareLog=k;n.logCustomData=d;n.writeOverrideLog=g;n.getImpressionId=nt;n.setParamIfNotExist=tt;n.getLastTurnId=f;n.getConversationId=e;n.getResponseId=it;n.generateIGUID=rt;t="__METRIC_NAME__";i="/shux/monitor?metric=".concat(t);n.suggestionchipSendMonitorEndpoint= __call$(i,"replace",[t,"copilotSearchSC"]) ;n.copilotSearchSCFetchRetryMonitorEndpoint= __call$(i,"replace",[t,"copilotSearchSCFetchRetry"]) ;n.copilotSearchSC_TTVR_MonitorEndpoint= __call$(i,"replace",[t,"copilotSearchSC_TTVR"]) ;n.copilotSearchSCFetchStatusMonitorEndpoint= __call$(i,"replace",[t,"copilotSearchSCFetchStatusFromApi"]) ,function(n){ __set$(n,n.TotalAjaxSend=0,"TotalAjaxSend") ; __set$(n,n.TotalAjaxValidResponse=1,"TotalAjaxValidResponse") ; __set$(n,n.TotalHitCache=2,"TotalHitCache") ; __set$(n,n.TotalPostReceived=3,"TotalPostReceived") ; __set$(n,n.TotalTimeout=4,"TotalTimeout") ; __set$(n,n.TotalSCRendered=5,"TotalSCRendered") ; __set$(n,n.TotalPostReceivedHasChips=6,"TotalPostReceivedHasChips") ; __set$(n,n.TotalPostReceivedOnlyKey=7,"TotalPostReceivedOnlyKey") ; __set$(n,n.TotalAjaxReachMaxRetry=8,"TotalAjaxReachMaxRetry") ; __set$(n,n.TotalAjaxSentImpression=9,"TotalAjaxSentImpression") }(ut=n.SuggestionchipMdmFetchType||(n.SuggestionchipMdmFetchType={}));n.suggestionChipsFetchApi="/wpt/fetchcopsearchsc";n.getIframeInternalElement=ft})(t=n.Helper||(n.Helper={}))})(CopilotSearch||(CopilotSearch={}))
/*hammerhead|script|end*/