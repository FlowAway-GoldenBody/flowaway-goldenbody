/*hammerhead|script|start*/"use strict";if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
"use strict";(self.webpackChunkxiangqi_client=self.webpackChunkxiangqi_client||[]).push([[1840],{61840(e,n,t){t.r(n),t.d(n,{default:()=>re});var o,r=t(96540),i=t(5556),a=t.n(i),c=t(8604),l=t(67467),u=t(47459),s=t(97132),m=t(56915),f=t(39030),d=t(39905),p=t(56484),h=t(83771),g=t(37822),v=t(83601),b=t(19809),y=t(31470),A=t(65503),w=t(5757),x=t(63393),k=t(72742),C=t(44009),N=t(93535),S=t(82675),R=t(95544);function z(e,n,t,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(n||0===a||(n={children:void 0}),1===a)n.children=r;else if(a>1){for(var c=Array(a),l=0;l<a;l++) __set$(c,l,__get$(arguments,l+3)) ;n.children=c}if(n&&i)for(var u in i)void 0=== __get$(n,u) &&( __set$(n,u,__get$(i,u)) );else n||(n=i||{});return{$$typeof:o,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}const P=(0,R.A)(function(){return Promise.all([t.e(2076),t.e(5196)]).then(t.bind(t,95196))},{fallback:z("div",{})});var I,E=t(18766),T=t(35836),M=t(82619);function _(e,n,t,o){I||(I="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(n||0===i||(n={children:void 0}),1===i)n.children=o;else if(i>1){for(var a=Array(i),c=0;c<i;c++) __set$(a,c,__get$(arguments,c+3)) ;n.children=a}if(n&&r)for(var l in r)void 0=== __get$(n,l) &&( __set$(n,l,__get$(r,l)) );else n||(n=r||{});return{$$typeof:I,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}const L=(0,R.A)(function(){return Promise.all([t.e(2076),t.e(5931)]).then(t.bind(t,65931))},{fallback:_("div",{})});var O;function B(e,n,t,o){O||(O="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(n||0===i||(n={children:void 0}),1===i)n.children=o;else if(i>1){for(var a=Array(i),c=0;c<i;c++) __set$(a,c,__get$(arguments,c+3)) ;n.children=a}if(n&&r)for(var l in r)void 0=== __get$(n,l) &&( __set$(n,l,__get$(r,l)) );else n||(n=r||{});return{$$typeof:O,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}const $=(0,R.A)(function(){return Promise.all([t.e(2076),t.e(7985)]).then(t.bind(t,57985))},{fallback:B("div",{})});var U=t(8162);const H=U.Ay.aside.withConfig({displayName:"DrawerWrapper",componentId:"ce9ez9-0"})(["width:","px;background:",";background-size:cover;height:100%;position:fixed;z-index:98;top:0;left:0;transition-timing-function:cubic-bezier(0.9,0,1,1);transition:0.6s;overflow:hidden;::-webkit-scrollbar{background:transparent;}::-webkit-scrollbar-thumb{background:",";}&.close{width:","px;}.site-logo{width:100%;padding:",";display:flex;align-items:center;.logo-text{margin-left:16px;}}.nav-drawer-wrapper{height:calc(100% - ",");overflow:hidden auto;display:flex;flex-direction:column;justify-content:space-between;direction:rtl;::-webkit-scrollbar{width:2px;}}.drawer-nav{.nav-item{text-decoration:none;display:flex;direction:ltr;align-items:center;justify-content:space-between;padding:",";transition:0.2s;transition-timing-function:cubic-bezier(1,-0.13,0.83,0.67);position:relative;.nav-icon{margin-right:24px;width:24px;height:24px;}span{font-size:14px;font-weight:600;color:",";line-height:1;}span.unread-count{padding:0 5px;font-size:10px;line-height:1.6;font-weight:600;min-width:15px;border-radius:50px;height:15px;margin-left:16px;display:flex;align-items:center;justify-content:center;&.main-item-count{background-color:",";color:",";}&.close-count{background-color:",";color:",";margin-left:0;position:absolute;bottom:25%;right:13px;}}.sub-menu{display:none;position:fixed;left:","px;top:0;height:100%;background-color:",";padding:16px 0;width:268px;transition:all 0.3s ease-in-out;border-right:1px solid ",";.nav-sub-item{padding:15px 30px;display:flex;align-items:center;img{margin-right:25px;}span.menu-text span{color:",";font-size:14px;line-height:1;font-weight:600;margin-top:-2px;}&:hover{background-color:",";}span.unread-count{background-color:",";color:",";padding:0 5px;font-size:10px;line-height:1.6;font-weight:600;min-width:15px;border-radius:50px;height:15px;margin-left:16px;display:flex;align-items:center;justify-content:center;position:relative;bottom:0;right:0;}.beta{background:",";color:",";border-radius:7px;padding:1px 4px;margin-left:2px;margin-top:-20px;font-size:12px;font-weight:500;}}}&:hover{background-color:",";.sub-menu{display:flex;flex-direction:column;transition-delay:0s;}}&.active{background-color:",";}}.show-line-below{margin-bottom:10px;}.nav-item-subscription{margin:auto;width:90%;width:",";padding:",";background-color:"," !important;border-radius:",";span{color:",";margin:auto;img{width:24px;filter:",";}}}hr{margin:0;padding:0;border:1px solid ",";}.ad-free-vi{.nav-icon{margin-right:10px;}}}.legal{color:",";font-size:11px;margin:9px auto;.content{margin:0 10px;}}.main-section{padding:",";display:flex;flex-direction:column;direction:ltr;align-items:",";.toggle-drawer{padding:0;cursor:pointer;margin-bottom:16px;span{font-size:12px;line-height:1;font-weight:400;color:",";margin-left:10px;}",";}.theme-switch-btn{padding:0;cursor:pointer;margin-bottom:16px;img{width:20px;height:20px;}span{font-size:12px;font-weight:400;line-height:1;color:",";margin-left:10px;}&.join-lobby{img{width:18px;}}}}"],function(e){return e.drawer?210:68},function(e){return e.theme.background_46},function(e){return e.theme.background_33},68,function(e){return e.drawer?"24px":"24px 0 24px 20px"},"72px",function(e){return e.drawer?"24px":"24px 0 24px 20px"},function(e){return e.theme.text_1},f.ut.$floralWhite,f.ut.$fireBrick,f.ut.$yellow,f.ut.$fireBrick,function(e){return e.drawer?209:67},function(e){return e.theme.bg_6},f.ut.$fireBrick,function(e){return e.theme.heading_2},function(e){return e.theme.hover_3},f.ut.$fireBrick,f.ut.$floralWhite,f.ut.$yellow,f.ut.$fireBrick,function(e){return e.theme.hover_10},function(e){return e.theme.hover_10},function(e){return e.drawer?"90%":"100%"},function(e){return e.drawer?"15px 0px":"24px 0 24px 20px"},function(e){return e.drawer?f.ut.$floralWhite:"none"},function(e){return e.drawer?"16px":"0px"},f.ut.$fireBrick,function(e){return e.delayDrawer?"none":"brightness(0) invert(1)"},f.ut.$white_11,f.ut.$floralWhite,function(e){return e.drawer?"24px":"24px 8px"},function(e){return e.drawer?"flex-start":"center"},function(e){return e.theme.text_1},function(e){return!e.drawer&&(0,U.AH)([".collapse-icon{transform:rotate(180deg);transition:all 0.6ms ease-in-out;}"])},function(e){return e.theme.text_1});var Y;function G(e,n,t,o){Y||(Y="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(n||0===i||(n={children:void 0}),1===i)n.children=o;else if(i>1){for(var a=Array(i),c=0;c<i;c++) __set$(a,c,__get$(arguments,c+3)) ;n.children=a}if(n&&r)for(var l in r)void 0=== __get$(n,l) &&( __set$(n,l,__get$(r,l)) );else n||(n=r||{});return{$$typeof:Y,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}const Z=(0,R.A)(function(){return Promise.all([t.e(2076),t.e(5373)]).then(t.bind(t,65373))},{fallback:G("div",{})});var j;function D(e,n,t,o){j||(j="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(n||0===i||(n={children:void 0}),1===i)n.children=o;else if(i>1){for(var a=Array(i),c=0;c<i;c++) __set$(a,c,__get$(arguments,c+3)) ;n.children=a}if(n&&r)for(var l in r)void 0=== __get$(n,l) &&( __set$(n,l,__get$(r,l)) );else n||(n=r||{});return{$$typeof:j,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}const W=(0,R.A)(function(){return Promise.all([t.e(2076),t.e(9972)]).then(t.bind(t,9972))},{fallback:D("div",{})});function F(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!= __get$(e,Symbol.iterator) ||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return V(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++) __set$(o,t,__get$(e,t)) ;return o}const Q=function(e){var n= __get$(e,"location") ,t=e.user,o=e.unreadMessages,r=e.handleNavigationRoute,i=e.isOnLobby,a=e.isGuestUser,c=e.isPremium,l=e.isPremiumAboutToEnd,u=e.subscription,s=e.isVietnameseLocale,m=e.drawer,f=e.makeFetchChallengePuzzle,p=e.moveToGameHistory,h=e.moveToPuzzleRace,g=t.username&&{className:"nav-sub-item",onClick:function(e){return r(e,A.R7.INBOX)},icon:d.Ay.Inbox,msg:M.A.inbox,unreadCount:o},v={className:"nav-sub-item",onClick:function(e){return p(e)},icon:d.q6,msg:M.A.gameHistory},b=t.username&&{className:"nav-sub-item",onClick:function(e){return r(e,A.R7.CLUBS_LOBBY)},icon:d.cj,msg:M.A.clubs,beta:!0},y=t.username?A.R7.INBOX:A.R7.LOBBY_CHAT;return[{className:"nav-item ".concat(i?"active":""),icon:d.Ay.PlayIcon,msg:M.A.play,showMoreIcon:!0,onClick:function(e){return r(e,A.R7.PLAY_ONLINE,!0)},mainItem:!0,children:[{className:"nav-sub-item",onClick:function(e){return r(e,A.R7.PLAY_ONLINE)},icon:d.Ay.PlayOnlineIcon,msg:M.A.playOnline},{className:"nav-sub-item",onClick:function(e){return r(e,A.R7.COMPUTER_LOBBY)},icon:d.Ay.PlayComputerIcon,msg:M.A.playComputer},{className:"nav-sub-item",onClick:function(e){return r(e,A.R7.WATCH)},icon:d.Ay.WatchIcon,msg:M.A.watchGames},{className:"nav-sub-item",onClick:function(e){return r(e,A.R7.TOURNAMENTS)},icon:d.Ay.TournamentIcon,msg:M.A.tournaments},{className:"nav-sub-item",onClick:function(e){return r(e,A.R7.LEADERS)},icon:d.Ay.LeaderboardIcon,msg:M.A.leaderboard}].concat(F(v?[v]:[]))},{className:"nav-item ".concat(n.pathname===A.R7.PUZZLE?"active":""),icon:d.Ay.PuzzleIcon,msg:M.A.puzzle,onClick:function(e){return r(e,A.R7.PUZZLE,!0)},mainItem:!0,tooltipMessage:M.A.puzzle,showMoreIcon:!0,children:[{className:"nav-sub-item",onClick:function(e){e.stopPropagation(),f()},icon:d.Ay.PuzzlePieceRed,msg:M.A.playPuzzleItem},{className:"nav-sub-item",onClick:function(e){e.stopPropagation(),r(e,A.R7.PUZZLE_CUSTOM,!1,{preSelectedTab:1,navigatedFrom:[n.pathname]})},icon:d.c_,msg:M.A.customPuzzles},{className:"nav-sub-item",onClick:function(e){e.stopPropagation(),h(e)},icon:d.ER,msg:M.A.puzzleRace,beta:!0},{className:"nav-sub-item",onClick:function(e){e.stopPropagation(),r(e,A.R7.PUZZLE_STATS,!1,{navigatedFrom:[n.pathname]})},icon:d.Ay.Stats,msg:M.A.puzzleStats}].concat(F(a?[]:[{className:"nav-sub-item",onClick:function(e){return r(e,"/@".concat(t.username).concat(A.R7.SAVED_CONTENT,"/puzzle"),!1,{navigatedFrom:[n.pathname]})},icon:d.lg,msg:M.A.myPuzzles}]))},{className:"nav-item",icon:d.Ay.LearnIcon,msg:M.A.learn,showMoreIcon:!0,onClick:function(e){return r(e,A.R7.LESSONS,!0)},mainItem:!0,children:[{className:"nav-sub-item",onClick:function(e){return r(e,A.R7.LESSON_LOBBY)},icon:d.Ay.LearnIconRed,msg:M.A.lessons},{className:"nav-sub-item",onClick:function(e){return r(e,A.R7.NEW_ANALYSIS)},icon:d.Ay.AnalysisIconRed,msg:M.A.analysis},{className:"nav-sub-item",onClick:function(e){return r(e,A.R7.NEW_NOTE)},icon:d.Ay.AnnotateIconRed,msg:M.A.annotate}].concat(F(a?[]:[{className:"nav-sub-item",onClick:function(e){return r(e,"/@".concat(t.username).concat(A.R7.SAVED_CONTENT,"/note"))},icon:d.lg,msg:M.A.savedNotes}]))},{className:"nav-item ".concat([A.R7.LOBBY_CHAT,A.R7.INBOX,A.R7.CLUBS_LOBBY].includes(n.pathname)?"active":""),icon:d.b6,msg:M.A.social,onClick:function(e){return r(e,y,!0)},mainItem:!0,showMoreIcon:!0,unreadCount:o,showLineBelow:!(a||c)||l,children:[{className:"nav-sub-item",onClick:function(e){return r(e,A.R7.LOBBY_CHAT)},icon:d.Xj,msg:M.A.chatroom}].concat(F(g?[g]:[]),F(b?[b]:[]))}].concat(F(a||!u||c&&!l?[]:[{className:"nav-item nav-item-subscription ".concat(s&&m?"ad-free-vi":""," ").concat(n.pathname===A.R7.SUBSCRIPTION?"active":""),icon:d.Ay.FreeTrial,msg:l?M.A.subscription:M.A.freeTrial,onClick:function(e){return r(e,A.R7.SUBSCRIPTION,!0)},mainItem:!0,showToolTip:!0,tooltipMessage:l?M.A.subscription:M.A.freeTrial}]))};var X,q;function K(e,n,t,o){q||(q="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,i=arguments.length-3;if(n||0===i||(n={children:void 0}),1===i)n.children=o;else if(i>1){for(var a=Array(i),c=0;c<i;c++) __set$(a,c,__get$(arguments,c+3)) ;n.children=a}if(n&&r)for(var l in r)void 0=== __get$(n,l) &&( __set$(n,l,__get$(r,l)) );else n||(n=r||{});return{$$typeof:q,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}function J(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&& __get$(e,Symbol.iterator) ||e["@@iterator"];if(null!=t){var o,r,i,a,c=[],l=!0,u=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(o=i.call(t)).done)&&(c.push(o.value),c.length!==n);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return c}}(e,n)||function(e,n){if(e){if("string"==typeof e)return ee(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ee(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,o=Array(n);t<n;t++) __set$(o,t,__get$(e,t)) ;return o}var ne=function(e){var n=e.makeToggleDrawer,t=e.windowWidth,o=e.history,i= __get$(e,"location") ,a=e.drawer,l=e.locale,u=e.handleUserLogout,s=e.unreadMessages,m=e.notifications,N=e.makeSingleNotificationRead,S=e.notificationCount,R=e.makeMarkAllRead,z=e.subscription,I=e.isPremium,E=e.isPremiumAboutToEnd,_=e.makeFetchChallengePuzzle,O=e.challengePuzzle,B=e.challengePuzzleError,U=e.makeClearChallengePuzzle,Y=e.intl,G=J((0,r.useState)(a),2),j=G[0],D=G[1],F=J((0,r.useState)(null),2),V=F[0],q=F[1],ee=J((0,r.useState)(!1),2),ne=ee[0],te=ee[1],oe=J((0,r.useState)(null),2),re=oe[0],ie=oe[1],ae=(0,r.useMemo)(function(){return"ontouchstart"in window},[window]),ce=(0,r.useMemo)(function(){return(0,b.HW)()},[i.pathname]),le=(0,r.useMemo)(function(){return!ce||!ce.id},[ce]),ue=(0,r.useMemo)(function(){return[A.R7.COMPUTER_LOBBY,A.R7.MY_GAMES,A.R7.PLAY_ONLINE,A.R7.CUSTOM_GAME,A.R7.CHALLENGE].includes(i.pathname)},[i.pathname]),se=(0,r.useMemo)(function(){return"zh-Hans"===l||"zh-Hant-HK"===l},[l]),me=(0,r.useMemo)(function(){return"vi"===l},[l]),fe=(0,r.useMemo)(function(){return se?A.aO:A.d0},[se]),de=(0,r.useMemo)(function(){return s>0?350:300},[s]),pe=(0,r.useMemo)(function(){return!i.pathname.includes(A.R7.PUZZLE)&&i.pathname},[i]),he=function(e){(0,h.Of)(g.Bo,{navigation_link_clicked:"".concat(e[0].toUpperCase()).concat(e.slice(1)),location:"drawer"})};(0,r.useEffect)(function(){if(O&&O.puzzle_id){var e="/puzzle/".concat(O.puzzle_id,"/").concat(T.WD.CHALLENGE);o.push({pathname:e,state:{navigatedFrom:[i.pathname],activeTabIndex:0}}),he(e),te(!1),U()}else O&&O.message&&(0,v.A)({title:"",type:"success",msg:Y.formatMessage(M.A.allPuzzleComplete),options:{status:"success"}})},[O]),(0,r.useEffect)(function(){if(B&&B.isError){var e=B.exception;e||(e=Y.formatMessage(M.A.someError)),(0,v.A)({title:"",msg:e,type:"error"})}},[B]),(0,r.useEffect)(function(){t<=f.LR.giant.maxWidth?n(!1):n(!0)},[t]),(0,r.useEffect)(function(){q(!1)},[i.pathname]),(0,r.useEffect)(function(){var e;return a?e=setTimeout(function(){D(!0)},de):D(!1),function(){return clearTimeout(e)}},[a]);var ge=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.stopPropagation(),ae&&t||i.pathname!==n&&(he(n),o.push({pathname:n,state:r}),te(!1))},ve=function(e){ce&&ce.id?ge(e,"/@".concat(ce.username).concat(A.R7.GAME_HISTORY)):(e.stopPropagation(),ie(C.QB.GAME_HISTORY))},be=function(e){ce&&ce.id?ge(e,A.R7.PUZZLE_RACE,!1,{navigatedFrom:[i.pathname]}):(e.stopPropagation(),ie(C.QB.PUZZLE_RACE))},ye=(0,r.useMemo)(function(){return Q({location:i,user:ce,unreadMessages:s,handleNavigationRoute:ge,isOnLobby:ue,isGuestUser:le,isPremium:I,isPremiumAboutToEnd:E,subscription:z,isVietnameseLocale:me,drawer:a,makeFetchChallengePuzzle:_,moveToGameHistory:ve,moveToPuzzleRace:be})},[i.pathname,ue,ge,ce,s,le,I,E,z,me,a,_,ve,be]),Ae=(0,r.useCallback)(function(e,n){(0,y.DH)()&&(0,y.nT)(e),n&&he(n)},[]),we=(0,r.useCallback)(function(){ce.id?o.push("/"):o.push(A.R7.SIGNIN)},[ce.id,o]);return t<=f.LR.phone.maxWidth?null:K(H,{id:"sidebar",className:"open",drawer:a,delayDrawer:j},void 0,K(k.A,{onClose:function(){return ie(null)},type:re,isSubscriptionModalOpen:Boolean(re),hideCancel:!0}),K(W,{drawer:j,moveToLobby:we,isTouchSupported:ae}),K("nav",{className:"nav-drawer-wrapper"},void 0,K("div",{className:"drawer-nav"},void 0,ye.map(function(e,n){return K(r.Fragment,{},"list-item-".concat(n),K(L,{className:e.className,img:e.icon,message:e.msg,showMoreIcon:e.showMoreIcon,onClick:e.onClick,drawer:a,delayDrawer:j,isMainItem:e.mainItem,showToolTip:e.showToolTip,tooltipMessage:e.tooltipMessage,showPopover:V,unreadMessagesCount:e.unreadCount,onTouchStart:function(){return te(!0)},onMouseEnter:function(){return te(!0)},onMouseLeave:function(){return te(!1)}},void 0,e.children&&ne?K("div",{className:"sub-menu"},void 0,e.children.map(function(e,n){return K(L,{className:e.className,img:e.icon,onClick:e.onClick,message:e.msg,showMoreIcon:e.showMoreIcon,href: __get$(e,"href") ,target:e.target,drawer:j,unreadMessagesCount:e.unreadCount,beta:e.beta,subItem:!0},"sub-item-".concat(n))})):""),e.showLineBelow&&K("hr",{className:a?"show-line-below":""}))})),K("div",{className:"main-section"},void 0,K($,{drawer:a,delayDrawer:j,onToggleDrawer:function(e){q(!1),n(e)},isTouchSupported:ae}),K("button",{type:"button",className:"toggle-drawer",onClick:function(){return o.push(A.R7.SETTINGS)}},void 0,X||(X=K(x.A,{src:d.G1,alt:"settings"})),j&&r.createElement(c.sA,M.A.settings)),ce.id&&!ce.active&&i.pathname!==A.R7.VERIFY&&K("button",{type:"button",className:"theme-switch-btn",onClick:function(){return o.push(A.R7.VERIFY)}},void 0,K(x.A,{src:d.Ay.UnverifyIcon,alt:"Unverified"}),j&&r.createElement(c.sA,M.A.verify)),ce.username?K(P,{logoutHandler:function(e){return u(e,pe)},drawer:j,notifications:m,handleSingleRead:N,notificationCount:S,makeMarkAllRead:R}):K(Z,{drawer:j,onSigninClicked:function(){o.push("".concat(A.R7.SIGNIN,"?redirect=").concat(i.pathname)),(0,p.UZ)(g.$e,M.A.signIn.value,"top right in-app global navigation")},user:ce,isTouchSupported:ae}),(0,y.DH)()&&j&&K("div",{className:"legal"},void 0,K(w.A,{onClick:Ae,href:"".concat(fe,"/").concat(A.R7.PRIVACY),target:"_blank",className:"content"},void 0,r.createElement(c.sA,M.A.privacyPolicy)),"|",K(w.A,{onClick:Ae,href:"".concat(fe,"/").concat(A.R7.TERMS),target:"_blank",className:"content"},void 0,r.createElement(c.sA,M.A.termsOfService))))))};$.propTypes={drawer:a().bool,onToggleDrawer:a().func};var te=(0,s.j8)({locale:(0,S.BC)(),location:(0,N._2)(),drawer:(0,N.Qy)(),windowWidth:(0,N.f1)(),unreadMessages:(0,N.AQ)(),notifications:(0,N.GV)(),notificationCount:(0,N.Qr)(),isPremium:(0,N.iU)(),subscription:(0,N.iL)(),isPremiumAboutToEnd:(0,N.PT)(),challengePuzzle:(0,N.KC)(),challengePuzzleError:(0,N.QI)()}),oe=(0,l.connect)(te,function(e){return{makeToggleDrawer:function(n){return e((0,E.e6)(n))},makeSingleNotificationRead:function(n){return e((0,E.SM)(n))},makeMarkAllRead:function(){return e((0,E.NL)())},makeFetchChallengePuzzle:function(){return e((0,E.uE)())},makeClearChallengePuzzle:function(){return e((0,E.ts)())}}});const re=(0,c.j4)((0,u.Zz)(m.y,oe)((0,r.memo)(ne)))}}]);
/*hammerhead|script|end*/