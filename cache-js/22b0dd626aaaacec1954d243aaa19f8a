/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
(()=>{var ob=Object.create;var El=Object.defineProperty,ab=Object.defineProperties,db=Object.getOwnPropertyDescriptor,lb=Object.getOwnPropertyDescriptors,cb=Object.getOwnPropertyNames,Lh=Object.getOwnPropertySymbols,kh=Object.getPrototypeOf,Bh=Object.prototype.hasOwnProperty,fb=Object.prototype.propertyIsEnumerable,ub=Reflect.get;var _l=(i,e,t)=>e in i?El(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}): __set$(i,e,t) ,b=(i,e)=>{for(var t in e||(e={}))Bh.call(e,t)&&_l(i,t, __get$(e,t) );if(Lh)for(var t of Lh(e))fb.call(e,t)&&_l(i,t, __get$(e,t) );return i},V=(i,e)=>ab(i,lb(e));var Fh=(i=>typeof require!="undefined"?require:typeof Proxy!="undefined"? new Proxy(i,{get:(e,t)=>__get$(typeof require!="undefined"?require:e,t)}) :i)(function(i){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')});var h=(i,e)=>()=>(i&&(e=i(i=0)),e);var Xi=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var hb=(i,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of cb(e))!Bh.call(i,r)&&r!==t&&El(i,r,{get:()=> __get$(e,r) ,enumerable:!(s=db(e,r))||s.enumerable});return i};var xs=(i,e,t)=>(t=i!=null?ob(kh(i)):{},hb(e||!i||!i.__esModule?El(t,"default",{value:i,enumerable:!0}):t,i));var _=(i,e,t)=>_l(i,typeof e!="symbol"?e+"":e,t);var zr=(i,e,t)=>ub(kh(i),t,e);var T=(i,e,t)=>new Promise((s,r)=>{var n=d=>{try{a(t.next(d))}catch(l){r(l)}},o=d=>{try{a(t.throw(d))}catch(l){r(l)}},a=d=>d.done?s(d.value):Promise.resolve(d.value).then(n,o);a((t=t.apply(i,e)).next())});var Ei,pb,Gv,Kn,Qn,ei,mb,Vv,Uh,Gh,yl,Vh,Sl,Hr,Ps,zh,Jn,$r,Il,Hh,$h,es,Et,Zn,Xn,qh,Yh,eo,to,jh,Wh,Kh,Qh,ue=h(()=>{Ei="freestar.com",pb="undefined",Gv=`${pb}pubfig.min.js`,Kn=[[640,360],[552,334]],Qn=[[300,169],[400,225]],ei="https://a.pub.network/core",mb="undefined",Vv=`${mb}prebid.js`,Uh=[{siteId:285,restrictedCountries:["IN","VN","NP","DZ","IQ","MA","AF","TR","EG","PK","ID","MA","BD","RS","PH","TN","BG"]}],Gh=["triplelift"],yl=["slidingUnit","superflex","interstitial","stickyRail"],Vh=[[468,60],[728,90],[970,90],[970,250],[300,50],[300,100],[320,50],[320,100],[120,600],[160,600],[300,250],[300,600],[336,280],[1,1],[0,0]],Sl={v1:[{precision:2,min:0,max:20,increment:.01},{precision:2,min:20,max:40,increment:.5},{precision:2,min:40,max:100,increment:1},{precision:2,min:100,max:150,increment:2.5},{precision:2,min:150,max:250,increment:5},{precision:2,min:250,max:400,increment:10},{precision:2,min:400,max:800,increment:50}],v2:[{precision:2,min:0,max:2,increment:.01},{precision:2,min:2,max:10,increment:.05},{precision:2,min:10,max:20,increment:.5},{precision:2,min:20,max:100,increment:5}]},Hr=["AT","BE","BG","HR","CY","CZ","DK","EE","EL","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB","NO","IS","LI","CH"],Ps=["CA","CO","CT","VA","UT"],zh=[285],Jn={gumgum:'[id^="ad_is"]',"33across":'[class^="ttx-lb"]',undertone:'[class^="ut_container"]',kargo:'[class^="kargo-ad"]',yieldmo:'[class^="ym-adhesion"]',ogury:'[class^="ogy-footer-ad"]'},$r=850,Il="dianomi_context_script",Hh="https://www.dianomi.com/js/contextfeed.js",$h=["sortable"],es="FREESTAR",Et="NONE",Zn={FREESTAR:"FREESTAR",NONE:"PUBLISHER"},Xn="00000000-0000-0000-0000-000000000000",qh=["BD","DZ","MM","NI","CM","MR","GN","CG","CN","ET","SS","PK","TN","PS","AO","BJ","VE","HT","TG","MG","SO","GM","KH","YE","IR","RU","SD","VG","TJ","SM","GL","BQ","TL","AX","MF","MH","MP","TD","VU","WS","BI","SY","DJ","NE","AS","AI","GQ","CU","PM","SB","PW","FM","YT","TO","CK","ER","MS","UM","GW","BL","NR","KM","KI","FK","CC","CF","TM","WF","ST","IO","TV","NF","SH","VA","EH","KP","NU","AQ","TK","CX","SJ","PN"],Yh="https://cdn.privacy-mgmt.com/unified/wrapperMessagingWithoutDetection.js",eo=899033,to=1035372,jh=1388893,Wh="fs.config",Kh="amazon",Qh=50});function Jh(i,e,t){if(!e)return;let r=(Array.isArray(e)?e:e.match(/([^[.\]])+/g)).reduce((n,o)=>n&& __get$(n,o) ,i);return r===void 0?t:r}var Zh=h(()=>{});var $,Xh,et=h(()=>{$=(i,e=window)=>{var s,r;return(r= new URLSearchParams((s=__get$(e,"location"))==null?void 0:s.search) .get(i))!=null?r:""},Xh=(i,e=window)=>{let t= new URLSearchParams(__get$(e,"location").search) ;t.has(i)&&t.delete(i), __get$(e,"location") .search=t.toString()}});function so( _hh$temp0 ){ var i=_hh$temp0.value; return i&&Array.isArray(i)&&i.length>0}function tp(i){return i===!!i}function Ds(i){return typeof i=="number"}function ip(i,e,t){return i.split(e).join(t)}function ro(i){return typeof i=="string"}function ts(i,e){let t=typeof e=="function"?e:s=> __get$(s,e) ;return[...i.reduce((s,r)=>{let n=r==null?r:t(r);return s.has(n)||s.set(n,r),s},new Map).values()]}function qr(i,e){let t=Math.max(...i.map(e));return i.find(s=>e(s)===t)}function Al(i,e){let t=[],s=i.filter((r,n)=>e(r)&&t.push(n));return t.reverse().forEach(r=>i.splice(r,1)),s}function sp(i){return[...new Set(i)]}function ep(i){return Object.prototype.toString.call(i).slice(8,-1).toLowerCase()}function gb(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(!oo( __get$(i,t) , __get$(e,t) ))return!1;return!0}function _b(i,e){if(Object.keys(i).length!==Object.keys(e).length)return!1;for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&!oo( __get$(i,t) , __get$(e,t) ))return!1;return!0}function Eb(i,e){return i.toString()===e.toString()}function yb(i,e){return i===e}function oo(i,e){let t=ep(i);return t!==ep(e)?!1:t==="array"?gb(i,e):t==="object"?_b(i,e):t==="function"?Eb(i,e):yb(i,e)}function io(i){return i instanceof Object}function Sb(i){return typeof i=="symbol"}function Gt(i){let e=/^\s+|\s+$/g,t=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,r=/^0o[0-7]+$/i;if(typeof i=="number")return i;if(Sb(i))return NaN;if(io(i)){let o=typeof i.valueOf=="function"?i.valueOf():i;i=io(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i= __call$(i,"replace",[e,""]) ;let n=s.test(i);return n||r.test(i)?parseInt(i.slice(2),n?2:8):t.test(i)?NaN:+i}function bl(i){return[...new Set(i.map(e=>JSON.stringify(e)))].map(e=>JSON.parse(e))}function Vt(i=window.freestar.locData){var t,s;let e=((s=(t=window==null?void 0:window.freestar)==null?void 0:t.fsdata)==null?void 0:s.mspaStates)||Ps;return i?i.iso==="US"&&e.includes(i.state):!1}function is(i=window.freestar.locData){var t,s;let e=(s=(t=window==null?void 0:window.freestar)==null?void 0:t.fsdata)==null?void 0:s.stateOptIn;return!i||!Array.isArray(e)||e.length===0?!1:i.iso==="US"&&e.includes(i.state)}function rp(i=window.freestar.locData){var e,t;return i?i.iso==="US"&&((t=(e=window==null?void 0:window.freestar)==null?void 0:e.fsdata)==null?void 0:t.disableAdsOnGppOptOut)===!0:!1}function wl(i,e){let t=e&& __get$(e,i) ||"";try{return JSON.parse(t)}catch(s){return t||""}}function zt(i){return i==null}function ao(i,e){let t=null;return function(...s){let r=this;clearTimeout(t),t=setTimeout(()=>i.apply(r,s),e)}}function ap(i,e){let t=!1;return function(){t||(t=!0,setTimeout(()=>{t=!1},e),i())}}function vl(){let i={},e=!1,t=0,s=arguments.length;Object.prototype.toString.call(arguments[0])==="[object Boolean]"&&(e=arguments[0],t++);let r=function(n){for(let o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e&&Object.prototype.toString.call( __get$(n,o) )==="[object Object]"? __set$(i,o,vl(!0,__get$(i,o),__get$(n,o))) : __set$(i,o,__get$(n,o)) )};for(;t<s;t++)r( __get$(arguments,t) );return i}var no,Tl,np,op,he=h(()=>{ue();Zh();et();no=Jh;Tl=( _hh$temp1 )=>{ var i=_hh$temp1.placement,_hh$temp1$sizesAllowed=_hh$temp1.sizesAllowed,e=_hh$temp1$sizesAllowed===void 0?!1:_hh$temp1$sizesAllowed;  let _hh$temp2=i,t=_hh$temp2.sizes; return t=t.filter(s=>Array.isArray(s)),Array.isArray(e)&&(t=t.filter(s=>e.indexOf(s.join("x"))!==-1)),Tl(t)},np=()=>{let i=$("quartile");return i!=null&&i!==""&&!Number.isNaN(Number(i))?Number(i):null},op=()=>$("disableFC")==="true"});function wb(){return new bb}function Tb(){return new WeakMap}function Cl(i){if(!i)return Rl(null);var e=i.constructor;if(e===Object)return i===Object.prototype?{}:Rl(i);if(e&&~Ib.call(e).indexOf("[native code]"))try{return new e}catch(t){}return Rl(i)}function Rb(i){var e="";return i.global&&(e+="g"),i.ignoreCase&&(e+="i"),i.multiline&&(e+="m"),i.unicode&&(e+="u"),i.sticky&&(e+="y"),e}function Ob(i){return i.flags}function dp(i){var e=Ab.call(i);return e.substring(8,e.length-1)}function xb(i){return  __get$(i,Symbol.toStringTag) ||dp(i)}function Lb(i){return lp(i).concat(xl(i))}function co(i,e,t){for(var s=kb(i),r=0,n=s.length,o=void 0,a=void 0;r<n;++r)if(o= __get$(s,r) ,!(o==="callee"||o==="caller")){if(a=Nb(i,o),!a){ __set$(e,o,t.copier(__get$(i,o),t)) ;continue}!a.get&&!a.set&&(a.value=t.copier(a.value,t));try{Db(e,o,a)}catch(d){ __set$(e,o,a.value) }}return e}function Bb(i,e){var t=new e.Constructor;e.cache.set(i,t);for(var s=0,r=i.length;s<r;++s) __set$(t,s,e.copier(__get$(i,s),e)) ;return t}function Fb(i,e){var t=new e.Constructor;return e.cache.set(i,t),co(i,t,e)}function hp(i,e){return i.slice(0)}function Ub(i,e){return i.slice(0,i.size,i.type)}function Gb(i,e){return new e.Constructor(hp(i.buffer))}function Vb(i,e){return new e.Constructor(i.getTime())}function pp(i,e){var t=new e.Constructor;return e.cache.set(i,t),i.forEach(function(s,r){t.set(r,e.copier(s,e))}),t}function zb(i,e){return co(i,pp(i,e),e)}function Hb(i,e){var t=Cl(e.prototype);e.cache.set(i,t);for(var s in i)fp.call(i,s)&&( __set$(t,s,e.copier(__get$(i,s),e)) );return t}function $b(i,e){var t=Cl(e.prototype);e.cache.set(i,t);for(var s in i)fp.call(i,s)&&( __set$(t,s,e.copier(__get$(i,s),e)) );for(var r=xl(i),n=0,o=r.length,a=void 0;n<o;++n)a= __get$(r,n) ,Mb.call(i,a)&&( __set$(t,a,e.copier(__get$(i,a),e)) );return t}function Yb(i,e){var t=Cl(e.prototype);return e.cache.set(i,t),co(i,t,e)}function Ol(i,e){return new e.Constructor(i.valueOf())}function jb(i,e){var t=new e.Constructor(i.source,Cb(i));return t.lastIndex=i.lastIndex,t}function lo(i,e){return i}function mp(i,e){var t=new e.Constructor;return e.cache.set(i,t),i.forEach(function(s){t.add(e.copier(s,e))}),t}function Wb(i,e){return co(i,mp(i,e),e)}function Zb(i){return{Arguments:i.object,Array:i.array,ArrayBuffer:i.arrayBuffer,Blob:i.blob,Boolean:Ol,DataView:i.dataView,Date:i.date,Error:i.error,Float32Array:i.arrayBuffer,Float64Array:i.arrayBuffer,Int8Array:i.arrayBuffer,Int16Array:i.arrayBuffer,Int32Array:i.arrayBuffer,Map:i.map,Number:Ol,Object:i.object,Promise:lo,RegExp:i.regExp,Set:i.set,String:Ol,WeakMap:lo,WeakSet:lo,Uint8Array:i.arrayBuffer,Uint8ClampedArray:i.arrayBuffer,Uint16Array:i.arrayBuffer,Uint32Array:i.arrayBuffer,Uint64Array:i.arrayBuffer}}function _p(i){var e=Pl({},gp,i),t=Zb(e),s=t.Array,r=t.Object;function n(o,a){if(a.prototype=a.Constructor=void 0,!o||typeof o!="object")return o;if(a.cache.has(o))return a.cache.get(o);if(a.prototype=Qb(o),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return r(o,a);if(Kb(o))return s(o,a);var d= __get$(t,Pb(o)) ;return d?d(o,a):typeof o.then=="function"?o:r(o,a)}return function(a){return n(a,{Constructor:void 0,cache:vb(),copier:n,prototype:void 0})}}function Xb(i){return _p(Pl({},Jb,i))}var Ib,Rl,Ab,bb,vb,Cb,Pb,Db,Nb,lp,xl,cp,fp,Mb,up,kb,qb,Kb,Pl,Qb,gp,Jb,Kv,dt,ss=h(()=>{Ib=Function.prototype.toString,Rl=Object.create,Ab=Object.prototype.toString,bb=function(){function i(){this._keys=[],this._values=[]}return i.prototype.has=function(e){return!!~this._keys.indexOf(e)},i.prototype.get=function(e){return  __get$(this._values,this._keys.indexOf(e)) },i.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},i}();vb=typeof WeakMap!="undefined"?Tb:wb;Cb=/test/g.flags==="g"?Ob:Rb;Pb=typeof Symbol!="undefined"?xb:dp,Db=Object.defineProperty,Nb=Object.getOwnPropertyDescriptor,lp=Object.getOwnPropertyNames,xl=Object.getOwnPropertySymbols,cp=Object.prototype,fp=cp.hasOwnProperty,Mb=cp.propertyIsEnumerable,up=typeof xl=="function";kb=up?Lb:lp;qb=up?$b:Hb;Kb=Array.isArray,Pl=Object.assign,Qb=Object.getPrototypeOf||function(i){return i.__proto__},gp={array:Bb,arrayBuffer:hp,blob:Ub,dataView:Gb,date:Vb,error:lo,map:pp,object:qb,regExp:jb,set:mp},Jb=Pl({},gp,{array:Fb,map:zb,object:Yb,set:Wb});Kv=Xb({}),dt=_p({})});var J,Ht=h(()=>{J={DYNAMIC_AD_OPTIONS:"dynamicAdOptions",DYNAMIC_AD_OPTIONS_V2:"dynamicAdOptionsV2",PUSHDOWN_OPTIONS:"pushdownOptions",SIDE_WALL_OPTIONS:"sideWallOptions",CUBE_OPTIONS:"cubeOptions",CAROUSEL_OPTIONS:"carouselOptions",SLIDING_UNIT_OPTIONS:"slidingUnitOptions",STICKY_AD_OPTIONS:"stickyAdOptions",STICKY_FOOTER_OPTIONS:"stickyFooterOptions"}});function yp(i,e){let t=new Set,s=ew();return i.forEach(r=>{(r.superflex||r.superflexV2)&&t.add("Superflex"),r.lazyAd&&t.add("LazyAd"),r.fluidAd&&t.add("FluidAd"),r.stickyFooterOptions&&r.stickyFooterOptions.active&&t.add("StickyFooter"),r.sideWallOptions&&r.sideWallOptions.type!==0&&t.add("SideWall"),r.pushdownOptions&&r.pushdownOptions.isPushdownUnit&&t.add("Pushdown"),r.stickyRailOptions&&r.stickyRailOptions.active&&t.add("StickyRail"),r.interstitialOptions&&r.interstitialOptions.active&&t.add("Interstitial");let n=r.sizeMappings.some(o=>{var a;return(a=o==null?void 0:o.elementTargetedConfig)==null?void 0:a.active});(r.dynamicAdOptions&&r.dynamicAdOptions.active||n)&&t.add("DynamicAds"),r.dynamicAdOptionsV2&&r.dynamicAdOptionsV2.dynamicAd2&&t.add("DynamicAds"),r.slidingUnitOptions&&r.slidingUnitOptions.active&&t.add("SlidingUnit"),r.stickyAdOptions&&r.stickyAdOptions.stickyAdEnabled&&t.add("StickyAd"),r.sizeMappings&&r.sizeMappings.forEach(o=>{o.videoEnabled&&t.add("Video"),o.superflex&&t.add("Superflex")})}),e.forEach(r=>{r.active&&t.add("Video")}),Array.from(t).filter(r=>s.includes(r))}var Ep,ew,tt,ke,lt=h(()=>{Ht();Ep="StickyFooter,SideWall,Video,SlidingUnit,StickyAd,Pushdown,StickyRail,DynamicAds,Interstitial,Superflex,Carousel,InImage,Cube,IAI",ew=()=>Ep.includes("ALL_POSSIBLE_MODULES")?[]:Ep.split(",").map(i=>i.trim()),tt=( _hh$temp3 )=>{ var i=_hh$temp3.placement,e=_hh$temp3.type; let t=i==null?void 0: __get$(i,e) ;if(!t)return!1;if(t.active!=null&&t.active!==!1)return!0;switch(e){case J.DYNAMIC_AD_OPTIONS_V2:return!!t.dynamicAd2;case J.PUSHDOWN_OPTIONS:return!!t.isPushdownUnit;case J.SIDE_WALL_OPTIONS:return t.type!==0;case J.STICKY_AD_OPTIONS:return!!t.stickyAdEnabled;case J.STICKY_FOOTER_OPTIONS:return Object.keys(t).length>0&&t.active!==!1;default:return!1}},ke= _hh$temp4=>{var i=_hh$temp4.placement,e=_hh$temp4.type;return tt({placement:i,type:e})?__get$(i,e):{};} });var Sp,Yr,ct,Ip,tw,fo,jr=h(()=>{Sp=["click","scroll"],Yr={},ct=(i=window.freestar.config,e=window.freestar.fsdata)=>typeof i.pageSpeedOptimized!="undefined"?i.pageSpeedOptimized:e.pageSpeedOptimized,Ip=()=>{Sp.forEach(i=>document.removeEventListener(i,Ip))},tw=( _hh$temp5 )=>{ var i=_hh$temp5.name,e=_hh$temp5.callback;  __get$(Yr,i) .waiting&&! __get$(Yr,i) .called&&( __get$(Yr,i) .called=!0,Ip(),e())},fo=( _hh$temp6 )=>{ var i=_hh$temp6.name,e=_hh$temp6.callback; Object.prototype.hasOwnProperty.call(Yr,i)||( __set$(Yr,i,{waiting:!0}) ,Sp.forEach(t=>document.addEventListener(t,tw.bind(null,{name:i,callback:e}),{once:!0})))}});function j( _hh$temp7 ){ var i=_hh$temp7.key,_hh$temp7$type=_hh$temp7.type,e=_hh$temp7$type===void 0?Y.string.type:_hh$temp7$type; let t=sessionStorage.getItem(i);if(e===Y.object.type){if(t){let s=JSON.parse(t);if(io(s))return s}return Y.object.default}if(e===Y.array.type){if(t){let s=JSON.parse(t);if(Array.isArray(s))return s}return Y.array.default}if(e===Y.number.type){let s=Number(t);return Number.isInteger(s)?s:Y.number.default}return t}function ve( _hh$temp8 ){ var i=_hh$temp8.key,_hh$temp8$type=_hh$temp8.type,e=_hh$temp8$type===void 0?Y.string:_hh$temp8$type,t=_hh$temp8.value; t&&((e===Y.object||e===Y.array)&&(t=JSON.stringify(t)),sessionStorage.setItem(i,t))}function Ns( _hh$temp9 ){ var i=_hh$temp9.key; sessionStorage.removeItem(i)}var Y,Ce=h(()=>{he();Y={string:{type:"string",default:""},array:{type:"array",default:[]},object:{type:"object",default:{}},number:{type:"number",default:void 0}}});var Me,Ee,yi,Ke=h(()=>{Me="desktop",Ee="mobile",yi="tablet"});var Dl,uo,Nl=h(()=>{Ce();Dl="fs.exclude.bidders",uo={key:Dl,type:Y.array.type}});function ho(){var i,e;if(freestar.fsdata.adQualityOptions.vendor)return freestar.deviceInfo.device.type===Me&&((i=freestar.fsdata.adQualityOptions)!=null&&i.desktopEnabled)||(e=freestar.fsdata.adQualityOptions)!=null&&e.mobileEnabled?freestar.fsdata.adQualityOptions.vendor:null;switch(freestar.deviceInfo.device.type){case Me:return freestar.fsdata.adQualityDesktopVendor;case Ee:return freestar.fsdata.adQualityMobileVendor;default:return null}}function po(){return j(uo)}function mo( _hh$temp10 ){ var i=_hh$temp10.network,e=_hh$temp10.adQualityBlockList; return so({value:e})?!e.includes(i.slug):!0}var Wr=h(()=>{Ce();he();Ke();Nl()});function rw(i){return{gvlid: __get$(sw,i) ,useBaseGvlid:!0}}function go(i){let e=oe(i);if(! __get$(Ml,e) ){let t=`${e}${iw}`; __set$(Ml,e,t) , __set$(Ap,t,e) ,fsprebid.que.push(()=>void fsprebid.aliasBidder(e,t,rw(e)))}return  __get$(Ml,e) }function oe(i){return  __get$(Ap,i) ||i}var iw,Ml,Ap,sw,ft=h(()=>{iw="FsClientAux",Ml={},Ap={},sw={appnexus:32,openx:69,pulsepoint:81,sonobi:104,gumgum:61,rubicon:52,pubmatic:76,sharethrough:80,criteo:91,justpremium:62,smaato:82,telaria:202,adtelligent:410,ix:10,triplelift:28,quantcast:11,medianet:142,unruly:36,undertone:677,nativo:263,teads:132,kargo:972,connectad:138,oftmedia:32,blockthrough:815,yieldmo:173,connatix:143,smartadserver:45,yahoossp:25,grid:686,tappx:628,spotx:165,dianomi:885,onetag:241,amx:737,liveintent:148,ttd:21,vidazoo:744,ogury:31,rise:1043,adform:50,aniview:780,insticator:910,seedtag:157,OperaAds:1135,minutemedia:918,cadent:183,yahooAds:25}});function _o(i){for(var e=1;e<arguments.length;e++){var t= __get$(arguments,e) ;for(var s in t) __set$(i,s,__get$(t,s)) }return i}function Ll(i,e){function t(r,n,o){if(typeof document!="undefined"){o=_o({},e,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),r= __call$(__call$(encodeURIComponent(r),"replace",[/%(2[346B]|5E|60|7C)/g,decodeURIComponent]),"replace",[/[()]/g,escape]) ;var a="";for(var d in o) __get$(o,d) &&(a+="; "+d, __get$(o,d) !==!0&&(a+="="+ __get$(o,d) .split(";")[0]));return document.cookie=r+"="+i.write(n,r)+a}}function s(r){if(!(typeof document=="undefined"||arguments.length&&!r)){for(var n=document.cookie?document.cookie.split("; "):[],o={},a=0;a<n.length;a++){var d= __get$(n,a) .split("="),l=d.slice(1).join("=");try{var f=decodeURIComponent(d[0]);if( __set$(o,f,i.read(l,f)) ,r===f)break}catch(u){}}return r? __get$(o,r) :o}}return Object.create({set:t,get:s,remove:function(r,n){t(r,"",_o({},n,{expires:-1}))},withAttributes:function(r){return Ll(this.converter,_o({},this.attributes,r))},withConverter:function(r){return Ll(_o({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(i)}})}var nw,kl,bp=h(()=>{nw={read:function(i){return i[0]==='"'&&(i=i.slice(1,-1)), __call$(i,"replace",[/(%[\dA-F]{2})+/gi,decodeURIComponent]) },write:function(i){return  __call$(encodeURIComponent(i),"replace",[/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent]) }};kl=Ll(nw,{path:"/"})});var Kr,Qr,Jr,Bl,Zr,rs,ns=h(()=>{Kr="utm_source",Qr="utm_medium",Jr="utm_campaign",Bl="utm_term",Zr="utm_content",rs=[Kr,Qr,Jr,Bl,Zr]});function os( _hh$temp11 ){ var i=_hh$temp11.name,e=_hh$temp11.value,_hh$temp11$expires=_hh$temp11.expires,t=_hh$temp11$expires===void 0?void 0:_hh$temp11$expires,_hh$temp11$path=_hh$temp11.path,s=_hh$temp11$path===void 0?void 0:_hh$temp11$path,_hh$temp11$domain=_hh$temp11.domain,r=_hh$temp11$domain===void 0?void 0:_hh$temp11$domain; if(!i||!e)return!1;let n={secure:!0};return t&&(n.expires=t),s&&(n.path=s),r&&(n.domain=r),kl.set(i,e,n),ti({name:i})}function ti( _hh$temp12 ){ var i=_hh$temp12.name; return kl.get(i)}function wp(){let i=ti({name:"_fs-test"});return i&&(i=JSON.parse(i),i.items.some((e,t)=>{e==i.selection&&(i.selected=t,i.testGroup=e.indexOf("ab_test")>-1?1:0)})),i}var it=h(()=>{bp();et();ns()});var Si,Eo=h(()=>{Si={fsLoadPubfigVersion:"fsLoadPubfigVersion",fsaltconfig:"fsaltconfig",fsdebug:"fsdebug"}});var yo,ow,Tp,vp,aw,Ms,Xr=h(()=>{it();Eo();yo=$(Si.fsdebug),ow=[];yo&&yo!=="true"&&!Number.isInteger(+yo)&&(ow=yo.split(",").map(i=>i.toUpperCase()));Tp=()=>{if(typeof freestar.debug=="number")return freestar.debug;let i=$("fslog");if(i==="true")return 99;if(i!==""&&Number.isFinite(+i))return+i},vp=()=>{let i=fsprebid.getBidResponses(),e=fsprebid.getAllWinningBids(),t=[];if(Object.keys(i).forEach(function(s){ __get$(i,s) .bids.forEach(function(n){t.push({bid:n,adunit:s,adId:n.adId,bidder:n.bidder,time:n.timeToRespond,dims:`${n.width}x${n.height}`,cpm:n.cpm,msg:n.status,rendered:!!e.find(function(o){return o.adId==n.adId})})})}),t.length&&!console.table)for(let s=0;s<t.length;s++);},aw={title:"Pubfig"},Ms=class{constructor(){this.logs=[]}add(e){this.logs.push(e)}show(e=aw){if(!freestar.log||this.logs.length===0)return;let t=this.logs;this.logs=[],freestar.log(e,` ${t.join(` `)}`)}}});function So( _hh$temp13 ){ var i=_hh$temp13.key; let e=j({key:i,type:Y.object.type});if(e){ let _hh$temp14=e,t=_hh$temp14.value,s=_hh$temp14.expiry; if(!s||s<Date.now())Ns({key:i});else return t}return null}function Fl( _hh$temp15 ){ var i=_hh$temp15.key,e=_hh$temp15.value,t=_hh$temp15.expiry; ve({key:i,type:Y.object,value:{value:e,expiry:t}})}function Rp( _hh$temp16 ){ var i=_hh$temp16.key,e=_hh$temp16.value; Fl({key:i,value:e,expiry:Date.now()+1e3*60*60})}function Op( _hh$temp17 ){ var i=_hh$temp17.key,e=_hh$temp17.value; Fl({key:i,value:e,expiry:Date.now()+1e3*60*15})}function Cp( _hh$temp18 ){ var i=_hh$temp18.key,e=_hh$temp18.value; Fl({key:i,value:e,expiry:Date.now()+1e3*60*5})}var Ul=h(()=>{Ce()});var Ii,Io=h(()=>{Ii=class{constructor(){this.slug="fsxs2s"}addToPlacementAsBidder(){return{bidder:this.slug,params:{}}}getSlug(){return this.slug}hasTopLevelStoredRequest(){ let _hh$temp19=window.freestar.fsdata,e=_hh$temp19.topLevelStoredRequestId; return e&&e.length}hasImpLevelStoredRequests(){ let _hh$temp20=window.freestar.fsdata,e=_hh$temp20.placements; return e.filter(t=>t.storedRequestId&&t.storedRequestId.length).length}hasValidStoredRequests(){return this.hasImpLevelStoredRequests()||this.hasTopLevelStoredRequest()}}});var Gl,Ai,en=h(()=>{Gl=class{static createInstance( _hh$temp21 ){ var e=_hh$temp21.ClassConstructor,t=_hh$temp21.instanceName,_hh$temp21$params=_hh$temp21.params,s=_hh$temp21$params===void 0?[]:_hh$temp21$params; if(window.freestar=window.freestar||{},window.freestar.instances=window.freestar.instances||{}, __get$(window.freestar.instances,t) )return  __get$(window.freestar.instances,t) ;let r=new e(...s);return  __set$(window.freestar.instances,t,r) ,r}static getInstanceFn( _hh$temp22 ){ var e=_hh$temp22.ClassConstructor,t=_hh$temp22.instanceName,_hh$temp22$params=_hh$temp22.params,s=_hh$temp22$params===void 0?[]:_hh$temp22$params; return()=>this.createInstance({ClassConstructor:e,instanceName:t,params:s})}},Ai=Gl});var Vl,ut,Ao=h(()=>{en();Vl=class{constructor(){this.results={},this.ongoingRequests=new Map}clearClassCachedData( _hh$temp23 ){ var e=_hh$temp23.requestId; Object.prototype.hasOwnProperty.call(this.results,e)&&delete this.results[e]}fetch(n){return T(this,arguments,function*( _hh$temp24 ){ var e=_hh$temp24.fetchFn,t=_hh$temp24.requestId,s=_hh$temp24.onError,r=_hh$temp24.onSuccess; if( __get$(this.results,t) )return  __get$(this.results,t) ;if(!this.ongoingRequests.has(t)){let o=e().then(a=>{let d={data:a,error:null};return  __set$(this.results,t,d) ,r&&r(a),d},a=>{let d={data:null,error:a};return  __set$(this.results,t,d) ,s&&s(a),d});this.ongoingRequests.set(t,o)}return this.ongoingRequests.get(t).finally(()=>{this.ongoingRequests.delete(t)})})}get( _hh$temp25 ){ var e=_hh$temp25.requestId; return  __get$(this.results,e) }},ut=Ai.getInstanceFn({ClassConstructor:Vl,instanceName:"requestHandler"})});var bo,Ls,ae,wo=h(()=>{bo=i=>{ let _hh$temp26=i||{},e=_hh$temp26.dependencies,t=_hh$temp26.name; if(e){if(!Array.isArray(e))throw new Error(`Module Definition Error: ${t}. Dependencies must be an array.`);e.forEach(s=>{ let _hh$temp27=typeof s=="string"?{token:s}:s,r=_hh$temp27.token; if(!r)throw new Error(`Module Definition Error: ${t}. Dependency must contain a token.`);if(typeof r!="string")throw new Error(`Module Definition Error: ${t}. Token must be a string.`)})}},Ls=i=>i.charAt(0).toLowerCase()+i.slice(1),ae= (i,_hh$temp28={})=>{var e=_hh$temp28.name,t=_hh$temp28.returnValue,_hh$temp28$warn=_hh$temp28.warn,s=_hh$temp28$warn===void 0?!1:_hh$temp28$warn;return i||function(){return s&&console.warn(`${e||"module"} is disabled`),t;};} });var bi,To=h(()=>{bi={SINGLETON:"singleton",FOR_FEATURE:"forFeature"}});var A,vo=h(()=>{To();wo();A=class i{constructor(){this._modules=new Map}static get instance(){return this._instance||(this._instance=new i),this._instance}set(e,t){var s;if(!e)throw new Error("Token must be provided");if(this._modules.has(e))throw new Error(`Module with token ${e} already exists`);if((s=t.dependencies)!=null&&s.length&&new Set(t.dependencies).size!==t.dependencies.length)throw new Error(`Duplicated dependencies found in module ${e}.`);this._modules.set(e,t)}get(e){return this._modules.get(e)}has(e){return this._modules.has(e)}delete(e){this._modules.delete(e)}getAlias(e){let t=this.get(e);return t==null?void 0:t.defaultAlias}clear(){this._modules.clear()}static class(e, _hh$temp29 ){ var t=_hh$temp29.token,s=_hh$temp29.factory,_hh$temp29$dependencies=_hh$temp29.dependencies,r=_hh$temp29$dependencies===void 0?[]:_hh$temp29$dependencies,_hh$temp29$injectionMode=_hh$temp29.injectionMode,n=_hh$temp29$injectionMode===void 0?bi.SINGLETON:_hh$temp29$injectionMode,o=_hh$temp29.defaultAlias; if(!e)throw new Error("Class must be provided");if(!t)throw new Error("Token must be provided");bo({dependencies:r,name:e.name}),i.instance.set(t,{factory:s||( _hh$temp30=>{var a=_hh$temp30.dependencies;return new e(a);} ),dependencies:r,injectionMode:n,defaultAlias:o||Ls(t),type:"classModule"})}static object( _hh$temp31 ){ var e=_hh$temp31.token,t=_hh$temp31.value,s=_hh$temp31.factory,r=_hh$temp31.dependencies,_hh$temp31$injectionMode=_hh$temp31.injectionMode,n=_hh$temp31$injectionMode===void 0?bi.SINGLETON:_hh$temp31$injectionMode,o=_hh$temp31.defaultAlias; if(!e)throw new Error("Token must be provided");if(!t&&!s)throw new Error("Value or factory must be provided");bo({dependencies:r,name:e}),i.instance.set(e,{value:t,factory:s,dependencies:r,injectionMode:n,defaultAlias:o||Ls(e),type:"object"})}static function(e, _hh$temp32 ={}){ var t=_hh$temp32.token,s=_hh$temp32.dependencies,r=_hh$temp32.defaultAlias; if(!e)throw new Error("Function must be provided");if(!t)throw new Error("Token must be provided");bo({dependencies:s,name:t}),i.instance.set(t,{dependencies:s,defaultAlias:r||Ls(t),func:e,type:"function"})}}});var G,xp=h(()=>{vo();To();wo();G=class i{constructor(e){this._moduleRegistry=e,this._moduleInstances=new Map}static get instance(){return this._instance||(this._instance=new i(A.instance)),this._instance}set(e,t){this._moduleInstances.set(e,t)}clear(){this._moduleInstances.clear()}get(e){return this._moduleInstances.get(e)}delete(e){this._moduleInstances.delete(e)}call(e,...t){return T(this,null,function*(){let s=this._moduleRegistry.get(e);if(!s)throw new Error(`Module with token "${e}" does not exist`); let _hh$temp33=s,r=_hh$temp33.dependencies,n=_hh$temp33.type,o=_hh$temp33.func; if(n!=="function")throw new Error(`Module with token "${e}" is not a function type`);let a=yield this._resolveDependencies({token:e,dependencies:r});return o(a,...t)})}create(s){return T(this,arguments,function*(e, _hh$temp34 ={}){ var _hh$temp34$provide=_hh$temp34.provide,t=_hh$temp34$provide===void 0?{}:_hh$temp34$provide; let r=this._moduleRegistry.get(e);if(!r)throw new Error(`Module with token "${e}" does not exist`); let _hh$temp35=r,_hh$temp35$dependencies=_hh$temp35.dependencies,n=_hh$temp35$dependencies===void 0?[]:_hh$temp35$dependencies,o=_hh$temp35.factory,a=_hh$temp35.value,d=_hh$temp35.func,l=n.filter(u=>{let p=this._getDependencyObject(u),E=p.alias||this._moduleRegistry.getAlias(p.token)||Ls(p.token);return!__get$(t,E);}); return this._resolveDependencies({token:e,dependencies:l}).then(u=>this._createInstance({token:e,dependencies:b(b({},u),t),container:this,factory:o,value:a,func:d}))})}resolve(e,t){return T(this,null,function*(){return this._resolve({token:e,optional:t})})}resolveAll(e){return T(this,null,function*(){if(!Array.isArray(e))throw new Error("Tokens must be an array");return this._resolveDependencies({dependencies:e})})}has(e){return this._moduleInstances.has(e)}_resolve(n){return T(this,arguments,function*( _hh$temp36 ){ var e=_hh$temp36.token,_hh$temp36$resolvedDeps=_hh$temp36.resolvedDeps,t=_hh$temp36$resolvedDeps===void 0?new Set():_hh$temp36$resolvedDeps,s=_hh$temp36.parentToken,r=_hh$temp36.optional; if(!this._moduleRegistry.has(e)){if(r)return null;throw new Error(`${[...t,e].join(" -> ")}. Module with token "${e}" does not exist`)} let o=this._moduleRegistry.get(e),_hh$temp37=o,_hh$temp37$dependencies=_hh$temp37.dependencies,a=_hh$temp37$dependencies===void 0?[]:_hh$temp37$dependencies,d=_hh$temp37.factory,l=_hh$temp37.value,f=_hh$temp37.func,_hh$temp37$injectionMode=_hh$temp37.injectionMode,u=_hh$temp37$injectionMode===void 0?bi.SINGLETON:_hh$temp37$injectionMode; if(s&&u===bi.FOR_FEATURE&&(e=`${s}:${e}`),this.has(e))return this.get(e);if(t.has(e))throw new Error(`Circular dependency detected: ${Array.from(t).join(" -> ")} ->${e}`);t.add(e);let p=this._resolveDependencies({token:e,dependencies:a,resolvedDeps:t}).then(m=>this._createInstance({token:e,dependencies:m,container:this,factory:d,value:l,func:f}));return this.set(e,p),p.then&&p.then(m=>{this.set(e,m)}),p})}_resolveDependencies(r){return T(this,arguments,function*( _hh$temp38 ){ var e=_hh$temp38.token,t=_hh$temp38.dependencies,s=_hh$temp38.resolvedDeps; let n=[];return t.length&&(n=yield Promise.all(t.map(o=>T(this,null,function*(){ let _hh$temp39=this._getDependencyObject(o),a=_hh$temp39.token,d=_hh$temp39.alias,l=_hh$temp39.optional,f=yield this._resolve({token:a,resolvedDeps:new Set(s),parentToken:e,optional:l}),u=this._moduleRegistry.getAlias(a); return[d||u||a,f]})))),Object.fromEntries(n)})}_getDependencyObject(e){return typeof e=="string"?{token:e}:e}_createInstance( _hh$temp40 ){ var e=_hh$temp40.dependencies,t=_hh$temp40.container,s=_hh$temp40.factory,r=_hh$temp40.value,n=_hh$temp40.token,o=_hh$temp40.func; if(r!==void 0)return r;if(o!==void 0)return o.bind(null,e);if(!(s instanceof Function))throw new Error(`Container Error: ${n}. Factory must be a function`);let a=s({dependencies:e,container:t});if(!(a instanceof Object))throw new Error(`Container Error: ${n}. Factory must return an object`);return a}}});var ii=h(()=>{wo();vo();xp();To()});var Ro,Pp,zl=h(()=>{Ro="4e799501-b8b6-4ef1-bad5-225b3dd1aa8d",Pp="https://api.floors.dev/sgw/v1/floors"});var Dp,as,Oo,ds,_e,yt,Np,Co=h(()=>{Dp="https://optimise.net/",as="fs.idealadstack.config",Oo="session storage",ds="network request",_e=Object.freeze({OFF:"off",CLIENT:"client",SERVER:"server",BOTH:"both"}),yt="default",Np="refinement"});function ks(){return window.freestar.fsdata.domain|| __get$Loc(location) .host}var xo=h(()=>{});function tn(i){return i.interstitialOptions&&i.interstitialOptions.active&&i.interstitialOptions.type==="GOOGLE_INTERSTITIAL"}function Mp(){return window.freestar.fsdata.placements.find(i=>tn(i))}function sn( _hh$temp41 ){ var i=_hh$temp41.event; return window.freestar.googleInterstitialPlacement&&i.slot.getSlotElementId().includes(window.freestar.googleInterstitialPlacement.placement.dfpId)}var rn=h(()=>{});function ls( _hh$temp42 ){ var i=_hh$temp42.siteId,e=_hh$temp42.placement; var t;return(t=e==null?void 0:e.cubeOptions)!=null&&t.active?!0:$t({siteId:i})||lw.has(i)&&tn(e)}function $t( _hh$temp43 ){ var i=_hh$temp43.siteId; return dw.has(i)}var dw,lw,cs=h(()=>{rn();dw=new Set([6010,5958,5891,6125,1498,2109,1825,6214]),lw=new Set([533])});var Bs,Lp,kp,Hl=h(()=>{Bs="fs.altConfig",Lp="fs-test-mode",kp="fs-test-mode-label"});var $l,Bp,Fs,fs,Fp,Up,wi=h(()=>{$l="https://c.pub.network",Bp="6.182.0",Fs="fs.abtest.group",fs="fs.abtest.id",Fp="fs.abtest.type",Up="fs.abtest.variant_type"});var c,D=h(()=>{c={ANALYTICS:"Analytics",PERFORMANCE_LOGGER:"PerformanceLogger",DISPENSARY_DATA:"DispensaryData",AD_SLOT_SERVICE:"AdSlotService",AD_SLOTS_MANAGER:"AdSlotsManager",LOGGER:"Logger",EVENT_BUS:"EventBus",CONFIG_MANAGER:"ConfigManager",FREESTAR:"freestar",WINDOW:"window",PAGE:"Page",SESSION_STORAGE_MANAGER:"SessionStorageManager",PREBID_MANAGER:"PrebidManager",AMAZON_MANAGER:"AmazonManager",AD_QUALITY_MANAGER:"AdQualityManager",GAM_MANAGER:"GamManager",DEVICE_INFO:"deviceInfo",GEO_INFO:"geoInfo",FS_DATA:"fsdata",BID_RESPONSE_ANALYTICS_EVENT_FACTORY:"BidResponseAnalyticsEventFactory",BID_WON_ANALYTICS_EVENT_FACTORY:"BidWonAnalyticsEventFactory",BID_REQUESTED_ANALYTICS_EVENT_FACTORY:"BidRequestedAnalyticsEventFactory",DFP_RESPONSE_ANALYTICS_EVENT_FACTORY:"DfpResponseAnalyticsEventFactory",ANALYTICS_EVENT_FACTORY:"AnalyticsEventFactory",MAIN_QUEUE:"MainQueue",ERROR_QUEUE:"ErrorQueue",IMMEDIATE_QUEUE:"ImmediateQueue",BEACON_QUEUE:"BeaconQueue",ANALYTICS_MESSAGE_FACTORY:"AnalyticsMessageFactory",DATA_COLLECTOR_API:"DataCollectorAPI",IDENTITY_CONFIG:"IdentityConfig",HASHED_EMAIL_PROVIDERS:"HashedEmailProviderManager",REALTIME_PROVIDERS:"RealtimeProvidersManager",ANALYTICS_ADAPTERS:"AnalyticsAdaptersManager",IDENTITY_MANAGER:"IdentityManager",ATS_MANAGER:"atsManager",VIDEO:"Video",STICKY_AD:"StickyAd",FOP_VIDEO_SCRIPTS:"FopVideoScripts",AUCTION_MANAGER:"AuctionManager",NATIVE_RENDER_MANAGER:"nativeRenderManager",CONFIANT:"Confiant",IN_BANNER_VIDEO_PLAYER:"InBannerVideoPlayer",OUTSTREAM_VIDEO_PLAYER:"OutstreamVideoPlayer",INCONTENT_VIDEO_AD:"InContentVideoAd",FLOATING_VIDEO_AD:"FloatingVideoAd",INCONTENT_TO_FLOATING_VIDEO_AD:"InContentToFloatingVideoAd",AD_REFRESHER:"AdRefresher",REFRESH_LIBRARY:"RefreshLibrary",STICKY_FOOTER_REFRESHER:"StickyFooterRefresher",DEFAULT_REFRESHER:"DefaultRefresher",SUPERFLEX_REFRESHER:"SuperflexRefresher",DEVICE_ORIENTATION_TRACKER:"DeviceOrientationTracker",VIRTUAL_KEYBOARD_REFRESH_CONTROL:"VirtualKeyboardRefreshControl",RENDER_BID_MIDWAY:"RenderBidMidwayManager",GLOBAL_REFRESH_USER_IDS_STATE:"GlobalRefreshUserIDsState",REBID_MANAGER:"RebidManager",MEMORY_MONITOR:"MemoryMonitor",BIDS_MANAGER:"BidsManager",OPTABLE_MANAGER:"OptableManager",ANCILLARY:"Ancillary",BRANDING:"Branding",REPORT_AD:"ReportAd",IDEAL_AD_STACK_MANAGER:"IdealAdStackManager",IIQ_MANAGER:"IntentIqManager",CONNECTID_MANAGER:"ConnectIdManager",USER_INFO_MANAGER:"UserInfoManager",AD_BLOCK:"AdBlock",URL_VALIDATOR:"UrlValidator"}});function cw(){return T(this,null,function*(){let i=new URLSearchParams,t=(yield G.instance.resolve(c.USER_INFO_MANAGER)).isKnown;return i.set("k",t),i.set("d",ks()),i.set("t",fw()),freestar.locData&&i.set("c",freestar.locData.iso),$("fsiasdebug")&&i.set("g","experiment"),i.set("r",20),i.toString()})}var ql,Us,fw,Yl=h(()=>{Ul();ii();it();zl();Co();xo();cs();Ce();ue();Hl();wi();D();ql=()=>T(void 0,null,function*(){var S,I,g;let e=((I=(S=window.freestar)==null?void 0:S.fsdata)==null?void 0:I.isTriple13Enabled)?"0":"1",t=j({key:Fs,type:Y.number.type})||0,s=j({key:fs}),r=j({key:Fp}),n=j({key:Bs}),o=n!==null&&!Number.isNaN(Number(n)),a=((g=j({key:Wh,type:Y.object.type}))==null?void 0:g.altconfig)||!1,d={};$t({siteId:freestar.fsdata.siteId})||(d["x-api-key"]=Ro,d["x-lm"]=e),t===1&&r==="PUBFIG_SETTINGS"?d["x-ab-test-id"]=s:o&&a&&(d["x-test-config-id"]=n),d["timeouts-active"]="true";let l=yield fetch(`${Dp}?${yield cw()}`,{method:"GET",credentials:"include",headers:d}),f=l.headers;l=yield l.text(),l=JSON.parse(l); let _hh$temp44=l,u=_hh$temp44.testGroup,p=_hh$temp44.knownUser; return{data:b({testGroup:u,knownUser:p,roundTripTime:f.get("fs-client-rtt")},l.config),source:ds}}),Us=()=>T(void 0,null,function*(){let i,e=So({key:as});return e?i={data:e,source:Oo}:i=yield ql(),i}),fw=()=>{if(window.freestar)return window.freestar.deviceInfo.device.vendor==="Apple"?"smartphone-ios":window.freestar.deviceInfo.device.type}});var Po,St,us,Gp,Gs,Vp,zp,Dt=h(()=>{Po="auctionInit",St="auctionEnd",us="bidResponse",Gp="bidRequested",Gs="bidWon",Vp="bidTimeout",zp="bidRejected"});function we(i,e){return e.reduce((t,s)=>( __get$(i,s) !==void 0&&( __set$(t,s,__get$(i,s)) ),t),{})}var Hp=h(()=>{});var Do,Vs,zs=h(()=>{Do="_fs-ad-iframe-container",Vs="data-fs-ancillary"});var Hs,$p=h(()=>{zs();Hs=i=>{let e=document.getElementById(i);if(!e)return;let t=e.querySelector(`#${Do}`);t&&t.remove(),e.querySelectorAll('div[id*="google_ads_iframe"]').forEach(o=>o.remove());let r=['div[id="teads0"]','div[class="teads-resize'];e.querySelectorAll(r.join()).forEach(o=>o.remove())}});var It=h(()=>{Hp();$p()});var N=h(()=>{ii();It()});var qp=Xi(()=>{});var Mo=Xi((No,Yp)=>{(function(i,e){typeof No=="object"?Yp.exports=No=e():typeof define=="function"&&define.amd?define([],e):i.CryptoJS=e()})(No,function(){var i=i||function(e,t){var s;if(typeof window!="undefined"&&window.crypto&&(s=window.crypto),typeof self!="undefined"&&self.crypto&&(s=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window!="undefined"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof global!="undefined"&&global.crypto&&(s=global.crypto),!s&&typeof Fh=="function")try{s=qp()}catch(g){}var r=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch(g){}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},n=Object.create||function(){function g(){}return function(y){var R;return g.prototype=y,R=new g,g.prototype=null,R}}(),o={},a=o.lib={},d=a.Base=function(){return{extend:function(g){var y=n(this);return g&&y.mixIn(g),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var y in g)g.hasOwnProperty(y)&&( __set$(this,y,__get$(g,y)) );g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=a.WordArray=d.extend({init:function(g,y){g=this.words=g||[],y!=t?this.sigBytes=y:this.sigBytes=g.length*4},toString:function(g){return(g||u).stringify(this)},concat:function(g){var y=this.words,R=g.words,M=this.sigBytes,z=g.sigBytes;if(this.clamp(),M%4)for(var H=0;H<z;H++){var ce= __get$(R,H>>>2) >>>24-H%4*8&255;y[M+H>>>2]|=ce<<24-(M+H)%4*8}else for(var X=0;X<z;X+=4) __set$(y,M+X>>>2,__get$(R,X>>>2)) ;return this.sigBytes+=z,this},clamp:function(){var g=this.words,y=this.sigBytes;g[y>>>2]&=4294967295<<32-y%4*8,g.length=e.ceil(y/4)},clone:function(){var g=d.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var y=[],R=0;R<g;R+=4)y.push(r());return new l.init(y,g)}}),f=o.enc={},u=f.Hex={stringify:function(g){for(var y=g.words,R=g.sigBytes,M=[],z=0;z<R;z++){var H= __get$(y,z>>>2) >>>24-z%4*8&255;M.push((H>>>4).toString(16)),M.push((H&15).toString(16))}return M.join("")},parse:function(g){for(var y=g.length,R=[],M=0;M<y;M+=2)R[M>>>3]|=parseInt(g.substr(M,2),16)<<24-M%8*4;return new l.init(R,y/2)}},p=f.Latin1={stringify:function(g){for(var y=g.words,R=g.sigBytes,M=[],z=0;z<R;z++){var H= __get$(y,z>>>2) >>>24-z%4*8&255;M.push(String.fromCharCode(H))}return M.join("")},parse:function(g){for(var y=g.length,R=[],M=0;M<y;M++)R[M>>>2]|=(g.charCodeAt(M)&255)<<24-M%4*8;return new l.init(R,y)}},m=f.Utf8={stringify:function(g){try{return decodeURIComponent(escape(p.stringify(g)))}catch(y){throw new Error("Malformed UTF-8 data")}},parse:function(g){return p.parse(unescape(encodeURIComponent(g)))}},E=a.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=m.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var y,R=this._data,M=R.words,z=R.sigBytes,H=this.blockSize,ce=H*4,X=z/ce;g?X=e.ceil(X):X=e.max((X|0)-this._minBufferSize,0);var Te=X*H,se=e.min(Te*4,z);if(Te){for(var Ge=0;Ge<Te;Ge+=H)this._doProcessBlock(M,Ge);y=M.splice(0,Te),R.sigBytes-=se}return new l.init(y,se)},clone:function(){var g=d.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0}),S=a.Hasher=E.extend({cfg:d.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){E.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var y=this._doFinalize();return y},blockSize:512/32,_createHelper:function(g){return function(y,R){return new g.init(R).finalize(y)}},_createHmacHelper:function(g){return function(y,R){return new I.HMAC.init(g,R).finalize(y)}}}),I=o.algo={};return o}(Math);return i})});var jl=Xi((Lo,jp)=>{(function(i,e){typeof Lo=="object"?jp.exports=Lo=e(Mo()):typeof define=="function"&&define.amd?define(["./core"],e):e(i.CryptoJS)})(Lo,function(i){return function(e){var t=i,s=t.lib,r=s.WordArray,n=s.Hasher,o=t.algo,a=[];(function(){for(var m=0;m<64;m++) __set$(a,m,e.abs(e.sin(m+1))*4294967296|0) })();var d=o.MD5=n.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,E){for(var S=0;S<16;S++){var I=E+S,g= __get$(m,I) ; __set$(m,I,(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360) }var y=this._hash.words,R= __get$(m,E+0) ,M= __get$(m,E+1) ,z= __get$(m,E+2) ,H= __get$(m,E+3) ,ce= __get$(m,E+4) ,X= __get$(m,E+5) ,Te= __get$(m,E+6) ,se= __get$(m,E+7) ,Ge= __get$(m,E+8) ,Ve= __get$(m,E+9) ,xt= __get$(m,E+10) ,Ut= __get$(m,E+11) ,Pt= __get$(m,E+12) ,_i= __get$(m,E+13) ,Wn= __get$(m,E+14) ,Zi= __get$(m,E+15) ,B=y[0],F=y[1],k=y[2],U=y[3];B=l(B,F,k,U,R,7,a[0]),U=l(U,B,F,k,M,12,a[1]),k=l(k,U,B,F,z,17,a[2]),F=l(F,k,U,B,H,22,a[3]),B=l(B,F,k,U,ce,7,a[4]),U=l(U,B,F,k,X,12,a[5]),k=l(k,U,B,F,Te,17,a[6]),F=l(F,k,U,B,se,22,a[7]),B=l(B,F,k,U,Ge,7,a[8]),U=l(U,B,F,k,Ve,12,a[9]),k=l(k,U,B,F,xt,17,a[10]),F=l(F,k,U,B,Ut,22,a[11]),B=l(B,F,k,U,Pt,7,a[12]),U=l(U,B,F,k,_i,12,a[13]),k=l(k,U,B,F,Wn,17,a[14]),F=l(F,k,U,B,Zi,22,a[15]),B=f(B,F,k,U,M,5,a[16]),U=f(U,B,F,k,Te,9,a[17]),k=f(k,U,B,F,Ut,14,a[18]),F=f(F,k,U,B,R,20,a[19]),B=f(B,F,k,U,X,5,a[20]),U=f(U,B,F,k,xt,9,a[21]),k=f(k,U,B,F,Zi,14,a[22]),F=f(F,k,U,B,ce,20,a[23]),B=f(B,F,k,U,Ve,5,a[24]),U=f(U,B,F,k,Wn,9,a[25]),k=f(k,U,B,F,H,14,a[26]),F=f(F,k,U,B,Ge,20,a[27]),B=f(B,F,k,U,_i,5,a[28]),U=f(U,B,F,k,z,9,a[29]),k=f(k,U,B,F,se,14,a[30]),F=f(F,k,U,B,Pt,20,a[31]),B=u(B,F,k,U,X,4,a[32]),U=u(U,B,F,k,Ge,11,a[33]),k=u(k,U,B,F,Ut,16,a[34]),F=u(F,k,U,B,Wn,23,a[35]),B=u(B,F,k,U,M,4,a[36]),U=u(U,B,F,k,ce,11,a[37]),k=u(k,U,B,F,se,16,a[38]),F=u(F,k,U,B,xt,23,a[39]),B=u(B,F,k,U,_i,4,a[40]),U=u(U,B,F,k,R,11,a[41]),k=u(k,U,B,F,H,16,a[42]),F=u(F,k,U,B,Te,23,a[43]),B=u(B,F,k,U,Ve,4,a[44]),U=u(U,B,F,k,Pt,11,a[45]),k=u(k,U,B,F,Zi,16,a[46]),F=u(F,k,U,B,z,23,a[47]),B=p(B,F,k,U,R,6,a[48]),U=p(U,B,F,k,se,10,a[49]),k=p(k,U,B,F,Wn,15,a[50]),F=p(F,k,U,B,X,21,a[51]),B=p(B,F,k,U,Pt,6,a[52]),U=p(U,B,F,k,H,10,a[53]),k=p(k,U,B,F,xt,15,a[54]),F=p(F,k,U,B,M,21,a[55]),B=p(B,F,k,U,Ge,6,a[56]),U=p(U,B,F,k,Zi,10,a[57]),k=p(k,U,B,F,Te,15,a[58]),F=p(F,k,U,B,_i,21,a[59]),B=p(B,F,k,U,ce,6,a[60]),U=p(U,B,F,k,Ut,10,a[61]),k=p(k,U,B,F,z,15,a[62]),F=p(F,k,U,B,Ve,21,a[63]),y[0]=y[0]+B|0,y[1]=y[1]+F|0,y[2]=y[2]+k|0,y[3]=y[3]+U|0},_doFinalize:function(){var m=this._data,E=m.words,S=this._nDataBytes*8,I=m.sigBytes*8;E[I>>>5]|=128<<24-I%32;var g=e.floor(S/4294967296),y=S; __set$(E,(I+64>>>9<<4)+15,(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360) , __set$(E,(I+64>>>9<<4)+14,(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360) ,m.sigBytes=(E.length+1)*4,this._process();for(var R=this._hash,M=R.words,z=0;z<4;z++){var H= __get$(M,z) ; __set$(M,z,(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360) }return R},clone:function(){var m=n.clone.call(this);return m._hash=this._hash.clone(),m}});function l(m,E,S,I,g,y,R){var M=m+(E&S|~E&I)+g+R;return(M<<y|M>>>32-y)+E}function f(m,E,S,I,g,y,R){var M=m+(E&I|S&~I)+g+R;return(M<<y|M>>>32-y)+E}function u(m,E,S,I,g,y,R){var M=m+(E^S^I)+g+R;return(M<<y|M>>>32-y)+E}function p(m,E,S,I,g,y,R){var M=m+(S^(E|~I))+g+R;return(M<<y|M>>>32-y)+E}t.MD5=n._createHelper(d),t.HmacMD5=n._createHmacHelper(d)}(Math),i.MD5})});var Wp,Kp=h(()=>{Wp=xs(jl());N();D();He();A.object({token:c.WINDOW,value:window});A.object({token:c.FREESTAR,dependencies:[c.WINDOW],factory:( _hh$temp45 )=>{ var _hh$temp45$dependencies=_hh$temp45.dependencies,i=_hh$temp45$dependencies.window; var e;return(e=i.freestar)!=null?e:{}}});A.object({token:c.FS_DATA,dependencies:[c.FREESTAR],factory:( _hh$temp46 )=>{ var i=_hh$temp46.dependencies; var e,t;return(t=(e=i.freestar)==null?void 0:e.fsdata)!=null?t:{}}});A.object({token:c.DEVICE_INFO,dependencies:[c.FREESTAR],factory:( _hh$temp47 )=>{ var i=_hh$temp47.dependencies; var e,t;return(t=(e=i.freestar)==null?void 0:e.deviceInfo)!=null?t:{}}});A.object({token:c.GEO_INFO,dependencies:[c.FREESTAR],factory:( _hh$temp48 )=>{ var i=_hh$temp48.dependencies; var e,t;return(t=(e=i.freestar)==null?void 0:e.locData)!=null?t:{}}});A.object({token:c.PAGE,defaultAlias:"page",dependencies:[c.FREESTAR,c.DISPENSARY_DATA],factory:( _hh$temp49 )=>{ var i=_hh$temp49.dependencies;  let _hh$temp50=i,e=_hh$temp50.freestar,t=_hh$temp50.dispensaryData; return{_pageId:null,get pageId(){return this._pageId||this.refreshId(),this._pageId},refreshId(){this._pageId=(0,Wp.default)( __get$(__get$(window,"location"),"href") +e.hitTime+(t.fpc||"")).toString()},get url(){if(!e.url)return"";let s=new URL(e.url);return`${s.origin}${s.pathname}`},get pageViewCount(){return Number(sessionStorage.getItem("pageviews")||0)},set pageViewCount(s){sessionStorage.setItem("pageviews",s)}}}});A.object({token:c.PERFORMANCE_LOGGER,dependencies:[c.FREESTAR],factory:( _hh$temp51 )=>{ var i=_hh$temp51.dependencies;  let _hh$temp52=i,e=_hh$temp52.freestar; return e.performanceLogger}});A.object({token:c.PREBID_MANAGER,dependencies:[{token:c.WINDOW,alias:"win"}],factory:( _hh$temp53 )=>{ var i=_hh$temp53.dependencies; var s,r;let e,t=new Promise(n=>{e=n});return i.win.fsprebid=(s=i.win.fsprebid)!=null?s:{},i.win.fsprebid.que=(r=i.win.fsprebid.que)!=null?r:[],i.win.fsprebid.que.push(()=>{e()}),{get instance(){return i.win.fsprebid},get ready(){return t}}}});A.object({token:c.IDEAL_AD_STACK_MANAGER,defaultAlias:"idealAdStackManager",factory:()=>ee()});A.object({token:c.USER_INFO_MANAGER,dependencies:[c.FREESTAR,c.WINDOW],factory:( _hh$temp54 )=>{ var i=_hh$temp54.dependencies;  let _hh$temp55=i,e=_hh$temp55.freestar,t=e.userInfoManager; return delete e.userInfoManager,t}})});var ko,Wl=h(()=>{ko=class{constructor( _hh$temp56 ){ var e=_hh$temp56.context,_hh$temp56$events=_hh$temp56.events,t=_hh$temp56$events===void 0?[]:_hh$temp56$events; _(this,"_events",[]);this._context=e,t.forEach(s=>this.addEvent(s))}addEvent(e){this._events.push(e)}getJSON(){let e=this._events.reduce((t,s)=>{var r;return  __set$(t,s.type,(r=__get$(t,s.type))!=null?r:[]) , __get$(t,s.type) .push(s.payload),t},{});return b(b({},this._context),e)}get size(){return this._events.length}}});function Bo( _hh$temp57 ){ var i=_hh$temp57.placementName,e=_hh$temp57.slotId; !i||!e||(freestar.dynamicSlotLibrary||(freestar.dynamicSlotLibrary={}), __set$(freestar.dynamicSlotLibrary,e,i) )}function Fo( _hh$temp58 ){ var i=_hh$temp58.slotId; function e(){let t=ie({name:i});return t&&t.name?t.name:"unknown"}return i?freestar.dynamicSlotLibrary&& __get$(freestar.dynamicSlotLibrary,i) ? __get$(freestar.dynamicSlotLibrary,i) :(freestar.dynamicSlotLibrary&&! __get$(freestar.dynamicSlotLibrary,i) ,e()):"unknown"}var Kl=h(()=>{Q()});function Qp( _hh$temp59 ){ var i=_hh$temp59.placementName,e=_hh$temp59.path; !i||!e||(window.freestar.dynamicPathLibrary||(freestar.dynamicPathLibrary=[]),window.freestar.dynamicPathLibrary.push({placementName:i,path:e}))}function Uo( _hh$temp60 ){ var i=_hh$temp60.path; return i?window.freestar.dynamicPathLibrary.find(e=>e.path===i):"unknown"}var Ql=h(()=>{});function Ti( _hh$temp61 ){ var i=_hh$temp61.placementName,e=_hh$temp61.slotId,t=_hh$temp61.path; e&&Bo({placementName:i,slotId:e}),t&&Qp({placementName:i,path:t})}function be( _hh$temp62 ){ var _hh$temp62$slotId=_hh$temp62.slotId,i=_hh$temp62$slotId===void 0?null:_hh$temp62$slotId,_hh$temp62$path=_hh$temp62.path,e=_hh$temp62$path===void 0?null:_hh$temp62$path; return i?Fo({slotId:i}):e?Uo({path:e}):!1}var Jp=h(()=>{Kl();Ql()});var Fe=h(()=>{Jp();Kl();Ql()});var si,Zp,Go,uw,Jl,Vo=h(()=>{he();Q();Fe();N();D();si=[],Zp=function(i){ let _hh$temp63=i,e=_hh$temp63.lineItemId,t=si.findIndex(s=>s.lineItemId===e); e&&t&&t<0?si.push({lineItemId:e,demandSourceType:null,slots:[i.slot.getSlotElementId()]}):t!="undefined"&&typeof  __get$(si,t) !="undefined"&&( __get$(si,t) .slots.find(r=>r===i.slot.getSlotElementId())|| __get$(si,t) .slots.push(i.slot.getSlotElementId()))},Go=function(){return T(this,null,function*(){let i=si.filter(t=>t.demandSourceType===null),e=t=>{for(let s in t.demandSources){let r=si.findIndex(n=>n.lineItemId===Number(s)); __get$(si,r) .demandSourceType= __get$(t.demandSources,s) }};if(i.length>0){let s=yield(yield fetch(`${freestar.msg.dispensaryURL}/demand-source`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lineItems:i.map(r=>r.lineItemId)}),credentials:"include"})).json();s.demandSources&&e(s),uw(),freestar.superflex&&freestar.superflex.checkLineItems&&freestar.superflex.checkLineItems({needed:i})}})},uw=function(){G.instance.resolve(c.AD_REFRESHER).then(i=>{si.forEach(e=>{(e.demandSourceType==="DIRECT"||e.demandSourceType==="TRAFFICKED")&&e.slots.forEach(t=>{i.setDirectAdRefresh(t)})})})},Jl=( _hh$temp64 ,s)=>{ var i=_hh$temp64.bidder,e=_hh$temp64.adUnitCode,t=_hh$temp64.testData; t&&(freestar=t.freestar);let r=a(e),n=Ds(r)?r:void 0;function o(){let d=ie({name:be({slotId:e})});return!d&& __get$(freestar.dynamicSlotLibrary,e) && __get$(fsdata.placements,__get$(freestar.dynamicSlotLibrary,e)) &&(d= __get$(freestar.fsdata.placements,__get$(freestar.dynamicSlotLibrary,e)) ),d}function a(){let d=o(e);return d&&d.outOfPage==!0?-1:d&&d.adRefreshRate&&d.adRefreshRate>0?d.adRefreshRate:freestar.fsdata.adRefreshRate&&freestar.fsdata.adRefreshRate>0?freestar.fsdata.adRefreshRate:0}return r&&n&&s&&n>0&&s.time>n&&( __get$(freestar.refreshLibrary,e) ||( __set$(freestar.refreshLibrary,e,{}) ), __get$(freestar.refreshLibrary,e) .refreshTime=s.time,n=s.time,freestar.log(10,`Set Refresh Rate: ${i} won. Changing refresh rate to ${s.time} due to ${s.rule}`)),n}});function ht(i){ let _hh$temp65=i,e=_hh$temp65.name,t=_hh$temp65.detail,s=new CustomEvent(e,{detail:t}); window.dispatchEvent(s)}var hs=h(()=>{});function hw(i,e){let t={};return window.freestar.config.targeting&&Array.isArray(window.freestar.config.targeting)&&(t=window.freestar.config.targeting.find(function(s){return Object.keys(s).includes(e)})),t&&(i=b(b({},i), __get$(t,e) )),i}function vi(i,e=null,t=null){try{let s=hw(t,e);s&&i.setConfig({targeting:s})}catch(s){freestar.log(49,"ERROR:","setConfig",...arguments),freestar.log(49,"ERROR:","setConfig",s)}}var Xp=h(()=>{});var nn,Zl=h(()=>{nn={videoAdhesion:{prettyName:"Sticky Footer Video Adhesion",disabled:!1},stickyFooter:{prettyName:"Sticky Footer",disabled:!1,refreshDisabled:!1,refreshInterval:0},video:{prettyName:"Video",disabled:!1,refreshDisabled:!1,refreshInterval:0},standAloneVideo:{prettyName:"Stand Alone Video",disabled:!1,refreshDisabled:!1,refreshInterval:0},pushdown:{prettyName:"Pushdown",disabled:!1,refreshDisabled:!1,refreshInterval:0},dynamicAds:{prettyName:"Dynamic Ads",disabled:!1,refreshDisabled:!1,refreshInterval:0,optionsPath:"dynamicAdOptions"},dynamicAdsV2:{prettyName:"Dynamic Ads V2",disabled:!1,refreshDisabled:!1,refreshInterval:0,optionsPath:"dynamicAdOptionsV2"},footerBidding:{prettyName:"Footer Bidding",disabled:!1,refreshDisabled:!1,refreshInterval:0},superflex:{prettyName:"Superflex",disabled:!1,refreshDisabled:!1,refreshInterval:0},slidingUnit:{prettyName:"Sliding Unit",disabled:!1,refreshDisabled:!1,refreshInterval:0},sideWall:{prettyName:"Sidewall",disabled:!1,refreshDisabled:!1,refreshInterval:0},pageGrabber:{prettyName:"Page Grabber",disabled:!1,refreshDisabled:!1,refreshInterval:0},interstitial:{prettyName:"Interstitial",disabled:!1,refreshDisabled:!1,refreshInterval:0},googleInterstitial:{prettyName:"Google Interstitial",disabled:!1,refreshDisabled:!1,refreshInterval:0},dianomiContentRec:{prettyName:"Dianomi Content Recommendation",disabled:!1,refreshDisabled:!1,refreshInterval:0},lazyLoad:{prettyName:"Lazy Loaded Ads",disabled:!1,refreshDisabled:!1,refreshInterval:0},iai:{prettyName:"Intelligent Ad Insert",disabled:!1,refreshDisabled:!1,refreshInterval:0},stickyRail:{prettyName:"Sticky Rail",disabled:!1,refreshDisabled:!1,refreshInterval:0}}});var pw,me,Qe=h(()=>{Zl();pw=function( _hh$temp66 ){ var i=_hh$temp66.name,_hh$temp66$win=_hh$temp66.win,e=_hh$temp66$win===void 0?window:_hh$temp66$win; var t;return(t= __get$(e.freestar.config.products,i) )!=null&&t.disabled?(e.freestar.log(1,`${ __get$(nn,i) .prettyName} Disabled via freestar.config.products.${i}.disabled`),!0):!1},me=pw});var mw,Je,Xl=h(()=>{lt();mw=(i,e)=>!!(i!=null&& __get$(i,e) )&&tt({placement:i,type:e}),Je=( _hh$temp67 )=>{ var i=_hh$temp67.type,e=_hh$temp67.getName,t=_hh$temp67.isActive; if(!i&&typeof t!="function")throw new Error("[createProductStrategy] Either 'type' or 'isActive' function must be provided.");return{type:i,getName:e,isActive:s=>typeof t=="function"?t(s):mw(s,i)}}});var em,tm,im=h(()=>{At();Xl();Ht();em=[Je({type:J.PUSHDOWN_OPTIONS,getName:()=>zo(J.PUSHDOWN_OPTIONS)}),Je({type:J.SIDE_WALL_OPTIONS,getName:()=>zo(J.SIDE_WALL_OPTIONS)}),Je({type:J.CUBE_OPTIONS,getName:()=>zo(J.CUBE_OPTIONS)}),Je({type:J.STICKY_FOOTER_OPTIONS,getName:i=>{var e;return(e=i==null?void 0:i.stickyFooterOptions)!=null&&e.video?"stickyFooterVideo":"stickyFooter"}}),Je({type:J.CAROUSEL_OPTIONS,getName:i=>sm(i)}),V(b({},Je({getName:()=>"video",isActive:i=>{var e,t,s;return!!((e=i==null?void 0:i.standAloneVideoOptions)!=null&&e.active||(t=i==null?void 0:i.connatixOptions)!=null&&t.active||(s=i==null?void 0:i.primisOptions)!=null&&s.active)}})),{disabledCheckNames:["standAloneVideo","primis","connatix"]}),Je({getName:i=>rm(i)?"IAI-FC":"flyingCarpet",isActive:i=>ec(i)})],tm=[Je({type:J.DYNAMIC_AD_OPTIONS_V2,getName:()=>"EAI"}),Je({type:J.SLIDING_UNIT_OPTIONS,getName:()=>"slidingStickyAds"}),Je({getName:()=>"slidewall",isActive:i=>!!(i!=null&&i.sideWallOptions&&i.sideWallOptions.type!==0&&i.sideWallOptions.slidewallEnabled)}),Je({getName:()=>"IAI",isActive:i=>{var e,t;return!!((t=(e=i.selectedSize)==null?void 0:e.intelligentAdInsertConfig)!=null&&t.active)}}),Je({getName:()=>"stickyRail",isActive:i=>{var e;return(e=i==null?void 0:i.stickyRailOptions)==null?void 0:e.active}}),Je({getName:()=>"superflex",isActive:i=>!!(i!=null&&i.superflex||i!=null&&i.superflexV2)}),Je({getName:()=>"lazy",isActive:i=>i==null?void 0:i.lazyAd})]});var nm=h(()=>{im()});function $e(i,e=window){if(!i)return"";for(let _hh$temp68 of em) {let t=_hh$temp68.isActive,s=_hh$temp68.getName,r=_hh$temp68.disabledCheckNames;if(t(i)){let n=s(i);if((Array.isArray(r)?r:[n]).some(d=>!me({name:d,win:e})))return n;}} return"display"}function qt(i){if(!i)return"";let e=[];for(let _hh$temp69 of tm) {let t=_hh$temp69.isActive,s=_hh$temp69.getName;t(i)&&e.push(s(i));} return e.join(", ")||null}var om=h(()=>{Qe();nm()});function sm(i){var t;let e=(t=i==null?void 0:i.name)==null?void 0:t.match(/carousel_([a-z])/i);return e?e[0].toLowerCase():""}function zo(i){return  __call$(i,"replace",[/Options.*$/i,""]) }var am=h(()=>{});var xe,Nt,Ho,tc,Yt,$o,ge,$s=h(()=>{xe="slotRenderEnded",Nt="slotRequested",Ho="slotOnload",tc="impressionViewable",Yt="15184186",$o="1966186",ge={UUID:"fs_uuid",REFRESH:"fsrefresh",BID:"fsbid",PLACEMENT_NAME:"fs_placementName",REBID:"fsrebid",PRODUCT:"fs_ad_product",PRODUCT_OPTIMIZATION:"fs_ad_optimization",FLOORS_ID:"floors_id",FLOORS_HOUR:"floors_hour",ITF:"fsitf",CDEP:"cdep",FS_SESSION_ID:"fs_session_id",FS_PAGEVIEW_ID:"fs_pageview_id",FS_OPTIMIZATION:"fs_optimization",FS_VERSION:"fs_version",TEST:"test",TEST_GROUP:"tg",BLOCK:"block",REFERRER:"referrer",USER_AGENT:"user-agent",BROWSI_PP:"browsiPP",FLOORS_USER:"floors_user",FLOORS_RTT:"floors_rtt",DAS_TEST_GROUP:"fs_testgroup",DAS_CS_MASK:"fs_clientservermask"}});var qs,ri,qo,Ys,js,Ri,dm,Yo,Ws,jo,Wo,ic=h(()=>{qs="STICKY_FOOTER_RESIZE",ri="NATIVE_RENDER_ENDED",qo="BEFORE_NATIVE_RENDER",Ys="GAM_SLOT_DESTROYED",js="GAM_SLOT_CREATED",Ri="GAM_ALL_SLOTS_DESTROYED",dm="DEVICE_ORIENTATION_CHANGED",Yo="LAZY_AD_INTERSECTED",Ws="AD_INTERSECTED",jo="AD_REFRESH",Wo="AUCTION_START"});var ye,ps=h(()=>{ye={SILENT:0,CORE:5,MODULE:50,VERBOSE:99}});var bt,Ks,lm=h(()=>{he();N();ps();D();bt=class bt{constructor(e){var s,r;let t=zt(e==null?void 0:e.defaultLevel)?ye.VERBOSE:e.defaultLevel;this._defaultLevel=Math.max(t||0,ye.SILENT),this._context=(s=e==null?void 0:e.context)!=null?s:"Pubfig",this.id=(r=e==null?void 0:e.id)!=null?r:bt._instancesCount,bt._instancesCount+=1,zt(e==null?void 0:e.maxLogsLevel)||bt.setMaxLogsLevel(Math.max((e==null?void 0:e.maxLogsLevel)||0,ye.SILENT))}static setMaxLogsLevel(e){bt.maxLogsLevel=e}log(e,t){if(this.maxLogsLevel===ye.SILENT)return; let _hh$temp70=t!=null?t:{},_hh$temp70$level=_hh$temp70.level,s=_hh$temp70$level===void 0?this._defaultLevel:_hh$temp70$level; this.maxLogsLevel>=s&&console.info(...this._getLogArguments(e,t))}error(e,t){console.error(...this._getArguments(e,t==null?void 0:t.context))}warning(e,t){console.warn(...this._getArguments(e,t==null?void 0:t.context))}info(e,t){console.info(...this._getArguments(e,t==null?void 0:t.context))}table(e,t,s){if(this.maxLogsLevel===ye.SILENT)return; let _hh$temp71=s!=null?s:{},_hh$temp71$level=_hh$temp71.level,r=_hh$temp71$level===void 0?this._defaultLevel:_hh$temp71$level; this.maxLogsLevel>=r&&(this.log(e,s),console.table(t))}groupCollapsed(e,t){if(this.maxLogsLevel===ye.SILENT)return; let _hh$temp72=t!=null?t:{},_hh$temp72$level=_hh$temp72.level,s=_hh$temp72$level===void 0?this._defaultLevel:_hh$temp72$level; this.maxLogsLevel>=s&&console.groupCollapsed(...this._getLogArguments(e,t==null?void 0:t.context))}groupEnd(){this.maxLogsLevel!==ye.SILENT&&console.groupEnd()}setLevel(e){this._defaultLevel=e}get maxLogsLevel(){return bt.maxLogsLevel}setContext(e){this._context=e}createLogger(e,t=this._defaultLevel){return bt._instancesCount+=1,new bt({defaultLevel:t,context:e,id:bt._instancesCount})}_getLogArguments(e, _hh$temp73 ={}){ var t=_hh$temp73.context,s=_hh$temp73.styles; return[`%c${t!=null?t:this._context}:`,this._getStyles(s),...this._getMessages(e)]}_getStyles(e){return e||`background: hsl(${(150+this.id*30)%360}, 40%, 50%); color: #fff; border-radius: 3px; padding: 3px`}_getMessages(e){return Array.isArray(e)?e:[e]}_getArguments(e,t){let s=Array.isArray(e)?e:[e];return[`${t!=null?t:this._context}: `,...s]}};_(bt,"_instancesCount",0),_(bt,"maxLogsLevel",ye.SILENT);Ks=bt;A.class(Ks,{token:c.LOGGER,defaultAlias:"logger",injectionMode:bi.FOR_FEATURE,dependencies:[c.CONFIG_MANAGER],factory: _hh$temp74=>{var _hh$temp74$dependencies=_hh$temp74.dependencies,_hh$temp74$dependencies$assign=_hh$temp74$dependencies===void 0?{}:_hh$temp74$dependencies,i=_hh$temp74$dependencies$assign.config;return new Ks({maxLogsLevel:i.logLevel});} })});var Qs,cm=h(()=>{Qs={INIT:"Init",INIT_COMPLETE:"Init complete",INIT_FAILED:"Init failed"}});var on=h(()=>{lm();cm()});function sc(){return window.googletag.pubads&&window.googletag.pubads().getSlots()}function Ko( _hh$temp75 ){ var i=_hh$temp75.elementId; if(i)return sc().filter(e=>e.getSlotElementId()===i)[0]}function fm(i=[]){$("fs-dev-gam")&&gw(i,$o)}function gw(i,e){i.forEach(t=>{var s;(s=t.dfpId)!=null&&s.includes(Yt)&&(t.dfpId= __call$(t.dfpId,"replace",[Yt,e]) )})}var an=h(()=>{et();$s()});var rc,nc,de,st=h(()=>{Fe();Q();lt();an();rc=class{constructor( _hh$temp76 ){ var _hh$temp76$placement=_hh$temp76.placement,e=_hh$temp76$placement===void 0?null:_hh$temp76$placement,_hh$temp76$prebid=_hh$temp76.prebid,t=_hh$temp76$prebid===void 0?null:_hh$temp76$prebid,_hh$temp76$slot=_hh$temp76.slot,s=_hh$temp76$slot===void 0?null:_hh$temp76$slot; this.placement=e,this.prebid=t,this.slot=s,this.trackedAdIds=new Set,this.states=[],this.renderMap=new Map}update( _hh$temp77 ){ var _hh$temp77$prebid=_hh$temp77.prebid,e=_hh$temp77$prebid===void 0?null:_hh$temp77$prebid,_hh$temp77$slot=_hh$temp77.slot,t=_hh$temp77$slot===void 0?null:_hh$temp77$slot; e&&(this.prebid=e),t&&(this.slot=t)}getKVPs(){if(!this.slot)return null; let e=this.slot.getTargetingMap(),t=Object.entries(e).flatMap(_hh$temp79=>{var _hh$temp80=__arrayFrom$(_hh$temp79),n=_hh$temp80[0],o=_hh$temp80[1];return o.map(a=>[n,a]);}),_hh$temp78=googletag.getConfig("targeting"),s=_hh$temp78.targeting,r=Object.keys(s).flatMap(n=>__get$(s,n).map(a=>[n,a])); return[...t,...r]}getWinningBid(){if(!this.prebid)return null;let e=fsprebid.getAllWinningBids().find(t=>this.prebid&&t.adUnitCode===this.prebid.code&&!this.trackedAdIds.has(t.adId));return e?(this.trackedAdIds.add(e.adId),e.adId):null}setAUUID( _hh$temp81 ){ var e=_hh$temp81.fsAuctionId; var t,s;(s=(t=this.slot)==null?void 0:t.setTargeting)==null||s.call(t,"fs-auuid",e)}getStateByFsAuctionId( _hh$temp82 ){ var e=_hh$temp82.fsAuctionId; return this.states.find(t=>t.fsAuctionId===e)||!1}saveState( _hh$temp83 ){ var e=_hh$temp83.fsAuctionId,t=_hh$temp83.auctionType,_hh$temp83$prebidAuctionId=_hh$temp83.prebidAuctionId,s=_hh$temp83$prebidAuctionId===void 0?null:_hh$temp83$prebidAuctionId,r=_hh$temp83.rebid; this.setAUUID({fsAuctionId:e}),this.states.push({fsAuctionId:e,prebidAuctionId:s,auctionType:t,rebid:r})}isDisplayAd(){return!["stickyFooter","sideWall","pushdown","stickyRail"].some(t=>tt({placement:this.placement,type:`${t}Options`}))}getSlotId(){var e,t,s;return((e=this.prebid)==null?void 0:e.code)||((t=this.slot)==null?void 0:t.getSlotElementId())||((s=this.placement)==null?void 0:s.name)}},nc=class{constructor(){this.adUnits=new Map}add( _hh$temp84 ){ var _hh$temp84$placement=_hh$temp84.placement,e=_hh$temp84$placement===void 0?null:_hh$temp84$placement,_hh$temp84$prebid=_hh$temp84.prebid,t=_hh$temp84$prebid===void 0?null:_hh$temp84$prebid,_hh$temp84$slot=_hh$temp84.slot,s=_hh$temp84$slot===void 0?null:_hh$temp84$slot; let r=(s==null?void 0:s.getSlotElementId())||(t==null?void 0:t.code);if(r){if(this.adUnits.has(r))this.adUnits.get(r).update({prebid:t,slot:s});else if(e||(e=t?ie({name:Fo({slotId:t.code})}):s?ie({name:Uo({path:s.getAdUnitPath()}).placementName}):null),e){s=s!=null?s:Ko({elementId:r});let n=new rc({placement:e,prebid:t,slot:s});this.adUnits.set(r,n)}}}getAdUnitByPlacementName(e){return[...this.adUnits.values()].find(t=>{var s;return((s=t.placement)==null?void 0:s.name)===e})||!1}getAdUnitByPrebidCode(e){return this.adUnits.get(e)||!1}getAdUnitBySlotElementId(e){return Array.from(this.adUnits.values()).find(t=>t.slot&&t.slot.getSlotElementId()===e)||!1}getAdUnitBySlotAdUnitPath(e){return[...this.adUnits.values()].find(t=>{var s;return((s=t.slot)==null?void 0:s.getAdUnitPath())===e})||!1}},de=new nc;window.freestar&&window.freestar.queue&&window.freestar.queue.push(()=>{window.freestar.adUnitManager=de})});var Ze,um,hm,pm,jt=h(()=>{Ze={IMMEDIATE:"immediate",MAIN:"main",BEACON:"beacon",ERROR:"error"},um=["fsrefresh","fsrebid","fs_uuid","floors_id","floors_hour","fs_placementName","fs_ad_product","fs_ad_optimization","fs_clientservermask","amznbid","amznp","fs-auuid","fsbid","fsitf","fs_session_id","fs_pageview_id","fs_version","user-agent","floors_user","floors_rtt","fs_testgroup","fs_carousel"],hm=["fsrefresh","fs_ad_product","fsitf","fs_ad_optimization"],pm=["fs_clientservermask","fs_ad_product","fs_testgroup","floors_rtt","fsrefresh","floors_hour","floors_id","fsrebid","fs_ad_optimization"]});var K,Oe=h(()=>{jt();K=class{constructor(e,t){_(this,"type","default");this._payload=this._buildPayload(e),this._topic=t}get payload(){return this._payload}get topic(){return this._topic||Ze.MAIN}setTopic(e){this._topic=e}setType(e){this.type=e}_buildPayload(e){return e||{}}}});var Z,Qo,ms=h(()=>{Oe();Z=class extends K{constructor(){super(...arguments);_(this,"type","customEvent")}_buildPayload(t){ let _hh$temp85=t,s=_hh$temp85.eventType,r=_hh$temp85.data,n=_hh$temp85.eventName; return{eventType:s,eventName:n,jsonValue:JSON.stringify(r)}}},Qo=class extends K{constructor(){super(...arguments);_(this,"type","contentRecommendationPartnerImpression")}get payload(){ let _hh$temp86=this._payload,t=_hh$temp86.partnerName,s=_hh$temp86.placementName,r=_hh$temp86.contextId; return{eventType:"contentRecommendationPartnerImpression",partnerName:t,placementName:s,contextId:r}}}});function w( _hh$temp87 ,f=document){ var _hh$temp87$type=_hh$temp87.type,i=_hh$temp87$type===void 0?"div":_hh$temp87$type,_hh$temp87$classList=_hh$temp87.classList,e=_hh$temp87$classList===void 0?[]:_hh$temp87$classList,_hh$temp87$id=_hh$temp87.id,t=_hh$temp87$id===void 0?!1:_hh$temp87$id,_hh$temp87$src=_hh$temp87.src,s=_hh$temp87$src===void 0?!1:_hh$temp87$src,_hh$temp87$name=_hh$temp87.name,r=_hh$temp87$name===void 0?!1:_hh$temp87$name,_hh$temp87$attributes=_hh$temp87.attributes,n=_hh$temp87$attributes===void 0?[]:_hh$temp87$attributes,_hh$temp87$children=_hh$temp87.children,o=_hh$temp87$children===void 0?[]:_hh$temp87$children,_hh$temp87$style=_hh$temp87.style,a=_hh$temp87$style===void 0?{}:_hh$temp87$style,d=_hh$temp87.innerHTML,l=_hh$temp87.textContent; let u=f.createElement(i);return e.length&&(u.className=e.join(" ")),s&&(u.src=s),t&&(u.id=t),r&&u.setAttribute("name",r),Array.isArray(n)?n.forEach(p=>{Object.entries(p).forEach(( _hh$temp88 )=>{ var _hh$temp89=__arrayFrom$(_hh$temp88),m=_hh$temp89[0],E=_hh$temp89[1]; u.setAttribute(m,E)})}):Object.entries(n).forEach(( _hh$temp90 )=>{ var _hh$temp91=__arrayFrom$(_hh$temp90),p=_hh$temp91[0],m=_hh$temp91[1]; u.setAttribute(p,m)}),Object.keys(a).length&&ni(u,a),d&&(u.innerHTML=d),l&&(u.textContent=l),o.length&&o.forEach(p=>{p&&u.appendChild(p)}),u}function Ie(i,e,t=null,s,r=!0,n=!1,o=!0,a){try{let d=w({type:"script"});i&&(d.src=i),o&&d.setAttribute("data-owner","freestar"),s&&(d.textContent=s),t&&(d.id=t),r&&(d.async=r),typeof n!="undefined"&&(d.defer=n),d.type="text/javascript";let l=null;e&&d.addEventListener("load",()=>{e(),l&&l.disconnect()},{once:!0}),a&&d.addEventListener("error",f=>{a(f),l&&l.disconnect()}),document.getElementsByTagName("head")[0].appendChild(d),"MutationObserver"in window&&(l=new MutationObserver(f=>{f.forEach(u=>{u.attributeName==="type"&&document.querySelectorAll('[type="osano/blocked"]').forEach(p=>{p===d&&(console.warn("Script was blocked by Osano:",i||t),a&&a(new Event("osano-blocked")),l.disconnect())})})}),l.observe(d,{attributes:!0,attributeFilter:["type"]}))}catch(d){G.instance.resolve(c.ANALYTICS).then(l=>{l.track(new Z({eventName:"LOAD_SCRIPT_FAILED",data:{scriptSrc:i,id:t,error:d.message}}))})}}function mm(){if(window.freestar.config.disabledProducts)for(let i in window.freestar.config.disabledProducts)Object.prototype.hasOwnProperty.call(window.freestar.config.disabledProducts,i)&&( __get$(window.freestar.config.products,i) ===void 0?console.error(`Freestar product name: ${i} does not exist.`): __get$(window.freestar.config.products,i) .disabled= __get$(window.freestar.config.disabledProducts,i) )}var ni,gs,Js,le=h(()=>{ms();N();D();ni=(i,e)=>(i&&Object.entries(e).forEach(( _hh$temp92 )=>{ var _hh$temp93=__arrayFrom$(_hh$temp92),t=_hh$temp93[0],s=_hh$temp93[1];  __set$(i.style,t,s) }),i);gs=(i,e=null,t=null,s={})=>{ let _hh$temp94=s,_hh$temp94$defer=_hh$temp94.defer,r=_hh$temp94$defer===void 0?!1:_hh$temp94$defer; return new Promise((n,o)=>{Ie(i,n,e,t,!0,r,!0,o)})};Js=(i,e)=>i[0]+i[1]<e[0]+e[1]?1:e[0]+e[1]<i[0]+i[1]?-1:0});function gm( _hh$temp95 ){ var i=_hh$temp95.slotArray; window.__iasPET.queue=window.__iasPET.queue||[],window.__iasPET.queue.push({adSlots:i,dataHandler:function(){window.__iasPET.setTargetingForGPT()}})}function _w(){let i=[];sc().forEach(e=>i.push(new Jo(e))),i.length&&gm({slotArray:i})}function _m( _hh$temp96 ){ var _hh$temp96$slot=_hh$temp96.slot,i=_hh$temp96$slot===void 0?null:_hh$temp96$slot; typeof window.__iasPET!="undefined"&&(freestar.log(1,"Publisher SlotOperations IAS: iasPETTargeting found"),i?gm({slotArray:[new Jo(i)]}):_w())}function Em(){freestar.log(1,"Publisher SlotOperations Testing IAS: loading script"),Ie("//cdn.adsafeprotected.com/iasPET.1.js"),window.__iasPET=window.__iasPET||{};let i=window.__iasPET;i.queue=i.queue||[],i.pubId="10249"}var Jo,ym=h(()=>{le();an();Jo=class{constructor(e){this.adSlotId=e.getSlotElementId(),this.size=e.getSizes().map(t=>t==="fluid"?[1,1]:[t.getWidth(),t.getHeight()]),this.adUnitPath=e.getAdUnitPath()}}});function Sm( _hh$temp97 ){ var _hh$temp97$slot=_hh$temp97.slot,i=_hh$temp97$slot===void 0?null:_hh$temp97$slot; window.moatPrebidApi&&(typeof window.moatPrebidApi.slotDataAvailable=="function"&&window.moatPrebidApi.slotDataAvailable()||typeof window.moatPrebidApi.pageDataAvailable=="function"&&window.moatPrebidApi.pageDataAvailable())&&(freestar.log(1,"Publisher SlotOperations Moat: moatSlotTargetingReady"),i?window.top.moatPrebidApi.setMoatTargetingForSlot(i):window.moatPrebidApi.setMoatTargetingForAllSlots())}function oc(i){i=i||0,i++,window.moatPrebidApi&&typeof window.moatPrebidApi.enableLogging=="function"?(freestar.log(1,"Publisher SlotOperations Testing Moat: Logging Enabled"),window.moatPrebidApi.enableLogging()):i<10&&(freestar.log(1,"Publisher SlotOperations Testing Moat: Not set in global try again."),setTimeout(function(){oc(i)},200))}var Im=h(()=>{});function Am( _hh$temp98 ){ var _hh$temp98$slot=_hh$temp98.slot,i=_hh$temp98$slot===void 0?null:_hh$temp98$slot; _m({slot:i}),Sm({slot:i})}function bm(){switch($("publisher-slot-op")){case"ias":freestar.log(1,"Publisher SlotOperations Testing IAS"),Em();break;case"moat":freestar.log(1,"Publisher SlotOperations Testing MOAT"),oc();break;default:freestar.log(1,"No Publisher SlotOperations Testing Params");break}}var ac=h(()=>{ym();Im();it()});var Zo,wm=h(()=>{ic();on();N();Fe();et();ns();D();At();Ce();wi();ps();jr();st();Zs();$s();cs();ac();Q();he();qe();He();Zo=class{constructor( _hh$temp99 ){ var e=_hh$temp99.logger,t=_hh$temp99.dispensaryData,s=_hh$temp99.eventBus,r=_hh$temp99.sessionStorageManager,n=_hh$temp99.adUnitManager,o=_hh$temp99.floorsManager,a=_hh$temp99.idealAdStackManager,d=_hh$temp99.freestar,l=_hh$temp99.userInfoManager,f=_hh$temp99.page,_hh$temp99$win=_hh$temp99.win,u=_hh$temp99$win===void 0?window:_hh$temp99$win; this._window=u,this._logger=e,this._dispensaryData=t,this._eventBus=s,this._page=f,this._adUnitManager=n,this._floorsManager=o,this._idealAdStackManager=a,this._userInfoManager=l,this._freestar=d,this._sessionStorageManager=r,this._instance=null,this.googletagCorrelatorUpdate=!0,this.gamMap={},this._logger.setContext("GamManager"),this._logger.setLevel(ye.CORE)}init(){return  new Promise(e=>{this._logger.log(Qs.INIT),this._window.googletag=this._window.googletag||{},this._window.googletag.cmd=this._window.googletag.cmd||[],this._window.googletag.cmd.push(()=>{var a,d,l;this._instance=this._window.googletag,this.instance.setConfig({disableInitialLoad:!0}),this.instance.setConfig({contentPause:!1});let _hh$temp100=(a=this._dispensaryData.envAndConfig)!=null?a:{},t=_hh$temp100.altUrl,_hh$temp101=this._dispensaryData.fsdata,s=_hh$temp101.collapseEmptyDivs,r=_hh$temp101.disableSingleRequest;t&&this.instance.pubads().set("page_url",t),s&&(this._logger.log("GAM Option set to collapseDiv: ON_NO_FILL"),googletag.setConfig({collapseDiv:"ON_NO_FILL"})),r||this.instance.setConfig({singleRequest:!0}),this._setInitialTargeting();let _hh$temp102=(l=this._freestar.config)!=null?l:{},_hh$temp102$ppid=_hh$temp102.ppid,n=_hh$temp102$ppid===void 0?(d=freestar==null?void 0:freestar.msg)==null?void 0:d.fpc:_hh$temp102$ppid,o=_hh$temp102.setNonPersonalizedAds;o&&this.instance.pubads().setRequestNonPersonalizedAds(1),n&&(typeof n=="string"?this.instance.pubads().setPublisherProvidedId(n):this._logger.warning("freestar.config.ppid is not a string and will not be set")),this.instance.enableServices(),this._logger.log(Qs.INIT_COMPLETE),e(this);});}) }get instance(){if(!this._instance)throw new Error("GamManager must be initiated first.");return this._instance}setGlobalTargeting(e,t){var s;(s=this.instance)==null||s.setConfig({targeting:{[e]:Array.isArray(t)?t.map(String):String(t)}})}getGlobalTargeting(e){return e? __get$(this.instance.getConfig("targeting").targeting,e) :this.instance.getConfig("targeting").targeting}setSlotTargeting( _hh$temp103 ){ var e=_hh$temp103.slot,t=_hh$temp103.key,s=_hh$temp103.value; if(!(e!=null&&e.setConfig)||s==null)return;let r=n=>Array.isArray(n)?n.map(String):String(n);if(t){e.setConfig({targeting:{[t]:r(s)}});return}if(typeof s=="object"&&!Array.isArray(s)){let n=Object.fromEntries(Object.entries(s).map( _hh$temp104=>{var _hh$temp105=__arrayFrom$(_hh$temp104),o=_hh$temp105[0],a=_hh$temp105[1];return[o,r(a)];} ));e.setConfig({targeting:n})}}getSlotTargeting( _hh$temp106 ){ var e=_hh$temp106.slot,t=_hh$temp106.key; var s,r,n,o;return t?(r=(s=e==null?void 0:e.getConfig)==null?void 0:s.call(e,"targeting"))==null?void 0: __get$(r.targeting,t) :(o=(n=e==null?void 0:e.getConfig)==null?void 0:n.call(e,"targeting"))==null?void 0:o.targeting}getSlots(){var e,t;return(t=(e=this.instance)==null?void 0:e.pubads())==null?void 0:t.getSlots()}getSlot( _hh$temp107 ={}){ var e=_hh$temp107.elementId; return e?this.getSlots().find(t=>t.getSlotElementId()===e):null}destroySlot( _hh$temp108 ){ var e=_hh$temp108.elementId; let t=this.getSlot({elementId:e});t&&(this.instance.destroySlots([t]),this._eventBus.emit(Ys,{elementId:e}))}isValidDfPId( _hh$temp109 ){ var e=_hh$temp109.specialDfpId,t=_hh$temp109.dfpId; return!!e||!t.includes("{{channel}}")}defineOutOfPageSlot( _hh$temp110 ){ var e=_hh$temp110.dfpId,t=_hh$temp110.elementId; return this.instance.defineOutOfPageSlot(e,t).addService(this.instance.pubads())}get isFsGam(){ let _hh$temp111=this._dispensaryData.fsdata,_hh$temp111$placements=_hh$temp111.placements,e=_hh$temp111$placements===void 0?[]:_hh$temp111$placements; return e.some(t=>t.dfpId.includes(Yt))}get isFsDevGam(){ let _hh$temp112=this._dispensaryData.fsdata,e=_hh$temp112.placements; return e.some(t=>t.dfpId.includes($o))}setGamMapping( _hh$temp113 ){ var e=_hh$temp113.id,t=_hh$temp113.placement; !e||!t|| __get$(this.gamMap,e) ||( __set$(this.gamMap,e,t.dfpId.includes(`/${Yt}/`)) )}createSlot( _hh$temp114 ){ var e=_hh$temp114.placement,t=_hh$temp114.sizes,_hh$temp114$id=_hh$temp114.id,s=_hh$temp114$id===void 0?null:_hh$temp114$id,_hh$temp114$specialDfpId=_hh$temp114.specialDfpId,r=_hh$temp114$specialDfpId===void 0?null:_hh$temp114$specialDfpId,n=_hh$temp114.slotConfig; if(!e)return this._logger.log("No placement provided. Aborting."),null;if(!t&&(t=Xo(e,this._window),!t))return this._logger.log("No sizes found at this resolution. Aborting."),null;s||(s=e.name); let _hh$temp115=e,o=_hh$temp115.outOfPage,a=_hh$temp115.dfpId,d=_hh$temp115.fluidAd,l=this.getSlot({elementId:s}),f=this.isValidDfPId({specialDfpId:r,dfpId:a}); if(f||console.warn(`Ad slot ${a} requires a channel variable but no channel is defined`),l||(o?f&&s&&(l=this.defineOutOfPageSlot({dfpId:r||a,elementId:s})):(d&&!t.includes("fluid")&&t.push("fluid"),f&&(l=this.instance.defineSlot(r||a,t,s).addService(this.instance.pubads())))),l){ let _hh$temp116=this._dispensaryData.fsdata,u=_hh$temp116.siteId; this.instance.enableServices(),this.setGamMapping({id:s,placement:e});let p=[],m={[ge.REFRESH]:"0",[ge.REBID]:"0",[ge.UUID]:Ae()};!ls({siteId:u,placement:e})&&!_s(e,this._dispensaryData.fsdata)&&(m=this._floorsManager.getInitialFloorKVP({placement:e,keyMap:m})),Object.entries(m).forEach(( _hh$temp117 )=>{ var _hh$temp118=__arrayFrom$(_hh$temp117),g=_hh$temp118[0],y=_hh$temp118[1]; p.push({key:g,value:y})});let E=Oi()?e==null?void 0:e.customTargetingPlacementName:e==null?void 0:e.name;E&&p.push({key:ge.PLACEMENT_NAME,value:E});let S=$e(e,this._window);if(p.push({key:ge.PRODUCT,value:S}),!this._idealAdStackManager.isDebugOrTestSession()){let g=this._idealAdStackManager.getConfig(S);g!=null&&g.clientServerMask&&p.push({key:ge.DAS_CS_MASK,value:g.clientServerMask}); let _hh$temp119=this._idealAdStackManager.getServerToServerDetails(),y=_hh$temp119.testGroup; if(y){let R=this._idealAdStackManager.isRefinement()?`${y}${g.targeting}`:y;p.push({key:ge.DAS_TEST_GROUP,value:R})}}if(p.push({key:ge.PRODUCT_OPTIMIZATION,value:qt(e)}),n!=null&&n.targeting)for(let g in n.targeting)Object.prototype.hasOwnProperty.call(n.targeting,g)&&p.push({key:g,value: __get$(n.targeting,g) });p.forEach(( _hh$temp120 )=>{ var g=_hh$temp120.key,y=_hh$temp120.value; g&&!zt(y)&&this.setSlotTargeting({slot:l,key:g,value:y})});let I=localStorage.getItem("brw.prf");return I&&this.setSlotTargeting({slot:l,key:ge.BROWSI_PP,value:I}),Am({slot:l}),Ti({placementName:e.name,slotId:s,path:r||a}),this._adUnitManager.add({placement:e,slot:l}),this._eventBus.emit(js,{elementId:s}),l}return null}refreshWithCorrelatorControl(e){this.googletagCorrelatorUpdate?(this.instance.pubads().refresh(e),this.googletagCorrelatorUpdate=!1):this.instance.pubads().refresh(e,{changeCorrelator:!1})}logTargeting(e){if(this._logger.maxLogsLevel<50)return;this._logger.groupCollapsed("GPT Targeting");let t=25,s=Object.keys(this.getGlobalTargeting()),r=[];for(let n of s){let o=this.getGlobalTargeting(n);r.push({Key:n,Value:o.join()})}r.length>0&&this._logger.table("GPT Site Level Targeting",r,{level:t}),e?Array.isArray(e)||(e=[e]):e=this.getSlots();for(let n of e){let o=[],a=n.getSlotElementId();s=Object.keys(this.getSlotTargeting({slot:n}));for(let d of s){let l=this.getSlotTargeting({slot:n,key:d});o.push({Key:d,Value:l.join()})}o.length>0&&this._logger.table(`GPT Slot (${a}) Targeting`,o,{level:t})}this._logger.groupEnd()}setCoppa(e){this.instance.pubads().setPrivacySettings({childDirectedTreatment:e})}_setInitialTargeting(){let e=j({key:Fs});e&&this.setGlobalTargeting(ge.TEST_GROUP,e); let t=this._sessionStorageManager.getSessionId(),_hh$temp121=this._page,s=_hh$temp121.pageId,_hh$temp122=this._dispensaryData,r=_hh$temp122.cdep; r&&this.setGlobalTargeting(ge.CDEP,r),this.setGlobalTargeting(ge.FS_SESSION_ID,t),this.setGlobalTargeting(ge.FS_PAGEVIEW_ID,s),this.setGlobalTargeting(ge.FS_VERSION,Bp),ct(this._freestar.config,this._dispensaryData.fsdata)&&this.setGlobalTargeting(ge.FS_OPTIMIZATION,"true");let n=$("dfpkey",this._window);n&&this.setGlobalTargeting(ge.TEST,n),$("block",this._window)==="fsdirect"&&this.setGlobalTargeting(ge.BLOCK,"fsdirect"),this._window.document.referrer.search(/facebook/i)>=0?this.setGlobalTargeting(ge.REFERRER,"facebook"):(this._window.document.referrer.search(/twitter/i)>=0||this._window.document.referrer.search(/t.co/i)>=0)&&this.setGlobalTargeting(ge.REFERRER,"twitter");let a={facebook:[/facebook/i,/facebot/i,/FB_IAB/i,/FBAN/i,/FBAV/i],twitter:[/Twitter/i],[this._userInfoManager.userAgent]:null};for(let _hh$temp123 of Object.entries(a)) {let _hh$temp124=__arrayFrom$(_hh$temp123),d=_hh$temp124[0],l=_hh$temp124[1];if(!l||l.some(f=>this._window.navigator.userAgent.search(f)>=0)){this.setGlobalTargeting(ge.USER_AGENT,d);break;}} rs.forEach(d=>{let l=$(d,this._window);l&&this.setGlobalTargeting(d,l)}),this._setDasSiteLevelTargeting()}_setDasSiteLevelTargeting(){this.setGlobalTargeting(ge.FLOORS_USER,String(this._userInfoManager.isKnown)); let _hh$temp125=this._idealAdStackManager.getDynamicAuctionTimeoutDetails(),e=_hh$temp125.roundTripTime; e&&this.setGlobalTargeting(ge.FLOORS_RTT,String(e))}};A.class(Zo,{token:c.GAM_MANAGER,defaultAlias:"gamManager",dependencies:[c.FREESTAR,c.EVENT_BUS,c.DISPENSARY_DATA,c.LOGGER,c.SESSION_STORAGE_MANAGER,c.PAGE,c.USER_INFO_MANAGER],factory: _hh$temp126=>{var i=_hh$temp126.dependencies;return new Zo(V(b({},i),{adUnitManager:de,floorsManager:Mt(),idealAdStackManager:ee()})).init();} })});var Wt=h(()=>{$s();wm()});var Xe=h(()=>{Es()});var Le,Tm,vm,Rm,ea=h(()=>{ue();Le={NO_BRANDING:"NO_BRANDING",GREEN:"GREEN",GRAYSCALE:"GRAYSCALE",GREEN_FOOTER_ONLY:"GREEN_FOOTER_ONLY",GRAYSCALE_FOOTER_ONLY:"GRAYSCALE_FOOTER_ONLY"},Tm=`${ei}/imgs/fslogo-green.svg`,vm=`${ei}/imgs/fslogo-grayscale.svg`,Rm={[Le.GREEN]:Tm,[Le.GRAYSCALE]:vm,[Le.GREEN_FOOTER_ONLY]:Tm,[Le.GRAYSCALE_FOOTER_ONLY]:vm}});var dn,dc=h(()=>{ea();dn=i=>!i||i===Le.NO_BRANDING?null: __get$(Rm,i) });var Xs,ta=h(()=>{Xs=( _hh$temp127 )=>{ var i=_hh$temp127.getIsFound,_hh$temp127$getElement=_hh$temp127.getElement,e=_hh$temp127$getElement===void 0?()=>null:_hh$temp127$getElement,t=_hh$temp127.callback,_hh$temp127$timeout=_hh$temp127.timeout,s=_hh$temp127$timeout===void 0?5e3:_hh$temp127$timeout,_hh$temp127$frequency=_hh$temp127.frequency,r=_hh$temp127$frequency===void 0?300:_hh$temp127$frequency; let n=0,o=i(),a=e();if(o){t(o,a);return}let d=setInterval(()=>{n=n+1;let l=i(),f=e();(l||n>=s/r)&&(t(l,f),clearInterval(d))},r)}});var Ew,yw,Sw,Iw,er,lc=h(()=>{N();D();Wt();Xe();ea();dc();le();ta();he();Ew=700,yw=60,Sw=`Invalid branding value. Expected one of: ${Object.values(Le).join(", ")}`,Iw="Missing mandatory parameter: slotId",er=class{constructor( _hh$temp128 ){ var _hh$temp128$background=_hh$temp128.background,e=_hh$temp128$background===void 0?"linear-gradient(to bottom, #00c389 10%, black 100%)":_hh$temp128$background,_hh$temp128$height=_hh$temp128.height,t=_hh$temp128$height===void 0?"175vh":_hh$temp128$height,_hh$temp128$branding=_hh$temp128.branding,s=_hh$temp128$branding===void 0?"GREEN":_hh$temp128$branding,_hh$temp128$showPoweredBy=_hh$temp128.showPoweredBy,r=_hh$temp128$showPoweredBy===void 0?!0:_hh$temp128$showPoweredBy,n=_hh$temp128.slotId,_hh$temp128$styleVersion=_hh$temp128.styleVersion,o=_hh$temp128$styleVersion===void 0?"parallax":_hh$temp128$styleVersion; _(this,"_elementToggle",(e=!0)=>{if(this.flyingCarpetElement)if(e){let t=this.styleVersion==="new"?"flex":"block";this.flyingCarpetElement.style.setProperty("display",t),this.flyingCarpetElement.style.setProperty("visibility","visible")}else this.flyingCarpetElement.style.setProperty("visibility","hidden")});if(!n)throw new Error(Iw);this.background=e,this.height=t,this.branding=s,this.showPoweredBy=r,this.slotId=n,this.styleVersion=o,this.flyingCarpetElement=null,this.flyingCarpetEffectCallback=null,this.hangtimeWaiter=null,this._bindEvents()}_bindEvents(){G.instance.resolve(c.GAM_MANAGER).then(e=>{e.instance.pubads().addEventListener(xe,( _hh$temp129 )=>{ var t=_hh$temp129.isEmpty,s=_hh$temp129.slot; s.getSlotElementId()===this.slotId&&this.flyingCarpetElement&&(t?this._elementToggle(!1):(this._elementToggle(!0),this.waitForHangtime()))})}),G.instance.resolve(c.EVENT_BUS).then(e=>{e.subscribe(ri,( _hh$temp130 )=>{ var _hh$temp130$payload=_hh$temp130.payload,t=_hh$temp130$payload.elementId; t===this.slotId&&this.flyingCarpetElement&&(this._elementToggle(!0),this.waitForHangtime())})})}_didHangtimeServe(){var n,o,a;let e="xyz-clipping",t=(o=(n=this==null?void 0:this.flyingCarpetElement)==null?void 0:n.classList)==null?void 0:o.contains(e),s=(a=this==null?void 0:this.flyingCarpetElement)==null?void 0:a.querySelector(`.${e}`);return t||s}waitForHangtime(){if(!this.hangtimeWaiter){let e=()=>this._didHangtimeServe(),t=(s,r)=>{s&&this._handleGumgumWin()};this.hangtimeWaiter=ap(()=>Xs({getIsFound:e,callback:t}),5e3)}this.hangtimeWaiter()}_handleGumgumWin(){this.unstyle(),this.stopRefresh()}_createLogo(){let e=dn(this.branding);return w({type:"img",attributes:{src:e,alt:"fs-logo",width:30}})}generateHTML(){let e={original:this._generateOriginalStyleHTML.bind(this),new:this._generateStyleV2HTML.bind(this),parallax:this._generateParallaxStyle.bind(this)};if(! __get$(e,this.styleVersion) )throw new Error(`Unsupported fc style version: ${this.styleVersion}`);return this.flyingCarpetElement= __call$(e,this.styleVersion,[]) ,this.flyingCarpetElement}_generateOriginalStyleHTML(){if(![Le.GREEN,Le.GRAYSCALE,Le.NO_BRANDING].includes(this.branding))throw new Error(Sw);let e=w({classList:["fs-flying-carpet"],style:{background:this.background,height:this.height}}),t=w({classList:["fs-flying-carpet-ad-container"]});if(e.appendChild(t),this.showPoweredBy&&this.branding!==Le.NO_BRANDING){let n=w({classList:["fs-powered-by"]});n.appendChild(this._createLogo()),e.appendChild(n)}let s=w({classList:["fs-flying-carpet-header"]});s.textContent="Advertisement",e.appendChild(s);let r=w({id:this.slotId});return t.appendChild(r),e}_generateStyleV2HTML(){let e=w({classList:["fs-flying-carpet-v2"]}),t=w({classList:["fs-flying-carpet-v2-text-border"]});t.textContent="ADVERTISEMENT",e.appendChild(t);let s=w({classList:["fs-flying-carpet-v2-ad-container"]});e.appendChild(s);let r=w({id:this.slotId});s.appendChild(r);let n=w({classList:["fs-flying-carpet-v2-text-border"]});return n.textContent="SCROLL TO CONTINUE READING",e.appendChild(n),e}_generateParallaxStyle(){let e=w({classList:["fs-flying-carpet-v3"]}),t=w({classList:["fs-flying-carpet-v3-text-border"]});t.textContent="ADVERTISEMENT",e.appendChild(t);let s=w({classList:["fs-flying-carpet-v3-container"]}),r=w({classList:["fs-flying-carpet-v3-content"]}),n=w({classList:["fs-flying-carpet-v3-slot-wrapper"]}),o=w({id:this.slotId,classList:["fs-flying-carpet-v3-slot"]});n.appendChild(o),r.appendChild(n),s.appendChild(r),e.appendChild(s);let a=w({classList:["fs-flying-carpet-v3-text-border"]});return a.textContent="SCROLL TO CONTINUE READING",e.appendChild(a),this._setupFlyingCarpetEffect(s,o),e}_parallaxUnstyle(){this.flyingCarpetElement.classList.remove("fs-flying-carpet-v3"),this.flyingCarpetElement.querySelectorAll(".fs-flying-carpet-v3-text-border").forEach(r=>{r.style.display="none"});let e=["fs-flying-carpet-v3-container","fs-flying-carpet-v3-content","fs-flying-carpet-v3-slot-wrapper","fs-flying-carpet-v3-slot"],t=e.map(r=>`.${r}`).join(",");this.flyingCarpetElement.querySelectorAll(t).forEach(r=>{r.classList.remove(...e)}),this._teardownFlyingCarpetEffect();let s=this.flyingCarpetElement.querySelector(`#${this.slotId}`);s.style.transform="none",s.style.webkitTransform="none"}unstyle(){let e={parallax:this._parallaxUnstyle.bind(this)}; __get$(e,this.styleVersion) && __call$(e,this.styleVersion,[]) }stopRefresh(){let e=this.slotId;freestar.disableRefreshOn({slotId:e})}_setupFlyingCarpetEffect(e,t){if(this.flyingCarpetEffectCallback)return window.addEventListener("scroll",this.flyingCarpetEffectCallback);let s=window.innerHeight<=Ew,r=()=>{let n=e.getBoundingClientRect(),o=window.innerHeight,a=o/2;if(n.top<o&&n.bottom>0){let d=Math.min(Math.max((o-n.top)/o,0),1),l=s?o*.4:o*.1,f=n.top>a?l*(.5-d):l*(d-.5);s&&(f-=yw);let u=`translate(-50%, calc(-50% + ${f}px))`;t.style.transform=u,t.style.webkitTransform=u}};this.flyingCarpetEffectCallback=()=>{requestAnimationFrame(r)},window.addEventListener("scroll",this.flyingCarpetEffectCallback)}_teardownFlyingCarpetEffect(){this.flyingCarpetEffectCallback&&window.removeEventListener("scroll",this.flyingCarpetEffectCallback)}}});var ia,tr,cc=h(()=>{It();Oe();ia=class ia extends K{constructor(){super(...arguments);_(this,"type","auctionStart")}_buildPayload(t){return we(t,ia.payloadProperties)}};_(ia,"payloadProperties",["placementId","DfpId","fsAuctionId","auctionId","auctionType","location","userIds","kvps"]);tr=ia});var ra,sa,Om=h(()=>{It();Oe();cc();ra=class ra extends K{constructor(){super(...arguments);_(this,"type","auctionEnd")}_buildPayload(t){return we(t,ra.payloadProperties)}};_(ra,"payloadProperties",[...tr.payloadProperties,"fsAuctionId","winningBid","advertiserId","campaignId","isEmpty","lineItemId","serviceName","size","sourceAgnosticCreativeId","sourceAgnosticLineItemId","isNativeRender","isGamBypass","isS2SDisabled","unfilled"]);sa=ra});var oa,na,Cm=h(()=>{N();Oe();oa=class oa extends K{constructor(){super(...arguments);_(this,"type","browserInformation")}_buildPayload(t){return we(t,oa.payloadProperties)}};_(oa,"payloadProperties",["canonical","fpc","hitTime","loadTime","winHeight","winWidth","maxHeight","isServerToServer","googleVersion"]);na=oa});var ir,fc=h(()=>{Oe();ir=class{create(){return new K}}});var Ci,aa=h(()=>{fc();Ci=class extends ir{constructor( _hh$temp131 ){ var e=_hh$temp131.win,t=_hh$temp131.freestar,s=_hh$temp131.dispensaryData,r=_hh$temp131.rebidManager; super(),this._win=e,this._freestar=t,this._dispensaryData=s,this._rebidManager=r,this._googletag=this._win.googletag}_getCpm(e){ let _hh$temp132=e,_hh$temp132$cpm=_hh$temp132.cpm,t=_hh$temp132$cpm===void 0?0:_hh$temp132$cpm; return{cpm:Math.trunc(t*1e4),bidCpm:t,originalCpm:t}}_getAuctionTimeout(){ let _hh$temp133=this._dispensaryData,e=_hh$temp133.fsdata; return this._freestar.deviceInfo.device.type=="desktop"?e.timeout:e.mobileTimeout}}});function xm( _hh$temp134 ){ var i=_hh$temp134.prebid,e=_hh$temp134.placementId; var n;if(!e)return 0;let t=(n=i==null?void 0:i.getBidResponsesForAdUnitCode)==null?void 0:n.call(i,e);if(!(t!=null&&t.length))return 0; let s=t.sort((o,a)=>a.cpm-o.cpm),_hh$temp135=__arrayFrom$(s),r=_hh$temp135[0]; return Number(r.cpm)}function sr( _hh$temp136 ){ var i=_hh$temp136.bid,e=_hh$temp136.placementId,t=_hh$temp136.rebidManager,s=_hh$temp136.fsAuctionId,r=_hh$temp136.auctionManager; let n={isRebid:!1,rebidType:"NONE",rebidAttempt:0};try{ let _hh$temp137=i||{},o=_hh$temp137.adUnitCode,a=_hh$temp137.slotId,d=e||o||a; if(t){let l=t.getStatus({adUnitCode:d});if(l)return n.isRebid=l.count>0,n.rebidType=l.type||"NONE",n.rebidAttempt=l.count,n}if(s){let l=r.getAuctionByFsAuctionId(s);if(l){let f=Array.from(l.adUnits).find(u=>{var p,m;return u.placement.name===d||((p=u.prebid)==null?void 0:p.code)===d||((m=u.slot)==null?void 0:m.getSlotElementId())===d});if(f){let u=f.getStateByFsAuctionId({fsAuctionId:s});u&&u.rebid&&(n.isRebid=u.rebid.count>0,n.rebidType=u.rebid.type||"NONE",n.rebidAttempt=u.rebid.count)}}}}catch(o){console.error("Error in getRebid function:",o),console.error("Context:",{bid:i,placementId:e,fsAuctionId:s})}return n}function da( _hh$temp138 ){ var i=_hh$temp138.adUnitCode,e=_hh$temp138.dynamicSlotLibrary; return(e==null?void 0: __get$(e,i) )||i}function xi( _hh$temp139 ){ var i=_hh$temp139.slotId,e=_hh$temp139.slot,t=_hh$temp139.googletag; if(!i&&!e)return;let s=t.pubads().getSlots().find(n=>[i,e].includes(n.getSlotElementId()));return s?s.getConfig("targeting").targeting.fs_uuid.toString():void 0}var ln=h(()=>{});var la,uc,hc,Pm=h(()=>{It();N();D();Oe();aa();ln();jt();st();la=class la extends K{constructor(){super(...arguments);_(this,"type","bidResponse")}_buildPayload(t){return we(t,la.payloadProperties)}};_(la,"payloadProperties",["bidderCode","width","height","adId","cpm","bidCpm","creativeId","pubapiId","currencyCode","requestId","responseTimestamp","requestTimestamp","bidder","adUnitCode","timeToRespond","adjustment","ttl","format","placementId","source","auctionTimeout","fsRebidCount","auctionId","fsuuid","bidderResponseCode","fsAuctionId","bidCpm","kvps"]);uc=la,hc=class extends Ci{constructor( _hh$temp140 ){ var e=_hh$temp140.win,t=_hh$temp140.freestar,s=_hh$temp140.dispensaryData,r=_hh$temp140.auctionManager,n=_hh$temp140.rebidManager; super({win:e,freestar:t,dispensaryData:s}),this._auctionManager=r,this._dispensaryData=s,this._rebidManager=n,this._adUnitManager=de}create(e){var f; let _hh$temp141=e,t=_hh$temp141.mediaType,s=_hh$temp141.currency,r=_hh$temp141.auctionId,n=this._auctionManager.getAuctionByPrebidAuctionId(r),o=n?n.fsAuctionId:null,a=da({adUnitCode:e.adUnitCode,dynamicSlotLibrary:this._freestar.dynamicSlotLibrary}),_hh$temp142=sr({bid:e,placementId:a,rebidManager:this._rebidManager,auctionManager:this._auctionManager}),d=_hh$temp142.rebidAttempt,l=this._adUnitManager.getAdUnitByPrebidCode(e.adUnitCode)||this._adUnitManager.getAdUnitBySlotElementId(a); return  new uc(V(b(b({},e),this._getCpm(e)),{fsRebidCount:d,currencyCode:s,fsuuid:xi({slotId:e.slotId,slot:e.slot,googletag:this._win.googletag}),placementId:a,fsAuctionId:o,auctionTimeout:this._getAuctionTimeout(),format:t.length?t:"unknown",kvps:(f=l==null?void 0:l.getKVPs())==null?void 0:f.filter(_hh$temp143=>{var _hh$temp144=__arrayFrom$(_hh$temp143),u=_hh$temp144[0];return pm.includes(u);})})) }};A.class(hc,{token:"BidResponseAnalyticsEventFactory",defaultAlias:"bidResponseAnalyticsEventFactory",dependencies:[c.FREESTAR,{token:c.WINDOW,alias:"win"},c.DISPENSARY_DATA,c.AUCTION_MANAGER,c.REBID_MANAGER]})});var ca,pc,mc,Dm=h(()=>{N();D();At();He();Fe();Q();jt();Oe();aa();ln();ue();ft();st();ca=class ca extends K{constructor(){super(...arguments);_(this,"type","bidWon")}_buildPayload(t){return we(t,ca.payloadProperties)}};_(ca,"payloadProperties",["bidderCode","width","height","adId","creativeId","cpm","rawCpm","bidCpm","adUrl","requestId","responseTimestamp","requestTimestamp","bidder","adUnitCode","timeToRespond","pbLg","pbMg","pbHg","pbAg","pbDg","pbCg","size","alwaysUseBid","bidderRefresh","isRebid","format","placementId","source","rebidType","prebidAuctionStrategy","dropped","fsRebidCount","dealId","adomain","networkCode","impressionId","countryCode","fsAdProduct","auctionId","originalCpm","fsuuid","cdep","isGamBypass","isS2SDisabled","isNativeRender","fsAuctionId","auctionTimeout","paymentRelationship","kvps"]);pc=ca,mc=class extends Ci{constructor( _hh$temp145 ){ var e=_hh$temp145.win,t=_hh$temp145.freestar,s=_hh$temp145.dispensaryData,r=_hh$temp145.auctionManager,n=_hh$temp145.rebidManager; super({win:e,freestar:t,dispensaryData:s}),this._auctionManager=r,this._dispensaryData=s,this._rebidManager=n,this._adUnitManager=de}create(e){var S; let _hh$temp146=e,t=_hh$temp146.mediaType,s=_hh$temp146.currency,r=_hh$temp146.adUnitCode,n=_hh$temp146.auctionId,o=this._auctionManager.getAuctionByPrebidAuctionId(n),a=o?o.fsAuctionId:null,d=e.creative_id||e.creativeId,l=da({adUnitCode:e.adUnitCode,dynamicSlotLibrary:this._freestar.dynamicSlotLibrary}),f=this._adUnitManager.getAdUnitByPrebidCode(r)||this._adUnitManager.getAdUnitBySlotElementId(l),_hh$temp147=sr({bid:e,placementId:l,rebidManager:this._rebidManager,fsAuctionId:a,auctionManager:this._auctionManager}),u=_hh$temp147.isRebid,p=_hh$temp147.rebidType,m=_hh$temp147.rebidAttempt,E=ie({name:be({slotId:r})}); return  new pc(V(b(b(b({},e),this._getMeta(e)),this._getCpm(e)),{isRebid:u,rebidType:p,fsRebidCount:m,isGamBypass:this._getIsGamBypass(),currencyCode:s,fsuuid:xi({slotId:e.slotId,slot:e.slot,googletag:this._win.googletag}),placementId:l,auctionTimeout:this._getAuctionTimeout(),format:t.length?t:"unknown",fsAdProduct:$e(E),networkCode:Number(E.dfpId.split("/")[1]),impressionId:Ae(),isS2SDisabled:ee().isS2SDisabled(),adomain:this._getAdomain(e),creativeId:d&&String(d),cdep:this._dispensaryData.cdep||"",fsAuctionId:a,auctionId:n,paymentRelationship:this._getPaymentRelationship(e),kvps:(S=f==null?void 0:f.getKVPs())==null?void 0:S.filter(_hh$temp148=>{var _hh$temp149=__arrayFrom$(_hh$temp148),I=_hh$temp149[0];return hm.includes(I);})}),Ze.IMMEDIATE) }_getIsGamBypass(){return!ee().isGAMEnabled()}_getMeta(e){ let _hh$temp150=e,_hh$temp150$meta=_hh$temp150.meta,t=_hh$temp150$meta===void 0?{}:_hh$temp150$meta; return Object.entries(t).reduce( (s,_hh$temp151)=>{var _hh$temp152=__arrayFrom$(_hh$temp151),r=_hh$temp152[0],n=_hh$temp152[1];return __set$(s,r,Array.isArray(n)?n.join(","):n),s;} ,{})}_getAdomain(e){ let _hh$temp153=e,_hh$temp153$meta=_hh$temp153.meta,t=_hh$temp153$meta===void 0?{}:_hh$temp153$meta,s=_hh$temp153.advertiserDomains,r=s||(t==null?void 0:t.advertiserDomains)||[]; return Array.isArray(r)?r.join(","):r}_getPaymentRelationship(e){var r,n,o,a,d,l;let t=(o=(n=(r=window.freestar)==null?void 0:r.fsdata)==null?void 0:n.schain)==null?void 0:o.type,s=(l=(d=(a=window.freestar)==null?void 0:a.fsdata)==null?void 0:d.schain)==null?void 0:l.bidderOverrides;if(s&&s.length){if(t===es&&s.includes(oe(e.bidder)))return  __get$(Zn,Et) ;if(t===Et&&s.includes(oe(e.bidder)))return  __get$(Zn,es) }return  __get$(Zn,t) }};A.class(mc,{token:"BidWonAnalyticsEventFactory",defaultAlias:"bidWonAnalyticsEventFactory",dependencies:[c.FREESTAR,{token:c.WINDOW,alias:"win"},c.DISPENSARY_DATA,c.AUCTION_MANAGER,c.REBID_MANAGER]})});var fa,gc,_c,Nm=h(()=>{It();N();D();Oe();aa();fa=class fa extends K{constructor(){super(...arguments);_(this,"type","bidRequested")}_buildPayload(t){return we(t,fa.payloadProperties)}};_(fa,"payloadProperties",["bidderCode","auctionId","bidderRequestId","start","timeout","bids","auctionStart","src"]);gc=fa,_c=class extends Ci{constructor( _hh$temp154 ){ var e=_hh$temp154.win,t=_hh$temp154.freestar,s=_hh$temp154.dispensaryData,r=_hh$temp154.auctionManager; super({win:e,freestar:t,dispensaryData:s}),this._auctionManager=r,this._dispensaryData=s}create(e){let t=e.bids.map(r=>({bidder:r.bidder,placementCode:r.adUnitCode,bidId:r.bidId,params:JSON.stringify(r.params)}));return new gc(V(b({},e),{bids:t}))}};A.class(_c,{token:"BidRequestedAnalyticsEventFactory",defaultAlias:"bidRequestedAnalyticsEventFactory",dependencies:[c.FREESTAR,{token:c.WINDOW,alias:"win"},c.DISPENSARY_DATA,c.AUCTION_MANAGER]})});var ha,ua,Mm=h(()=>{It();Oe();ha=class ha extends K{constructor(){super(...arguments);_(this,"type","bidTimeout")}_buildPayload(t){return we(t,ha.payloadProperties)}};_(ha,"payloadProperties",["auctionId","bidderRequestId","bidId","bidder","adUnitCode","src","timeout"]);ua=ha});var ma,Ec,pa,Lm=h(()=>{It();N();D();Oe();fc();ln();ma=class ma extends K{constructor(){super(...arguments);_(this,"type","dfpResponse")}_buildPayload(t){return we(t,ma.payloadProperties)}};_(ma,"payloadProperties",["placementId","DfpId","advertiserId","campaignId","isEmpty","lineItemId","serviceName","size","sourceAgnosticCreativeId","sourceAgnosticLineItemId","complete","auctionId","dfpRefresh","maxBid","fsRebidCount","fstrU","networkCode","impressionId","countryCode","fsAdProduct","fsuuid","itfTargetingValue","fsAuctionId"]);Ec=ma,pa=class extends ir{constructor( _hh$temp155 ){ var e=_hh$temp155.win,t=_hh$temp155.freestar,s=_hh$temp155.prebidManager,r=_hh$temp155.auctionManager,n=_hh$temp155.rebidManager,o=_hh$temp155.refreshLibrary; super(),this._window=e,this._freestar=t,this._prebidManager=s,this._auctionManager=r,this._rebidManager=n,this._refreshLibrary=o}create(e){var I,g; let _hh$temp156=e,t=_hh$temp156.parentDiv,_hh$temp156$advertiserId=_hh$temp156.advertiserId,s=_hh$temp156$advertiserId===void 0?0:_hh$temp156$advertiserId,_hh$temp156$campaignId=_hh$temp156.campaignId,r=_hh$temp156$campaignId===void 0?0:_hh$temp156$campaignId,_hh$temp156$lineItemId=_hh$temp156.lineItemId,n=_hh$temp156$lineItemId===void 0?0:_hh$temp156$lineItemId,_hh$temp156$sourceAgnosticCreativeId=_hh$temp156.sourceAgnosticCreativeId,o=_hh$temp156$sourceAgnosticCreativeId===void 0?0:_hh$temp156$sourceAgnosticCreativeId,_hh$temp156$sourceAgnosticLineItemId=_hh$temp156.sourceAgnosticLineItemId,a=_hh$temp156$sourceAgnosticLineItemId===void 0?0:_hh$temp156$sourceAgnosticLineItemId,d=_hh$temp156.placementId,l=_hh$temp156.fsAuctionId,f=_hh$temp156.slotId,u=this._window.document.getElementById(t),p=(I=this._refreshLibrary.getRefreshLibraryItem({slotId:t}))==null?void 0:I.dataRefreshId,m=!1; if(u&&p){let y,R=RegExp(p,"g");(g=this._freestar.refreshSlots)==null||g.forEach((M,z)=>{R.test(M.refreshId)&&(y=z,m=!0)}),this._freestar.refreshSlots.splice(y,1)} let _hh$temp157=sr({bid:{fsAuctionId:l,slotId:f},placementId:d,rebidManager:this._rebidManager,fsAuctionId:l,auctionManager:this._auctionManager}),E=_hh$temp157.rebidAttempt,S=xm({placementId:d,prebid:this._prebidManager.instance}); return new Ec(V(b({},e),{maxBid:Math.trunc(S*1e4),advertiserId:s,campaignId:r,lineItemId:n,dfpRefresh:m,fsRebidCount:E,sourceAgnosticCreativeId:o,sourceAgnosticLineItemId:a,itfTargetingValue:this._freestar.identity.targeting,fsuuid:xi({slotId:f,googletag:this._window.googletag})}))}};A.class(pa,{token:c.DFP_RESPONSE_ANALYTICS_EVENT_FACTORY,dependencies:[c.FREESTAR,{token:c.WINDOW,alias:"win"},c.AUCTION_MANAGER,c.REBID_MANAGER,c.REFRESH_LIBRARY],factory: _hh$temp158=>{var i=_hh$temp158.dependencies;return new pa(V(b({},i),{prebidManager:{get instance(){return i.win.fsprebid;}}}));} })});var ga,_a,km=h(()=>{Oe();ga=class extends K{constructor(){super(...arguments);_(this,"type","outstreamBidWon")}},_a=class extends K{constructor(){super(...arguments);_(this,"type","outstreamTagLoad")}}});var Ea,Bm=h(()=>{Oe();Ea=class extends K{constructor(){super(...arguments);_(this,"type","sniffer")}}});var ya,Fm=h(()=>{Oe();ya=class extends K{constructor(){super(...arguments);_(this,"type","iaiHighImpactTrackings")}}});var Sa,Um=h(()=>{Oe();Sa=class extends K{constructor(){super(...arguments);_(this,"type","iaiHighImpactAdRequests")}}});var Ia,Gm=h(()=>{Oe();Ia=class extends K{constructor(){super(...arguments);_(this,"type","iaiHighImpactInteractions")}}});var cn,yc=h(()=>{Oe();cn=class extends K{constructor(){super(...arguments);_(this,"type","adBlocked")}}});var ba,Aa,Vm=h(()=>{It();Oe();ba=class ba extends K{constructor(){super(...arguments);_(this,"type","amazonBidStream")}_buildPayload(t){return we(t,ba.payloadProperties)}};_(ba,"payloadProperties",["amzniid","bidder","adUnitCode","isRefresh","countryCode","auctionId","fsuuid","bidFloor","hashedCpm","requestTimestamp","responseTimestamp"]);Aa=ba});var Ta,wa,zm=h(()=>{It();Oe();Ta=class Ta extends K{constructor(){super(...arguments);_(this,"type","primisBidWon")}_buildPayload(t){return we(t,Ta.payloadProperties)}};_(Ta,"payloadProperties",["bidCpm","bidServingFee","bidder","placementId","requestTimestamp","responseTimestamp"]);wa=Ta});var Pi=h(()=>{Oe();ms();cc();Om();Cm();Pm();Dm();Nm();Mm();Lm();km();Bm();Fm();Um();Gm();yc();Vm();zm()});var Hm,va,$m=h(()=>{he();Hm={level:20,title:"UserScrollTracker"},va=class i{constructor(){_(this,"_handleScrollData",ao(()=>{this.scrollHeight=this._getScrollHeight();let e=window.scrollY,t=this.scrollHeight-window.innerHeight,s=e/t*100;this.interactionsLastPercentile=s,this.interactionsMaxPercentile=Math.max(this.interactionsMaxPercentile,s),this.interactionsMsgCount+=1,freestar.log(Hm,`Updated - Last: ${this.interactionsLastPercentile.toFixed(2)}%, Max: ${this.interactionsMaxPercentile.toFixed(2)}%, Height: ${this.scrollHeight}px, MsgCount: ${this.interactionsMsgCount}`)},250));if(i.instance)return i.instance;this.interactionsMsgCount=0,this.interactionsLastPercentile=0,this.interactionsMaxPercentile=0,this.scrollHeight=this._getScrollHeight(),this._initScrollListener(),this._initMutationObserver(),i.instance=this,freestar.log(Hm,"initialized")}_initScrollListener(){window.addEventListener("scroll",this._handleScrollData)}_getScrollHeight(){return document.documentElement.scrollHeight}_initMutationObserver(){new MutationObserver(()=>{this.scrollHeight=this._getScrollHeight()}).observe(document.body,{childList:!0,subtree:!0})}getLastPercentile(){return this.interactionsLastPercentile}getMaxPercentile(){return this.interactionsMaxPercentile}getScrollHeight(){return this.scrollHeight}getMsgCount(){return this.interactionsMsgCount}}});var Ra,qm=h(()=>{Ra=class i{constructor(e){_(this,"_handleTermination",()=>{this._handleTerminationCalled||(this._handleTerminationCalled=!0,this._onTerminateCallback&&this._onTerminateCallback(),setTimeout(()=>{this._handleTerminationCalled=!1},this._throttlePeriod))});if(i.instance)return i.instance;this._onTerminateCallback=e,this._handleTerminationCalled=!1,this._throttlePeriod=2e3,this._initTerminationListeners(),i.instance=this}_initTerminationListeners(){window.addEventListener("beforeunload",this._handleTermination),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&this._handleTermination()})}}});function Aw(i){return  __get$(Ym,i) ||Object.values(Ym).find(e=>e===i)||"UNKNOWN"}var Ym,Sc,Oa,jm=h(()=>{N();D();Pi();Q();$m();qm();jt();Ym={flyingCarpet:"FLYING_CARPET",video:"PRIMIS_VIDEO"},Sc=[c.ANALYTICS,c.PAGE];Oa=class{constructor( _hh$temp159 ){ var e=_hh$temp159.percentilePlacement,t=_hh$temp159.highImpactType,s=_hh$temp159.slotId; this.percentilePlacement=e,this.highImpactType=t,this.slotId=s,this.id=Ae(),this.sendInit(),this.scrollTracker=new va,this.highImpactType==="flyingCarpet"&&this.initializePageviewTerminationService()}sendInit(){G.instance.resolveAll(Sc).then(( _hh$temp160 )=>{ var e=_hh$temp160.analytics,t=_hh$temp160.page; e.track(new ya({sessionId:freestar.msg.sessionId,pageviewId:t.pageId,highImpactUnitSessionId:this.id,percentilePlacement:this.percentilePlacement,sessionDepth:t.pageviewCount,highImpactType:Aw(this.highImpactType)}))})}sendRequest( _hh$temp161 ){ var e=_hh$temp161.auctionId,t=_hh$temp161.refreshCount; G.instance.resolveAll(Sc).then(( _hh$temp162 )=>{ var s=_hh$temp162.analytics,r=_hh$temp162.page; s.track(new Sa({sessionId:freestar.msg.sessionId,pageviewId:r.pageId,auctionId:e,highImpactUnitSessionId:this.id,refreshCount:t}))})}createInteractionsMessage(){G.instance.resolveAll(Sc).then(( _hh$temp163 )=>{ var e=_hh$temp163.analytics,t=_hh$temp163.page; let s=new Ia({sessionId:freestar.msg.sessionId,pageviewId:t.pageId,highImpactUnitSessionId:this.id,interactionsMsgCount:this.scrollTracker.getMsgCount(),interactionsLastPercentile:this.scrollTracker.getLastPercentile(),interactionsMaxPercentile:this.scrollTracker.getMaxPercentile(),scrollHeight:this.scrollTracker.getScrollHeight()});s.setTopic(Ze.BEACON),e.track(s)})}initializePageviewTerminationService(){this.pageviewTerminationService=new Ra(this.createInteractionsMessage.bind(this))}}});var Ic,Wm,Km=h(()=>{en();jm();N();D();Ic=class{constructor(){_(this,"sendRequestMessageAuction",e=>{e.getAdUnits().forEach(t=>{this.sendRequestMessage({slotId:t.getSlotId(),auctionId:e.fsAuctionId})})});this.instances={},this.setupRequestMessageListener()}setupRequestMessageListener(){G.instance.resolve(c.AUCTION_MANAGER).then(e=>{e.addEventListener("auctionInit",this.sendRequestMessageAuction)})}newHighImpactTracking( _hh$temp164 ){ var e=_hh$temp164.percentilePlacement,t=_hh$temp164.highImpactType,s=_hh$temp164.slotId; if( __get$(this.instances,s) )freestar.log({level:1,title:"HighImpactTrackingManager"},`Already tracking a high impact ad in slot "${s}"!`);else return  __set$(this.instances,s,new Oa({percentilePlacement:e,highImpactType:t,slotId:s})) }sendRequestMessage( _hh$temp165 ){ var e=_hh$temp165.slotId,t=_hh$temp165.auctionId; let s= __get$(this.instances,e) ;s&&G.instance.resolve(c.REFRESH_LIBRARY).then(r=>{var o;let n=((o=r.getRefreshLibraryItem({slotId:e}))==null?void 0:o.timesRefreshed)||0;s.sendRequest({auctionId:t,refreshCount:n})})}},Wm=Ai.getInstanceFn({ClassConstructor:Ic,instanceName:"HighImpactTrackingManager"})});var rr,Qm,Ca=h(()=>{ta();rr=( _hh$temp166 )=>{ var i=_hh$temp166.elementSelector,e=_hh$temp166.callback,_hh$temp166$timeout=_hh$temp166.timeout,t=_hh$temp166$timeout===void 0?5e3:_hh$temp166$timeout,_hh$temp166$frequency=_hh$temp166.frequency,s=_hh$temp166$frequency===void 0?300:_hh$temp166$frequency,_hh$temp166$doc=_hh$temp166.doc,r=_hh$temp166$doc===void 0?document:_hh$temp166$doc; Xs({getIsFound:()=>!!r.querySelector(i),getElement:()=>r.querySelector(i),callback:(n,o)=>{e(n,o)},timeout:t,frequency:s})},Qm=(...e)=>T(void 0,[...e],function*(i={}){return new Promise(t=>{rr(V(b({},i),{callback:(s,r)=>{t({isFound:s,element:r})}}))})})});var Zm,Ac,bc,Xm,eg,Jm,oi,fD,tg,ig,sg=h(()=>{Zm={level:20,title:"IAI"},Ac=300,bc=20,Xm=6e4,eg=4e4,Jm={VIDEO:"video",FLYING_CARPET:"flyingCarpet"},oi={PRIMIS_VIDEO:"PRIMIS_VIDEO",FLYING_CARPET:"FLYING_CARPET"},fD={[oi.PRIMIS_VIDEO]:Jm.VIDEO,[oi.FLYING_CARPET]:Jm.FLYING_CARPET},tg=0,ig=1e3});var xa,rg=h(()=>{Q();lc();he();Km();Ke();Ca();sg();xa=class{constructor( _hh$temp167 ){ var e=_hh$temp167.name,t=_hh$temp167.placement,s=_hh$temp167.intelligentAdInsertConfig,r=_hh$temp167.parentElement,n=_hh$temp167.debugIndex,_hh$temp167$lazy=_hh$temp167.lazy,o=_hh$temp167$lazy===void 0?!1:_hh$temp167$lazy,a=_hh$temp167.logger,d=_hh$temp167.dispensaryData,l=_hh$temp167.freestar,f=_hh$temp167.onRemove,u=_hh$temp167.videoManager; this.name=e,this.placement=t,this.config=s,this.parentElement=r,this.debugIndex=n!=null?n:0,this.lazy=o,this._logger=a,this._dispensaryData=d,this._freestar=l,this._onRemove=f,this._videoManager=u,this.childElements=[],this.resizeObserver=null,this.parentSize=null,this.mutationObserver=null,this.nextChildIndex=0,this.blockedChildren=0,this.ads=[],this.adsInsertedCount=0,this.blocklistSelector=(this.config.blocklist||[]).join(", "),this.debugTimeout=null,this.insertTimeout=null,this.intersectionObserver=null,this.currentRootMargin=null,this.slotsAwaitingIntersection={},this.isFlyingCarpetAdded=!1,this.isVideoAdAdded=!1,this.adLastVisible=new Map,this.cleanupTimeout=null,this.timeouts=new Set,this._isDestroyed=!1,this.highImpactTracking=null,this.highImpactPlacementConfig=null,o||this.init()}info(...e){this._logger.log(Zm,this.debugIndex,...e)}init(){this.childElements=this.getValidChildElements(),this.monitorParentMutation(),this.checkForInsertOpportunities(),this.debug(),this.schedulePeriodicCleanup()}schedulePeriodicCleanup(){this._isDestroyed||(this.cleanupTimeout=setTimeout(()=>{if(!this._isDestroyed)try{this.cleanupInvisibleAds(),this.pruneArrays()}finally{this.schedulePeriodicCleanup()}},eg),this.timeouts.add(this.cleanupTimeout))}cleanupInvisibleAds(){if(this._isDestroyed)return;let e=Date.now(),t=[];for(let s=0;s<this.ads.length;s++){let r= __get$(this.ads,s) ;if(!document.body.contains(r)){t.push(s);continue}let n=r.getBoundingClientRect();if(n.top<(window.innerHeight||document.documentElement.clientHeight)&&n.bottom>0)this.adLastVisible.set(r,e);else{let a=this.adLastVisible.get(r)||0;e-a>Xm&&t.push(s)}}for(let s=t.length-1;s>=0;s--){let r= __get$(t,s) ,n= __get$(this.ads,r) ;this.ads.splice(r,1),this.adLastVisible.delete(n)}}pruneArrays(){if(!this._isDestroyed){if(this.childElements.length>Ac){let e=Math.max(this.nextChildIndex+50,Ac);if(this.childElements.length>e){let t=this.childElements.length-e;this.childElements=this.childElements.slice(t),this.nextChildIndex=Math.max(0,this.nextChildIndex-t)}}if(this.ads.length>bc){let e=this.ads.length-bc;this.ads.splice(0,e)}}}destroy(){var e,t;this._isDestroyed||(this._isDestroyed=!0,this.info("Destroying IAI instance"),this.mutationObserver&&this.mutationObserver.disconnect(),this.mutationObserver=null,this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=null,this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null,clearTimeout(this.debugTimeout),clearTimeout(this.insertTimeout),clearTimeout(this.cleanupTimeout),this.timeouts.forEach(s=>clearTimeout(s)),this.timeouts.clear(),(t=(e=this.adLastVisible)==null?void 0:e.clear)==null||t.call(e),this.childElements=[],this.ads=[],this.slotsAwaitingIntersection={},this.parentElement=null,this.highImpactTracking=null,this.highImpactPlacementConfig=null)}isValidChildElement(e){return e instanceof Element&&!e.matches(".iai-label")&&!e.matches(".fs-iai")&&!e.matches('[class^="fs-"], [class*=" fs-"]')&&(!this.config.childElement||e.matches(this.config.childElement))}getValidChildElements(){let e=[];for(let t of this.parentElement.children)this.isValidChildElement(t)&&e.push(t);return e}biToHw(e,t){var r;let s=(r=e.style.writingMode)!=null?r:getComputedStyle(e).writingMode;return!s||s.toLowerCase().startsWith("horizontal")?{height:t.blockSize,width:t.inlineSize}:{height:t.inlineSize,width:t.blockSize}}onResize(e){ let _hh$temp168=e,t=_hh$temp168.target,s=_hh$temp168.borderBoxSize,r=_hh$temp168.contentBoxSize,n=_hh$temp168.devicePixelContentBoxSize,o={borderBoxSize:this.biToHw(t,s[0]),contentBoxSize:this.biToHw(t,r[0]),devicePixelContentBoxSize:this.biToHw(t,n[0])}; this.parentSize=o}onMutation(e){this._isDestroyed||(e.addedNodes.length&&e.addedNodes.forEach(t=>{this.isValidChildElement(t)&&this.childElements.push(t)}),document.body.contains(this.parentElement)||(this.info("Parent element removed from DOM, destroying IAI"),this._onRemove?this._onRemove(this):this.destroy()))}monitorParentMutation(){this.mutationObserver||(this.mutationObserver=new MutationObserver(e=>{for(let t of e)this.onMutation(t);this.insertAds(),this.debug()}),this.mutationObserver.observe(this.parentElement,{childList:!0}))}getNumberOfAdsWithinViewport(e){ let s=e.getBoundingClientRect().bottom,_hh$temp169=this.getSizeMaxes(),r=_hh$temp169.maxHeight,n=s+r,o=(window.innerHeight||document.documentElement.clientHeight)*.95,a=0; for(let d=this.ads.length-1;d>=0;d--){let l= __get$(this.ads,d) ;if(!document.body.contains(l))continue;let u=l.getBoundingClientRect().bottom;if(n-u<o)a+=1;else break}return a}isBlocked(e){var t;return this.blocklistSelector?e.matches(this.blocklistSelector)||((t=e.nextElementSibling)==null?void 0:t.matches(this.blocklistSelector)):!1}canInsertEveryNElements(e,t,s,r){let n=e+1;(!r||r<1)&&(r=t);let o=t-r,a=Math.floor((n+o)/t);return s<a}canInsert(e,t){var f; let s=__get$(this.childElements,e),r=!1,n=null,_hh$temp170=this.config,o=_hh$temp170.maxAdsInView,a=_hh$temp170.everyNElements,d=_hh$temp170.maxInserts,l=_hh$temp170.startAfterNElements; return d&&this.adsInsertedCount>=d?n="maxInserts":this.canInsertEveryNElements(e-t,a,this.adsInsertedCount,l)?(f=s.nextElementSibling)!=null&&f.matches(".fs-iai")?n="adAlreadyInserted":o&&this.getNumberOfAdsWithinViewport(s)>o-1?n="maxAdsInView":this.isBlocked(s)?n="blocklist":r=!0:n="everyNElements",{result:r,reason:n}}insertAds(){this._isDestroyed||(clearTimeout(this.insertTimeout),this.insertTimeout=setTimeout(()=>{this._isDestroyed||this.checkForInsertOpportunities()},1e3))}checkForInsertOpportunities(){for(;this.nextChildIndex<this.childElements.length;){ let _hh$temp171=this.canInsert(this.nextChildIndex,this.blockedChildren),e=_hh$temp171.reason,t=_hh$temp171.result; if(t)this.info("INSERTING AD @",this.nextChildIndex),this.addSlot(this.nextChildIndex);else if(this.info("NO INSERT @",this.nextChildIndex,"due to",e),e==="maxInserts"){this.info("maxInserts reached, disconnecting MutationObserver..."),this.mutationObserver.disconnect(),this.mutationObserver=null;return}this.nextChildIndex+=1,e==="blocklist"&&(this.blockedChildren+=1)}this.nextChildIndex>=this.childElements.length&&Object.keys(this.slotsAwaitingIntersection).length===0&&this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,this.currentRootMargin=null)}getPercentageHeight(e,t){let s=e.getBoundingClientRect(),r=t.getBoundingClientRect(),a=(s.top-r.top+s.height)/r.height;return a<0?0:Math.min(a,.99)}createFlyingCarpetSlot(e,t){let s=t.selectedSize.flyingCarpetOptions,r= __get$(this.childElements,e) ,n=`${this.name}_${this.debugIndex}_${this.adsInsertedCount}_fc`,o=new er({branding:s.branding||"NONE",background:s.background||"linear-gradient(to bottom, #00c389 10%, black 100%)",height:s.height||"175vh",slotId:n}),a=o.generateHTML();this.ads.push(a),this.parentElement.insertBefore(a,r.nextSibling);let d={placementName:t.name,slotId:o.slotId,skipSAU:!0};return this.registerSlotWithStrategy({element:a,newAdSlotConfig:d}),this.adsInsertedCount+=1,{slotId:n}}static containsSize(e,t){return e.some(s=>s[0]===t[0]&&s[1]===t[1])}buildAndInsertStandardSlot(e){ let t=__get$(this.childElements,e),_hh$temp172=this.buildSlot(),s=_hh$temp172.element,r=_hh$temp172.newAdSlotConfig; this.ads.push(s),this.parentElement.insertBefore(s,t.nextSibling),this.registerSlotWithStrategy({element:s,newAdSlotConfig:r})}getHighImpactPlacementConfig(){var n,o,a;if(this.highImpactPlacementConfig)return this.highImpactPlacementConfig;let e=this.canInsertFlyingCarpetPlacement(),t=((a=(o=(n=this.config)==null?void 0:n.highImpact)==null?void 0:o.placements)!=null?a:[]).filter(d=>{switch(d.format){case oi.FLYING_CARPET:return e&&this.getFlyingCarpetObject(d.name);case oi.PRIMIS_VIDEO:return this.isValidVideoPlacement(d.name);default:return!1}}),s= __get$(t,Math.floor(Math.random()*t.length)) ,r=this.getIaiQuartile();return this.highImpactPlacementConfig={placement:s,targetQuartile:r},this.highImpactPlacementConfig}canInsertFlyingCarpetPlacement(){var t,s,r;return((r=(s=(t=this._freestar)==null?void 0:t.deviceInfo)==null?void 0:s.device)==null?void 0:r.type)===Ee&&!op()}isValidVideoPlacement(e){var s,r,n,o;if(this.isVideoAdAdded)return!1;let t=this.getVideoAdByName(e);if(!t)return!1;switch(t.vendor){case"PRIMIS":{let a=(s=t==null?void 0:t.device)==null?void 0:s.toLowerCase(),d=(o=(n=(r=freestar==null?void 0:freestar.deviceInfo)==null?void 0:r.device)==null?void 0:n.type)==null?void 0:o.toLowerCase();return a==="all_devices"||a===d}default:return!1}}getChildPercentageHeight(e){let t= __get$(this.childElements,e) ;return this.getPercentageHeight(t,this.parentElement)}handleHighImpactUnit(e,t,s){var o;let r;switch(t.highImpactType){case oi.FLYING_CARPET:{ var _hh$temp173; ( _hh$temp173=this.createFlyingCarpetSlot(e,s),r=_hh$temp173.slotId,_hh$temp173 ),this.isFlyingCarpetAdded=!0;break}case oi.PRIMIS_VIDEO:{ var _hh$temp174; this._videoManager&&!this.isVideoAdAdded&&( _hh$temp174=this.createPrimisVideoSlot(e,s),r=_hh$temp174.slotId,_hh$temp174 ,this.isVideoAdAdded=!0);break}default:return}Math.random()*100<((o=this._dispensaryData.getValue("prebidLogPercentage"))!=null?o:1)&&r&&(this.highImpactTracking=Wm().newHighImpactTracking(V(b({},t),{slotId:r})))}createPrimisVideoSlot(e,t){var l,f;let s= __get$(this.childElements,e) ,r=(f=(l=t==null?void 0:t.parentElement)==null?void 0:l.trim())!=null?f:"",n=r.startsWith("#")&&r.length>1,o=`${this.name}_${this.debugIndex}_${this.adsInsertedCount}_iai-video-ad`,a=n?r.slice(1):o;n||(t.parentElement=`#${a}`),t.nthElement=-1;let d=w({id:a});return this.ads.push(d),this.parentElement.insertBefore(d,s.nextSibling),rr({elementSelector:n?r:`#${a}`,callback:()=>{var u,p;return(p=(u=this._videoManager)==null?void 0:u.add)==null?void 0:p.call(u,t==null?void 0:t.name)},timeout:3e3}),this.adsInsertedCount+=1,{slotId:a}}getVideoAdByName(e){var t,s;return(s=(t=freestar.fsdata)==null?void 0:t.videoAds)==null?void 0:s.find(r=>r.name===e)}getHighImpactObject(e){if(this.isFlyingCarpetAdded||this.isVideoAdAdded)return{shouldServe:!1}; let _hh$temp175=this.getHighImpactPlacementConfig(),t=_hh$temp175.placement,s=_hh$temp175.targetQuartile; if(!t)return{shouldServe:!1};let r=this.getChildPercentageHeight(e),n=s-.25,o=Math.round(s*4)+r;if(!(r>=n))return{shouldServe:!1};let d;return(t==null?void 0:t.format)===oi.PRIMIS_VIDEO?d=this.getVideoAdByName(t.name):(t==null?void 0:t.format)===oi.FLYING_CARPET&&(d=freestar.fsdata.placements.find(l=>l.name===t.name)),d?{shouldServe:!0,tracking:{percentilePlacement:o,highImpactType:t.format},highImpactPlacement:d}:{shouldServe:!1}}getFlyingCarpetObject(e){var s,r;let t=freestar.fsdata.placements.find(n=>n.name===e);if((r=(s=t==null?void 0:t.selectedSize)==null?void 0:s.flyingCarpetOptions)!=null&&r.active)return t.selectedSize.flyingCarpetOptions}addSlot(e){ let _hh$temp176=this.getHighImpactObject(e),t=_hh$temp176.shouldServe,s=_hh$temp176.tracking,r=_hh$temp176.highImpactPlacement; t?this.handleHighImpactUnit(e,s,r):this.buildAndInsertStandardSlot(e)}getSizeMaxes(){let e=this.placement.sizes.filter(r=>Array.isArray(r)),t=0,s=0;return e.forEach(r=>{t=Math.max(t,r[0]),s=Math.max(s,r[1])}),{maxWidth:t,maxHeight:s}}getStickySettings(){var e,t;if((t=(e=this.placement)==null?void 0:e.selectedSize)!=null&&t.stickyAdEnabled){ let _hh$temp177=this.placement.selectedSize,s=_hh$temp177.headerHeight,r=_hh$temp177.stickyAdBackgroundRgba; return{headerHeight:s,stickyAdBackgroundRgba:r}}return null}getStickyStyleContent( _hh$temp178 ){ var e=_hh$temp178.headerHeight,t=_hh$temp178.stickyAdBackgroundRgba; let s=[];return t&&s.push(`.fs-iai-sticky { background-color: ${t} }`),(!e||e<0)&&(e=0),s.push(`.fs-iai-sticky > div { top: ${e}px }`),s.join(` `)}makeStickyStyle( _hh$temp179 ){ var e=_hh$temp179.headerHeight,t=_hh$temp179.stickyAdBackgroundRgba; let s=`iai-sticky-style-${this.name}`;if(!document.getElementById(s)){let n=document.createElement("style");n.id=s,n.textContent=this.getStickyStyleContent({headerHeight:e,stickyAdBackgroundRgba:t}),document.head.appendChild(n)}}buildSlot(){ let e=`${this.name}_${this.debugIndex}_${this.adsInsertedCount}`,_hh$temp180=this.getSizeMaxes(),t=_hh$temp180.maxWidth,s=_hh$temp180.maxHeight,r=this.getStickySettings(); r&&this.makeStickyStyle(r);let o=w({type:"div",id:e,classList:r?["fs-iai","fs-iai-sticky"]:["fs-iai"],attributes:[{style:`min-height:${s}px; min-width:${t}px;`},{"data-freestar-ad":ng({placement:this.placement})},{name:this.name}]}),a=e+"_slot",d=w({type:"div",id:a,attributes:[{style:"display: flex; align-items: center; min-height: inherit;"}]});return o.appendChild(d),this.adsInsertedCount+=1,{element:o,newAdSlotConfig:{placementName:this.name,slotId:a,skipSAU:!0}}}intersectionObserverCallback(e,t){e.forEach(s=>{if(s.isIntersecting){ let _hh$temp181=s,r=_hh$temp181.target; t.unobserve(r);let n= __get$(this.slotsAwaitingIntersection,r.id) ;n&&(this.info("Registering new ad slot for",r.id),delete this.slotsAwaitingIntersection[r.id],this._freestar.newAdSlots([n]))}}),Object.keys(this.slotsAwaitingIntersection).length===0&&(this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=null,this.currentRootMargin=null)}isApplicableLazyLoadHeight(e){return e!=null&&typeof e=="number"&&e>=tg&&e<=ig}registerSlotWithStrategy( _hh$temp182 ){ var e=_hh$temp182.element,t=_hh$temp182.newAdSlotConfig; let s=this.config.lazyLoadHeight;this.isApplicableLazyLoadHeight(s)?this.registerSlotLazy(e,t,s):this.registerSlotImmediate(t)}registerSlotImmediate(e){this.info("Registering ad slot immediately (lazy loading disabled)"),this._freestar.newAdSlots([e])}registerSlotLazy(e,t,s){let r=`${s}%`;(!this.intersectionObserver||this.currentRootMargin!==r)&&(this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=new IntersectionObserver((n,o)=>this.intersectionObserverCallback(n,o),{rootMargin:r}),this.currentRootMargin=r,Object.keys(this.slotsAwaitingIntersection).forEach(n=>{let o=document.getElementById(n);o&&this.intersectionObserver.observe(o)})), __set$(this.slotsAwaitingIntersection,e.id,t) ,this.intersectionObserver.observe(e),this.info(`Waiting for intersection for ${e.id} with ${s}% margin`)}debug(){this._freestar.debug&&(clearTimeout(this.debugTimeout),this.debugTimeout=setTimeout(()=>this._debug(),1e3))}_debug(){this.debugAddStyleNode(),this.debugNames()}getDebugStyleContent(){let e="";return this.blocklistSelector&&(e=` ${this.config.blocklist.map(s=>`${this.config.parentElement} >${s}`).join(", ")} { outline: dashed red; } `),` ${this.config.parentElement} { outline: solid blue; } ${this.config.parentElement} >${this.config.childElement||"*"} { outline: solid fuchsia; } .parent-label { color: blue; } .child-label { color: fuchsia; } .ad-label { color: #00c389; } .iai-label { position: absolute; font: large; background: silver; padding: 3px; } .fs-iai { outline: solid #00c389; /* freestar green */ } ${e} `}debugAddStyleNode(){let e=`iai-style-${this.name}`;if(!document.getElementById(e)){let s=document.createElement("style");s.id=e,s.textContent=this.getDebugStyleContent(),document.head.appendChild(s)}}debugNames(){this.debugAddLabel(this.parentElement,"parent-label",`${this.name} parent ${this.debugIndex}`),this.childElements.forEach((e,t)=>this.debugAddLabel(e,"child-label",`child ${t}`)),this.ads.forEach((e,t)=>this.debugAddLabel(e,"ad-label",`ad ${t}`))}debugAddLabel(e,t,s){let r=e.querySelector(".iai-label");r||(r=document.createElement("label"),r.classList.add("iai-label"),e.insertBefore(r,e.firstChild)),r.classList.add(t),r.textContent=s}getIaiQuartile(){let e= __get$([.25,.5],Math.floor(Math.random()*2)) ,t=np();return this.info(`Using ${t!=null?`${t} from query parameter`:`randomly generated target quartile ${e}`}`),t!=null?t:e}}});function Tc( _hh$temp183 ){ var i=_hh$temp183.placement; var e;return(e=i==null?void 0:i.selectedSize)==null?void 0:e.intelligentAdInsertConfig}var wc,og=h(()=>{N();rg();Qe();D();ps();wc=class{constructor( _hh$temp184 ){ var e=_hh$temp184.freestar,t=_hh$temp184.logger,s=_hh$temp184.dispensaryData,r=_hh$temp184.video; _(this,"newIai",e=>{var t;(t=this._dispensaryData.getValue("placements"))==null||t.forEach(s=>{if(e&&s.name!==e)return;let r=Tc({placement:s});r!=null&&r.active&&(this.registerConfig({placement:s,intelligentAdInsertConfig:r}),this.initConfig({name:s.name}))})});this._freestar=e,this._logger=t,this._dispensaryData=s,this._videoManager=r,this.configs={},this.instances=new Map,this.initializedParentElements=new WeakMap,this._logger.setContext("IAI"),this._logger.setLevel(ye.CORE)}registerConfig( _hh$temp185 ){ var e=_hh$temp185.placement,t=_hh$temp185.intelligentAdInsertConfig; let s=e.name;if(! __get$(this.configs,s) ){let r={name:s,placement:e,intelligentAdInsertConfig:t}; __set$(this.configs,s,r) }}initConfig( _hh$temp186 ){ var e=_hh$temp186.name; if(me({name:"iai"}))return;let t= __get$(this.configs,e) ;if(!t){this._freestar.log(50,`Cannot init unregistered IAI ${e}!`);return} let _hh$temp187=t,s=_hh$temp187.placement,r=_hh$temp187.intelligentAdInsertConfig,n=r.parentElement,o=Array.from(document.querySelectorAll(n)); o.length!==0&&o.forEach(a=>{if(this.initializedParentElements.has(a))return;let d=new xa({name:e,placement:s,intelligentAdInsertConfig:r,parentElement:a,debugIndex:this.instances.size,logger:this._logger,dispensaryData:this._dispensaryData,freestar:this._freestar,onRemove:l=>this.removeInstance(l),videoManager:this._videoManager});this.instances.set(d,a),this.initializedParentElements.set(a,e)})}removeInstance(e){var s;let t=this.instances.get(e);t&&((s=e==null?void 0:e.destroy)==null||s.call(e),this.instances.delete(e),this.initializedParentElements.delete(t))}};A.class(wc,{token:"IntelligentAdInsertManager",dependencies:[c.FREESTAR,c.LOGGER,c.DISPENSARY_DATA,{token:c.VIDEO,optional:!0}],defaultAlias:"intelligentAdInsertManager"})});function ec(i){var e,t;return!!((t=(e=i==null?void 0:i.selectedSize)==null?void 0:e.flyingCarpetOptions)!=null&&t.active)}function rm(i){var t;return ec(i)?(typeof freestar!="undefined"&&((t=freestar==null?void 0:freestar.fsdata)==null?void 0:t.placements)||[]).some(s=>{var n;let r=Tc({placement:s});return!(r!=null&&r.active)||!((n=r.highImpact)!=null&&n.placements)?!1:r.highImpact.placements.some(o=>o.format==="FLYING_CARPET"&&o.name===i.name)}):!1}var ag=h(()=>{og()});function dg(i){if(nr())throw new Error("Ad serving is blocked in "+i.locData.iso)}var lg=h(()=>{qe()});function cg( _hh$temp188 ){ var i=_hh$temp188.channel,_hh$temp188$logTitle=_hh$temp188.logTitle,e=_hh$temp188$logTitle===void 0?"ChannelConfiguration":_hh$temp188$logTitle,t=_hh$temp188.config,s=_hh$temp188.placements,r=_hh$temp188.logger; return!i&&t.channel&&(i=t.channel),t.orignalChannel||(t.orignalChannel="{{channel}}"),i&&t.orignalChannel!==i&&(s=bw({channel:i,logTitle:e,originalChannel:t.orignalChannel,placements:s,logger:r}),t.orignalChannel=i),{channel:i,placements:s}}function bw( _hh$temp189 ){ var i=_hh$temp189.channel,e=_hh$temp189.originalChannel,t=_hh$temp189.logTitle,s=_hh$temp189.placements,r=_hh$temp189.logger; r.log("Channel is different than originally set, modifying dfpIds",{level:r.constructor.VERBOSE,context:t});let n=s.map(o=>V(b({},o),{dfpId: __call$(o.dfpId,"replace",[e,i]) }));return r.log(["New dfpIDs",n.map(o=>o.dfpId)],{level:r.constructor.VERBOSE,context:t}),n}var fg=h(()=>{});function ug(i,e,t){if(!i)return[];Array.isArray(i)||(i=[i]);let s=i.filter(r=>{ let _hh$temp190=r,n=_hh$temp190.placementName,o=ie({name:n})!==void 0; return o||t.log(`cannot find placement for ${n}, ignoring`,{level:t.constructor.CORE,context:e}),o});return ts(s,"slotId")}var hg=h(()=>{Q();he()});var At=h(()=>{Xp();om();am();ag();Xl();lg();fg();hg()});function pg(i,e=0){return( __get$(Ue,__get$(i,e+0)) + __get$(Ue,__get$(i,e+1)) + __get$(Ue,__get$(i,e+2)) + __get$(Ue,__get$(i,e+3)) +"-"+ __get$(Ue,__get$(i,e+4)) + __get$(Ue,__get$(i,e+5)) +"-"+ __get$(Ue,__get$(i,e+6)) + __get$(Ue,__get$(i,e+7)) +"-"+ __get$(Ue,__get$(i,e+8)) + __get$(Ue,__get$(i,e+9)) +"-"+ __get$(Ue,__get$(i,e+10)) + __get$(Ue,__get$(i,e+11)) + __get$(Ue,__get$(i,e+12)) + __get$(Ue,__get$(i,e+13)) + __get$(Ue,__get$(i,e+14)) + __get$(Ue,__get$(i,e+15)) ).toLowerCase()}var Ue,mg=h(()=>{Ue=[];for(let i=0;i<256;++i)Ue.push((i+256).toString(16).slice(1))});function Rc(){if(!vc){if(typeof crypto=="undefined"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");vc=crypto.getRandomValues.bind(crypto)}return vc(ww)}var vc,ww,gg=h(()=>{ww=new Uint8Array(16)});var Tw,Oc,_g=h(()=>{Tw=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Oc={randomUUID:Tw}});function vw(i,e,t){var r,n,o;if(Oc.randomUUID&&!e&&!i)return Oc.randomUUID();i=i||{};let s=(o=(n=i.random)!=null?n:(r=i.rng)==null?void 0:r.call(i))!=null?o:Rc();if(s.length<16)throw new Error("Random bytes length must be >= 16");if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){if(t=t||0,t<0||t+16>e.length)throw new RangeError(`UUID byte range ${t}:${t+15} is out of buffer bounds`);for(let a=0;a<16;++a) __set$(e,t+a,__get$(s,a)) ;return e}return pg(s)}var Cc,Eg=h(()=>{_g();gg();mg();Cc=vw});var yg=h(()=>{Eg()});function Sg( _hh$temp191 ){ var i=_hh$temp191.cpm; let e=i<=10?20:2;return(Math.round(i*e)/e).toFixed(2)}function or( _hh$temp192 ){ var i=_hh$temp192.freestar; if(i!=null&&i.prebidAdserverTargetingKeys)return i.prebidAdserverTargetingKeys;let e={},t=["bidder","adid","pb","size","format","auction_id","source"],s=i.fsdata.useFsAdserverTargetingKeys||$("use-fs-adserver-targeting-keys")?"fs_":"hb_";return t.forEach(r=>{ __set$(e,r,`${s}${r}`) }),i.prebidAdserverTargetingKeys=e,e}var Pa=h(()=>{et()});function Ig( _hh$temp193 ){ var i=_hh$temp193.event; if(i.isEmpty)return;let e=i.slot.getSlotElementId();if(!e)return;let t= __get$(freestar.bidsWon,e) ;t&&t.time&&Date.now()-t.time>1e3*29&&delete freestar.bidsWon[e]}var Ag=h(()=>{});function ys(i=window.freestar.locData){return i?Hr.includes(i.iso)||i.state==="QC":!1}var bg,Rw,Da=h(()=>{ue();bg=i=>{Rw()?window.__tcfapi("getTCData",2,(e,t)=>t&&e.tcString?i(e.tcString):i(null)):i(null)},Rw=()=>!!window.__tcfapi});var xc,wg=h(()=>{he();xc=( _hh$temp194 )=>{ var i=_hh$temp194.isGDPRCountry,e=_hh$temp194.isUspApplicable,t=_hh$temp194.isStateOptInApplicable,s=_hh$temp194.mspsPrivacyManagerId,r=_hh$temp194.gdprPrivacyManagerId,n=_hh$temp194.stateOptInPrivacyManagerId; try{window._sp_queue=[],window._sp_={config:V(b({accountId:1638,baseEndpoint:"https://cdn.privacy-mgmt.com",propertyHref:`https://${ __get$(document,"location") .host}`,usnat:{includeUspApi:e}},i||t?{gdpr:{}}:{}),{events:V(b({},["onMessageReady","onMessageChoiceError","onPMCancel","onMessageReceiveData","onSPPMObjectReady","onError"].reduce((o,a)=>( __set$(o,a,function(){}) ,o),{})),{onMessageChoiceSelect:function(o,a,d){t&&o==="usnat"&&(d===11||d===13)&&window._stateOptInCheckConsent&&setTimeout(()=>window._stateOptInCheckConsent(),300)},onPrivacyManagerAction:function(o,a,d){t&&o==="usnat"&&d===1&&window._stateOptInCheckConsent&&setTimeout(()=>window._stateOptInCheckConsent(),300)},onConsentReady:function(o,a,d,l){function f(){var E,S,I,g,y,R;let u=(S=(E=window.freestar)==null?void 0:E.locData)==null?void 0:S.iso,p=(g=(I=window.freestar)==null?void 0:I.locData)==null?void 0:g.state,m=(R=(y=window.freestar)==null?void 0:y.fsdata)==null?void 0:R.mspaStates;return typeof u!="string"||typeof p!="string"||!Array.isArray(m)?!1:u==="US"&&m.includes(p)}(o=="usnat"&&l.applies||o=="usnat"&&f())&&(document.getElementById("pmLink").style.visibility="visible",document.getElementById("pmLink").innerHTML="Do Not Sell or Share My Personal Information",document.getElementById("pmLink").onclick=function(){window._sp_.usnat.loadPrivacyManagerModal(String(s))}),o=="gdpr"&&l.applies&&(is()?(document.getElementById("pmLink").style.visibility="visible",document.getElementById("pmLink").innerHTML="Privacy Preferences",document.getElementById("pmLink").onclick=function(){window._sp_.gdpr.loadPrivacyManagerModal(String(n))}):(document.getElementById("pmLink").style.visibility="visible",document.getElementById("pmLink").innerHTML="Privacy Preferences",document.getElementById("pmLink").onclick=function(){window._sp_.gdpr.loadPrivacyManagerModal(String(r))}))}})})}}catch(o){console.error("Error in sourcepointGMPScript",o)}}});var Pc,Tg=h(()=>{Pc=()=>{try{(()=>{var i=!1,e=window,t=document;function s(){if(!e.frames.__uspapiLocator)if(t.body){var o=t.body,a=t.createElement("iframe");a.style.cssText="display:none",a.name="__uspapiLocator",o.appendChild(a)}else setTimeout(s,5)}s();function r(){var o=arguments;if(__uspapi.a=__uspapi.a||[],o.length)o[0]==="ping"?o[2]({gdprAppliesGlobally:i,cmpLoaded:!1},!0):__uspapi.a.push([].slice.apply(o));else return __uspapi.a}function n(o){var a=typeof o.data=="string";try{var d=a?JSON.parse(o.data):o.data;if(d.__cmpCall){var l=d.__cmpCall;e.__uspapi(l.command,l.parameter,function(f,u){var p={__cmpReturn:{returnValue:f,success:u,callId:l.callId}}; __call$(o.source,"postMessage",[a?JSON.stringify(p):p,"*"]) })}}catch(f){}}typeof __uspapi!="function"&&(e.__uspapi=r,__uspapi.msgHandler=n,e.addEventListener("message",n,!1))})()}catch(i){console.error("Error in sourcepointCCPAScript",i)}}});var fn,vg=h(()=>{fn=()=>{try{window.__gpp_addFrame=function(i){if(! __get$(window.frames,i) )if(document.body){var e=document.createElement("iframe");e.style.cssText="display:none",e.name=i,document.body.appendChild(e)}else window.setTimeout(window.__gpp_addFrame,10,i)},window.__gpp_stub=function(){var i=arguments;if(__gpp.queue=__gpp.queue||[],__gpp.events=__gpp.events||[],!i.length||i.length==1&&i[0]=="queue")return __gpp.queue;if(i.length==1&&i[0]=="events")return __gpp.events;var e=i[0],t=i.length>1?i[1]:null,s=i.length>2?i[2]:null;if(e==="ping")t({gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1","7:usnatv1","8:uscav1","9:usvav1","10:uscov1","11:usutv1","12:usctv1"],cmpId:0,sectionList:[],applicableSections:[],gppString:"",parsedSections:{}},!0);else if(e==="addEventListener"){"lastId"in __gpp||(__gpp.lastId=0),__gpp.lastId++;var r=__gpp.lastId;__gpp.events.push({id:r,callback:t,parameter:s}),t({eventName:"listenerRegistered",listenerId:r,data:!0,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1","7:usnatv1","8:uscav1","9:usvav1","10:uscov1","11:usutv1","12:usctv1"],cmpId:0,sectionList:[],applicableSections:[],gppString:"",parsedSections:{}}},!0)}else if(e==="removeEventListener"){for(var n=!1,o=0;o<__gpp.events.length;o++)if( __get$(__gpp.events,o) .id==s){__gpp.events.splice(o,1),n=!0;break}t({eventName:"listenerRemoved",listenerId:s,data:n,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1","7:usnatv1","8:uscav1","9:usvav1","10:uscov1","11:usutv1","12:usctv1"],cmpId:0,sectionList:[],applicableSections:[],gppString:"",parsedSections:{}}},!0)}else e==="hasSection"?t(!1,!0):e==="getSection"||e==="getField"?t(null,!0):__gpp.queue.push([].slice.apply(i))},window.__gpp_msghandler=function(i){var e=typeof i.data=="string";try{var t=e?JSON.parse(i.data):i.data}catch(r){t=null}if(typeof t=="object"&&t!==null&&"__gppCall"in t){var s=t.__gppCall;window.__gpp(s.command,function(r,n){var o={__gppReturn:{returnValue:r,success:n,callId:s.callId}}; __call$(i.source,"postMessage",[e?JSON.stringify(o):o,"*"]) },"parameter"in s?s.parameter:null,"version"in s?s.version:"1.1")}},"__gpp"in window&&typeof window.__gpp=="function"||(window.__gpp=window.__gpp_stub,window.addEventListener("message",window.__gpp_msghandler,!1),window.__gpp_addFrame("__gppLocator"))}catch(i){console.error("Error in sourcepointGPPScript",i)}}});var Na,Rg=h(()=>{Na=()=>{try{let i=function(e){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)};(function(){var e=function(){for(var t,s,r=[],n=window,o=n;o;){try{if(o.frames.__tcfapiLocator){t=o;break}}catch(a){}if(o===n.top)break;o=o.parent}t||(function a(){var d=n.document,l=!!n.frames.__tcfapiLocator;if(!l)if(d.body){var f=d.createElement("iframe");f.style.cssText="display:none",f.name="__tcfapiLocator",d.body.appendChild(f)}else setTimeout(a,5);return!l}(),n.__tcfapi=function(){for(var a=arguments.length,d=new Array(a),l=0;l<a;l++) __set$(d,l,__get$(arguments,l)) ;if(!d.length)return r;d[0]==="setGdprApplies"?d.length>3&&parseInt(d[1],10)===2&&typeof d[3]=="boolean"&&(s=d[3],typeof d[2]=="function"&&d[2]("set",!0)):d[0]==="ping"?typeof d[2]=="function"&&d[2]({gdprApplies:s,cmpLoaded:!1,cmpStatus:"stub"}):r.push(d)},n.addEventListener("message",function(a){var d=typeof a.data=="string",l={};if(d)try{l=JSON.parse(a.data)}catch(u){}else l=a.data;var f=i(l)==="object"&&l!==null?l.__tcfapiCall:null;f&&window.__tcfapi(f.command,f.version,function(u,p){var m={__tcfapiReturn:{returnValue:u,success:p,callId:f.callId}};a&&a.source&& __get$PostMessage(a.source) && __call$(a.source,"postMessage",[d?JSON.stringify(m):m,"*"]) },f.parameter)},!1))};e()})()}catch(i){console.error("Error in sourcepointGDPRScript",i)}}});var Og=h(()=>{wg();Tg();vg();Rg()});function Cg(i,e){let t=ys(i),s=is(i),r=!s&&Vt(i);freestar.log(0,`SOURCEPOINT: Loading CMP - GDPR:${t} USP:${r} StateOptIn:${s}`),xc({isGDPRCountry:t,isUspApplicable:r,isStateOptInApplicable:s,mspsPrivacyManagerId:freestar.fsdata.mspsPrivacyManagerId||to,gdprPrivacyManagerId:freestar.fsdata.gdprPrivacyManagerId||eo,stateOptInPrivacyManagerId:freestar.fsdata.stateOptInPrivacyManagerId||jh}),s?(Na(),fn()):t?(Na(),fn()):r&&(Pc(),fn()),Ie(Yh,e)}var xg=h(()=>{ue();he();Da();le();Og()});var Pg,Ow,Dg=h(()=>{he();Pg=i=>{Ow()?window.__uspapi("getUSPData",1,(e,t)=>t&&e.uspString?(freestar.log(0,`MSPA: USP consent string retrieved: ${e.uspString}`),i(e.uspString)):(freestar.log(1,"MSPA: USP API call failed or no string returned"),i(null))):(freestar.log(1,"MSPA: USP API not available"),i(null))},Ow=()=>!!window.__uspapi});function Ng(i){let e=freestar.fsdata.quantcastDomain;if(!e){freestar.log(10,"loadQuantcast","Could not get quantcastDomain from fsdata, quantcast will not be loaded!");return}var t="https://cmp.inmobi.com".concat("/choice/","wZt3yQfgdwnz-","/",e,"/choice.js?tag_version=V2"),s=0,r=3;Ie(t,i);function n(){var l="__tcfapiLocator",f=[],u=window,p;function m(){var I=u.document,g=!! __get$(u.frames,l) ;if(!g)if(I.body){var y=I.createElement("iframe");y.style.cssText="display:none",y.name=l,I.body.appendChild(y)}else setTimeout(m,5);return!g}function E(){var I,g=arguments;if(g.length)if(g[0]==="setGdprApplies")g.length>3&&g[2]===2&&typeof g[3]=="boolean"&&(I=g[3],typeof g[2]=="function"&&g[2]("set",!0));else if(g[0]==="ping"){var y={gdprApplies:I,cmpLoaded:!1,cmpStatus:"stub"};typeof g[2]=="function"&&g[2](y)}else g[0]==="init"&&typeof g[3]=="object"&&(g[3]= __call$(Object,"assign",[g[3],{tag_version:"V2"}]) ),f.push(g);else return f}function S(I){var g=typeof I.data=="string",y={};try{g?y=JSON.parse(I.data):y=I.data}catch(M){}var R=y.__tcfapiCall;R&&window.__tcfapi(R.command,R.version,function(M,z){var H={__tcfapiReturn:{returnValue:M,success:z,callId:R.callId}};g&&(H=JSON.stringify(H)),I&&I.source&& __get$PostMessage(I.source) && __call$(I.source,"postMessage",[H,"*"]) },R.parameter)}for(;u;){try{if( __get$(u.frames,l) ){p=u;break}}catch(I){}if(u===window.top)break;u=u.parent}p||(m(),u.__tcfapi=E,u.addEventListener("message",S,!1))}n();var o=function(){var l=arguments;typeof window.__uspapi!==o&&setTimeout(function(){typeof window.__uspapi!="undefined"&&window.__uspapi.apply(window.__uspapi,l)},500)},a=function(){s++,window.__uspapi===o&&s<r?console.warn("USP is not accessible"):clearInterval(d)};if(typeof window.__uspapi=="undefined"){window.__uspapi=o;var d=setInterval(a,6e3)}}function Mg(i=new Date(new Date().getTime()+1e3*60*60*24*390)){var t,s;function e(r,n,o){return o.substring(0,r)+n+o.substring(r+n.length)}if(window.freestar.fsdata.cmpType==="FREESTAR"&&window.freestar.locData.iso==="US"){let r="usprivacy",n=ti({name:r});if((((s=(t=window==null?void 0:window.freestar)==null?void 0:t.fsdata)==null?void 0:s.mspaStates)||Ps).includes(window.freestar.locData.state))if(!n)os({name:r,value:"1-N-",domain:`.${ __get$(window,"location") .host}`,expires:i});else{let d=document.evaluate("//a[text()='Do Not Sell My Personal Information']",document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;n[1]==="N"&&(d?os({name:r,value:e(1,"Y",n),domain:`.${ __get$(window,"location") .host}`,expires:i}):os({name:r,value:e(1,"-",n),domain:`.${ __get$(window,"location") .host}`,expires:i}))}}}var Dc=h(()=>{le();ue();it()});var Ma,Nc=h(()=>{he();Ma=()=>T(void 0,null,function*(){let i=vl({queue:[]},freestar);freestar.queue={push:function(e){e()}};for(let e=0;e<i.queue.length;e++)try{yield  __call$(i.queue,e,[]) }catch(t){freestar.log(10,`An error occurred while processing an item from the freestar queue: ${t.message}`)}i={}})});function Cw(){googletag.cmd.push(()=>{googletag.setConfig({targeting:{fspbg:"freestar"}}),googletag.pubads().setPrivacySettings({nonPersonalizedAds:!0})})}function Di(i,e){return T(this,null,function*(){var s,r;freestar.log(0,"RESTRICTED_ADS: Loading limited/non-personalized ads");let t=(r=(s=e.fsdata)==null?void 0:s.disallowedGeos)==null?void 0:r.includes(e.locData.iso);if(i){e.newAdSlots=()=>{freestar.log(1,"RESTRICTED_ADS: Invalid consent for newAdSlots")};return}if(nr())throw new Error("Ad serving is blocked in "+e.locData.iso);t||e.fsdata.placements.length&&(Cw(),e.newAdSlots=Lg,e.deleteAdSlots=Pw,yield Ma(),e.refresh=Dw,e.trackPageview=Nw,e.config.enabled_slots.length&&Lg(e.config.enabled_slots))})}function xw(i){if(!i)return[];let e=Array.isArray(i)?i:[i];return ts(e.filter( _hh$temp195=>{var t=_hh$temp195.placementName;return!!ie({name:t});} ),"slotId")}function Lg(i,e){let t=xw(i);t.length&&(!e&&freestar.config.channel&&(e=freestar.config.channel),freestar.config.orignalChannel||(freestar.config.orignalChannel="{{channel}}"),e&&freestar.config.orignalChannel!==e&&(freestar.fsdata.placements=freestar.fsdata.placements.map(s=>(s.dfpId= __call$(s.dfpId,"replace",[freestar.config.orignalChannel,e]) ,s)),freestar.config.orignalChannel=e),t.forEach(function(s){ let _hh$temp196=s,r=_hh$temp196.placementName,n=_hh$temp196.slotId,o=_hh$temp196.targeting,a=document.getElementById(n),d=ie({name:r}),l=Xo(d); a&&a.id&&d&&l&&googletag.cmd.push(function(){let u=googletag.pubads().getSlots().find(p=>p.getAdUnitPath()===d.dfpId&&p.getSlotElementId()===a.id);u||(u=googletag.defineSlot(d.dfpId,l,a.id).addService(googletag.pubads())),o&&Object.entries(o).forEach(( _hh$temp197 )=>{ var _hh$temp198=__arrayFrom$(_hh$temp197),p=_hh$temp198[0],m=_hh$temp198[1]; u.setConfig({targeting:{[p]:m}})}),googletag.setConfig({singleRequest:!0}),googletag.enableServices(),googletag.display(a.id),googletag.pubads().refresh([u])})}))}function Pw(i){if(i===void 0){googletag.cmd.push(()=>{googletag.destroySlots()});return}Array.isArray(i)||(i=[i]),googletag.cmd.push(()=>{i.forEach(e=>{let t=Ko({elementId:e});t&&googletag.destroySlots([t])})})}function Dw(){}function Nw(){}var La=h(()=>{Q();an();he();qe();Nc()});function kg(){let i=window,e,t={};for(;i;){try{if(i.frames.__tcfapiLocator){e=i;break}}catch(r){}if(i===window.top)break;i=i.parent}if(!e)return;window.__tcfapi=function(r,n,o,a){if(!e)o({msg:"CMP not found"},!1);else{let d=Math.random()+"",l={__tcfapiCall:{command:r,parameter:typeof a=="function"?void 0:a,version:n,callId:d}}; __set$(t,d,o) , __call$(e,"postMessage",[l,"*"]) }};function s(r){let n={};try{n=typeof r.data=="string"?JSON.parse(r.data):r.data}catch(a){}let o=n.__tcfapiReturn;o&&typeof  __get$(t,o.callId) =="function"&& __call$(t,o.callId,[o.returnValue,o.success]) }window.addEventListener("message",s,!1)}var Bg=h(()=>{});function Ug(){if(!window.__gpp){freestar.log(1,"STATE_OPTIN_BRIDGE: GPP API not available");return}window.__gpp("addEventListener",i=>{(i.eventName==="sectionChange"||i.eventName==="signalStatus")&&Mw()}),freestar.log(0,"STATE_OPTIN_BRIDGE: Initialized successfully")}function Mw(){!window.__gpp||!window.__tcfapi||window.__gpp("getGPPData",i=>{if(!i||!i.sections)return;let e=i.sections.usnat;e&&(freestar.log(0,"STATE_OPTIN_BRIDGE: Syncing USNAT consent to TCF",e),Lw())})}function Lw(){window.__tcfapi&&window.__tcfapi("getTCData",2,(i,e)=>{if(!e){freestar.log(1,"STATE_OPTIN_BRIDGE: Failed to get TCF data");return} let _hh$temp199=i,t=_hh$temp199.purpose,s=_hh$temp199.vendor,r=(t==null?void 0:t.consents)||{},n=(s==null?void 0:s.consents)||{},o=Fg.every(d=>__get$(r,d)===!0),a=__get$(n,$r)===!0; freestar.log(0,`STATE_OPTIN_BRIDGE: TCF Verification - All Purposes: ${o}, Vendor 850: ${a}`,{purposeConsents:r,vendorConsents:n})})}function Gg(i){if(!i)return!1; let _hh$temp200=i,e=_hh$temp200.purpose,t=_hh$temp200.vendor,s=(e==null?void 0:e.consents)||{},r=(t==null?void 0:t.consents)||{},n=Fg.every(a=>__get$(s,a)===!0),o=__get$(r,$r)===!0; return n&&o}var Fg,Vg=h(()=>{ue();Fg=[1,2,3,4,7,9,10]});var kw,Ss,Mc,Bw,Fw,Lc,zg=h(()=>{Vg();La();kw=["tcloaded","useractioncomplete"],Ss=!1,Mc=0,Bw=function( _hh$temp201 ){ var i=_hh$temp201.data;  let _hh$temp202=i,e=_hh$temp202.eventStatus; if(kw.includes(e)){let t=Gg(i);return freestar.log(0,`STATE_OPTIN: Consent parsed - eventStatus: ${e}, consentGiven: ${t}`),t}return!1},Fw=i=>(e,t)=>{if(e.eventStatus!=="cmpuishown"&&!(e.eventStatus==="tcloaded"&&!e.purpose&&!e.vendor)&&e.eventStatus==="useractioncomplete"){let s=Bw({data:e});t?!Ss&&s?(Ss=!0,freestar.log(0,"STATE_OPTIN: Full consent received, loading pubfig"),i()):!Ss&&!s&&(freestar.log(1,"STATE_OPTIN: Full consent not given, attempting restricted ads"),Di(s,globalThis.freestar)):freestar.log(1,"STATE_OPTIN: TCF Callback Failed")}},Lc=function(i){if(Mc++,Mc===50){clearTimeout(freestar.timers.stateOptInTcfapi),freestar.timers.stateOptInTcfapi=null,freestar.log(1,"STATE_OPTIN: TCF API not found after 50 attempts, loading restricted ads as fallback"),Di(!1,globalThis.freestar);return}if(Mc<50&&!window.__tcfapi){freestar.timers||(freestar.timers={}),freestar.timers.stateOptInTcfapi=setTimeout(()=>Lc(i),500);return}freestar.timers&&freestar.timers.stateOptInTcfapi&&(clearTimeout(freestar.timers.stateOptInTcfapi),freestar.timers.stateOptInTcfapi=null),freestar.log(0,"STATE_OPTIN: TCF API found, initializing USNAT \u2194 TCF bridge"),Ug(),window.__tcfapi("addEventListener",2,Fw(i));function e(t=1){var s;try{let r=Object.keys(localStorage).find(m=>m.startsWith("_sp_user_consent_"));if(!r)return;let n=localStorage.getItem(r);if(!n)return;let o=JSON.parse(n),a=(s=o==null?void 0:o.usnat)==null?void 0:s.consentStatus;if((a==null?void 0:a.hasConsentData)!==!0){t<20?setTimeout(()=>e(t+1),100):freestar.log(1,"STATE_OPTIN: Timeout waiting for consent data");return}let l=a==null?void 0:a.granularStatus,f=(l==null?void 0:l.sellStatus)===!0,u=(l==null?void 0:l.shareStatus)===!0,p=f||u;!Ss&&p?(Ss=!0,freestar.log(0,"STATE_OPTIN: User gave consent, loading pubfig"),i()):!Ss&&!p&&(Ss=!0,freestar.log(1,"STATE_OPTIN: User rejected consent, attempting restricted ads"),Di(!1,globalThis.freestar))}catch(r){freestar.log(1,`STATE_OPTIN: Error checking localStorage: ${r.message}`)}}window._stateOptInCheckConsent=e,e()}});function Vw(i,e){var r,n;if(!i){e(null);return}freestar.log(0,"GPP_OPTOUT: GPP data received",i);let t=(r=i.parsedSections)==null?void 0:r.usnat;if(t){let o=t.SaleOptOut===1,a=t.SharingOptOut===1,d=t.TargetedAdvertisingOptOut===1,l=o||a||d;freestar.log(0,`GPP_OPTOUT: USNAT section - SaleOptOut: ${o}, SharingOptOut: ${a}, TargetedOptOut: ${d}`),e(l);return}let s=(n=i.parsedSections)==null?void 0:n.usca;if(s){let o=s.SaleOptOut===1,a=s.SharingOptOut===1,d=o||a;freestar.log(0,`GPP_OPTOUT: USCA section - SaleOptOut: ${o}, SharingOptOut: ${a}`),e(d);return}freestar.log(0,"GPP_OPTOUT: No US sections found in GPP data"),e(null)}function zw(i){if(!window.__gpp){i(null);return}let e=!1;window.__gpp("addEventListener",(t,s)=>{if(e)return;if(!s||!t){i(null);return}let r=t.pingData;(r==null?void 0:r.signalStatus)==="ready"&&(e=!0,Vw(r,i))})}function Hg(i){if(!window.__uspapi){i(null);return}window.__uspapi("getUSPData",1,(e,t)=>{if(!t||!e||!e.uspString){freestar.log(1,"GPP_OPTOUT: USP API call failed or no data"),i(null);return}let s=e.uspString;if(freestar.log(0,`GPP_OPTOUT: USP string received: ${s}`),s.length>=3){let r=s.charAt(2).toUpperCase()==="Y";freestar.log(0,`GPP_OPTOUT: USP opt-out sale: ${r}`),i(r);return}i(!1)})}function $g(i){var s,r;if(kc++,kc>=Uw){clearTimeout((s=freestar.timers)==null?void 0:s.gppOptOut),freestar.timers.gppOptOut=null,freestar.log(1,"GPP_OPTOUT: No GPP or USP API found after max attempts, proceeding with normal flow"),i(!1);return}let e=!!window.__gpp,t=!!window.__uspapi;if(!e&&!t){freestar.timers||(freestar.timers={}),freestar.timers.gppOptOut=setTimeout(()=>$g(i),Gw);return}(r=freestar.timers)!=null&&r.gppOptOut&&(clearTimeout(freestar.timers.gppOptOut),freestar.timers.gppOptOut=null),freestar.log(0,`GPP_OPTOUT: APIs found - GPP: ${e}, USP: ${t}`),e?zw(n=>{if(n!==null){i(n);return}t?Hg(o=>{i(o===!0)}):i(!1)}):t?Hg(n=>{i(n===!0)}):i(!1)}function qg(i){kc=0,$g(e=>{e?(freestar.log(0,"GPP_OPTOUT: User has opted out via GPP/USP, running restricted ads"),Di(!1,globalThis.freestar)):(freestar.log(0,"GPP_OPTOUT: User has NOT opted out, proceeding with normal flow"),i())})}var kc,Uw,Gw,Yg=h(()=>{La();kc=0,Uw=50,Gw=500});function qw(i,...e){return i&&e?e.every(t=>!! __get$(i,t) ):!1}function Yw(i,...e){return i&&e?e.every(t=>!! __get$(i,t) ):!1}function Kw(i,e,t){var n;let s=e||t,r={cmpType:i,tcfapi:e,uspapi:t};(n=freestar==null?void 0:freestar.analyticsQueue)==null||n.push(new Z({eventName:"PRIVACY_COMPLIANCE",eventType:`SITE_HAS_CMP=${s}`,data:r})),freestar.log(0,`PRIVACY_COMPLIANCE SITE_HAS_CMP=${s} ${JSON.stringify(r)}`)}function un(i){mm(),is()?(freestar.log(0,"Privacy Flow: STATE OPT-IN selected"),Lc(i)):Vt()?(freestar.log(0,"Privacy Flow: MSPA selected"),Hr.indexOf(freestar.locData.iso)>-1?Vc(i):i()):Hr.indexOf(freestar.locData.iso)>-1?(freestar.log(0,"Privacy Flow: GDPR selected"),Vc(i)):i()}function Qg(){if(!document.getElementById("pmLink"))return;let i=document.getElementById("pmLink").style.visibility,e=!!window.__tcfapi;if((!!window.__uspapi||e)&&!i)if(Vt()){document.getElementById("pmLink").style.visibility="visible",document.getElementById("pmLink").innerHTML="Do Not Sell or Share My Personal Information";let s=freestar.fsdata.mspsPrivacyManagerId||to;document.getElementById("pmLink").onclick=function(){window._sp_.usnat.loadPrivacyManagerModal(String(s))}}else{document.getElementById("pmLink").style.visibility="visible",document.getElementById("pmLink").innerHTML="Privacy Preferences";let s=freestar.fsdata.gdprPrivacyManagerId||eo;document.getElementById("pmLink").onclick=function(){window._sp_.gdpr.loadPrivacyManagerModal(String(s))}}}var Hw,Uc,Gc,jg,Bc,Wg,$w,jw,Ww,Vc,Fc,Kg,ka=h(()=>{le();ue();xg();he();Da();Dg();Dc();La();Xe();Bg();zg();Yg();Hw=["tcloaded","useractioncomplete"],Uc=1,Gc=10,jg=!1,Bc=0,Wg=i=>{let e={gdpr:!1,usp:{uspString:"1---"}};Vt()?Pg(t=>{t&&(e.usp={uspString:t}),i(e)}):ys()?bg(t=>{t&&(e.gdpr={tcString:t}),i(e)}):i(e)},$w=function( _hh$temp203 ){ var i=_hh$temp203.consents; freestar.consentManagement.consentData={consents:{[Uc]:i? __get$(i,Uc) :void 0,[Gc]:i? __get$(i,Gc) :void 0}}};jw=function( _hh$temp204 ){ var i=_hh$temp204.data;  let _hh$temp205=i,e=_hh$temp205.eventStatus; if(Hw.includes(e)){ let _hh$temp206=i,t=_hh$temp206.purpose,s=_hh$temp206.vendor,r=t?t.consents:void 0,n=s?s.consents:void 0; return $w({consents:r}),qw(r,Uc,Gc)&&Yw(n,$r)}},Ww=i=>(e,t)=>{if(e.eventStatus==="cmpuishown")return;let s=jw({data:e});t?!jg&&s?(jg=!0,freestar.log(0,"GDPR: Full consent received, loading pubfig"),i()):s||(freestar.log(1,"GDPR: Full consent not given, attempting restricted ads"),Di(s,globalThis.freestar)):freestar.log(1,"GDPR: TCF Callback Failed")},Vc=function(i){if(Bc++,Bc===50){clearTimeout(freestar.timers.tcfapi),freestar.timers.tcfapi=null,freestar.log(1,"GDPR: TCF API not found after 50 attempts");return}if(Bc<50&&!window.__tcfapi){freestar.timers||(freestar.timers={}),freestar.timers.tcfapi=setTimeout(()=>Vc(i),500);return}freestar.timers&&freestar.timers.tcfapi&&(clearTimeout(freestar.timers.tcfapi),freestar.timers.tcfapi=null),freestar.log(0,"GDPR: TCF API found, setting up listener"),window.__tcfapi("addEventListener",2,Ww(i))};Fc={QUANTCAST:"FREESTAR",PUBFIG:"FS_SOURCEPOINT_PUBFIG",PUBLISHER:"PUBLISHER"},Kg=(i,e,t)=>{let s=i===Fc.PUBFIG,r=i===Fc.QUANTCAST,n=i===Fc.PUBLISHER,o=!!window.__tcfapi,a=!!window.__uspapi,d=is(e)&&!o,l=!d&&Vt(e)&&!a,f=!d&&ys(e)&&!o,u=n&&rp(e);s&&(d||l||f)?Cg(e,t):r&&(l||f)?Ng(t):u?qg(t):(n&&f&&kg(),t()),Kw(i,o,a)}});function e_(i){if(i){let e=document.getElementsByTagName("head")[0],t=w({type:"style",attributes:[{type:"text/css"},{"data-owner":"freestar"}]});t.appendChild(document.createTextNode( __call$(i,"replace",[/(\r\n|\n|\r)/gm,""]) )),e.appendChild(t)}}function s_( _hh$temp207 ){ var i=_hh$temp207.scriptSrc,_hh$temp207$target=_hh$temp207.target,e=_hh$temp207$target===void 0?null:_hh$temp207$target,t=_hh$temp207.callback,s=_hh$temp207.id; if(e)try{let r=w({type:"script",src:i});r.async=!0,r.type="text/javascript",t&&(r.onload=t),s&&(r.id=s),e.appendChild(r)}catch(r){}}function zc(i){if(!i.state||Object.keys(i.state).length===0)return;let e= __get$(window,"location") .origin,t=i.state.current?e+i.state.current: __get$(__get$(window,"location"),"href") ;Qg(),freestar.trackPageview({path:t})}function Ba(){var a;if(window.freestar.initialBrowserInfoSent&&!((a=window.freestar.func)!=null&&a.domloaded))return;let i=window.innerWidth,e=window.innerHeight,t=document.body,s=document.documentElement,r=Math.max(t.scrollHeight,t.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight),n=document.querySelector("link[rel='canonical']"),o="";n&&(o=n.getAttribute("href")),freestar.msg.loadTime===0&&(freestar.msg.loadTime=Date.now()-freestar.hitTime),window.freestar.lastHrefPushed=window.freestar.lastHrefPushed||"",window.googletag.cmd.push(function(){window.freestar.lastHrefPushed!==freestar.url&&(window.freestar.lastHrefPushed=freestar.url,G.instance.resolve(c.ANALYTICS).then(d=>{d.track(new na({canonical:o,fpc:freestar.msg.fpc,hitTime:freestar.hitTime,loadTime:freestar.msg.loadTime,winHeight:e,winWidth:i,maxHeight:r,isServerToServer:freestar.server.diceRoll,googleVersion:window.googletag.getVersion()||""}))}))})}function r_(i){Hc(i,!0)}function Qw( _hh$temp208 ){ var i=_hh$temp208.eventObject,e=_hh$temp208.event,t=_hh$temp208.complete; if(t?e= __get$(freestar.dfpSlotInfo,i.elementId) : __set$(freestar.dfpSlotInfo,i.elementId,e) ,e&&i&&!sn({event:e})){ let _hh$temp209=e,s=_hh$temp209.slot,r=s.getConfig("targeting").targeting["fs-auuid"][0]||null; G.instance.resolveAll([c.ANALYTICS,c.DFP_RESPONSE_ANALYTICS_EVENT_FACTORY]).then(( _hh$temp210 )=>{ var n=_hh$temp210.analytics,o=_hh$temp210.dfpResponseAnalyticsEventFactory; n.track(o.create({slotId:i.elementId,placementId:i.placementId,DfpId:i.adUnitPath,advertiserId:e.advertiserId,campaignId:e.campaignId,isEmpty:e.isEmpty,lineItemId:e.lineItemId,serviceName:e.serviceName,size:JSON.stringify(e.size),sourceAgnosticCreativeId:e.sourceAgnosticCreativeId,sourceAgnosticLineItemId:e.sourceAgnosticLineItemId,parentDiv:i.elementId,complete:t||!1,auctionId:i.auctionId?i.auctionId:null,fsAuctionId:r}))})}e&&sn({event:e})&&(window.freestar.googleInterstitialPlacement||(window.freestar.googleInterstitialPlacement={}),window.freestar.googleInterstitialPlacement.event=e)}function Hc(i,e){var d;if(!i)return;let t=i.slot.getSlotElementId(),s=i.slot.getAdUnitPath(),r=be({slotId:t,path:s}),n={elementId:t,creativeId:i.creativeId,adUnitPath:s,placementId:r,displayed:!i.isEmpty},o=or({freestar}),a=(d= __get$(i.slot.getConfig("targeting").targeting,o.auction_id) )!=null?d:[];a.length!==0&&(n.auctionId=a[0]),r&&r!=="unknown"&&(ht({name:"adServerResponse",detail:n}),freestar.pushdownControl&&freestar.pushdownControl.postGamResponse&&freestar.pushdownControl.postGamResponse({event:i}),Qw({event:i,eventObject:n,complete:e}),Ig({event:i}),freestar.fsdata.customDirectAdRefresh&&Go(),Zp(i))}function n_(i, _hh$temp211 ={}){ var _hh$temp211$id=_hh$temp211.id,e=_hh$temp211$id===void 0?null:_hh$temp211$id; let t=w({type:"style",attributes:[{"data-owner":"freestar"}],id:e});t.textContent=i,document.head.append(t)}function o_(){let i={video:[],script:[],iframe:[]};function e(t){let s=t.src;return s!==""&&s!==void 0&&s!==null&&s!=="about:blank"}Object.keys(i).forEach(t=>{let s=document.querySelectorAll(t); __set$(i,t,Array.from(s).filter(e).map(_hh$temp212=>{var r=_hh$temp212.src;return r;})) }),G.instance.resolve(c.ANALYTICS).then(t=>{t.track(new Ea({scripts:i.script,videos:i.video,iframes:i.iframe}))})}function a_(i){return i.sizeMappings.reduce((t,s)=>(Ye()>=s.viewport.size[0]&&(t=s),t),{})}function Xo(i,e=window){let t=null;return i.sizeMappings.some(s=>{if(Ye(e)>=s.viewport.size[0])return t=s.size.sort(Js).filter(r=>r[0]!==35843),!0}),t}function Is( _hh$temp213 ){ var i=_hh$temp213.placement,e=_hh$temp213.slotId,t=_hh$temp213.slotConfig,_hh$temp213$targeting=_hh$temp213.targeting,s=_hh$temp213$targeting===void 0?{}:_hh$temp213$targeting,r=_hh$temp213.gamManager; if(!i)return;Ti({placementName:i.name,slotId:e||i.name});let n=r.getSlot({elementId:[e||i.name]});n||(n=r.createSlot({placement:i,id:e,slotConfig:t})),n&&vi(n,i.name, __call$(Object,"assign",[s,{fs_ad_product:$e(i),fs_ad_optimization:qt(i)}]) );let o=je(i);return e&&(o.code=e),{slot:n,bidObject:o,placement:i}}var Jg,Zg,ng,Xg,t_,Ae,i_,Jw,Fa,ie,d_,l_,Q=h(()=>{he();Vo();hs();qe();Ni();At();rn();Fe();yg();le();Pa();Ag();N();Es();D();ka();Jg=i=>i.length===1&&i[0][0]===1&&i[0][1]===1,Zg=i=>Array.isArray(i)&&i.length>1&&i[0]===35843,ng=( _hh$temp214 )=>{ var i=_hh$temp214.placement; let e="";if(!i)return e;let t=i.sizes.filter(r=>Array.isArray(r)),s={w:qr(t,r=>r[0]),h:qr(t,r=>r[1])};return s.w&&s.w.length&&(e+=`__${s.w.join("x")}`),s.h&&s.h.length&&(e+=` __${s.h.join("x")}`),e},Xg=i=>{let e=document.getElementsByTagName("body")[0];e.className.indexOf(`${i}`)==-1&&(e.className+=e.className.length?` ${i}`:i)};t_=()=>["v2ContentCategory","v2ContentSource","v2ContentMediaFormat","v2ContentChannel","v2ContentType","v2ContentLanguage","v2ContentSourceGeo"].reduce((e,t)=> __get$(window.freestar.fsdata,t) ?[...e,... __get$(window.freestar.fsdata,t) ]:e,[]),Ae=()=>Cc(),i_= _hh$temp215=>{var i=_hh$temp215.id;return document.querySelector(`#${i}`)!==null;} ;Jw=()=>{let i=0;return Object.values(document.styleSheets).forEach(e=>{try{let t=e.cssRules;Object.values(t).forEach(s=>{ let _hh$temp216=s,r=_hh$temp216.style; if(r){let n=parseInt(r.getPropertyValue("z-index"),10);n&&n>i&&(i=n)}})}catch(t){}}),Array.from(document.getElementsByTagName("*")).forEach(e=>{let t=parseInt(e.style.zIndex,10);t&&t>i&&(i=t)}),i+1},Fa=function(i=null){let e=i? __get$(window.freestar.fsdata,`${i}ZIndex`) :!1;return e&&e>0?e:Jw()};ie= _hh$temp217=>{var i=_hh$temp217.name;return window.freestar.fsdata.placements.find(e=>e.name===i);} ;d_=i=>i.intersectionRatio>0&&i.isIntersecting&&no(i,"target.id.length",0)>1,l_= _hh$temp218=>{var i=_hh$temp218.email;return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i);} });var $c,qc,Yc,Ua,jc=h(()=>{$c="fs.session",qc="fs.itf.group",Yc="fs.itf.targeting",Ua="fs.ident"});var Wc,c_=h(()=>{Ce();N();Q();et();D();jc();ns();Wc=class{constructor(){this.session=null,this._init()}_init(){this.session=j({key:$c,type:Y.object.type}),(!this.session||!Object.keys(this.session).length)&&(this.session={id:Ae()});let t=rs.flatMap(s=>{let r=$(s);return r?{key:s,value:r}:[]}).reduce( (s,_hh$temp219)=>{var r=_hh$temp219.key,n=_hh$temp219.value;return __set$(s,r,n),s;} ,{});this.session.utm=t,ve({key:$c,type:Y.object,value:this.session})}getSessionId(){return this.session.id}getUTMValue(e){var t;return(t=this.session.utm)==null?void 0: __get$(t,e) }};A.class(Wc,{token:c.SESSION_STORAGE_MANAGER,defaultAlias:"sessionStorageManager"})});var Kc,f_=h(()=>{N();Q();D();Ce();wi();Wl();ns();Kc=class{constructor( _hh$temp220 ){ var e=_hh$temp220.page,t=_hh$temp220.sessionStorageManager,s=_hh$temp220.dispensaryData; this._page=e,this._sessionStorageManager=t,this._dispensaryData=s}create( _hh$temp221 ){ var _hh$temp221$events=_hh$temp221.events,e=_hh$temp221$events===void 0?[]:_hh$temp221$events; let t=this._collectContextInfo();return new ko({context:t,events:e})}_collectContextInfo(){ let _hh$temp222=this._page||{},e=_hh$temp222.pageId,t=_hh$temp222.pageViewCount,s=_hh$temp222.url; return b(b(b({messageId:Ae(),referalURL:document.referrer||void 0,pageId:e,url:s,userAgent:navigator.userAgent,pageviewCount:t||1},this._getDispensaryData()),this._getTestData()),this._getSessionData())}_getSessionData(){let t=Object.fromEntries([["utmSource",Kr],["utmMedium",Qr],["utmCampaign",Jr],["utmTerm",Bl],["utmContent",Zr]].map( _hh$temp223=>{var _hh$temp224=__arrayFrom$(_hh$temp223),s=_hh$temp224[0],r=_hh$temp224[1];return[s,this._sessionStorageManager.getUTMValue(r)];} ));return V(b({},t),{sessionId:this._sessionStorageManager.getSessionId()})}_getTestData(){let e=j({key:Fs,type:Y.number.type})||0,t=j({key:fs})||null,s=j({key:Up})||null;return{testName:t,testGroup:e,testVariantId:s}}_getDispensaryData(){let t=Object.fromEntries(["accountId","siteId","deploymentId","templateVersionId"].map(r=>[r,this._dispensaryData.getValue(r)])),s=this._dispensaryData.getValue("gitHash");return t.templateVersionId==null&&s&&(t.templateVersionId=s),t}};A.class(Kc,{token:c.ANALYTICS_MESSAGE_FACTORY,defaultAlias:"analyticsMessageFactory",dependencies:[c.PAGE,c.SESSION_STORAGE_MANAGER,c.DISPENSARY_DATA]})});var u_=h(()=>{Wl();c_();f_()});var hn,Qc=h(()=>{hn=class extends Error{constructor( _hh$temp225 ){ var e=_hh$temp225.message,t=_hh$temp225.details,s=_hh$temp225.context; super(e),this.details=t,this.context=s}}});var Jc,h_=h(()=>{N();D();wi();Qc();Jc=class{constructor( _hh$temp226 ={}){ var e=_hh$temp226.logger,_hh$temp226$apiHost=_hh$temp226.apiHost,t=_hh$temp226$apiHost===void 0?$l:_hh$temp226$apiHost,_hh$temp226$version=_hh$temp226.version,s=_hh$temp226$version===void 0?"v2":_hh$temp226$version; this.apiHost=t,this.version=s,this.url=`${this.apiHost}/${this.version}/c`,this._logger=e,this._logger.setContext(c.DATA_COLLECTOR_API),this._logger.setLevel(80)}send(e){return T(this,null,function*(){var t;if(e){this._logger.log(["Sending data to collector",e]);try{let s=yield fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"});if(s!=null&&s.ok)return;throw s}catch(s){let r={status:(t=s==null?void 0:s.status)==null?void 0:t.toString(),statusText:s==null?void 0:s.statusText},n="Data Collector API Error: ";throw s!=null&&s.status?n+=`Status: ${s==null?void 0:s.status} ${s==null?void 0:s.statusText}`:n+=`Status: ${s.message}`,new hn({message:n,details:r,context:e})}}})}sendBeacon(e){let t=new Blob([JSON.stringify(e)],{type:"application/json"});if(!navigator.sendBeacon(this.url,t)){let r={status:"0",statusText:"Failed to send via sendBeacon"},n="Data Collector API Error: sendBeacon failed to send the data.";throw this._logger.warning([n,r]),new hn({message:n,details:r,context:e})}}};A.class(Jc,{token:c.DATA_COLLECTOR_API,dependencies:[c.LOGGER],defaultAlias:"dataCollectorAPI"})});var p_=h(()=>{Qc();h_()});var ar,Ga=h(()=>{ar={ERROR:"analyticsError"}});var Mi,Va=h(()=>{Mi=class{beforeMessageSend(e,t){t(e)}}});var Ha,za,m_=h(()=>{ft();Va();Ha=class Ha extends Mi{beforeMessageSend(e,t){ let _hh$temp227=e,s=_hh$temp227.payload; Ha.propertiesToUnalias.forEach(r=>{ __get$(s,r) &&( __set$(s,r,oe(__get$(s,r))) )}),t()}};_(Ha,"propertiesToUnalias",["bidder","bidderCode","adapterCode"]);za=Ha});var g_=h(()=>{Va();m_()});var $a,__=h(()=>{Va();$a=class extends Mi{beforeMessageSend( _hh$temp228 ,t){ var e=_hh$temp228.payload; var s;(s=e.kvps)!=null&&s.length&&(e.kvps=e.kvps.map( _hh$temp229=>{var _hh$temp230=__arrayFrom$(_hh$temp229),r=_hh$temp230[0],n=_hh$temp230[1];return`[${r}=${n}]`;} )),t()}}});var qa,E_=h(()=>{on();N();Ga();ms();D();g_();jt();__();qa=class{constructor( _hh$temp231 ){ var e=_hh$temp231.logger,t=_hh$temp231.mainQueue,s=_hh$temp231.errorQueue,r=_hh$temp231.immediateQueue,n=_hh$temp231.beaconQueue,o=_hh$temp231.eventBus; _(this,"_reportError",( _hh$temp232 )=>{ var e=_hh$temp232.payload; var t;this._errorQueue.enqueue(new Z({eventName:"MESSAGE_ERROR",eventType:(t=e.details)==null?void 0:t.status,data:{error:e.details,message:e.message,timestamp:new Date().toISOString()}}))});this._logger=e,this._logger.setContext(c.ANALYTICS),this._logger.setLevel(2),this._errorReportingEnabled=Math.random()<=.01,this._mainQueue=t,this._errorQueue=s,this._immediateQueue=r,this._beaconQueue=n,this._middlewares=[],this._eventBus=o,this._topicMap={[Ze.ERROR]:this._errorQueue,[Ze.BEACON]:this._beaconQueue,[Ze.IMMEDIATE]:this._immediateQueue,[Ze.MAIN]:this._mainQueue},this._errorReportingEnabled&&this._eventBus.subscribe(ar.ERROR,this._reportError),this._init()}_init(){this._logger.log(Qs.INIT),this._mainQueue.start(),this._logger.log([Qs.INIT_COMPLETE,"Queue processing started."])}addMiddleware(e){if(!(e instanceof Mi))throw new Error("Middleware must be an instance of AnalyticsMiddleware");this._middlewares.includes(e)||this._middlewares.push(e)}removeMiddleware(e){this._middlewares=this._middlewares.filter(t=>t!==e)}track(e){if(!e.type||!e.payload){this._logger.error("Invalid event type. event must be an instance of AnalyticsEvent.");return}let t=this._applyBeforeSendMiddleware(e);if(!t)return;( __get$(this._topicMap,t.topic) || __get$(this._topicMap,Ze.MAIN) ).enqueue(t)}_applyBeforeSendMiddleware(e){let t=this._middlewares.filter(s=>s.beforeMessageSend);if(!t.length)return e;try{let s=()=>{if(!t.length)return;t.shift().beforeMessageSend(e,s)};return s(),e}catch(s){return null}}};A.class(qa,{token:c.ANALYTICS,defaultAlias:"analytics",dependencies:[c.LOGGER,c.MAIN_QUEUE,c.ERROR_QUEUE,c.IMMEDIATE_QUEUE,c.BEACON_QUEUE,c.EVENT_BUS],factory:( _hh$temp233 )=>{ var i=_hh$temp233.dependencies; let e=new qa(i);return e.addMiddleware(new za),e.addMiddleware(new $a),e}})});var Li,Ya=h(()=>{Li=class{enqueue(){throw new Error("Method not implemented")}}});var ja,y_=h(()=>{jt();Ya();Ga();ja=class extends Li{constructor( _hh$temp234 ){ var t=_hh$temp234.analyticsMessageFactory,s=_hh$temp234.eventBus,r=_hh$temp234.logger,n=_hh$temp234.api,_hh$temp234$batchLimit=_hh$temp234.batchLimit,o=_hh$temp234$batchLimit===void 0?30:_hh$temp234$batchLimit,_hh$temp234$intervalMs=_hh$temp234.intervalMs,a=_hh$temp234$intervalMs===void 0?500:_hh$temp234$intervalMs; super();_(this,"_name","DelayedQueue");this._eventBus=s,this._logger=r,this._messageFactory=t,this._logger.setContext(`Analytics Queue: ${this._name}`),this._logger.setLevel(2),this._queue=[],this._api=n,this._intervalMs=a,this._batchLimit=o,this._isProcessing=!1,this._intervalId=null}enqueue(t){let s= __get$(this._queue,this._queue.length-1) ;if(s&&s.size<this._batchLimit){s.addEvent(t);return}this._queue.push(this._messageFactory.create({events:[t]}))}start(){this._processQueue(),this._intervalId=setInterval(()=>{this._processQueue()},this._intervalMs)}stop(){clearInterval(this._intervalId)}_processQueue(){return T(this,null,function*(){if(this._isProcessing)return;let t=this._queue.shift();if(t!=null&&t.size)try{this._isProcessing=!0,yield this._api.send(t.getJSON())}catch(s){this._logger.warning(["Failed to process queue",s]),this._eventBus.emit(ar.ERROR,s)}finally{this._isProcessing=!1}})}}});var pn,S_=h(()=>{Ga();Ya();pn=class extends Li{constructor( _hh$temp235 ){ var t=_hh$temp235.analyticsMessageFactory,s=_hh$temp235.eventBus,r=_hh$temp235.logger,n=_hh$temp235.api,_hh$temp235$reportErrors=_hh$temp235.reportErrors,o=_hh$temp235$reportErrors===void 0?!0:_hh$temp235$reportErrors; super();_(this,"_name","ImmediateQueue");this._eventBus=s,this._logger=r,this._messageFactory=t,this._logger.setContext(`Analytics Queue: ${this._name}`),this._logger.setLevel(2),this._queue=[],this._api=n,this._reportErrors=o,this._isProcessing=!1}enqueue(t){this._queue.push(this._messageFactory.create({events:[t]})),this._processQueue()}_processQueue(){return T(this,null,function*(){for(;this._queue.length;)try{let t=this._queue.shift();if(!(t!=null&&t.size))continue;yield this._api.send(t.getJSON())}catch(t){this._logger.warning(["Failed to process queue",t]),this._reportErrors&&this._eventBus.emit(ar.ERROR,t)}})}}});var mn,I_=h(()=>{Ya();mn=class extends Li{constructor( _hh$temp236 ){ var t=_hh$temp236.analyticsMessageFactory,s=_hh$temp236.logger,r=_hh$temp236.api; super();_(this,"_name","BeaconQueue");this._messageFactory=t,this._api=r,this._logger=s,this._logger.setContext(`Analytics Queue: ${this._name}`),this._logger.setLevel(2),this._queue=[]}enqueue(t){let s=this._messageFactory.create({events:[t]});this._sendBeacon(s)}_sendBeacon(t){try{this._api.sendBeacon(t.getJSON())}catch(s){this._logger.warning(["Failed to send beacon",s])}}}});var A_=h(()=>{y_();S_();I_()});var ef,Wa,Ka,b_=h(()=>{N();A_();jt();D();ef=[c.EVENT_BUS,c.LOGGER,{token:c.DATA_COLLECTOR_API,alias:"api"},c.ANALYTICS_MESSAGE_FACTORY],Wa=class extends ja{constructor(){super(...arguments);_(this,"_name",c.MAIN_QUEUE)}},Ka=class extends pn{constructor(){super(...arguments);_(this,"_name",c.IMMEDIATE_QUEUE)}};A.class(Wa,{token:c.MAIN_QUEUE,defaultAlias:"mainQueue",dependencies:ef,factory: _hh$temp237=>{var i=_hh$temp237.dependencies;return new Wa(V(b({},i),{batchLimit:30,intervalMs:500}));} });A.class(Ka,{token:c.ERROR_QUEUE,defaultAlias:"errorQueue",dependencies:ef,factory: _hh$temp238=>{var i=_hh$temp238.dependencies;return new Ka(V(b({},i),{reportErrors:!1}));} });A.class(pn,{token:c.IMMEDIATE_QUEUE,defaultAlias:"immediateQueue",dependencies:ef});A.class(mn,{token:c.BEACON_QUEUE,defaultAlias:"beaconQueue",dependencies:[c.ANALYTICS_MESSAGE_FACTORY,c.LOGGER,c.EVENT_BUS,{token:c.DATA_COLLECTOR_API,alias:"api"}],factory: _hh$temp239=>{var i=_hh$temp239.dependencies;return new mn({analyticsMessageFactory:i.analyticsMessageFactory,api:i.api,eventBus:i.eventBus,logger:i.logger});} })});var As=h(()=>{u_();jt();p_();Pi();E_();b_()});var T_=Xi((Qa,w_)=>{(function(i,e){typeof Qa=="object"?w_.exports=Qa=e(Mo()):typeof define=="function"&&define.amd?define(["./core"],e):e(i.CryptoJS)})(Qa,function(i){return function(e){var t=i,s=t.lib,r=s.WordArray,n=s.Hasher,o=t.algo,a=[],d=[];(function(){function u(S){for(var I=e.sqrt(S),g=2;g<=I;g++)if(!(S%g))return!1;return!0}function p(S){return(S-(S|0))*4294967296|0}for(var m=2,E=0;E<64;)u(m)&&(E<8&&( __set$(a,E,p(e.pow(m,1/2))) ), __set$(d,E,p(e.pow(m,1/3))) ,E++),m++})();var l=[],f=o.SHA256=n.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(u,p){for(var m=this._hash.words,E=m[0],S=m[1],I=m[2],g=m[3],y=m[4],R=m[5],M=m[6],z=m[7],H=0;H<64;H++){if(H<16) __set$(l,H,__get$(u,p+H)|0) ;else{var ce= __get$(l,H-15) ,X=(ce<<25|ce>>>7)^(ce<<14|ce>>>18)^ce>>>3,Te= __get$(l,H-2) ,se=(Te<<15|Te>>>17)^(Te<<13|Te>>>19)^Te>>>10; __set$(l,H,X+__get$(l,H-7)+se+__get$(l,H-16)) }var Ge=y&R^~y&M,Ve=E&S^E&I^S&I,xt=(E<<30|E>>>2)^(E<<19|E>>>13)^(E<<10|E>>>22),Ut=(y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25),Pt=z+Ut+Ge+ __get$(d,H) + __get$(l,H) ,_i=xt+Ve;z=M,M=R,R=y,y=g+Pt|0,g=I,I=S,S=E,E=Pt+_i|0}m[0]=m[0]+E|0,m[1]=m[1]+S|0,m[2]=m[2]+I|0,m[3]=m[3]+g|0,m[4]=m[4]+y|0,m[5]=m[5]+R|0,m[6]=m[6]+M|0,m[7]=m[7]+z|0},_doFinalize:function(){var u=this._data,p=u.words,m=this._nDataBytes*8,E=u.sigBytes*8;return p[E>>>5]|=128<<24-E%32, __set$(p,(E+64>>>9<<4)+14,e.floor(m/4294967296)) , __set$(p,(E+64>>>9<<4)+15,m) ,u.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var u=n.clone.call(this);return u._hash=this._hash.clone(),u}});t.SHA256=n._createHelper(f),t.HmacSHA256=n._createHmacHelper(f)}(Math),i.SHA256})});var R_=Xi((Ja,v_)=>{(function(i,e){typeof Ja=="object"?v_.exports=Ja=e(Mo()):typeof define=="function"&&define.amd?define(["./core"],e):e(i.CryptoJS)})(Ja,function(i){return function(){var e=i,t=e.lib,s=t.WordArray,r=t.Hasher,n=e.algo,o=[],a=n.SHA1=r.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,l){for(var f=this._hash.words,u=f[0],p=f[1],m=f[2],E=f[3],S=f[4],I=0;I<80;I++){if(I<16) __set$(o,I,__get$(d,l+I)|0) ;else{var g= __get$(o,I-3) ^ __get$(o,I-8) ^ __get$(o,I-14) ^ __get$(o,I-16) ; __set$(o,I,g<<1|g>>>31) }var y=(u<<5|u>>>27)+S+ __get$(o,I) ;I<20?y+=(p&m|~p&E)+1518500249:I<40?y+=(p^m^E)+1859775393:I<60?y+=(p&m|p&E|m&E)-1894007588:y+=(p^m^E)-899497514,S=E,E=m,m=p<<30|p>>>2,p=u,u=y}f[0]=f[0]+u|0,f[1]=f[1]+p|0,f[2]=f[2]+m|0,f[3]=f[3]+E|0,f[4]=f[4]+S|0},_doFinalize:function(){var d=this._data,l=d.words,f=this._nDataBytes*8,u=d.sigBytes*8;return l[u>>>5]|=128<<24-u%32, __set$(l,(u+64>>>9<<4)+14,Math.floor(f/4294967296)) , __set$(l,(u+64>>>9<<4)+15,f) ,d.sigBytes=l.length*4,this._process(),this._hash},clone:function(){var d=r.clone.call(this);return d._hash=this._hash.clone(),d}});e.SHA1=r._createHelper(a),e.HmacSHA1=r._createHmacHelper(a)}(),i.SHA1})});var Lt,Za,O_,C_,x_,P_,Zw,Xw,D_,N_,M_,L_,tf,dr,k_,gn,B_,F_,U_,G_,sf,_n,rf,ai,V_,z_,H_,$_,q_,Y_,pt,j_,W,W_,K_,Q_,J_,Z_,En,X_,yn,eE,XL,Kt=h(()=>{Lt={ALL_DISABLED:"disabled",ALL_ENABLED:"enabled",TEST_PARTNERS:"test"},Za={criteo:{itfPosition:0,itfTestPercent:.95,enabled:void 0},uid2:{itfPosition:1,itfTestPercent:.95,enabled:void 0},fabrickId:{itfPosition:2,itfTestPercent:.95,enabled:void 0},hadronId:{itfPosition:3,itfTestPercent:.95,enabled:void 0},id5Id:{itfPosition:4,itfTestPercent:.95,enabled:void 0},pairId:{itfPosition:5,itfTestPercent:.95,enabled:void 0},"33acrossId":{itfPosition:6,itfTestPercent:.95,enabled:void 0},sharedId:{itfPosition:7,itfTestPercent:.95,enabled:void 0},connectid:{itfPosition:8,itfTestPercent:.95,enabled:void 0},identityLink:{itfPosition:9,itfTestPercent:.95,enabled:void 0},liveIntentId:{itfPosition:11,itfTestPercent:.95,enabled:void 0},unifiedId:{itfPosition:12,itfTestPercent:.95,enabled:void 0},intentIqId:{itfPosition:13,itfTestPercent:.95,enabled:!0},carbon:{itfPosition:14,itfTestPercent:.95,enabled:void 0},airgrid:{itfPosition:15,itfTestPercent:.95,enabled:void 0},linkedInAdsId:{itfPosition:16,itfTestPercent:.95,enabled:void 0},symitri:{itfPosition:17,itfTestPercent:.95,enabled:void 0},gamera:{itfPosition:18,itfTestPercent:.95,enabled:void 0},optable:{itfPosition:19,itfTestPercent:.95,enabled:void 0}},O_=.01,C_=.01,x_=` @import url('https://fonts.googleapis.com/css2?family=Varela+Round&display=swap'); .__fs-modal__overlay { position: absolute; z-index: 10000; top: 0; right: 0; bottom: 0; left: 0; background-color: rgba(255,255,255,0.75); display: flex; align-items: center; justify-content: center; } .__fs-modal { font-family: 'Varela Round', sans-serif !important; font-size: 16px; width: 45vw; border-radius: 5px; background-color: white; box-shadow: 0 10px 25px 0 rgb(0 195 137 / 50%); border: 1px solid rgb(0 195 137); } .__fs-modal__content { margin: 1rem; padding: 1rem; height: calc(100% - 2rem); } .__fs-modal__header { width: 100%; text-align: left; font-size: 2rem; } h2.__fs-modal__header { border-bottom: 3px solid rgb(0 195 137); margin-bottom: 1rem; } h3.__fs-modal__header { font-size: 1.5rem; } .__fs-modal__description { width: 100%; font-size: 1rem; margin-bottom: .75rem; } .__fs-modal__content span { width: 100%; font-size: 1.25rem; display: flex; align-items: center; justify-content: space-between; } .__fs-modal__content span input, .__fs-modal__content span button { width: 100%; font-size: 1.25em; padding: .25rem; } .__fs-modal__content span button { border: 0; border-radius: 5px; background-color: rgb(0 195 137); color: white; font-family: 'Varela Round', sans-serif !important; } @media only screen and (min-device-width : 320px) and (max-device-width : 768px) { .__fs-modal { width: 100vw; border-radius: 0; background-color: white; box-shadow: initial; border: 0; position: fixed; top: 0; bottom: 0; } } `,P_=`<div class="__fs-modal"><form class="__fs-modal__content"><h2 class="__fs-modal__header">Welcome!</h2><p class="__fs-modal__description">Our trusted advertising partners using the UID identifier and/or encrypted email addresses are committed to delivering relevant advertising that also respects your choice. Advertising enables access to your favorite content across the internet.</p><h3 class="__fs-modal__header">Opt-Out</h3><p class="__fs-modal__description">Your choice to Opt-Out will indicate to trusted advertising partners that you no longer wish to receive targeted advertising based on your UID/email. The scope of this Opt-Out is limited to this site which use UID/email. For choice with respect to advertising based on cookies, please visit https://optout.aboutads.info. To opt out of UID across all sites please visit <a href="https://transparentadvertising.org/" target="_blank">https://transparentadvertising.org/</a></p><p class="__fs-modal__description">Note: this choice may limit your ability to access ad supported content. You may be asked to Opt-In again in the future to access such content.</p><span><button type="submit" id="__fs-model__submit">OPT OUT</button>&nbsp; <button id="__fs-model__cancel">CANCEL</button></span></form></div>`,Zw="serverPublicKey",Xw="subscriptionId",D_="emailHash",N_=[Zw,Xw],M_="fs_liveintent",L_="liveIntentId",tf=.95,dr="carbon",k_="4d97a662ad",gn="airgrid",B_="PV483g",F_="FpZbsa",U_="cdeffa51-8532-473f-8ba0-200d751fd73e",G_="https://pb-ing.ccgateway.net",sf={PARENT_ID:"parentId",ENDPOINT:"endpoint",ANALYTICS_ENDPOINT:"analyticsEndpoint"},_n="hadronId",rf=474,ai="symitri",V_="freestar.dap.symitri.net",z_="x1",H_="compositeid",$_="HEM:",q_=708,Y_="https://prodsymitriapp.azurewebsites.net/v1/impression",pt="gamera",j_=[gn,dr,ai,pt],W={FABRICK_ID:"fabrickId",CONNECT_ID:"connectid",ID5_ID:"id5Id",LIVEINTENT_ID:"liveIntentId",UID2:"uid2",IDENTITY_LINK:"identityLink",AMAZON:"amazon",CRITEO:"criteo",OPTABLE:"optable"},W_=40,K_=64,Q_=32,J_=2,Z_=106,En="optable",X_="https://freestar.solutions.cdn.optable.co/public-assets/freestar-sdk.js",yn="intentIqId",eE="https://a.pub.network/core/intentIQ/20250618/IIQUniversalID.js",XL=W.CONNECT_ID});var Qt,nf=h(()=>{he();Qt=class{static normalizeEmail(e){if(!(e!=null&&e.length))return;let t=e.trim().toLowerCase();if(t.includes(" "))return;let s=this.splitEmailIntoAddressAndDomain(t);if(!s)return; let _hh$temp240=s,r=_hh$temp240.address,n=_hh$temp240.domain,o=this.isGmail(n),a=this.normalizeAddressPart(r,o,o); return a?`${a}@${n}`:void 0}static bytesToBase64(e){let t=Array.from(e,s=>String.fromCodePoint(s)).join("");return btoa(t)}static hashUID2(e){let t=new Uint8Array(e.match(/[\da-f]{2}/gi).map(function(s){return parseInt(s,16)}));return this.bytesToBase64(new Uint8Array(t))}static splitEmailIntoAddressAndDomain(e){let t=e.split("@");if(!(t.length!==2||t.some(s=>s==="")))return{address:t[0],domain:t[1]}}static isGmail(e){return e===this.GMAIL_DOMAIN}static dropExtension(e){return e.split(this.EMAIL_EXTENSION_SYMBOL)[0]}static normalizeAddressPart(e,t,s){let r=e;return t&&(r=ip(r,this.EMAIL_DOT,"")),s&&(r=this.dropExtension(r)),r}};_(Qt,"EMAIL_EXTENSION_SYMBOL","+"),_(Qt,"EMAIL_DOT","."),_(Qt,"GMAIL_DOMAIN","gmail.com")});var of,tE,iE=h(()=>{Kt();of=(i,e,t)=>(i==null?void 0:i.length)===e?{[t]:i}:{},tE=i=>{let e=b(b(b({},of(i==null?void 0:i.sha256,K_,"sha256")),of(i==null?void 0:i.sha1,W_,"sha1")),of(i==null?void 0:i.md5,Q_,"md5"));return e.sha256||console.warn("Limited support with ID partners due to invalid sha256",i==null?void 0:i.sha256),e}});var sE,rE,nE,af,oE=h(()=>{sE=xs(T_()),rE=xs(R_()),nE=xs(jl());Kt();nf();$s();Q();N();D();As();he();hs();iE();Ce();af=class{constructor( _hh$temp241 ){ var i=_hh$temp241.identityConfig,e=_hh$temp241.hashedEmailProviderManager,t=_hh$temp241.realtimeProvidersManager,s=_hh$temp241.analyticsAdaptersManager,r=_hh$temp241.logger,n=_hh$temp241.analytics,o=_hh$temp241.gamManager,_hh$temp241$win=_hh$temp241.win,a=_hh$temp241$win===void 0?window:_hh$temp241$win; _(this,"targeting","----------------------------------------");_(this,"hashedEmailsPassed",!1);_(this,"messageSent",!1);_(this,"prebidNonRealTimeProvidersConfig",null);this._window=a,this._gamManager=o,this._identityConfig=i,this._analytics=n,this._logger=r,this._logger.setContext(c.IDENTITY_MANAGER),this.hashedEmailProviders=e,this.realtimeProviders=t,this.analyticsAdapters=s,this._populatePrebidNonRealTimeProvidersConfig(),this._initializeLiveIntentHIRO()}init(){var i;this._logger.log((i=this._identityConfig.identityProviders)!=null&&i.length?`Eligible providers: ${this._identityConfig.identityProviders.map(e=>e.slug)}`:"No Eligible Providers"),this.hashedEmailProviders.initializeProviders(),this.realtimeProviders.loadScripts(),this._createTargeting(),this._logger.log(`Targeting: ${JSON.stringify(this.targeting)}`),this._setGamTargeting(),this._sendEventMessages(this._identityConfig.providersRules)}_hasIdentitySet(){return!!this._identityConfig.identityData&&!!Object.keys(this._identityConfig.identityData).length}setIdentity( _hh$temp242 ={}){ var i=_hh$temp242.email,e=_hh$temp242.hashes; return i||e?(i&&l_({email:i})&&this._setIdentityFromEmail(i),e&&this._setIdentityFromHashes(e),this._sendEventMessages(this._identityConfig.providersRules),!0):(this._logger.error("setIdentity requires at least one parameter: email or hashes"),!1)}_updateProviders(i){this.hashedEmailProviders.updateAllProviders(i,!1)}_setIdentityFromHashes(i){let e=tE(i);if(!Object.keys(e).length)return console.warn("Invalid hashes: ",i),!1;this._identityConfig.setIdentityData(e),this._updateProviders(e)}_setIdentityFromEmail(i){let e=Qt.normalizeEmail(i),t={sha256:(0,sE.default)(e).toString(),sha1:(0,rE.default)(e).toString(),md5:(0,nE.default)(e).toString()};this._identityConfig.setIdentityData(t),this._updateProviders(t)}showModal(){n_(x_);let i=w({classList:["__fs-modal__overlay"]});i.innerHTML=P_,this._window.document.body.appendChild(i);let e=this._window.document.getElementById("__fs-model__submit"),t=this._window.document.getElementById("__fs-model__cancel");e.onclick=s=>T(this,null,function*(){s.preventDefault(),this._identityConfig.removeIdentityDataFromSessionStorage(),this.hashedEmailProviders.updateAllProviders({},this._identityConfig.testGroup,!1),i.remove(),ht({name:"identityModalOptOut",detail:!0})}),t.onclick=s=>{s.preventDefault(),i.remove(),ht({name:"identityModalClosed",detail:!0})}}addOptOut( _hh$temp243 ){ var _hh$temp243$selector=_hh$temp243.selector,i=_hh$temp243$selector===void 0?"#freestarOptOutLink":_hh$temp243$selector,_hh$temp243$element=_hh$temp243.element,e=_hh$temp243$element===void 0?!1:_hh$temp243$element; if(e=e!=null?e:document.querySelector(i),!e)return!1;e.onclick=t=>{t.preventDefault(),this.showModal()}}_createTargeting(){if(this._identityTrackingDisabled){this.targeting="0";return}let i=this._identityConfig.identityProviders.filter( _hh$temp244=>{var e=_hh$temp244.slug;return e;} ).map( _hh$temp245=>{var e=_hh$temp245.slug;return e.toLowerCase();} );Object.entries(this._identityConfig.providersRules).forEach(( _hh$temp246 )=>{ var _hh$temp247=__arrayFrom$(_hh$temp246),e=_hh$temp247[0],t=_hh$temp247[1]; var s;if((i.includes(e.toLowerCase())||e==="gamera")&&typeof t.enabled=="boolean"){let r=this.targeting.split(""); __set$(r,t.itfPosition,t.enabled?(s=t.itfValue)!=null?s:"Y":"N") ,this.targeting=r.join("")}})}_setGamTargeting(){if(this._gamManager.setGlobalTargeting(ge.ITF,this.targeting),this.targeting==="0")return;let i= __get$(Za,L_) .itfPosition||-1,e=this.targeting.length>0&& __get$(this.targeting,i) ;["Y","N"].includes(e)&&this._gamManager.setGlobalTargeting(M_,e)}get _identityTrackingDisabled(){return!(this._identityConfig.itfY||this._identityConfig.itf_n)&&this._identityConfig.testGroup===Lt.ALL_DISABLED}_normalizeStorageConfig(config={}){ let _hh$temp248=config!=null?config:{},refreshInSeconds=_hh$temp248.refreshInSeconds,expires=_hh$temp248.expires; try{return V(b({},config),{refreshInSeconds:eval( __proc$Script(refreshInSeconds) ),expires:eval( __proc$Script(expires) )})}catch(i){return config}}_populatePrebidNonRealTimeProvidersConfig(){if(this._identityTrackingDisabled)return[];this.prebidNonRealTimeProvidersConfig=this._identityConfig.identityProviders.filter( _hh$temp249=>{var i=_hh$temp249.slug;return(((!j_.includes(i)&&this._identityConfig.checkIfProviderEnabled(i))&&this._identityConfig.checkIfProviderIsAllowedInGeo(i))&&En!==i)&&yn!==i;} ).map(( _hh$temp250 )=>{ var i=_hh$temp250.slug,e=_hh$temp250.params,t=_hh$temp250.storage; var r,n,o,a,d,l,f;let s=b(b({name:i},Object.keys(e||{}).length!==0?{params:e}:{}),Object.keys(t||{}).length!==0?{storage:b({},this._normalizeStorageConfig(t))}:{});switch(i){case"uid2":if((r=this._identityConfig.identityData)!=null&&r.sha256){let u=this.hashedEmailProviders.getProviderConfigByName(i,this._identityConfig.identityData);s.params= __call$(Object,"assign",[s.params,u.params]) }break;case"merkleId":s.params= __call$(Object,"assign",[s.params,{sv_domain:__get$(window,"location").hostname}]) ;break;case"pairId":if((n=s.params)!=null&&n.liveramp){let u=wl("liveramp",s.params);s.params= __call$(Object,"assign",[s.params,{liveramp:u}]) }break;case"liveIntentId":if((o=s.params)!=null&&o.requestedAttributesOverrides){let u=wl("requestedAttributesOverrides",s.params);if(typeof u=="object"&&!Array.isArray(u)&&u!==null&&Object.keys(u).forEach(p=>{let m=["nonId","uid2","medianet","magnite","bidswitch","pubmatic","openx","sovrn","index","thetradedesk","triplelift","vidazoo","sonobi","sharethrough","nexxen"]; __set$(u,p,m.includes(p)&&__get$(u,p)==="true") }),s.params= __call$(Object,"assign",[s.params,{requestedAttributesOverrides:u}]) ,(a=this._identityConfig.identityData)!=null&&a.sha1||(d=this._identityConfig.identityData)!=null&&d.md5){let p=this.hashedEmailProviders.getProviderConfigByName(i,this._identityConfig.identityData);p.emailHash&&(s.params.emailHash=p.params.emailHash)}}break;case"connectid":if((l=this._identityConfig.identityData)!=null&&l.sha256){let u=this.hashedEmailProviders.getProviderConfigByName(i,this._identityConfig.identityData);s.params= __call$(Object,"assign",[s.params,u.params]) }else{ let _hh$temp251=s.params||{},u=_hh$temp251.pixelId; if(!u)break;let p=j({key:"fs.config",type:Y.object.type}),m=p==null?void 0:p.fsuid,E=b({pixelId:u},m?{puid:m}:{}); __call$(Object,"assign",[s.params,E]) }break;case W.FABRICK_ID:if((f=this._identityConfig.identityData)!=null&&f.sha256){let u=this.hashedEmailProviders.getProviderConfigByName(i,this._identityConfig.identityData);s.params= __call$(Object,"assign",[s.params,u.params]) }break;case W.ID5_ID:{let u=this.hashedEmailProviders.getProviderConfigByName(i,this._identityConfig.identityData);s.params= __call$(Object,"assign",[s.params,u.params]) ;break}}return s})}_sendEventMessages(i){var s,r;let e={};i&&typeof i=="object"&&!Array.isArray(i)&&(e=Object.keys(i).reduce((n,o)=>( __get$(i,o) .enabled?n.available.push(o):n.unavailable.push(o),n),{available:[],unavailable:[]}));let t=e&&(((s=e.available)==null?void 0:s.length)||((r=e.unavailable)==null?void 0:r.length));!this.messageSent&&this._hasIdentitySet()&&t&&(e.hemsAvailability=this.hashedEmailProviders.getHashesSentByProvider(),this._logger.log(`HEM types sent: ${JSON.stringify(e.hemsAvailability)}`),this._analytics.track(new Z({eventType:"IDENTITY",eventName:"HASHED_EMAIL_PROVIDERS",data:e})),this.messageSent=!0)}_initializeLiveIntentHIRO(){this._window.liModuleEnabled===void 0&&(this._window.liModuleEnabled=Math.random()<tf,this._window.liTreatmentRate=tf)}};A.class(af,{token:c.IDENTITY_MANAGER,dependencies:[c.IDENTITY_CONFIG,c.HASHED_EMAIL_PROVIDERS,c.REALTIME_PROVIDERS,c.ANALYTICS_ADAPTERS,c.LOGGER,c.ANALYTICS,c.OPTABLE_MANAGER,c.IIQ_MANAGER,c.GAM_MANAGER,{token:"window",alias:"win"}]})});var Xa,aE=h(()=>{D();le();N();Kt();ta();Xa=class{constructor( _hh$temp252 ){ var e=_hh$temp252.dispensaryData,t=_hh$temp252.logger,s=_hh$temp252.identityConfig,r=_hh$temp252.prebidManager,n=_hh$temp252.gamManager,_hh$temp252$win=_hh$temp252.win,o=_hh$temp252$win===void 0?window:_hh$temp252$win; _(this,"_atsKey","ats");_(this,"version",2);_(this,"atsEnabled",!1);this._window=o,this._identityConfig=s,this._dispensaryData=e,this._prebidManager=r,this._gamManager=n,this._instance=null,this._logger=t,this._lastATSIdentityData=null,this._logger.setContext(c.ATS_MANAGER),this._init()}_init(){if(!this._identityConfig.checkIfProviderEnabled(W.IDENTITY_LINK)||!this._isGeoAllowed)return;this.atsEnabled=this._dispensaryData.fsdata.atsEnabledV2,this.atsEnabled&&(this._gamManager.setGlobalTargeting({key:"atsd",value:[]}),this._loadScript()),(this._dispensaryData.fsdata.atsAnalyticsEnabled!==null&&this._dispensaryData.fsdata.atsAnalyticsEnabled!==void 0?this._dispensaryData.fsdata.atsAnalyticsEnabled:this._dispensaryData.fsdata.atsEnabledV2)&&this._enablePrebidAnalytics()}get _isGeoAllowed(){var t;let e=(t=this._dispensaryData.locData)==null?void 0:t.iso;return e?this._identityConfig.checkIfProviderIsAllowedInGeo(W.IDENTITY_LINK)?!0:(this._logger.log(`LiveRamp ATS does not run for users in ${e}.`,{level:10}),!1):(this._logger.log("LiveRamp ATS does not run for users "+(e?`in ${e}.`:"without location data."),{level:10}),!1)}getConfigV2(){let e=this._identityConfig.identityData;return e?{id:Object.values(e),type:"emailHashes"}:{}}_enablePrebidAnalytics(){var s,r;let e=this._identityConfig.identityProviders.find(n=>n.id===J_),t=(r=(s=e==null?void 0:e.params)==null?void 0:s.pid)!=null?r:Z_;this._prebidManager.instance.enableAnalytics([{provider:"atsAnalytics",options:{pid:t}}])}get _atsURL(){return`https://launchpad-wrapper.privacymanager.io/${this._dispensaryData.fsdata.atsV2ConfigUUID}/launchpad-liveramp.js`}_loadScript(){Ie(this._atsURL,()=>{Xs({getIsFound:()=>{var e;return!!((e= __get$(this._window,this._atsKey) )!=null&&e.setAdditionalData)},callback:()=>{this._instance= __get$(this._window,this._atsKey) ,this.setConfig()},timeout:60*1e3})})}_hasValidIdentityData(e){return!e||Object.keys(e).length===0?!1:e.id&&(Array.isArray(e.id)?e.id.length>0:e.id.trim()!=="")}setConfig(){var t;let e=this.getConfigV2();if(!this._hasValidIdentityData(e)){this._logger.log(["Skipping LiveRamp ATS setAdditionalData - no meaningful identity data:",e],{level:10});return}if(this._lastATSIdentityData&&JSON.stringify(this._lastATSIdentityData)===JSON.stringify(e)){this._logger.log("Skipping LiveRamp ATS setAdditionalData - identity data unchanged",{level:10});return}this._logger.log("LiveRamp ATS setAdditionalData called with identity data",{level:10}),(t=this._instance)==null||t.setAdditionalData(e),this._lastATSIdentityData=e}};A.class(Xa,{token:c.ATS_MANAGER,dependencies:[c.DISPENSARY_DATA,{token:"window",alias:"win"},c.LOGGER,c.IDENTITY_CONFIG,c.PREBID_MANAGER,c.GAM_MANAGER],factory:e=>T(void 0,[e],function*( _hh$temp253 ){ var i=_hh$temp253.dependencies; return yield i.prebidManager.ready,new Xa(b({},i))})})});var wt,dE=h(()=>{wt=Object.freeze({SHA256:"sha256",SHA1:"sha1",MD5:"md5"})});var ed,lE=h(()=>{Kt();nf();N();D();dE();Ce();ed=class{constructor( _hh$temp254 ){ var e=_hh$temp254.identityConfig,t=_hh$temp254.dispensaryData,s=_hh$temp254.atsManager,r=_hh$temp254.prebidManager,n=_hh$temp254.amazonManager,o=_hh$temp254.freestar,_hh$temp254$win=_hh$temp254.win,a=_hh$temp254$win===void 0?window:_hh$temp254$win; this._prebid=r,this._amazon=n,this._ats=s,this._identityConfig=e,this._dispensaryData=t,this._window=a,this._freestar=o,this._hashesSentByProvider={}}_recordHashSent(e,t){ __get$(this._hashesSentByProvider,e) ||( __set$(this._hashesSentByProvider,e,new Set()) ), __get$(this._hashesSentByProvider,e) .add(t)}getProviderConfigByName(e,t={}){switch(e){case W.FABRICK_ID:return this._getFabrickConfig(t);case W.CONNECT_ID:return this._getYahooConfig(t);case W.ID5_ID:return this._getID5Config(t);case W.LIVEINTENT_ID:return this._getLiveIntentConfig(t);case W.UID2:return this._getUid2Config(t);case W.CRITEO:return this._getCriteoConfig(t);default:return{}}}getHashesSentByProvider(){let e={};for(let _hh$temp255 of Object.entries(this._hashesSentByProvider)) {let _hh$temp256=__arrayFrom$(_hh$temp255),t=_hh$temp256[0],s=_hh$temp256[1];__set$(e,t,Array.from(s).sort());} return e}_resetHashesSentByProvider(){this._hashesSentByProvider={}}updateAllProviders(e={},t){if(!(!this._identityConfig.testGroup||this._identityConfig.testGroup===Lt.ALL_DISABLED)){if(this._resetHashesSentByProvider(),this._identityConfig.checkIfProviderEnabled(W.AMAZON)&&this._hasSha256(e)&&this._amazon.isEnabled&&this._updateAmazon(e,t),this._identityConfig.checkIfProviderEnabled(W.IDENTITY_LINK)&&this._updateATS(),this._identityConfig.checkIfProviderEnabled(W.FABRICK_ID)&&this._updatePrebidUserSyncConfig(this._getFabrickConfig(e)),this._identityConfig.checkIfProviderEnabled(W.CONNECT_ID)&&this._updatePrebidUserSyncConfig(this._getYahooConfig(e)),this._identityConfig.checkIfProviderEnabled(W.ID5_ID)&&this._updatePrebidUserSyncConfig(this._getID5Config(e)),this._identityConfig.checkIfProviderEnabled(W.LIVEINTENT_ID)&&this._updatePrebidUserSyncConfig(this._getLiveIntentConfig(e)),this._identityConfig.checkIfProviderEnabled(W.UID2)&&this._updatePrebidUserSyncConfig(this._getUid2Config(e)),this._identityConfig.checkIfProviderEnabled(W.CRITEO)){let s=this._getCriteoConfig(e);s&&this._prebid.instance.setBidderConfig(s,!0)}if(this._identityConfig.checkIfProviderEnabled(W.OPTABLE)){let s=this._getOptableConfig(e);if(s)try{window.optable=window.optable||{cmd:[]},window.optable.cmd.push(()=>{var r,n;(n=(r=window.optable)==null?void 0:r.freestar_auth)==null||n.identify("e:"+s)})}catch(r){console.warn(r)}}this._prebid.instance.refreshUserIds()}}initializeProviders(){if(this._hasSha256(this._identityConfig.identityData)&&this._identityConfig.testGroup!==Lt.ALL_DISABLED&&this._amazon.isEnabled&&this._initializeAmazon(this._identityConfig.identityData),this._identityConfig.checkIfProviderEnabled(W.CRITEO)){let e=this._getCriteoConfig(this._identityConfig.identityData);e&&this._prebid.instance.setBidderConfig(e,!0)}}_hasSha256(e){return typeof(e==null?void 0:e.sha256)!="undefined"}_initializeAmazon(e){var t;(t=this._amazon.instance)==null||t.renewId({hashedRecords:[{type:"email",record:e.sha256}]})}_getConfigBySlug(e){return this._identityConfig.identityProviders.find( _hh$temp257=>{var t=_hh$temp257.slug;return t===e;} )}_getCriteoConfig(e){if(e!=null&&e.sha256||e!=null&&e.md5){e!=null&&e.sha256&&this._recordHashSent(W.CRITEO,wt.SHA256),e!=null&&e.md5&&this._recordHashSent(W.CRITEO,wt.MD5);try{return{bidders:["criteo"],config:{ortb2:{user:{ext:{data:{eids:[{source: __get$(this._window,"location") .hostname,uids:[...e.md5?[{id:e.md5,atype:3,ext:{stype:"hemmd5"}}]:[],...e.sha256?[{id:e.sha256,atype:3,ext:{stype:"hemsha256"}}]:[]]}]}}}}}}}catch(t){return}}}_getFabrickConfig(e){if(this._dispensaryData.locData.iso){let s=this._getConfigBySlug(W.FABRICK_ID);if(this._hasSha256(e)&&s)return this._recordHashSent(W.FABRICK_ID,wt.SHA256),{name:W.FABRICK_ID,params:V(b({},s.params),{e:e.sha256}),storage:s.storage}}return{}}_getYahooConfig(e){let t=this._getConfigBySlug(W.CONNECT_ID),s=j({key:"fs.config",type:Y.object.type}),r=s&&s.fsuid?s.fsuid:void 0;return this._hasSha256(e)&&t?(this._recordHashSent(W.CONNECT_ID,wt.SHA256),{name:t.slug,params:b(V(b({},t.params),{he:e.sha256}),r?{puid:r}:{}),storage:t.storage}):{}}_getID5Config(e){var l,f;let t=(f=(l=this._getConfigBySlug(W.ID5_ID))==null?void 0:l.params)==null?void 0:f.partner;if(!t)return{};let s=this._freestar.url,r=s?new URL(s).host:"",n=b(b(b({},s?{8:s}:{}),r?{9:r}:{}),navigator!=null&&navigator.userAgent?{12:navigator==null?void 0:navigator.userAgent}:{});this._hasSha256(e)&&t&&(this._recordHashSent(W.ID5_ID,wt.SHA256),n[1]=e.sha256);let o=!!Object.keys(n).length,a=Object.keys(n).map(u=>u+"="+ __get$(n,u) ).join("&"),d=btoa(a);return{name:W.ID5_ID,params:b({partner:t},o?{pd:d}:{})}}_getLiveIntentConfig(e){var r,n;let t=this._getConfigBySlug(W.LIVEINTENT_ID),s=(n=(r=e==null?void 0:e.sha1)!=null?r:e==null?void 0:e.sha256)!=null?n:e==null?void 0:e.md5;if(typeof s!="undefined"&&t){e.sha1?this._recordHashSent(W.LIVEINTENT_ID,wt.SHA1):e.sha256?this._recordHashSent(W.LIVEINTENT_ID,wt.SHA256):e.md5&&this._recordHashSent(W.LIVEINTENT_ID,wt.MD5);try{return{name:W.LIVEINTENT_ID,params:V(b({},t.params),{emailHash:s}),storage:t.storage}}catch(o){return{}}}return{}}_getUid2Config(e){let t=this._getConfigBySlug(W.UID2);return!N_.every(r=>!!(t!=null&& __get$(t.params,r) ))||!this._hasSha256(e)?{}:(this._recordHashSent(W.UID2,wt.SHA256),{name:W.UID2,params:V(b({},t.params),{[D_]:Qt.hashUID2(e.sha256)}),storage:t.storage})}_getOptableConfig(e){return this._hasSha256(e)?(this._recordHashSent(W.OPTABLE,wt.SHA256),e.sha256):null}_updatePrebidUserSyncConfig(e){if(Object.keys(e).length===0)return;let t=this._prebid.instance.getConfig("userSync"),s=t.userIds.find( _hh$temp258=>{var r=_hh$temp258.name;return r.toLowerCase()===e.name.toLowerCase();} );if(s){let r=t.userIds.filter( _hh$temp259=>{var n=_hh$temp259.name;return n.toLowerCase()!==e.name.toLowerCase();} );t.userIds=[...r,b(b({},s),e)],this._prebid.instance.mergeConfig({userSync:t})}}_updateAmazon(e,t){var s;this._recordHashSent(W.AMAZON,wt.SHA256),(s=this._amazon.instance)==null||s.updateId({optOut:t,hashedRecords:[{type:"email",record:e.sha256}]})}_updateATS(){this._window.addEventListener("pairIdEnvelopePresent",()=>{this._prebid.instance.refreshUserIds()}),this._window.addEventListener("lrEnvelopePresent",()=>{this._prebid.instance.refreshUserIds()}),this._ats.setConfig()}};A.class(ed,{token:c.HASHED_EMAIL_PROVIDERS,dependencies:[c.IDENTITY_CONFIG,c.DISPENSARY_DATA,c.ATS_MANAGER,c.PREBID_MANAGER,c.AMAZON_MANAGER,c.FREESTAR,{token:"window",alias:"win"}],factory:e=>T(void 0,[e],function*( _hh$temp260 ){ var i=_hh$temp260.dependencies; return yield i.prebidManager.ready,new ed(i)})})});var td,cE=h(()=>{Kt();he();N();D();td=class{constructor( _hh$temp261 ){ var e=_hh$temp261.identityConfig,t=_hh$temp261.dispensaryData,s=_hh$temp261.prebidManager,r=_hh$temp261.logger,_hh$temp261$win=_hh$temp261.win,n=_hh$temp261$win===void 0?window:_hh$temp261$win; _(this,"HADRON_NAME","_hadron");_(this,"HADRON_SRC","https://cdn.hadronid.net/hadron.js");_(this,"GAMERA_SRC","https://metrics.rapidedge.io/gamera.js?ltv=1&audience=1&tpcs=1&partner=freestar");_(this,"prebidRealTimeDataProviders",[]);this._window=n,this._logger=r,this._logger.setContext(c.REALTIME_PROVIDERS),this._identityConfig=e,this._prebidManager=s,this._dispensaryData=t,this._hadronInit(),this._airgridInit(),this._permutiveInit(),this._gameraInit()}_getIdentityProviderConfigBySlug(e){return this._identityConfig.identityProviders.find(t=>(t==null?void 0:t.slug)===e)}_getConfigValue(e,t){if(e.params=e.params||{},!(zt( __get$(e.params,t) )|| __get$(e.params,t) ===""))return  __get$(e.params,t) }_getConfigValueOrDefault(e,t,s){return this._getConfigValue(e,t)||s}_getHadronId(e,t){let s=this._getConfigValue(e,"partnerId");return zt(s)||Number.isNaN(s)?t:typeof s!="number"&&!Number.isNaN(Number(s))?Number(s):s}_getUserIdValue(e,t){var s,r,n,o,a,d,l,f;if(this._identityConfig.checkIfProviderEnabled(e)&&this._identityConfig.checkIfProviderIsAllowedInGeo(e)){let u=(a=(o=(n=(r=(s=this._prebidManager.instance.getConfig())==null?void 0:s.userSync)==null?void 0:r.userIds)==null?void 0:n.find( _hh$temp262=>{var p=_hh$temp262.name;return p===e;} ))==null?void 0:o.storage)==null?void 0:a.name;return u?t?(l=(d=this._prebidManager.instance.getUserIds())==null?void 0: __get$(d,u) )==null?void 0: __get$(l,t) :(f=this._prebidManager.instance.getUserIds())==null?void 0: __get$(f,u) :null}}_loadHadronScript(){let e=this._getIdentityProviderConfigBySlug(_n);if(!(e&&this._identityConfig.checkIfProviderEnabled(_n)))return;let t=this._getConfigValueOrDefault(e,"partnerId",rf);(function(s,r,n,o,a,d,l){ __set$(s,d,__get$(s,d)||function(){(__get$(s,d).q=__get$(s,d).q||[]).push(arguments);}) , __call$(s,d,[{config:{dm:l}}]) ;let f=r.createElement(n);r.async=!0,f.src=o+"?url="+encodeURIComponent( __get$(__get$(s,"location"),"href") )+"&ref="+encodeURIComponent(r.referrer)+"&_it=freestar&partner_id="+a+"&ha="+d;let u=r.getElementsByTagName(n)[0];u.parentNode.insertBefore(f,u)})(window,document,"script",this.HADRON_SRC,t,this.HADRON_NAME,!0)}_hadronInit(){let e=this._getIdentityProviderConfigBySlug(_n);if(e&&this._identityConfig.checkIfProviderEnabled(_n)){let t=this._getHadronId(e,"partnerId")||rf;t&&this.prebidRealTimeDataProviders.push({name:"hadron",waitForIt:!0,params:{partnerId:t}})}}_airgridInit(){let e=this._getIdentityProviderConfigBySlug(gn);if(e&&this._identityConfig.checkIfProviderEnabled(gn)){let t=this._getConfigValueOrDefault(e,"accountId",B_),s=this._getConfigValueOrDefault(e,"publisherId",F_),r=this._getConfigValueOrDefault(e,"apiKey",U_),n={name:gn,waitForIt:!0,params:{apiKey:r,accountId:t,publisherId:s}},o=this._getConfigValue(e,"bidders");o&&(n.params.bidders=o.split(",").map(a=>a.trim())),this.prebidRealTimeDataProviders.push(n)}}_permutiveInit(){this._dispensaryData.fsdata.permutiveEnabled&&this.prebidRealTimeDataProviders.push({name:"permutive",waitForIt:!0,params:{acBidders:[this._dispensaryData.fsdata.permutiveBidders.split(",")]}})}get waitForUserSync(){return!!(this._getIdentityProviderConfigBySlug(ai)&&this._identityConfig.checkIfProviderEnabled(ai)&&this._identityConfig.checkIfProviderIsAllowedInGeo(ai))}_symitriInit(){let e=this._getIdentityProviderConfigBySlug(ai);if(!e||!this._identityConfig.checkIfProviderEnabled(ai)||!this._identityConfig.checkIfProviderIsAllowedInGeo(ai))return;let t=this._getConfigValueOrDefault(e,"apiHostname",V_),s=this._getConfigValueOrDefault(e,"apiVersion",z_),r=this._getConfigValueOrDefault(e,"segtax",q_),n=this._getConfigValueOrDefault(e,"pixelUrl",Y_).trim(),o={},a=this._identityConfig.identityData;a!=null&&a.sha256&&(o.HEM=a==null?void 0:a.sha256);let d=this._getUserIdValue(W.ID5_ID,"uid");d&&(o.ID5=d);let l=this._getUserIdValue(W.IDENTITY_LINK);l&&(o.RampId=l);let f=Object.keys(o).reduce((p,m)=>(p.push(`${m}:${ __get$(o,m) }`),p),[]).join(","),u={name:`${ai}Dap`,waitForIt:!0,params:{apiHostname:t.trim(),apiVersion:s,domain:this._dispensaryData.fsdata.domain,segtax:r,pixelUrl:n,identityType:H_,identityValue:f||$_}};this.prebidRealTimeDataProviders.push(u)}_gameraInit(){if(!this._getIdentityProviderConfigBySlug(pt)||!this._identityConfig.checkIfProviderEnabled(pt)||!this._identityConfig.checkIfProviderIsAllowedInGeo(pt))return;let t={name:pt,waitForIt:!0};this.prebidRealTimeDataProviders.push(t)}_loadGameraScript(){if(!this._getIdentityProviderConfigBySlug(pt)||!this._identityConfig.checkIfProviderEnabled(pt)||!this._identityConfig.checkIfProviderIsAllowedInGeo(pt))return;let t=document.createElement("script");t.src=this.GAMERA_SRC,t.type="text/javascript",t.async=!0,t.id="__gamera__",document.body.appendChild(t)}loadScripts(){this._loadHadronScript(),this._loadGameraScript()}getRtdProvidersConfig(){return this._symitriInit(),this.prebidRealTimeDataProviders}};A.class(td,{token:c.REALTIME_PROVIDERS,dependencies:[c.IDENTITY_CONFIG,c.DISPENSARY_DATA,c.PREBID_MANAGER,c.LOGGER,{token:"window",alias:"win"}],factory:e=>T(void 0,[e],function*( _hh$temp263 ){ var i=_hh$temp263.dependencies; return yield i.prebidManager.ready,new td(i)})})});var df,fE=h(()=>{Kt();he();N();D();df=class{constructor( _hh$temp264 ){ var e=_hh$temp264.identityConfig,t=_hh$temp264.logger,_hh$temp264$win=_hh$temp264.win,s=_hh$temp264$win===void 0?window:_hh$temp264$win; _(this,"prebidAnalyticAdapters",[]);this._window=s,this._logger=t,this._logger.setContext(c.ANALYTICS_ADAPTERS),this._identityConfig=e,this._carbonInit()}_getIdentityProviderConfigBySlug(e){return this._identityConfig.identityProviders.find(t=>(t==null?void 0:t.slug)===e)}_getConfigValue(e,t){if(e.params=e.params||{},!(zt( __get$(e.params,t) )|| __get$(e.params,t) ===""))return  __get$(e.params,t) }_getConfigValueOrDefault(e,t,s){return this._getConfigValue(e,t)||s}_carbonInit(){let e=this._getIdentityProviderConfigBySlug(dr);if(!e||!this._identityConfig.checkIfProviderEnabled(dr)||!this._identityConfig.checkIfProviderIsAllowedInGeo(dr))return;let t=this._getConfigValueOrDefault(e,sf.PARENT_ID,k_);if(!t)return;let s=this._getConfigValueOrDefault(e,sf.ANALYTICS_ENDPOINT,G_);this.prebidAnalyticAdapters.push({provider:dr,options:{parentId:t,endpoint:s}})}};A.class(df,{token:c.ANALYTICS_ADAPTERS,dependencies:[c.IDENTITY_CONFIG,c.LOGGER,{token:"window",alias:"win"}]})});var lf,uE=h(()=>{Ce();Kt();et();jc();N();D();lf=class{constructor( _hh$temp265 ){ var e=_hh$temp265.dispensaryData,t=_hh$temp265.logger; _(this,"providersRules",[]);this._dispensaryData=e,this._logger=t,this._logger.setContext(c.IDENTITY_CONFIG),this.itfY=$("itf_y"),this.itf_n=$("itf_n"),this.identityData=this.identityDataFromSessionStorage,this.testTrafficPercentage=1-O_,this._populateIdentityTestGroup(),this._populateProviderRules()}get identityProviders(){return this._dispensaryData.fsdata.identityProviders||[]}get identityDataFromSessionStorage(){return j({key:Ua,type:Y.object.type})}setIdentityData(e){this.identityData=e,ve({key:Ua,value:e,type:Y.object})}removeIdentityDataFromSessionStorage(){this.identityDataFromSessionStorage&&(Ns({key:Ua}),this.identityData=null)}checkIfProviderEnabled(e){var t;return! __get$(this.providersRules,e) ||((t= __get$(this.providersRules,e) )==null?void 0:t.enabled)!==!1}checkIfProviderIsAllowedInGeo(e){var o,a;let t=(a=(o=this._dispensaryData)==null?void 0:o.locData)==null?void 0:a.iso;if(!t)return!1;let s=this.identityProviders.find( _hh$temp266=>{var d=_hh$temp266.slug;return d===e;} );if(!s)return!1; let _hh$temp267=s,r=_hh$temp267.disallowedGeos,n=_hh$temp267.allowedGeos; return r!=null&&r.length?!r.includes(t):n!=null&&n.length?n.includes(t):!0}_populateProviderRules(){try{this.providersRules=JSON.parse(atob(j({key:Yc,type:Y.string.type})))}catch(e){this._getProvidersRulesByTestGroup()}this._updateProvidersRulesByUrlParams()}_getProvidersRulesByTestGroup(){let t= __get$({[Lt.TEST_PARTNERS]:!0,[Lt.ALL_DISABLED]:!1},this.testGroup) ;this.providersRules=this._getDefaultProviderRules(t),this.testGroup===Lt.TEST_PARTNERS&&Math.random()<=C_&&this._setRandomIdentityProvider(!1), __set$(this.providersRules,pt,{itfPosition:18,itfValue:"-",itfTestPercent:1,enabled:!0}) ,ve({key:Yc,value:btoa(JSON.stringify(this.providersRules)),type:Y.string.type})}_getDefaultProviderRules(e){let t={};return this.identityProviders.filter(s=>s.slug!==pt).forEach(s=>{let r= __get$(Za,s.slug) ,n=typeof e=="function"?e(s.slug,r):e; __set$(t,s.slug,__call$(Object,"assign",[{},r,{enabled:n}])) }),t}_populateIdentityTestGroup(){let e=j({key:qc,type:Y.string.type});this.testGroup=e||this._determineTestingGroup(),ve({key:qc,value:this.testGroup,type:Y.string.type})}_updateProvidersRulesByUrlParams(){if(this.itfY&&this._logger.log(`itf_y parameter found: ${this.itfY}`),this.itf_n&&this._logger.log(`itf_n parameter found: ${this.itf_n}`),this.itfY||this.itf_n){let e=this.itfY?this.itfY.split(","):[],t=this.itf_n?this.itf_n.split(","):[];this._logger.log(`Provider Rules before update: ${this.providersRules}`),this.providersRules=Object.keys(this.providersRules).reduce((s,r)=>(e.includes(r)?(this._logger.log(`Enabling identity provider: ${r}`), __set$(s,r,V(b({},__get$(this.providersRules,r)),{enabled:!0})) ):t.includes(r)&&(this._logger.log(`Disabling identity provider: ${r}`), __set$(s,r,V(b({},__get$(this.providersRules,r)),{enabled:!1})) ),s),this.providersRules),this._logger.log(`Provider Rules after update: ${this.providersRules}`)}}_determineTestingGroup(){return Math.random()<=this.testTrafficPercentage?Lt.TEST_PARTNERS:Lt.ALL_DISABLED}_setRandomIdentityProvider(e){let t=this.identityProviders.filter(r=>r.slug!==pt);if(t.length===0)return;let s= __get$(t,Math.floor(Math.random()*t.length)) ; __get$(this.providersRules,s.slug) .enabled=e}};A.class(lf,{token:c.IDENTITY_CONFIG,dependencies:[c.DISPENSARY_DATA,c.LOGGER]})});var cf,hE=h(()=>{D();le();N();Kt();hs();As();cf=class{constructor( _hh$temp268 ){ var e=_hh$temp268.dispensaryData,t=_hh$temp268.logger,s=_hh$temp268.identityConfig,_hh$temp268$win=_hh$temp268.win,r=_hh$temp268$win===void 0?window:_hh$temp268$win,n=_hh$temp268.analytics; _(this,"version",1);this._window=r,this._identityConfig=s,this._dispensaryData=e,this._logger=t,this._analytics=n,this._logger.setContext(c.OPTABLE_MANAGER),this._init()}_setOptableReload(){let s={value:!0,expiration:new Date().getTime()+5*60*1e3};sessionStorage.setItem("optableReload",JSON.stringify(s))}_isOptableReloadInvalid(){let e=sessionStorage.getItem("optableReload");if(!e)return!0;try{let t=JSON.parse(e);return new Date().getTime()>t.expiration?(sessionStorage.removeItem("optableReload"),!0):!1}catch(t){return sessionStorage.removeItem("optableReload"),!0}}get _isGeoAllowed(){var s;let e=(s=this._dispensaryData.locData)==null?void 0:s.iso,t="Optable does not run for users";return e?this._identityConfig.checkIfProviderIsAllowedInGeo(En)?!0:(this._logger.log(`${t} in ${e}.`,{level:10}),!1):(this._logger.log(`${t} without location data.`,{level:10}),!1)}_getSlug(){try{let t=this._dispensaryData.fsdata.domain.split("."),s=t.slice(-2),r=["co.uk","org.uk","gov.uk","com.au","net.au"],n=t.slice(-2).join("."),o=t.slice(-3).join(".");r.includes(n)?s=t.slice(-3):r.includes(o)&&(s=t.slice(-4));let a=s.join("-");return a= __call$(a,"replace",[/_/g,"-"]) ,/^\d/.test(a)&&(a=`s-${a}`),a}catch(e){return null}}_checkAndMergeOptableConfig(){var r,n;let e,t=localStorage.getItem("OPTABLE_RESOLVED");if(!t)return;try{e=JSON.parse(t)}catch(o){this._logger.log("Failed to parse OPTABLE_RESOLVED from localStorage.",{level:10})}if(!e)return;let s=(n=(r=e==null?void 0:e.ortb2)==null?void 0:r.user)==null?void 0:n.eids;ht({name:"optablePerformance",detail:{legacy:1,eidLength:s.length}}),s&&fsprebid.que.push(()=>{fsprebid.mergeConfig({userSync:{userIds:(()=>{let o=fsprebid.getConfig("userSync.userIds")||[],a=o.find(d=>d.name==="pubProvidedId");return a||(a={name:"pubProvidedId",params:{}},o.push(a)),a.params=a.params||{},a.params.eids=a.params.eids?[...a.params.eids,...s]:s,o})()}}),fsprebid.refreshUserIds({submoduleNames:["pubProvidedId"]})})}_loadScript(e){window.optable=window.optable||{cmd:[]},window.optable.site=e,document.addEventListener("optableResolved",()=>{this._checkAndMergeOptableConfig()}),this._setOptableReload(),Ie(X_)}_init(){let e=this._getSlug();!this._identityConfig.checkIfProviderEnabled(En)||!this._isGeoAllowed||!e||(this._isOptableReloadInvalid()?this._loadScript(e):this._checkAndMergeOptableConfig(),window.addEventListener("optable-split-test",t=>{this._analytics.track(new Z({eventName:"OPTABLE-SPLIT-TEST",data:{optableMatcher:t.detail.optable_matcher}}))}))}};A.class(cf,{token:c.OPTABLE_MANAGER,dependencies:[c.DISPENSARY_DATA,{token:"window",alias:"win"},c.LOGGER,c.IDENTITY_CONFIG,c.PREBID_MANAGER,c.ANALYTICS]})});var id,pE=h(()=>{D();Kt();le();N();hs();id=class{constructor( _hh$temp269 ){ var e=_hh$temp269.dispensaryData,t=_hh$temp269.identityConfig,s=_hh$temp269.prebidManager,r=_hh$temp269.gamManager,_hh$temp269$win=_hh$temp269.win,n=_hh$temp269$win===void 0?window:_hh$temp269$win; _(this,"version",1);this._window=n,this._identityConfig=t,this._dispensaryData=e,this._prebidManager=s,this._gamManager=r,this._iiq=null,this._init()}_init(){!this._identityConfig.checkIfProviderEnabled(yn)||!this._isGeoAllowed||this._loadScript()}get _isGeoAllowed(){var t;return((t=this._dispensaryData.locData)==null?void 0:t.iso)?this._identityConfig.checkIfProviderIsAllowedInGeo(yn):!1}_iiqPrebidOperations(){this._prebidManager.instance.onEvent("bidWon",e=>{if(this._iiq!=null){let t={biddingPlatformId:1,bidderCode:e==null?void 0:e.bidder,prebidAuctionId:e==null?void 0:e.auctionId,cpm:e==null?void 0:e.cpm,currency:e==null?void 0:e.currency,originalCpm:e==null?void 0:e.originalCpm,originalCurrency:e==null?void 0:e.originalCurrency,status:e==null?void 0:e.status,placementId:e==null?void 0:e.adUnitCode};this._iiq.reportExternalWin(t)}})}_iiqGAMKVPSetting(){let e="intent_iq_group";try{this._gamManager.setGlobalTargeting(e,this._iiq.intentIqConfig.abTesting.currentTestGroup||"U")}catch(t){this._gamManager.setGlobalTargeting(e,"U")}}_iiqGAMPPIDSetting(){let t=(s=>{try{let r=s.eids;for(let n=0;n<r.length;n++){let o= __get$(r,n) ;if(o.source==="intentiq.com"){let a=o.uids;for(let d=0;d<a.length;d++){let l= __get$(a,d) ;if(l.ext.stype==="ppuid")return l.id}}}return null}catch(r){return null}})(this._iiq.getIntentIqData());t!=null&&this._gamManager.instance.setPublisherProvidedId(t)}_iiqGAMOperations(){this._iiq!=null&&(this._iiqGAMKVPSetting(),this._iiqGAMPPIDSetting())}_loadScript(){Ie(eE,()=>{this._iiq=new IntentIqObject({partner:1434517136,pbjs:this._prebidManager.instance,callback:()=>{ht({name:"iiqInit",detail:!0})},timeoutInMillis:400,ABTestingConfigurationSource:"IIQServer",allowGDPR:!1,manualWinReportEnabled:!0,domainName:this._dispensaryData.domainName,vrBrowserBlackList:["chrome"]}),this._iiqPrebidOperations(),this._iiqGAMOperations()})}};A.class(id,{token:c.IIQ_MANAGER,dependencies:[c.DISPENSARY_DATA,c.IDENTITY_CONFIG,c.PREBID_MANAGER,c.GAM_MANAGER],factory:e=>T(void 0,[e],function*( _hh$temp270 ){ var i=_hh$temp270.dependencies; return yield i.prebidManager.ready,new id(i)})})});var mE=h(()=>{oE();aE();lE();cE();fE();uE();hE();pE()});var ff,gE=h(()=>{N();D();ff=class{constructor(){_(this,"_events");this._events={}}subscribe(e,t){ __get$(this._events,e) ||( __set$(this._events,e,[]) ), __get$(this._events,e) .push(t)}unsubscribe(e,t){ __get$(this._events,e) &&( __set$(this._events,e,__get$(this._events,e).filter(s=>s!==t)) )}emit(e,t){ __get$(this._events,e) && __get$(this._events,e) .forEach(s=>s({eventName:e,payload:t}))}hasSubscribers(e){var t;return!!((t= __get$(this._events,e) )!=null&&t.length)}};A.class(ff,{token:c.EVENT_BUS,defaultAlias:"eventBus"})});var di=h(()=>{gE();ic()});var _E=h(()=>{it();ms();wi()});var Sn,uf,hf=h(()=>{Sn=()=>{let i=uf();return(i==null?void 0:i.offsetHeight)||0},uf=()=>{var e;return(((e=freestar==null?void 0:freestar.currentStickyFooter)==null?void 0:e.footer)||(freestar==null?void 0:freestar.currentStickyFooter)||{}).slotWrapper}});var eT,EE,yE=h(()=>{ft();eT=["kargo","teads","seedtag"],EE=i=>{var o;if(i.mediaType==="banner"){let a=fsprebid.adUnits.find( _hh$temp271=>{var l=_hh$temp271.code;return l===i.adUnitCode;} );if(!((o=a==null?void 0:a.sizes)==null?void 0:o.some( _hh$temp272=>{var _hh$temp273=__arrayFrom$(_hh$temp272),_hh$temp273$i0=_hh$temp273[0],l=_hh$temp273$i0===void 0?0:_hh$temp273$i0,_hh$temp273$i1=_hh$temp273[1],f=_hh$temp273$i1===void 0?0:_hh$temp273$i1;return l===i.width&&f===i.height;} )))return freestar.log(10,`Invalid bid size for ad unit: ${i.adUnitCode}`),!1}let e=oe(i.bidderCode);if(!eT.some(a=>oe(a)===e))return!0; let _hh$temp274=i,t=_hh$temp274.width,s=_hh$temp274.height,r=_hh$temp274.ad; if(!r||!t||!s)return!0;let n=String(r).toLowerCase().includes(`${t}x${s}`);return n||freestar.log(10,`Invalid ad size for ${i.bidderCode} bid: ${t}x${s}`),n}});var SE,IE=h(()=>{SE=(i,e=5e3)=>T(void 0,null,function*(){return new Promise((t,s)=>{var r,n;if(!i){t();return}if(((n=(r=i.contentWindow)==null?void 0:r.document)==null?void 0:n.readyState)==="complete"){t();return}i.addEventListener("load",()=>{if(Number(i==null?void 0:i.width)<=1){s(new Error("Iframe width is less than or equal to 1"));return}t()},{once:!0}),setTimeout(()=>{t()},e)})})});var sd=h(()=>{hf();yE();IE()});var rd,pf=h(()=>{Q();rd=class{constructor( _hh$temp275 ){ var e=_hh$temp275.type,_hh$temp275$prebidAuctionId=_hh$temp275.prebidAuctionId,t=_hh$temp275$prebidAuctionId===void 0?null:_hh$temp275$prebidAuctionId; this.fsAuctionId=Ae(),this.type=e,this.prebidAuctionId=t,this.adUnits=new Set,this.reportedPlacements=new Set,this.timestamp=Date.now()}addAdUnit(e){this.adUnits.add(e)}getAdUnits(){return Array.from(this.adUnits)}isAuctionEndReported(e){return this.reportedPlacements.has(e)}}});var tT,lr,mf,gf,AE=h(()=>{le();st();he();tT={"scribd-com":{clientId:"ca-pub-1211639399720391",sizes:{"300x100":6475080870,"300x250":7125817567,"300x50":1716797968,"320x100":9052362509,"320x50":4499654227,"336x280":4367012037,"468x60":5113117491,"728x90":7843222610,"970x250":5105378639,"970x90":6338569255}}},lr=()=>{var i;return((i=freestar==null?void 0:freestar.config)==null?void 0:i.adsense)|| __get$(tT,freestar.sitePath) },mf=class{constructor(){this.params=!1,this.init()}init(){this.params=lr()}render(e=null){if(!lr())return;this.params||(this.params=lr()),window.adsbygoogle||(Ie("https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"),window.adsbygoogle=[]); let t=de.getAdUnitByPrebidCode(e),_hh$temp276=t,s=_hh$temp276.placement,r=Object.keys(this.params.sizes),n=Tl({placement:s,sizesAllowed:r}),o=document.getElementById(e); o.innerHTML=`<ins class="adsbygoogle" style="display:block; width:${n[0]}px; height:${n[1]}px;" data-ad-client="${this.params.clientId}" data-ad-slot="${ __get$(this.params.sizes,n.join("x")) }" ></ins>`,window.adsbygoogle.push({})}},gf=new mf});var mt,_f,bE=h(()=>{mt={PREBID:"PREBID",PREBID_GAM:"PREBID-GAM",GAM:"GAM"},_f=10*60*1e3});var nd,wE=h(()=>{st();Dt();Wt();He();AE();N();D();As();di();pf();bE();et();nd=class{constructor( _hh$temp277 ){ var e=_hh$temp277.adUnitManager,t=_hh$temp277.analytics,s=_hh$temp277.prebidManager,r=_hh$temp277.gamManager,n=_hh$temp277.idealAdStackManager,o=_hh$temp277.rebidManager,a=_hh$temp277.dispensaryData,d=_hh$temp277.logger,l=_hh$temp277.nativeRenderManager,f=_hh$temp277.eventBus; this._adUnitManager=e,this._idealAdStackManager=n,this._analytics=t,this._prebidManager=s,this._gamManager=r,this._rebidManager=o,this._dispensaryData=a,this._nativeRenderManager=l,this._logger=d,this._eventBus=f,this._logger.setContext(c.AUCTION_MANAGER),this.auctions=new Map,this._bindPrebidEvents(),this._bindGamEvents(),this._listeners={auctionInit:[]}}addEventListener(e,t){if(! __get$(this._listeners,e) )throw new Error(`Invalid event type: ${e}`); __get$(this._listeners,e) .includes(t)|| __get$(this._listeners,e) .push(t)}removeEventListener(e,t){ __set$(this._listeners,e,__get$(this._listeners,e).filter(s=>s!==t)) }_bindGamEvents(){this._gamManager.instance.pubads().addEventListener(Nt,this._handleSlotRequested.bind(this)),this._gamManager.instance.pubads().addEventListener(xe,this._handleSlotRenderEnded.bind(this))}_bindPrebidEvents(){this._prebidManager.instance.onEvent(Po,this._handleAuctionInit.bind(this)),this._prebidManager.instance.onEvent(St,this._handleAuctionEnd.bind(this))}_createAuction(e,t=null){let s=new rd({type:e,prebidAuctionId:t});return this.auctions.set(s.fsAuctionId,s),s}_handleAuctionInit(e){ let _hh$temp278=e,t=_hh$temp278.adUnits,s=_hh$temp278.auctionId,r=this._idealAdStackManager.isGAMEnabled()?mt.PREBID_GAM:mt.PREBID,n=this._createAuction(r,s),o=n.fsAuctionId; t.forEach(a=>{ let _hh$temp279=a,d=_hh$temp279.code,l=this._adUnitManager.getAdUnitByPrebidCode(d); l&&(l.saveState({fsAuctionId:o,auctionType:r,prebidAuctionId:s,rebid:this._rebidManager.getStatus({adUnitCode:l.getSlotId()})}),n.addAdUnit(l),this._trackAuctionStart(l,o,r,s))}),this._listeners.auctionInit.forEach(a=>a(n))}_handleAuctionEnd(e){ let _hh$temp280=e,t=_hh$temp280.auctionId,s=this.getAuctionByPrebidAuctionId(t); s&&s.adUnits.forEach(r=>{let n=(o,a=!1)=>{this._trackAuctionEnd(r,s.fsAuctionId,o,e,t,a,!1)};if(s.type===mt.PREBID){let o=null;this._nativeRenderManager.isEnabled&&(o=this._nativeRenderManager.getHighestBid(r.prebid.code)),o?this._nativeRenderManager.renderAd(o,r.prebid.code).then(()=>{n(mt.PREBID,!0)}):lr()&&r.isDisplayAd()?gf.render(r.prebid.code):n(mt.PREBID)}else r.slot||n(mt.PREBID_GAM)})}_handleSlotRequested(e){var r; let _hh$temp281=e,t=_hh$temp281.slot,s=this._adUnitManager.getAdUnitBySlotElementId(t.getSlotElementId()); if(s){let n=(r=this._gamManager.getSlotTargeting({slot:t,key:"fs-auuid"}))==null?void 0:r[0],o=this.getAuctionByFsAuctionId(n);if((o==null?void 0:o.type)===mt.PREBID_GAM||(o==null?void 0:o.type)===mt.PREBID)return;let a=this._createAuction(mt.GAM);s.saveState({fsAuctionId:a.fsAuctionId,auctionType:mt.GAM,rebid:this._rebidManager.getStatus({adUnitCode:s.getSlotId()})}),this._trackAuctionStart(s,a.fsAuctionId,mt.GAM)}}_handleSlotRenderEnded(e){var l; let _hh$temp282=e,t=_hh$temp282.slot,s=t.getSlotElementId(),r=this._adUnitManager.getAdUnitBySlotElementId(s); if(!r)return;let n=(l=this._gamManager.getSlotTargeting({slot:t,key:"fs-auuid"}))==null?void 0:l[0],o=this.getAuctionByFsAuctionId(n);if(!o)return;let a=(f=!1)=>{this._trackAuctionEnd(r,n,o.type,e,o.prebidAuctionId,f,f)};if($("fs-force-rebid")){this._rebidEmptySlot(e,s),a(),this._logger.log("When in 'fs-force-rebid' mode, ads will not be rendered natively");return}if($("fs-force-native-render")){let f=this._nativeRenderManager.getHighestBid(s);if(f){this._nativeRenderManager.renderAd(f,s).then(()=>{a(!0)}).catch(u=>{this._logger.log(`Error native rendering prebid ad: ${u}`)});return}}if(!e.isEmpty){a();return}if(lr()&&r.isDisplayAd()){gf.render(s);return}let d=null;if(this._nativeRenderManager.isEnabled&&(d=this._nativeRenderManager.getHighestBid(s)),d){this._nativeRenderManager.renderAd(d,s).then(()=>{a(!0)}).catch(f=>{this._logger.log(`Error native rendering prebid ad: ${f}`)});return}this._rebidEmptySlot(e,s),a()}_rebidEmptySlot(e,t){this._dispensaryData.fsdata.secondAuctionDisabled||!this._idealAdStackManager.isRebidAllowed()||this._rebidManager.handleNoBidScenario(e,t)}_trackAuctionStart(e,t,s,r=null){var a,d,l;let n=V(b({},this._buildBaseAuctionPayload(e,t,s,r)),{fsAuctionId:t}),o=e.getSlotId();o&&((a=this._eventBus)!=null&&a.emit)&&this._eventBus.emit(Wo,{slotId:o,fsAuctionId:t,auctionType:s,prebidAuctionId:r,placementId:(l=(d=e.placement)==null?void 0:d.name)!=null?l:null}),this._analytics.track(new tr(n))}_trackAuctionEnd(e,t,s,r,n=null,o,a){let d=this.getAuctionByFsAuctionId(t);if(d&&!d.reportedPlacements.has(e.placement.name)){let l=this._buildAuctionEndPayload(e,t,s,r,n,o,a);this._analytics.track(new sa(l)),d.reportedPlacements.add(e.placement.name),this._setAuctionExpiration(t)}}_setAuctionExpiration(e){setTimeout(()=>{this._logger.log(`Removing expired auction ${e} after ${_f}`),this.auctions.delete(e)},_f)}_buildAuctionEndPayload(e,t,s,r,n,o,a){return V(b(b(b({},this._buildBaseAuctionPayload(e,t,s,n)),this._extractAuctionEndData(r)),this._calculateAuctionStatusFields(t,s,r,o,a)),{fsAuctionId:t,winningBid:e.getWinningBid(),isS2SDisabled:this._idealAdStackManager.isS2SDisabled()})}_buildBaseAuctionPayload(e,t,s,r=null){var n,o;return{placementId:e.placement.name,DfpId:(n=e.slot)==null?void 0:n.getAdUnitPath(),fsAuctionId:t,auctionId:r,auctionType:s,location:(o=freestar.locData)!=null?o:{},userIds:this._prebidManager.instance.getConfig().userSync.userIds.map(a=>a.name),kvps:e.getKVPs().filter( _hh$temp283=>{var _hh$temp284=__arrayFrom$(_hh$temp283),a=_hh$temp284[0];return um.includes(a);} )}}_extractAuctionEndData(e){return V(b({},e),{size:JSON.stringify(e.size)})}_calculateAuctionStatusFields(e,t,s,r,n){let o,a;return t===mt.PREBID?(o=!0,a=!r):(o=!1,a=s.isEmpty&&!r&&!n),{isNativeRender:r,isGamBypass:o,unfilled:a}}getAuctionByFsAuctionId(e){return this.auctions.get(e)||null}getAuctionByPrebidAuctionId(e){return Array.from(this.auctions.values()).find(t=>t.prebidAuctionId===e)||null}};A.class(nd,{token:c.AUCTION_MANAGER,dependencies:[c.ANALYTICS,c.FREESTAR,c.PREBID_MANAGER,c.GAM_MANAGER,c.DISPENSARY_DATA,c.LOGGER,c.NATIVE_RENDER_MANAGER,c.REBID_MANAGER,c.EVENT_BUS],factory:e=>T(void 0,[e],function*( _hh$temp285 ){ var i=_hh$temp285.dependencies; return yield i.prebidManager.ready,new nd(V(b({},i),{idealAdStackManager:ee(),adUnitManager:de}))})})});var TE=h(()=>{pf();wE()});var Pe,cr=h(()=>{Pe={pubfigEngineLoadInit:"pubfig-engine-load-init",pubfigEngineSetupStart:"pubfig-engine-setup-start",pubfigEngineLoad:"pubfig-engine-load",pubfigSlotRequested:"pubfig-slotRequested",pubfigStickyFooterSlotRequested:"pubfig-sticky-footer-slotRequested",pubfigSlotRenderEnded:"pubfig-slotRenderEnded",pubfigEngineSetupEnd:"pubfig-engine-setup-end",pubfigStickyFooterSlotRenderEnded:"pubfig-sticky-footer-slotRenderEnded",pubfigPrebidFsRequestBids:"pubfig-prebid-fsRequestBids",pubfigPrebidAuctionInit:"pubfig-prebid-auctionInit",pubfigPrebidAuctionEnd:"pubfig-prebid-auctionEnd",pubfigLoaded:"pubfig-loaded",pubfigInitRequestStart:"pubfig-init-request-start",pubfigInitRequestEnd:"pubfig-init-request-end"}});var od,vE=h(()=>{od=class{constructor(){this._queue=[]}enqueue( _hh$temp286 ){ var e=_hh$temp286.bidObjects; this._queue=this._queue.concat(e)}get items(){return Array.from(new Set(this._queue))}hasItem(e){return this.items.includes(e)}clear(){this._queue=[]}}});function gt( _hh$temp287 ){ var i=_hh$temp287.adUnits; Array.isArray(i)||(i=[i]);let e=i.filter(s=>s&&s.bids!=null&&s.bids.length>0),t=i.filter(s=>!s||s.bids==null||s.bids.length===0);if(t.length>0){let s=t.map(r=>r&&r.code).join(", ");freestar.log(20,`Not adding adUnits ${s} which have no bidders configured.`)}freestar.log(20,`Adding ${e.length} adUnits to fsprebid.`),fsprebid.que.push(function(){fsprebid.addAdUnits(e)}),e.forEach(s=>{de.add({prebid:s})})}function RE(){fsprebid.que.push(function(){fsprebid.onEvent(St,function(i){freestar.performanceLogger.logMark({markerName:Pe.pubfigPrebidAuctionEnd,compareTo:[Pe.pubfigPrebidAuctionInit]}),G.instance.resolve(c.BIDS_MANAGER).then(e=>{e.handleNoBids({auctionData:i})})})})}function OE(i=new Ii){var p,m; let _hh$temp288=window.freestar.fsdata,e=_hh$temp288.placements,t=_hh$temp288.networks,_hh$temp289=((m=(p=window.freestar)==null?void 0:p.fsdata)==null?void 0:m.schain)||{},_hh$temp289$bidderOverrides=_hh$temp289.bidderOverrides,s=_hh$temp289$bidderOverrides===void 0?[]:_hh$temp289$bidderOverrides,_hh$temp289$type=_hh$temp289.type,r=_hh$temp289$type===void 0?Et:_hh$temp289$type,n=E=>E.slug,o=(E,S,I)=>I.indexOf(E)===S&&!$h.includes(E),a=()=>e.filter(E=>E.networks.length).map(_hh$temp290=>{var E=_hh$temp290.networks;return E.map(n);}),d=t.map(n).concat(a()).flat(); i.hasValidStoredRequests()&&d.push(i.getSlug());let l=s&&s.length;l&&r===es?d=d.filter(E=>!s.includes(E)):l&&r===Et&&(d=d.filter(E=>s.includes(E)));let f=d.filter(o),u=[];return Object.entries(ee().getBidderSummary()).forEach(( _hh$temp291 )=>{ var _hh$temp292=__arrayFrom$(_hh$temp291),E=_hh$temp292[0],S=_hh$temp292[1]; f.includes(E)&&S==="both"&&u.push(go(E))}),f.concat(u)}function Ef(i){return i.sizes.forEach(e=>{Object.keys(e.params).forEach(t=>! __get$(e.params,t) &&delete e.params[t])})}var ki=h(()=>{ue();cr();Io();He();st();ft();Dt();N();D()});var ad,CE=h(()=>{D();N();cr();He();Q();it();Fe();he();hs();qe();Xr();vE();ki();ad=class{constructor(e){this._logger=e.logger,this._analytics=e.analytics,this._deviceInfo=e.deviceInfo,this._performanceLogger=e.performanceLogger,this._gamManager=e.gamManager,this._prebidManager=e.prebidManager,this._bidsQueue=e.bidsQueue,this._adBlock=e.adBlock,this._freestar=e.freestar,this._dispensaryData=e.dispensaryData,this._amazonManager=e.amazonManager,this._logger.setContext(c.BIDS_MANAGER),this._initializeState(),this._processingTimeout=null}enqueueBids( _hh$temp293 ){ var e=_hh$temp293.bidObjects; if(!(e!=null&&e.length)){this._logger.log("No bid objects provided for enqueueBids");return}this._bidsQueue.enqueue({bidObjects:e}),this._processingTimeout&&clearTimeout(this._processingTimeout),this._processingTimeout=setTimeout(()=>{this.processBidsQueue()},100)}processBidsQueue( _hh$temp294 ={}){ var e=_hh$temp294.timeout; let t=this._bidsQueue.items;if(this._bidsQueue.clear(),!t.length){this._logger.log("No items in bids queue");return}this._logger.log(["BidsQueue:Processing following bidObjects:",t]);let s=this._prebidManager.instance.adUnits,r=new Set,n=new Set,o=[],a=new Set(s.map(d=>d.code));return t.forEach(d=>{var f;if(!((f=d.sizes)!=null&&f.length))return;n.add(d.code),a.has(d.code)||o.push(d);let l=this._gamManager.getSlot({elementId:d.code});l&&r.add(l)}),r=Array.from(r),n=Array.from(n),gt({adUnits:o}),this.requestBids({elementIds:n,slots:r,timeout:e})}_initializeState(){this.requestReference={bidTimer:null,requestNum:Number(freestar.bidRequestNum)||0},this._freestar.requestReference=this.requestReference}requestBids( _hh$temp295 ={}){ var e=_hh$temp295.elementIds,t=_hh$temp295.slots,s=_hh$temp295.timeout,r=_hh$temp295.callback,n=_hh$temp295.sendAdserverSignal; var d;if(this._adBlock.adBlockerDetected){this._logger.log("AdBlocker detected, skip requesting bids");return}let o=this._validateElements({elementIds:e});if(!(o!=null&&o.length))return;this._logPerformanceMark();let a=this._initializeRequestConfig({elementIds:o,slots:t,timeout:s,callback:r,sendAdserverSignal:n});n instanceof Promise&&this._trackEarlyBids(o),(d=freestar==null?void 0:freestar.config)!=null&&d.setNonPersonalizedAds?this._handleNonPersonalizedAds(a):this._initiateAuction(a)}handleNoBids( _hh$temp296 ){ var e=_hh$temp296.auctionData;  let _hh$temp297=e,t=_hh$temp297.bidsReceived,s=_hh$temp297.noBids,r=this._getAdUnitCodesWithNoBids({bidsReceived:t,noBids:s}); this._setNoBidTargeting({adUnitCodesWithNoBids:r,isTimeout:!1})}_initializeRequestConfig( _hh$temp298 ){ var e=_hh$temp298.elementIds,t=_hh$temp298.slots,s=_hh$temp298.timeout,r=_hh$temp298.callback,n=_hh$temp298.sendAdserverSignal; let o=s||this._dispensaryData.fsdata.timeout;return{elementIds:e,slots:t,failSafeTimeout:o,callback:r,sendAdserverSignal:n,requestManager:{prebid:!1,aps:!1,adserverRequestSent:!1},amazonSlots:this._setupAmazonSlots(t)}}_setupAmazonSlots(e){if(!ee().isGAMEnabled())return[];let t=this._amazonManager.setupAmazonSlots(e);return Array.isArray(t)?t:[]}_validateElements( _hh$temp299 ){ var e=_hh$temp299.elementIds; return!e||!e.length?this._getAllValidPlacements():Array.isArray(e)?e:[e]}_getAllValidPlacements(){return this._dispensaryData.fsdata.placements.flatMap(e=>e.validAdSizes&&!e.stickyFooter&&!e.pushdownUnit&&e.sideWallType===0&&document.getElementById(e.name)?e.name:[])}_initiateAuction(e){this._requestBidsFromVendors(e),this._setFailsafeTimeout(e)}_requestBidsFromVendors(e){ let _hh$temp300=e,t=_hh$temp300.elementIds,s=_hh$temp300.sendAdserverSignal; this.requestReference.requestNum+=1,this._requestAmazonBids(e),this._requestPrebidBids(e),s instanceof Promise&&this._trackEarlyBids(t)}_setFailsafeTimeout(e){ let _hh$temp301=e,t=_hh$temp301.failSafeTimeout; this.requestReference.bidTimer=window.setTimeout(()=>{ee().isGAMEnabled()&&(this._logger.log(` (${this.requestReference.requestNum}) TIMEOUT!`),this._setNoBidTargeting({isTimeout:!0}),this._handleAdServerSignal(e))},t)}_requestPrebidBids(e){ let _hh$temp302=e,t=_hh$temp302.elementIds,s=_hh$temp302.failSafeTimeout,r={timeout:s||3e3,bidsBackHandler:n=>{this._logger.log([` (${this.requestReference.requestNum}) prebid bid responses:`,n]),e.requestManager.prebid=!0,this._handleBidderBack("prebid",e);}}; t&&(r.adUnitCodes=t),this._prebidManager.instance.que.push(()=>{this._prebidManager.instance.requestBids(r)})}_requestAmazonBids(e){ let _hh$temp303=e,t=_hh$temp303.amazonSlots,s=_hh$temp303.failSafeTimeout; if(!ee().isGAMEnabled()||!this._amazonManager.isEnabled||!t.length){this._logger.log("Amazon bidding is not applicable or no valid amazon Slots"),e.requestManager.aps=!0,this._handleBidderBack("aps",e);return}this._logger.log(["Requesting bids from Amazon:",t]),this._amazonManager.instance.fetchBids({slots:t,timeout:s||3e3},n=>{this._amazonManager.track(n),this._logger.log([` (${this.requestReference.requestNum}) aps bids:`,n]),e.requestManager.aps=!0,this._handleBidderBack("aps",e)})}_handleBidderBack(e,t){ let _hh$temp304=t,s=_hh$temp304.requestManager; this._freestar.debug&&this._freestar.debug>24&&e==="prebid"&&setTimeout(()=>vp(),1500),this._logger.log([`(${this.requestReference.requestNum}) Bidder back:`,e]),this._allBiddersBack(s)&&ee().isGAMEnabled()&&(t.sendAdserverSignal instanceof Promise?this._handleAdServerSignal(t):this._handleAdServerRequest(t))}_allBiddersBack(e){return e.prebid&&(ee().isGAMEnabled()?e.aps:!0)}_handleAdServerSignal(e){ let _hh$temp305=e,t=_hh$temp305.sendAdserverSignal,s=_hh$temp305.elementIds; t instanceof Promise?t.then(()=>{this._handleAdServerRequest(e)}).catch(()=>{this._logger.log(`Adserver request cancelled for: ${s.toString()}`)}):this._handleAdServerRequest(e)}_handleAdServerRequest(e){ let _hh$temp306=e,t=_hh$temp306.requestManager; t.adserverRequestSent||(this.requestReference.bidTimer&&(clearTimeout(this.requestReference.bidTimer),this.requestReference.bidTimer=null),t.adserverRequestSent=!0,this._logger.log([` (${this.requestReference.requestNum}) Sending adserver request!`]),this._sendAdServerRequest(e))}_sendAdServerRequest(e){ let _hh$temp307=e,t=_hh$temp307.elementIds; this._gamManager.instance.cmd.push(()=>{let s={activeIds:[],activeSlots:[]};if(Array.isArray(t)&&t.length){this._logger.log([` (${this.requestReference.requestNum}) Refresh Only:`,t]),this._amazonManager.isEnabled&&this._amazonManager.instance.setDisplayBids(t);let r=this._dynamicPlacementFlooring(t);s.activeIds=r.activeIds,s.activeSlots=r.activeSlots}else this._logger.log(` (${this.requestReference.requestNum}) Refresh All!`),this._amazonManager.isEnabled&&this._amazonManager.instance.setDisplayBids(),s.activeIds=this._staticPlacementFlooring();this._setTestTargeting(),s.activeSlots.length&&(s.activeIds.length&&this._prebidManager.instance.setTargetingForGPTAsync(s.activeIds),this._gamManager.logTargeting(s.activeSlots),this._gamManager.refreshWithCorrelatorControl(s.activeSlots)),e.callback&&e.callback()})}_setTestTargeting(){let e=wp();e&&(this._logger.log(["Part of an A/B test... ",e]),this._gamManager.setGlobalTargeting("fs_test_variant_id",String(e.testGroup)))}_setNoBidTargeting( _hh$temp308 ){ var e=_hh$temp308.adUnitCodesWithNoBids,t=_hh$temp308.isTimeout; this._gamManager.getSlots().forEach(s=>{if(t)this._gamManager.setSlotTargeting({slot:s,key:"fsbid",value:"timeout"});else if(e){let r=s.getAdUnitPath(),n=xE({adUnitPath:r});n&&e.includes(n.name)&&this._gamManager.setSlotTargeting({slot:s,key:"fsbid",value:"0"})}})}_placementFlooring( _hh$temp309 ){ var e=_hh$temp309.placementName,t=_hh$temp309.domId; let s=!0,r,n,o= __get$(this._prebidManager.instance.getBidResponses(),t) ,a=ie({name:be({slotId:e})});return!o||!a||(n=qr(o,function(d){return Number(d.cpm)}),r= __get$(a,`floor${this._deviceInfo.device.type.charAt(0).toUpperCase()+this._deviceInfo.device.type.slice(1)}`) ,Ds(r)&&r>0&&(n!=null&&n.cpm)&&n.cpm<r&&(s=!1)),s}_fetchPlacementName(e){return  __get$(this._freestar.dynamicSlotLibrary,e) ||e}_dynamicPlacementFlooring(e){let t={activeIds:[],activeSlots:[]};return e.forEach(s=>{let r=this._gamManager.getSlot({elementId:s});r&&t.activeSlots.push(r),this._placementFlooring({placementName:this._fetchPlacementName(s),domId:s})&&t.activeIds.push(s)}),t}_staticPlacementFlooring(){let e=[];return this._gamManager.getSlots().forEach(t=>{var r;let s=t.getSlotElementId();(r=this._freestar.bidsWon)!=null&& __get$(r,s) &&! __get$(this._freestar.bidsWon,s) &&( __get$(this._freestar.bidsWon,s) .evaluated=!0,this._placementFlooring({placementName:this._fetchPlacementName(s),domId:s})&&e.push(s))}),e}_getAdUnitCodesWithNoBids( _hh$temp310 ){ var e=_hh$temp310.bidsReceived; let t=this._prebidManager.instance.adUnits.reduce((s,r)=>( __set$(s,r.code,!1) ,s),{});return e&&e.forEach(s=>{s.cpm>0&&( __set$(t,s.adUnitCode,!0) )}),Object.keys(t).filter(s=>! __get$(t,s) )}_createAuctionStartEvent(){ht({name:"auctionStarted",detail:!0})}_logPerformanceMark(){this._performanceLogger.logMark({markerName:Pe.pubfigPrebidFsRequestBids})}_trackEarlyBids(e){this._logger.log(["Refreshing early bids",e])}_handleNonPersonalizedAds(e){this._logger.log(` (${this.requestReference.requestNum}) set to skip pre auctions, sending GAM request.`),e.sendAdserverSignal instanceof Promise?e.sendAdserverSignal.then(()=>this._sendAdServerRequest(e)).catch(()=>{this._logger.log(`Adserver request cancelled for: ${e.elementIds.toString()}`)}):this._sendAdServerRequest(e)}};A.class(ad,{token:c.BIDS_MANAGER,defaultAlias:"bidsManager",dependencies:[c.LOGGER,c.ANALYTICS,c.DEVICE_INFO,c.PERFORMANCE_LOGGER,c.GAM_MANAGER,c.PREBID_MANAGER,c.AD_BLOCK,c.FREESTAR,c.DISPENSARY_DATA,c.AMAZON_MANAGER],factory:e=>T(void 0,[e],function*( _hh$temp311 ){ var i=_hh$temp311.dependencies; return yield i.prebidManager.ready,i.bidsQueue=i.bidsQueue||new od,new ad(i)})})});var PE=h(()=>{CE()});var dd,DE=h(()=>{le();N();D();st();sd();di();zs();ft();dd=class{constructor( _hh$temp312 ){ var e=_hh$temp312.prebidManager,t=_hh$temp312.adUnitManager,s=_hh$temp312.logger,r=_hh$temp312.eventBus,n=_hh$temp312.ancillary,o=_hh$temp312.dispensaryData; this._dispensaryData=o,this._prebidManager=e,this._adUnitManager=t,this._ancillary=n,this._eventBus=r,this._dispensaryData=o,this._logger=s,this._logger.setContext(c.NATIVE_RENDER_MANAGER)}get isEnabled(){return this._dispensaryData.getValue("enableNativeRender")!==!1}getHighestBid(e,t=[]){if(!this.isEnabled)return null;let s=this._prebidManager.instance.getBidResponsesForAdUnitCode(e);if((s==null?void 0:s.length)>0){let r=s.filter(n=>n.status!=="rendered"&&EE(n)&&!t.includes(oe(n.bidderCode)));if(r.length>0)return r.sort((n,o)=>o.cpm-n.cpm),r[0]}return null}getAdUnit(e){return this._adUnitManager.getAdUnitBySlotElementId(e)}_sendEvents(e,t,s){this._eventBus.emit(ri,{elementId:t,bid:s})}renderAd(e,t){return T(this,null,function*(){if(!this.isEnabled){this._logger.log("Native render is not enabled");return}let s=document.getElementById(t);if(s.style.display==="none"&&!this._dispensaryData.fsdata.collapseEmptyDivs)return;s.style.display==="none"&&(s.style.display="");let r=this.getAdUnit(t);if(!r){console.warn(`[nativeRender-renderAd] AdUnit not found for elementId: ${t}`);return}if(r.renderMap.has(e.adId))return;r.renderMap.set(e.adId,!0),yield this.clearExistingAd(t),e.isNativeRender=!0;let n=this.createAdElement(e);s.appendChild(n),this.executeRenderAd(e.adId),this._ancillary.create({id:t,placement:r.placement,container:n}),this._sendEvents(r,t,e)})}clearExistingAd(e){return new Promise(t=>{this._ancillary.hide(e),Hs(e),this._eventBus.emit(qo,{elementId:e}),t()})}createAdElement(e){return w({id:Do,children:[w({type:"iframe",id:`_fs-ad-${e.adId||e.amzniid}`,attributes:[{width:e.width||"100%",height:e.height||"100%",frameBorder:"0",marginHeight:"0",marginWidth:"0",scrolling:"no"}]})]})}executeRenderAd(e){let t=document.querySelector(`#_fs-ad-${e}`).contentWindow;t.adId=e,this._prebidManager.instance.renderAd(t.document,e),this._logger.log(`rendered #_fs-ad-${e} natively`)}};A.class(dd,{token:c.NATIVE_RENDER_MANAGER,dependencies:[c.PREBID_MANAGER,c.LOGGER,c.EVENT_BUS,c.ANCILLARY,c.DISPENSARY_DATA],factory:e=>T(void 0,[e],function*( _hh$temp313 ){ var i=_hh$temp313.dependencies; return yield i.prebidManager.ready,new dd(V(b({},i),{adUnitManager:de}))})})});var NE=h(()=>{DE()});var fr,pe,We,kt=h(()=>{fr="REFRESH",pe="VIDEO",We="STICKYFOOTER"});var ME,LE,kE,BE,FE,UE,yf,ld=h(()=>{ME={root:null,threshold:.5},LE=1e3,kE=.49,BE=3e3,FE=300,UE=["stickyFooter","sideWall","pushdown","dynamicAd","stickyRail"],yf="Ad refresh is disabled for this geo."});var In,GE=h(()=>{kt();ld();In=class{constructor( _hh$temp314 ,s){ var e=_hh$temp314.logger,t=_hh$temp314.freestar; e.setContext(fr),t.refreshLibrary={},t.refreshSlots=[],e.log(s!=null?s:yf),["refresh","refreshAll"].forEach(r=>{ __set$(this,r,()=>{e.warning(s!=null?s:yf);}) }),["refreshAllVisible","resetCapCounter","disableForItem","enableForItem","disable","enable","pause","resume","setDirectAdRefresh"].forEach(r=>{ __set$(this,r,()=>{e.log(s!=null?s:"Ad refresh is disabled.");}) })}}});function iT(i){return{bidder:oe(i.bidder),creativeId:i.creativeId,cpm:i.cpm,mediaType:i.mediaType,evaluated:!1,ad:i.ad,time:Date.now()}}function sT(i){ let _hh$temp315=i,e=_hh$temp315.adUnitCode; e&&( __set$(freestar.bidsWon,e,iT(i)) )}function VE(){fsprebid.que.push(function(){fsprebid.onEvent(Gs,i=>sT(i))})}var zE=h(()=>{Dt();ft()});function HE( _hh$temp316 ){ var i=_hh$temp316.bidder,e=_hh$temp316.cpm,t=_hh$temp316.siteAdjustment,s=_hh$temp316.networkAdjustment; (t||s&&freestar.adjustments.isLogged)&&(freestar.log(An,"bidder : ",i),freestar.log(An,"cpm : ",JSON.stringify(e)),t&&freestar.log(An,"siteAdjustment : ",t),s&&freestar.log(An,"networkAdjustment : ",s))}function $E( _hh$temp317 ){ var i=_hh$temp317.cpm,e=_hh$temp317.siteAdjustment,t=_hh$temp317.networkAdjustment,s=_hh$temp317.bid; (i&&e||t)&&(freestar.adjustments.isLogged&&freestar.log(An,"final cpm value : ",i),s.rawCpm=s.cpm,s.adjustedCpm=i,freestar.adjustments.bids.push(dt(s)))}function qE(){freestar.adjustments.isLogged&&fsprebid.onEvent(us,function(i){let e=freestar.adjustments.bids.find(t=>t.requestId===i.requestId);e&&(freestar.log("Bid Adjustment Log: bid response after adjustment",i),freestar.log("Bid Adjustment Log: original bid",e))})}var An,YE=h(()=>{ss();Dt();An="Bid Adjustment Log : "});var cd,jE=h(()=>{cd=class{constructor(){this.ext={fs_company:window.freestar.fsdata&&window.freestar.fsdata.companyId||"unknown"}}}});var Sf,If,Af,fd,WE=h(()=>{Ke();Q();jE();xo();Sf=class{constructor(){this.data=[{name:ks(),ext:{taxonomyname:"iab_content_taxonomy"},segment:t_()}]}},If=class{constructor(){this.fs_optimized=this.getIsOptimized(window.freestar),this.fs_site=window.freestar.fsdata&&window.freestar.fsdata.siteId||"unknown"}getIsOptimized( _hh$temp318 ){ var _hh$temp318$config=_hh$temp318.config,e=_hh$temp318$config===void 0?{}:_hh$temp318$config; return e&&e.pageSpeedOptimized?e.pageSpeedOptimized:!1}},Af=class{constructor(){this.data=new If}},fd=class{constructor(e=""){this.name=window.freestar.fsdata.path||"",this.domain=window.freestar.fsdata.domain||"",this.cat=window.freestar.fsdata.categories||[],this.sectioncat=window.freestar.fsdata.categories||[],this.pagecat=window.freestar.fsdata.categories||[],this.page= __get$(__get$(window,"location"),"href") ||"",this.mobile=e===Ee?1:0,this.ref=document.referrer||"",this.content=new Sf,this.ext=new Af,this.publisher=new cd}}});var ud,KE=h(()=>{ue();ud=class{constructor(){this.id=window.freestar.msg.fpc||""}isValid(){return this.id&&this.id.length&&this.id!==Xn}}});var hd,QE=h(()=>{hd=class{clean(){for(let e in this)typeof  __get$(this,e) =="string"&& __get$(this,e) .length===0&&delete this[e]}}});var ur,bf=h(()=>{QE();ur=class extends hd{constructor(){super(),this.region=this.getRegion(),this.city=this.getCity(),this.country=this.getCountry(),this.ext={},this.clean()}getLocObj(){return window.freestar.locData?window.freestar.locData:!1}getRegion(){return this.region!==void 0?this.region:this.getLocObj().state||""}getCity(){return this.city!==void 0?this.city:this.getLocObj().city||""}validateCountryISO(e){return e.length===2?e:!1}getCountry(){return this.country!==void 0&&this.validateCountryISO(this.country)?this.country:this.getLocObj().iso&&this.validateCountryISO(this.getLocObj().iso)?this.getLocObj().iso:""}}});var wf,pd,JE=h(()=>{ue();bf();wf=class{constructor(){this.types={unknown:0,mobile:1,desktop:2,ctv:3,phone:4,tablet:5,connectedDevice:6,"set-top-box":7}}getType(){if(window.freestar.deviceInfo&&window.freestar.deviceInfo.device){if(window.freestar.fsdata.siteId===6324||window.freestar.fsdata.siteId===7327)return this.types.ctv; let _hh$temp319=window.freestar.deviceInfo.device,_hh$temp319$type=_hh$temp319.type,e=_hh$temp319$type===void 0?"unknown":_hh$temp319$type; if(e&& __get$(this.types,e) )return  __get$(this.types,e) }return this.types.unknown}},pd=class{constructor(){this.ua=this.fetchFromDeviceInfo("ua"),this.geo=new ur({}),this.dnt=this.getUserDNTStatus(),this.devicetype=new wf().getType(),this.make=this.getMobileDeviceInfo("vendor"),this.model=this.getMobileDeviceInfo("model"),this.os=this.getOSInfo("name"),this.osv=this.getOSInfo("version")}getUserDNTStatus(){return window.freestar.msg.fpc===Xn?1:0}getOSInfo(e){return  __get$(this.fetchFromDeviceInfo("os"),e) ||""}fetchFromDeviceInfo(e){return window.freestar&&window.freestar.deviceInfo&& __get$(window.freestar.deviceInfo,e) ? __get$(window.freestar.deviceInfo,e) :""}getMobileDeviceInfo(e){return  __get$(this.fetchFromDeviceInfo("device"),e) ||""}}});var Tf,md,ZE=h(()=>{Tf=class{constructor(){window.freestar.fsdata.topLevelStoredRequestId&&(this.storedrequest={id:window.freestar.fsdata.topLevelStoredRequestId})}},md=class{constructor(){this.prebid=new Tf}}});var vf=Xi((xF,ty)=>{"use strict";var rT=function(e){return nT(e)&&!oT(e)};function nT(i){return!!i&&typeof i=="object"}function oT(i){var e=Object.prototype.toString.call(i);return e==="[object RegExp]"||e==="[object Date]"||lT(i)}var aT=typeof Symbol=="function"&&Symbol.for,dT=aT?Symbol.for("react.element"):60103;function lT(i){return i.$$typeof===dT}function cT(i){return Array.isArray(i)?[]:{}}function bn(i,e){return e.clone!==!1&&e.isMergeableObject(i)?hr(cT(i),i,e):i}function fT(i,e,t){return i.concat(e).map(function(s){return bn(s,t)})}function uT(i,e){if(!e.customMerge)return hr;var t=e.customMerge(i);return typeof t=="function"?t:hr}function hT(i){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(i).filter(function(e){return Object.propertyIsEnumerable.call(i,e)}):[]}function XE(i){return Object.keys(i).concat(hT(i))}function ey(i,e){try{return e in i}catch(t){return!1}}function pT(i,e){return ey(i,e)&&!(Object.hasOwnProperty.call(i,e)&&Object.propertyIsEnumerable.call(i,e))}function mT(i,e,t){var s={};return t.isMergeableObject(i)&&XE(i).forEach(function(r){ __set$(s,r,bn(__get$(i,r),t)) }),XE(e).forEach(function(r){pT(i,r)||(ey(i,r)&&t.isMergeableObject( __get$(e,r) )? __set$(s,r,uT(r,t)(__get$(i,r),__get$(e,r),t)) : __set$(s,r,bn(__get$(e,r),t)) )}),s}function hr(i,e,t){t=t||{},t.arrayMerge=t.arrayMerge||fT,t.isMergeableObject=t.isMergeableObject||rT,t.cloneUnlessOtherwiseSpecified=bn;var s=Array.isArray(e),r=Array.isArray(i),n=s===r;return n?s?t.arrayMerge(i,e,t):mT(i,e,t):bn(e,t)}hr.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(s,r){return hr(s,r,t)},{})};var gT=hr;ty.exports=gT});var iy,gd,sy=h(()=>{WE();KE();JE();bf();ZE();iy=xs(vf()),gd=class{constructor(e=""){let t=window.freestar.config.ortb2||{};this.site=this.merge(t.site,new fd(e)),this.user=this.merge(t.user,new ud),this.device=this.merge(t.device,new pd),this.geo=this.merge(t.geo,new ur),this.ext=this.merge(t.ext,new md); let _hh$temp320=window.freestar.fsdata.ortb||{},s=_hh$temp320.enableClientBlocking,r=_hh$temp320.enableClientCategoryBlocking,n=_hh$temp320.badv,o=_hh$temp320.bcat; s&&(this.badv=n),r&&(this.bcat=o)}merge(e={},t){return(0,iy.default)(t,e)}}});function ry(i){if(i==="true")return!0;if(i==="false")return!1}function _d(i,e,t,s){let r=t&&t.length,n=(s==null?void 0:s.asi)&&(s==null?void 0:s.sid);if(e===Et&&!r&&!n)return;let o=e===Et&&!r&&n,a=o?s.asi:Ei,d=o?s.sid:`${i}`;return{ver:"1.0",complete:1,nodes:[{asi:a,sid:d,hp:1}]}}var Ed=h(()=>{ue()});var ny,oy=h(()=>{ny={maxTopicCaller:3,bidders:[{bidder:"pubmatic",iframeURL:"https://ads.pubmatic.com/AdServer/js/topics/topics_frame.html",expiry:7},{bidder:"openx",iframeURL:"https://pa.openx.net/topics_frame.html",expiry:7}]}});function ay(i){var e,t;if(i!=null&&i.adUnitCode){let s=null,r=!1;try{s=(t=(e=freestar.refreshLibrary)==null?void 0: __get$(e,i.adUnitCode) )==null?void 0:t.dataRefreshId}catch(n){freestar.log(1,`Error: ${n}`)}if(s){let n=0,o=RegExp(s,"g");return freestar.refreshSlots.forEach((a,d)=>{o.test(a.refreshId)&&(n=d,r=!0)}),freestar.refreshSlots.splice(n,1),r}return r}else return!1}function _T( _hh$temp321 ){ var i=_hh$temp321.bidder,e=_hh$temp321.cpm,t=_hh$temp321.siteAdjustment,s=_hh$temp321.networkAdjustment,r=_hh$temp321.placement,n=_hh$temp321.bid; HE({bidder:i,cpm:e,siteAdjustment:t,networkAdjustment:s,placement:r,bid:n});let o=e,a=$("manipulate-cpm"),d=$("manipulate-bidder");if(a&&d&&i===d||a)return a;function l( _hh$temp322 ){ var u=_hh$temp322.adj,p=_hh$temp322.value; let m=(100-u)/100,E=Number(p*m).toFixed(8);return parseFloat(E)}function f( _hh$temp323 ){ var u=_hh$temp323.bidder,p=_hh$temp323.placement; let m=p.networks.filter(function(E){if(u===E.slug&&E.placementLevelBidAdjustment&&E.placementLevelBidAdjustment>0)return E})[0];return m?m.placementLevelBidAdjustment:0}if(s&&s>0&&(o=l({adj:s,value:o})),t&&t>0&&(o=l({adj:t,value:o})),i&&r&&r.networks&&r.networks.length){let u=f({bidder:i,placement:r});u&&u>0&&(o=l({adj:u,value:o}))}return $E({cpm:o,siteAdjustment:t,networkAdjustment:s,bid:n}),o}function ET( _hh$temp324 ){ var i=_hh$temp324.network;  let _hh$temp325=i,e=_hh$temp325.id,t=i.networkBidAdjustment||0; if(freestar.networkMap&&e){let s= __get$(freestar.networkMap,e) ;t=s&&s.bidAdjustment&&Number(s.bidAdjustment)&&s.bidAdjustment>0?s.bidAdjustment:i.networkBidAdjustment||0}return t}function dy(i){ __get$(bs,i.slug) ||( __set$(bs,i.slug,{bidCpmAdjustment:function(e,t){let s=ie({name:be({slotId:t.adUnitCode})}),r=_T({bidder:i.slug,cpm:e,siteAdjustment:i.bidAdjustment,networkAdjustment:ET({network:i}),placement:s,bid:t});return r||e;}}) )}function ST( _hh$temp326 ){ var i=_hh$temp326.enableSendAllBids,e=_hh$temp326.useTargetingKeys; let t={};return e&&(t.allowTargetingKeys=["key1"]),i||(t.alwaysIncludeDeals=!0),t}var Tt,wn,Rf,bs,yT,vt,Of=h(()=>{zE();cr();ue();Pa();it();Q();Fe();YE();ki();Io();sy();he();Da();Ed();ft();oy();Dt();N();D();Vo();Xe();Tt={},wn=[],Rf=null;Tt.initiate=()=>{var i=window.fsprebid||{};return i.que=i.que||[],i.retries=0,i};bs={};Tt.setNetworks=()=>{Rf=new Ii,VE(),freestar.fsdata.networks.forEach(e=>{Ef(e),dy(e)}),freestar.fsdata.placements.filter(e=>e.networks.length).forEach(function(e){e.networks.forEach(t=>{Ef(t),dy(t)})})};Tt.getBidderSettings=()=>{let i=or({freestar});bs.standard={alwaysUseBid:!1,adserverTargeting:[{key:i.bidder,val:function(t){return oe(t.bidderCode)}},{key:i.adid,val:function(t){return t.adId}},{key:i.pb,val:function(t){return freestar.fsdata.priceGranularity==="medium"?t.pbMg:freestar.fsdata.priceGranularity==="high"?t.pbHg:freestar.fsdata.priceGranularity==="auto"?t.pbAg:freestar.fsdata.priceGranularity==="dense"?t.pbDg:t.adUnitCode&&t.cpm&&t.cpm>2&& __get$(freestar.gamMap,t.adUnitCode) && __get$(freestar.gamMap,t.adUnitCode) ===!0?Sg({cpm:t.cpm}):t.pbCg}},{key:i.size,val:function(t){return t.size}},{key:i.format,val:function(t){return t.mediaType}},{key:"custom_bidder_size",val:function(t){return[oe(t.bidder),t.size].join("_")}},{key:"freestar_domain",val:function(){return freestar.fsdata.domain|| __get$Loc(location) .domain}},{key:"freestar_path",val:function(){return  __get$Loc(location) .pathname}},{key:i.auction_id,val:function(t){return`${t.auctionId}`}},{key:i.source,val:function(t){return t.source}}]},(freestar.fsDfpId||freestar.fsDevDfpId||freestar.fsdata.useFsAdserverTargetingKeys)&&bs.standard.adserverTargeting.push({key:"fspbg",val:"fs_universal"});let e=["concert","criteo","taboola"];Object.keys(bs).forEach(t=>{let s= __get$(freestar.fsdata.aliases,t) ||t;e.includes(s)&&( __get$(bs,t) .storageAllowed=!0)})};Tt.setBidderSettings=()=>{fsprebid.bidderSettings=bs};yT=()=>{if(window.freestar.fsdata.priceGranularity)if(window.freestar.fsdata.priceGranularity.length>6)try{return JSON.parse(freestar.fsdata.priceGranularity)}catch(e){window.freestar.log(10,`Error parsing priceGranularity ${e}`)}else return window.freestar.fsdata.priceGranularity;return{buckets:window.freestar.fsDfpId||window.freestar.fsDevDfpId||window.freestar.fsdata.useFsAdserverTargetingKeys?Sl.v2:Sl.v1}};Tt.setEventListeners=()=>{qE(),fsprebid.onEvent(Po,function(e){freestar.performanceLogger.logMark({markerName:Pe.pubfigPrebidAuctionInit}),e.adUnitCodes.forEach(t=>{ __get$(freestar.bidsWon,t) &&delete freestar.bidsWon[t]})}),fsprebid.onEvent(us,function(e){var s;let t=freestar.adjustments.bids.find(r=>r.requestId===e.requestId);e.rawCpm=(s=t==null?void 0:t.cpm)!=null?s:e.cpm});let i=[c.ANALYTICS,c.BID_WON_ANALYTICS_EVENT_FACTORY];if(freestar.allowBidResponseCollection&&i.push(c.BID_RESPONSE_ANALYTICS_EVENT_FACTORY),Promise.all(i.map(e=>G.instance.resolve(e))).then(( _hh$temp327 )=>{ var _hh$temp328=__arrayFrom$(_hh$temp327),e=_hh$temp328[0],t=_hh$temp328[1],s=_hh$temp328[2]; fsprebid.onEvent(us,r=>{r.adUnitCode&&Jl({bidder:oe(r.bidderCode),adUnitCode:r.adUnitCode}),ay(r),s&&e.track(s.create(r))}),fsprebid.onEvent(Gs,r=>{r.adUnitCode&&Jl({bidder:oe(r.bidderCode),adUnitCode:r.adUnitCode});let n=ay(r);r.bidderRefresh=n,e.track(t.create(r))})}),G.instance.resolve(c.ANALYTICS).then(e=>{var t;fsprebid.onEvent(Vp,s=>{setTimeout(()=>{s.forEach(r=>{e.track(new ua(r))})},50)}),(t=window.freestar.fsdata.ortb)!=null&&t.enableClientBlockingLogs&&window.fsprebid.onEvent(zp,s=>{e.track( new Z({eventName:s.rejectionReason?__call$(s.rejectionReason.toUpperCase(),"replace",[/ /g,"_"]):"UNKNOWN",eventType:"BID_REJECTED",data:s}) )})}),freestar.allowBidRequestedCollection){let e=[c.ANALYTICS,c.BID_REQUESTED_ANALYTICS_EVENT_FACTORY];Promise.all(e.map(t=>G.instance.resolve(t))).then(( _hh$temp329 )=>{ var _hh$temp330=__arrayFrom$(_hh$temp329),t=_hh$temp330[0],s=_hh$temp330[1]; fsprebid.onEvent(Gp,r=>{t.track(s.create(r))})})}};Tt.setSChain=()=>{ let _hh$temp331=window.freestar.fsdata,_hh$temp331$companyId=_hh$temp331.companyId,i=_hh$temp331$companyId===void 0?"":_hh$temp331$companyId,e=_hh$temp331.schain,t=_d(i,e==null?void 0:e.type,e==null?void 0:e.bidderOverrides,e==null?void 0:e.defaultNode); t&&window.fsprebid.setBidderConfig({bidders:OE(Rf),config:{schain:{validation:"strict",config:t}}},!0)};Tt.settingConfig=(i,e,t)=>{var u,p,m,E,S,I,g,y;let s=yT(),r=freestar.fsdata.useFsAdserverTargetingKeys||$("use-fs-adserver-targeting-keys"),n=window.freestar.deviceInfo&&window.freestar.deviceInfo.device.type||"",o=!!((p=(u=window.freestar)==null?void 0:u.fsdata)!=null&&p.enableSendAllBidsToAdServer),a={performanceMetrics:!1,targetingControls:ST({enableSendAllBids:o,useTargetingKeys:r}),ortb2:new gd(n),rubicon:{singleRequest:!0},bidderTimeout:window.freestar.fsdata.timeout||1500,userSync:{aliasSyncEnabled:!0,auctionDelay:100,enableOverride:!1,filterSettings:{all:{bidders:"*",filter:"include"}},userIds:[],syncDelay:100,syncEnabled:!0,syncsPerBidder:8,topics:ny},enableTIDs:!0,consitentTIDs:!0,enableSendAllBids:o,priceGranularity:s,bidderSequence:"random",pageUrl:`${ __get$(window,"location") .protocol}//${ __get$(window,"location") .host}`,useBidCache:!0,minBidCacheTTL:60,eventHistoryTTL:60,gptPreAuction:{enabled:!0,customPbAdSlot:function(R,M=`/${Yt}`){ let _hh$temp332=freestar.fsdata,_hh$temp332$appendDivIdToGpid=_hh$temp332.appendDivIdToGpid,z=_hh$temp332$appendDivIdToGpid===void 0?!0:_hh$temp332$appendDivIdToGpid,H=M; return z&&(H+="/"+R),freestar.log({title:"GPID"},"Payload is:",H),H},mcmEnabled:!0},firstPartyData:{skipEnrichments:!0},cache:{url:"https://prebid.adnxs.com/pbc/v1/cache",ignoreBidderCacheKey:!0}};a.userSync.userIds=t.prebidNonRealTimeProvidersConfig,e.getBypassFirstAuction()||(e.getS2sBidders(Rf).forEach(M=>{wn.includes(M)||wn.push(M)}),wn.length&&(window.freestar.log(49,"Setting s2sconfig..."),a.s2sConfig={accountId:"d0cd3243-716f-4f9c-b074-f72637de26f3",enabled:!0,bidders:wn,timeout:window.freestar.fsdata.timeout,adapter:"prebidServer",endpoint:"https://s2s.t13.io/openrtb2/auction",syncEndpoint:"https://s2s.t13.io/cookie_sync",cookieSet:!1,cookiesetUrl:"",allowUnknownBidderCodes:!0})),t.analyticsAdapters.prebidAnalyticAdapters.forEach(R=>{i.enableAnalytics(R)}),ys(window.freestar.locData)&&(a.consentManagement=a.consentManagement||{},a.consentManagement.gdpr={cmpApi:"iab",timeout:1200,allowAuctionWithoutConsent:!1},(E=(m=window.freestar)==null?void 0:m.consentLibrary)!=null&&E.gpp&&(a.consentManagement=a.consentManagement||{},a.consentManagement.gpp={cmpApi:"iab",timeout:1200})),Vt(window.freestar.locData)&&((I=(S=window.freestar)==null?void 0:S.consentLibrary)!=null&&I.gpp?(a.consentManagement=a.consentManagement||{},a.consentManagement.gpp={cmpApi:"iab",timeout:1200}):(y=(g=window.freestar)==null?void 0:g.consentLibrary)!=null&&y.usp&&(a.consentManagement=a.consentManagement||{},a.consentManagement.usp={cmpApi:"iab",timeout:1200})); let _hh$temp333=window.freestar.fsdata.ortb||{},d=_hh$temp333.enableClientBlocking,l=_hh$temp333.enableClientCategoryBlocking,f=_hh$temp333.enableClientBlockingUnknown; (d||l)&&(a.bidResponseFilter={cat:{enforce:l,blockUnknown:!!f},adv:{enforce:d,blockUnknown:!!f},attr:{enforce:!1,blockUnknown:!1},mediaTypes:{enforce:!1,blockUnknown:!1}}),i.setConfig(a)};Tt.analytics=i=>{i.enableAnalytics([{provider:"freestar",options:{}}])};Tt.enableTIDs=()=>{window.fsprebid.setConfig({enableTIDs:!0})};Tt.enableRTDProviders=i=>{fsprebid.mergeConfig({realTimeData:{auctionDelay:50,dataProviders:i.realtimeProviders.getRtdProvidersConfig()}})};Tt.updateTimeouts=( _hh$temp334 )=>{ var i=_hh$temp334.bidderTimeout,e=_hh$temp334.s2sTimeout; let t={bidderTimeout:i};wn.length&&(t.s2sConfig={timeout:e||i*.75}),window.fsprebid.mergeConfig(t),window.freestar.fsdata.timeout=i};vt=Tt});var yd,Cf=h(()=>{yd= _hh$temp335=>{var i=_hh$temp335.elementId;return document.getElementById(i)&&i.indexOf("_fs-sf")===-1;} });var Sd,xf=h(()=>{Sd=class{constructor( _hh$temp336 ){ var e=_hh$temp336.logger,_hh$temp336$delayMs=_hh$temp336.delayMs,t=_hh$temp336$delayMs===void 0?0:_hh$temp336$delayMs; this._logger=e,this._delayMs=t,this._queue=[],this._isProcessing=!1,this._processingTimeouts=new Set,this._queuedElementIds=new Set}enqueue(e){if(this._queuedElementIds.has(e.elementId)){this._logger.log(`Skipping duplicate queue entry for ${e.elementId}`);return}this._queue.push(e),this._queuedElementIds.add(e.elementId),this._logger.log(`Queued refresh for ${e.elementId}. Queue size: ${this._queue.length}`),this._isProcessing||this._processQueue()}_processQueue(){return T(this,null,function*(){if(!this._isProcessing){for(this._isProcessing=!0;this._queue.length>0;){let e=this._queue[0];try{this._logger.log(`Processing refresh for ${e.elementId}`),e.refreshFn(),this._queue.length>0&&this._delayMs>0&&(this._logger.log(`Delaying refresh for ${e.elementId} for ${this._delayMs}ms`),yield this._delay(this._delayMs)),this._queue.shift(),this._queuedElementIds.delete(e.elementId)}catch(t){this._logger.error(`Error processing refresh for ${e.elementId}:`,t),this._queuedElementIds.delete(e.elementId),this._queue.shift()}}this._isProcessing=!1}})}_delay(e){return new Promise(t=>{let s=setTimeout(()=>{this._processingTimeouts.delete(s),t()},e);this._processingTimeouts.add(s)})}clear(){this._queue=[],this._queuedElementIds.clear(),this._isProcessing=!1,this._processingTimeouts.forEach(e=>{clearTimeout(e)}),this._processingTimeouts.clear(),this._logger.log("Refresh queue cleared")}get size(){return this._queue.length}get isProcessing(){return this._isProcessing}}});var Id,ly=h(()=>{N();D();He();GE();ld();Q();cs();Zs();kt();Wt();di();Of();Cf();qe();xf();Id=class{constructor( _hh$temp337 ){ var e=_hh$temp337.renderBidMidwayManager,t=_hh$temp337.logger,s=_hh$temp337.dispensaryData,r=_hh$temp337.refreshers,n=_hh$temp337.globalRefreshUserIDsState,o=_hh$temp337.gamManager,a=_hh$temp337.freestar,d=_hh$temp337.win,l=_hh$temp337.eventBus,f=_hh$temp337.refreshLibrary; _(this,"_counterEventsConfig",[{thresholdPercentageFrom:.75,thresholdPercentageTo:.85,handler:( _hh$temp338 )=>{ var e=_hh$temp338.elementId,t=_hh$temp338.refreshLibraryItem; t.checkingForBid=!1,!(t.hasPrefetchCalled||!t.canBeRefreshed()||!t.isVisibilityThresholdMet())&&(t.hasPrefetchCalled=!0,this._prefetchBids({elementId:e,refreshLibraryItem:t}))}},{thresholdPercentageFrom:.8,handler:( _hh$temp339 )=>{ var e=_hh$temp339.elementId,t=_hh$temp339.refreshLibraryItem; if(!ls({siteId:this._dispensaryData.fsdata.siteId,placement:t.placement})&&!_s(t.placement)){let s=(t.timesRefreshed||0)+1;Mt().prefetchFloorsData({placement:t.placement,slotId:e,timesRefreshed:s})}}},{thresholdPercentageFrom:.8,handler:( _hh$temp340 )=>{ var e=_hh$temp340.refreshLibraryItem; var t;this._globalRefreshUserIDsState.allowed()&&((t=e.refreshUserIds)!=null&&t.requiresRefresh)&&(e.refreshUserIds.refresh(),this._globalRefreshUserIDsState.updateLastRefreshTime())}},{thresholdPercentageFrom:1,handler:( _hh$temp341 )=>{ var e=_hh$temp341.elementId,t=_hh$temp341.refreshLibraryItem; !t.canBeRefreshed()||!t.isVisibilityThresholdMet()||(this._refresh({elementId:e,refreshLibraryItem:t}),t.hasPrefetchCalled=!1,t.refreshUserIds.reset())}}]);_(this,"_isTimeoutUpdatedForSubsequentAuctions",!1);_(this,"_handleIntersection",e=>{e.forEach(t=>{ let _hh$temp342=t,s=_hh$temp342.isIntersecting,r=_hh$temp342.intersectionRatio,_hh$temp343=t.target,n=_hh$temp343.id; this._refreshLibrary.updateLibraryItem({slotId:n,attributes:{intersectionRatio:s?r:0}}),this._eventBus.emit(Ws,{id:n,isIntersecting:s,intersectionRatio:r})})});_(this,"_checkRefreshCap",()=>{ let _hh$temp344=__arrayFrom$(Object.values(this._refreshLibrary.items)),e=_hh$temp344[0],_hh$temp345=this._dispensaryData.fsdata,t=_hh$temp345.slotsCombinedRefreshCap; if(!e||t===0)return;let s=t||FE;e.constructor.totalRefreshes>=s&&(this._logger.log(`Max refresh cap reached. Total Refreshes: ${e.constructor.totalRefreshes}, Cap: ${s}`),this._refreshLibrary.toggleRefreshForAll({disableRefresh:!0}))});this._renderBidMidwayManager=e,this._gamManager=o,this._window=d,this._freestar=a,this._eventBus=l,this._refreshLibrary=f,this._dispensaryData=s,this._logger=t,this._logger.setContext(fr),this._logger.setLevel(50),this._currentUrl= __get$(__get$(d,"location"),"href") ,this._globalRefreshUserIDsState=n,this._observedElements=new Set,this._intervalId=null,this._freestar.refreshSlots=this.refreshSlots=[],this._refreshers=r,this._refreshQueue=new Sd({logger:this._logger,delayMs:this._dispensaryData.fsdata.refreshQueueDelay||0}),this._subscribeToEvents(),this._attachIntersectionObserver(),this._populateCounterEventsConfig(),this._startPolling()}_populateCounterEventsConfig(){var e;this._dispensaryData.fsdata.enableMidwayRender!==!1&&((e=this._counterEventsConfig)==null||e.unshift({thresholdPercentageFrom:.5,thresholdPercentageTo:.75,handler:( _hh$temp346 )=>{ var t=_hh$temp346.elementId,s=_hh$temp346.refreshLibraryItem; s.checkingForBid||!s.canBeRefreshed()||!s.isVisibilityThresholdMet()||(s.checkingForBid=!0,this._renderBidMidwayManager.renderAd({elementId:t}))}}))}disableForItem( _hh$temp347 ){ var e=_hh$temp347.slotId,t=_hh$temp347.placementName; this._refreshLibrary.toggleRefreshForItem({slotId:e,placementName:t,disableRefresh:!0})}enableForItem( _hh$temp348 ){ var e=_hh$temp348.slotId,t=_hh$temp348.placementName; this._refreshLibrary.toggleRefreshForItem({slotId:e,placementName:t,disableRefresh:!1})}disable(){this._refreshLibrary.toggleRefreshForAll({disableRefresh:!0}),this._refreshQueue.clear()}enable(){this._refreshLibrary.toggleRefreshForAll({disableRefresh:!1})}pause(){this._refreshLibrary.updateAllItems({attributes:{pauseRefresh:!0}})}resume(){this._refreshLibrary.updateAllItems({attributes:{pauseRefresh:!1}})}addToLibrary( _hh$temp349 ){ var e=_hh$temp349.elementId; let t=this._refreshLibrary.addToLibrary({elementId:e});if(!t)return;let s=this._window.document.getElementById(t.observedElementId);return s||(s=this._createObservedElement({targetElementId:e,observedElementId:t.observedElementId})),this._addToObserver(s),t}_createObservedElement( _hh$temp350 ){ var e=_hh$temp350.targetElementId,t=_hh$temp350.observedElementId; let s=this._window.document.getElementById(e),r=this._window.document.createElement("div");return r.id=t,r.style.width="1px",r.style.height="0px",s.after(r),r}refresh( _hh$temp351 ={}){ var e=_hh$temp351.elementIds; this._logger.log(["freestar.refresh: ",e]),e=e!=null?e:this._gamManager.instance.pubads().getSlots().map( _hh$temp352=>{var t=_hh$temp352.getSlotElementId;return t();} ),e.forEach(t=>{if(!yd({elementId:t}))return;let s=this._refreshLibrary.getRefreshLibraryItem({slotId:t});s||(s=this.addToLibrary({elementId:t})),s&&this._refresh({elementId:t,refreshLibraryItem:s})})}refreshAll(){this._logger.log("freestar.refreshAllSlots");let e=this._gamManager.instance.pubads().getSlots();e==null||e.forEach(t=>{let s=t.getSlotElementId(),r=this._refreshLibrary.getRefreshLibraryItem({slotId:s});r!=null&&r.canBeRefreshed()&&this._refresh({elementId:s,refreshLibraryItem:r})})}refreshAllVisible(){let e=this._gamManager.instance.pubads().getSlots();e==null||e.forEach(t=>{let s=t.getSlotElementId(),r=this._refreshLibrary.getRefreshLibraryItem({slotId:s});r!=null&&r.isVisibilityThresholdMet()&&(r!=null&&r.canBeRefreshed())&&this._refresh({elementId:s,refreshLibraryItem:r})})}removeFromLibrary( _hh$temp353 ){ var e=_hh$temp353.elementId; this._refreshLibrary.removeFromLibrary({elementId:e}),this._observedElements.delete(e);let t=this._window.document.getElementById(e);!this._observer||!t||this._observer.unobserve(t)}_eventMatchesDirectAdRefresh(e){return["advertiserId","campaignId","lineItemId","creativeId"].some(t=>{let s= __get$(e,t) ;return s!=null&&this._dispensaryData.fsdata.directAdRefreshTargeting.includes(s.toString())?(this._logger.log(1,`found ${t} ${s} in directAdRefreshTargeting, setting refresh ${this._dispensaryData.fsdata.directAdRefreshRate}.`),!0):!1})}setDirectAdRefresh(e){let t=this._dispensaryData.fsdata.directAdRefreshRate;this._refreshLibrary.updateLibraryItem({slotId:e,attributes:{refreshTime:t>0?t:-1,disableRefresh:t<=0}})}_subscribeToEvents(){this._gamManager.instance.pubads().addEventListener(xe,e=>{var t,s;try{this._dispensaryData.fsdata.customDirectAdRefresh&&this._eventMatchesDirectAdRefresh(e)&&this.setDirectAdRefresh(e.slot.getSlotElementId())}catch(r){}try{let r=e==null?void 0:e.slot,n=(t=r==null?void 0:r.getSlotElementId)==null?void 0:t.call(r),o=((s=r==null?void 0:r.getTargeting)==null?void 0:s.call(r,"fsrefresh"))||[],a=parseInt(o[0]||"0",10);n&&a>0&&this._eventBus.emit(jo,{elementId:n,refreshCount:a})}catch(r){}}),this._gamManager.instance.pubads().addEventListener(Nt,e=>{Hs(e.slot.getSlotElementId())}),this._eventBus.subscribe(js,( _hh$temp354 )=>{ var _hh$temp354$payload=_hh$temp354.payload,e=_hh$temp354$payload.elementId,t=_hh$temp354$payload.elementIds; t||(t=[e]),t.forEach(s=>{this.addToLibrary({elementId:s})})}),this._eventBus.subscribe(Ys,( _hh$temp355 )=>{ var _hh$temp355$payload=_hh$temp355.payload,e=_hh$temp355$payload.elementId; this.removeFromLibrary({elementId:e})}),this._eventBus.subscribe(Ri,()=>{this._clearLibrary()}),this._eventBus.subscribe(Yo,( _hh$temp356 )=>{ var _hh$temp356$payload=_hh$temp356.payload,e=_hh$temp356$payload.elementId; this._refreshLibrary.updateLibraryItem({slotId:e,attributes:{hasIntersectLazyAd:!0}})})}_clearLibrary(){this._refreshLibrary.clearLibrary(),this._refreshQueue.clear()}_addToObserver(e){this._observer&&(this._observer.observe(e),this._observedElements.add(e.id))}_attachIntersectionObserver(){"IntersectionObserver"in this._window&&(this._observer=new this._window.IntersectionObserver(this._handleIntersection,ME))}_startPolling(){this._intervalId||(this._intervalId=this._window.setInterval(()=>{var s,r;if(this._observedElements.forEach(n=>{if(!this._refreshLibrary.getRefreshLibraryItem({slotId:n})){this._observedElements.delete(n);let o=this._window.document.getElementById(n);o&&this._observer.unobserve(o)}}),this._window.document.hidden)return;let e=this._dispensaryData.fsdata.enableRefreshOutOfFocus===void 0?!0:!!this._dispensaryData.fsdata.enableRefreshOutOfFocus;if(!this._window.document.hasFocus()&&!e)return;let t=!1;(this._currentUrl!== __get$(__get$(this._window,"location"),"href") ||this._placementsChangedViaUrl!==this._refreshLibrary.count)&&(t=!0,this._placementsChangedViaUrl=this._refreshLibrary.count,this._currentUrl= __get$(__get$(this._window,"location"),"href") );for(let n in this._refreshLibrary.items){let o=this._window.document.getElementById(n);if(!(o!=null&&o.id))continue;let a=this._refreshLibrary.getRefreshLibraryItem({slotId:n});a!=null&&a.canIncrementCounter()&&(a.incrementCounter(),this._counterEventsConfig.forEach(( _hh$temp357 )=>{ var d=_hh$temp357.thresholdPercentageFrom,l=_hh$temp357.thresholdPercentageTo,f=_hh$temp357.handler; let u=a.refreshTime*d,p=l?a.refreshTime*l:null;a.refreshCounter>=u&&(!p||a.refreshCounter<p)&&f({refreshLibraryItem:a,elementId:n})}),(!this._observedElements.has(n)||t)&&(this._observedElements.add(n),(s=this._observer)==null||s.unobserve(o),(r=this._observer)==null||r.observe(o)))}},LE))}_prefetchBids(s){return T(this,arguments,function*( _hh$temp358 ){ var e=_hh$temp358.elementId,t=_hh$temp358.refreshLibraryItem; this._isTimeoutUpdatedForSubsequentAuctions||(vt.updateTimeouts({bidderTimeout:BE}),this._isTimeoutUpdatedForSubsequentAuctions=!0);let r=t.placement,n=this._gamManager.instance.pubads().getSlots().find(o=>o.getSlotElementId()===e);this._gamManager.setSlotTargeting({slot:n,key:"fs_uuid",value:Ae()}),t.isCounterStopped=!0,r&&!ls({siteId:this._dispensaryData.fsdata.siteId,placement:r})&&!_s(r)&&(t.timesRefreshed+=1,yield Mt().getFloorsData({placement:r,slotId:e,callback:( _hh$temp359 )=>{ var o=_hh$temp359.result; t.timesRefreshed-=1,o&&n&&(this._gamManager.setSlotTargeting({slot:n,value:o}),freestar.log({title:"FLOORS"},e,"Refreshed floors value.",o))}})),ee().refreshData(),t.isCounterStopped=!1;for(let o of this._refreshers)if(o.shouldRefresh({elementId:e,placement:r,refreshLibraryItem:t})){o.fetchBids({elementId:e,placement:r,refreshLibraryItem:t}),this._logger.log(`Making bid ahead of time ${e}`);break}})}_refresh( _hh$temp360 ){ var e=_hh$temp360.refreshLibraryItem,t=_hh$temp360.elementId; this._refreshQueue.enqueue({elementId:t,refreshLibraryItem:e,refreshFn:()=>this._executeRefresh({elementId:t,refreshLibraryItem:e})})}_executeRefresh(s){return T(this,arguments,function*( _hh$temp361 ){ var e=_hh$temp361.refreshLibraryItem,t=_hh$temp361.elementId; let r=e.placement;e.refreshCounter=1,e.timesRefreshed+=1;for(let n of this._refreshers)if(n.shouldRefresh({elementId:t,placement:r,refreshLibraryItem:e})){n.refresh({elementId:t,placement:r,refreshLibraryItem:e});break}this._checkRefreshCap()})}resetCapCounter(){ let _hh$temp362=__arrayFrom$(Object.values(this._refreshLibrary.items)),e=_hh$temp362[0]; e&&(e.constructor.totalRefreshes=0,this._logger.log("Resetting refresh cap counter"))}};A.class(Id,{token:c.AD_REFRESHER,dependencies:[{token:c.WINDOW,alias:"win"},c.FREESTAR,c.DISPENSARY_DATA,c.EVENT_BUS,c.LOGGER,c.RENDER_BID_MIDWAY,c.GLOBAL_REFRESH_USER_IDS_STATE,c.GAM_MANAGER,c.REFRESH_LIBRARY,c.DEFAULT_REFRESHER,{token:c.SUPERFLEX_REFRESHER,optional:!0},{token:c.STICKY_FOOTER_REFRESHER,optional:!0},c.AD_BLOCK],factory:e=>T(void 0,[e],function*( _hh$temp363 ){ var i=_hh$temp363.dependencies; if(i.adBlock.adBlockerDetected)return new In(i,"Ad refresh is disabled when Ad blocker is on"); let _hh$temp364=ee().determineAdRefreshBehavior(),t=_hh$temp364.isRefreshAllowed; if(!t)return new In(i);let s=[i.defaultRefresher];return i.stickyFooterRefresher&&s.unshift(i.stickyFooterRefresher),i.superflexRefresher&&s.unshift(i.superflexRefresher),new Id(V(b({},i),{refreshers:s}))})})});var Ad,cy=h(()=>{Ad=class{constructor(){this.requiresRefresh=!0}reset(){this.requiresRefresh=!0}refresh(){this.requiresRefresh=!1,window.fsprebid.refreshUserIds()}}});var wd,bd,fy=h(()=>{ld();lt();cy();wd=class wd{constructor( _hh$temp365 ={}){ var e=_hh$temp365.placement,t=_hh$temp365.elementId,_hh$temp365$refreshAttributes=_hh$temp365.refreshAttributes,s=_hh$temp365$refreshAttributes===void 0?{}:_hh$temp365$refreshAttributes,r=_hh$temp365.siteRefreshRate,n=_hh$temp365.freestar,o=_hh$temp365.logger,_hh$temp365$win=_hh$temp365.win,a=_hh$temp365$win===void 0?window:_hh$temp365$win,d=_hh$temp365.enableRefreshCounterOutOfView,l=_hh$temp365.collapseEmptyDivs;  let _hh$temp366=s,f=_hh$temp366.refreshTime,u=_hh$temp366.isCounterStopped,p=_hh$temp366.refreshCounter,m=_hh$temp366.disableRefresh,E=_hh$temp366.pauseRefresh,S=_hh$temp366.intersectionRatio,I=_hh$temp366.checkingForBid,g=_hh$temp366.timesRefreshed,y=_hh$temp366.hasPrefetchCalled,R=_hh$temp366.hasIntersectLazyAd,M=_hh$temp366.refreshUserIds; if(this._freestar=n,this._logger=o,this.placement=e,this.placementName=e.name,this._siteRefreshRate=r,this.refreshTime=f||this._getPlacementAdRefreshRate(),this.isCounterStopped=u!=null?u:!1,this.checkingForBid=I!=null?I:!1,this.hasPrefetchCalled=y!=null?y:!1,this.pauseRefresh=E!=null?E:!1,this.refreshCounter=p!=null?p:0,this.intersectionRatio=S!=null?S:0,this._timesRefreshed=g!=null?g:0,this.hasIntersectLazyAd=R!=null?R:!1,this.elementId=t,this.observedElementId=l?`${t}_tracker`:t,this.enableRefreshCounterOutOfView=d!=null?d:!0,typeof m!="boolean"){this.disableRefresh=!1;let z=a.document.getElementById(t);(Number(z==null?void 0:z.getAttribute("data-refresh-time"))===-1||e.outOfPage===!0)&&(this.disableRefresh=!0)}else this.disableRefresh=m;this.refreshUserIds=M!=null?M:new Ad}canBeRefreshed(){var e,t;return!((e=this.placement)!=null&&e.lazyAd&&!this.hasIntersectLazyAd&&((t=this.placement.selectedSize)==null?void 0:t.lazyLoadViewportHeight)>0||this.disableRefresh||this.pauseRefresh)}toggleRefresh(e){this.disableRefresh=e,this.refreshTime=e?0:this._getPlacementAdRefreshRate()}setRefreshCounter(e){this.refreshCounter=e}setRefreshTime(e){this.refreshTime=e||this._getPlacementAdRefreshRate()}isVisibilityThresholdMet(){return this.intersectionRatio>kE}incrementCounter(){if(!(this.refreshCounter>=this.refreshTime)){if(isNaN(this.refreshCounter)){this.refreshCounter=1;return}this.refreshCounter+=1}}canIncrementCounter(){var t;return((t=this.placement)==null?void 0:t.lazyAd)&&!this.hasIntersectLazyAd?(this.refreshCounter=0,!1):this.disableRefresh||this.isCounterStopped||this.refreshTime<=0||this.refreshCounter<0||!this.enableRefreshCounterOutOfView&&!this.isVisibilityThresholdMet()?!1:(this._logger.log(`${this.elementId} ${this.refreshCounter}`),!0)}_getPlacementAdRefreshRate(){ let _hh$temp367=this.placement,e=_hh$temp367.ignoreSiteRefresh,t=_hh$temp367.adRefreshRate,s=e?t:this._siteRefreshRate; return this._getConfigOverrides({refreshRate:s})}_getConfigOverrides( _hh$temp368 ){ var e=_hh$temp368.refreshRate; var t;if(!this._freestar.config.products)return e;for(let s of UE){if(!((t=this._freestar.config.products)!=null&& __get$(t,s) )||!tt({placement:this.placement,type:`${s}Options`}))continue; let _hh$temp369=__get$(this._freestar.config.products,s),n=_hh$temp369.refreshDisabled,o=_hh$temp369.refreshInterval; if(n)return 0;if(o>15)return o}return e}get timesRefreshed(){return this._timesRefreshed}set timesRefreshed(e){wd.totalRefreshes+=e-this._timesRefreshed,this._timesRefreshed=e}};_(wd,"totalRefreshes",0);bd=wd});var Pf,uy=h(()=>{N();D();Fe();fy();Cf();kt();Pf=class{constructor( _hh$temp370 ){ var e=_hh$temp370.logger,t=_hh$temp370.dispensaryData,s=_hh$temp370.freestar,r=_hh$temp370.win; this._window=r,this._dispensaryData=t,this._logger=e,this._logger.setContext(fr),this._logger.setLevel(50),this._freestar=s,this._freestar.refreshLibrary=this.items={}}get count(){return this.items.length}get globalRefreshCount(){ let _hh$temp371=__arrayFrom$(Object.values(this.items)),e=_hh$temp371[0]; return(e==null?void 0:e.totalRefreshes)||0}getRefreshLibraryItem( _hh$temp372 ){ var e=_hh$temp372.slotId,t=_hh$temp372.placementName; var s;return(s= __get$(this.items,e) )!=null?s:Object.values(this.items).find(r=>r.placementName===t||r.observedElementId===e)}addToLibrary( _hh$temp373 ){ var e=_hh$temp373.elementId; var d;if(!yd({elementId:e}))return; let _hh$temp374=this._dispensaryData.fsdata,t=_hh$temp374.adRefreshRate,s=_hh$temp374.enableRefreshCounterOutOfView,r=_hh$temp374.placements,n=be({freestar:this._freestar,slotId:e}),o=r.find(l=>l.name===n); if(!o||((d=o.interstitialOptions)==null?void 0:d.active)===!0){this._logger.log(`Cannot find placement for AD slot: ${e}`,{level:20});return}let a= new bd({placement:o,elementId:e,refreshAttributes:__get$(this.items,e),siteRefreshRate:t,freestar:this._freestar,logger:this._logger,win:this._window,enableRefreshCounterOutOfView:s,collapseEmptyDivs:this._dispensaryData.fsdata.collapseEmptyDivs}) ;return  __call$(Object,"assign",[this.items,{[e]:a}]) , __get$(this.items,e) }removeFromLibrary( _hh$temp375 ){ var e=_hh$temp375.elementId;  __get$(this.items,e) &&delete this.items[e]}toggleRefreshForAll( _hh$temp376 ){ var e=_hh$temp376.disableRefresh; var t;for(let s in this.items)(t= __get$(this.items,s) )==null||t.toggleRefresh(e)}toggleRefreshForItem( _hh$temp377 ){ var e=_hh$temp377.slotId,t=_hh$temp377.placementName,s=_hh$temp377.disableRefresh; let r=this.getRefreshLibraryItem({slotId:e,placementName:t});r==null||r.toggleRefresh(s)}updateAllItems( _hh$temp378 ){ var e=_hh$temp378.attributes; for(let t in this.items){let s= __get$(this.items,t) ; __call$(Object,"assign",[s,e]) }}updateLibraryItem( _hh$temp379 ){ var e=_hh$temp379.slotId,t=_hh$temp379.placementName,s=_hh$temp379.attributes; let r=this.getRefreshLibraryItem({slotId:e,placementName:t});r&& __call$(Object,"assign",[r,s]) }clearLibrary(){for(let e in this.items)this.removeFromLibrary({elementId:e})}};A.class(Pf,{token:c.REFRESH_LIBRARY,dependencies:[{token:c.WINDOW,alias:"win"},c.FREESTAR,c.LOGGER,c.DISPENSARY_DATA]})});var Df,hy,Nf=h(()=>{Df={LANDSCAPE:"landscape",MOBILE:"mobile"},hy=1e3});var Tn,Mf=h(()=>{Nf();Tn= _hh$temp380=>{var i=_hh$temp380.width,e=_hh$temp380.height;return i>e?Df.LANDSCAPE:Df.MOBILE;} });var Lf,py=h(()=>{N();D();qe();At();di();Nf();he();Ke();Mf();Lf=class{constructor( _hh$temp381 ){ var e=_hh$temp381.dispensaryData,t=_hh$temp381.freestar,s=_hh$temp381.eventBus,r=_hh$temp381.adRefresher,n=_hh$temp381.gamManager,o=_hh$temp381.adSlotsManager,_hh$temp381$win=_hh$temp381.win,a=_hh$temp381$win===void 0?window:_hh$temp381$win; this._dispensaryData=e,this._freestar=t,this._adRefresher=r,this._eventBus=s,this._gamManager=n,this._adSlotManager=o,this._win=a,this.orientation=this._currentDeviceOrientation,this._shouldRecreateSlots=this._dispensaryData.fsdata.reorientationRefresh&&!this._freestar.config.disableReorientation&&[Ee,yi].indexOf(this._freestar.deviceInfo.device.type)>-1,this._shouldRecreateSlots&&!t.config.alwaysRefresh&&(t.config.alwaysRefresh=e.fsdata.placements.map( _hh$temp382=>{var d=_hh$temp382.name;return d;} )),this._subscribeToEvents()}_subscribeToEvents(){this._win.visualViewport.addEventListener("resize",ao(()=>{this.orientation!==this._currentDeviceOrientation&&(this.orientation=this._currentDeviceOrientation,this._eventBus.emit(dm,{orientation:this.orientation}),this._onOrientationChange())},hy))}_recreateSlot(e){this._adSlotManager.deleteAdSlots([e.name]);let t=this._gamManager.createSlot({placement:e,id:e.name});vi(t,e.name,{fs_ad_product:$e(e),fs_ad_optimization:qt(e)})}_onOrientationChange(){Td(),this._shouldRecreateSlots&&this._recreateSlots()}_recreateSlots(){let e=[],t=this._freestar.config.removeRefresh||[],s=this._freestar.config.alwaysRefresh||[];this._dispensaryData.fsdata.placements.forEach(r=>{document.getElementById(r.name)&&(this._freestar.config.enabled_slots&&this._freestar.config.enabled_slots.indexOf(r.name)>-1&&!r.stickyFooter&&t.indexOf(r.name)===-1?(this._recreateSlot(r),e.push(r.name)):s.indexOf(r.name)>-1&&(this._recreateSlot(r),e.push(r.name)))}),e.length&&this._adRefresher.refresh({elementIds:e})}get _currentDeviceOrientation(){let e=this._win.innerWidth||this._win.document.documentElement.clientWidth,t=this._win.innerHeight||this._win.document.documentElement.clientHeight;return Tn({width:e,height:t})}};A.class(Lf,{token:c.DEVICE_ORIENTATION_TRACKER,dependencies:[c.WINDOW,c.FREESTAR,c.DISPENSARY_DATA,c.EVENT_BUS,c.AD_REFRESHER,c.GAM_MANAGER,c.AD_SLOTS_MANAGER]})});var kf=h(()=>{py();Mf()});var Bf,my=h(()=>{N();D();Ke();kf();Bf=class{constructor( _hh$temp383 ){ var e=_hh$temp383.logger,t=_hh$temp383.adRefresher,s=_hh$temp383.dispensaryData,r=_hh$temp383.freestar,_hh$temp383$win=_hh$temp383.win,n=_hh$temp383$win===void 0?window:_hh$temp383$win; _(this,"keyboardIsOpen",!1);_(this,"resizeDelay",1e3);var o,a,d,l;!s.fsdata.pauseRefreshOnVirtualKeyboard||[Ee,yi].indexOf(r.deviceInfo.device.type)===-1||(this._freestar=r,this._adRefresher=t,this._logger=e,this._logger.setContext(c.VIRTUAL_KEYBOARD_REFRESH_CONTROL),this._win=n,this.initialOrientation=Tn({width:(a=(o=this._win)==null?void 0:o.visualViewport)==null?void 0:a.clientWidth,height:(l=(d=this._win)==null?void 0:d.visualViewport)==null?void 0:l.clientHeight}),this.maxViewportHeight=this._getMaxViewportHeight(),this._attachListeners())}_attachListeners(){this._win.visualViewport.addEventListener("resize",e=>this.onResizeDelayed(e))}_getMaxViewportHeight(){let e=document.createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="1px",e.style.height="100svh",e.style.visibility="hidden",document.body.appendChild(e);let t=e.offsetHeight;return e.remove(),t}onResizeDelayed(){this.keyboardIsOpen?(clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this._onResize()},this._freestar.keyboardRefreshControlDelay||this.resizeDelay)):(clearTimeout(this.resizeTimeout),this._onResize())}_onResize(){var s,r;let e=this._win.visualViewport.height,t=Tn({width:(s=document==null?void 0:document.documentElement)==null?void 0:s.clientWidth,height:(r=document==null?void 0:document.documentElement)==null?void 0:r.clientHeight});t!==this.initialOrientation?(this.initialOrientation=t,this.maxViewportHeight=this._getMaxViewportHeight()):e>this.maxViewportHeight&&(this.maxViewportHeight=e),e<.9*this.maxViewportHeight?this.keyboardIsOpen||(this.keyboardIsOpen=!0,this.onKeyboardOpen()):this.keyboardIsOpen&&(this.keyboardIsOpen=!1,this.onKeyboardClose())}onKeyboardOpen(){this._logger.log("Keyboard opened, pausing ad refresh."),this._adRefresher.pause()}onKeyboardClose(){this._logger.log("Keyboard closed, resuming ad refresh."),this._adRefresher.resume()}};A.class(Bf,{token:c.VIRTUAL_KEYBOARD_REFRESH_CONTROL,dependencies:[c.LOGGER,c.AD_REFRESHER,c.DISPENSARY_DATA,c.FREESTAR,{token:"window",alias:"win"}]})});function pr( _hh$temp384 ){ var i=_hh$temp384.placement,_hh$temp384$product=_hh$temp384.product,e=_hh$temp384$product===void 0?void 0:_hh$temp384$product,_hh$temp384$callback=_hh$temp384.callback,t=_hh$temp384$callback===void 0?void 0:_hh$temp384$callback,_hh$temp384$timeout=_hh$temp384.timeout,s=_hh$temp384$timeout===void 0?!1:_hh$temp384$timeout,_hh$temp384$timestamp=_hh$temp384.timestamp,r=_hh$temp384$timestamp===void 0?!1:_hh$temp384$timestamp; this.placement=i,this.product=e,this.productKey=e+"Options",this.timeout=s,this.timestamp=r,this.resetIteration=()=>{this.iteration=0,sessionStorage.setItem(this.key,this.iteration.toString()),freestar.log(1,"Frequency Cap : reset iteration")},this.cleanUpIfTimedOut=()=>{this.timeout&&Date.now()-this.timestamp>=this.timeout&&(this.resetIteration(),this.timestamp=Date.now())},this.incrementIteration=()=>{this.iteration++,sessionStorage.setItem(this.key,this.iteration.toString())},this.subtractIteration=()=>{freestar.log(1,"Frequency Cap : iteration will remove this attempt as an iteration. Setting new sessionStorage item value."),this.iteration--,sessionStorage.setItem(this.key,this.iteration.toString())},this.fetchCap=()=> __get$(this.placement,this.productKey) && __get$(i,this.productKey) .cap>0? __get$(i,this.productKey) .cap:-1,this.fetchIteration=()=>{let n=sessionStorage.getItem(this.key);return Number(n)?Number(n):0},this.allowProduct=()=>this.cap>0?this.iteration>=this.cap?(freestar.log(1,`Frequency Cap: iteration of ${this.iteration} is higher than cap of ${this.cap}. ${this.product} will not run again until the ${this.timeout?"timeout":"session"} ends.`),!1):(freestar.log(1,`Frequency Cap: iteration of ${this.iteration+1} is lower than or equal to the cap of ${this.cap}. Continue with ${this.product}.`),!0):!1,this.cap=this.fetchCap(),this.key=`fs.${this.product}.${this.placement.name}.frequencycap`,this.iteration=this.fetchIteration(),this.callback=t}function gy(i){let e=be({slotId:i.slot.getSlotElementId()});e&& __get$(freestar.frequencyLibrary,e) && __get$(freestar.frequencyLibrary,e) .cap&&(i.isEmpty?i.isEmpty&& __get$(freestar.frequencyLibrary,e) .callback&& __get$(freestar.frequencyLibrary,e) .callback(!0): __get$(freestar.frequencyLibrary,e) .incrementIteration())}var vn=h(()=>{Fe()});var Rn,fG,_y,Ff,Ey,yy,Uf=h(()=>{Rn="rbm",fG=`fs.${Rn}`,_y=["ttd","ttdfsx","ttds2s"],Ff="RENDER BID MIDWAY V1.0.0",Ey={title:Ff,styles:"background: black; color: white; border-radius: 3px; padding: 3px"},yy=1});var On,Sy,Iy,Ay=h(()=>{Uf();Ce();it();On={blockedSiteIDs:[1575,1910,1748,1841,6326,2410,1783,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1985,2095,2132,2170,2232,2244,2511,5491,1756,2372,1556,2086,2087,2192,2193,2194,2195,2196,2197,2198,2199,2200,2201,2202,2203,2204,2205,2206,2207,2208,2209,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2426,3516,5344,3107,3108,3109,3110,3111,3234,6152,6603,1556,1495,6302],default:{percentage:.4},siteSpecific:[{activeSiteIds:[6615,6125,533],percentage:.5},{activeSiteIds:[5926,5927,5928,5929,5930,5931,5932,5933,5934,5935,5936,5937,5938,5939,5940,5941,5942,5943,5944,5960],percentage:2},{activeSiteIds:[7185],percentage:.4,timeout:60*1e3*5}]},Sy=()=>{let i=JSON.parse(j({key:`fs.${Rn}`}))||{};if(!On.blockedSiteIDs.includes(freestar.fsdata.siteId)&&typeof i.inTest=="undefined"){let e=On.siteSpecific.filter(r=>{if(r.activeSiteIds.includes(freestar.fsdata.siteId))return r}).shift(),t=(e==null?void 0:e.percentage)||On.default.percentage,s=Math.random();i.inTest=s<t,e!=null&&e.timeout&&(i.timeout=e==null?void 0:e.timeout,i.timestamp=Date.now()),ve({key:`fs.${Rn}`,value:i,type:Y.object})}return i.inTest&&i.side===1&&freestar.log(Ey,"Session is participating in test..."),$(`fs-use-${Rn}`)||i.inTest},Iy=()=>On.siteSpecific.filter(e=>{if(e.activeSiteIds.includes(freestar.fsdata.siteId))return e}).shift()||On.default});var Gf,Vf,by=h(()=>{N();D();Pi();st();vn();Uf();Ay();Gf=class{constructor( _hh$temp385 ){ var e=_hh$temp385.placement,t=_hh$temp385.nativeRenderManager,_hh$temp385$prebid=_hh$temp385.prebid,s=_hh$temp385$prebid===void 0?null:_hh$temp385$prebid,r=_hh$temp385.logger,n=_hh$temp385.analytics; this.placement=e,this.prebid=s,this._analytics=n,this._logger=r,this._nativeRenderManager=t,this.placement.rbmOptions={cap:yy};let o=Iy();this.frequencyCapManager=new pr({placement:this.placement,product:"rbm",timeout:o==null?void 0:o.timeout,timestamp:o==null?void 0:o.timestamp})}renderAd(){if(!this.prebid||(this.frequencyCapManager.cleanUpIfTimedOut(),this._logger.log([this.prebid.code,`Can render an ad? ${this.frequencyCapManager.allowProduct()}`]),!this.frequencyCapManager.allowProduct()))return;let e=this._nativeRenderManager.getHighestBid(this.prebid.code,_y);this._logger.log([this.prebid.code,`Found an ad?? ${!!e}`]),e&&this._nativeRenderManager.renderAd(e,this.prebid.code).then(()=>{this.frequencyCapManager.incrementIteration(); let _hh$temp386=e,t=_hh$temp386.adId; this._analytics.track(new Z({eventName:"RENDER_BID_MIDWAY",eventType:"SUCCESS",data:{adId:t}}))}).catch(t=>{this._logger.log([this.prebid.code,`Error native rendering prebid ad: ${t}`])})}},Vf=class{constructor( _hh$temp387 ){ var e=_hh$temp387.nativeRenderManager,t=_hh$temp387.logger,s=_hh$temp387.analytics; this._nativeRenderManager=e,this._logger=t,this._analytics=s,this._logger.setContext(Ff),this.trackers={}}renderAd( _hh$temp388 ){ var e=_hh$temp388.elementId; if(Sy())try{if(!this._nativeRenderManager.isEnabled){this._logger.log("Native render is not enabled");return}let t=this.getAdUnit(e);if(!t){this._logger.log(`No adUnit found for elementId: ${e}`);return} let _hh$temp389=t,s=_hh$temp389.placement,r=_hh$temp389.prebid; if(!(s!=null&&s.name)){this._logger.log(`Invalid placement for elementId: ${e}`);return}this.ensureTracker(s,r), __get$(this.trackers,s.name) .renderAd()}catch(t){this._logger.log(`Error in renderAd: ${t.message}`)}}getAdUnit(e){return this.adUnitManager||(this.adUnitManager=de),this.adUnitManager.getAdUnitBySlotElementId(e)||this.adUnitManager.getAdUnitByPrebidCode(e)}ensureTracker(e,t){ __get$(this.trackers,e.name) ||( __set$(this.trackers,e.name,new Gf({placement:e,prebid:t,nativeRenderManager:this._nativeRenderManager,logger:this._logger,analytics:this._analytics})) )}};A.class(Vf,{token:c.RENDER_BID_MIDWAY,dependencies:[c.NATIVE_RENDER_MANAGER,c.LOGGER,c.ANALYTICS]})});var IT,zf,wy=h(()=>{N();D();IT=6e3,zf=class{constructor(){this.lastRefreshTime=0}allowed(){return Date.now()-this.lastRefreshTime>IT}updateLastRefreshTime(){this.lastRefreshTime=Date.now()}};A.class(zf,{token:c.GLOBAL_REFRESH_USER_IDS_STATE})});var Bi,vd=h(()=>{Bi=class{constructor(){_(this,"_bidRequestLibrary",new Map)}getSignal(e){return this._bidRequestLibrary.has(e)&&(this._bidRequestLibrary.get(e).reject(),this._bidRequestLibrary.delete(e)),new Promise((t,s)=>{this._bidRequestLibrary.set(e,{resolve:t,reject:s})})}getPendingRequest(e){return this._bidRequestLibrary.has(e)?()=>{this._bidRequestLibrary.get(e).resolve(),this._bidRequestLibrary.delete(e)}:null}shouldRefresh(){return!0}fetchBids(){}refresh(){}}});var Hf,Ty=h(()=>{vd();Q();N();D();Hf=class extends Bi{constructor( _hh$temp390 ){ var e=_hh$temp390.gamManager,t=_hh$temp390.logger,s=_hh$temp390.freestar,r=_hh$temp390.rebidManager,n=_hh$temp390.bidsManager; super(),this._gamManager=e,this._freestar=s,this._logger=t,this._rebidManager=r,this._bidsManager=n}fetchBids( _hh$temp391 ){ var e=_hh$temp391.elementId,t=_hh$temp391.refreshLibraryItem; let s=this.getSignal(e);t.dataRefreshId=Ae(),this._freestar.refreshSlots.push({refreshId:t.dataRefreshId});let r=this._gamManager.instance.pubads().getSlots().find(n=>n.getSlotElementId()===e);this._bidsManager.requestBids({elementIds:[e],slots:[r],sendAdserverSignal:s})}refresh( _hh$temp392 ){ var e=_hh$temp392.elementId,t=_hh$temp392.refreshLibraryItem; var n;this._logger.log(`freestar.refresh ${e}`),this._rebidManager.reset({elementId:e}),t.setRefreshTime();let s=this._gamManager.instance.pubads().getSlots().find(o=>o.getSlotElementId()===e);this._gamManager.setSlotTargeting({slot:s,key:"fsrefresh",value:(n=t.timesRefreshed)!=null?n:0});let r=this.getPendingRequest(e);typeof r=="function"?r():(t.dataRefreshId=Ae(),this._freestar.refreshSlots.push({refreshId:t.dataRefreshId}),this._bidsManager.requestBids({elementIds:[e],slots:[s]}))}};A.class(Hf,{token:c.DEFAULT_REFRESHER,dependencies:[c.FREESTAR,c.LOGGER,c.REBID_MANAGER,c.GAM_MANAGER,c.BIDS_MANAGER]})});var vy=h(()=>{ly();uy();my();by();wy();Ty();xf()});var $f,Ry=h(()=>{Q();Fe();D();As();Zs();N();$s();He();$f=class{constructor( _hh$temp393 ){ var e=_hh$temp393.bidsManager,t=_hh$temp393.analytics,s=_hh$temp393.gamManager,r=_hh$temp393.logger; this._bidsManager=e,this._gamManager=s,this._analytics=t,this._logger=r,this._logger.setContext(c.REBID_MANAGER),this._idealAdStackManager=ee(),this.map={}}getStatus( _hh$temp394 ){ var _hh$temp394$adUnitCode=_hh$temp394.adUnitCode,e=_hh$temp394$adUnitCode===void 0?null:_hh$temp394$adUnitCode; if(e)return this.getStatusByAdUnitCode({adUnitCode:e})}getStatusByAdUnitCode( _hh$temp395 ){ var e=_hh$temp395.adUnitCode; return  __get$(this.map,e) }isAbleToRebid( _hh$temp396 ){ var e=_hh$temp396.elementId; return  __get$(this.map,e) ? __get$(this.map,e) .count<1:!0}isValidPlacement( _hh$temp397 ){ var _hh$temp397$placement=_hh$temp397.placement,e=_hh$temp397$placement===void 0?!1:_hh$temp397$placement; return e&&!e.interstitialOptions.active}rebid( _hh$temp398 ){ var e=_hh$temp398.elementId,t=_hh$temp398.slot; this._logger.log(`Rebidding for ${e}`),this._bidsManager.requestBids({elementIds:[e],slots:t})}handleAdBlocked( _hh$temp399 ){ var e=_hh$temp399.elementId; if(!this._idealAdStackManager.isRebidAllowed()){this._logger.log(`DAS rebid rules prevent rebid for blocked ad on ${e}`);return}if(!this.isAbleToRebid({elementId:e})){this._logger.log(`Blocked ad rebid attempts exceeded for ${e}`);return}this.track({elementId:e});let t=ie({name:be({slotId:e})}),s=this._gamManager.instance.pubads().getSlots().find(r=>r.getSlotElementId()===e);s&&this.updateKeyValues({slot:s,data:{[ge.REBID]:String( __get$(this.map,e) .count)}}),Mt().getFloorsData({placement:t,slotId:e,callback:( _hh$temp400 )=>{ var r=_hh$temp400.result; this._logger.log(`Floors called for rebid for blocked ad on ${t.name}`),r&&this._gamManager.setSlotTargeting({slot:s,value:r}),this.rebid({elementId:e,slot:s})},isRebid:!0})}handleNoBidScenario(e,t){ let _hh$temp401=e,s=_hh$temp401.slot,r=ie({name:be({slotId:t})}); if(this._analytics.track(new Z({eventName:`EVENT_IS_EMPTY_CAN_REBID=${this.isValidPlacement({placement:r})&&this.isAbleToRebid({elementId:t})}`,eventType:"REBID",data:{event:e}})),!!this.isValidPlacement({placement:r})){if(this.isAbleToRebid({elementId:t})){this.track({elementId:t}),this.updateKeyValues({slot:s,data:{[ge.REBID]:String( __get$(this.map,t) .count)}}),Mt().getFloorsData({placement:r,slotId:t,callback:( _hh$temp402 )=>{ var n=_hh$temp402.result; this._logger.log(`Floors called for rebid for blocked ad on ${r.name}`),n&&this._gamManager.setSlotTargeting({slot:s,value:n}),this.rebid({elementId:t,slot:s})},isRebid:!0});return}this._logger.log(`Rebid attempts exceeded ${t}`),this.reset({elementId:t})}}resetRebidStatus(e){ __get$(this.map,e) &&(this.reset({elementId:e}),this._logger.log(`Rebid successful ${e}`))}reset( _hh$temp403 ){ var e=_hh$temp403.elementId; let t=this._gamManager.getSlot({elementId:e});t&&this.updateKeyValues({slot:t,data:{[ge.REBID]:"0"}}),delete this.map[e]}track( _hh$temp404 ){ var e=_hh$temp404.elementId,_hh$temp404$type=_hh$temp404.type,t=_hh$temp404$type===void 0?"EMPTYRESPONSE":_hh$temp404$type;  __get$(this.map,e) ||( __set$(this.map,e,{count:0,type:t}) ), __get$(this.map,e) .count+=1}updateKeyValues( _hh$temp405 ){ var e=_hh$temp405.slot,t=_hh$temp405.data; this._gamManager.setSlotTargeting({slot:e,value:t})}};A.class($f,{token:c.REBID_MANAGER,dependencies:[c.BIDS_MANAGER,c.ANALYTICS,c.LOGGER,c.GAM_MANAGER]})});var Oy=h(()=>{Ry()});var Cy=h(()=>{Ce();wi();ms()});var xy,Py=h(()=>{xy={sampleInterval:6e4,maxSnapshots:180,warningThresholdMb:200,criticalThresholdMb:500,minLeakThreshold:512e3}});var Fi,Dy=h(()=>{Fi=i=>{let e=["B","KB","MB","GB"],t=i,s=0;for(;t>=1024&&s<e.length-1;)t=t/1024,s++;return`${t.toFixed(2)} ${ __get$(e,s) }`}});var Rd,Ny=h(()=>{Py();D();As();Ce();wi();Dy();N();Rd=class{constructor(e){this._logger=e.logger,this._logger.setContext(c.MEMORY_MONITOR),this._analytics=e.analytics,this._deviceInfo=e.deviceInfo,this._geoInfo=e.geoInfo,this._refreshLibrary=e.refreshLibrary;let s=!!j({key:fs}),r=window.performance&&window.performance.memory,n=s||Math.random()<=.05;if(!r||!n){this.enabled=!1,this.intervalId=null;return}this.enabled=!0,this.snapshots=[],this.intervalId=null,this.options=b({},xy)}start(){this.enabled&&(this._takeSnapshot(),this.intervalId||(this.intervalId=setInterval(()=>this._takeSnapshot(),this.options.sampleInterval)))}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}_getDisplayedAdsCount(){var s;let e=Object.keys(((s=window==null?void 0:window.freestar)==null?void 0:s.refreshLibrary)||{}).length||0,t=this._refreshLibrary.globalRefreshCount;return e+t}_getMemoryUsage(){ let _hh$temp406=(window.performance&&window.performance.memory)||{},_hh$temp406$usedJSHeapSize=_hh$temp406.usedJSHeapSize,e=_hh$temp406$usedJSHeapSize===void 0?0:_hh$temp406$usedJSHeapSize,_hh$temp406$totalJSHeapSize=_hh$temp406.totalJSHeapSize,t=_hh$temp406$totalJSHeapSize===void 0?0:_hh$temp406$totalJSHeapSize,_hh$temp406$jsHeapSizeLimit=_hh$temp406.jsHeapSizeLimit,s=_hh$temp406$jsHeapSizeLimit===void 0?0:_hh$temp406$jsHeapSizeLimit; return{usedJSHeapSize:e,totalJSHeapSize:t,jsHeapSizeLimit:s}}_takeSnapshot(){let e=this._getMemoryUsage(),t=Date.now();if(this.snapshots.length>0){let s= __get$(this.snapshots,this.snapshots.length-1) ,r=(t-s.timestamp)/1e3,n=e.usedJSHeapSize-s.usedJSHeapSize,o=1024*1024,a=n/r/o,d=a*60;this._trackGrowthRate({currentUsage:e.usedJSHeapSize,previousUsage:s.usedJSHeapSize,memoryDiff:n,growthRatePerSecond:a,growthRatePerMinute:d,timeDiffSeconds:r})}this.snapshots.push(b({timestamp:t},e)),this.snapshots.length>this.options.maxSnapshots&&this.snapshots.shift(),e.usedJSHeapSize>this.options.criticalThresholdMb*1024*1024?this._handleCriticalMemory(e):e.usedJSHeapSize>this.options.warningThresholdMb*1024*1024&&this._handleWarningMemory(e)}_trackGrowthRate( _hh$temp407 ){ var e=_hh$temp407.currentUsage,t=_hh$temp407.previousUsage,s=_hh$temp407.memoryDiff,r=_hh$temp407.growthRatePerSecond,n=_hh$temp407.growthRatePerMinute,o=_hh$temp407.timeDiffSeconds; let a=this._formatDeviceInfo(),d=this._getDisplayedAdsCount(),l=new Z({eventName:"MEMORY_MONITOR",eventType:"GROWTH_RATE",data:{currentUsage:e,previousUsage:t,memoryDiff:s,growthRatePerSecond:r.toFixed(2),growthRatePerMinute:n.toFixed(2),timeDiffSeconds:o,currentUsageFormatted:Fi(e),deviceInfo:a,timestamp:Date.now(),adsCount:d}});this._analytics.track(l)}_detectMemoryLeak(){if(this.snapshots.length<3)return null;let e=this.snapshots.slice(-3),t=[];for(let r=1;r<e.length;r++){let n= __get$(e,r-1) ,o= __get$(e,r) ,a=(o.timestamp-n.timestamp)/1e3,l=(o.usedJSHeapSize-n.usedJSHeapSize)/a;t.push(l)}return t.every(r=>r>this.options.minLeakThreshold)?{averageGrowthRate:t.reduce((r,n)=>r+n,0)/t.length,lastSnapshot: __get$(this.snapshots,this.snapshots.length-1) }:null}getReport(){if(this.snapshots.length===0)return null;let e= __get$(this.snapshots,this.snapshots.length-1) ,t=this.snapshots[0],s=e.usedJSHeapSize-t.usedJSHeapSize,r=(e.timestamp-t.timestamp)/1e3;return{currentUsage:Fi(e.usedJSHeapSize),totalGrowth:Fi(s),growthRate:Fi(s/r)+"/s",snapshots:this.snapshots,potentialLeak:this._detectMemoryLeak()}}_handleWarningMemory(e){this._logger.log(`Memory usage warning: ${Fi(e.usedJSHeapSize)}`)}_handleCriticalMemory(e){this._logger.log(`Critical memory usage: ${Fi(e.usedJSHeapSize)}`);let t=this._formatDeviceInfo(),s=this._getDisplayedAdsCount();this._analytics.track(new Z({eventName:"MEMORY_MONITOR",eventType:"CRITICAL",data:{usedJSHeapSize:e.usedJSHeapSize,totalJSHeapSize:e.totalJSHeapSize,jsHeapSizeLimit:e.jsHeapSizeLimit,formattedUsed:Fi(e.usedJSHeapSize),deviceInfo:t,timestamp:Date.now(),adsCount:s}}))}_formatDeviceInfo(){var t,s,r,n,o,a,d,l;let e=(t=this._geoInfo)==null?void 0:t.iso;return{browser:{name:(s=this._deviceInfo.browser)==null?void 0:s.name,version:(r=this._deviceInfo.browser)==null?void 0:r.version},device:{type:(n=this._deviceInfo.device)==null?void 0:n.type,os:(o=this._deviceInfo.os)==null?void 0:o.name,osVersion:(a=this._deviceInfo.os)==null?void 0:a.version},engine:{name:(d=this._deviceInfo.engine)==null?void 0:d.name,version:(l=this._deviceInfo.engine)==null?void 0:l.version},geo:{country:e}}}};A.class(Rd,{token:c.MEMORY_MONITOR,defaultAlias:"memoryMonitor",dependencies:[c.LOGGER,c.FREESTAR,c.ANALYTICS,c.DEVICE_INFO,c.GEO_INFO,c.REFRESH_LIBRARY],factory: _hh$temp408=>{var i=_hh$temp408.dependencies;return new Rd(i);} })});var My=h(()=>{Cy();Ny()});var Ui,Od=h(()=>{Ui=class{getElement(){throw new Error("Method not implemented.")}destroy(){}get enabled(){return!0}}});var AT,Cd,qf,Yf,Ly=h(()=>{N();Od();et();le();D();At();ue();ea();dc();ns();AT="fsbranding",Cd=class extends Ui{constructor( _hh$temp409 ){ var e=_hh$temp409.placement,t=_hh$temp409.dispensaryData,_hh$temp409$win=_hh$temp409.win,s=_hh$temp409$win===void 0?window:_hh$temp409$win; super(),this._win=s,this._placement=e,this._dispensaryData=t}get enabled(){return!!this.getLogoUrl(this._placement)}getElement(){return this.enabled?w({type:"a",style:{color:"#999"},attributes:{href:this.getLink(this._placement),target:"_blank",rel:"noreferrer"},textContent:"Freestar.com"},this._win.document):null}getLogoUrl(){var r,n,o;let e=$(AT,this._win);if((r=this._placement)!=null&&r.freestarBrandingDisabled&&!e)return null; let _hh$temp410=this._dispensaryData.fsdata,t=_hh$temp410.branding,s=dn(t); return e&&(s=dn(Le.GREEN)),(o=(n=this._placement)==null?void 0:n.stickyFooterOptions)!=null&&o.active?s:[Le.GREEN_FOOTER_ONLY,Le.GRAYSCALE_FOOTER_ONLY].includes(t)?null:s}getLink(e){let t=$e(e);return`https://ads.${Ei}/?${new URLSearchParams({[Jr]:"branding",[Qr]:t,[Kr]:this._dispensaryData.fsdata.domain,[Zr]:e.name}).toString()}`}},qf=class extends Cd{getElement(){let e=this.getLogoUrl(this._placement);return e?w({type:"div",classList:["__fs-branding"],children:[w({type:"a",attributes:{href:this.getLink(this._placement),target:"_blank",rel:"noreferrer"},children:[w({type:"img",src:e,attributes:{alt:"freestar",width:"14",height:"14"}},this._win.document)]},this._win.document)]},this._win.document):null}},Yf=class{constructor( _hh$temp411 ){ var e=_hh$temp411.dispensaryData,t=_hh$temp411.win; this._dispensaryData=e,this._win=t}createLink(e){return new Cd(this._getParams(e))}createIcon(e){return new qf(this._getParams(e))}getGlobalBranding(){ let _hh$temp412=this._dispensaryData.fsdata,e=_hh$temp412.branding; return!e||[Le.NO_BRANDING,Le.GRAYSCALE_FOOTER_ONLY,Le.GREEN_FOOTER_ONLY].includes(e)?null:e}_getParams(e){return{placement:e,dispensaryData:this._dispensaryData,win:this._win}}};A.class(Yf,{token:c.BRANDING,dependencies:[c.DISPENSARY_DATA,{token:c.WINDOW,alias:"win"}]})});var jf,bT,xd,Wf,Kf,Qf,ky=h(()=>{N();Od();et();le();D();Wr();jf="Report This Ad",bT="fsreportad",xd=class extends Ui{constructor( _hh$temp413 ){ var t=_hh$temp413.id,s=_hh$temp413.placement,r=_hh$temp413.confiantReportThisAdEnabled,n=_hh$temp413.idealAdStackManager,o=_hh$temp413.confiant,_hh$temp413$win=_hh$temp413.win,a=_hh$temp413$win===void 0?window:_hh$temp413$win; super();_(this,"_report",t=>{t.preventDefault(),t.stopPropagation(),this._confiant.reportSingleAd(this._id)});this.placement=s,this._confiantReportThisAdEnabled=r,this._confiant=o,this._id=t,this._win=a,this._idealAdStackManager=n,this._abortController=new AbortController,this._createElement()}getElement(){return this._element}destroy(){var t;this._abortController.abort(),(t=this._element)==null||t.remove(),this._element=null}_createElement(){throw new Error("Method not implemented.")}get enabled(){var s,r;return $(bT,this._win)?!0:(r=(s=this.placement)==null?void 0:s.adQualityOptions)!=null&&r.disabled?!1:!!(ho()==="CONFIANT"&&this._confiantReportThisAdEnabled&&this._idealAdStackManager.allowConfiant())}},Wf=class extends xd{_createElement(){this.enabled&&(this._element=w({type:"button",classList:["fs-report-ad-button"],attributes:{"aria-label":jf},innerHTML:jf},this._win.document),this._element.addEventListener("click",this._report,{signal:this._abortController.signal}))}},Kf=class extends xd{_createElement(){if(!this.enabled)return null;let e=w({type:"button",classList:["fs-report-ad-button-icon"],attributes:{"aria-label":jf}},this._win.document);e.addEventListener("click",this._report,{signal:this._abortController.signal}),this._element=w({children:[e]},this._win.document)}},Qf=class{constructor( _hh$temp414 ){ var e=_hh$temp414.dispensaryData,t=_hh$temp414.win,s=_hh$temp414.idealAdStackManager,r=_hh$temp414.adQualityManager; var n,o;this._confiant=r.provider,this._win=t,this._idealAdStackManager=s,this._confiantReportThisAdEnabled=(o=(n=e.fsdata)==null?void 0:n.adQualityOptions)==null?void 0:o.confiantReportThisAdEnabled}createTextButton(e,t){return new Wf(this._getParams(e,t))}createIconButton(e,t){return new Kf(this._getParams(e,t))}_getParams(e,t){return{id:e,placement:t,confiant:this._confiant,confiantReportThisAdEnabled:this._confiantReportThisAdEnabled,win:this._win,idealAdStackManager:this._idealAdStackManager}}};A.class(Qf,{token:c.REPORT_AD,dependencies:[c.DISPENSARY_DATA,c.IDEAL_AD_STACK_MANAGER,{token:c.WINDOW,alias:"win"},c.AD_QUALITY_MANAGER]})});var Pd,Jf,Zf,Xf,By=h(()=>{N();Od();Fe();D();zs();rn();Wt();Q();sd();Pd=class extends Ui{constructor(e=window){super(),this._win=e}getElement(){return w({classList:["fs-branding-spacer"]},this._win.document)}},Jf=class{constructor(e=[]){this._element=null,this._components=e}getElement(){return this._element}hide(){this._element&&(this._element.style.visibility="hidden")}show(){this._element&&(this._element.style.visibility="visible")}destroy(){var e;this._components.forEach(t=>t.destroy()),(e=this._element)==null||e.remove(),this._element=null,this._components=[]}},Zf=class extends Jf{constructor(e=[],t=window){super(e);let s=this._components.flatMap(r=>r!=null&&r.enabled?r:[]);!s.length||s.every(r=>r instanceof Pd)||(this._element=w({classList:["__fs-ancillary"],style:{visibility:"hidden"},children:s.map(r=>r.getElement())},t.document))}},Xf=class{constructor( _hh$temp415 ){ var e=_hh$temp415.freestar,t=_hh$temp415.gamManager,s=_hh$temp415.branding,r=_hh$temp415.reportAd,n=_hh$temp415.win; this._freestar=e,this._gamManager=t,this._branding=s,this._reportAd=r,this._win=n,this._items=new Map,this._handleSlotEvents()}_handleSlotEvents(){this._gamManager.instance.pubads().addEventListener(xe,e=>{let t=e.slot.getSlotElementId(),s=this._win.document.getElementById(t),r=s==null?void 0:s.querySelector(`#${CSS.escape(t)} > div[id*="google_ads_iframe_"]`);this.create({id:t,placement:ie({name:be({slotId:t})}),container:r})}),this._gamManager.instance.pubads().addEventListener(Nt,e=>{let t=e.slot.getSlotElementId();this.hide(t)})}create( _hh$temp416 ){ var e=_hh$temp416.id,t=_hh$temp416.placement,s=_hh$temp416.container; var f,u;if([e,t,s,this.isEnabled({id:e,placement:t})].some(p=>!p))return;let r=this._items.get(e),n=s.querySelector("__fs-ancillary");if(r&&n){r.show();return}r==null||r.hide(),r==null||r.destroy(),n==null||n.remove();let o=(f=this._branding)==null?void 0:f.createIcon(t),a=(u=this._reportAd)==null?void 0:u.createTextButton(e,t),d=new Zf([o,new Pd(this._win),a],this._win);if(n=d.getElement(),!n)return;this._items.set(e,d),s.appendChild(n); let _hh$temp417=__arrayFrom$(s.getElementsByTagName("iframe")||[]),l=_hh$temp417[0]; l&&SE(l).then(()=>{d.show()}).catch(()=>{freestar.log(20,"Not applying ancillary, target Iframe is too small",l)})}get(e){return this._items.get(e)||null}show(e){let t=this._items.get(e);t&&t.show()}hide(e){let t=this._items.get(e);t&&t.hide()}isEnabled( _hh$temp418 ){ var e=_hh$temp418.id,t=_hh$temp418.placement; if(t&&(tn(t)||Jg(t.sizes||[])))return!1;if(e){let s=this._win.document.getElementById(e);return(s==null?void 0:s.getAttribute(Vs))!=="false"}return!0}};A.class(Xf,{token:c.ANCILLARY,dependencies:[c.GAM_MANAGER,c.BRANDING,c.REPORT_AD,{token:c.WINDOW,alias:"win"}]})});function Fy(i={},e={}){return!!(i.isCoppaInventory||e.isCOPPA)}var Dd,eu=h(()=>{Dd=class{constructor(e,t,s){this.isCoppaInventory=!1,this.global=e,this.prebid=s,this._gamManager=t}init(){var e;(e=this.global.config)!=null&&e.isCOPPA&&this.global.config.isCOPPA===!0&&this.set()}set(){this.isCoppaInventory=!0,this.logMethodCall("set"),this.updatePrebidJs(),this.updateGAM()}unset(){this.isCoppaInventory=!1,this.logMethodCall("unset"),this.updatePrebidJs(),this.updateGAM()}info(){return this.global.log("COPPA status is set to "+this.isCoppaInventory),this.isCoppaInventory}logMethodCall(e){this.global.log(`COPPA method ${e} called at ${new Date().toISOString()}`)}updatePrebidJs(){this.prebid&&this.prebid.setConfig({coppa:this.isCoppaInventory})}updateGAM(){this._gamManager.setCoppa(this.isCoppaInventory)}}});var Nd,Gi,Uy,Gy,tu=h(()=>{Nd="amazon",Gi="apstag",Uy="//c.amazon-adsystem.com/aax2/apstag.js",Gy="0ab198dd-b265-462a-ae36-74e163ad6159"});var iu,Vy=h(()=>{N();D();He();eu();he();ue();Ed();tu();qe();Q();ss();Pi();st();ln();N();Wt();jt();le();iu=class{constructor( _hh$temp419 ){ var e=_hh$temp419.freestar,t=_hh$temp419.dispensaryData,_hh$temp419$win=_hh$temp419.win,s=_hh$temp419$win===void 0?window:_hh$temp419$win,r=_hh$temp419.gamManager,n=_hh$temp419.idealAdStackManager,o=_hh$temp419.analytics,a=_hh$temp419.logger; this._freestar=e,this._dispensaryData=t,this._idealAdStackManager=n(),this._window=s,this._instance=null,this.isEnabled=!1,this._analytics=o,this._gamManager=r,this._bids={},this._seen=new Set,this._logger=a}get instance(){if(!this._instance)throw new Error("Amazon is disabled or haven't been initiated.");return this._instance}init(){return T(this,null,function*(){return  new Promise(e=>{var t;if(this._idealAdStackManager.getBypassFirstAuction())e(this);else{let s=this._dispensaryData.fsdata.networks.find(_hh$temp420=>{var r=_hh$temp420.slug;return r===Nd;});if(s&&!Fy(this._freestar.coppa,this._freestar.config)){let _hh$temp421=this._idealAdStackManager.getConfig(),r=_hh$temp421.clientServer;if(__get$(r,Nd)!=="off"){let n=s.sizes.find(o=>o.params.publisherId);this._freestar.amazonPublisherId=ro((t=n==null?void 0:n.params)==null?void 0:t.publisherId)?n.params.publisherId:Gy,this._loadAmazonBidder(e);}else e(this);}else e(this);}}) })}track(e){return T(this,null,function*(){let t=Date.now();for(let s of e){if(s.amznbid==="1"||s.amznbid==="2")continue;let r=de.getAdUnitBySlotElementId(s.slotID);if(!r)continue; let _hh$temp422=r,n=_hh$temp422.placement,o=_hh$temp422.slot; if(n.dfpId.includes(Yt)&&! __get$(this._bids,s.amzniid) ){let a=this._gamManager.getSlotTargeting({slot:o,key:"fs-auuid"});if(!Array.isArray(a)||a.length===0||!a[0])continue;let d=a[0],f=(yield G.instance.resolve(c.AUCTION_MANAGER)).getAuctionByFsAuctionId(d); __set$(this._bids,s.amzniid,b({responseTimestamp:t,requestTimestamp:f.timestamp||null,fsAuctionId:d},s)) }}for(let _hh$temp423 of Object.entries(this._bids)) {let _hh$temp424=__arrayFrom$(_hh$temp423),s=_hh$temp424[0],r=_hh$temp424[1];((r!=null&&r.responseTimestamp)&&t-r.responseTimestamp>=30*1e3)&&delete this._bids[s];} })}_handleBidWonEvent(e){ let _hh$temp425=e||{},t=_hh$temp425.amzniid; if(!t)return;let s= __get$(this._bids,t) ;if(!s)return;let r=de.getAdUnitBySlotElementId(s.slotID);if(!r)return; let _hh$temp426=r,n=_hh$temp426.placement,o=_hh$temp426.slot; if(!n||!o)return; let _hh$temp427=n,a=_hh$temp427.name; if(!this._dispensaryData.locData)return; let _hh$temp428=this._dispensaryData.locData,d=_hh$temp428.iso,_hh$temp429=s,l=_hh$temp429.fsAuctionId,f=_hh$temp429.amznp,u=_hh$temp429.amznbid,p=_hh$temp429.slotID,m=_hh$temp429.requestTimestamp,E=_hh$temp429.responseTimestamp,S=this._gamManager.getSlotTargeting({slot:o,key:"floors_id"}),I=Array.isArray(S)&&S.length>0?S[0]:null,g=new Aa({amzniid:t,bidder:f,adUnitCode:a,isRefresh:this._freestar.refreshLibrary&&__get$(this._freestar.refreshLibrary,a)?__get$(this._freestar.refreshLibrary,a).timesRefreshed>0:!1,countryCode:d,auctionId:l,fsuuid:xi({slotId:p,slot:r.slot,googletag:this._window.googletag}),bidFloor:I,hashedCpm:u,requestTimestamp:m,responseTimestamp:E},Ze.IMMEDIATE); this._analytics.track(g)}_getRenderImp(){return  new Proxy(__get$(this._window,Gi).renderImp,{apply:(t,s,r)=>{try{let n=null;if(r[1]?n=r[1]:((r[0]&&typeof r[0]=="object")&&"amzniid"in r[0])&&(n=r[0].amzniid),n){if(this._seen.has(n)||this._handleBidWonEvent({amzniid:n}),this._seen.size>=1e3){let o=this._seen.values().next().value;this._seen.delete(o);}this._seen.add(n);}return t.apply(s,r);}catch(n){let o=new Z({eventType:"amazonRenderImpError",eventName:"amazon_render_imp_error",data:{message:n.message,stack:n.stack}},Ze.IMMEDIATE);this._analytics.track(o),this._freestar.log(1,`Amazon renderImp error: ${n.message}`);}}}) }_loadAmazonBidder(e){var t,s,r,n,o;if(! __get$(this._window,Gi) ){let a=(d,l)=>{ __get$(this._window,Gi) ._Q.push([d,l])}; __set$(this._window,Gi,{init:function(){a("i",arguments);},fetchBids:function(){a("f",arguments);},setDisplayBids:function(){},targetingKeys:function(){return[];},_Q:[]}) }(o= __get$(this._window,Gi) )==null||o.init({pubID:this._freestar.amazonPublisherId,adServer:"googletag",schain:this._generateAmazonSchain(this._dispensaryData.fsdata.companyId,(s=(t=this._dispensaryData.fsdata.schain)==null?void 0:t.type)!=null?s:Et,(n=(r=this._dispensaryData.fsdata.schain)==null?void 0:r.bidderOverrides)!=null?n:[])},()=>{this.isEnabled=!0, __get$(this._window,Gi) .renderImp=this._getRenderImp(),this._instance= __get$(this._window,Gi) ,e(this)}),Ie(Uy,null,null,null,!0,void 0,!1,a=>{var d;(d=this._logger)==null||d.log(["Amazon script loading failed with error:",a]),e(this)})}_generateAmazonSchain(e,t,s){let r=s&&s.length&&s.includes(Kh);if(!(t===Et&&!r)&&!(t===es&&r))return _d(e,t,s)}_isAmazonAd(e){var t;return(t=e.bidders)==null?void 0:t.some( _hh$temp430=>{var s=_hh$temp430.bidder;return s===Nd;} )}_formatAps(e){var d; let _hh$temp431=e,t=_hh$temp431.name,s=_hh$temp431.dfpId,r=_hh$temp431.sizeMappings,n=_hh$temp431.selectedSize,o=n!=null?n:r.find(l=>Ye()>=l.viewport.size[0]),a=(d=o==null?void 0:o.size)!=null?d:[]; return a=a.filter(l=>l[0]!==35843),dt({slotID:t,slotName:s,sizes:a})}_getPlacementByDfpId(e){return this._dispensaryData.fsdata.placements.find( _hh$temp432=>{var t=_hh$temp432.dfpId;return t===e;} )}_getAllAmazonSlots(){return this._dispensaryData.fsdata.placements.filter(e=>this._isAmazonAd(e)&&Md(e)).map(e=>this._formatAps(e))}setupAmazonSlots(e){let t=[];return e&&!Array.isArray(e)&&(e=[e]),e?e.forEach(s=>{let r=null;try{r= __get$(this._freestar.dynamicSlotLibrary,s.getSlotElementId()) ,r&&(r=ie({name:r})),r||(r=this._dispensaryData.fsdata.placements.find( _hh$temp433=>{var n=_hh$temp433.slotId;return s.getSlotElementId()===n;} )),r||(r=this._getPlacementByDfpId(s.getAdUnitPath()))}catch(n){freestar.log(1,`Error: ${n}`)}if(r&&this._isAmazonAd(r)){let n=s.getSizes().filter(o=>typeof o!="string").map( _hh$temp434=>{var o=_hh$temp434.width,a=_hh$temp434.height;return[o,a];} );if(n.length){let o={slotID:s.getSlotElementId(),slotName:s.getAdUnitPath(),sizes:n};t.push(dt(o))}}}):t=this._getAllAmazonSlots(),t}};A.object({token:c.AMAZON_MANAGER,dependencies:[{token:c.WINDOW,alias:"win"},c.FREESTAR,c.GAM_MANAGER,c.DISPENSARY_DATA,c.ANALYTICS,c.LOGGER],factory: _hh$temp435=>{var i=_hh$temp435.dependencies;return new iu(V(b({},i),{idealAdStackManager:ee})).init();} })});var zy=h(()=>{Vy();tu()});function dS(i,e){if(i=i||{},fi.call(this,aS),e)fi.call(this,[[_u,cu( __get$(i,qi) )],[Eu,cu( __get$(i,TT) )],[te,/\?1/.test( __get$(i,CT) )],[O,Ln( __get$(i,xT) )],[Er,Ln( __get$(i,oS) )],[yu,Ln( __get$(i,PT) )],[nt,Ln( __get$(i,vT) )],[Ts,cu( __get$(i,OT) )],[Gd,Ln( __get$(i,RT) )]]);else for(var t in i)this.hasOwnProperty(t)&&typeof  __get$(i,t) !==$i&&( __set$(this,t,__get$(i,t)) )}function nS(i,e,t,s){return this.get=function(r){return r?this.data.hasOwnProperty(r)? __get$(this.data,r) :void 0:this.data},this.set=function(r,n){return  __set$(this.data,r,n) ,this},this.setCH=function(r){return this.uaCH=r,this},this.detectFeature=function(){if(ot&&ot.userAgent==this.ua)switch(this.itemType){case rt:ot.brave&&typeof ot.brave.isBrave==Fd&&this.set(C,"Brave");break;case Zt:!this.get(v)&&zi&& __get$(zi,te) &&this.set(v,te),this.get(O)=="Macintosh"&&ot&&typeof ot.standalone!==$i&&ot.maxTouchPoints&&ot.maxTouchPoints>2&&this.set(O,"iPad").set(v,Se);break;case Rt:!this.get(C)&&zi&& __get$(zi,Er) &&this.set(C, __get$(zi,Er) );break;case _r:var r=this.data,n=function(o){return  __get$(r,o) .getItem().detectFeature().get()};this.set(rt,n(rt)).set(li,n(li)).set(Zt,n(Zt)).set(Bt,n(Bt)).set(Rt,n(Rt))}return this},this.parseUA=function(){return this.itemType!=_r&&uu.call(this.data,this.ua,this.rgxMap),this.itemType==rt&&this.set(Fn,fu(this.get(P))),this},this.parseCH=function(){var r=this.uaCH,n=this.rgxMap;switch(this.itemType){case rt:case Bt:var o= __get$(r,Eu) || __get$(r,_u) ,a;if(o)for(var d in o){var l= __get$(o,d) .brand|| __get$(o,d) ,f= __get$(o,d) .version;this.itemType==rt&&!/not.a.brand/i.test(l)&&(!a||/chrom/i.test(a)&&l!=Xy)&&(l=Hi(l,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome"}),this.set(C,l).set(P,f).set(Fn,fu(f)),a=l),this.itemType==Bt&&l==Xy&&this.set(P,f)}break;case li:var u= __get$(r,nt) ;u&&(u&& __get$(r,Gd) =="64"&&(u+="64"),uu.call(this.data,u+";",n));break;case Zt:if( __get$(r,te) &&this.set(v,te), __get$(r,O) &&(this.set(O, __get$(r,O) ),!this.get(v)||!this.get(x))){var p={};uu.call(p,"droid 9; "+ __get$(r,O) +")",n),!this.get(v)&&p.type&&this.set(v,p.type),!this.get(x)&&p.vendor&&this.set(x,p.vendor)}if( __get$(r,Ts) ){var m;if(typeof  __get$(r,Ts) !="string")for(var E=0;!m&&E< __get$(r,Ts) .length;)m=Hi( __get$(__get$(r,Ts),E++) ,sS);else m=Hi( __get$(r,Ts) ,sS);this.set(v,m)}break;case Rt:var S= __get$(r,Er) ;if(S){var I= __get$(r,yu) ;S==mu&&(I=parseInt(fu(I),10)>=13?"11":"10"),this.set(C,S).set(P,I)}this.get(C)==mu&& __get$(r,O) =="Xbox"&&this.set(C,"Xbox").set(P,void 0);break;case _r:var g=this.data,y=function(R){return  __get$(g,R) .getItem().setCH(r).parseCH().get()};this.set(rt,y(rt)).set(li,y(li)).set(Zt,y(Zt)).set(Bt,y(Bt)).set(Rt,y(Rt))}return this},fi.call(this,[["itemType",i],["ua",e],["uaCH",s],["rgxMap",t],["data",LT(this,i)]]),this}function ui(i,e,t){if(typeof i===Sr?(Ud(i,!0)?(typeof e===Sr&&(t=e),e=i):(t=i,e=void 0),i=void 0):typeof i===pu&&!Ud(e,!0)&&(t=e,e=void 0),t&&typeof t.append===Fd){var s={};t.forEach(function(d,l){ __set$(s,l,d) }),t=s}if(!(this instanceof ui))return new ui(i,e,t).getResult();var r=typeof i===pu?i:t&& __get$(t,Hy) ? __get$(t,Hy) :ot&&ot.userAgent?ot.userAgent:yr,n=new dS(t,!0),o=e?MT(rS,e):rS,a=function(d){return d==_r?function(){return new nS(d,r,o,n).set("ua",r).set(rt,this.getBrowser()).set(li,this.getCPU()).set(Zt,this.getDevice()).set(Bt,this.getEngine()).set(Rt,this.getOS()).get()}:function(){return  new nS(d,r,__get$(o,d),n) .parseUA().get()}};return fi.call(this,[["getBrowser",a(rt)],["getCPU",a(li)],["getDevice",a(Zt)],["getEngine",a(Bt)],["getOS",a(Rt)],["getResult",a(_r)],["getUA",function(){return r}],["setUA",function(d){return Ar(d)&&(r=d.length>hu?Un(d,hu):d),this}]]).setUA(r),this}var wT,hu,Hy,yr,$y,Fd,$i,Sr,pu,rt,li,Zt,Bt,Rt,_r,C,v,x,P,nt,Fn,O,kn,te,Se,Be,Jt,su,Bn,Cn,_u,Ts,Eu,Er,yu,Gd,qi,TT,vT,RT,OT,CT,xT,oS,PT,aS,Ld,mr,qy,Yy,ws,jy,Wy,Ky,kd,ru,nu,ou,Qy,au,xn,Jy,Pn,du,lu,Zy,Xy,Vi,DT,Dn,Nn,eS,tS,gr,Mn,mu,NT,ot,zi,MT,Vd,gu,Ud,Ar,cu,ci,fu,fi,Ir,Ln,Un,uu,Hi,iS,sS,rS,Bd,LT,lS=h(()=>{wT="2.0.2",hu=500,Hy="user-agent",yr="",$y="?",Fd="function",$i="undefined",Sr="object",pu="string",rt="browser",li="cpu",Zt="device",Bt="engine",Rt="os",_r="result",C="name",v="type",x="vendor",P="version",nt="architecture",Fn="major",O="model",kn="console",te="mobile",Se="tablet",Be="smarttv",Jt="wearable",su="xr",Bn="embedded",Cn="inapp",_u="brands",Ts="formFactors",Eu="fullVersionList",Er="platform",yu="platformVersion",Gd="bitness",qi="sec-ch-ua",TT=qi+"-full-version-list",vT=qi+"-arch",RT=qi+"-"+Gd,OT=qi+"-form-factors",CT=qi+"-"+te,xT=qi+"-"+O,oS=qi+"-"+Er,PT=oS+"-version",aS=[_u,Eu,te,O,Er,yu,nt,Ts,Gd],Ld="Amazon",mr="Apple",qy="ASUS",Yy="BlackBerry",ws="Google",jy="Huawei",Wy="Lenovo",Ky="Honor",kd="LG",ru="Microsoft",nu="Motorola",ou="Nvidia",Qy="OnePlus",au="OPPO",xn="Samsung",Jy="Sharp",Pn="Sony",du="Xiaomi",lu="Zebra",Zy="Chrome",Xy="Chromium",Vi="Chromecast",DT="Edge",Dn="Firefox",Nn="Opera",eS="Facebook",tS="Sogou",gr="Mobile ",Mn=" Browser",mu="Windows",NT=typeof window!==$i,ot=NT&&window.navigator?window.navigator:void 0,zi=ot&&ot.userAgentData?ot.userAgentData:void 0,MT=function(i,e){var t={},s=e;if(!Ud(e)){s={};for(var r in e)for(var n in  __get$(e,r) ) __set$(s,n,__get$(__get$(e,r),n).concat(__get$(s,n)?__get$(s,n):[])) }for(var o in i) __set$(t,o,__get$(s,o)&&__get$(s,o).length%2===0?__get$(s,o).concat(__get$(i,o)):__get$(i,o)) ;return t},Vd=function(i){for(var e={},t=0;t<i.length;t++) __set$(e,__get$(i,t).toUpperCase(),__get$(i,t)) ;return e},gu=function(i,e){if(typeof i===Sr&&i.length>0){for(var t in i)if(ci( __get$(i,t) )==ci(e))return!0;return!1}return Ar(i)?ci(e).indexOf(ci(i))!==-1:!1},Ud=function(i,e){for(var t in i)return/^(browser|cpu|device|engine|os)$/.test(t)||(e?Ud( __get$(i,t) ):!1)},Ar=function(i){return typeof i===pu},cu=function(i){if(i){for(var e=[],t=Ir(/\\?\"/g,i).split(","),s=0;s<t.length;s++)if( __get$(t,s) .indexOf(";")>-1){var r=Un( __get$(t,s) ).split(";v="); __set$(e,s,{brand:r[0],version:r[1]}) }else  __set$(e,s,Un(__get$(t,s))) ;return e}},ci=function(i){return Ar(i)?i.toLowerCase():i},fu=function(i){return Ar(i)?Ir(/[^\d\.]/g,i).split(".")[0]:void 0},fi=function(i){for(var e in i){var t= __get$(i,e) ;typeof t==Sr&&t.length==2? __set$(this,t[0],t[1]) : __set$(this,t,void 0) }return this},Ir=function(i,e){return Ar(e)? __call$(e,"replace",[i,yr]) :e},Ln=function(i){return Ir(/\\?\"/g,i)},Un=function(i,e){if(Ar(i))return i=Ir(/^\s\s*/,i),typeof e===$i?i:i.substring(0,hu)},uu=function(i,e){if(!(!i||!e))for(var t=0,s,r,n,o,a,d;t<e.length&&!a;){var l= __get$(e,t) ,f= __get$(e,t+1) ;for(s=r=0;s<l.length&&!a&& __get$(l,s) ;)if(a= __get$(l,s++) .exec(i),a)for(n=0;n<f.length;n++)d= __get$(a,++r) ,o= __get$(f,n) ,typeof o===Sr&&o.length>0?o.length===2?typeof o[1]==Fd? __set$(this,o[0],o[1].call(this,d)) : __set$(this,o[0],o[1]) :o.length===3?typeof o[1]===Fd&&!(o[1].exec&&o[1].test)? __set$(this,o[0],d?o[1].call(this,d,o[2]):void 0) : __set$(this,o[0],d?__call$(d,"replace",[o[1],o[2]]):void 0) :o.length===4&&( __set$(this,o[0],d?o[3].call(this,__call$(d,"replace",[o[1],o[2]])):void 0) ): __set$(this,o,d||void 0) ;t+=2}},Hi=function(i,e){for(var t in e)if(typeof  __get$(e,t) ===Sr&& __get$(e,t) .length>0){for(var s=0;s< __get$(e,t) .length;s++)if(gu( __get$(__get$(e,t),s) ,i))return t===$y?void 0:t}else if(gu( __get$(e,t) ,i))return t===$y?void 0:t;return e.hasOwnProperty("*")?e["*"]:i},iS={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},sS={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},rS={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[P,[C,gr+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[P,[C,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[C,P],[/opios[\/ ]+([\w\.]+)/i],[P,[C,Nn+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[P,[C,Nn+" GX"]],[/\bopr\/([\w\.]+)/i],[P,[C,Nn]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[P,[C,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[P,[C,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[C,P],[/quark(?:pc)?\/([-\w\.]+)/i],[P,[C,"Quark"]],[/\bddg\/([\w\.]+)/i],[P,[C,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[P,[C,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[P,[C,"WeChat"]],[/konqueror\/([\w\.]+)/i],[P,[C,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[P,[C,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[P,[C,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[P,[C,"Smart "+Wy+Mn]],[/(avast|avg)\/([\w\.]+)/i],[[C,/(.+)/,"$1 Secure"+Mn],P],[/\bfocus\/([\w\.]+)/i],[P,[C,Dn+" Focus"]],[/\bopt\/([\w\.]+)/i],[P,[C,Nn+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[P,[C,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[P,[C,"Dolphin"]],[/coast\/([\w\.]+)/i],[P,[C,Nn+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[P,[C,"MIUI"+Mn]],[/fxios\/([\w\.-]+)/i],[P,[C,gr+Dn]],[/\bqihoobrowser\/?([\w\.]*)/i],[P,[C,"360"]],[/\b(qq)\/([\w\.]+)/i],[[C,/(.+)/,"$1Browser"],P],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[C,/(.+)/,"$1"+Mn],P],[/samsungbrowser\/([\w\.]+)/i],[P,[C,xn+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[P,[C,tS+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[C,tS+" Mobile"],P],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[C,P],[/(lbbrowser|rekonq)/i],[C],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[P,C],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[C,eS],P,[v,Cn]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[C,P,[v,Cn]],[/\bgsa\/([\w\.]+) .*safari\//i],[P,[C,"GSA"],[v,Cn]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[P,[C,"TikTok"],[v,Cn]],[/\[(linkedin)app\]/i],[C,[v,Cn]],[/(chromium)[\/ ]([-\w\.]+)/i],[C,P],[/headlesschrome(?:\/([\w\.]+)| )/i],[P,[C,Zy+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[C,Zy+" WebView"],P],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[P,[C,"Android"+Mn]],[/chrome\/([\w\.]+) mobile/i],[P,[C,gr+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[C,P],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[P,[C,gr+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[C,gr+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[P,C],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[C,[P,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[C,P],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[C,gr+Dn],P],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[C,"Netscape"],P],[/(wolvic|librewolf)\/([\w\.]+)/i],[C,P],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[P,[C,Dn+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[C,[P,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[C,[P,/[^\d\.]+./,yr]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[nt,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[nt,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[nt,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[nt,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[nt,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[nt,/ower/,yr,ci]],[/ sun4\w[;\)]/i],[[nt,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[nt,ci]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[O,[x,xn],[v,Se]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[O,[x,xn],[v,te]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[O,[x,mr],[v,te]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[O,[x,mr],[v,Se]],[/(macintosh);/i],[O,[x,mr]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[O,[x,Jy],[v,te]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[O,[x,Ky],[v,Se]],[/honor([-\w ]+)[;\)]/i],[O,[x,Ky],[v,te]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[O,[x,jy],[v,Se]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[O,[x,jy],[v,te]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[O,/_/g," "],[x,du],[v,Se]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[O,/_/g," "],[x,du],[v,te]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[O,[x,au],[v,te]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[O,[x,Hi,{OnePlus:["304","403","203"],"*":au}],[v,Se]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[O,[x,"Vivo"],[v,te]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[O,[x,"Realme"],[v,te]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[O,[x,nu],[v,te]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[O,[x,nu],[v,Se]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[O,[x,kd],[v,Se]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[O,[x,kd],[v,te]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[O,[x,Wy],[v,Se]],[/(nokia) (t[12][01])/i],[x,O,[v,Se]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[O,/_/g," "],[v,te],[x,"Nokia"]],[/(pixel (c|tablet))\b/i],[O,[x,ws],[v,Se]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[O,[x,ws],[v,te]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[O,[x,Pn],[v,te]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[O,"Xperia Tablet"],[x,Pn],[v,Se]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[O,[x,Qy],[v,te]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[O,[x,Ld],[v,Se]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[O,/(.+)/g,"Fire Phone $1"],[x,Ld],[v,te]],[/(playbook);[-\w\),; ]+(rim)/i],[O,x,[v,Se]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[O,[x,Yy],[v,te]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[O,[x,qy],[v,Se]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[O,[x,qy],[v,te]],[/(nexus 9)/i],[O,[x,"HTC"],[v,Se]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[x,[O,/_/g," "],[v,te]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[O,[x,"TCL"],[v,Se]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[O,[x,"TCL"],[v,te]],[/(itel) ((\w+))/i],[[x,ci],O,[v,Hi,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[O,[x,"Acer"],[v,Se]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[O,[x,"Meizu"],[v,te]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[O,[x,"Ulefone"],[v,te]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[O,[x,"Energizer"],[v,te]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[O,[x,"Cat"],[v,te]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[O,[x,"Smartfren"],[v,te]],[/droid.+; (a(?:015|06[35]|142p?))/i],[O,[x,"Nothing"],[v,te]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[x,O,[v,Se]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[x,O,[v,te]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[x,O,[v,Se]],[/(surface duo)/i],[O,[x,ru],[v,Se]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[O,[x,"Fairphone"],[v,te]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[O,[x,ou],[v,Se]],[/(sprint) (\w+)/i],[x,O,[v,te]],[/(kin\.[onetw]{3})/i],[[O,/\./g," "],[x,ru],[v,te]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[O,[x,lu],[v,Se]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[O,[x,lu],[v,te]],[/smart-tv.+(samsung)/i],[x,[v,Be]],[/hbbtv.+maple;(\d+)/i],[[O,/^/,"SmartTV"],[x,xn],[v,Be]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[x,kd],[v,Be]],[/(apple) ?tv/i],[x,[O,mr+" TV"],[v,Be]],[/crkey.*devicetype\/chromecast/i],[[O,Vi+" Third Generation"],[x,ws],[v,Be]],[/crkey.*devicetype\/([^/]*)/i],[[O,/^/,"Chromecast "],[x,ws],[v,Be]],[/fuchsia.*crkey/i],[[O,Vi+" Nest Hub"],[x,ws],[v,Be]],[/crkey/i],[[O,Vi],[x,ws],[v,Be]],[/droid.+aft(\w+)( bui|\))/i],[O,[x,Ld],[v,Be]],[/(shield \w+ tv)/i],[O,[x,ou],[v,Be]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[O,[x,Jy],[v,Be]],[/(bravia[\w ]+)( bui|\))/i],[O,[x,Pn],[v,Be]],[/(mi(tv|box)-?\w+) bui/i],[O,[x,du],[v,Be]],[/Hbbtv.*(technisat) (.*);/i],[x,O,[v,Be]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[x,Un],[O,Un],[v,Be]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[O,[v,Be]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[v,Be]],[/(ouya)/i,/(nintendo) (\w+)/i],[x,O,[v,kn]],[/droid.+; (shield)( bui|\))/i],[O,[x,ou],[v,kn]],[/(playstation \w+)/i],[O,[x,Pn],[v,kn]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[O,[x,ru],[v,kn]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[O,[x,xn],[v,Jt]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[x,O,[v,Jt]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[O,[x,au],[v,Jt]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[O,[x,mr],[v,Jt]],[/(opwwe\d{3})/i],[O,[x,Qy],[v,Jt]],[/(moto 360)/i],[O,[x,nu],[v,Jt]],[/(smartwatch 3)/i],[O,[x,Pn],[v,Jt]],[/(g watch r)/i],[O,[x,kd],[v,Jt]],[/droid.+; (wt63?0{2,3})\)/i],[O,[x,lu],[v,Jt]],[/droid.+; (glass) \d/i],[O,[x,ws],[v,su]],[/(pico) (4|neo3(?: link|pro)?)/i],[x,O,[v,su]],[/; (quest( \d| pro)?)/i],[O,[x,eS],[v,su]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[x,[v,Bn]],[/(aeobc)\b/i],[O,[x,Ld],[v,Bn]],[/(homepod).+mac os/i],[O,[x,mr],[v,Bn]],[/windows iot/i],[[v,Bn]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[O,[v,Hi,{mobile:"Mobile",xr:"VR","*":Se}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[v,Se]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[v,te]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[O,[x,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[P,[C,DT+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[C,P],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[P,[C,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[C,P],[/ladybird\//i],[[C,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[P,C]],os:[[/microsoft (windows) (vista|xp)/i],[C,P],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[C,[P,Hi,iS]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[P,Hi,iS],[C,mu]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[P,/_/g,"."],[C,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[C,"macOS"],[P,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[P,[C,Vi+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[P,[C,Vi+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[P,[C,Vi+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[P,[C,Vi+" Linux"]],[/crkey\/([\d\.]+)/i],[P,[C,Vi]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[P,C],[/(ubuntu) ([\w\.]+) like android/i],[[C,/(.+)/,"$1 Touch"],P],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[C,P],[/\(bb(10);/i],[P,[C,Yy]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[P,[C,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[P,[C,Dn+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[P,[C,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[P,[C,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[C,"Chrome OS"],P],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[C,P],[/(sunos) ?([\w\.\d]*)/i],[[C,"Solaris"],P],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[C,P]]},Bd=function(){var i={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return fi.call(i.init,[[rt,[C,P,Fn,v]],[li,[nt]],[Zt,[v,O,x]],[Bt,[C,P]],[Rt,[C,P]]]),fi.call(i.isIgnore,[[rt,[P,Fn]],[Bt,[P]],[Rt,[P]]]),fi.call(i.isIgnoreRgx,[[rt,/ ?browser$/i],[Rt,/ ?os$/i]]),fi.call(i.toString,[[rt,[C,P]],[li,[nt]],[Zt,[x,O]],[Bt,[C,P]],[Rt,[C,P]]]),i}(),LT=function(i,e){var t= __get$(Bd.init,e) ,s= __get$(Bd.isIgnore,e) ||0,r= __get$(Bd.isIgnoreRgx,e) ||0,n= __get$(Bd.toString,e) ||0;function o(){fi.call(this,t)}return o.prototype.getItem=function(){return i},o.prototype.withClientHints=function(){return zi?zi.getHighEntropyValues(aS).then(function(a){return i.setCH(new dS(a,!1)).parseCH().get()}):i.parseCH().get()},o.prototype.withFeatureCheck=function(){return i.detectFeature().get()},e!=_r&&(o.prototype.is=function(a){var d=!1;for(var l in this)if(this.hasOwnProperty(l)&&!gu(s,l)&&ci(r?Ir(r, __get$(this,l) ): __get$(this,l) )==ci(r?Ir(r,a):a)){if(d=!0,a!=$i)break}else if(a==$i&&d){d=!d;break}return d},o.prototype.toString=function(){var a=yr;for(var d in n)typeof  __get$(this,__get$(n,d)) !==$i&&(a+=(a?" ":yr)+ __get$(this,__get$(n,d)) );return a||$i}),zi||(o.prototype.then=function(a){var d=this,l=function(){for(var u in d)d.hasOwnProperty(u)&&( __set$(this,u,__get$(d,u)) )};l.prototype={is:o.prototype.is,toString:o.prototype.toString};var f=new l;return a(f),f}),new o};ui.VERSION=wT;ui.BROWSER=Vd([C,P,Fn,v]);ui.CPU=Vd([nt]);ui.DEVICE=Vd([O,x,v,kn,te,Be,Se,Jt,Bn]);ui.ENGINE=ui.OS=Vd([C,P])});var cS=h(()=>{lS();Ke();Ce()});var fS=h(()=>{cS()});var zd,uS=h(()=>{N();D();zd=class{constructor( _hh$temp436 ){ var e=_hh$temp436.logger,_hh$temp436$win=_hh$temp436.win,t=_hh$temp436$win===void 0?window:_hh$temp436$win; _(this,"adBlockerDetected",!1);_(this,"_imageCheck",(...t)=>T(this,[...t],function*(e=atob("aHR0cHM6Ly9hLnB1Yi5uZXR3b3JrL2NvcmUvaW1ncy8xLnBuZw")){return new Promise(s=>{let r=encodeURIComponent(new Date().toISOString().split("Z")[0]),n=this._document.createElement("img");n.src=`${e}?x=${r}`,n.onload=()=>T(this,null,function*(){yield this._redirectCheck(e),n.remove(),s()}),n.onerror=()=>{this.adBlockerDetected=!0,this._logger.log("AdBlock detected: image load error"),n.remove(),s()},this._document.body.appendChild(n)})}));e.setContext(c.AD_BLOCK),this._logger=e,this._document=t.document,this._window=t}init(){return T(this,null,function*(){try{yield Promise.all([this._hiddenElementCheck(),this._imageCheck(),this._makeTestRequest()])}catch(e){this._logger.log("AdBlock initialization error:",e)}return this})}_makeTestRequest(e=atob("aHR0cHM6Ly93d3cuZ29vZ2xldGFnc2VydmljZXMuY29tL3RhZy9qcy9ncHQuanM=")){return fetch(e,{method:"HEAD",mode:"no-cors",cache:"no-store"}).then(()=>{}).catch(()=>{this._logger.log("AdBlock detected: test request failed"),this.adBlockerDetected=!0})}_hiddenElementCheck(){return T(this,null,function*(){this._document.body||(yield new Promise(n=>this._document.addEventListener("DOMContentLoaded",n)));let e=["YWQ=","YmFubmVyLWFk","YmFubmVyX2Fk","YmFubmVyLWFkLWNvbnRhaW5lcg==","YWQtc2lkZXJhaWw=","c3RpY2t5YWRz","aW1wcnRudC1jbnQ="],t=this._document.createElement("div");t.textContent=Math.random().toString(),t.setAttribute(atob("ZGF0YS1mcmVlc3Rhci1hZA=="),Math.random().toString());for(let n=0;n<e.length;n++)t.classList.add(atob( __get$(e,n) ));t.style.display="block",this._document.body.appendChild(t);let s=this._window.getComputedStyle(t),r=s==null?void 0:s.display;t.remove(),r==="none"&&(this._logger.log("AdBlock detected: hidden element"),this.adBlockerDetected=!0)})}_redirectCheck(e){return T(this,null,function*(){try{let t=yield fetch(e),s=t==null?void 0:t.redirected,r=t==null?void 0:t.url;(s||(r?r!==e:!1))&&(this._logger.log("AdBlock detected: redirect check"),this.adBlockerDetected=!0)}catch(t){this._logger.log("AdBlock detected: redirect check error",t),this.adBlockerDetected=!0}})}};A.class(zd,{token:c.AD_BLOCK,dependencies:[c.LOGGER,{token:c.WINDOW,alias:"win"}],factory: _hh$temp437=>{var i=_hh$temp437.dependencies;return new zd(i).init();} })});var hS=h(()=>{uS()});var br,Su,pS=h(()=>{N();D();ps();Q();qe();At();Ca();ue();le();br=class br{constructor( _hh$temp438 ){ var e=_hh$temp438.logger,t=_hh$temp438.freestar,s=_hh$temp438.gamManager; this._freestar=t,this._logger=e,this._gamManager=s,this._logger.setContext(c.AD_SLOTS_MANAGER),this._logger.setLevel(ye.CORE)}createAdSlot(a){return T(this,arguments,function*( _hh$temp439 ){ var e=_hh$temp439.placement,t=_hh$temp439.slotId,_hh$temp439$targeting=_hh$temp439.targeting,s=_hh$temp439$targeting===void 0?{}:_hh$temp439$targeting,_hh$temp439$placementName=_hh$temp439.placementName,r=_hh$temp439$placementName===void 0?null:_hh$temp439$placementName,_hh$temp439$newElement=_hh$temp439.newElement,n=_hh$temp439$newElement===void 0?{}:_hh$temp439$newElement,_hh$temp439$element=_hh$temp439.element,o=_hh$temp439$element===void 0?null:_hh$temp439$element; let d=e.dfpId;if(r=r!=null&&r.length?r:e.name,o){this._processElement({el:o,slotId:t,placementName:r,placement:e,targeting:s,newElement:n,originalPlacementDfpId:d});return}try{ let _hh$temp440=yield Qm({id:t}),l=_hh$temp440.isFound,f=_hh$temp440.element; if(!l){this._logger.log(`[createAdSlot] Element not found for slotId: ${t}`,{level:ye.CORE});return}this._processElement({el:f,slotId:t,placementName:r,placement:e,targeting:s,newElement:n,originalPlacementDfpId:d})}catch(l){this._logger.log(`[createAdSlot] Error getting element for slotId: ${t}, error: ${l}`,{level:ye.CORE})}})}_processElement( _hh$temp441 ){ var e=_hh$temp441.el,t=_hh$temp441.slotId,s=_hh$temp441.placementName,r=_hh$temp441.placement,n=_hh$temp441.targeting,o=_hh$temp441.newElement,a=_hh$temp441.originalPlacementDfpId; if(!e){this._logger.log(`[_processElement] Element not found for slotId: ${t}`,{level:ye.CORE});return}if(!s){this._logger.log(`[_processElement] PlacementName is empty for slotId: ${t}`,{level:ye.CORE});return}if(this._configureElement(e,t,s),r=ie({name:s}),!r){this._logger.log(`[_processElement] Placement not found for placementName: ${s}, slotId: ${t}`,{level:ye.CORE});return}this._freestar.dynamicSlots.push(t),this._setVideoPlayerSize(e,r),r.sizes&&r.sizes.length||r.fluidAd?this._createGamSlot({slotId:t,placement:r,targeting:n,newElement:o,originalPlacementDfpId:a,placementName:s,el:e}):this._logger.log(`[_processElement] No valid sizes or fluidAd for placement: ${s}, slotId: ${t}`,{})}_configureElement(e,t,s){e.setAttribute("name",s),this._freestar.newAdSlotIds.push(t)}_setVideoPlayerSize(e,t){let s=this._getLargestVideoSize(t);if(s.length===0)return;let r=s[0],o=this._getPlayerSizesForWidth(r)[0];this._appendVideoAttributeToElement(e,o)}_getPlayerSizesForWidth(e){return e>=br.AD_SIZE_WIDTH_THRESHOLD?Kn:Qn}_appendVideoAttributeToElement(e, _hh$temp442 ){ var _hh$temp443=__arrayFrom$(_hh$temp442),t=_hh$temp443[0],s=_hh$temp443[1]; let r=e.getAttribute("data-freestar-ad")||"";e.setAttribute("data-freestar-ad",`${r} __${t}x${s}`)}_getLargestVideoSize(e){var s,r;if((s=e.selectedSize)!=null&&s.mediaTypes.includes("video"))return this._getFilteredAndSortedSizes(e.selectedSize.size)[0]||[];let t=(r=e.sizeMappings)==null?void 0:r.find(n=>n.mediaTypes.includes("video")&&Ye()>=n.viewport.size[0]);return t?this._getFilteredAndSortedSizes(t.size):[]}_getFilteredAndSortedSizes(e){return e.sort(Js).filter(t=>!br.INVALID_SIZE_IDS.includes(t[0]))}_createGamSlot( _hh$temp444 ){ var e=_hh$temp444.slotId,t=_hh$temp444.placement,s=_hh$temp444.targeting,r=_hh$temp444.newElement,n=_hh$temp444.originalPlacementDfpId,o=_hh$temp444.el; let a=this._gamManager.getSlot({elementId:e}),d=this._resolveChannelAndDfpId(t,r,n);if(d!==t.dfpId&&(this._logger.log(`[_createGamSlot] DfpId changed from ${t.dfpId} to ${d} for slotId: ${e}`,{level:this._logger.constructor.VERBOSE}),a&&window.googletag.destroySlots&&(this._logger.log(`[_createGamSlot] Destroying existing slot due to dfpId change for slotId: ${e}`,{level:this._logger.constructor.VERBOSE}),a=void 0)),!a)if(a=this._gamManager.createSlot({placement:t,slotConfig:{targeting:s},sizes:t.sizes,id:o.id,specialDfpId:d}),a)this._logger.log(`[_createGamSlot] Created new GAM slot for slotId: ${e}, dfpId: ${d}`,{level:this._logger.constructor.VERBOSE});else{this._logger.log(`[_createGamSlot] Failed to create GAM slot for slotId: ${e}, dfpId: ${d}`,{level:ye.CORE});return}a&&this._applySlotTargeting(a,e,t,s)}_resolveChannelAndDfpId(e,t,s){let r=this._freestar.config.channel,n=this._freestar.config.channel,o=s||e.dfpId;return e.dfpId.indexOf("{{channel}}")>-1?r="{{channel}}":e.dfpId.indexOf(this._freestar.config.channel)>-1?r=this._freestar.config.channel:e.dfpId.indexOf(this._freestar.config.orignalChannel)>-1&&(r=this._freestar.config.orignalChannel),n&&(t.path||r)&&(o= __call$(e.dfpId,"replace",[n,t.path||r]) ),o}_applySlotTargeting(e,t,s,r){var o,a;r=V(b({},r),{fs_ad_product:$e(s),fs_ad_optimization:qt(s),fsrefresh:(o=r==null?void 0:r.fsrefresh)!=null?o:"0",fsrebid:(a=r==null?void 0:r.fsrebid)!=null?a:"0"}),vi(e,t,typeof r!="undefined"&&Object.keys(r).length?r:void 0)}};_(br,"AD_SIZE_WIDTH_THRESHOLD",500),_(br,"INVALID_SIZE_IDS",[35843]);Su=br;A.class(Su,{token:c.AD_SLOT_SERVICE,defaultAlias:"adSlotService",dependencies:[c.FREESTAR,c.GAM_MANAGER,c.LOGGER]})});var mS=h(()=>{pS()});var kT,Hd,Iu=h(()=>{Fe();Q();N();D();Xe();kT={},Hd=( _hh$temp445 )=>{ var i=_hh$temp445.element,e=_hh$temp445.placement; Ti({placementName:e.name,slotId:i.id}); let _hh$temp446=e.selectedSize,t=_hh$temp446.lazyLoadViewportHeight,s=__get$(kT,t); s||(s=new IntersectionObserver((r,n)=>{r.forEach(o=>{if(d_(o)){let a=be({slotId:o.target.id});a&&(freestar.newAdSlots([{placementName:a,slotId:o.target.id,source:"lazyAd"}]),G.instance.resolve(c.EVENT_BUS).then(d=>{d.emit(Yo,{elementId:o.target.id})}),n.unobserve(o.target))}})},{root:null,rootMargin:`${t}% 0px ${t}% 0px`})),s.observe(i)}});function gS(i,e){var r;if(!((r=i==null?void 0:i.sizes)!=null&&r.length))return null;let t=e.getSlot({elementId:i.code});if(!t)return null;let s=!fsprebid.adUnits.find(n=>n.code===i.code);return s&&gt({adUnits:[i]}),{elementId:i.code,slot:t,needsAdUnit:s}}var _S=h(()=>{ki()});var Au,ES=h(()=>{N();D();st();ps();di();Q();Ni();Iu();_S();At();Au=class{constructor( _hh$temp447 ){ var e=_hh$temp447.logger,t=_hh$temp447.freestar,s=_hh$temp447.bidsManager,r=_hh$temp447.eventBus,n=_hh$temp447.gamManager,o=_hh$temp447.adSlotService,_hh$temp447$win=_hh$temp447.win,a=_hh$temp447$win===void 0?window:_hh$temp447$win,d=_hh$temp447.stickyAd,l=_hh$temp447.fsdata,f=_hh$temp447.config,u=_hh$temp447.nativeRenderManager; this._freestar=t,this._adSlotService=o,this._eventBus=r,this._logger=e,this._bidsManager=s,this._gamManager=n,this._win=a,this._fsdata=l,this._config=f,this._stickyAdManager=d,this._nativeRenderManager=u,this._logger.setContext(c.AD_SLOTS_MANAGER),this._logger.setLevel(ye.CORE)}newAdSlots(e,t=null,s){let r="newAdSlots";this._logger.log([`${r} invoked`,...arguments],{level:this._logger.constructor.CORE,context:r}),dg(this._freestar);let n=ug(e,r,this._logger);if(n.length===0)return; let _hh$temp448=cg({channel:t,logTitle:r,config:this._config,placements:this._fsdata.placements,logger:this._logger}),o=_hh$temp448.placements; return this._fsdata.placements=o,this._notifySlotCreation(n),this._processNewElements(n,s)}_notifySlotCreation(e){if(!Array.isArray(e)){this._logger.error("_notifySlotCreation called with invalid elements",e);return}this._eventBus.emit(js,{elementIds:e.map( _hh$temp449=>{var t=_hh$temp449.slotId;return t;} )})}_processNewElements(e,t){return T(this,null,function*(){let s=e.filter(r=>!this._freestar.enabledSlotsCalled.includes(r.slotId)).map(r=>this._createSingleSlot(r,t));yield Promise.all(s)})}_createSingleSlot(e,t){return T(this,null,function*(){ let _hh$temp450=e,s=_hh$temp450.placementName,r=_hh$temp450.slotId,n=_hh$temp450.targeting,o=this._win.document.getElementById(r),a=ie({name:s}); a&&(yield this._adSlotService.createAdSlot({placement:a,slotId:r,targeting:n,newElement:e,element:o}),this._handleSlotCreated(o,r,a,e,t))})}_handleSlotCreated(e,t,s,r,n){let o=this._gamManager.getSlot({elementId:t});e&&o&&(this._requestBids({placement:s,element:e,newElement:r,sendAdserverSignal:n}),this._freestar.newAdSlotsCalled.push(e.id),this._handleStickyAds(r,s,t))}_handleStickyAds(e,t,s){var r,n;typeof e.skipSAU=="undefined"&&(r=this._stickyAdManager)!=null&&r.isSlidingUnit({placement:t})&&((n=this._stickyAdManager)==null||n.attachSlidingUnit({adUnit:t,slotId:s}))}_requestBids( _hh$temp451 ){ var e=_hh$temp451.placement,t=_hh$temp451.element,s=_hh$temp451.newElement,r=_hh$temp451.sendAdserverSignal; var o;let n=je(e);n&&(n.code=t.id,r?this._handleDirectBidding(n,r):s.source==="lazyAd"?this._enqueueBid(n):((o=e.selectedSize)==null?void 0:o.lazyLoadViewportHeight)>0?Hd({element:t,placement:e}):this._enqueueBid(n))}_enqueueBid(e){this._bidsManager.enqueueBids({bidObjects:[e]})}_handleDirectBidding(e,t){let s=gS(e,this._gamManager);s&&this._bidsManager.requestBids({elementIds:[s.elementId],slots:[s.slot],sendAdserverSignal:t})}deleteAdSlots(e){if(e===void 0){this._logger.log("deleteAdSlots invoked and all slots will be destroyed"),this._gamManager.instance.pubads().getSlots().map(s=>s.getSlotElementId()).forEach(s=>this._nativeRenderManager.clearExistingAd(s)),this._gamManager.instance.destroySlots(),this._eventBus.emit(Ri);return}Array.isArray(e)||(e=[e]),this._logger.log(`deleteAdSlots invoked and the following ID(s) will be destroyed: ${e}`),this._removeAdUnits({list:e})}_removeAdUnits( _hh$temp452 ){ var e=_hh$temp452.list; let t=e.map(r=>de.getAdUnitBySlotElementId(r)),s=[];t.forEach(r=>{var o; let _hh$temp453=r,n=_hh$temp453.placement; if((o=n==null?void 0:n.sizeMappings)!=null&&o.some(a=>a.superflex)){let a=[...this._win.document.querySelectorAll(`[name="${n.name}"]`)];s=s.concat(a.flatMap(d=>d.id.includes("fs-sf")?de.getAdUnitBySlotElementId(d.id)||[]:[]))}}),e.forEach(r=>{this._gamManager.destroySlot({elementId:r}),this._nativeRenderManager.clearExistingAd(r)}),s.forEach(r=>{this._gamManager.destroySlot({elementId:r.slot.getSlotElementId()})})}};A.class(Au,{token:c.AD_SLOTS_MANAGER,defaultAlias:"adSlotsManager",dependencies:[c.AD_QUALITY_MANAGER,c.WINDOW,c.FREESTAR,c.BIDS_MANAGER,c.AD_SLOT_SERVICE,c.EVENT_BUS,c.GAM_MANAGER,c.LOGGER,c.FS_DATA,c.CONFIG_MANAGER,c.PREBID_MANAGER,c.NATIVE_RENDER_MANAGER,{token:c.STICKY_AD,optional:!0}]})});var yS=h(()=>{mS();ES()});var bu,SS=h(()=>{N();D();bu=class{constructor( _hh$temp454 ){ var e=_hh$temp454.window,t=_hh$temp454.freestar,s=_hh$temp454.dispensaryData; _(this,"init",()=>{this._isInitialized||(this._placements=this._dispensaryData.fsdata.placements.filter(e=>e==null?void 0:e.cssAdInsertion),this._placements.length&&(this._addHTML(),this._bindListeners(),this._isInitialized=!0))});_(this,"_bindListeners",()=>{let e=this._window;e.addEventListener("popstate",this._onLocationChange);let t=e.history.pushState,s=e.history.replaceState;e.history.pushState=(...r)=>{t.apply(e.history,r),this._onLocationChange()},e.history.replaceState=(...r)=>{s.apply(e.history,r),this._onLocationChange()}});_(this,"_onLocationChange",()=>{setTimeout(()=>{this._addHTML()},100)});_(this,"_isIdSelector",e=>{let t=e.trim();return t.includes(",")?!1:t.startsWith("#")?/^#[-_a-zA-Z0-9]+$/.test(t):/^\[id\s*(?:[~|^$*]?=)\s*(?:"[^"]+"|'[^']+'|[^\]\s]+)\s*\]$/.test(t)});_(this,"_getAvailableSlotId",(e,t,s)=>{if(!e.getElementById(t))return t;let r=2,n=`${s}_${r}`;for(;e.getElementById(n);)r+=1,n=`${s}_${r}`;return n});_(this,"_addHTML",()=>{let e=this._window.document,t=[];this._placements.forEach(s=>{let r=s.cssAdInsertion,n=this._isIdSelector(r),o=[];try{o=e.querySelectorAll(r)}catch(d){return}if(!o.length)return;let a=o.length>1;o.forEach((d,l)=>{let f,u;if(n){if(u=a?`${s.name}_${l+1}`:s.name,d.classList.contains("freestar-ad-insertion"))return;f=d,f.classList.add("freestar-ad-insertion"),f.id||(f.id=u)}else{let p=d.dataset.freestarAdInsertionId;if(p&&e.getElementById(p))return;let m=`${s.name}_${l+1}`;u=this._getAvailableSlotId(e,m,s.name),f=e.createElement("div"),f.id=u,f.className="freestar-ad-insertion",d.dataset.freestarAdInsertionId=u,d.insertAdjacentElement("afterend",f)}t.push({placementName:s.name,slotId:f.id||u})})}),t.length&&this._freestar.newAdSlots(t)});this._window=e,this._freestar=t,this._dispensaryData=s,this._isInitialized=!1}};A.class(bu,{token:"AdInsertionManager",defaultAlias:"adInsertionManager",dependencies:[c.WINDOW,c.FREESTAR,c.DISPENSARY_DATA]})});var IS,wr,wu=h(()=>{le();yc();IS=xs(vf()),wr=class{constructor( _hh$temp455 ){ var e=_hh$temp455.dispensaryData,t=_hh$temp455.window,s=_hh$temp455.freestar,r=_hh$temp455.logger,n=_hh$temp455.analytics,o=_hh$temp455.prebidManager,a=_hh$temp455.rebidManager; this._dispensaryData=e,this._win=t,this._freestar=s,this._logger=r,this._analytics=n,this._prebidManager=o,this._rebidManager=a}init(){return T(this,null,function*(){var e;yield this._loadScript(),(e=this._logger)==null||e.log("module initialized")})}get adQualityConfig(){ let _hh$temp456=this._dispensaryData.fsdata||{},e=_hh$temp456.adQualityOptions; return e}get url(){throw new Error("buildUrl method must be implemented by subclass")}_loadScript(e,t){return T(this,null,function*(){var s,r;if(this.adQualityConfig&&this.adQualityConfig.vendor===e&&(this.adQualityConfig.desktopEnabled||this.adQualityConfig.mobileEnabled)){try{yield gs(this.url)}catch(n){(s=this._logger)==null||s.log(["Script loading failed with error:",n]);return}(r=this._logger)==null||r.log(`Inserted ${e} script`),t&&t()}})}_sendMessage( _hh$temp457 ){ var e=_hh$temp457.args; this._analytics&&cn&&this._analytics.track(new cn(e))}_rebidBlockedAd( _hh$temp458 ){ var e=_hh$temp458.elementId; this._rebidManager.handleAdBlocked({elementId:e})}_dfpBlockProcess( _hh$temp459 ){ var e=_hh$temp459.elementId,t=_hh$temp459.blockingVendor; let s={blockingType:"dfp",isBlocked:!0,adUnitCode:e,blockingVendor:t};this._sendMessage({args:s})}_prebidSentAnalytics(e){let t=Object.keys(e).reduce((r,n)=>(n!=="adserverTargeting"&&n!=="ad"&&( __set$(r,n,__get$(e,n)) ),r),{}),s=(0,IS.default)({blockingType:"prebid",isBlocked:!0,bidCpm:t.cpm},t);this._sendMessage({args:s})}_handleEvent(){throw new Error("_handleEvent method must be implemented by subclass")}}});var Tr,AS=h(()=>{Ce();Nl();ft();wu();qd();Tr=class i extends wr{constructor(t){super(t);_(this,"prebidNameSpace","fsprebid");_(this,"_handleEvent",t=>{var r,n; let _hh$temp460=t,s=_hh$temp460.data; if(s.message==="CONFIANT_CALLBACK"&&s.isBlocked===1){let o=s.impressionData||{},a=((r=o.prebid)==null?void 0:r.s)||((n=o.dfp)==null?void 0:n.s);if(!a){this._logger.log("domId not found in impressionData");return}o.prebid?this._prebidBlockProcess(o):this._dfpBlockProcess({elementId:a,blockingVendor:$d}),this._rebidBlockedAd({elementId:a})}});this._logger.setContext("Confiant"),this._logger.setLevel(50)}init(){return T(this,null,function*(){this._shouldInitialize()&&this._buildBasicConfiantObject(),yield zr(i.prototype,this,"init").call(this)})}_shouldInitialize(){return this.adQualityConfig&&this.adQualityConfig.vendor==="CONFIANT"&&(this.adQualityConfig.desktopEnabled||this.adQualityConfig.mobileEnabled)}get url(){return`https://cdn.confiant-integrations.net/${this.adQualityConfig.vendorId}/gpt_and_prebid/config.js`}_loadScript(){return T(this,null,function*(){yield zr(i.prototype,this,"_loadScript").call(this,"CONFIANT",()=>{this._subscribe()})})}_buildBasicConfiantObject(){this._win.confiant=this._win.confiant||{},this._win.confiant.prebidNameSpace=this.prebidNameSpace,this._win.confiant.callback=(t,s,r,n,o,a)=>{ __call$(this._win,"postMessage",[{message:"CONFIANT_CALLBACK",isBlocked:r,impressionData:a}]) }}_prebidBlockProcess(t){ let _hh$temp461=t.prebid,s=_hh$temp461.adId,r=this._win.fsprebid.getAllWinningBids().find(n=>n.adId===s); r&&(this._prebidSentAnalytics(V(b({},r),{blockingVendor:$d})),this._prebidBlockExcludeBidderSet({bidResponse:r}))}_prebidBlockExcludeBidderSet( _hh$temp462 ){ var t=_hh$temp462.bidResponse; let s=j(uo);s.includes(t.bidder)||s.push(t.bidder),ve({key:Dl,value:s,type:Y.array}),this._removeBidder(t)}_removeBidder( _hh$temp463 ){ var t=_hh$temp463.bidder; this._prebidManager.instance.adUnits.forEach(s=>{s.bids=s.bids.filter(r=>oe(r.bidder)!==oe(t))})}_subscribe(){this._win&&this._handleEvent&&this._win.addEventListener("message",this._handleEvent.bind(this))}reportSingleAd(t){try{this._win.confiant.services().reportSingleAd(t)}catch(s){alert("Unable to report the ad: "+s.toString())}}}});var Tu=h(()=>{AS()});var bS,vu=h(()=>{bS="com.mediatrust.mediafilter"});var vr,wS=h(()=>{wu();vu();qd();vr=class i extends wr{constructor(e){super(e),this._logger.setContext("TheMediaTrust"),this._setMediafilterConfiguration()}get url(){return`https://scripts.mf.webcontentassessor.com/scripts/${this.adQualityConfig.vendorId}`}_loadScript(){return T(this,null,function*(){yield zr(i.prototype,this,"_loadScript").call(this,"THE_MEDIA_TRUST",this._subscribe.bind(this))})}_setMediafilterConfiguration(e={eventMessages:!0,eventLevels:[3]}){this._win.mediafilterConfiguration={setup:e}}_handleEvent(e){var t,s;if(this._isAdvertisementBlocked(e)){let r=(s=(t=e.detail.dataset.eventInstance.adObject)==null?void 0:t.getSlotElementId)==null?void 0:s.call(t),n=this._extractAdId(e);this._isNativeRenderBlock(e)?r=this._handleNativeRenderBlock(e,r):this._isPrebidThroughGoogleAdBlock(n)?this._handlePrebidThroughGoogleAdBlock(n):this._handleGoogleAdRenderBlock(r),this._rebidBlockedAd({elementId:r})}}_isAdvertisementBlocked(e){return e.detail.message==="Advertisement Blocked"}_extractAdId(e){let t=e.detail.dataset.eventInstance.securityViolationHTML.match(/ucTagData\.adId\s*=\s*["']([^"']+)["'];/);return t?t[1]:null}_isNativeRenderBlock(e){return e.detail.dataset.eventInstance.adObject.adType==="prebid"}_isPrebidThroughGoogleAdBlock(e){return!!e}_handleNativeRenderBlock(e,t){let s=e.detail.dataset.eventInstance.windowInstance.adId,r=this._prebidBlockProcess(s);return this._shouldUseAdUnitCode(t)&&(t=r.adUnitCode),t}_shouldUseAdUnitCode(e){return!e}_handlePrebidThroughGoogleAdBlock(e){this._prebidBlockProcess(e)}_handleGoogleAdRenderBlock(e){this._dfpBlockProcess({domId:e,blockingVendor:Yd})}_prebidBlockProcess(e){let t=Object.values(fsprebid.getBidResponses()).flatMap(s=>s.bids||[]).find(s=>s.adId===e);return this._prebidSentAnalytics(V(b({},t),{blockingVendor:Yd})),t}_subscribe(){this._win.addEventListener(bS,this._handleEvent.bind(this))}}});var Ru=h(()=>{wS();vu()});var $d,Yd,TS,qd=h(()=>{Tu();Ru();$d="CONFIANT",Yd="THE_MEDIA_TRUST",TS={[$d]:{factory:Tr},[Yd]:{factory:vr}}});var Gn,vS=h(()=>{N();D();qd();He();Gn=class{constructor(e){this._win=e.window,this._freestar=e.freestar,this._dispensaryData=e.dispensaryData,this._logger=e.logger,this._logger.setContext("AdQualityManager"),this._logger.setLevel(50),this._analytics=e.analytics,this._prebidManager=e.prebidManager,this._rebidManager=e.rebidManager,this._isInitialized=!1}init(){return T(this,null,function*(){if(!ee().allowConfiant()){this._logger.log("AdQualityManager: Confiant not allowed by IdealAdStack settings");return}if(this._isInitialized){this._logger.log("AdQualityManager already initialized");return}let e=this._getAdQualityConfig();if(!e){this._logger.log("No ad quality configuration found, skipping initialization");return}if(!e.vendor){this._logger.log("Ad quality vendor not specified in configuration");return}try{yield this._initializeProvider(e),this._isInitialized=!0,this._logger.log("AdQualityManager initialized successfully")}catch(t){this._logger.log("Failed to initialize AdQualityManager:",t)}})}_initializeProvider(e){return T(this,null,function*(){let t= __get$(TS,e.vendor) ;if(!(t!=null&&t.factory)){this._logger.log(`Unsupported ad quality vendor: ${e.vendor}`);return}let s={window:this._win,freestar:this._freestar,dispensaryData:this._dispensaryData,logger:this._logger,analytics:this._analytics,prebidManager:this._prebidManager,rebidManager:this._rebidManager},r=new t.factory(s);yield r.init(),this.provider=r})}_getAdQualityConfig(){var e;return((e=this._dispensaryData.fsdata)==null?void 0:e.adQualityOptions)||null}};A.class(Gn,{token:c.AD_QUALITY_MANAGER,defaultAlias:"adQualityManager",dependencies:[c.WINDOW,c.FREESTAR,c.DISPENSARY_DATA,c.LOGGER,c.ANALYTICS,c.PREBID_MANAGER,c.REBID_MANAGER],factory:e=>T(void 0,[e],function*( _hh$temp464 ){ var i=_hh$temp464.dependencies; yield i.prebidManager.ready;let t=new Gn(b({},i));return yield t.init(),t})})});var RS=h(()=>{vS();Tu();Ru()});var Ou,OS=h(()=>{N();D();Ou=class{constructor( _hh$temp465 ){ var e=_hh$temp465.dispensaryData,_hh$temp465$win=_hh$temp465.win,t=_hh$temp465$win===void 0?window:_hh$temp465$win; this._dispensaryData=e,this._window=t}validate(){ let _hh$temp466=this._dispensaryData.fsdata,e=_hh$temp466.onlyAllowedDomains,t=_hh$temp466.allowedDomains,s=_hh$temp466.urlBlocklist; if(e&&(t!=null&&t.length)&&!this._isDomainAllowed)throw new Error("The current domain is not in the allowed domains list, exiting...");if(s!=null&&s.length&&!this._isUrlAllowed)throw new Error("The current URL is in the blocked url list, exiting...")}get _isDomainAllowed(){return this._dispensaryData.fsdata.allowedDomains.some(e=>(e.indexOf("*.")===0&&(e=e.slice(2)), __get$(this._window.top,"location") .host.indexOf(e)!==-1))}get _isUrlAllowed(){ let e=/^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9](?:\.[a-zA-Z]{2,})+$/,t=u=>{try{return new URL(u),!0;}catch(p){return!1;}},s=u=>{let p=u.split("/");return e.test(p[0]);},_hh$temp467=__get$(this._window.top,"location"),r=__get$(_hh$temp467,"href"),n=_hh$temp467.pathname,o=_hh$temp467.host,a=_hh$temp467.search,d=(u,p)=>u.includes("/*")?r.includes(__call$(u,"replace",["/*",""])):p,l=u=>u.split("/")[0].includes("*"),f=u=>__get$(u,u.length-1)==="/"?u.substring(0,u.length-1):u; return!this._dispensaryData.fsdata.urlBlocklist.find(u=>{if(t(u))return d(u,f(r)===f(u));if(s(u))return d(u,f(o+n+a)===f(u));if(l(u)){let p=u.split("/"),m=p[0],E=p.slice(1).join("/"),S=E.length>0,I=o.includes( __call$(m,"replace",["*",""]) );if(!I)return!1;if(!S)return I;let g=f(o+n+a),y=f(E);return y.includes("/*")?r.includes( __call$(y,"replace",["/*",""]) ):g.includes(y)}else return n.includes(u)})}};A.class(Ou,{token:c.URL_VALIDATOR,dependencies:[c.DISPENSARY_DATA,{token:c.WINDOW,alias:"win"}]})});var CS=h(()=>{OS()});var xS=h(()=>{N();D();A.object({token:c.CONFIG_MANAGER,dependencies:[c.FREESTAR],defaultAlias:"config",factory:( _hh$temp468 )=>{ var i=_hh$temp468.dependencies; var t,s,r;let e=(s=(t=i.freestar)==null?void 0:t.configManager)!=null?s:{};return(r=i.freestar)==null||delete r.configManager,e}})});var PS=h(()=>{N();D();A.object({token:c.DISPENSARY_DATA,defaultAlias:"dispensaryData",dependencies:[c.FREESTAR],factory:( _hh$temp469 )=>{ var i=_hh$temp469.dependencies;  let _hh$temp470=i,e=_hh$temp470.freestar,t=e.dispensaryData||{}; return delete e.dispensaryData,t}})});var Es=h(()=>{Kp();As();mE();di();on();_E();sd();TE();PE();NE();vy();Oy();kf();My();Ly();ky();By();Wt();zy();fS();hS();yS();SS();RS();CS();xS();PS()});var BT,Ot,Vn,ee,He=h(()=>{Xr();Ul();Io();Ao();Yl();Co();en();et();Dt();N();Es();D();Eo();cs();BT={title:"IDEAL AD STACK v3.0"};window.freestar=window.freestar||{};Ot=class Ot{constructor(){this.active=!0,this.config=null,this.configByRtt=null,this.refreshCallback=()=>this.refreshData(),this.refreshingInProgress=!0,this.logs=new Ms,this.debugOrTestSession=null,this.allowedBothBidders=null,this.s2sBidders=null,this.bidderSummary=null,this.productToConfig=null,this.rttValue=null,this.isRefinementValue=null}init(){return T(this,null,function*(){ var _hh$temp471; let e,t,s,r=ut().get({requestId:"getIdealData"});if(r)( _hh$temp471=this.parseRequestHandlerResult(r),e=_hh$temp471.config,t=_hh$temp471.source,s=_hh$temp471.errors,_hh$temp471 );else{let n=So({key:as});n?(e=n,s=[],t=Oo):(e={},s=["data not yet available"],t=ds)}this.logs.add(`Got config from ${t}`),s.length>0&&(this.sendErrorMessage(s),this.logs.add("Config invalid!",JSON.stringify(e))),this.setConfig(e),this.setGlobalTimeout(),this.logs.show(BT),yield this.asyncInit()})}setConfig(e){this.config=e,this.debugOrTestSession=null,this.allowedBothBidders=null,this.s2sBidders=null,this.bidderSummary=null,this.productToConfig=null,this.rttValue=null,this.isRefinementValue=null}sendErrorMessage(e){G.instance.resolve(c.ANALYTICS).then(t=>{t.track(new Z({eventName:"DYNAMIC_AUCTION_TIMEOUT_TEST",eventType:"ERRORS",data:{errors:e.join(", ")}}))})}sessionStoreConfig( _hh$temp472 ){ var e=_hh$temp472.config; let t=e==null?void 0:e.floors,s=!$t({siteId:freestar.fsdata.siteId}),r=e==null?void 0:e.testGroup;s&&(!t&&r!=="experiment"||t!=null&&t.error)?Op({key:as,value:e}):s&&(t==null?void 0:t.length)===0?Cp({key:as,value:e}):Rp({key:as,value:e})}asyncInit(){return T(this,null,function*(){ let e=yield ut().fetch({requestId:"getIdealData",fetchFn:Us}),_hh$temp473=this.parseRequestHandlerResult(e),t=_hh$temp473.config,s=_hh$temp473.source,r=_hh$temp473.errors; s===ds&&r.length===0&&this.sessionStoreConfig({config:t}),t.knownUser||this.bindEvents(),this.refreshingInProgress=!1})}refreshData(){return T(this,null,function*(){if(this.refreshingInProgress)return;this.refreshingInProgress=!0;let e=yield ut().fetch({requestId:"getIdealData",fetchFn:Us}),s=(yield G.instance.resolve(c.USER_INFO_MANAGER)).isKnown;if(!this.parseRequestHandlerResult(e).config.knownUser&&s){ut().clearClassCachedData({requestId:"getIdealData"}); let r=yield ut().fetch({requestId:"getIdealData",fetchFn:ql}),_hh$temp474=this.parseRequestHandlerResult(r),n=_hh$temp474.config,o=_hh$temp474.source,a=_hh$temp474.errors; o===ds&&a.length===0&&(this.sessionStoreConfig({config:n}),window.freestar.queue.push(()=>{window.fsprebid.offEvent(St,this.refreshCallback)}))}this.refreshingInProgress=!1})}bindEvents(){!window.freestar||!window.freestar.queue||window.freestar.queue.push(()=>{window.fsprebid.onEvent(St,this.refreshCallback)})}parseRequestHandlerResult(e){ var _hh$temp476;  let t,s,r,_hh$temp475=e,n=_hh$temp475.data,o=_hh$temp475.error; return o?(t={},r=[o.toString()]):( _hh$temp476=n,t=_hh$temp476.data,s=_hh$temp476.source,_hh$temp476 ,s===ds?r=this.getErrors(t):r=[]),{config:t,source:s,errors:r}}getAllowedBothBidderOverrides( _hh$temp477 ){ var _hh$temp477$clientServer=_hh$temp477.clientServer,e=_hh$temp477$clientServer===void 0?{}:_hh$temp477$clientServer; let t=[],s=this.getAllowedBothBidders();return Object.entries(e).forEach(( _hh$temp478 )=>{ var _hh$temp479=__arrayFrom$(_hh$temp478),r=_hh$temp479[0],n=_hh$temp479[1]; n===_e.BOTH&&!s.includes(r)&&t.push(r)}),t}getConfig(e){e=e||"display";let t=b({},this.getConfigForProduct(e));t.clientServer||(t.clientServer={}),t.clientServer=b({},this.applyTestSessionOverride(t.clientServer));let s=this.getAllowedBothBidderOverrides({clientServer:t.clientServer});return s.length>0&&(delete t.clientServerMask,s.forEach(r=>{delete t.clientServer[r]})),t}getAllowedBothBidders(){return this.allowedBothBidders||(this.allowedBothBidders=this._buildAllowedBothBidders()),this.allowedBothBidders}_buildAllowedBothBidders(){var e;return(((e=freestar.fsdata)==null?void 0:e.networks)||[]).filter(t=>t.allowConcurrent&&(!t.distinctParamsRequired||t.sizes.some(s=>s.serverParams))).map(t=>t.slug)}applyTestSessionOverride(e){if(!this.isDebugOrTestSession())return e;let t=b({},e);return Object.keys(t).forEach(s=>{var n,o,a;let r=((a=(o=(n=window==null?void 0:window.freestar)==null?void 0:n.fsdata)==null?void 0:o.networks)==null?void 0:a.find(d=>d.slug===s))||null;r&& __get$(t,s) !==_e.OFF&&(r.isClient? __set$(t,s,_e.CLIENT) :r.isPrebidServer? __set$(t,s,_e.SERVER) :r.isClientAndServer&&( __set$(t,s,_e.BOTH) ))}),t}getServerToServerDetails(){if(!this.active)return{}; let _hh$temp480=this.config,e=_hh$temp480.testGroup,_hh$temp481=this.getConfig(),t=_hh$temp481.clientServerMask; return{clientServerMask:t,testGroup:e}}getDynamicAuctionTimeoutDetails(){ let _hh$temp482=this.config,_hh$temp482$maxTimeout=_hh$temp482.maxTimeout,e=_hh$temp482$maxTimeout===void 0?window.freestar.fsdata.timeout:_hh$temp482$maxTimeout,_hh$temp482$roundTripTime=_hh$temp482.roundTripTime,t=_hh$temp482$roundTripTime===void 0?null:_hh$temp482$roundTripTime; return{maxTimeout:e,roundTripTime:t}}getMaxAuctionTimeout(){ let _hh$temp483=this.getDynamicAuctionTimeoutDetails(),e=_hh$temp483.maxTimeout; return e}setGlobalTimeout(){let e=this.getMaxAuctionTimeout()||3e3;window.freestar.fsdata.timeout=e,window.freestar.fsdata.mobileTimeout=e}getErrors(e){let t=[];return Object.keys(e).length===0?t.push("no params"):typeof e.maxTimeout=="undefined"&&t.push("no maxTimeout"),t}getFloorsData(){return T(this,null,function*(){ let e=yield ut().fetch({requestId:"getIdealData",fetchFn:Us}),_hh$temp484=this.parseRequestHandlerResult(e),t=_hh$temp484.config; return t&&t.floors})}getBypassFirstAuction(){var e;return((e=this==null?void 0:this.config)==null?void 0:e.preGAMAuction)==="off"}getFeatureConfig(){return this.config&&this.config.features||{}}allowBrowsi(){return this.getFeatureConfig().browsi!=="off"}allowConfiant(){return this.getFeatureConfig().confiant!=="off"}allowBlockthrough(){return this.getFeatureConfig().blockthrough!=="off"}isRebidAllowed(){return this.getFeatureConfig().rebid!=="off"}isGAMEnabled(){return this.getFeatureConfig().gam!=="off"}getS2sBidders(e){return this.s2sBidders||(this.s2sBidders=this._buildS2sBidders(e)),this.s2sBidders}_buildS2sBidders(e=new Ii){let t=this.getBidderSummary(),s=Object.keys(t).filter(r=>["server","both"].includes( __get$(t,r) ));return!s.length&&(e!=null&&e.hasValidStoredRequests())&&s.push(e.getSlug()),s}static networkBidderBehaviour(e){var t,s,r;return e!=null&&e.isPrebidServer?_e.SERVER:e!=null&&e.isClientAndServer?_e.BOTH:(t= __get$(freestar.networkMap,e==null?void 0:e.id) )!=null&&t.prebidServerEnabled&&(!((s= __get$(freestar.networkMap,e==null?void 0:e.id) )!=null&&s.prebidClientEnabled)||(r= __get$(freestar.networkMap,e==null?void 0:e.id) )!=null&&r.prebidServerDefault)?_e.SERVER:_e.CLIENT}static addBidderBehaviour(e,t){let s=Ot.bitWiseBidderBehaviourMask.indexOf(e||_e.OFF),r=Ot.bitWiseBidderBehaviourMask.indexOf(t||_e.OFF);return  __get$(Ot.bitWiseBidderBehaviourMask,s|r) }static addClientServer(e,t){let s=b({},e);return Object.entries(t).forEach(( _hh$temp485 )=>{ var _hh$temp486=__arrayFrom$(_hh$temp485),r=_hh$temp486[0],n=_hh$temp486[1];  __get$(s,r) ? __set$(s,r,Ot.addBidderBehaviour(__get$(s,r),n)) : __set$(s,r,n) }),s}getBidderSummary(){return this.bidderSummary||(this.bidderSummary=this._buildBidderSummary()),this.bidderSummary}_buildBidderSummary(){let e=this.getSiteBidderSummary();return Object.values(this.getProductToConfigMap()).map(r=>r.clientServer).reduce(Ot.addClientServer,e)}getSiteBidderSummary(){return Object.fromEntries(window.freestar.fsdata.networks.map(t=>[t.slug,Ot.networkBidderBehaviour(t)]))}getConfigForProduct(e){let t=this.getProductToConfigMap();return  __get$(t,e) || __get$(t,yt) }getProductToConfigMap(){return this.productToConfig==null&&(this.productToConfig=this._buildProductToConfigMap()),this.productToConfig}getRtt(){if(this.rttValue==null&&(this.rttValue=1/0,this.config.roundTripTime!=null)){let e=Number(this.config.roundTripTime);!Number.isNaN(e)&&e!=null&&(this.rttValue=e)}return this.rttValue}isRefinement(){var e,t;return this.isRefinementValue==null&&(this.isRefinementValue=((t=(e=this.config)==null?void 0:e.testGroup)==null?void 0:t.startsWith(Np))||!1),this.isRefinementValue}addRefinementTargeting(e,t,s){if(!this.isRefinement())return e;let r=Ot.makeTargetingString(t,s);return V(b({},e),{targeting:r})}_buildProductToConfigMap(){if(!Array.isArray(this.config.clientServer))return this._buildProductToConfigMapExperiment();let t={};this.config.clientServer.forEach(n=>{ let _hh$temp487=__arrayFrom$(Object.entries(n)),_hh$temp487$i0=__arrayFrom$(_hh$temp487[0]),o=_hh$temp487$i0[0],_hh$temp487$i0$i1=_hh$temp487$i0[1],a=_hh$temp487$i0$i1.config;  __set$(t,o,this.addRefinementTargeting(a,o)) });let s={},r=this.getRtt();return this.config.clientServerRTT.forEach(n=>{ let _hh$temp488=__arrayFrom$(Object.entries(n)),_hh$temp488$i0=__arrayFrom$(_hh$temp488[0]),o=_hh$temp488$i0[0],a=_hh$temp488$i0[1],d=Ot.selectConfigByRtt(a,r); d&&( __set$(s,o,this.addRefinementTargeting(d.config,o,d.rttRange)) )}),b(b({},t),s)}_buildProductToConfigMapExperiment(){let e=this.getRtt();if(this.config.clientServerRTT&&Array.isArray(this.config.clientServerRTT)){let s=Ot.selectConfigByRtt(this.config.clientServerRTT,e);if(s){let r=this.addRefinementTargeting(s.config,yt,s.rttRange);return{[yt]:r}}}let t=this.addRefinementTargeting(this.config,yt);return{[yt]:t}}static makeTargetingString(e=yt,t=yt){let s=t===yt?yt:t[0];return`ad=${e};rttRange=${s}`}static selectConfigByRtt(e,t){let s;return e.forEach(r=>{ let _hh$temp489=r,n=_hh$temp489.rttRange; (n===yt||t>=n[0]&&t<=n[1])&&(s==null||s.rttRange===yt)&&(s=r)}),s}isS2SDisabled(){return this.getS2sBidders().length===0}allowRefresh(){return this.getFeatureConfig().refresh!=="off"}determineAdRefreshBehavior(){var n,o;let e=!!((o=(n=window.freestar)==null?void 0:n.fsdata)!=null&&o.adRefreshDisabled),t=!this.isGAMEnabled()&&this.isS2SDisabled(),s=this.allowRefresh();return{isRefreshAllowed:!e&&(t||s)}}_getDebugOrTestSession(){let e=$(Si.fsdebug),t=$(Si.fsaltconfig);return!!(e||t)}isDebugOrTestSession(){return this.debugOrTestSession===null&&(this.debugOrTestSession=this._getDebugOrTestSession()),this.debugOrTestSession}};_(Ot,"bitWiseBidderBehaviourMask",[_e.OFF,_e.CLIENT,_e.SERVER,_e.BOTH]);Vn=Ot,ee=Ai.getInstanceFn({ClassConstructor:Vn,instanceName:"idealAdstackManager"})});function jd(){return Cu==null&&(Cu=new xu),Cu}var xu,Cu,Pu=h(()=>{Dt();Fe();xu=class i{constructor(){this.slotMaxBids={},this.slotToPlacement={},this.placementToSlots={}}initiateWatcher(e){e.que.push(()=>{e.onEvent(us,this.handleBidResponse.bind(this))})}handleBidResponse(e){this.addSlotPlacementAssociation(e.adUnitCode),this.addBidResponse(e)}addSlotPlacementAssociation(e){if(e&&! __get$(this.slotToPlacement,e) ){let t=be({slotId:e});t&&( __set$(this.slotToPlacement,e,t) , __get$(this.placementToSlots,t) ||( __set$(this.placementToSlots,t,[]) ), __get$(this.placementToSlots,t) .push(e))}}addBidResponse(e){ let _hh$temp490=e,t=_hh$temp490.adUnitCode,s=_hh$temp490.cpm; t&&s&&(! __get$(this.slotMaxBids,t) || __get$(this.slotMaxBids,t) <s)&&( __set$(this.slotMaxBids,t,s) )}getSlotMaxBid(e){return i.validateMaxBid( __get$(this.slotMaxBids,e) )}getPlacementMaxBidBySlot(e){let t= __get$(this.slotToPlacement,e) ;return this.getPlacementMaxBid(t)}getPlacementMaxBid(e){let t= __get$(this.placementToSlots,e) ||[];return i.validateMaxBid(Math.max(...t.map(s=>this.getSlotMaxBid(s))))}static validateMaxBid(e){return!Number.isNaN(e)&&e!=null&&e>0?e:null}},Cu=null});function Rr(o){return T(this,arguments,function*( _hh$temp491 ){ var i=_hh$temp491.deviceVendor,e=_hh$temp491.deviceType,t=_hh$temp491.refreshNumber,s=_hh$temp491.placement,r=_hh$temp491.maxBid,n=_hh$temp491.isFloorsActive; let a=ks(),d=i==="Apple"?"smartphone-ios":e,f=(yield G.instance.resolve(c.USER_INFO_MANAGER)).isKnown,u=s&&r!=null?`&mb=${r}&au=${encodeURIComponent(s)}`:"",p=freestar.locData?freestar.locData.iso:"",m=n?"0":"1",E=`d=${a}&t=${d}&k=${f}&r=${t}${u}&c=${p}`,S=`${Pp}?${E}`,g=yield fetch(S,{headers:{"x-api-key":Ro,"x-lm":m}});if(!g.ok)throw new Error(`Request failed with status ${g.status}`);return g.json()})}var Du=h(()=>{xo();ii();zl();D()});var Yi,Nu,Mt,Zs=h(()=>{He();Pu();Ao();Du();en();N();Es();D();cs();qe();Yi=class Yi{constructor(e,t){this.idealAdStackManager=e,this.maxBidTracker=t,this.initialData=null,this.requests=[],this.maxBidRequests={},this.failedRequestCount=0,this.throttleRequests=!1,this.throttleExpiry=0}getInitialFloorsData(){return T(this,null,function*(){if($t({siteId:freestar.fsdata.siteId}))return this.initialData={timestamp:new Date,floors:[]}; let e=0,_hh$temp492=this.getRequest(e),t=_hh$temp492.timestamp,s=_hh$temp492.floors; return this.initialData?yield s:this.initialData={timestamp:t,floors:yield s},this.initialData})}getRequest(e,t,s){if(this.shouldThrottleRequests()){let n=t&&s!=null?`, placement ${t}, maxBid ${s}`:"";return freestar.log({level:20,title:"Floors"},`Floors throttled: fetch skipped for refresh ${e}${n}`),{timestamp:new Date,floors:Promise.resolve([])}}if((Oi()?t==null?void 0:t.customTargetingPlacementName:t)&&s!=null){if( __get$(this.maxBidRequests,t.name) ||( __set$(this.maxBidRequests,t.name,[null]) ), __get$(__get$(this.maxBidRequests,t.name),e) ||( __set$(__get$(this.maxBidRequests,t.name),e,{}) ),! __get$(__get$(__get$(this.maxBidRequests,t.name),e),s) ){let n=Oi()?t.customTargetingPlacementName:t.dfpId; __set$(__get$(__get$(this.maxBidRequests,t.name),e),s,{timestamp:new Date(),floors:this.fetchData(e,n,s)}) }return  __get$(__get$(__get$(this.maxBidRequests,t.name),e),s) }return  __get$(this.requests,e) ||( __set$(this.requests,e,{timestamp:new Date(),floors:this.fetchData(e)}) ), __get$(this.requests,e) }reportError(e){freestar.log({level:40,title:"Floors"},"Floors error",e),G.instance.resolve(c.ANALYTICS).then(t=>{t.track(new Z({eventName:"FLOORS_ERROR",eventType:"FETCH_RESPONSE",data:{message:e}}))})}fetchInitialData(){return T(this,null,function*(){let t=yield this.idealAdStackManager().getFloorsData();if(t)return!t.error&&t.length>0?t:(t!=null&&t.error&&(t!=null&&t.message)&&this.reportError(t.message),this.startThrottle(),[]); let _hh$temp493=yield ut().fetch({requestId:"getFloorsData",fetchFn:()=>{var n,o;return Rr({deviceVendor:window.freestar.deviceInfo.device.vendor,deviceType:window.freestar.deviceInfo.device.type,refreshNumber:0,isFloorsActive:(o=(n=window.freestar)==null?void 0:n.fsdata)==null?void 0:o.isTriple13Enabled});}}),s=_hh$temp493.data,r=_hh$temp493.error; if(r)this.reportError(r.toString());else{if(s&&!s.error&&s.length>0)return s;s!=null&&s.error&&(s!=null&&s.message)&&this.reportError(s.message)}return this.startThrottle(),[]})}countRequestFailed(){this.failedRequestCount+=1,this.failedRequestCount>=Yi.MAX_FAILED_REQUESTS&&this.startThrottle()}startThrottle(){this.throttleRequests=!0,this.throttleExpiry=Date.now()+Yi.FAILED_REQUEST_TIMEOUT}countRequestSucceeded(){this.failedRequestCount=0,this.throttleRequests=!1}shouldThrottleRequests(){return this.throttleRequests&&Date.now()>this.throttleExpiry?(this.startThrottle(),!1):this.throttleRequests}fetchData(e,t,s){return T(this,null,function*(){var o,a;if(e===0)return yield this.fetchInitialData();let r,n;try{r=yield Rr({deviceVendor:window.freestar.deviceInfo.device.vendor,deviceType:window.freestar.deviceInfo.device.type,refreshNumber:e,placement:t,maxBid:s,isFloorsActive:(a=(o=window.freestar)==null?void 0:o.fsdata)==null?void 0:a.isTriple13Enabled})}catch(d){n=d}if(n)this.reportError(n.toString());else{if(r&&!r.error&&r.length>0)return this.countRequestSucceeded(),r;r!=null&&r.error&&(r!=null&&r.message)&&this.reportError(r.message)}return this.countRequestFailed(),[]})}getFloor(e,t,s){let r=Oi()?s.customTargetingPlacementName:s.dfpId,n=t.find(l=>r===l.adUnit),o=n?n.upr:"timeout",a=n?new Date(n.lastUpdated):e,d=String(a.getUTCHours());return{floors_id:o,floors_hour:d}}getInitialFloorKVP( _hh$temp494 ){ var e=_hh$temp494.placement,t=_hh$temp494.keyMap; t||(t={});let r=(Oi()?e==null?void 0:e.customTargetingPlacementName:e)?this.getFloor(this.initialData.timestamp,this.initialData.floors,e):{};return  __call$(Object,"assign",[t,r]) }getFloorsData(n){return T(this,arguments,function*( _hh$temp495 ){ var e=_hh$temp495.placement,t=_hh$temp495.slotId,s=_hh$temp495.callback,_hh$temp495$isRebid=_hh$temp495.isRebid,r=_hh$temp495$isRebid===void 0?!1:_hh$temp495$isRebid;  var _hh$temp496; let o,a;if(ls({siteId:freestar.fsdata.siteId,placement:e})||_s(e))return o=null,a="inactive",void s({result:o,reason:a});let l=(yield G.instance.resolve(c.REFRESH_LIBRARY)).getRefreshLibraryItem({slotId:t}),f=((l==null?void 0:l.timesRefreshed)||0)+(r?1:0),u,p;if(f===0||r)( _hh$temp496=this.getRequest(f),u=_hh$temp496.timestamp,p=_hh$temp496.floors,_hh$temp496 );else{ var _hh$temp497; let m=this.maxBidTracker.getSlotMaxBid(t),E=Yi.formatMaxBid(m);( _hh$temp497=this.getRequest(f,e,E),u=_hh$temp497.timestamp,p=_hh$temp497.floors,_hh$temp497 )}o=this.getFloor(u,yield p,e),a=null,s&&s({result:o,reason:a})})}prefetchFloorsData( _hh$temp498 ){ var e=_hh$temp498.placement,t=_hh$temp498.slotId,s=_hh$temp498.timesRefreshed; let r=this.maxBidTracker.getSlotMaxBid(t),n=Yi.formatMaxBid(r);this.getRequest(s,e,n)}static formatMaxBid(e){if(e!=null){let t=e.toString();if(t){if(t.includes("e-"))return"0";if(t.includes("e"))return e.toPrecision(3);let s=e.toString().match(/^-?\d*(?:\.\d{0,2})?/);if(s){let r=s[0];for(;r.includes(".")&&(r.endsWith("0")||r.endsWith("."));)r=r.slice(0,-1);return r}}}return null}};_(Yi,"MAX_FAILED_REQUESTS",2),_(Yi,"FAILED_REQUEST_TIMEOUT",1e3*60*15);Nu=Yi,Mt=Ai.getInstanceFn({ClassConstructor:Nu,instanceName:"floorsManager",params:[ee,jd()]})});function DS( _hh$temp499 ){ var _hh$temp499$freestar=_hh$temp499.freestar,i=_hh$temp499$freestar===void 0?window.freestar:_hh$temp499$freestar,e=_hh$temp499.network; return!e.deviceExclusive||e.deviceExclusive.toLowerCase()===i.deviceInfo.device.type}var NS=h(()=>{});function FT(i,e){var r;if("indexExchange".indexOf(e.bidder)>-1&&e.params&&e.params.id&&e.params.id<0&&(e.dynamicId=!0),e.bidder==="conversant"){e.params.secure=freestar.isHttps;for(let n in e.params)switch(n){case"bidfloor":case"position":case"maxduration": __set$(e.params,n,Number(__get$(e.params,n))) ;break}}if(e.bidder==="cox"&&(e.params.id=Number(e.params.id),e.params.siteId=Number(e.params.siteId)),e.bidder==="justpremium"&&e.params&&(e.params.allow=MS(e.params.allow),e.params.exclude=MS(e.params.exclude),e.params.allow!==void 0&&(e.params.allow===null||e.params.allow.length===0)&&delete e.params.allow,e.params.exclude!==void 0&&(e.params.exclude===null||e.params.exclude.length===0)&&delete e.params.exclude),e.bidder==="pulsepoint")for(let n in e.params)n=="cf"&&( __set$(e.params,n,__call$(__get$(e.params,n),"replace",["X","x"])) );if(e.bidder==="connectad")for(let n in e.params)(n==="siteId"||n==="networkId")&&( __set$(e.params,n,Number(__get$(e.params,n))) );if(e.bidder==="grid"&&e.params&&e.params.uid&&(e.params.uid=Number(e.params.uid)),e.bidder==="beachfront")for(var t in e.params)(t=="video"||t=="banner")&&( __set$(e.params,t,typeof __get$(e.params,t)=="object"?__get$(e.params,t):JSON.parse(__get$(e.params,t))) );if(e.bidder==="undertone"&&(e.params.publisherId=Number(e.params.publisherId),e.params.placementId=Number(e.params.placementId)),e.bidder==="ttd"&&(e.params.publisherId=freestar.fsdata.companyId),e.bidder==="zid"&&(e.params.adUnitID=Gt(e.params.adUnitID)),e.bidder==="mantis"&&(e.params.zone=i.name),e.bidder==="districtmDMX"&&(e.params.dmxid=Number(e.params.dmxid),e.params.memberid=Number(e.params.memberid)),e.bidder==="answermedia"&&(e.params.siteId=Gt(e.params.siteId),e.params.networkId=Gt(e.params.networkId),e.params.zoneIds&&ro(e.params.zoneIds)&&e.params.zoneIds.split(",").length>0?e.params.zoneIds=e.params.zoneIds.split(",").map(function(n){return Gt(n)}):e.params.zoneIds=[]),e.bidder==="consumable"&&(e.params.siteId=Gt(e.params.siteId),e.params.networkId=Gt(e.params.networkId),e.params.unitId=Gt(e.params.unitId)),["appnexus","appnexusAst","brealtime","pagescience","defymedia","gourmetads","matomy","featureforward","oftmedia"].indexOf(e.bidder)>-1)for(let n in e.params)n=="placementId"&&( __set$(e.params,n,Number(__get$(e.params,n))) ),["allowSmallerSizes","member","invCode"].indexOf(n)>-1&&delete e.params[n];if(["defymedia","zid"].indexOf(e.bidder)>-1)return!1;e.bidder==="sortable"&&(e.params.tagId=i.name);let s=["sharethrough","triplelift"];if(i.stickyFooter===!0&&s.indexOf(e.bidder)>-1)return!1;if(e.bidder==="criteo"&&(e.params.zoneId=Number(e.params.zoneId)),e.bidder==="taboola"&&(e.params.tagId=i.name),e.bidder==="monetixads"&&e.params&&e.params.networkId&&(e.params.networkId=Number(e.params.networkId)),e.bidder==="teads")for(let n in e.params)(n==="pageId"||n==="placementId")&&( __set$(e.params,n,Number(__get$(e.params,n))) );if((e==null?void 0:e.bidder)==="flipp"&&(e!=null&&e.params)){ let _hh$temp500=e.params,n=_hh$temp500.siteId,o=_hh$temp500.zoneIds,a=_hh$temp500.dwellExpand; if(n&&o){let l=Number(n),f=Number(o);[l,f].every(u=>!Number.isNaN(u))&&(e.params.siteId=l,e.params.zoneIds=[f]),a==="true"&&(e.params.options={dwellExpand:!0})}let d=(r=freestar==null?void 0:freestar.msg)==null?void 0:r.fpc;d&&(e.params.userKey=d)}return dt(e)}function UT(i,e=!1){if(e===!1)return!0; let _hh$temp501=i,_hh$temp501$allowedGeos=_hh$temp501.allowedGeos,t=_hh$temp501$allowedGeos===void 0?[]:_hh$temp501$allowedGeos,_hh$temp501$disallowedGeos=_hh$temp501.disallowedGeos,s=_hh$temp501$disallowedGeos===void 0?[]:_hh$temp501$disallowedGeos,_hh$temp502=e,r=_hh$temp502.iso,n=__get$(freestar.networkMap,i.id); return n&&(n.allowedGeos&&n.allowedGeos.length&&(t=n.allowedGeos),n.disallowedGeos&&n.disallowedGeos.length&&(s=n.disallowedGeos)),t&&t.length&&t.indexOf(r)===-1||s&&s.length&&s.indexOf(r)!==-1?(freestar.log(1,`Users in ${freestar.locData.iso} are not allowed to use ${i.slug}!`),!1):!0}function GT( _hh$temp503 ){ var i=_hh$temp503.network; if(freestar.networkMap===!1||Object.keys(freestar.networkMap).length===0)return!0;let e= __get$(freestar.networkMap,i.id) ;return!e||ct()&&Gh.indexOf(i.slug)!==-1?(freestar.log(1,"isNetworkActive - Page Speed Optimized in effect, or network is inactive filtering out",i.slug),!1):e&&tp(e.active)?e.active:!0}function VT(i){return LS(i.size,[0,0])&&delete i.size,i}function Ye(i=window){return i.innerWidth&&i.document.documentElement.clientWidth?Math.min(i.innerWidth,i.document.documentElement.clientWidth):i.innerWidth||i.document.documentElement.clientWidth||i.document.getElementsByTagName("body")[0].clientWidth}function Wd(i,e){if(e.length>0&&Array.isArray(e[0])){let s=e.length;if(e[0][0]===0&&e[0][1]===0)return!0;for(;s--;)if(Wd(i, __get$(e,s) ))return!0}let t=i.length;for(;t--;)if( __get$(i,t) [0]===e[0]&& __get$(i,t) [1]===e[1])return!0;return!1}function LS(i,e){let t=i.length;for(;t--;)if( __get$(i,t) [0]===e[0]&& __get$(i,t) [1]===e[1])return!0;return!1}function kS(){return freestar.fsdata.placements}function Md(i){return!i.validAdSizes||!i.bidders||i.bidders.length===0||i.stickyFooter||i.dynamicAd?!1:zT(i)}function zT(i){return freestar.config!==void 0&&freestar.config.enabled_slots!==void 0?HT(freestar.config.enabled_slots,i.name):!0}function HT(i,e){for(let t=0;t<i.length;t++)if( __get$(i,t) .placementName===e)if(document.readyState==="complete"){if(window.document.getElementById(e))return!0}else return!0;return!1}function MS(i){if(!i)return null;let e=null;try{e=JSON.parse(i)}catch(t){e=null}return e!==null&&e.length>0?e:null}function Mu( _hh$temp504 ){ var i=_hh$temp504.network,e=_hh$temp504.adQualityBlockList; return UT(i,window.freestar.locData)&&GT({network:i})&&mo({network:i,adQualityBlockList:e})&&DS({network:i})}function Td(){return T(this,null,function*(){let i=po();function e(l,f){oe(l.bidder)==="ix"?f.sizes.forEach(u=>{let p={bidder:l.bidder,params:{siteId:l.params.siteId,size:u}};f.bidders.push(p)}):l&&f.bidders.push(l)}function t(l,f){return  __get$(ee().getBidderSummary(),l) ===_e.BOTH&&f===_e.CLIENT}function s(l){return l.deviceExclusive&&l.deviceExclusive.toLowerCase()!==freestar.deviceInfo.device.type}function r( _hh$temp505 ){ var l=_hh$temp505.clientOrServerBehaviour,f=_hh$temp505.size,u=_hh$temp505.parentNetwork,p=_hh$temp505.placement; let m=f.params;if(l===_e.SERVER&&(u!=null&&u.useDistinctParams)){if(!f.serverParams)return;m=f.serverParams}let E={bidder:u.slug,size:f.size,params:m},S=FT(p,VT(E));if(S){let I=t(u.slug,l)?go(u.slug):u.slug;return V(b({},S),{bidder:I})}}function n( _hh$temp506 ){ var l=_hh$temp506.size,f=_hh$temp506.parentNetwork,u=_hh$temp506.placement; return r({clientOrServerBehaviour:_e.CLIENT,size:l,parentNetwork:f,placement:u})}function o( _hh$temp507 ){ var l=_hh$temp507.size,f=_hh$temp507.parentNetwork,u=_hh$temp507.placement; return r({clientOrServerBehaviour:_e.SERVER,size:l,parentNetwork:f,placement:u})}function a(l,f,u,p=!1){ let m=$e(u),E=ee().getConfig(m),_hh$temp508=E,S=_hh$temp508.clientServer,I=__get$(S,l.slug),g=l; if(p){let y=freestar.fsdata.networks.find(R=>R.slug===l.slug);y&&(g=y)}if(p)I=_e.CLIENT;else{if(I===_e.OFF)return;I||(I=Vn.networkBidderBehaviour(g))}if(I===_e.CLIENT||I===_e.BOTH){let y=n({size:f,parentNetwork:g,placement:u});y&&e(y,u)}if(I===_e.SERVER||I===_e.BOTH){let y=o({size:f,parentNetwork:g,placement:u});y&&e(y,u)}}let d=freestar.config.channel||freestar.fsdata.defaultChannel;d&&(freestar.log(9," Setting the channel to:"+d),freestar.config.orignalChannel=d),freestar.fsdata.placements=freestar.fsdata.placements.filter(l=>!l.archived),freestar.fsdata.placements.forEach(l=>T(this,null,function*(){d&&(l.dfpId= __call$(l.dfpId,"replace",["{{channel}}",d]) ,freestar.log(9," Setting the dfp id to:"+l.dfpId)),l.bidders=[],l.sizes=[],l.validAdSizes=!1;let f=S=>S[0]===320&&S[1]===50,u=S=>{S.size&&(S.size=[[300,250]])},p=(S,I)=>{if(Array.isArray(S.size[0]))S.size.forEach(g=>{f(g)?(S.size.push([300,250]),I(null,!0)):I(!0)});else{let g=S.size;f(S.size)?(S.size=[g,[300,250]],I(null,!0)):I(!0)}};for(let S=0;S<l.sizeMappings.length;S++){let I= __get$(l.sizeMappings,S) ;if(Ye()>=I.viewport.size[0]){for(let g=0;g<I.size.length;g++){let y= __get$(I.size,g) ;l.selectedSize=I,y[0]==35843?(l.fluidAd=!0,l.validAdSizes=!0):Wd(I.size,y)&&!LS(l.sizes,y)&&(freestar.forceSize&&oo(freestar.forceSize.sort(),y.sort())?l.sizes.push(y):freestar.forceSize||l.sizes.push(y))}l.sizes.length>0&&(l.validAdSizes=!0);break}}let m=new Set,E=[];if(l.networks.forEach(S=>{Mu({network:S,adQualityBlockList:i})&&m.add(S.slug)}),l.networks.forEach(S=>{Mu({network:S,adQualityBlockList:i})&&S.sizes.forEach(I=>{if(E.push(I.size[0]),Wd(l.sizes,I.size)){if(s(I))return;a(S,I,l,!0)}})}),l.ignoreSiteBidders||freestar.fsdata.networks.forEach(S=>{m.has(S.slug)||Mu({network:S,adQualityBlockList:i})&&so({value:S.sizes})&&S.sizes.forEach(I=>{if(Wd(l.sizes,I.size)){if(s(I))return;a(S,I,l)}})}),l.sizes=bl(l.sizes),l.bidders=bl(l.bidders),l.sizes.length>0){ let _hh$temp509=ke({placement:l,type:J.STICKY_FOOTER_OPTIONS}),S=_hh$temp509.active,I=_hh$temp509.adhesionRemove; S&&I&&document.getElementById("fs-special-remove")&&(l.bidders=l.bidders.filter(g=>!["33across","gumgum"].includes(oe(g.bidder))))}})),Tp()>=1&&console.groupCollapsed("freestar.fsdata.placements"),freestar.log(1," freestar.fsdata.placements : "+JSON.stringify(freestar.fsdata.placements)),console.groupEnd()})}function nr(){let i=Uh,e=i.length,t=!1;if(freestar.locData&&freestar.locData.iso)for(let s=0,r=e;s<r;s++){let n= __get$(i,s) ;if(freestar.fsdata.siteId===n.siteId&&n.restrictedCountries.indexOf(freestar.locData.iso)>-1){t=!0;break}}return t}function Oi(i=freestar.fsdata){return Lu==null&&(Lu=i.placements.some(e=>e.customTargetingPlacementName)),Lu}function _s(i,e=freestar.fsdata){return Oi(e)&&!i.customTargetingPlacementName}var xE,Lu,qe=h(()=>{ss();ue();lt();jr();Wr();he();ft();Zs();He();Ht();NS();Xr();At();Co();xE= _hh$temp510=>{var i=_hh$temp510.adUnitPath;return window.freestar.fsdata.placements.find(e=>i===e.dfpId);} });function $T(i){ let e={},t=dt({code:i.name,sizes:i.sizes,mediaTypes:null,bids:i.bidders.filter(o=>o.bidder!=="amazon")}),s=$e(i),_hh$temp511=window.freestar.fsdata.ortb||{},_hh$temp511$battr=_hh$temp511.battr,r=_hh$temp511$battr===void 0?null:_hh$temp511$battr; t.ortb2Imp={ext:{data:{fs_ad_product:s,fs_ad_optimization:qt(i)}},tagid:i.name,battr:r},i.storedRequestId&&(t.ortb2Imp.ext.prebid={storedrequest:{id:i.storedRequestId}});let n=!1;if(i.sizeMappings.forEach(o=>{!n&&Ye()>=o.viewport.size[0]&&(o.mediaTypes.forEach(a=>{typeof  __get$(e,a) =="undefined"&&( __set$(e,a,{}) ),typeof  __get$(e,a) .sizes=="undefined"&&( __get$(e,a) .sizes=[]),o.size.forEach(m=>{if(m[0]<35843){if((a==="banner"||a==="native")&&"302x170, 443x250, 554x312, 640x360".includes(`${m[0]}x${m[1]}`))return; __get$(e,a) .sizes.push(m)}}), __get$(e,a) .sizes=sp( __get$(e,a) .sizes);let d=Vh.map(m=>m.join("x")),l=[],f=po();i.networks&&i.networks.forEach(m=>{mo({network:m,adQualityBlockList:f})&&m.sizes&&m.sizes.forEach(E=>{E.size.forEach(S=>{l.push(S)})})});let u=l.filter(m=>Array.isArray(m)).map(m=>m.join("x")),p=i.sizes.filter(m=>Array.isArray(m)).map(m=>m.join("x"));if( __get$(e,a) .sizes= __get$(e,a) .sizes.filter(m=>{if(d.indexOf(m.join("x"))!==-1||p.indexOf(m.join("x"))!==-1&&u.indexOf(m.join("x"))!==-1)return m}), __get$(e,a) .sizes= __get$(e,a) .sizes.sort(Js),a==="native"&&( __set$(e,a,__call$(Object,"assign",[__get$(e,a),{type:"image",sendTargetingKeys:!1}])) ),a==="video"){let m=[1,1]; __get$(e,a) .sizes.forEach(S=>{m[0]<S[0]&&(m=S)});let E=m[0]>=500?Kn:Qn; __set$(e,a,__call$(Object,"assign",[{},__get$(e,a),{api:[2],context:"instream",delivery:[2],linearity:2,maxduration:window.freestar.fsdata.adRefreshRate,mimes:["video/mp4","application/javascript","video/webm"],minduration:1,placement:1,playbackmethod:[6],playerSize:E[0],plcmt:4,protocols:[2,3,5,6],size:E,skip:0,useCacheKey:!0,renderer:{render:S=>{G.instance.create(c.IN_BANNER_VIDEO_PLAYER,{provide:{params:{bid:S}}});},url:"https://a.pub.network/superflex/loader.js"}}])) }}),n=!0)}),t.mediaTypes=e,!!t.bids){for(let o=t.bids.length-1;o>=0;o--){if( __get$(t.bids,o) .dynamicId&&( __get$(t.bids,o) .params.id=++freestar.dynamicIdNum), __get$(t.bids,o) .bidder){let a={minViewPort:[0,0],relevantMediaTypes:["banner","native"]},d={minViewPort:[0,0],relevantMediaTypes:["banner","native","video"]};switch(oe( __get$(t.bids,o) .bidder)){case"zid": __get$(t.bids,o) .params.adUnitID=Number( __get$(t.bids,o) .params.adUnitID), __get$(t.bids,o) .sizeConfig=[a];break;case"appnexus": __get$(t.bids,o) .sizeConfig=[d];break;case"onemobile": __get$(t.bids,o) .params.ext= __call$(Object,"assign",[__get$(t.bids,o).params.ext||{},{req:__get$(__get$Loc(location),"href")}]) , __get$(t.bids,o) .sizeConfig=[a];break;case"ttd": __get$(t.bids,o) .params.publisherId=freestar.fsdata.companyId, __get$(t.bids,o) .sizeConfig=[a];break;case"resetdigital":qT()||t.bids.splice(o,1);break;case"fsxs2s":case"pubmatic":case"rubicon":case"ix":case"unruly":case"yieldmo":case"openx":case"yahoo":case"mediagrid": __get$(t.bids,o) .sizeConfig=[d];break;default: __get$(t.bids,o) .sizeConfig=[a];break}["use_pmt_rule","usePaymentRule"].forEach(l=>{let f=ry( __get$(__get$(t.bids,o).params,l) );f!==void 0&&( __set$(__get$(t.bids,o).params,l,f) )})} __get$(t.bids,o) .size?BS( __get$(t.bids,o) .size[0],t.mediaTypes.banner.sizes)||t.bids.splice(o,1): __get$(t.bids,o) .params.size&&(BS( __get$(t.bids,o) .params.size,t.mediaTypes.banner.sizes)||t.bids.splice(o,1))}return t}}function BS(i,e){for(let t=0;t<e.length;t++)if(JSON.stringify(i)===JSON.stringify( __get$(e,t) ))return!0;return!1}function qT(){let i=window.freestar.locData&&window.freestar.locData.iso||null,e=window.freestar.locData&&window.freestar.locData.state||null;return i==="US"&&!["CA","CO","CT","VA","UT"].includes(e)}var je,Ni=h(()=>{he();ss();qe();At();ue();ft();Wr();N();D();le();Ed();je=$T});var hi,Or,Cr,ku,FS,vs=h(()=>{hi="FREESTAR VIDEO v1.0.0",Or={title:hi,styles:"background: black; color: white; border-radius: 3px; padding: 3px"},Cr="FOP",ku="FVP - PBJS IBV",FS="aps_springserve_outstream_ron"});function Rs(i){ let _hh$temp512=i.reduce((s,_hh$temp513=[])=>{var _hh$temp514=__arrayFrom$(_hh$temp513),_hh$temp514$i0=_hh$temp514[0],r=_hh$temp514$i0===void 0?0:_hh$temp514$i0,_hh$temp514$i1=_hh$temp514[1],n=_hh$temp514$i1===void 0?0:_hh$temp514$i1;return r>s.width&&(s.width=r),n>s.height&&(s.height=n),s;},{width:0,height:0}),e=_hh$temp512.width,t=_hh$temp512.height; return[e,t]}var Kd=h(()=>{});var US,ji,zn=h(()=>{D();Xe();Q();N();vs();Kd();US=["adsready","adRequest","adserror","loadstart","adImpression","adComplete","impression","progress","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","play","pause","ratechange","resize","volumechange"],ji=class{constructor( _hh$temp515 ){ var e=_hh$temp515.params; _(this,"handlePlayerEvent",e=>{ let _hh$temp516=e,t=_hh$temp516.type; switch(t){case"impression":this.handleImpressionEvent({event:e});break;case"volumechange":case"volumeChange":this.handleVolumeChangeEvent({event:e});break;case"allAdsCompleted":this.handleAllAdsCompleteEvent({event:e});break;case"adsready":this.handleAdsReadyEvent({event:e});break;case"ended":this.handleEndedEvent({event:e});break;case"adserror":this.handleAdsErrorEvent({event:e});break}});this.uuid=Ae(),this.params=e,this._playerId=`fsPlayer_${this.uuid}`}init(){}updateBottomSpacing(e){this.params.bottomSpacing=e,this.addCSS()}bindEvents(){this.player.on(US,this.handlePlayerEvent),this.player.on("ads-manager",e=>{ let _hh$temp517=e,t=_hh$temp517.adsManager; Object.keys(window.google.ima.AdEvent.Type).forEach(s=>{t.addEventListener( __get$(window.google.ima.AdEvent.Type,s) ,this.handlePlayerEvent)})})}addPlayer(){this.player=window.videojs(this._playerId,{controls:!1,disablePictureInPicture:!0,enableDocumentPictureInPicture:!1})}addHTML(){}addCSS(){}getLargestPossibleDimensions( _hh$temp518 ){ var e=_hh$temp518.placement;  let _hh$temp519=e,t=_hh$temp519.sizes; return t=t.filter(s=>Array.isArray(s)),Rs(t)}renderAd(){}handleEndedEvent( _hh$temp520 ){ var e=_hh$temp520.event; freestar.log(Or,"handleEnded",e)}handleAdsReadyEvent( _hh$temp521 ){ var e=_hh$temp521.event; freestar.log(Or,"handleAdsReadyEvent",e)}handleAdsErrorEvent( _hh$temp522 ){ var e=_hh$temp522.event; freestar.log(Or,"handleAdsErrorEvent",e)}handleVolumeChangeEvent(){this.player.ima.getAdsManager()&&this.player.ima.getAdsManager().getVolume()!==0&&this.player.ima.getAdsManager().setVolume(0)}handleImpressionEvent( _hh$temp523 ){ var e=_hh$temp523.event; freestar.log(Or,"handleImpressionEvent",e)}handleAllAdsCompleteEvent( _hh$temp524 ){ var e=_hh$temp524.event; freestar.log(Or,"handleAllAdsCompleteEvent",e)}remove(){var r,n,o,a,d,l,f,u;(r=this.player)==null||r.off(US,this.handlePlayerEvent);let e=(o=(n=this.player)==null?void 0:n.ima)==null?void 0:o.getAdsManager();e&&(Object.keys(window.google.ima.AdEvent.Type).forEach(p=>{e.removeEventListener( __get$(window.google.ima.AdEvent.Type,p) ,this.handlePlayerEvent)}),e.destroy()); let _hh$temp525=((a=this.player)==null?void 0:a.ima)||{},t=_hh$temp525.controller,s=(d=t==null?void 0:t.sdkImpl)==null?void 0:d.adsLoader; s&&((l=s.contentComplete)==null||l.call(s),(f=s.destroy)==null||f.call(s)),t.sdkImpl.adDisplayContainer.destroy(),(u=this.player)==null||u.dispose(),this.player=null,this.renderer=null,this.callback=null,this.request&&(this.request.cb=null,this.request._prebid=null,this.request._apstag=null,this.request=null)}sendEvent( _hh$temp526 ){ var _hh$temp526$name=_hh$temp526.name,e=_hh$temp526$name===void 0?hi:_hh$temp526$name,t=_hh$temp526.type,s=_hh$temp526.value; G.instance.resolve(c.ANALYTICS).then(r=>{r.track(new Z({eventName:e,eventType:t,data:b({name:this.placement.name,uuid:this.uuid},s)}))})}}});var xr,Bu=h(()=>{N();D();Xe();vs();xr=class{constructor( _hh$temp527 ){ var _hh$temp527$aps=_hh$temp527.aps,e=_hh$temp527$aps===void 0?!1:_hh$temp527$aps,_hh$temp527$apsSlot=_hh$temp527.apsSlot,t=_hh$temp527$apsSlot===void 0?FS:_hh$temp527$apsSlot,_hh$temp527$pbjs=_hh$temp527.pbjs,s=_hh$temp527$pbjs===void 0?!0:_hh$temp527$pbjs,r=_hh$temp527.pbjsCode,_hh$temp527$auctionTimeout=_hh$temp527.auctionTimeout,n=_hh$temp527$auctionTimeout===void 0?5e3:_hh$temp527$auctionTimeout,_hh$temp527$cb=_hh$temp527.cb,o=_hh$temp527$cb===void 0?null:_hh$temp527$cb,a=_hh$temp527.prebid,d=_hh$temp527.apstag; this.aps=e,this.apsSlot=t,this.pbjs=s,this.pbjsCode=r,this.auctionTimeout=n,this.auctionCutoff=2e4,this.cb=o,this.finished=[],this._prebid=a,this._apstag=d,this.init()}init(){this.requestBids()}requestBids(){this.aps&&this.requestAPSBids(),this.pbjs&&this.requestPBJSBids(),(this.aps||this.pbjs)&&(this.timer=setTimeout(()=>{clearTimeout(this.timer),G.instance.resolve(c.ANALYTICS).then(e=>{e.track(new Z({eventName:hi,eventType:"videoAuctionTimeout",data:{pbjsCode:this.pbjsCode}}))}),this.finishRequestingBids()},this.auctionCutoff))}requestAPSBids(){this._apstag&&this._apstag.fetchBids({timeout:this.auctionTimeout,slots:[{slotID:this.apsSlot,mediaType:"video"}]},e=>{this.finished.push("aps"),this.apsBids=e,this.checkIfBidsFinished()})}requestPBJSBids(){this._prebid.requestBids({adUnitCodes:[this.pbjsCode],bidsBackHandler:e=>{ let _hh$temp528=__get$(e,this.pbjsCode)||{},_hh$temp528$bids=_hh$temp528.bids,t=_hh$temp528$bids===void 0?[]:_hh$temp528$bids; this.finished.push("pbjs"),this.pbjsBids=t,this.checkIfBidsFinished()}})}checkIfBidsFinished(){let e=[];this.aps&&e.push("aps"),this.pbjs&&e.push("pbjs"),e.every(s=>this.finished.includes(s))&&(clearTimeout(this.timer),this.finishRequestingBids())}finishRequestingBids(){if(this.cb)try{this.cb(this)}catch(e){console.error(e)}}}});var Pr,Fu=h(()=>{ue();Pr=class{constructor( _hh$temp529 ){ var e=_hh$temp529.player,_hh$temp529$adTagUrl=_hh$temp529.adTagUrl,t=_hh$temp529$adTagUrl===void 0?"DEFAULT":_hh$temp529$adTagUrl,s=_hh$temp529.uuid,r=_hh$temp529.placement; this.player=e,this.adTagUrl=t,this.placement=r,this.uuid=s}renderAd(){typeof this.player.ima=="function"?(this.player.ima({adTagUrl:this.adTagUrl}),this.player.loadMedia({id:"XVXVXVXV",src:`${ei}/videos/blank1s-20231016.mp4`,type:"video/mp4"})):(this.player.ima.changeAdTag(this.adTagUrl),this.player.ima.requestAds())}}});var pi,GS=h(()=>{Fu();pi=class extends Pr{constructor( _hh$temp530 ){ var e=_hh$temp530.player,t=_hh$temp530.adTagUrl,s=_hh$temp530.uuid,r=_hh$temp530.placement; super({player:e,adTagUrl:t,uuid:s,placement:r}),this.init(),this.adTagUrl=t}init(){this.renderAd()}}});var Uu=h(()=>{GS();Fu()});var Gu,VS=h(()=>{st();N();D();le();vs();Uu();zn();Kd();Gu=class extends ji{constructor( _hh$temp531 ){ var e=_hh$temp531.params; super({params:e}),this.init()}init(){ let _hh$temp532=this.params,e=_hh$temp532.bid,_hh$temp533=e,t=_hh$temp533.adUnitCode,s=_hh$temp533.vastUrl,r=_hh$temp533.adId; this.adId=r,this.adUnit=de.getAdUnitByPrebidCode(t); let _hh$temp534=this.adUnit,n=_hh$temp534.placement; this.placement=n,this.addCSS(),this.addHTML({targetElm:document.getElementById(t)}),this.addPlayer(),this.bindEvents(),this.renderAd({vastUrl:s,adId:r})}addHTML( _hh$temp535 ){ var _hh$temp535$targetElm=_hh$temp535.targetElm,e=_hh$temp535$targetElm===void 0?document.body:_hh$temp535$targetElm; e.id&&Hs(e.id),this.videoPlayer=w({type:"div",id:`fs-player-container_${this.uuid}`}),this.videoPlayer.innerHTML=`<div class='fs-player-container-shim'><video id='fsPlayer_${this.uuid}' muted playsinline disablePictureInPicture class='video-js vjs-16-9 vjs-default-skin'></video></div>`,e.appendChild(this.videoPlayer)}addCSS(){let e=w({type:"style",id:`fs-player_${this.uuid}`}),t=this.getLargestPossibleDimensions({placement:this.adUnit.placement}),s=this.getPlayer16x9Dimensions({width:t[0]*.95,height:t[1]*.95});e.textContent=` #fs-player-container_${this.uuid} { width: ${t[0]}px; height: ${t[1]}px; display: flex; align-items: center; justify-content: center; background-color: #d3d3d3; } #fs-player-container_${this.uuid}>.fs-player-container-shim { width: ${s.width}px; height: ${s.height}px; border-radius: 10px; border: 0px; overflow: hidden; } `,document.head.appendChild(e)}getPlayer16x9Dimensions( _hh$temp536 ){ var e=_hh$temp536.width,t=_hh$temp536.height; let s=Math.min(e,Math.round(1.7777777777777777*t)),r=Math.round(9/16*s);return{width:s,height:r}}getLargestPossibleDimensions( _hh$temp537 ){ var e=_hh$temp537.placement;  let _hh$temp538=e,t=_hh$temp538.sizes; return t=t.filter(s=>Array.isArray(s)),Rs(t)}renderAd( _hh$temp539 ){ var e=_hh$temp539.vastUrl,t=_hh$temp539.adId;  let _hh$temp540=this.adUnit,s=_hh$temp540.prebid;  __get$(freestar.refreshLibrary,s.code) &&( __get$(freestar.refreshLibrary,s.code) .disableRefresh=!0),this.renderer=new pi({player:this.player,adTagUrl:e}),fsprebid.markWinningBidAsUsed({adId:t})}handleAdsReadyEvent(){let e={type:"videoBidAttemptedToPlay",value:{player:ku,placementId:this.placement.name,adId:this.adId}};this.sendEvent(e),this.player.play()}handleAdsErrorEvent(){this.remove()}handleImpressionEvent( _hh$temp541 ){ var e=_hh$temp541.event;  let _hh$temp542=e.ad.data,t=_hh$temp542.adSystem,s=_hh$temp542.creativeAdId,r=_hh$temp542.creativeId,n=_hh$temp542.duration,o=_hh$temp542.universalAdIds,a=_hh$temp542.vastMediaHeight,d=_hh$temp542.vastMediaWidth,l={type:"videoBidImpression",value:{player:ku,placementId:this.placement.name,adSystem:t,creativeAdId:s,creativeId:r,duration:n,universalAdIds:o,vastMediaHeight:a,vastMediaWidth:d,adId:this.adId}}; this.sendEvent(l)}handleAllAdsCompleteEvent(){this.remove()}remove(){var s,r; let _hh$temp543=this.adUnit,e=_hh$temp543.prebid,t=_hh$temp543.slot; e&& __get$(freestar.refreshLibrary,e.code) &&( __get$(freestar.refreshLibrary,e.code) .disableRefresh=!1),freestar.refresh([t.getSlotElementId()]),(r=(s=this.videoPlayer)==null?void 0:s.parentNode)==null||r.removeChild(this.videoPlayer),this.videoPlayer=null,super.remove()}};A.class(Gu,{token:c.IN_BANNER_VIDEO_PLAYER,dependencies:[c.FOP_VIDEO_SCRIPTS]})});var zS=h(()=>{zn();VS();Uu()});var Hn=h(()=>{zS()});var mi,Vu=h(()=>{Hn();ka();ue();mi=class extends Pr{constructor( _hh$temp544 ){ var e=_hh$temp544.player,t=_hh$temp544.placement,s=_hh$temp544.bids,r=_hh$temp544.uuid,n=_hh$temp544.videoAd; super({player:e,uuid:r,placement:t}),this.videoAd=n,this.bids=s,this.consentData=null,Wg(o=>{this.consentData=o}),this.init()}init(){this.updateAdTagURL(),this.renderAd()}updateAdTagURL(){this.adTagUrl=`https://tv.springserve.com/rt/${this.videoAd.videoId}?w=400&h=225&url=${encodeURIComponent( __get$(__get$Loc(location),"href") )}&cb=${Math.random()}&consent=${this.consentData&&this.consentData.gdpr?this.consentData.gdpr.tcString:""}&gdpr=${this.consentData&&this.consentData.gdpr?1:0}&us_privacy=${this.consentData&&this.consentData.usp?this.consentData.usp.uspString:""}&schain=1.0,1!${Ei},${window.freestar.fsdata.companyId},1,,,,`+this.getFloorBasedOnBids()+this.getAPSBids()+this.getGPID()}getGPID(){return!this.placement.dfpId||!this.placement.name?"":`&gpid=${this.placement.dfpId}/${this.placement.name}`}getFloorBasedOnBids(){return!this.bids.pbjsBids||this.bids.pbjsBids.length===0?"":`&bid_floor=${this.bids.pbjsBids[0].cpm}`}getAPSBids(){if(!this.bids.apsBids||this.bids.apsBids.length<=0)return"";let e=this.bids.apsBids[0];return"&amznbid="+e.amznbid+"&amzniid="+e.amzniid}}});var zu=h(()=>{Vu()});var Ft,Dr,Qd=h(()=>{Ft={session:"session",page:"page"},Dr={productOption:"productOption",placementSessionCap:"placementSessionCap",placementPageCap:"placementPageCap"}});var Nr,Hu=h(()=>{Qd();Nr=class{constructor( _hh$temp545 ){ var _hh$temp545$win=_hh$temp545.win,e=_hh$temp545$win===void 0?window:_hh$temp545$win,t=_hh$temp545.placement,_hh$temp545$product=_hh$temp545.product,s=_hh$temp545$product===void 0?void 0:_hh$temp545$product,_hh$temp545$callback=_hh$temp545.callback,r=_hh$temp545$callback===void 0?void 0:_hh$temp545$callback,_hh$temp545$pageLevelCapPathOption=_hh$temp545.pageLevelCapPathOption,n=_hh$temp545$pageLevelCapPathOption===void 0?Dr.placementPageCap:_hh$temp545$pageLevelCapPathOption,_hh$temp545$sessionLevelCapPathOption=_hh$temp545.sessionLevelCapPathOption,o=_hh$temp545$sessionLevelCapPathOption===void 0?Dr.placementSessionCap:_hh$temp545$sessionLevelCapPathOption; this.win=e,this.placement=t,this.product=s,this.productKey=s+"Options",this.pageLevelCapPathOption=n,this.sessionLevelCapPathOption=o,this.key=`fs.${this.product}.sessionfrequencycap`,this.callback=r,this.pageLevelData={},this.sessionLevelData={},this.init()}init(){var e;(e=this.win.freestar)!=null&&e.frequencyLibraryV2||(this.win.freestar.frequencyLibraryV2={}),this.setCapData(), __set$(this.win.freestar.frequencyLibraryV2,this.placement.name,this) }resetIteration( _hh$temp546 ={}){ var _hh$temp546$level=_hh$temp546.level,e=_hh$temp546$level===void 0?Ft.page:_hh$temp546$level; e===Ft.page?this.pageLevelData.iteration=0:(this.sessionLevelData.iteration=0,sessionStorage.setItem(this.key,"0"))}incrementIteration(){this.pageLevelData.iteration++,this.sessionLevelData.iteration++,sessionStorage.setItem(this.key,this.sessionLevelData.iteration.toString())}subtractIteration(){this.win.freestar.log(1,"Frequency Cap: iteration will remove this attempt as an iteration. Setting new sessionStorage item value."),this.pageLevelData.iteration>0&&this.pageLevelData.iteration--,this.sessionLevelData.iteration>0&&(this.sessionLevelData.iteration--,sessionStorage.setItem(this.key,this.sessionLevelData.iteration.toString()))}getCapPath(e){var s,r,n,o;return __get$({[Dr.productOption]:(r=(s=this.placement)==null?void 0:__get$(s,this.productKey))==null?void 0:r.cap,[Dr.placementSessionCap]:(n=this.placement)==null?void 0:n.sessionFrequencyCap,[Dr.placementPageCap]:(o=this.placement)==null?void 0:o.pageViewFrequencyCap},e) }getCapValue(e){return e&&e>0?e:-1}setCapData(){this.pageLevelData={cap:this.getCapValue(this.getCapPath(this.pageLevelCapPathOption)),iteration:this.getIteration({level:Ft.page})},this.sessionLevelData={iteration:this.getIteration({level:Ft.session}),cap:this.getCapValue(this.getCapPath(this.sessionLevelCapPathOption))}}getIteration( _hh$temp547 ={}){ var e=_hh$temp547.level; if(e===Ft.session){let t=sessionStorage.getItem(this.key);return Number(t)||0}if(e===Ft.page)return this.pageLevelData.iteration||0}hasExceededCap(e){ let _hh$temp548=e,t=_hh$temp548.iteration,s=_hh$temp548.cap; return s>0&&t>=s}isProductAllowed(){let e=this.hasExceededCap(this.sessionLevelData),t=this.hasExceededCap(this.pageLevelData);if(e||t){let s=e?"session":"page",r=e?this.sessionLevelData:this.pageLevelData;return this.win.freestar.log(1,`Frequency Cap: iteration of ${r.iteration} is higher than cap of ${r.cap}. ${this.product} will not run again until the next ${s}.`),!1}return this.win.freestar.log(1,`Frequency Cap: iteration of ${Math.max(this.sessionLevelData.iteration+1,this.pageLevelData.iteration+1)} is lower than or equal to the cap. Continue with ${this.product}.`),!0}}});var $u,Re,Wi,Mr=h(()=>{D();$u={BR:{bottom:10,right:10},BL:{bottom:10,left:10},TR:{top:10,right:10},TL:{top:10,left:10},mobile:{top:10,left:"50%",transform:"translateX(-50%)"}},Re={SMALL:"SMALL",LARGE:"LARGE",CUSTOM:"CUSTOM"},Wi=[{token:c.WINDOW,alias:"win"},c.FREESTAR,c.PREBID_MANAGER,c.AMAZON_MANAGER,c.DEVICE_INFO,c.FOP_VIDEO_SCRIPTS]});var YT,Jd,Ki,HS,$n=h(()=>{Mr();YT=i=>typeof i=="number"?`${i}px`:i,Jd=( _hh$temp549 )=>{ var _hh$temp549$adLocation=_hh$temp549.adLocation,i=_hh$temp549$adLocation===void 0?"BR":_hh$temp549$adLocation,_hh$temp549$isMobile=_hh$temp549.isMobile,e=_hh$temp549$isMobile===void 0?!1:_hh$temp549$isMobile,t=_hh$temp549.topSpacing,s=_hh$temp549.bottomSpacing; let r=["TR","TL"].includes(i)&&e?$u.mobile: __get$($u,i) ;return r?Object.entries(r).reduce( (n,_hh$temp550)=>{var _hh$temp551=__arrayFrom$(_hh$temp550),o=_hh$temp551[0],a=_hh$temp551[1];return((o==="top"&&typeof a=="number")&&t)&&(a=a+t),((o==="bottom"&&typeof a=="number")&&s)&&(a=a+s),n+`${o}: ${YT(a)};`;} ,""):""},Ki=( _hh$temp552 ={})=>{ var _hh$temp552$width=_hh$temp552.width,i=_hh$temp552$width===void 0?0:_hh$temp552$width,_hh$temp552$maxWidth=_hh$temp552.maxWidth,e=_hh$temp552$maxWidth===void 0?null:_hh$temp552$maxWidth,_hh$temp552$widthOnMaxExceeded=_hh$temp552.widthOnMaxExceeded,t=_hh$temp552$widthOnMaxExceeded===void 0?null:_hh$temp552$widthOnMaxExceeded; let s=i,r;return e&&i>e?(s=t||e,r=HS(e)):r=HS(s),[s,r]},HS=i=>Math.round(i*9/16)});var jT,WT,KT,QT,JT,Qi,Zd=h(()=>{Ni();le();zn();Bu();zu();Hn();Hu();Ke();Mr();$n();ue();N();D();jT={[Re.SMALL]:()=>[312,176],[Re.LARGE]:()=>[400,225],[Re.CUSTOM]:Ki},WT={[Re.SMALL]:()=>["45%",300],[Re.LARGE]:()=>["100%",400],[Re.CUSTOM]:Ki},KT={[Re.SMALL]:()=>[300,200],[Re.LARGE]:()=>[400,300],[Re.CUSTOM]:Ki},QT={[Re.SMALL]:()=>[300,200],[Re.LARGE]:()=>[400,300],[Re.CUSTOM]:Ki},JT=1,Qi=class extends ji{constructor( _hh$temp553 ){ var t=_hh$temp553.params,s=_hh$temp553.freestar,r=_hh$temp553.prebidManager,n=_hh$temp553.amazonManager,_hh$temp553$doc=_hh$temp553.doc,o=_hh$temp553$doc===void 0?document:_hh$temp553$doc,_hh$temp553$win=_hh$temp553.win,a=_hh$temp553$win===void 0?window:_hh$temp553$win,d=_hh$temp553.deviceInfo; super({params:t});_(this,"_scheduleNextAd",(t=this._delayBetweenAdsMs)=>{this._nextAdTimeoutId&&this._window.clearTimeout(this._nextAdTimeoutId),this._freestar.debug&&this._freestar.log(this._loggingLevel,`${this._name}: Scheduling next Ad in ${t}ms for "${this.videoAd.name}"`),this._nextAdTimeoutId=this._window.setTimeout(()=>{this._requestBids()},t)});_(this,"_handleBidResponse",(t={})=>{this.renderAd(t)});this._loggingLevel=1,this._name="InContentVideoAd"; let _hh$temp554=this.params,l=_hh$temp554.callback,f=_hh$temp554.videoAd; if(l&&typeof l!="function")throw new Error("Callback must be a function");this.callback=l,this.videoAd=f,this._document=o,this._window=a,this._freestar=s,this._prebidManager=r,this._deviceInfo=d,this._prebidManager=r,this._amazonManager=n,this._stylesheetId=`fs-player-${this.uuid}`,this._containerId=`fs-player-container-${this.uuid}`,this.placement=this._createVideoPlacement(f),this.adUnit=this._createAdUnit(this.placement); let _hh$temp555=this.videoAd,_hh$temp555$timeToWaitBetweenVideos=_hh$temp555.timeToWaitBetweenVideos,u=_hh$temp555$timeToWaitBetweenVideos===void 0?5:_hh$temp555$timeToWaitBetweenVideos; this._delayBetweenAdsMs=u*1e3,this._nextAdTimeoutId=null,this.init()}init(){var s;if(this.initFrequencyCap(),!this.frequencyCapManager.isProductAllowed())return this.callback(null,{uuid:this.uuid});if(!this.targetElement){this._window.freestar.log(this._loggingLevel,`${this._name}: Target element "${this.videoAd.name}" not found.`),(s=this.callback)==null||s.call(this,`Target element "${this.videoAd.name}" not found.`,{uuid:this.uuid});return}this._validateVideoAd()&&(this.addHTML(),this.addCSS(),this._prebidManager.instance.addAdUnits([this.adUnit]),this._requestFirstBid(),this._freestar.log(this._loggingLevel,`InContentVideoPlayer: Initialized for "${this.videoAd.name}"`))}initFrequencyCap(){ let _hh$temp556=this.params,t=_hh$temp556.videoAd,_hh$temp557=t,s=_hh$temp557.vendor,r=_hh$temp557.adType; this.frequencyCapManager=new Nr({placement:t,product:`${s}_${r}`,win:this._window})}get targetElement(){ let _hh$temp558=this.videoAd,t=_hh$temp558.parentElement,s=_hh$temp558.classIndex,r=_hh$temp558.name; if(t){let n=s>-1?s:0;return  __get$(this._document.querySelectorAll(t),n) }return this._document.getElementById(r)}get playerContainerElement(){return this._document.getElementById(this._containerId)}addHTML(){if(!this.playerContainerElement){let t=w({type:"div",id:this._containerId});this.targetElement.appendChild(t)}}_removeHTML(){var t;(t=this.playerContainerElement)==null||t.remove()}_addVideoElement(t=this.playerContainerElement){if(!t)return;let s=this._document.getElementById(this._playerId);s||(s=w({type:"video",id:this._playerId,classList:["video-js","vjs-16-9","vjs-default-skin"],attributes:[{muted:!0},{playsinline:!0}]}),t.appendChild(s))}addCSS(){ let _hh$temp559=this._getVideoPlayerDimensions(),t=_hh$temp559.width,s=_hh$temp559.height,r=!1,n=this._document.getElementById(this._stylesheetId); n||(n=w({type:"style",id:this._stylesheetId}),r=!0),n.textContent=` #${this._containerId} { display: flex; align-items: center; justify-content: center; width: ${t}; min-height: ${s}; margin: 0 auto; border-radius: 10px; position: relative; border-radius: 10px; border: 0px; overflow: hidden; } #${this._containerId}:after { content: 'ADVERTISEMENT'; display: block; position: absolute; top: 50%; left: 50%; transform: translateX(-50%); z-index: 1; font-family: sans-serif; font-size: 0.8rem; color: #646464; } `,r&&this._document.head.appendChild(n)}_getVideoPlayerDimensions(){ let t=this._deviceInfo.device.type===Ee?WT:jT,s=__get$(t,this.videoAd.playerSize)||__get$(t,Re.LARGE),_hh$temp560=__arrayFrom$(s({width:this.videoAd.width})),r=_hh$temp560[0],n=_hh$temp560[1],o=typeof r=="number"?`${r}px`:r,a=typeof n=="number"?`${n}px`:n; return{width:o,height:a}}renderAd(t){var s;this._addVideoElement(),this.addPlayer(),this.bindEvents(),this._freestar.debug&&this._freestar.log(this._loggingLevel,`${this._name}: Rendering Ad for "${this.videoAd.name}"`),this.bids=t,this.renderer=new mi({player:this.player,bids:t,placement:this.placement,videoAd:this.videoAd}),(s=this.onRender)==null||s.call(this)}completeAd(){var t;if(this.player){if(this.player.dispose(),this.player=null,this.renderer=null,this._freestar.debug&&this._freestar.log(this._loggingLevel,`${this._name}: Video Ad "${this.videoAd.name}" completed.`),this.frequencyCapManager.incrementIteration(),!this.frequencyCapManager.isProductAllowed())return this.callback(null,{uuid:this.uuid});this._scheduleNextAd(),(t=this.onCompleted)==null||t.call(this)}}handleEndedEvent(){this.completeAd()}handleAdsReadyEvent(){this.player.play()}handleAdsErrorEvent(){var r; let _hh$temp561=(r=this.bids)!=null?r:{},t=_hh$temp561.pbjsBids,_hh$temp562=__arrayFrom$(t||[]),s=_hh$temp562[0]; if(this.renderer instanceof mi&&(s==null?void 0:s.cpm)>=JT){this.renderer=new pi({player:this.player,adTagUrl:s.vastUrl});return}this.completeAd()}handleAllAdsCompleteEvent(){this.completeAd()}remove(){this._removeHTML(),this._window.clearTimeout(this._nextAdTimeoutId),this._prebidManager.instance.removeAdUnit(this.adUnit.code),super.remove()}_requestBids(){this.request=new xr({aps:this.videoAd.amazonActive,apsSlot:this.videoAd.amazonApsSlot||null,pbjs:!0,pbjsCode:this.adUnit.code,cb:this._handleBidResponse,prebid:this._prebidManager.instance,apstag:this._amazonManager.isEnabled?this._amazonManager.instance:null})}_requestFirstBid(){if(this.videoAd.delayTime){this._scheduleNextAd(this.videoAd.delayTime*1e3);return}this._requestBids()}_createVideoPlacement(t){ let _hh$temp563=t,s=_hh$temp563.name,r=_hh$temp563.prebidStoredRequestId,n=[{bidder:"appnexus",params:{placementId:32347997}}],o=this._getPlayerSize(); return{name:s,bidders:n,sizes:o,ignoreSiteBidders:!0,sizeMappings:[{size:o,viewport:{size:[0,0]},mediaTypes:["video"]},{size:o,viewport:{size:[768,0]},mediaTypes:["video"]}],storedRequestId:r}}_getPlayerSize(){var o; let _hh$temp564=this.videoAd,t=_hh$temp564.width,s=_hh$temp564.playerSize,r=this._deviceInfo.device.type===Ee?QT:KT; return[((o= __get$(r,s) )!=null?o: __get$(r,Re.LARGE) )({width:t})]}_createAdUnit(t){let s=je(t);return s.mediaTypes.video=V(b({},s.mediaTypes.video),{context:"outstream",renderer:{url:`${ei}/videos/blank1s-20231016.mp4`,render:()=>{}}}),this._prebidManager.instance.addAdUnits([s]),s}_validateVideoAd(){var r; let _hh$temp565=this.videoAd,t=_hh$temp565.adType,s=_hh$temp565.vendor; return t!==this.constructor.adType||s!=="FREESTAR_OUTSTREAM_PLAYER"?(this._freestar.log(this._loggingLevel,`${this._name}: Invalid ad type or vendor for "${this.videoAd.name}".`),(r=this.callback)==null||r.call(this,`Invalid ad type or vendor for "${this.videoAd.name}".`,{uuid:this.uuid}),!1):!0}};_(Qi,"adType","INCONTENT");A.class(Qi,{token:c.INCONTENT_VIDEO_AD,dependencies:Wi})});function Xt( _hh$temp566 ){ var i=_hh$temp566.bidder,_hh$temp566$cpm=_hh$temp566.cpm,e=_hh$temp566$cpm===void 0?null:_hh$temp566$cpm,t=_hh$temp566.requestTimestamp,s=_hh$temp566.videoAd,_hh$temp566$playerType=_hh$temp566.playerType,r=_hh$temp566$playerType===void 0?null:_hh$temp566$playerType,_hh$temp566$hb_partner=_hh$temp566.hb_partner,n=_hh$temp566$hb_partner===void 0?null:_hh$temp566$hb_partner; let o=Date.now(),a={bidder:oe(i),cpm:e,playerType:r,placementId:s.name||s.id,requestTimestamp:t,responseTimestamp:o,timeToRespond:o-t,bidCpm:e,hb_partner:n};freestar.log({title:pe},$S+`bid won for bidder ${i} and placement id ${s.name}. VIDEO MSG OBJECT: ${JSON.stringify(a)}`),G.instance.resolve(c.ANALYTICS).then(d=>{d.track(new ga(a))})}function Ct( _hh$temp567 ){ var i=_hh$temp567.bidder,e=_hh$temp567.placementId,t=_hh$temp567.tagUrl; let s={bidder:oe(i),placementId:e,tagUrl:t};freestar.log({title:pe},$S+`tag loaded for bidder ${i} and placement id ${e}. VIDEO MSG OBJECT: ${JSON.stringify(s)}`),G.instance.resolve(c.ANALYTICS).then(r=>{r.track(new _a(s))})}var $S,Ji=h(()=>{kt();N();D();Pi();ft();$S="Video Messaging: "});var qS,ZT,YS,jS,qu,WS=h(()=>{zn();vs();Ni();le();Ji();Vu();Hn();ss();Bu();Hu();Dt();Ke();Mr();$n();N();D();qS={[Me]:{[Re.SMALL]:()=>["312px","176px"],[Re.LARGE]:()=>["400px","225px"],[Re.CUSTOM]:Ki},[Ee]:{[Re.SMALL]:()=>["45%","112px"],[Re.LARGE]:()=>["100%","175px"],[Re.CUSTOM]:i=>Ki(V(b({},i),{maxWidth:300,widthOnMaxExceeded:"100%"}))}},ZT=i=>{ let _hh$temp568=dt(i),e=_hh$temp568.name,t=_hh$temp568.sizeMappings,n={name:e,bidders:[{bidder:"appnexus",params:{placementId:32347997}},{bidder:"pubmatic",params:{adSlot:"Freestar_FOP_RON_Outstream",publisherId:156696,siteId:1260033}}],sizes:[[400,300]],sizeMappings:t}; return n.name=n.name+"_outstream",n.ignoreSiteBidders=!0,n.sizeMappings=n.sizeMappings.map(o=>(o.mediaTypes=["video"],o.playerSize&&o.playerSize==="LARGE"&&(o.size=[[400,300]]),o.playerSize&&o.playerSize==="SMALL"&&(o.size=[[300,200]]),o)),n._storedRequestId="6d0caa66-2299-488d-a87a-1a82fcea7862",n},YS=!1,jS=!1,qu=class extends ji{constructor( _hh$temp569 ){ var t=_hh$temp569.params,s=_hh$temp569.prebidManager,r=_hh$temp569.amazonManager; super({params:t});_(this,"handlePrebidAuctionEndEvent",t=>{t.adUnitCodes.includes(this.prebidAdUnit.code)&&this.updatePrebidConfig("original")});_(this,"handleBidResponse",t=>{this.sendPbjsBidsEvent(),this.renderAd({data:t})});this.params=t; let _hh$temp570=this.params,n=_hh$temp570.callback,o=_hh$temp570.videoAd,a=_hh$temp570.placement; this.callback=n,this.placement=a,this.videoAd=o,this._prebidManager=s,this._amazonManager=r,this.abortController=new AbortController,this.videoPlacement=ZT(this.placement),this.prebidAdUnit=this.addPrebidAdUnit(),this.pbjsConfigs={original:{ortb2:b({},s.instance.getConfig("ortb2")),s2sConfig:b({},s.instance.getConfig("s2sConfig"))},outstream:{ortb2:b({},s.instance.getConfig("ortb2")),s2sConfig:b({},s.instance.getConfig("s2sConfig"))}},this.pbjsConfigs.outstream.ortb2.ext.prebid.storedrequest||(this.pbjsConfigs.outstream.ortb2.ext.prebid.storedrequest={}),this.pbjsConfigs.outstream.ortb2.ext.prebid.storedrequest.id="6d0caa66-2299-488d-a87a-1a82fcea7862",this.pbjsConfigs.outstream.s2sConfig.bidders=["appnexus"],this.init()}init(){jS||(jS=!0,this.sendEvent({type:"videoTagLoaded",value:{player:Cr,placementId:this.placement.name}})),this.sendEvent({type:"videoPlayerLoaded",value:{player:Cr,placementId:this.placement.name}}),this.initFrequencyCap(),this.frequencyCapManager.isProductAllowed()&&(this.addCSS(),this.addHTML(),this.addPlayer(),this.bindEvents(),YS||(this._prebidManager.instance.onEvent(St,this.handlePrebidAuctionEndEvent),YS=!0),this.updatePrebidConfig(),this.requestBids())}addPrebidAdUnit(){let t=je(this.videoPlacement);return t.mediaTypes.video.context="outstream",this._prebidManager.instance.addAdUnits([t]),t}initFrequencyCap(){ let _hh$temp571=this.params,t=_hh$temp571.videoAd,_hh$temp572=t,s=_hh$temp572.vendor,r=_hh$temp572.adType; this.frequencyCapManager=new Nr({placement:t,product:`${s}_${r}`})}getDeviceType(){return freestar.deviceInfo.device.type!==Ee?Me:Ee}getVideoPlayerDimensions(){var l; let t=this.getDeviceType(),s=(l=this.videoAd)==null?void 0:l.playerSize,r=this.videoAd.width,n=__get$(qS,t)||__get$(qS,Me),o=__get$(n,s)||__get$(n,Re.LARGE),_hh$temp573=__arrayFrom$(o({width:r})),a=_hh$temp573[0],d=_hh$temp573[1]; return{width:typeof a=="number"?`${a}px`:a,height:typeof d=="number"?`${d}px`:d}}addHTML(){let t=w({type:"div",id:"fs-player-container"});t.innerHTML=`<div class='fs-player-close' aria-labe='Close Player'><button class='fs-close-button'>&nbsp;</button></div><div class='fs-player-container-shim'><video id='fsPlayer_${this.uuid}' muted playsinline class='video-js vjs-16-9 vjs-default-skin'></video></div>`,document.body.appendChild(t),t.querySelector("button").addEventListener("click",()=>{this.remove({params:{userEnded:!0}})},{signal:this.abortController.signal})}addCSS(){let t=document.getElementById("fs-video-player"),s=!1;t||(t=w({type:"style",id:"fs-video-player"}),s=!0); let _hh$temp574=this.getVideoPlayerDimensions(),r=_hh$temp574.width,n=_hh$temp574.height,o=this.videoAd.adLocation.split("")[0]==="B"?"bottom":"top",a=this.videoAd.adLocation.split("")[1]==="R"?"right":"left",_hh$temp575=this.params||{},_hh$temp575$bottomSpacing=_hh$temp575.bottomSpacing,d=_hh$temp575$bottomSpacing===void 0?0:_hh$temp575$bottomSpacing,l=o==="bottom"?d:0; t.textContent=` #fs-player-container { position: fixed; border: 1px solid black; border-radius: 5px; overflow: visible; background-color: black; z-index: 2147483647; ${o}: ${l}px; ${a}: 0; width: ${r}; height: ${n}; transition: unset; ${a}: -${r}; visibility: hidden; } .fs-player-close { position: absolute; top: -13px; right: 5px; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; z-index: 2147483647; } .fs-player-close button { top: inherit !important; right: inherit !important; } `,this.getDeviceType()===Me?(l+=10,t.textContent+=` #fs-player-container { box-shadow: 0px 0px 15px 0px rgba(0,0,0,0.75); ${o}: ${l}px; } #fs-player-container.fs-show { visibility: visible; ${a}: 10px; transition: ${a} 0.5s; } `):t.textContent+=` .fs-player-container-shim { margin: 0 auto; max-width: 300px; } `,s&&document.head.appendChild(t)}updatePrebidConfig(t="outstream"){let s=this._prebidManager.instance.getConfig("s2sConfig"),r=this._prebidManager.instance.getConfig("ortb2");switch(t){case"outstream":s.bidders=["appnexus","pubmatic"],r.ext.prebid.storedrequest.id="6d0caa66-2299-488d-a87a-1a82fcea7862";break;default:s.bidders=this.pbjsConfigs.original.s2sConfig.bidders,r.ext.prebid.storedrequest.id=this.pbjsConfigs.original.ortb2.ext.prebid.storedrequest.id;break}this._prebidManager.instance.mergeConfig({s2sConfig:s,ortb2:r})}requestBids(){this.request=new xr({aps:this.videoAd.amazonActive,apsSlot:this.videoAd.amazonApsSlot||null,pbjs:!0,pbjsCode:this.prebidAdUnit.code,cb:this.handleBidResponse,prebid:this._prebidManager.instance,apstag:this._amazonManager.isEnabled?this._amazonManager.instance:null})}sendPbjsBidsEvent(){var t;(t=this.request.pbjsBids)==null||t.forEach(s=>{this.sendEvent({type:"videoBidRequest",value:{placementId:this.placement.name,player:Cr,bids:[s]}})})}renderAd( _hh$temp576 ){ var t=_hh$temp576.data; this.bids=t,this.renderer=new mi({player:this.player,bids:this.bids,placement:this.placement,videoAd:this.videoAd})}handleAdsReadyEvent(){this.player.play()}handleAdsErrorEvent(){ let _hh$temp577=this.bids,_hh$temp577$pbjsBids=_hh$temp577.pbjsBids,t=_hh$temp577$pbjsBids===void 0?[]:_hh$temp577$pbjsBids; this.renderer instanceof mi&&t&&t.length!==0&&t[0].cpm>=1?this.renderer=new pi({player:this.player,adTagUrl:this.bids.pbjsBids[0].vastUrl}):this.callback&&this.callback(!1,{ended:!0,uuid:this.uuid})}handleImpressionEvent( _hh$temp578 ){ var t=_hh$temp578.event; if(this.show(),Xt({bidder:hi,requestTimestamp:Date.now(),videoAd:this.videoAd,playerType:this.renderer instanceof mi?"springserve":"prebid"}),this.renderer instanceof pi){let f=b({},this.request.pbjsBids[0]);f.videoAdserverTargeting=[f.adserverTargeting],delete f.adserverTargeting,this.sendEvent({type:"videoBidImpression",value:b({player:Cr,placementId:this.placement.name},f)})} let _hh$temp579=t.ad.data,s=_hh$temp579.adSystem,r=_hh$temp579.creativeAdId,n=_hh$temp579.creativeId,o=_hh$temp579.duration,a=_hh$temp579.universalAdIds,d=_hh$temp579.vastMediaHeight,l=_hh$temp579.vastMediaWidth; this.sendEvent({type:"videoAdImpression",value:{player:Cr,placementId:this.placement.name,adSystem:s,creativeAdId:r,creativeId:n,duration:o,universalAdIds:a,vastMediaHeight:d,vastMediaWidth:l}})}handleAllAdsCompleteEvent(){this.frequencyCapManager.incrementIteration(),this.hide(),this.callback&&this.callback(null,{ended:!0,uuid:this.uuid})}show(){let t=document.getElementById("fs-player-container");t&&t.classList.add("fs-show")}hide(){let t=document.getElementById("fs-player-container");t&&t.classList.remove("fs-show")}remove(){this.hide();let t=document.getElementById("fs-video-player");t&&t.remove(),this._prebidManager.instance.removeAdUnit(this.prebidAdUnit.code);let s=document.getElementById("fs-player-container");s&&s.remove(),super.remove(),this.abortController.abort(),this._prebidManager.instance.offEvent(St,this.handlePrebidAuctionEndEvent)}};A.class(qu,{token:c.OUTSTREAM_VIDEO_PLAYER,dependencies:Wi})});var Xd,KS=h(()=>{Zd();le();$n();Ke();N();D();Mr();Xd=class extends Qi{constructor(e){super(e),this._name="FloatingVideoAd"}get targetElement(){ let _hh$temp580=this.videoAd,e=_hh$temp580.parentElement,t=_hh$temp580.classIndex,s=_hh$temp580.name; if(e){let n=t>-1?t:0;return  __get$(this._document.querySelectorAll(e),n) }let r=this._document.getElementById(s);return r||this._document.body}addCloseButton(){if(!this.playerContainerElement)return;let e=w({type:"div",classList:["fs-player-close"],attributes:[{"aria-label":"Close Player"}]}),t=w({type:"button",classList:["fs-close-button"]});t.innerHTML="&nbsp;",t.addEventListener("click",()=>this.callback(null,{uuid:this.uuid})),e.appendChild(t),this.playerContainerElement.appendChild(e)}addHTML(){super.addHTML(),this.addCloseButton()}addCSS(){ let _hh$temp581=this._getVideoPlayerDimensions(),e=_hh$temp581.width,t=_hh$temp581.height,s=!1,r=this._document.getElementById(this._stylesheetId); r||(r=w({type:"style",id:this._stylesheetId}),s=!0),r.textContent=` #${this._containerId} { display: flex; align-items: center; justify-content: center; width: ${e}; min-height: ${t}; margin: 0 auto; border-radius: 10px; border: 0px; position: fixed; z-index: 9999; ${this._adPosition} } #${this._containerId} .fs-player-close { visibility: hidden; position: absolute; ${["TL","TR"].includes(this._adLocation)?"bottom":"top"}: -13px; right: 5px; z-index: 10000; } #${this._containerId} .fs-player-close button { top: inherit !important; right: inherit !important; } `,s&&this._document.head.appendChild(r)}get _adPosition(){ let _hh$temp582=this.videoAd,e=_hh$temp582.headerHeight,_hh$temp583=this.params||{},t=_hh$temp583.bottomSpacing,r=(this._deviceInfo.device.type||Me)===Ee; return Jd({adLocation:this._adLocation,isMobile:r,topSpacing:e,bottomSpacing:t})}get _adLocation(){return this.videoAd.adLocation||"BR"}_setCloseButtonVisibility(e){let t=this.playerContainerElement.querySelector(".fs-player-close");t&&(t.style.visibility=e?"visible":"hidden")}onRender(){this._setCloseButtonVisibility(!0)}onCompleted(){this._setCloseButtonVisibility(!1)}};_(Xd,"adType","FLOATING");A.class(Xd,{token:c.FLOATING_VIDEO_AD,dependencies:Wi})});function el( _hh$temp584 ={}){ var _hh$temp584$classList=_hh$temp584.classList,i=_hh$temp584$classList===void 0?[]:_hh$temp584$classList; return w({type:"button",classList:i,attributes:[{"aria-label":"Close Ad"},{tabindex:0}]})}var Yu=h(()=>{Q()});var XT,ju,Wu,tl,QS=h(()=>{le();Yu();$n();Zd();Ke();N();D();Mr();XT={root:null,rootMargin:"0px",threshold:.5},ju="fs-in-content",Wu="fs-floating",tl=class extends Qi{constructor(t){super(t);_(this,"_onIntersection",t=>{t.forEach(s=>{let r=!s.isIntersecting;r!==this._isInFloatingMode&&(this._isInFloatingMode=r,this._updateStyles())})});this._name="InContentToFloatingVideoAd",this._observer=null,this._isInFloatingMode=!1,this._isLockedInContent=!1,this._attachIntersectionObserver()}addHTML(){if(!this.playerContainerElement){let t=el({classList:["fs-close-button"]});t.addEventListener("click",()=>this._handleClose());let s=w({type:"div",id:this._containerId,children:[w({type:"div",classList:["fs-player-close"],attributes:[{"aria-label":"Close Player"}],children:[t]})]}),r=w({type:"div",id:`${this._containerId}-placeholder`,children:[s]});this.targetElement.appendChild(r)}}addCSS(){var l,f; let _hh$temp585=this._getVideoPlayerDimensions(),t=_hh$temp585.width,s=_hh$temp585.height,r=((f=(l=this._deviceInfo)==null?void 0:l.device)==null?void 0:f.type)===Ee,_hh$temp586=this.videoAd,n=_hh$temp586.headerHeight,_hh$temp587=this.params||{},o=_hh$temp587.bottomSpacing,a=!1,d=this._document.getElementById(this._stylesheetId); d||(d=w({type:"style",id:this._stylesheetId}),a=!0),d.textContent=` #${this._containerId}-placeholder { display: flex; align-items: center; justify-content: center; width: ${t}; min-height: ${s}; margin: 0 auto; border-radius: 10px; position: relative; overflow: hidden; } #${this._containerId}-placeholder:after { content: 'ADVERTISEMENT'; display: block; position: absolute; top: 50%; left: 50%; z-index: 1; transform: translateX(-50%); font-family: sans-serif; font-size: 0.8rem; color: #646464; } #${this._containerId} { width: ${t}; min-height: ${s}; border-radius: 10px; border: 0px; } .${ju} { position: relative; } .${Wu} { position: fixed; z-index: 9999; ${Jd({adLocation:this._adLocation,isMobile:r,topSpacing:n,bottomSpacing:o})} } #${this._containerId} .fs-player-close { visibility: hidden; position: absolute; ${["TL","TR"].includes(this._adLocation)?"bottom":"top"}: -13px; right: 5px; z-index: 10000; } #${this._containerId} .fs-player-close button { top: inherit !important; right: inherit !important; } `,a&&this._document.head.appendChild(d)}_setCloseButtonVisibility(t){let s=this.playerContainerElement.querySelector(".fs-player-close");s&&(s.style.visibility=t?"visible":"hidden")}_removeHTML(){let t=this._document.getElementById(`${this._containerId}-placeholder`);t==null||t.remove()}remove(){var t;(t=this._observer)==null||t.disconnect(),this._observer=null,super.remove()}_updateStyles(){if(!this.playerContainerElement)return; let _hh$temp588=this.playerContainerElement,t=_hh$temp588.classList; if(this._isInFloatingMode&&!this._isLockedInContent){t.add(Wu),t.remove(ju);return}t.remove(Wu),t.add(ju)}get _adLocation(){return this.videoAd.adLocation||"BR"}_handleClose(){this._isLockedInContent=!0,this._updateStyles()}_attachIntersectionObserver(){this._observer=new IntersectionObserver(this._onIntersection,XT),this._observer.observe(this.targetElement)}onRender(){this._setCloseButtonVisibility(!0)}onCompleted(){this._setCloseButtonVisibility(!1)}};_(tl,"adType","INCONTENT_TO_FLOATING");A.class(tl,{token:c.INCONTENT_TO_FLOATING_VIDEO_AD,dependencies:Wi})});var JS=h(()=>{Zd();WS();KS();QS();zu()});var ZS=h(()=>{JS()});function il( _hh$temp589 ){ var i=_hh$temp589.type,e=_hh$temp589.device; return i&&(e&&e===Ee||e===Me)&& __get$(i,e) ? __get$(i,e) : __get$(i,Ee) }function ev(){let i=freestar.deviceInfo.device.type;return i===yi||i===Ee&&window.innerWidth>780?Me:i}function XS( _hh$temp590 ){ var i=_hh$temp590.selectedSize; return i&&i.videoAdhesionPosition&&i.videoAdhesionPosition!=="DEFAULT_VIDEO_ADHESION_POSITION"?i.videoAdhesionPosition:"BR"}function tI( _hh$temp591 ){ var i=_hh$temp591.callback,e=_hh$temp591.videoAd,t=_hh$temp591.placement; let s=window.freestar.fsdata.placementVideos.find(g=>g.id===e.videoId),r=ev(),n={mobile:"625208",desktop:"625207"},o={mobile:"frstrOSm_8",desktop:"frstrOSd_8"},a=XS(t),d=XS(t),l={mobile:{widthm:e.playerSize==="LARGE"?"100%":"45%",heightm:e.playerSize==="LARGE"?"175":"112",posm:d},desktop:{widthd:e.playerSize==="LARGE"?"400":"312",heightd:e.playerSize==="LARGE"?"225":"176",posd:a}};if(window.freestar.fsdata.networks.some(g=>g.slug==="amazon")&&s.amazonActive){let g=s.amazonApsSlot||`springserve_${window.freestar.fsdata.siteId}_${ __get$Loc(location) .host.split(".").length>2? __get$Loc(location) .host.split(".")[1]: __get$Loc(location) .host.split(".")[0]}`;l.mobile.apsSlot=g,l.desktop.apsSlot=g}let u=()=>s.supplyId&&s.supplyId.length?s.supplyId:il({type:n,device:r}),p={mobile:{spIdm:u()},desktop:{spIdd:u()}},m=`https://cdn.springserve.com/assets/0/playerJS/${il({type:o,device:r})}.js`;window._ssPlayer= __call$(Object,"assign",[il({type:p,device:r}),il({type:l,device:r})]) ;function E( _hh$temp592 ={}){ var _hh$temp592$userEnded=_hh$temp592.userEnded,g=_hh$temp592$userEnded===void 0?!1:_hh$temp592$userEnded; freestar.log(1,"Spring Serve Footer Video Iteration Complete",arguments),delete window.AdPlayerPro,typeof i=="function"&&(g?i(void 0,{userEnded:!0}):i(void 0,{ended:!0}),i=void 0)}let S=Date.now(),I=()=>{window.AdPlayerPro().on("AdStarted",function(){freestar.log(1,"Spring Serve Footer Video Started"),Xt({bidder:"springserve",videoAd:e,requestTimestamp:S}), __get$(freestar.frequencyLibrary,t.name) && __get$(freestar.frequencyLibrary,t.name) .cap&& __get$(freestar.frequencyLibrary,t.name) .incrementIteration()}),window.AdPlayerPro().on("AdError",function(){freestar.log(1,"Spring Serve Footer Ad Fetch Error"),E({})}),window.AdPlayerPro().on("AdUserClose",function(){freestar.log(1,"Spring Serve Footer Ad User Ended"),E({userEnded:!0})}),["AdStopped","AdVideoComplete"].forEach(y=>{window.AdPlayerPro().on(y,E)})};Ie(m,()=>{eI||(eI=!0,Ct({bidder:"springserve",placementId:e.videoId?e.videoId:"",tagUrl:m}));let g=()=>window.AdPlayerPro&&typeof window.AdPlayerPro=="function"&&typeof window.AdPlayerPro()=="object"&&typeof window.AdPlayerPro().on=="function",y=0,R=50,M=setInterval(()=>{if(g()?(clearInterval(M),I()):y+=1,y>=R)try{I()}catch(z){freestar.log(1,"Error binding events to SpringServe Video Player",z)}},10)})}var eI,iI=h(()=>{Ji();le();Ke();eI=!1});function Lr( _hh$temp593 ){ var i=_hh$temp593.placement,_hh$temp593$videoInstance=_hh$temp593.videoInstance,e=_hh$temp593$videoInstance===void 0?{}:_hh$temp593$videoInstance,t=_hh$temp593.refreshLibrary,s=_hh$temp593.adSlotsManager; this.body=document.body,this.placement=i,this._refreshLibrary=t,this._adSlotsManager=s,this.iteration=0,this.FOOTER_CORDIAL_KEY="fs.stickyfooter.cordial",this.stickyFooterId="fs-sticky-footer",this.stickyElement=void 0,this.stickySlotElement=void 0,this.slotWrapper=void 0,this.closeButton=void 0,this.brandingElement=void 0,this.reportAdIconElement=void 0,this.error=!1,this.disabled=!1,this.options=ke({placement:this.placement,type:J.STICKY_FOOTER_OPTIONS}),this.errorSet=()=>{this.error=!0},this.disabledSet=()=>{this.disabled=!0},this.cordial={set:()=>{if(this.cordial.isCordial()){freestar.log({title:We},"Cordial is being set in local storage with the following time : "+this.options.session);let r=this.options.session&&this.options.session>0?this.options.session:180,n=Date.now()+1e3*60*r;localStorage.setItem(this.FOOTER_CORDIAL_KEY,n.toString())}},isCordial:()=>(this.options.cordial?freestar.log({title:We},"Cordial is active."):freestar.log({title:We},"Cordial is not active."),this.options.cordial),isActivated:()=>{let r=localStorage.getItem(this.FOOTER_CORDIAL_KEY);if(r){if(r&&Date.now()>r)return freestar.log({title:We},"Cordial storage item found, but time has lapsed and storage item will be removed."),localStorage.removeItem(this.FOOTER_CORDIAL_KEY),!1}else return freestar.log({title:We},"Cordial storage item not found. Cordial not activated."),!1;return freestar.log({title:We},"Cordial is activated. Exiting process"),!0}},this.isAdhesionDisabled=()=>{if(!this.placement||!this.options||!this.placement.sizes.length||!this.body)return freestar.log({title:We},"No document body, placement, options, or sizes found! Exiting process."),this.errorSet(),!0;if(me({name:"stickyFooter"}))return this.disabledSet(),!0;if(this.options.remove){if(freestar.log({title:We},"Option to remove is true."),document.querySelector("fs-select-footer-remove")||document.querySelector(this.options.remove))return freestar.log({title:We},"Option to remove is on DOM! Exiting process."),this.disabledSet(),!0;freestar.log({title:We},"Option to remove is not on DOM sticky footer will continue.")}return  __get$(freestar.frequencyLibrary,this.placement.name) .cap>-1&&! __get$(freestar.frequencyLibrary,this.placement.name) .allowProduct()?(freestar.log({title:We},"Frequency Cap has been met. Exiting process."),this.disabledSet(),!0):this.cordial.isCordial()&&this.cordial.isActivated()?(this.disabledSet(),!0):(freestar.log({title:We},"Placement, options, and sizes found. No rules to disable have been accepted. Process will continue."),!1)},this.gumgumBidderRemoval=function(){this.options.gumgumSelect&&!document.getElementById("adhesion-select-one")&&(Al(this.placement.bidders,r=>r.bidder==="gumgum"),window.fsprebid.adUnits=window.fsprebid.adUnits.map(r=>(r.code===this.placement.name&&Al(r.bids,function(n){return oe(n.bidder)==="gumgum"}),r)),freestar.log({title:We},"Gumgum has been removed as a bidder"))},this.createStickyElement=function(){this.stickyElement=w({type:"div",id:this.stickyFooterId,classList:[this.stickyFooterId]}),this.stickyElement.style.zIndex=this.options.zindex&&`${this.options.zindex}`||"",this.body.appendChild(this.stickyElement)},this.setSlotMinHeight=function(){ let _hh$temp594=freestar.fsdata.placements.find(l=>l.name===this.placement.name),r=_hh$temp594.selectedSize,n=r.size.map(l=>l[1]),o=Math.max.apply(Math,n),d=(((freestar.deviceInfo.device.type===Ee&&ho()==="CONFIANT")&&freestar.fsdata.adQualityOptions)&&freestar.fsdata.adQualityOptions.confiantReportThisAdEnabled)&&ee().allowConfiant()?o+20:o; this.stickyElement.style.minHeight=`${d}px`},this.createSlotElement=function(){this.stickySlotElement=w({type:"div",id:this.placement.name,classList:["fs-sticky-slot-element"],attributes:{name:this.placement.name,[Vs]:"false"}}),this.stickySlotElement.style.visibility="inherit",this.slotWrapper=w({type:"div",id:"fs-slot-footer-wrapper",classList:["fs-sticky-parent","fs-sticky-wrapper"]}),this.slotWrapper.style.visibility="inherit",this.slotWrapper.style.zIndex="inherit",this.slotWrapper.appendChild(this.stickySlotElement),this.stickyElement.appendChild(this.slotWrapper);let r=()=>this.options.backgroundRgba&&this.options.backgroundRgba.length?this.options.backgroundRgba:freestar.fsdata.stickyFooterBackgroundRgba&&freestar.fsdata.stickyFooterBackgroundRgba.length?freestar.fsdata.stickyFooterBackgroundRgba:"rgba(247,247,247,.9)";this.backgroundColor=r(),this.setSlotMinHeight(),this.stickySlotElement.style.backgroundColor=this.backgroundColor,this.stickyElement.style.backgroundColor=this.backgroundColor;let n=()=>{this.stickyElement.style.minHeight=`${this.slotWrapper.offsetHeight}px`},o=()=>{ let d=document.getElementsByClassName("fs-sticky-slot-element")[0]||{},_hh$temp595=d,l=_hh$temp595.offsetHeight,f=_hh$temp595.offsetWidth; this.brandingElement&&(l>50&&f<468?this.brandingElement.classList.add("fs-mobile-tall"):this.brandingElement.classList.remove("fs-mobile-tall"))};googletag.pubads().addEventListener(Ho,d=>{d.slot.getSlotElementId()===this.placement.name&&(this.elementToggle("visible"),o(),n())}),googletag.pubads().addEventListener(xe,d=>{this.onSlotRenderEnded(d)}),fsprebid.que.push(()=>{fsprebid.onEvent(Gs,d=>{d.adUnitCode===this.placement.name&&this.onBidWon(d.bidderCode)})});function a(d){let l=document.getElementById(d),f=l==null?void 0:l.querySelector("div[id*='google_ads_iframe']");f&&f.setAttribute("style","display: none;")}G.instance.resolve(c.EVENT_BUS).then(d=>{d.subscribe(ri,( _hh$temp596 )=>{ var _hh$temp596$payload=_hh$temp596.payload,l=_hh$temp596$payload.elementId,f=_hh$temp596$payload.bid; l===this.placement.name&&(a(l),typeof f.height=="number"&&(this.stickyElement.style.minHeight=`${f.height+4}px`),o(),freestar.log({title:We},"Sticky footer rendered natively."))}),d.subscribe(qo,( _hh$temp597 )=>{ var _hh$temp597$payload=_hh$temp597.payload,l=_hh$temp597$payload.elementId; l===this.placement.name&&this.removeSpecialAdhesion()})})},this.removeSpecialAdhesion=()=>{var r,n;(n=(r=this.specialAdhesionElement)==null?void 0:r.parentNode)==null||n.removeChild(this.specialAdhesionElement),delete this.specialAdhesionElement},this.buttonEvents={onPage:!1,clicked:!1},this.closeButtonCreate=()=>{this.closeButton=el(),this.closeButton.setAttribute("class","fs-close-button fs-close-button-sticky"),this.closeButton.style.visibility="inherit",this.buttonEvents.onPage||(this.buttonEvents.onPage=!0,G.instance.resolve(c.ANALYTICS).then(r=>{r.track(new Z({eventName:"STICKY_BUTTON_SHOWED",eventType:"STICKY_FOOTER",data:{value:!0}}))})),this.slotWrapper.appendChild(this.closeButton),this.closeButton.addEventListener("click",this.closeButtonMethod)},this.closeButtonMethod=()=>{this.cordial.set(),this.removeStickyElements(),this.buttonEvents.clicked||(this.buttonEvents.clicked=!0,G.instance.resolve(c.ANALYTICS).then(r=>{r.track(new Z({eventName:"STICKY_CLOSE_CLICKED",eventType:"STICKY_FOOTER",data:{value:!0}}))}))},this.createReportThisAd=function(r,n){let o=document.createElement("a");o.textContent="Report This Ad",o.style.color="#999",G.instance.resolve(c.CONFIANT).then(a=>{o.addEventListener("click",function(){a.reportSingleAd(r)})}),n.appendChild(o)},this.createBranding=()=>T(this,null,function*(){ let _hh$temp598=__arrayFrom$(yield Promise.all([c.BRANDING,c.REPORT_AD].map(l=>G.instance.resolve(l,!0)))),r=_hh$temp598[0],n=_hh$temp598[1],o; r&&(o=r.createLink(this.placement));let a=this.placement.name,d=n==null?void 0:n.createTextButton(a,this.placement);if(o!=null&&o.enabled||d!=null&&d.enabled){let l=w({classList:["fs-sticky-popup-container"],style:{display:"none"}}),f=document.createElement("div");if(f.style.position="relative",o!=null&&o.enabled){this.brandingElement=w({type:"div",classList:["__fs-branding"]});let u=w({type:"a",attributes:[{target:"_blank"}]});this.brandingElement.style.visibility="inherit";let p=w({type:"img",src:o.getLogoUrl(),attributes:[{alt:"Freestar"}]});u.style.cursor.pointer,u.appendChild(p),this.brandingElement.appendChild(u),this.slotWrapper.appendChild(this.brandingElement),l.appendChild(o.getElement()),d.enabled&&l.appendChild(d.getElement()),f.appendChild(l),document.body.appendChild(f),this.brandingElement.addEventListener("click",function(m){var S,I;m.stopPropagation(),l.style.display=l.style.display==="none"?"grid":"none";var E=this.getBoundingClientRect();ni(l,{position:"fixed",top:`${E.top-70}px`,left:`${E.left-70}px`,backgroundColor:((S=this.options)==null?void 0:S.backgroundRgba)||((I=freestar.fsdata)==null?void 0:I.stickyFooterBackgroundRgba)||"rgba(247,247,247,.9)"})})}else{this.reportAdIconElement=w({type:"div",classList:["__fs-branding"]});let u=n.createIconButton(a,this.placement);this.reportAdIconElement.style.visibility="inherit",this.reportAdIconElement.appendChild(u.getElement()),this.slotWrapper.appendChild(this.reportAdIconElement)}document.addEventListener("click",function(){l.style.display="none"})}}),this.closeButtonMethod.bind(this),this.frequencyCapInit=()=>{ __set$(freestar.frequencyLibrary,this.placement.name,new pr({placement:this.placement,product:"stickyFooter"})) },this.videoAdRequest=function(r){var a;let n=Date.now(),o=(d,l)=>{var E;if(this.stickyFooterDeleted)return;if(l&&l.userEnded){freestar.log(1,"Sticky Footer Video: User ended video. Will not refresh sticky footer."),this.cordial.set();return}let f=((E= __get$(this._refreshLibrary,this.placement.name) )==null?void 0:E.refreshTime)||30,u=(Date.now()-n)/1e3,p=f-u;function m(){p>=10?freestar.currentStickyFooter.fillSlot(p):freestar.currentStickyFooter.fillSlot()}document.hasFocus()?m():freestar.focusQueue.push(m)};this.hideAdhesion(),(a=e.footerVideoInit)==null||a.call(e,{videoAd:r,callback:o,placement:this.placement})},this.fillSlot=function(r=void 0,n){var d,l,f;r||this.iteration++;let o=(d=e.videoFetch)==null?void 0:d.call(e,{iteration:this.iteration,placement:this.placement}),a=this._refreshLibrary.getRefreshLibraryItem({slotId:this.placement.name});if(o&&!r)this.isVideo=!0,this.hideAdhesion(),a!=null&&a.refreshTime&&a.setRefreshTime(-1),this.videoAdRequest(o);else{this.isVideo=!1,(l=a==null?void 0:a.setRefreshTime)==null||l.call(a,r);let u={fsrefresh:String((f=a==null?void 0:a.timesRefreshed)!=null?f:0)};this._adSlotsManager.newAdSlots([{slotId:this.placement.name,placementName:this.placement.name,targeting:u}],null,n)}},this.elementToggle=r=>{this.stickyElement&&(this.stickyElement.style.setProperty("display","block"),this.stickyElement.style.setProperty("visibility",r),this.stickyElement.style.setProperty("background-color",this.backgroundColor))},this.hideAdhesion=()=>{this.elementToggle("hidden")},this.showAdhesion=()=>{this.elementToggle("visible")},this.fetchCLSElement=()=>document.getElementById(this.placement.name+"-sticky-footer-cls"),this.init=function(){if(this.frequencyCapInit(),!this.isAdhesionDisabled()){if(Ti({slotId:this.placement.name,placementName:this.placement.name}),this.gumgumBidderRemoval(),this.options.clsEnabled?(this.stickyElement=this.fetchCLSElement(),this.stickyElement&&(this.stickyElement.className+=` ${this.stickyFooterId}`)):this.createStickyElement(),!this.stickyElement){freestar.log({title:We},"There is no sticky element! Exiting!");return}this.createSlotElement(),this.closeButtonCreate(),this.createBranding(),this.fillSlot()}},this.init(),this.onSlotRenderEnded=( _hh$temp599 )=>{ var r=_hh$temp599.isEmpty,n=_hh$temp599.slot; n.getSlotElementId()===this.placement.name&&(r?this.hideAdhesion():(this.showAdhesion(),rr({elementSelector:Jn.ogury,callback:(o,a)=>{o&&(this.hideAdhesion(),this.specialAdhesionElement=a)}})),freestar.performanceLogger.logMark({markerName:Pe.pubfigStickyFooterSlotRenderEnded,compareTo:[Pe.pubfigStickyFooterSlotRequested]}))},this.onBidWon=function(r){r=oe(r),this.showAdhesion(), __get$(Jn,r) &&rr({elementSelector: __get$(Jn,r) ,callback:(n,o)=>{n&&(this.hideAdhesion(),this.specialAdhesionElement=o)},timeout:10*1e3})},this.getIsNextVideo=()=>{var n;return!!((n=e.videoFetch)==null?void 0:n.call(e,{iteration:this.iteration+1,placement:this.placement}))},this.stickyFooterRefresh=r=>{r instanceof Promise?r.then(()=>{this.removeSpecialAdhesion()}):this.removeSpecialAdhesion();let n=this._refreshLibrary.getRefreshLibraryItem({slotId:this.placement.name});n.refreshTime=-1;let o=this.placement.name;r instanceof Promise&&r.then(()=>{window.freestar.superflex&&window.freestar.superflex.removeCSS({elementId:o})}),this.fillSlot(null,r)},this.removeStickyElements=()=>{[this.stickySlotElement,this.stickyElement,this.slotWrapper].forEach(r=>{try{r&&r.parentNode&&r.parentNode.removeChild(r)}catch(n){freestar.log(1,`Error: ${n}`)}})},this.deleteStickyFooter=()=>{this.stickyFooterDeleted=!0,this.isVideo&&window.AdPlayerPro&&window.AdPlayerPro().remove(),this.cordial.set(),s.deleteAdSlots([{elementId:this.placement.name}]),this.removeSpecialAdhesion(),this.removeStickyElements()},this.isSticky=r=>this.placement.name===r.slot.getSlotElementId()}var sl=h(()=>{he();Qe();lt();vn();Q();Yu();cr();ue();Fe();Wr();He();ft();Dt();Wt();Ht();Ke();kt();N();Es();D();Ca();le();zs()});var kr,Br,Ku=h(()=>{sl();Q();Qe();kt();N();D();Xe();kr={},Br=class{constructor( _hh$temp600 ){ var e=_hh$temp600.placement,t=_hh$temp600.videoInstance,s=_hh$temp600.refreshLibrary,r=_hh$temp600.adSlotsManager; this.placement=JSON.parse(JSON.stringify(e)),this.videoCount=0,this.timer=null,this._videoInstance=t||{},this._adSlotsManager=r||{},this._refreshLibrary=s,this.init()}init(){var t,s;if(this.videoAd=(s=(t=this._videoInstance).getEnabledVideo)==null?void 0:s.call(t,{placement:this.placement}),this.placement.stickyFooterOptions.videoPattern="NO_STICKY_FOOTER_OUTSTREAM_VIDEO_PATTERN",this.placement.stickyFooterOptions.video=!1,this.footer=new Lr({placement:this.placement,videoInstance:this._videoInstance,refreshLibrary:this._refreshLibrary,adSlotsManager:this._adSlotsManager}),this._appendCSS(),me({name:"videoAdhesion"}))return; let _hh$temp601=this.videoAd||{},_hh$temp601$delayTime=_hh$temp601.delayTime,e=_hh$temp601$delayTime===void 0?0:_hh$temp601$delayTime; e<1&&(e=1),freestar.log({title:pe},`${e}s before video loads...`),kr.delay=setTimeout(()=>{clearTimeout(kr.delay),this.initVendor()},e*1e3),this._attachStickyFooterResizeListener()}initVendor(){var e,t,s;!freestar.currentStickyFooter||!this.videoAd||(this.videoCount+=1,(s=(t=(e=this._videoInstance)==null?void 0:e.videoVendors)==null?void 0: __get$(t,this.videoAd.vendor) )==null||s.call(t,{callback:(r=null,n=null)=>{this.handleCallback(r,n)},placement:this.placement,videoAd:this.videoAd}))}_appendCSS(){ let e=w({type:"style",id:this._getStyleId()}),_hh$temp602=this.footer.slotWrapper,t=_hh$temp602.offsetHeight; e.textContent=this._getCustomStyles(t),document.head.appendChild(e)}handleCallback(e=null,t=null){if(!freestar.currentStickyFooter)return;if(e){freestar.log({title:pe},"ERROR",e);return} let _hh$temp603=this.videoAd,_hh$temp603$frequencyCap=_hh$temp603.frequencyCap,s=_hh$temp603$frequencyCap===void 0?0:_hh$temp603$frequencyCap; if(t.userEnded){freestar.log({title:pe},"User exited, no longer loading videos...");return}if(s>0&&this.videoCount>=s){freestar.log({title:pe},`Frequency cap set to ${s}, no longer loading videos...`);return}document.hasFocus()?this.callNextVideo():freestar.focusQueue.push(()=>{this.callNextVideo()})}callNextVideo(){if(!freestar.currentStickyFooter)return; let _hh$temp604=this.videoAd,_hh$temp604$timeToWaitBetweenVideos=_hh$temp604.timeToWaitBetweenVideos,e=_hh$temp604$timeToWaitBetweenVideos===void 0?0:_hh$temp604$timeToWaitBetweenVideos; freestar.log({title:pe},`${e}s before next video loads...`),kr.delay=setTimeout(()=>{clearTimeout(kr.delay),freestar.currentStickyFooter.initVendor()},e*1e3)}stickyFooterRefresh(e){this.footer.stickyFooterRefresh(e)}hideAdhesion(e){this.footer.hideAdhesion(e)}deleteStickyFooter(){if(Object.keys(kr).forEach(e=>{clearTimeout( __get$(kr,e) )}),freestar.currentStickyFooter.footer.deleteStickyFooter(),window.AdPlayerPro){let e=window.AdPlayerPro();e&&e.remove()}if(freestar.currentOutstreamPlayer){freestar.currentOutstreamPlayer.videoPlayer.dispose();let e=document.getElementById("fs-player-container");e==null||e.parentNode.removeChild(e)}delete freestar.currentStickyFooter}_adjustVideoPosition( _hh$temp605 ){ var _hh$temp605$payload=_hh$temp605.payload,e=_hh$temp605$payload.stickyFooterHeight; let t=document.querySelector(`#${CSS.escape(this._getStyleId())}`);t&&(t.textContent=this._getCustomStyles(e))}_attachStickyFooterResizeListener(){G.instance.resolve(c.EVENT_BUS).then(e=>{e.subscribe(qs,t=>this._adjustVideoPosition(t))})}_getCustomStyles(e=0){return` .orp-player-wrapper { margin-bottom: ${e+10}px !important; bottom: 0px !important; }`}_getStyleId(){return`${this.placement.name}-stylesheet`}isVisible(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}}});function rI(i,e,t,s,r){let n=freestar.fsdata.placements.filter(a=>tt({placement:a,type:J.STICKY_FOOTER_OPTIONS})&& __get$(a,J.STICKY_FOOTER_OPTIONS) .isOnCall);if(ct()&&n.length&&!sI){sI=!0,freestar.log("Sticky Footer: Sticky is on Call and PSO enabled next pub needs to call newStickyFooter");return}if(ct()&&!freestar.fsdata.psoDisableInteraction&&!Qu){fo({name:"stickyFooter",callback:tv.bind(null,{})});return}let o;if(i&&i.length?(freestar.log(1,`Sticky Footer: newStickyFooter method invoked and requesting placement with the name ${i}.`),o=ie({name:i})):(o=window.freestar.fsdata.placements.filter(a=>a.stickyFooterOptions&&a.stickyFooterOptions.active)[0],o&&freestar.log(1,`Sticky Footer: newStickyFooter method invoked without a name for a placement. The default Sticky Footer ${o.name} was found and will be used.`)),o){freestar.log(1,`Sticky Footer: newStickyFooter method - attempting a new sticky footer using placement ${o.name}.`),freestar.currentStickyFooter&&freestar.currentStickyFooter.placement&&(freestar.log(1,`Sticky Footer: newStickyFooter method - the current sticky footer will be removed ${freestar.currentStickyFooter.placement.name}.`),freestar.currentStickyFooter=void 0),freestar.currentStickyFooter&&freestar.currentStickyFooter.deleteStickyFooter&&freestar.currentStickyFooter.deleteStickyFooter(); let _hh$temp606=qn(o),a=_hh$temp606.stickyFooterOutstreamVideoPattern; a==="VIDEO_DISPLAY_CONCURRENT"?freestar.currentStickyFooter=new Br({placement:o,videoInstance:e,refreshLibrary:s,adSlotsManager:r}):freestar.currentStickyFooter=new Lr({placement:o,videoInstance:e,refreshLibrary:s,adSlotsManager:r}),freestar.deleteStickyFooter=freestar.currentStickyFooter.deleteStickyFooter}else freestar.log(1,"Sticky Footer: newStickyFooter method - no placement found for the sticky footer!");t&&t()}var Qu,sI,tv,qn,Ju=h(()=>{Q();sl();Ku();lt();jr();qe();Ht();Qu=!1,sI=!1,tv=function(i){Qu||(Qu=!0,freestar.newStickyFooter()),freestar.log(1,`${i}`)},qn=i=>{let e=!1;return i.sizeMappings.some(t=>{if(Ye()>=t.viewport.size[0]){ let _hh$temp607=t,s=_hh$temp607.stickyFooterOutstreamVideoPattern,r=_hh$temp607.delayTime,n=_hh$temp607.playerSize,o=_hh$temp607.timeToWaitBetweenVideos,a=_hh$temp607.videoAdhesionPosition,d=_hh$temp607.videoEnabled,l=_hh$temp607.videoAdId,f=_hh$temp607.videoId,u=_hh$temp607.frequencyCap; return e={stickyFooterOutstreamVideoPattern:s,delayTime:r,playerSize:n,timeToWaitBetweenVideos:o,videoAdhesionPosition:a,videoEnabled:d,videoAdId:l,videoId:f,frequencyCap:u},!0}}),e}});var rl,nI=h(()=>{iI();Ju();Q();ue();Qe();rl=class{constructor( _hh$temp608 ){ var e=_hh$temp608.freestar,t=_hh$temp608.freestarOutstreamVideo; _(this,"videoPatterns",{DISPLAY_INIT_DISPLAY_CONSECUTIVE:{enabledDisplayIterations:[],disabledVideoIterations:[4,6],enabledVideoIterations:[2,5,7]},DISPLAY_INIT_ALTERNATING:{enabledDisplayIterations:[],disabledVideoIterations:[],enabledVideoIterations:[2]},VIDEO_INIT_ALTERNATING:{enabledDisplayIterations:[2],disabledVideoIterations:[],enabledVideoIterations:[],videoInitial:!0},VIDEO_INIT_DISPLAY_CONSECUTIVE:{videoInitial:!0,enabledDisplayIterations:[],disabledVideoIterations:[10,15,18],enabledVideoIterations:[4,5,9,12,13,17,20,21,29,33]},DISPLAY_INIT_VIDEO_CONSECUTIVE:{enabledDisplayIterations:[],disabledVideoIterations:[],enabledVideoIterations:[...Array(34).keys()].splice(2)}});this._freestar=e,this._freestarOutstreamVideo=t}footerVideoInit( _hh$temp609 ){ var e=_hh$temp609.callback,t=_hh$temp609.videoAd,s=_hh$temp609.placement; t&&t.vendor&& __get$(this.videoVendors,t.vendor) && __call$(this.videoVendors,t.vendor,[{callback:e,videoAd:t,placement:s}]) }getPlacementVideoAd( _hh$temp610 ){ var e=_hh$temp610.placement; var r,n; let _hh$temp611=e,t=_hh$temp611.selectedSize; if(!(t!=null&&t.videoEnabled))return;let s=(r=freestar.fsdata.videoAds)==null?void 0:r.find(o=>o.name===t.videoAdId);return!s&&t.videoAdId&&(s=(n=freestar.fsdata.placementVideos)==null?void 0:n.find(o=>o.id===t.videoId)),s}getEnabledVideo( _hh$temp612 ){ var e=_hh$temp612.placement; let t=this.getPlacementVideoAd({placement:e});return t? __call$(Object,"assign",[qn(e),t]) :!1}getIfEnabledVideo( _hh$temp613 ){ var e=_hh$temp613.placement; return me({name:"videoAdhesion"})||freestar.locData&&freestar.locData.iso&&qh.indexOf(freestar.locData.iso)!==-1?!1:e.stickyFooterOptions&&e.stickyFooterOptions.video?this.getEnabledVideo({placement:e}):!1}videoFetch( _hh$temp614 ){ var e=_hh$temp614.iteration,t=_hh$temp614.placement;  let s=a_(t),_hh$temp615=s,r=_hh$temp615.stickyFooterOutstreamVideoPattern; if(r&&r!=="NO_STICKY_FOOTER_OUTSTREAM_VIDEO_PATTERN"&& __get$(this.videoPatterns,r) ){ let _hh$temp616=__get$(this.videoPatterns,r),n=_hh$temp616.disabledVideoIterations,o=_hh$temp616.enabledVideoIterations,a=_hh$temp616.enabledDisplayIterations,_hh$temp616$videoInitial=_hh$temp616.videoInitial,d=_hh$temp616$videoInitial===void 0?!1:_hh$temp616$videoInitial; if(d&&e===1)return this.getIfEnabledVideo({placement:t});if(a.length)return a.map(f=>e%f).includes(0)?!1:this.getIfEnabledVideo({placement:t});if(n.length&&n.map(f=>e%f).includes(0))return!1;if(o.length&&o.map(f=>e%f).includes(0))return this.getIfEnabledVideo({placement:t})}return!1}setVideoAdhesionEnabled(e){e?(freestar.currentStickyFooter&&(freestar.currentStickyFooter.iteration=0),freestar.config.products.videoAdhesion.disabled=!1):freestar.config.products.videoAdhesion.disabled=!0}get videoVendors(){return{SPRINGSERVE:tI,FREESTAR_OUTSTREAM_PLAYER:this._freestarOutstreamVideo}}}});var oI,iv,aI,dI,lI=h(()=>{oI=i=>{if(i.embedCode){let e=dI({videoAd:i});if(e){let s=document.createRange().createContextualFragment(i.embedCode);e.appendChild(s)}else freestar.log(20,`Failed to load STN video ad. Could not find container "${name}".`)}else freestar.log(30,"Failed to load STN video ad. Video ad must be configured with a name and embed code.")},iv=i=>{let e=i.match(/(?:data-stn-player|fk)=["']?([a-zA-Z0-9]+)/);return e.length?e[1]:null},aI=i=>{var r,n,o,a;let e=iv(i.embedCode);if(!e)return;let t=(n=(r=window.voltax)==null?void 0:r.getPlayersByName)==null?void 0:n.call(r,e);t!=null&&t.length&&((a=(o=t[0])==null?void 0:o.destroyPlayer)==null||a.call(o));let s=dI({videoAd:i});s&&(s.innerHTML="")},dI= _hh$temp617=>{var _hh$temp617$videoAd=_hh$temp617.videoAd,i=_hh$temp617$videoAd.parentElement,e=_hh$temp617$videoAd.name;return i?document.querySelector(i):document.getElementById(e);} });var cI,sv,fI,rv,nv,ov,Zu,av,uI,hI=h(()=>{N();D();Pi();Ji();Q();Ke();ue();kt();cI="freestarPrimisPlayer",sv=1.470588235,fI="freestarPrimisScript",rv=( _hh$temp618 )=>{ var i=_hh$temp618.details,e=_hh$temp618.videoAd,_hh$temp618$requestTimestamp=_hh$temp618.requestTimestamp,t=_hh$temp618$requestTimestamp===void 0?null:_hh$temp618$requestTimestamp; var u; let _hh$temp619=i||{},_hh$temp619$impValue=_hh$temp619.impValue,s=_hh$temp619$impValue===void 0?null:_hh$temp619$impValue,_hh$temp619$hbPartner=_hh$temp619.hbPartner,r=_hh$temp619$hbPartner===void 0?null:_hh$temp619$hbPartner,_hh$temp619$bidServingFee=_hh$temp619.bidServingFee,n=_hh$temp619$bidServingFee===void 0?null:_hh$temp619$bidServingFee,_hh$temp619$servingFee=_hh$temp619.servingFee,o=_hh$temp619$servingFee===void 0?null:_hh$temp619$servingFee,a=e.name||e.id,d=r||"primis",l=Date.now(),f={bidCpm:s,bidServingFee:(u=n!=null?n:o)!=null?u:null,bidder:d,placementId:a,requestTimestamp:t,responseTimestamp:l}; G.instance.resolve(c.ANALYTICS).then(p=>{p.track(new wa(f))})},nv=( _hh$temp620 )=>{ var i=_hh$temp620.videoAd,e=_hh$temp620.container; if(e&&e.appendChild){ let _hh$temp621=i,t=_hh$temp621.primisToken,s=_hh$temp621.device,r=s===Me.toUpperCase()||window.innerWidth>768?400:300,n=parseInt(r/sv,10),o=Math.round(new Date().getTime()/1e3),a=encodeURIComponent(__get$(__get$(window,"location"),"href")),d=`${__get$(window,"location").protocol}//live.primis.tech/live/liveView.php?s=${t}&cbuster=${o}&pubUrl=${a}&x=${r}&y=${n}&playerApiId=${cI}&schain=1.0,1!${Ei},${window.freestar.fsdata.companyId},1`; Ct({bidder:"primis",tagUrl:d,placementId:i.name}),s_({scriptSrc:d,target:Zu({videoAd:i}),id:fI}),window.top.sekindoFlowingPlayerOn=!1}},ov=( _hh$temp622 )=>{ var i=_hh$temp622.player,e=_hh$temp622.requestTimestamp,t=_hh$temp622.videoAd; i.addEventListener("adStarted",function(s){rv({details:s,videoAd:t,requestTimestamp:e})}),window.freestar.deleteVideo=function(){window.freestar.log({title:pe},"Video delete");let s=Zu({videoAd:t});if(s){let r=document.getElementById(fI);r&&r.remove();let n=Array.from(s.children).find(o=>o.querySelector("#primisPlayerContainerDiv")!==null||o.querySelector("#primis_container_div")!==null||o.id==="primisPlayerContainerDiv"||o.id==="primis_container_div");n&&s.removeChild(n)}}},Zu=( _hh$temp623 )=>{ var i=_hh$temp623.videoAd; let e=i.nthElement-1,t=document.querySelector("body");if(i.parentElement&&i.parentElement.indexOf("#")===0){if(t=document.querySelector(i.parentElement),e>-1)try{t= __get$(t.children,e) }catch(s){return freestar.log({title:pe},"PRIMIS ELEMENT NOT FOUND ON PAGE, SKIPPING"),!1}}else if(e>-1)if(i.parentElement&&i.parentElement.length){let s= __get$(document.querySelectorAll(i.parentElement),i.classIndex) ;try{t= __get$(s.children,e) }catch(r){return freestar.log({title:pe},"PRIMIS ELEMENT NOT FOUND ON PAGE, SKIPPING"),!1}}else e?t= __get$(document.body,e) :freestar.log({title:pe},"COULD NOT ACQUIRE DOM NODE FOR PRIMIS VIDEO. CONFIGURATION FOR VIDEO INCORRECT!");return t},av=i=>{window.addEventListener("primisPlayerInit",function(t){t.detail.playerApiId===cI&&ov({player:t.detail,requestTimestamp:Date.now(),videoAd:i})});let e=Zu({videoAd:i});if(e===null){freestar.log({title:pe},"COULD NOT ACQUIRE DOM NODE FOR PRIMIS VIDEO");return}nv({videoAd:i,container:e})},uI=av});function dv( _hh$temp624 ){ var i=_hh$temp624.videoAd; let e="//cd.connatix.com/connatix.player.js?cid=f9509d53-804e-427d-a0bc-1204c0a3bcb1";freestar.log({title:pe},"CONNATIX ELEMENTS : script loading..."),Ct({bidder:"connatix",placementId:i.name,tagUrl:e}),function(t){if(!window.cnx){window.cnx={},window.cnx.cmd=[];var s=t.createElement("iframe");s.src="javascript:false",s.display="none",s.onload=function(){var r=s.contentWindow.document,n=r.createElement("script");n.src=e,n.setAttribute("async","1"),n.setAttribute("type","text/javascript"),r.body.appendChild(n)},t.head.appendChild(s)}}(document)}function lv( _hh$temp625 ){ var i=_hh$temp625.videoAd,e=_hh$temp625.targetElement; let t=w({type:"script",id:i.scriptId});e.appendChild(t),freestar.log({title:pe},"CONNATIX ELEMENTS : script element created : ",t)}function cv( _hh$temp626 ){ var i=_hh$temp626.videoAd; let e={playerId:i.playerId,settings:{defaultSoundMode:window.cnx.configEnums.DefaultSoundModeEnum.Off}};return(!i.parentElement.length||i.toFloat||i.adType&&i.adType==="SLIDER")&&(e.settings.customization={floating:{mode: __get$(window.cnx.configEnums.FloatingModeEnum,!i.parentElement||i.adType==="SLIDER"?"Always":"AfterInView") ,fixedPosition:window.cnx.configEnums.FloatingFixedPositionModeEnum.Page,floatingWidth:i.width&&i.width>100?i.width:401,floatingGutterX:5}}),e}function Xu(i){if(freestar.log({title:pe},"CONNATIX ELEMENTS : video init..."),!i.scriptId)return; let _hh$temp627=i,e=_hh$temp627.parentElement,t=_hh$temp627.classIndex,s=t&&t>-1?t:0,r=e?__get$(document.querySelectorAll(e),s):document.body; if(r){freestar.log({title:pe},"CONNATIX ELEMENTS : video target element : ",r);let n=Date.now();dv({videoAd:i}),lv({videoAd:i,targetElement:r}),window.cnx.cmd.push(function(){cnx(cv({videoAd:i})).render(i.scriptId,function(o,a){a&&a.on&&window.cnx.configEvents&&window.cnx.configEvents.AdPlay&&a.on(window.cnx.configEvents.AdPlay,()=>{Xt({bidder:"connatix",videoAd:i,requestTimestamp:n})})})})}else freestar.log({title:pe},"CONNATIX ELEMENTS : video ad parent element not found. Skipping...")}var pI=h(()=>{Ji();Q();kt()});function fv( _hh$temp628 ){ var i=_hh$temp628.videoAd; let e="//cd.connatix.com/connatix.playspace.js?cid=f9509d53-804e-427d-a0bc-1204c0a3bcb1";freestar.log({title:pe},"CONNATIX PLAYSPACE : script loading..."),Ct({bidder:"connatix",placementId:i.name,tagUrl:e}),function(t){if(!window.cnxps){window.cnxps={},window.cnxps.cmd=[];var s=t.createElement("iframe");s.src="javascript:false",s.display="none",s.onload=function(){var r=s.contentWindow.document,n=r.createElement("script");n.src=e,n.setAttribute("async","1"),n.setAttribute("type","text/javascript"),r.body.appendChild(n)},t.head.appendChild(s)}}(document)}function uv( _hh$temp629 ){ var i=_hh$temp629.videoAd,e=_hh$temp629.targetElement; let t=w({type:"script",id:i.scriptId});e.appendChild(t),freestar.log({title:pe},"CONNATIX PLAYSPACE : script element created : ",t)}function hv( _hh$temp630 ){ var i=_hh$temp630.videoAd; let e={playerId:i.playerId,settings:{defaultSoundMode:window.cnxps.configEnums.DefaultSoundModeEnum.Off}};return(!i.parentElement.length||i.toFloat||i.adType&&i.adType==="SLIDER")&&(e.settings.customization={floating:{mode: __get$(window.cnxps.configEnums.FloatingModeEnum,!i.parentElement||i.adType==="SLIDER"?"Always":"AfterInView") ,fixedPosition:window.cnxps.configEnums.FloatingFixedPositionModeEnum.Page,scrollPosition:window.cnxps.configEnums.FloatingScrollPositionEnum.BottomRight,floatingWidth:i.width&&i.width>100?i.width:401,floatingGutterX:5,floatingGutterY:100}}),e}function mI(i){if(freestar.log({title:pe},"CONNATIX PLAYSPACE : video init..."),!i.scriptId)return; let _hh$temp631=i,e=_hh$temp631.parentElement,t=_hh$temp631.classIndex,s=t&&t>-1?t:0,r=e?__get$(document.querySelectorAll(e),s):document.body; if(r){freestar.log({title:pe},"CONNATIX PLAYSPACE : video target element : ",r);let n=Date.now();fv({videoAd:i}),uv({videoAd:i,targetElement:r}),window.cnxps.cmd.push(function(){cnxps(hv({videoAd:i})).render(i.scriptId,function(o,a){a&&a.on&&window.cnxps.configEvents&&window.cnxps.configEvents.AdPlay&&a.on(window.cnxps.configEvents.AdPlay,()=>{Xt({bidder:"connatix",videoAd:i,requestTimestamp:n})})})})}else freestar.log({title:pe},"CONNATIX PLAYSPACE : video ad parent element not found. Skipping...")}var gI=h(()=>{Ji();Q();kt()});var pv,eh,_I=h(()=>{ZS();nI();Xe();kt();D();Qe();vo();Es();Ke();lI();hI();pI();gI();N();pv={DISPLAY:"InBannerVideoPlayer",OUTSTREAM:"OutstreamVideoPlayer",INCONTENT:"InContentVideoAd",FLOATING:"FloatingVideoAd",INCONTENT_TO_FLOATING:"InContentToFloatingVideoAd"},eh=class{constructor( _hh$temp632 ){ var e=_hh$temp632.freestar,t=_hh$temp632.eventBus,s=_hh$temp632.dispensaryData; _(this,"videoPlayers",{});_(this,"_stickyFooterVideo");_(this,"remove",( _hh$temp633 )=>{ var _hh$temp633$uuid=_hh$temp633.uuid,e=_hh$temp633$uuid===void 0?null:_hh$temp633$uuid,_hh$temp633$name=_hh$temp633.name,t=_hh$temp633$name===void 0?null:_hh$temp633$name; e&& __get$(this.videoPlayers,e) &&( __get$(this.videoPlayers,e) .remove(),delete this.videoPlayers[e]),t&&Object.keys(this.videoPlayers).forEach(r=>{ __get$(this.videoPlayers,r) .videoAd.name===t&&( __get$(this.videoPlayers,r) .remove(),delete this.videoPlayers[e])});let s=this._dispensaryData.fsdata.videoAds.find(r=>r.name===t);s&&s.vendor==="STN"&&aI(s)});_(this,"add",e=>T(this,null,function*(){if(me({name:"video"})){freestar.log({title:pe},`${e} can't be added because video is disabled`);return}let t=this._dispensaryData.fsdata.videoAds.find(d=>d.name===e);if(!t)return; let _hh$temp634=t,s=_hh$temp634.vendor,r=_hh$temp634.device,n=_hh$temp634.name,o=_hh$temp634.videoSelect,a=_hh$temp634.adType; if(s&&r&&this._isVideoAllowed({device:r,videoSelect:o})){if(freestar.log({title:pe},`${n} eligible to run with device type ${freestar.deviceInfo.device.type} and is a ${s} video.`),s==="FREESTAR_OUTSTREAM_PLAYER"){let f=(E,S)=>{S!=null&&S.uuid&&this.remove({uuid:S.uuid})},u= __get$(pv,a) ;if(!u)return;let p=yield G.instance.create(u,{provide:{params:{videoAd:t,callback:f}}}); __set$(this.videoPlayers,p.uuid,p) ;let m=Sn();p.updateBottomSpacing(m);return}let d={connatixInit:Xu,primisInit:uI,connatixplayspaceInit:mI,stnInit:oI},l=`${s.split("_").join("").toLowerCase()}Init`; __get$(d,l) && __call$(d,l,[t]) }}));_(this,"init",( _hh$temp635 ={})=>{ var _hh$temp635$isAfterLoadingPage=_hh$temp635.isAfterLoadingPage,e=_hh$temp635$isAfterLoadingPage===void 0?!1:_hh$temp635$isAfterLoadingPage,_hh$temp635$failSafeStart=_hh$temp635.failSafeStart,t=_hh$temp635$failSafeStart===void 0?!1:_hh$temp635$failSafeStart; this._dispensaryData.fsdata.videoAds&&this._dispensaryData.fsdata.videoAds.length&&(performance.mark("video-initialization-start"),this._dispensaryData.fsdata.videoAds.forEach(s=>{s&&(s.videoAdStarted||s.adType!=="VIDEO_ADHESION_FLOATING"&&(!t&&(!e&&s.delayVideoAd||e&&!s.delayVideoAd)||(this._freestar.log(1,`VIDEO: Checking to see if ${s.name} should run`),s.onCallVideo?this._freestar.log(1,"VIDEO: Video is on call and will not run until the freestar.newVideo method is ran"):(this._freestar.log(1,`VIDEO: ${s.name} is being created!`),this.add(s.name)),s.videoAdStarted=!0)))}),performance.mark("video-initialization-end"))});_(this,"_isVideoAllowed", _hh$temp636=>{var _hh$temp636$device=_hh$temp636.device,e=_hh$temp636$device===void 0?Me:_hh$temp636$device,t=_hh$temp636.videoSelect;return this._videoDeviceCheck({videoDeviceType:e.toLowerCase()})||(e==="ALL_DEVICES"&&this._videoAllowed({videoSelect:t}));} );_(this,"_videoAllowed", _hh$temp637=>{var e=_hh$temp637.videoSelect;return!!(!e||!e.length||((e!=null&&e.length)&&document.getElementById(e)!==null));} );_(this,"_videoDeviceCheck", _hh$temp638=>{var e=_hh$temp638.videoDeviceType;return e!=="all_devices"?freestar.deviceInfo.device.type===e||(freestar.deviceInfo.device.type===yi&&e===Me):!0;} );this._freestar=e,this._dispensaryData=s,t.subscribe(qs,( _hh$temp639 )=>{ var _hh$temp639$payload=_hh$temp639.payload,r=_hh$temp639$payload.stickyFooterHeight; this._updateBottomSpacingInAllPlayers(r)})}_updateBottomSpacingInAllPlayers(e){Object.values(this.videoPlayers).forEach(t=>{t.updateBottomSpacing(e)})}get stickyFooterVideoInstance(){return this._stickyFooterVideo||(this._stickyFooterVideo= new rl({freestar:this._freestar,freestarOutstreamVideo:_hh$temp640=>{var e=_hh$temp640.videoAd,t=_hh$temp640.callback,s=_hh$temp640.placement;let n={videoAd:e,callback:(o,a)=>{(a!=null&&a.uuid)&&this.remove({uuid:a.uuid}),t(o,a);},placement:s};G.instance.create(c.OUTSTREAM_VIDEO_PLAYER,{provide:{params:n}}).then(o=>{let a=Sn();o.updateBottomSpacing(a),__set$(this.videoPlayers,o.uuid,o);});}}) ),this._stickyFooterVideo}};A.class(eh,{token:c.VIDEO,dependencies:["freestar",c.EVENT_BUS,c.DISPENSARY_DATA],defaultAlias:"video"})});var th,EI=h(()=>{vd();N();D();th=class extends Bi{constructor( _hh$temp641 ={}){ var e=_hh$temp641.freestar,t=_hh$temp641.gamManager; super(),this._freestar=e,this._gamManager=t}shouldRefresh( _hh$temp642 ){ var e=_hh$temp642.elementId; var t,s;return e===((s=(t=this._freestar.currentStickyFooter)==null?void 0:t.placement)==null?void 0:s.name)}fetchBids( _hh$temp643 ){ var e=_hh$temp643.elementId; var r;let t=((r=this._freestar.currentStickyFooter)==null?void 0:r.footer)||this._freestar.currentStickyFooter;if(t!=null&&t.getIsNextVideo())return;let s=this.getSignal(e);this._freestar.currentStickyFooter.stickyFooterRefresh(s)}refresh( _hh$temp644 ){ var e=_hh$temp644.elementId,t=_hh$temp644.refreshLibraryItem; var n;let s=this._gamManager.instance.pubads().getSlots().find(o=>o.getSlotElementId()===e);this._gamManager.setSlotTargeting({slot:s,key:"fsrefresh",value:(n=t.timesRefreshed)!=null?n:0});let r=this.getPendingRequest(e);typeof r=="function"?r():this._freestar.currentStickyFooter.stickyFooterRefresh()}};A.class(th,{token:c.STICKY_FOOTER_REFRESHER,dependencies:[c.FREESTAR,c.GAM_MANAGER]})});function mv(){ let _hh$temp645=freestar.fsdata,i=_hh$temp645.removeFooter,e=_hh$temp645.specialAdhesionRemoved,t=_hh$temp645.customFooter; if(i||e||t){let s=["#fs-select-footer-remove","#fs-special-remove"];for(let r=0;r<s.length;r++)if(ih({domSelector: __get$(s,r) }))return!0}return!1}function yI( _hh$temp646 ){ var i=_hh$temp646.placement; if(mv())return!0; let _hh$temp647=ke({placement:i,type:J.STICKY_FOOTER_OPTIONS}),e=_hh$temp647.remove,t=_hh$temp647.adhesionRemove,s=_hh$temp647.add; return!!(e&&ih({domSelector:e})||t&&ih({domSelector:t})||s&&!document.getElementById("fs-select-footer"))}var ih,SI=h(()=>{lt();Ht();ih= _hh$temp648=>{var i=_hh$temp648.domSelector;return document.querySelector(i);} });var sh,II=h(()=>{N();lt();EI();SI();sl();Ku();Ju();Ht();D();Xe();hf();sh=class{constructor( _hh$temp649 ){ var e=_hh$temp649.freestar,_hh$temp649$video=_hh$temp649.video,t=_hh$temp649$video===void 0?{}:_hh$temp649$video,s=_hh$temp649.eventBus,r=_hh$temp649.refreshLibrary,n=_hh$temp649.adSlotsManager; _(this,"newStickyFooter",e=>{rI(e,this._videoInstance,this._attachStickyFooterResizeListener.bind(this),this._refreshLibrary,this._adSlotsManager)});_(this,"setVideoAdhesionEnabled",e=>{var t,s;return(s=(t=this._videoInstance).setVideoAdhesionEnabled)==null?void 0:s.call(t,e)});_(this,"_attachStickyFooterResizeListener",()=>{this._resizeObserver&&this._resizeObserver.disconnect(),this._resizeObserver=new ResizeObserver(()=>{let t=Sn();this._eventBus.emit(qs,{stickyFooterHeight:t})});let e=uf();e&&this._resizeObserver.observe(e)});_(this,"init",()=>{var e;try{performance.mark("stickyFooter-initialization-start");let t="Sticky Footer: initStickyFooter method - ";this._freestar.log(1,t+" invoked looking for sticky placements!");let s=this._freestar.fsdata.placements.filter(r=>r.validAdSizes&&tt({placement:r,type:J.STICKY_FOOTER_OPTIONS})&& __get$(r,J.STICKY_FOOTER_OPTIONS) .isOnCall);if(s.length)this._freestar.log(1,`${t} there are ${s.length} on call sticky footer placements. There will be no standard sticky footer invoked by Pubfig.js!`);else{this._freestar.log(1,t+" there are no on call sticky footer placements. Attempting to find a default sticky footer placement");let r=this._freestar.fsdata.placements.filter(n=>n.validAdSizes&&tt({placement:n,type:J.STICKY_FOOTER_OPTIONS})&&! __get$(n,J.STICKY_FOOTER_OPTIONS) .isOnCall)[0];if(r&&!yI({placement:r})){this._freestar.log(1,`${t} ${r.name} is not blocked invoking AddStickyFooter.`); let _hh$temp650=qn(r),n=_hh$temp650.stickyFooterOutstreamVideoPattern; n==="VIDEO_DISPLAY_CONCURRENT"&&((e=r.stickyFooterOptions)!=null&&e.video)?this._freestar.currentStickyFooter=new Br({placement:r,videoInstance:this._videoInstance,refreshLibrary:this._refreshLibrary,adSlotsManager:this._adSlotsManager}):this._freestar.currentStickyFooter=new Lr({placement:r,videoInstance:this._videoInstance,refreshLibrary:this._refreshLibrary,adSlotsManager:this._adSlotsManager}),this._attachStickyFooterResizeListener(),this._freestar.deleteStickyFooter=this._freestar.currentStickyFooter.deleteStickyFooter||this._freestar.currentStickyFooter.footer.deleteStickyFooter}else this._freestar.log(1,t+"no default sticky placement found or it is blocked due to rules found in the footerIsBlocked method. There will be no standard sticky footer invoked by Pubfig.js!")}performance.mark("stickyFooter-initialization-end")}catch(t){this._freestar.log({title:"STICKY FOOTER",styles:"background: red; color: white; border-radius: 3px; padding: 3px"},t.message)}});this._freestar=e,this._eventBus=s,this._adSlotsManager=n,this._videoInstance=t.stickyFooterVideoInstance||{},this._refreshLibrary=r}};A.class(sh,{token:"StickyFooter",dependencies:[c.FREESTAR,{token:"Video",optional:!0},c.EVENT_BUS,c.REFRESH_LIBRARY,c.AD_SLOTS_MANAGER],defaultAlias:"stickyFooter"})});var Fr,sY,nl,Ne,rh,AI,bI,wI,Ur,Yn=h(()=>{Fr="superflex",sY=`fs.${Fr}`,nl="SUPERFLEX V3.1.1",Ne={title:nl,styles:"background: black; color: white; border-radius: 3px; padding: 3px"},rh={level:99,title:nl,styles:"background: lightblue; color: black; border-radius: 3px; padding: 3px"},AI=[[468,60],[320,50],[320,100],[300,250],[300,50],[300,100]],bI=[[970,250],[970,90],[728,90],[336,280],[300,600],[300,250]],wI=[[970,250],[970,90],[728,90]],Ur=["onemobile","teads"]});function TI(i){if(!i)return{width:1,height:1}; let _hh$temp651=i.getBoundingClientRect(),e=_hh$temp651.height,t=_hh$temp651.width; if(i.contentDocument&&i.contentDocument.body){ let _hh$temp652=i.contentDocument.body,s=_hh$temp652.clientWidth,r=_hh$temp652.clientHeight; if(s>1&&r>1)return{width:Math.max(t,s),height:Math.max(e,r)}}return{width:t,height:e}}function nh( _hh$temp653 ){ var i=_hh$temp653.placement; var s; let _hh$temp654=i,e=_hh$temp654.sizes; (s=i==null?void 0:i.stickyFooterOptions)!=null&&s.active&&(e=e.filter(r=>r[0]!==970));let t=bI.map(r=>r.join("x"));return e=e.filter(r=>Array.isArray(r)&&t.includes(r.join("x"))),Rs(e)}function gv( _hh$temp655 ){ var i=_hh$temp655.size; return AI.map(e=>e.join("x")).includes(i)}function vI( _hh$temp656 ){ var i=_hh$temp656.bids; return!Array.isArray(i)||i.length===0?[]:i.filter(e=>e.bidderCode!=="superflex"&&!Ur.includes(e.bidderCode)&&(!e.status||e.status!=="rendered"&&e.status!=="targetingSet")&&gv({size:e.size})).sort((e,t)=>t.cpm-e.cpm||t.width-e.width||t.height-e.height)}function RI( _hh$temp657 ){ var i=_hh$temp657.bids; return i.length===0?[]:i.sort((e,t)=>t.width-e.width||t.height-e.height)[0]}function OI(i){let e=0;for(let s=0;s<i.length;s++){let r= __get$(i,s) ;r.viewport.size[0]>e&&Ye()>=r.viewport.size[0]&&(e=r.viewport.size[0])}return!!i.find(s=>s.viewport.size[0]===e).superflex}function oh( _hh$temp658 ){ var _hh$temp658$remainingSpace=_hh$temp658.remainingSpace,i=_hh$temp658$remainingSpace===void 0?null:_hh$temp658$remainingSpace,e=_hh$temp658.adDimensions,t=_hh$temp658.targetDimension; return t==="width"?Math.floor(i/e[0]):1}var CI=h(()=>{Yn();qe();Kd()});var ol,xI=h(()=>{ss();Yn();CI();Qe();Q();ki();Ni();et();Ce();Dt();Wt();N();D();zs();ol=class{constructor( _hh$temp659 ){ var e=_hh$temp659.freestar,t=_hh$temp659.logger,s=_hh$temp659.gamManager; this.freestar=e,this.fsprebid=window.fsprebid||{},this.logs=t,this._gamManager=s}update( _hh$temp660 ){ var e=_hh$temp660.placements; this.placements=e.filter(s=>{let r=!0;if(s.sizeMappings.forEach(n=>{n.size.forEach(o=>{Zg(o)&&(r=!1)})}),r)return s}),this.active=!me({name:"superflex"})&&e.length!==0; let _hh$temp661=JSON.parse(j({key:"fs.superflex"}))||{},_hh$temp661$blocklist=_hh$temp661.blocklist,t=_hh$temp661$blocklist===void 0?[]:_hh$temp661$blocklist; this.blocklist=t}checkLineItems(e){e.needed.filter(t=>t.demandSourceType==="TRAFFICKED"||t.demandSourceType==="DIRECT").forEach(t=>{t.slots.filter(s=>this.placements.some(r=>r.name===s)&&!this.blocklist.includes(s)).forEach(s=>{this.blocklist.push(s),ve({key:"fs.superflex",value:{blocklist:this.blocklist},type:Y.object})})})}getPlacementsNames(){return this.placements?this.placements.map(e=>e.name):[]}isSuperflex( _hh$temp662 ){ var e=_hh$temp662.placement; return!e||!this.getPlacementsNames().includes(e.name)?!1:!!(e&&e.sizeMappings&&OI(e.sizeMappings))}removeCSS( _hh$temp663 ){ var e=_hh$temp663.elementId; let t=document.getElementById(e);t&&(t.innerHTML=""),document.getElementById(`_fs-sf-${t.className.split("fs-sf-")[1]}-stylesheet`)&&document.getElementById(`_fs-sf-${t.className.split("fs-sf-")[1]}-stylesheet`).remove(),t.className.split(" ").forEach(s=>{s.indexOf("fs-sf")!==-1&&t.classList.remove(s)})}refresh( _hh$temp664 ){ var e=_hh$temp664.elementId,t=_hh$temp664.placement; this.removeCSS({elementId:e});let s=Ae();freestar.newAdSlots([{slotId:e,placementName:t.name,targeting:{"fs-sf-uuid":s,fsrefresh: __get$(freestar.refreshLibrary,t.name) ? __get$(freestar.refreshLibrary,t.name) .timesRefreshed:0}}])}auctionEndCallback(e){ let _hh$temp665=e,t=_hh$temp665.adUnits; t.forEach(s=>{ let _hh$temp666=s,r=_hh$temp666.code; if(s.code.indexOf("_fs-sf-")!==-1||s.code.indexOf("browsi")!==-1)return;if(s=window.freestar.adUnitManager.getAdUnitByPrebidCode(r),!s){this.logs.add(`Prebid Auction End Event for ${r}`),this.logs.add("Adunit not found"),this.logs.show(Ne);return} let _hh$temp667=s,n=_hh$temp667.placement,o=_hh$temp667.prebid,a=_hh$temp667.slot; if(!this.isSuperflex({placement:n}))return;if(this.logs.add(`Prebid Auction End Event for ${r}`),this.logs.add("Placement is Superflex"),this.shouldRun({placement:n})===!1){this.logs.add(`There is an active sponsorship for ${n.name}`),this.logs.show(Ne);return}let d=o.bids.filter(X=>Ur.indexOf(X.bidder)!==-1);if(d.length!==0){this.logs.add(`Placement contains invalid bidder(s): ${[...new Set(d.map(X=>X.bidder))].join(", ")}`),this.logs.show(Ne);return}let l=this.fsprebid.getBidResponsesForAdUnitCode(r);if(l.length===0){this.logs.add("Did not receive any bids"),this.logs.show(Ne);return}else l=l.bids;this.logs.add(`Received ${l.length} bid(s)`);let f=vI({bids:l});if(f.length===0){this.logs.add("Did not receive any valid bids"),this.logs.show(Ne);return}this.logs.add(`Received ${f.length} valid bid(s)`);let u=f[0],p=RI({bids:l});if(u.adId===p.adId){this.logs.add("topValidBidByCPM is the same ad as topBidBySize"),this.logs.show(Ne);return}if(u.width===p.width&&u.height===p.height){this.logs.add("topValidBidByCPM is the same dimensions as topBidBySize"),this.logs.show(Ne);return}this.logs.add(`topValidBidByCPM: ${u.adId} $${u.cpm} (${u.width}x${u.height})`),this.logs.add(`topBidBySize: ${p.adId} $${p.cpm} (${p.width}x${p.height})`);let m=nh({placement:n}),E=m[0]>m[1]?"width":"height",S= __get$(m,E==="width"?0:1) - __get$(u,E) ;if(S< __get$(u,E) ){this.logs.add(`There is not enough space (${S}px) left to render additional ads`),this.logs.show(Ne);return}this.logs.add(`There is ${S}px of space remaining`);let I=oh({remainingSpace:S,adDimensions:[u.width,u.height],targetDimension:E});if(I<1)return;if(this.logs.add(`There is space for ${I} more ad(s)`),p.cpm>=u.cpm*(I+1)){this.logs.add(`topBidBySize CPM is greater than the combined potential CPM of ${I+1} ${u.width}x${u.height} ads ($${p.cpm} vs. $${u.cpm*(I+1)})`),this.logs.show(Ne);return}this.logs.add(`topBidBySize CPM is less than the combined potential CPM of ${I+1} ${u.width}x${u.height} ads ($${p.cpm} vs. $${u.cpm*(I+1)})`);let g=a.getConfig("targeting").targeting["fs-sf-uuid"][0]||Ae(),y=w({type:"div",id:`_fs-sf-${a.getSlotElementId()}-0`,attributes:[{name:n.name}]}),R=document.getElementById(a.getSlotElementId());R.classList.add(`fs-sf-${g}`);let M=w({type:"style",id:`_fs-sf-${a.getSlotElementId()}-stylesheet`});M.textContent+=` .fs-sf-${g} { display: flex !important; align-items: center !important; justify-content: space-evenly !important; } .fs-sf-${g} .__fs-ancillary { max-width: ${u.width}px; } `,E==="width"&&(M.textContent+=` .fs-sf-${g} { width: ${m[0]}px !important; flex-direction: row !important; margin: 0 auto; } `),E==="height"&&(M.textContent+=` .fs-sf-${g} { height: ${m[1]}px !important; flex-direction: column; } `),R.innerHTML="",R.appendChild(y),this._gamManager.instance.destroySlots([a]),this.fsprebid.removeAdUnit(o.code),l.forEach(X=>{X.adId!==u.adId&&(X.adUnitCode=Ae())});let z=this._gamManager.createSlot({placement:n,sizes:[u.width,u.height],id:y.id,slotConfig:{targeting: __call$(Object,"assign",[this.fsprebid.getAdserverTargetingForAdUnitCode(o.code),{"fs-sf-uuid":g,"fs-sf-index":"0",fsrefresh:__get$(freestar.refreshLibrary,n.name)?__get$(freestar.refreshLibrary,n.name).timesRefreshed:0}]) }});this.logs.add(`Created an ad for topValidBidByCPM ${y.id}`);let H=[],ce=[];for(let X=1;X<=I;X++){let Te=w({type:"div",id:`_fs-sf-${a.getSlotElementId()}-${X}`,classList:["_fs-sf-ad"],attributes:{name:n.name,[Vs]:"false"}});R.appendChild(Te),H.push(this._gamManager.createSlot({placement:n,sizes:[u.width,u.height],id:Te.id,slotConfig:{targeting:{"fs-sf-uuid":g,"fs-sf-index":`${X}`,fsrefresh: __get$(freestar.refreshLibrary,n.name) ? __get$(freestar.refreshLibrary,n.name) .timesRefreshed:0}}}));let se=dt(n);se.name=`_fs-sf-${a.getSlotElementId()}-${X}`,se.sizes=[[u.width,u.height]],se.sizeMappings=se.sizeMappings.map(Ve=>(Ve.size=[[u.width,u.height]],Ve.mediaTypes=Ve.mediaTypes.filter(xt=>xt!=="video"),Ve)),se.bidders=se.bidders.filter(Ve=>Ur.indexOf(Ve.bidder)===-1);let Ge=je(se);Ge.mediaTypes.banner.sizes=[[u.width,u.height]],ce.push(Ge),this.logs.add(`Created an additional ad ${Te.id}`)}document.head.appendChild(M),this._gamManager.instance.pubads().refresh([z]),gt({adUnits:ce}),G.instance.resolve(c.BIDS_MANAGER).then(X=>{X.requestBids({elementIds:ce.map(Te=>Te.code),slots:H})}),this.logs.show(rh)})}slotRequestedCallback(e){ let _hh$temp668=e,t=_hh$temp668.slot; if(t.getSlotElementId().indexOf("_fs-sf-")!==-1)return;let s=window.freestar.adUnitManager.getAdUnitBySlotElementId(t.getSlotElementId());if(!s)return; let _hh$temp669=s,r=_hh$temp669.placement; if(this.isSuperflex({placement:r})&&t.getConfig("targeting").targeting["fs-sf-uuid"].length===0){let n=Ae();t.setConfig({targeting:{"fs-sf-uuid":n}})}}waitForIFrameElm(e){let t=setTimeout(()=>{clearTimeout(t),this.slotRenderEndedCallback(e)},250)}isLeaderboardLargeSize( _hh$temp670 ){ var e=_hh$temp670.width,t=_hh$temp670.height; return wI.some( _hh$temp671=>{var _hh$temp672=__arrayFrom$(_hh$temp671),s=_hh$temp672[0],r=_hh$temp672[1];return e===s&&t===r;} )}slotRenderEndedCallback(e){ let _hh$temp673=e,t=_hh$temp673.slot; if(t.getSlotElementId().indexOf("_fs-sf-")!==-1||t.getSlotElementId().indexOf("browsi")!==-1)return;let s=window.freestar.adUnitManager.getAdUnitBySlotElementId(t.getSlotElementId());if(!s){this.logs.add(`Slot Render Ended Event for ${t.getSlotElementId()}`),this.logs.add("Adunit not found"),this.logs.show(Ne);return} let _hh$temp674=s,r=_hh$temp674.placement; if(!this.isSuperflex({placement:r}))return;if(this.logs.add(`Slot Render Ended Event for ${r.name}`),this.shouldRun({placement:r})===!1){this.logs.add(`There is an active sponsorship for ${r.name}`),this.logs.show(Ne);return} let _hh$temp675=freestar.fsdata,n=_hh$temp675.enabledSuperflexBlocklist,o=_hh$temp675.gamSuperflexBlocklist; if(n&&!["advertiserId","lineItemId","creativeId","campaignId"].every(M=>o.indexOf( __get$(e,M) )===-1)){this.logs.add("Slot contains matching entry on blocklist, exiting"),this.logs.show(Ne);return}let a=document.getElementById(t.getSlotElementId());if(!a){this.logs.add("Element not found, exiting"),this.logs.show(Ne);return}let d=a.querySelector('div[id*="google_ads_iframe_"]');if(!d){this.logs.add("Element not found, exiting"),this.logs.show(Ne);return}if(d.classList.contains("_fs-sf-ad"))return;this.logs.add("Placement is Superflex");let l=nh({placement:r});if(!l)return;this.logs.add(`Largest possible size is ${l[0]}x${l[1]}`);let f=l[0]-l[1]>100?"width":"height",u=a.querySelector('iframe[id*="google_ads_iframe_"]'),p=TI(u);if(p.width<=1||p.height<=1){this.logs.add("Element size not found, exiting"),this.logs.show(Ne);return}if(p.width>300&&p.width<320&&(p.width=300),p.width>320&&p.width<330&&(p.width=320),p.width>=330&&p.width<468&&(p.width=336),p.width>468&&p.width<728&&(p.width=468),p.width>728&&p.width<970&&(p.width=970),p.height>50&&p.height<60&&(p.height=50),p.height>60&&p.height<90&&(p.height=60),p.height>90&&p.height<100&&(p.height=90),p.height>100&&p.height<250&&(p.height=100),p.height>250&&p.height<280&&(p.height=250),p.height>280&&p.height<600&&(p.height=280),p.height>600&&(p.height=600),this.logs.add(`Size of ad rendered is ${p.width}x${p.height}`),this.isLeaderboardLargeSize({width:p.width,height:p.height})){this.logs.add("Superflex with leaderboard large was already rendered"),this.logs.show(Ne);return}let m= __get$(l,f==="width"?0:1) - __get$(p,f) ;if(m< __get$(p,f) ){this.logs.add(`There is not enough space (${m}px) left to render additional ads`),this.logs.show(Ne);return}this.logs.add(`There is ${m}px of space remaining`);let E=oh({remainingSpace:m,largestPossibleDimension:l,adDimensions:[p.width,p.height],targetDimension:f});if(E<1)return;this.logs.add(`There is space for ${E} more ad(s)`);let S=t.getConfig("targeting").targeting["fs-sf-uuid"][0];a.classList.add(`fs-sf-${S}`);let I=w({type:"style",id:`_fs-sf-${t.getSlotElementId()}-stylesheet`});f==="width"&&(I.textContent+=` .fs-sf-${S} { width: ${l[0]}px; display: flex; align-items: center !important; justify-content: space-evenly !important; flex-direction: row !important; flex-wrap: nowrap; margin: 0 auto; } .fs-sf-${S}>div[id*="google_ads_iframe_"] { width: ${p.width}px; height: auto !important; } `),f==="height"&&(I.textContent+=` .fs-sf-${S} { height: ${l[1]}px; display: flex; align-items: center; justify-content: space-evenly; flex-direction: column; } `);let g=[],y=[];for(let R=1;R<=E;R++){let M=w({type:"div",id:`_fs-sf-${t.getSlotElementId()}-${R}`,classList:["_fs-sf-ad"],attributes:[{name:r.name}]});a.appendChild(M),y.push(this._gamManager.createSlot({placement:r,sizes:[[p.width,p.height]],id:M.id,slotConfig:{targeting:{"fs-sf-uuid":S,"fs-sf-index":`${R}`,fsrefresh: __get$(freestar.refreshLibrary,r.name) ? __get$(freestar.refreshLibrary,r.name) .timesRefreshed:0}}}));let z=JSON.parse(JSON.stringify(r));z.name=`_fs-sf-${t.getSlotElementId()}-${R}`,z.sizes=[[p.width,p.height]],z.sizeMappings=z.sizeMappings.map(ce=>(ce.size=[[p.width,p.height]],ce.mediaTypes=ce.mediaTypes.filter(X=>X!=="video"),ce)),z.bidders=z.bidders.filter(ce=>Ur.indexOf(ce.bidder)===-1);let H=je(z);H.mediaTypes.banner.sizes=[[p.width,p.height]],g.push(H),f==="width"&&(I.textContent+=` #_fs-sf-${t.getSlotElementId()}-${R}>div[id*="google_ads_iframe_"] { width: ${p.width}px; } `),this.logs.add(`Created an additional ad ${M.id} with uuid ${S}`)}document.head.appendChild(I),gt({adUnits:g}),G.instance.resolve(c.BIDS_MANAGER).then(R=>{R.requestBids({elementIds:g.map(M=>M.code),slots:y})}),this.logs.show(rh)}shouldRun( _hh$temp676 ){ var e=_hh$temp676.placement; return this.blocklist.indexOf(e.name)===-1}registerSuperflexCallbacks(){let e={prebid:!$("sfv3-gam-only"),gam:!$("sfv3-prebid-only")};e.prebid&&this.fsprebid.onEvent(St,this.auctionEndCallback.bind(this)),this._gamManager.instance.pubads().addEventListener(Nt,this.slotRequestedCallback.bind(this)),e.gam&&this._gamManager.instance.pubads().addEventListener(xe,this.waitForIFrameElm.bind(this))}}});var ah,PI=h(()=>{vd();N();D();ah=class extends Bi{constructor( _hh$temp677 ={}){ var e=_hh$temp677.freestar; super(),this._freestar=e}shouldRefresh( _hh$temp678 ){ var e=_hh$temp678.placement; return this._freestar.superflex&&this._freestar.superflex.refresh&&this._freestar.superflex.isSuperflex&&this._freestar.superflex.isSuperflex({placement:e})}refresh( _hh$temp679 ){ var e=_hh$temp679.elementId,t=_hh$temp679.placement,s=_hh$temp679.refreshLibraryItem; s.timesRefreshed+=1,this._freestar.superflex.refresh({elementId:e,placement:t,timesRefreshed:s.timesRefreshed})}};A.class(ah,{token:c.SUPERFLEX_REFRESHER,dependencies:[c.FREESTAR]})});var DI,NI,dh,MI=h(()=>{Yn();Ce();it();DI={percentage:.2,blockedSiteIDs:[]},NI=()=>{let i=JSON.parse(j({key:`fs.${Fr}`}))||{};if(!DI.blockedSiteIDs.includes(freestar.fsdata.siteId)&&typeof i.inTest=="undefined"){let e=DI.percentage;Math.random()<e?(i.inTest=!0,i.control=Math.random()<=.5):i.inTest=!1,ve({key:`fs.${Fr}`,value:i,type:Y.object})}return i.inTest&&freestar.log(Ne,`Session is participating in test as ${i.control?"CONTROL":"TEST"}...`),$(`fs-use-${Fr}`)||i.inTest},dh=()=>{let i=JSON.parse(j({key:`fs.${Fr}`}))||{};return(i==null?void 0:i.inTest)&&(i==null?void 0:i.control)}});var lh,LI=h(()=>{xI();ii();Xr();PI();MI();Yn();D();Xe();lh=class{constructor( _hh$temp680 ){ var e=_hh$temp680.freestar,t=_hh$temp680.analytics,s=_hh$temp680.gamManager; _(this,"checkLineItems",e=>this.manager.checkLineItems(e));_(this,"isSuperflex",e=>this.manager.isSuperflex(e));_(this,"refresh",e=>this.manager.refresh(e));_(this,"removeCSS",e=>this.manager.removeCSS(e));this.manager=new ol({freestar:e,logger:new Ms,gamManager:s}),this.freestar=e,this._analytics=t}init(){NI()&&(this._sendEvent({type:dh()?"CONTROL_SESSION":"TEST_SESSION",value:{placements:[...this.freestar.fsdata.placements.filter(e=>e.sizeMappings.some(t=>t.superflex===!0))]}}),!dh())||(this.manager.update({placements:this.freestar.fsdata.placements.filter(e=>e.sizeMappings.some(t=>t.superflex===!0))}),this.manager.active&&this.manager.registerSuperflexCallbacks(),this.freestar.superflex={checkLineItems:this.checkLineItems,refresh:this.refresh,isSuperflex:this.isSuperflex,removeCSS:this.removeCSS})}_sendEvent( _hh$temp681 ){ var _hh$temp681$name=_hh$temp681.name,e=_hh$temp681$name===void 0?nl:_hh$temp681$name,t=_hh$temp681.type,s=_hh$temp681.value; this._analytics.track(new Z({eventName:e,eventType:t,data:b({},s)}))}};A.class(lh,{token:"Superflex",dependencies:[c.FREESTAR,c.ANALYTICS,c.GAM_MANAGER],defaultAlias:"superflex"})});function kI(i){if(window.innerWidth>2500||me({name:"googleInterstitial"}))return!1;let t=Mp();if(t){performance.mark("interstitial-initialization-start"),window.freestar.googleInterstitialPlacement={placement:t};let s=i.defineOutOfPageSlot({dfpId:t.dfpId,elementId:i.instance.enums.OutOfPageFormat.INTERSTITIAL});s&&(i.setSlotTargeting({slot:s,key:"fs_ad_product",value:"googleInterstitial"}),i.instance.pubads().refresh([s]),Bo({placementName:t.name,slotId:s.getSlotElementId()})),performance.mark("interstitial-initialization-end")}}function BI( _hh$temp682 ){ var i=_hh$temp682.event; sn({event:i})&&G.instance.resolveAll([c.ANALYTICS,c.DFP_RESPONSE_ANALYTICS_EVENT_FACTORY]).then(( _hh$temp683 )=>{ var e=_hh$temp683.analytics,t=_hh$temp683.dfpResponseAnalyticsEventFactory; e.track(t.create({slotId:window.freestar.googleInterstitialPlacement.placement.name,placementId:window.freestar.googleInterstitialPlacement.placement.name,DfpId:i.slot.getAdUnitPath(),advertiserId:window.freestar.googleInterstitialPlacement.event.advertiserId,campaignId:window.freestar.googleInterstitialPlacement.event.campaignId,isEmpty:window.freestar.googleInterstitialPlacement.event.isEmpty,lineItemId:window.freestar.googleInterstitialPlacement.event.lineItemId,serviceName:window.freestar.googleInterstitialPlacement.event.serviceName,size:JSON.stringify(window.freestar.googleInterstitialPlacement.event.size),sourceAgnosticCreativeId:window.freestar.googleInterstitialPlacement.event.sourceAgnosticCreativeId,sourceAgnosticLineItemId:window.freestar.googleInterstitialPlacement.event.sourceAgnosticLineItemId,complete:!1})),delete window.freestar.googleInterstitialPlacement.event})}var FI=h(()=>{N();D();Qe();Fe();rn()});var ch,UI=h(()=>{D();ii();FI();ch=class{constructor( _hh$temp684 ){ var e=_hh$temp684.freestar,t=_hh$temp684.gamManager; this._freestar=e,this._gamManager=t}init(){kI(this._gamManager)}postRender( _hh$temp685 ){ var e=_hh$temp685.event,t=_hh$temp685.elementId; BI({event:e,elementId:t})}};A.class(ch,{token:"Interstitial",dependencies:[c.FREESTAR,c.GAM_MANAGER],defaultAlias:"interstitial"})});var _v,fh,GI=h(()=>{Q();qe();le();N();Xe();D();_v=["teads"],fh=class{constructor( _hh$temp686 ){ var e=_hh$temp686.eventBus,t=_hh$temp686.gamManager; _(this,"init",()=>{freestar.fsdata.placements.forEach(e=>{this.isSlidingUnit({placement:e})&&this.attachSlidingUnit({adUnit:e})}),this._subscribeToRenderEndedEvents(),this._eventBus.subscribe(Ri,this._unsubscribeFromRenderEndedEvents)});_(this,"attachSlidingUnit",( _hh$temp687 )=>{ var e=_hh$temp687.adUnit,_hh$temp687$slotId=_hh$temp687.slotId,t=_hh$temp687$slotId===void 0?null:_hh$temp687$slotId; var p,m;if(!this.isSlidingUnit({placement:e})||this.scrollingAdAlreadyExists(t||e.name))return; let s=document.getElementById(`${t||e.name}`),_hh$temp688=this.getPlacementStickyAdDetailsByScreenResolution(e),r=_hh$temp688.adScrollHeight,_hh$temp688$headerHeight=_hh$temp688.headerHeight,n=_hh$temp688$headerHeight===void 0?0:_hh$temp688$headerHeight,_hh$temp688$stickyAdEnabled=_hh$temp688.stickyAdEnabled,o=_hh$temp688$stickyAdEnabled===void 0?0:_hh$temp688$stickyAdEnabled,a=_hh$temp688.size,d=_hh$temp688.stickyAdBackgroundRgba,l=t||(s==null?void 0:s.getAttribute("id")),f=`${l}_container`,u=((p=s==null?void 0:s.parentNode)==null?void 0:p.getAttribute("id"))===f; if(s&&o&&!u&&r!==0){ let _hh$temp689=s.dataset,E=_hh$temp689.freestarAd; E&&s.removeAttribute("data-freestar-ad");let S=w({type:"div"});S.setAttribute("id",f);let I=(m=a==null?void 0:a[0])==null?void 0:m[0];S.classList.add("sliding-ad-container"),ni(S,b({"min-width":I?`${I}px`:"100%",width:"100%",height:`${r}px`,overflow:"hidden",justifyContent:"center",display:"inline-flex"},d&&{backgroundColor:d}));let g=w({type:"div",id:`${l}_sliding-ad-shim`});s.parentNode.insertBefore(S,s),g.appendChild(s),S.appendChild(g),this.scrollingAds.push({id:l,maxHeight:r,headerHeight:n}),new IntersectionObserver(this.handleIntersection.bind(this),{rootMargin:`-${n}px 0px 0px 0px`,threshold:this.buildThresholdList(r/2)}).observe(S)}});this.scrollingAds=[],this._eventBus=e,this._gamManager=t,this._handleSlotRenderEnded=this._handleSlotRenderEnded.bind(this),this._subscribeToRenderEndedEvents=this._subscribeToRenderEndedEvents.bind(this),this._unsubscribeFromRenderEndedEvents=this._unsubscribeFromRenderEndedEvents.bind(this)}_isBlockedByBidder(e){return(fsprebid.getBidResponsesForAdUnitCode(e)||[]).some( _hh$temp690=>{var s=_hh$temp690.bidder,r=_hh$temp690.status;return _v.includes(s)&&r==="rendered";} )}_findScrollingAdById(e){if(e)return this.scrollingAds.find(t=>t.id===e)}_applyStickyPosition( _hh$temp691 ){ var e=_hh$temp691.wrapper,t=_hh$temp691.slot,s=_hh$temp691.childTopSpacing,r=_hh$temp691.childHeight,n=_hh$temp691.top,o=_hh$temp691.bottom,a=_hh$temp691.currentScroll; if(a>n+s*2&&a<o){ni(e,{position:"fixed",top:t.headerHeight-s+"px",marginTop:"0px"});return}if(a>o){ni(e,{position:"",top:"",marginTop:`${t.maxHeight-r}px`});return}ni(e,{position:"",top:"",marginTop:"0px"})}_getWrapperNodes(e){var r,n;let t=(r=e==null?void 0:e.children)==null?void 0:r[0],s=(n=t==null?void 0:t.children)==null?void 0:n[0];return{wrapper:t,child:s}}_getChildHeight(e,t){return t&&t.offsetHeight!==0?t.offsetHeight:e==null?void 0:e.offsetHeight}_computeStickyGeometry(e,t,s,r){ let n=e.getBoundingClientRect(),o=this._getChildHeight(t,s),_hh$temp692=t.getBoundingClientRect(),a=_hh$temp692.top,_hh$temp693=s.getBoundingClientRect(),d=_hh$temp693.top,l=Math.floor(d-a),f=document.documentElement.scrollTop,_hh$temp694=n,u=_hh$temp694.top,p=_hh$temp694.bottom; u=u+f,p=p+f-o;let m=Math.max(f+r.headerHeight,0);return{childHeight:o,childTopSpacing:l,top:u,bottom:p,currentScroll:m}}handleIntersection(e){e.forEach(function(t){ let _hh$temp695=t,s=_hh$temp695.target,r=s.children[0],n=r.children[0]; if(!n)return;let o=this._findScrollingAdById(n.id);if(!t.isIntersecting||o&&this._isBlockedByBidder(o.id)){r.style.position==="fixed"&&ni(r,{position:"",top:""});return}if(!o||!n)return; let _hh$temp696=this._computeStickyGeometry(s,r,n,o),a=_hh$temp696.top,d=_hh$temp696.bottom,l=_hh$temp696.currentScroll,f=_hh$temp696.childTopSpacing,u=_hh$temp696.childHeight; freestar.debug&&this.debug({target:s,top:a,bottom:d}),this._applyStickyPosition({wrapper:r,slot:o,childTopSpacing:f,childHeight:u,top:a,bottom:d,currentScroll:l})},this)}debug( _hh$temp697 ){ var e=_hh$temp697.target,t=_hh$temp697.top,s=_hh$temp697.bottom; let r=e.id,n=CSS.escape(r);[...document.querySelectorAll(`.${n}.fs-sau`)].forEach(d=>d.parentElement.removeChild(d));let o=w({type:"style",classList:["fs-sau"]});o.textContent=` .${n}.fs-sau-marker { height: 2px; width: 100%; background-color: rgba(0,0,0,0.5); position: absolute; left: 0; z-index: 1000; } .${n}.fs-sau-marker.fs-sau-top { top: ${t}px; } .${n}.fs-sau-marker.fs-sau-bottom { top: ${s}px; } `,document.head.appendChild(o);let a=w({type:"div",classList:[r,"fs-sau","fs-sau-marker","fs-sau-top"]});document.body.appendChild(a),a=w({type:"div",classList:[r,"fs-sau","fs-sau-marker","fs-sau-bottom"]}),document.body.appendChild(a)}isSlidingUnit( _hh$temp698 ){ var e=_hh$temp698.placement; return e.sizeMappings?e.sizeMappings.some(t=>t.stickyAdEnabled):!1}scrollingAdAlreadyExists(e){return this.scrollingAds.some(t=>(t==null?void 0:t.id)===e)}_subscribeToRenderEndedEvents(){this._gamManager.instance.pubads().addEventListener(xe,this._handleSlotRenderEnded),this._eventBus.subscribe(ri,this._handleSlotRenderEnded)}_unsubscribeFromRenderEndedEvents(){this._gamManager.instance.pubads().removeEventListener(xe,this._handleSlotRenderEnded),this._eventBus.unsubscribe(ri,this._handleSlotRenderEnded)}_handleSlotRenderEnded(e){var a,d;let t=(d=(a=e==null?void 0:e.slot)==null?void 0:a.getSlotElementId)==null?void 0:d.call(a);if(!t)return;let s=this.scrollingAds.find(l=>l.id===t);if(!s)return;let r=document.getElementById(`${t}_container`);if(!r)return; let _hh$temp699=this._getWrapperNodes(r),n=_hh$temp699.wrapper,o=_hh$temp699.child; !n||!o||this._isBlockedByBidder(s.id)||requestAnimationFrame(()=>{ let _hh$temp700=this._computeStickyGeometry(r,n,o,s),l=_hh$temp700.top,f=_hh$temp700.bottom,u=_hh$temp700.currentScroll,p=_hh$temp700.childTopSpacing,m=_hh$temp700.childHeight; this._applyStickyPosition({wrapper:n,slot:s,childTopSpacing:p,childHeight:m,top:l,bottom:f,currentScroll:u})})}buildThresholdList(e){let t=[];for(let s=5;s<=e;s++){let r=s/e;t.push(r)}return t.push(0),t}getPlacementStickyAdDetailsByScreenResolution(e){let t=!1;return e.sizeMappings.some(s=>{if(Ye()>=s.viewport.size[0]){ let _hh$temp701=s,r=_hh$temp701.adScrollHeight,n=_hh$temp701.headerHeight,o=_hh$temp701.stickyAdEnabled,a=_hh$temp701.size,_hh$temp701$stickyAdBackgroundRgba=_hh$temp701.stickyAdBackgroundRgba,d=_hh$temp701$stickyAdBackgroundRgba===void 0?null:_hh$temp701$stickyAdBackgroundRgba; return t={adScrollHeight:r,headerHeight:n,stickyAdEnabled:o,size:a,stickyAdBackgroundRgba:d},!0}}),t}};A.class(fh,{token:c.STICKY_AD,defaultAlias:"stickyAd",dependencies:[c.EVENT_BUS,c.GAM_MANAGER]})});var al,uh=h(()=>{al=(i,e,t=document)=>{t.readyState==="loading"?t.addEventListener("DOMContentLoaded",()=>{t.body.appendChild(i),e==null||e()}):(t.body.appendChild(i),e==null||e())}});var VI,o9,a9,jn,hh=h(()=>{VI="slidewall",o9=`fs.${VI}`,a9=`${VI.toUpperCase()} V1.0.0`,jn=[2,3,4,5,6]});function zI(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)}function Ev(i,e,t,s){var I;let r=(g,y=0)=>{if(typeof g=="number"&&Number.isFinite(g))return g;if(typeof g=="string"){let R=parseFloat(g);if(Number.isFinite(R))return R}return y},n=typeof i=="string"?parseInt(i,10):i,a=typeof n=="number"&&Number.isFinite(n)&&(n===1||n===2)?10:0,d=r(t.topMargin,0),l=r(t.leftMargin,a),f=r(t.rightMargin,a),u=r(t.bottomMargin,0),p=window.innerHeight||((I=document.documentElement)==null?void 0:I.clientHeight)||0,m=d/100*p,E=u/100*p,S={position:"absolute",zIndex:2147483647};switch(i){case 0:return V(b({},S),{left:`${e.left}px`,top:`${e.top}px`,width:`${s}px`,height:`${e.height}px`,marginTop:`${d}vh`,marginBottom:`${u}vh`,marginLeft:`${l}px`,marginRight:`${f}px`});case 1:{let g=b({},S);jn.indexOf(t.type)!==-1?(g.left="0",g.right="initial"):g.right=`${e.width+e.left}px`;let y=zI(),R=Math.max(0,e.top),M=Math.max(0,y-R-m-E);return V(b({},g),{top:`${R}px`,width:`${s}px`,height:`${M}px`,marginTop:`${d}vh`,marginBottom:`${u}vh`,marginLeft:`${l}px`,marginRight:`${f}px`})}case 2:{let g=b({},S);jn.indexOf(t.type)!==-1?g.right="0":(g.left=`${e.left+e.width}px`,g.right="initial");let y=zI(),R=Math.max(0,e.top),M=Math.max(0,y-R-m-E);return V(b({},g),{top:`${R}px`,width:`${s}px`,height:`${M}px`,marginTop:`${d}vh`,marginBottom:`${u}vh`,marginLeft:`${l}px`,marginRight:`${f}px`})}case 3:{let g=typeof t.targetElement=="string"?document.querySelector(t.targetElement):t.targetElement,y=e.top+e.height;if(g&&g.children.length){let R= __get$(g.children,g.children.length-1) ;y=e.top+R.offsetTop+R.offsetHeight}return V(b({},S),{left:`${e.left}px`,top:`${y}px`,width:`${e.width}px`,height:`${e.height-(y-e.top)}px`,marginTop:`${d}vh`,marginBottom:`${u}vh`,marginLeft:`${l}px`,marginRight:`${f}px`})}default:return S}}function ph(i){let e=typeof i=="string"?document.querySelector(i):i;if(!e)return null;let s=window.getComputedStyle(e).height,r=e.style.height,n=r==="100%"||r==="100vh",o=window.innerHeight,a=Math.abs(parseFloat(s)-o)<1,d=n||a,l;if(d){let f=e.getBoundingClientRect();l={left:f.left+window.pageXOffset,top:f.top+window.pageYOffset,width:f.width,height:f.height}}else{l={left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight};let f=e.offsetParent;for(;f;)l.left+=f.offsetLeft,l.top+=f.offsetTop,f=f.offsetParent}if(l.absoluteLeft=l.left-window.pageXOffset,l.absoluteTop=l.top-window.pageYOffset,l.childrenHeight=0,e.children&&e.children.length)for(let f=0;f<e.children.length;f++)l.childrenHeight+= __get$(e.children,f) .offsetHeight;return l}function HI(i,e){var n;if(!i)throw new Error("Invalid metrics object");let t=document.createElement("div");e.className&&t.classList.add(e.className),e.id&&(t.id=e.id);let s=i.width;if((n=e.sizes)!=null&&n.length){let o=e.sizes.map(a=>parseInt(a[0])||0);s=Math.max(...o)}let r=Ev(e.orientation,i,e,s);return  __call$(Object,"assign",[t.style,r]) ,document.body.appendChild(t),t}var $I=h(()=>{hh()});var dl,qI=h(()=>{$I();hh();Q();dl=class{constructor( _hh$temp702 ){ var e=_hh$temp702.placement,t=_hh$temp702.gamManager,s=_hh$temp702.adSlotsManager; this._placement=e,this._adSlotsManager=s,this._gamManager=t;let r=this._placement.sideWallOptions.slidewallScrollHeight?this._placement.sideWallOptions.slidewallScrollHeight+"vh":this._placement.sideWallOptions.slidewallPixels+"px";this._options=V(b({},this._placement.sideWallOptions),{minPanelHeight:r}),this._panels=[],this._ads=[],this._trackingFlags=[],this._init()}_init(){if(jn.indexOf(this._options.type)!==-1)this._posAndDims=ph(document.body);else{if(!document.querySelector(this._options.targetElement))return;this._posAndDims=ph(this._options.targetElement)}this._posAndDims&&this._addHTML()}_addHTML(){var a,d,l;this._elm=HI(this._posAndDims,V(b({},this._options),{className:"_fs-slidewall-container",id:this._placement.name+"-container",sizes:this._placement.sizes}));let e=document.createElement("div");e.classList.add("_fs-slidewall-shim");let t=window.innerHeight,s=parseFloat((d=(a=this._options)==null?void 0:a.minPanelHeight)!=null?d:"0"),r=Number.isFinite(s)&&s>0?s:300;typeof((l=this._options)==null?void 0:l.minPanelHeight)=="string"&&this._options.minPanelHeight.endsWith("vh")&&(r=s/100*t);let n=this._elm.offsetHeight;this._options.orientation===0&&this._elm&&(n=this._posAndDims.height);let o=Math.floor(n/r);o<1&&(o=1);for(let f=0;f<o;f++){let u=document.createElement("div");if(u.classList.add("_fs-slidewall-panel"),f===o-1){let p=n-r*(o-1);u.style.height=`${p}px`}else u.style.height=this._options.minPanelHeight;u.dataset.panelIndex=f,e.appendChild(u),this._panels.push(u)}this._elm.appendChild(e),this._setupIntersectionObserver()}_insertAd(e,t){if( __get$(this._ads,t) )return  __get$(this._ads,t) ;let s=document.createElement("div");return s.id=this._placement.name+"_"+String.fromCharCode(97+t),s.classList.add("_fs-slidewall-ad"),typeof this._options.topMargin=="number"&&this._options.topMargin>0&&s.style.setProperty("--fs-slidewall-top-margin",`${this._options.topMargin}vh`),e.appendChild(s), __set$(this._ads,t,s) ,this._adSlotsManager.newAdSlots([{slotId:s.id,placementName:this._placement.name,targeting:{fs_slidewall:"test"}}]),s}getBids(){return this._ads.filter(Boolean).map(e=>Is({placement:this._placement,slotId:e.id,gamManager:this._gamManager}))}_setupIntersectionObserver(){let e=this._panels.length>0?this._panels[0].offsetHeight:0,s={rootMargin:`${Math.round(e/3)}px 0px`,threshold:[0,.05,.1]};this._observer= new IntersectionObserver(r=>{r.forEach(n=>{let o=n.target,a=parseInt(o.dataset.panelIndex);if(n.isIntersecting){let d=this._insertAd(o,a);this._startTracking(o,d,a);}else{let d=__get$(this._ads,a);d&&this._stopTracking(d,a);}});},s) ,this._panels.forEach(r=>this._observer.observe(r))}_startTracking(e,t,s){ __set$(this._trackingFlags,s,!0) ;let r=()=>{let n=this._posAndDims.top;this._options.orientation===3&&this._elm&&(n=this._elm.offsetTop);let o=n+e.offsetTop,a=o+e.offsetHeight,d=t.offsetHeight,l=window.scrollY;l+d>=a?(t.classList.remove("is-fixed"),t.style.top=`${e.offsetHeight-d}px`):l<=o?(t.classList.remove("is-fixed"),t.style.top="0px"):(t.classList.add("is-fixed"),t.style.top="0px"), __get$(this._trackingFlags,s) &&requestAnimationFrame(r)};requestAnimationFrame(r)}_stopTracking(e,t){ __set$(this._trackingFlags,t,!1) ,e.classList.remove("is-fixed")}getCSS(){return` ._fs-slidewall-container { pointer-events: none; } ._fs-slidewall-shim { width: 100%; height: 100%; position: relative; } ._fs-slidewall-panel { width: 100%; position: relative; display: flex; justify-content: center; } ._fs-slidewall-ad { position: absolute; box-sizing: border-box; pointer-events: initial; } ._fs-slidewall-ad.is-fixed { position: fixed; margin-top: var(--fs-slidewall-top-margin, 0px); } `}destroy(){if(Array.isArray(this._trackingFlags))for(let t=0;t<this._trackingFlags.length;t++) __set$(this._trackingFlags,t,!1) ;this._observer&&(this._observer.disconnect(),this._observer=null);let e=(this._ads||[]).filter(Boolean).map(t=>t.id).filter(Boolean);return this._elm&&this._elm.parentNode&&(this._elm.parentNode.removeChild(this._elm),this._elm=null),this._panels=[],this._ads=[],e}}});var Os,mh=h(()=>{ii();D();qI();Q();Qe();Os=class{constructor( _hh$temp703 ){ var e=_hh$temp703.freestar,t=_hh$temp703.window,s=_hh$temp703.analytics,r=_hh$temp703.gamManager,n=_hh$temp703.adSlotsManager; _(this,"init",(e=this._freestar.fsdata.placements.filter(t=>(t==null?void 0:t.sideWallOptions)&&(t==null?void 0:t.sideWallOptions.type)>0&&!(t!=null&&t.sideWallOptions.isOnCall)&&t.sideWallOptions.slidewallEnabled))=>{this._placements=e,this._placements.length!==0&&(this._slideWalls=this._placements.map(t=>new dl({placement:t,gamManager:this._gamManager,adSlotsManager:this._adSlotsManager})),this._addCSS())});_(this,"_checkIfDisabled",()=>!!me({name:"sideWall"}));_(this,"_getDocument",()=>{var e;return((e=this._win)==null?void 0:e.document)||document});_(this,"_removeStylesheet",()=>{var t;let e=(t=this._getDocument())==null?void 0:t.getElementById("_fs-slidewall-stylesheet");e!=null&&e.parentNode&&e.parentNode.removeChild(e)});_(this,"_cleanupAdIds",(e=[])=>{var t,s;if(!(!Array.isArray(e)||e.length===0)){e.forEach(r=>{var n,o;(o=(n=this._gamManager)==null?void 0:n.destroySlot)==null||o.call(n,{elementId:r})});try{(t=this._win)!=null&&t.fsprebid&&this._win.fsprebid.removeAdUnit(e)}catch(r){}(s=this._adSlotsManager)==null||s.deleteAdSlots(e)}});_(this,"_removeSlidewallDom",e=>{let t=this._getDocument();if(!t)return!1;let s=Array.from(t.querySelectorAll(`#${e}-container ._fs-slidewall-ad, #${e}-container [id^="${e}_"]`)),r=s.map(o=>o.id).filter(Boolean);r.length&&this._cleanupAdIds(r),s.forEach(o=>{var a;return(a=o.parentElement)==null?void 0:a.removeChild(o)});let n=t.getElementById(`${e}-container`);return n!=null&&n.parentElement&&n.parentElement.removeChild(n),t.querySelector("._fs-slidewall-container")||this._removeStylesheet(),r.length>0||s.length>0||!!n});_(this,"destroy",()=>{this._removeStylesheet(),!(!Array.isArray(this._slideWalls)||this._slideWalls.length===0)&&(this._slideWalls.forEach(e=>{if(typeof e.destroy=="function"){let t=e.destroy()||[];this._cleanupAdIds(t)}}),this._slideWalls=[],this._placements=[])});_(this,"destroyPlacement",e=>{if(!e)return!1;if(Array.isArray(this._placements)&&Array.isArray(this._slideWalls)){let s=this._placements.findIndex(r=>(r==null?void 0:r.name)===e);if(s!==-1){let r= __get$(this._slideWalls,s) ;if(r&&typeof r.destroy=="function"){let n=r.destroy()||[];this._cleanupAdIds(n)}return this._slideWalls.splice(s,1),this._placements.splice(s,1),this._slideWalls.length===0&&this._removeStylesheet(),!0}}return this._removeSlidewallDom(e)});this._freestar=e,this._win=t,this._analytics=s,this._gamManager=r,this._adSlotsManager=n}_addCSS(){let e=this._getDocument();if(!(e!=null&&e.head))return;let t=w({type:"style",id:"_fs-slidewall-stylesheet"});this._slideWalls.forEach(s=>{typeof s.getCSS=="function"&&(t.textContent+=s.getCSS())}),e.head.appendChild(t)}};A.class(Os,{token:"SlideWall",dependencies:[c.FREESTAR,c.WINDOW,c.GAM_MANAGER,c.AD_SLOTS_MANAGER],defaultAlias:"slideWall"})});function ll( _hh$temp704 ){ var i=_hh$temp704.placement; let e=no(i,"selectedSize.viewport.size",!1);return e&&e[0]>0?e[0]:!1}function gi(i,e){return i=i&&Gt(i),Ds(i)?i:e}function Sv(i,e,t){let s=parseInt(e,10);return i&&s?s:t}function YI(i){return i.orientation==="left"?0:i.boundaries.right}function Iv(i){return i.orientation==="left"?i.targetDivX:window.innerWidth-i.boundaries.right}function Av(i,e){function t(r,n){s((o,a)=>{a?(r.targetDivX=a.getBoundingClientRect().left,n(null,r)):n(!0)})}function s(r){let n=0,o;for(;!o&&(n++,!(n>1e3));){ let _hh$temp705=ke({placement:i,type:J.SIDE_WALL_OPTIONS}),a=_hh$temp705.targetElement; o=document.querySelector(a)}o?r(null,o):r(!0)}s(function(r,n){r?e(!0):n&&(i.boundaries=n.getBoundingClientRect(),t(i,function(o,a){if(o)e(!0);else{i=a;let d=document.getElementsByTagName("body"),l=w({type:"div",id:`fs-sidewall-${i.orientation}-container`,name:i.name}),f=Iv(i);l.style=`display: block; z-index: ${i.sideWallOptions.zindex?Gr(i.sideWallOptions.zindex):Gr(Fa("sidewall"))}; top: 0px; margin-top: ${Sv(i.sideWallOptions.automaticTopOverride,i.sideWallOptions.topMargin,0)}vh; width: ${f}px; height: 100%; left: ${YI(i)}px; position: fixed; display:flex; align-items:center; justify-content: center;`,d[0].appendChild(l),e(null,{div:l,placement:i})}}))})}function bv(i,e=freestar.adSlotsManager){e.deleteAdSlots([i]);let t=document.getElementById(i);if(!t)return;let s=t.parentNode;t&&s&&(t.parentNode.removeChild(t),s.parentNode.removeChild(s)),freestar.sideWallUnitControl=[]}function wv(i,e,t,s){let r=[];i&&Array.isArray(i)&&i.length&&i.forEach(n=>{bv(n.name,s); let _hh$temp706=ke({placement:n,type:J.SIDE_WALL_OPTIONS}),o=_hh$temp706.orientation,a=ll({placement:n}); if(a&&r.indexOf(o)===-1&&window.innerWidth>=a){switch(o){case 1:n.orientation="left";break;case 2:n.orientation="right";break;default:return}Av(n,function(d,l){if(l){ let _hh$temp707=l,f=_hh$temp707.div,u=_hh$temp707.placement,p=w({type:"div",id:u.name,name:u.name}),m=w({type:"div",classList:["fs-sidewall-close-container"]}); f.appendChild(m),f.appendChild(p),f.style.left=YI(u)+"px",f.style.visibility="visible",f.style.position="fixed",e(null,Is({placement:u,gamManager:t,targeting:{}})),r.push(u.sideWallUnitOrientation),freestar.sideWallUnitControl.push(u.name)}})}}),gh=!0}function Tv(i,e,t){ let s="top",_hh$temp708=ke({placement:i,type:J.SIDE_WALL_OPTIONS}),r=_hh$temp708.orientation,n=_hh$temp708.topMargin,o=_hh$temp708.leftMargin,a=_hh$temp708.rightMargin,d=_hh$temp708.bottomMargin,l=_hh$temp708.type,f=r===1?"left":"right"; [_t.TOP_LEFT,_t.BOTTOM_LEFT].includes(l)?f="left":[_t.TOP_RIGHT,_t.BOTTOM_RIGHT].includes(l)&&(f="right"),[_t.BOTTOM_RIGHT,_t.BOTTOM_LEFT].includes(l)&&(s="bottom"),freestar.sideWallUnitControl.push(i.name);let u=w({type:"div",id:i.name,name:i.name}),p=w({type:"div",classList:["fs-sidewall-container"]});[_t.MANUAL].includes(l)?p.style=`position:fixed; ${f}:0; ${s}:0; margin: ${gi(n,20)}vh ${gi(a,20)}px ${gi(d,20)}px ${gi(o,20)}px; z-index: ${i.sideWallOptions.zindex?Gr(i.sideWallOptions.zindex):Gr(Fa("sidewall"))}; overflow: hidden;`:p.style=`position:fixed; ${f}:0; ${s}:0; margin: ${gi(n,20)}px ${gi(a,20)}px ${gi(d,20)}px ${gi(o,20)}px; z-index: ${i.sideWallOptions.zindex?Gr(i.sideWallOptions.zindex):Gr(Fa("sidewall"))}; overflow: hidden;`,p.appendChild(u),al(p,()=>{e(null,Is({placement:i,gamManager:t})),gh=!0})}function _h(i=!1,e,t,s){if(me({name:"sideWall"}))return!1;let r="auto",n=[];if(gh&&!i)return;if(i&&typeof i=="object"&&(i=i.name),!i){n=freestar.fsdata.placements.filter(function(p){ let _hh$temp709=ke({placement:p,type:J.SIDE_WALL_OPTIONS}),m=_hh$temp709.orientation,E=_hh$temp709.slidewallEnabled; if(m>0&&!E)return p});let f=n.filter(p=>{ let _hh$temp710=ke({placement:p,type:J.SIDE_WALL_OPTIONS}),m=_hh$temp710.select,E=_hh$temp710.isOnCall; if(!E&&m&&m.length&&document.getElementById(m))return p}),u=f.length>0;if(f.length&&(n=f),u&&f.length===0)return}function o( _hh$temp711 ){ var f=_hh$temp711.filterType; if(i){ let u=ie({name:i}),_hh$temp712=u.sideWallOptions,p=_hh$temp712.type; return Array.isArray(f)&&f.includes(p)?[u]:p&&p===f?[u]:[]}else return n.filter(u=>{ let _hh$temp713=ke({placement:u,type:J.SIDE_WALL_OPTIONS}),p=_hh$temp713.type; if(Array.isArray(f)&&f.includes(p)||p===f)return u})}let a=o({filterType:_t.AUTO}),d=o({filterType:[_t.MANUAL,_t.BOTTOM_LEFT,_t.BOTTOM_RIGHT,_t.TOP_LEFT,_t.TOP_RIGHT]});a.length>d.length?n=ts(a,f=>f.sideWallOptions.orientation):(r="manual",n=ts(d,f=>f.sideWallOptions.orientation));let l=n.filter(f=>f.sideWallOptions.slidewallEnabled);if(l.length!==0){new Os({freestar:window.freestar,window,gamManager:t,adSlotsManager:s}).init(l);return}r==="auto"?wv(n,e,t,s):(matchMedia||window.matchMedia)&&n.forEach(f=>{let u=ll({placement:f});u&&window.matchMedia(`(min-width: ${gi(u,1500)}px)`).matches&&Tv(f,e,t)})}function jI(i,e,t){let s={elementIds:[],bidObjects:[],slots:[]},r=(o,a)=>{a&&(s.elementIds.push(a.placement.name),s.bidObjects.push(a.bidObject),s.slots.push(a.slot)),s.bidObjects.length&&gt({adUnits:s.bidObjects}),s.elementIds.length&&G.instance.resolve(c.BIDS_MANAGER).then(d=>{d.enqueueBids({bidObjects:s.bidObjects})})},n=ie({name:i});if(n){performance.mark("sidewall-initialization-start"); let _hh$temp714=ke({placement:n,type:J.SIDE_WALL_OPTIONS}),o=_hh$temp714.orientation; if(o>0){_h(n,r,e,t);return}performance.mark("sidewall-initialization-end")}freestar.log(yv,`No sidewall matched : ${i}`)}function WI(i,e,t,s,r=window){var d;if(!(i!=null&&i.length)){console.warn("deleteSidewall called without a placement name");return}let n=r==null?void 0:r.document;if(!n)return;e==null||e.deleteAdSlots(i);let o=n.getElementById(i),a=o==null?void 0:o.parentElement;o&&a&&((d=a.parentElement)==null||d.removeChild(a))}function Gr(i){return i>=2e9?2e9:i}var yv,_t,gh,KI=h(()=>{he();Q();lt();ki();Qe();Ht();uh();N();D();mh();yv={title:"sidewall",style:"background: orange; color: #fff; border-radius:3px; padding: 3px"},_t={NONE:0,AUTO:1,MANUAL:2,TOP_RIGHT:3,TOP_LEFT:4,BOTTOM_LEFT:5,BOTTOM_RIGHT:6},gh=!1});var Eh,QI=h(()=>{N();D();lt();Ht();KI();mh();Eh=class{constructor( _hh$temp715 ){ var e=_hh$temp715.fsdata,t=_hh$temp715.gamManager,s=_hh$temp715.adSlotsManager,r=_hh$temp715.freestar,n=_hh$temp715.window; _(this,"add",e=>jI(e,this._gamManager,this._adSlotsManager));_(this,"delete",e=>{var t;return WI(e,this._adSlotsManager,(t=this._fsdata)==null?void 0:t.placements,this._gamManager,this._win)});_(this,"init",e=>{var n,o;performance.mark("sideWalls-initialization-start");let t= _hh$temp716=>{var a=_hh$temp716.select;return!!(!a||!a.length||((a&&a.length)&&document.getElementById("fs-select-side-wall"))||document.getElementById(a));} ,s=this._fsdata.placements.filter(function(a){if(tt({placement:a,type:J.SIDE_WALL_OPTIONS})){ let _hh$temp717=ke({placement:a,type:J.SIDE_WALL_OPTIONS}),d=_hh$temp717.orientation,l=_hh$temp717.isOnCall,f=_hh$temp717.select,u=ll({placement:a}); if(!l&&d&&u&&d!==0&&u>0&&t({select:f}))return a}}),r=s.filter(a=>a.sideWallOptions.slidewallEnabled);r.length!==0&&(this._slideWallManager&&((o=(n=this._slideWallManager).destroy)==null||o.call(n)),this._slideWallManager=new Os({freestar:this._freestar,window:this._win,gamManager:this._gamManager,adSlotsManager:this._adSlotsManager}),this._slideWallManager.init(r)),s.length?_h(null,e,this._gamManager,this._adSlotsManager):e(!0),performance.mark("sideWalls-initialization-end")});this._fsdata=e,this._gamManager=t,this._adSlotsManager=s,this._freestar=r,this._win=n}get slideWallManager(){return this._slideWallManager}};A.class(Eh,{token:"SideWall",dependencies:[c.FS_DATA,c.GAM_MANAGER,c.AD_SLOTS_MANAGER,c.FREESTAR,c.WINDOW],defaultAlias:"sideWall"})});var cl,JI=h(()=>{N();D();le();vs();Ji();cl=class{load(){return T(this,null,function*(){["https://vjs.zencdn.net/7.20.2/video-js.css","https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-ads/6.9.0/videojs-contrib-ads.css","https://cdnjs.cloudflare.com/ajax/libs/videojs-ima/1.11.0/videojs.ima.css"].forEach(e=>{document.head.appendChild(w({type:"link",attributes:{rel:"stylesheet",href:e}}))}),yield gs("https://vjs.zencdn.net/7.20.2/video.min.js"),yield Promise.all([gs("https://imasdk.googleapis.com/js/sdkloader/ima3.js"),gs("https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-ads/6.9.0/videojs-contrib-ads.js"),gs("https://cdnjs.cloudflare.com/ajax/libs/videojs-ima/1.11.0/videojs.ima.js")]),Ct({bidder:hi,placementId:"",tagUrl:""})})}};A.class(cl,{token:c.FOP_VIDEO_SCRIPTS,factory:()=>T(void 0,null,function*(){let i=new cl;return yield i.load(),i})})});var ZI=h(()=>{JI();vs();Hn()});var XI,yh,eA=h(()=>{Qe();lc();N();D();le();XI="fs-flying-carpet-styles",yh=class{constructor( _hh$temp718 ){ var e=_hh$temp718.dispensaryData,t=_hh$temp718.gamManager,_hh$temp718$win=_hh$temp718.win,s=_hh$temp718$win===void 0?window:_hh$temp718$win,r=_hh$temp718.adSlotsManager; _(this,"_instances",new Map);_(this,"_cssInjected",!1);_(this,"init",()=>{if(me({name:"flyingCarpet"}))return; let _hh$temp719=this._dispensaryData.fsdata||{},_hh$temp719$placements=_hh$temp719.placements,e=_hh$temp719$placements===void 0?[]:_hh$temp719$placements,t=e.filter(s=>this._isFlyingCarpetPlacement(s)); t.length!==0&&(this._injectCSS(),t.forEach(s=>{let r=this._win.document.getElementById(s.name);if(r){let n=this._getFCConfig(s);this._createInstance({placementName:s.name,element:r,config:n})}}))});_(this,"_getFCConfig",e=>{var t,s;return(s=(t=e.selectedSize)==null?void 0:t.flyingCarpetOptions)!=null?s:{}});_(this,"_getIAIConfig",e=>{var t,s;return(s=(t=e.selectedSize)==null?void 0:t.intelligentAdInsertConfig)!=null?s:{}});this._dispensaryData=e,this._gamManager=t,this._adSlotsManager=r,this._win=s}create(e){if(me({name:"flyingCarpet"})){console.warn("Flying Carpet is disabled.");return}this._injectCSS(); let _hh$temp720=this._dispensaryData.fsdata||{},_hh$temp720$placements=_hh$temp720.placements,t=_hh$temp720$placements===void 0?[]:_hh$temp720$placements,s=t.find(n=>n.name===e&&this._isFlyingCarpetPlacement(n)),r=this._win.document.getElementById(e); !s||!r||this._createInstance({placementName:e,element:r,config:this._getFCConfig(s)})}destroy(e){let t=this._instances.get(e);t&&(t.element.innerHTML="",this._gamManager.destroySlot({elementId:t.slotId}),this._win.fsprebid.removeAdUnit([t.slotId]),this._instances.delete(e))}_createInstance( _hh$temp721 ){ var e=_hh$temp721.placementName,t=_hh$temp721.element,s=_hh$temp721.config; if(this._instances.has(e))return console.warn(`Flying Carpet: ${e} is already running.`),null; let r=`${e}_fc`,_hh$temp722=s,n=_hh$temp722.branding,o=_hh$temp722.height,a=_hh$temp722.background,d=new er({branding:n||"NONE",background:a||"linear-gradient(to bottom, #00c389 10%, black 100%)",height:o||"175vh",slotId:r}); t.appendChild(d.generateHTML()),this._instances.set(e,{element:t,slotId:r}),this._registerSlot({placementName:e,slotId:r})}_registerSlot( _hh$temp723 ){ var e=_hh$temp723.placementName,t=_hh$temp723.slotId,_hh$temp723$skipSAU=_hh$temp723.skipSAU,s=_hh$temp723$skipSAU===void 0?!0:_hh$temp723$skipSAU; let r={placementName:e,slotId:t,skipSAU:s};this._adSlotsManager.newAdSlots([r])}_injectCSS(){if(this._cssInjected)return;if(this._win.document.getElementById(XI)){this._cssInjected=!0;return}let e=w({type:"style",id:XI},this._win.document);e.textContent=` .fs-flying-carpet { background: linear-gradient(to bottom, #00c389 10%, black 100%); position: relative; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); height: 175vh; margin: 0 -1.1rem 0.5rem; } .fs-flying-carpet-ad-container { margin: 0 auto; position: sticky; top: 0; align-self: center; padding-top: 10vh; padding-bottom: 10vh; bottom: 10vh; display: flex; justify-content: center; } .fs-powered-by { font-size: 18px; color: #00c389; position: absolute; bottom: 0; background-color: black; width: 100%; height: 6vh; text-align: center; padding: 10px 0; box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1); display: flex; align-items: center; justify-content: center; } .fs-flying-carpet-header { font-size: 11px; font-family: Arial, Helvetica, sans-serif !important; color: white; position: absolute; top: 0; background-color: #34495e; width: 100%; text-align: center; padding: 5px 0; box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1); } .fs-flying-carpet-v2 { display: flex; flex-direction: column; align-items: center; } .fs-flying-carpet-v2-ad-container { display: flex; align-items: center; justify-content: center; width: 300px; height: 65vh; margin-left: auto; margin-right: auto; background-color: #fff; overflow-y: scroll; overflow-x: hidden; box-sizing: border-box; } .fs-flying-carpet-v2-text-border { width: 100%; background-color: #333; color: #fff; text-align: center; font-family: Arial, sans-serif; font-size: 0.8em; text-transform: uppercase; padding: 5px 0; letter-spacing: 1px; } .fs-flying-carpet-v3 { position: relative; margin: 0 auto; width: 300px; display: flex; flex-direction: column; padding: 5px 0; } .fs-flying-carpet-v3-text-border { position: relative; left: 50%; width: 100vw; margin-left: -50vw; background-color: #333; color: #fff; text-align: center; font-family: Arial, sans-serif; font-size: 0.8em; text-transform: uppercase; padding: 5px 0; letter-spacing: 1px; } .fs-flying-carpet-v3-container { position: -webkit-sticky; position: sticky; z-index: 0; top: 0; transition: opacity 0.3s ease; } .fs-flying-carpet-v3-content { position: relative; width: 300px; height: 500px; } .fs-flying-carpet-v3-slot-wrapper { position: absolute; width: 300px; height: 500px; overflow: hidden; clip-path: inset(0); -webkit-clip-path: inset(0); } .fs-flying-carpet-v3-slot { position: fixed; z-index: -9999; width: 300px; top: 50%; left: 50%; -webkit-transform: translate(-50%, -50%); transform: translate(-50%, -50%); -webkit-backface-visibility: hidden; backface-visibility: hidden; object-fit: contain; object-position: top; } `,this._win.document.head.appendChild(e),this._cssInjected=!0}_isFlyingCarpetPlacement(e){ let _hh$temp724=this._getFCConfig(e)||{},t=_hh$temp724.active,_hh$temp725=this._getIAIConfig(e)||{},s=_hh$temp725.active; return!!t&&!s}};A.class(yh,{token:"FlyingCarpetManager",dependencies:[{token:c.WINDOW,alias:"win"},c.AD_SLOTS_MANAGER,c.DISPENSARY_DATA,c.GAM_MANAGER]})});var Cs,aj,Sh,tA,Ih=h(()=>{Cs="wakelock",aj=`fs.${Cs}`,Sh="WAKELOCK V1.3.1",tA={title:Sh,styles:"background: black; color: white; border-radius: 3px; padding: 3px"}});var Ah,iA,sA,rA,nA=h(()=>{Ih();Ce();it();Ah={percentage:1,testPercentage:.02,blockedSiteIDs:[1575,1910,1748,1841,6326,2410,1783,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1955,1956,1957,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1970,1971,1972,1973,1974,1975,1985,2095,2132,2170,2232,2244,2511,5491,1756,2372,1556,2086,2087,2192,2193,2194,2195,2196,2197,2198,2199,2200,2201,2202,2203,2204,2205,2206,2207,2208,2209,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2351,2352,2353,2354,2355,2356,2357,2358,2359,2360,2361,2362,2363,2364,2365,2366,2367,2394,2395,2396,2397,2398,2399,2400,2401,2402,2403,2404,2405,2426,3516,5344,3107,3108,3109,3110,3111,3234,6152,6603,1556,1495,5438,6507,6508,6497,6496,6498,6503,6500,6501,6499,6505,6502,6506,5836,5837,6592,5466,1560,3695,6249,108,112,7225,2125,7264,1794,38,7211,5632,3185,5693,2604,523,5839,6073,7250,2175,5941,3498,305,6615,5421,7270,5932,5935,7249,624,1725,5943,5931,3095,3037,856,241,285,2513,839,2147,7204,729,5894,1764,5472,2495,6589,6253,6949,2495,6256,2605,2301,507,6589,6153,2495,6949,6061,6256,2605,2301,6048,1823,1819,7234,6515,3184,1709,6516,1808,714,1781,608,6941,6509,1770,1758,6228,1994,5940,3163,5937,6358,1801,6324,7327]},iA=()=>{let i=JSON.parse(j({key:`fs.${Cs}`}))||{};return!Ah.blockedSiteIDs.includes(freestar.fsdata.siteId)&&typeof i.inTest=="undefined"&&(Math.random()<Ah.percentage?Math.random()<Ah.testPercentage?(i.inTest=!0,i.control=Math.random()<=.5):(i.inTest=!1,i.hasFeature=!0):(i.inTest=!1,i.hasFeature=!1),ve({key:`fs.${Cs}`,value:i,type:Y.object})),i.inTest&&freestar.log(tA,`Session is participating in test as ${i.control?"CONTROL":"TEST"}...`),$(`fs-use-${Cs}`)||i.inTest||i.hasFeature},sA=()=>{let i=JSON.parse(j({key:`fs.${Cs}`}))||{};return(i==null?void 0:i.inTest)&&(i==null?void 0:i.control)},rA=()=>{let i=JSON.parse(j({key:`fs.${Cs}`}))||{};return(i==null?void 0:i.inTest)===!0}});var oA,aA=h(()=>{oA=( _hh$temp726 )=>{ var i=_hh$temp726.freestar; var e,t;return((t=(e=i==null?void 0:i.deviceInfo)==null?void 0:e.device)==null?void 0:t.type)!=="desktop"}});var bh,dA=h(()=>{ii();D();di();st();nA();Ih();aA();ms();bh=class{constructor( _hh$temp727 ){ var e=_hh$temp727.freestar,t=_hh$temp727.window,s=_hh$temp727.eventBus,r=_hh$temp727.analytics; _(this,"init",()=>{!oA({freestar:this._freestar})||!navigator.wakeLock||!this._win.requestAnimationFrame||iA()&&(rA()&&(this.control=sA(),this._sendEvent({type:this.control?"CONTROL_SESSION":"TEST_SESSION",value:{}}),this.control)||(this._bindEvents(),this._startPolling()))});this._freestar=e,this._win=t,this._eventBus=s,this._analytics=r,this._adsInView=new Set,this._wakeLock=null,this._lastPollTime=0,this._pollInterval=500}_bindEvents(){this._eventBus.subscribe(Ws,this._handleAdIntersection.bind(this))}_handleAdIntersection(e){ let _hh$temp728=e.payload,t=_hh$temp728.id,s=_hh$temp728.isIntersecting,r=de.getAdUnitBySlotElementId(t); r&&(s?this._adsInView.add(r.placement.name):this._adsInView.delete(r.placement.name))}_requestWakeLock(){return T(this,null,function*(){if(navigator.wakeLock)try{yield this._releaseWakeLock(),this._adsInView.size>0&&(this._wakeLock=yield navigator.wakeLock.request("screen"),this._wakeLock.addEventListener("release",()=>{this._wakeLock=null}))}catch(e){console.error(`Failed to get Wake Lock: ${e.message}`)}})}_releaseWakeLock(){return T(this,null,function*(){this._wakeLock&&(yield this._wakeLock.release(),this._wakeLock=null)})}_startPolling(){let e=Date.now();e-this._lastPollTime>=this._pollInterval&&(this._lastPollTime=e,this._adsInView.size>0&&!this._wakeLock?this._requestWakeLock():this._adsInView.size===0&&this._wakeLock&&this._releaseWakeLock()),this._win.requestAnimationFrame(this._startPolling.bind(this))}_sendEvent( _hh$temp729 ){ var _hh$temp729$name=_hh$temp729.name,e=_hh$temp729$name===void 0?Sh:_hh$temp729$name,t=_hh$temp729.type,s=_hh$temp729.value; this._analytics.track(new Z({eventName:e,eventType:t,data:b({},s)}))}};A.class(bh,{token:"WakeLock",dependencies:[c.FREESTAR,c.WINDOW,c.EVENT_BUS,c.ANALYTICS],defaultAlias:"wakelock"})});var ul,fl,lA=h(()=>{It();Oe();ul=class ul extends K{constructor(){super(...arguments);_(this,"type","viewabilityMeasured")}_buildPayload(t){return we(t,ul.payloadProperties)}};_(ul,"payloadProperties",["sessionId","pageviewId","accountId","siteId","placementId","dfpId","minRatio","testName","testGroup","fsAuctionId"]);fl=ul});var pl,hl,cA=h(()=>{It();Oe();pl=class pl extends K{constructor(){super(...arguments);_(this,"type","viewabilityMet")}_buildPayload(t){return we(t,pl.payloadProperties)}};_(pl,"payloadProperties",["sessionId","pageviewId","accountId","siteId","placementId","dfpId","minRatio","timeInView","testName","testGroup","fsAuctionId"]);hl=pl});var wh,fA=h(()=>{ii();D();di();lA();cA();st();wh=class{constructor( _hh$temp730 ){ var e=_hh$temp730.freestar,t=_hh$temp730.window,s=_hh$temp730.analytics,r=_hh$temp730.eventBus,n=_hh$temp730.gamManager; _(this,"init",()=>{let e=Math.random()<.5;this._isInitialized||!e||(this._bindEvents(),this._startPolling(),this._gamManager.instance.setConfig({targeting:{fs_viewability:"active"}}),this._isInitialized=!0)});_(this,"_handleAuctionStart",( _hh$temp731 )=>{ var e=_hh$temp731.payload; var o,a;let t=(e==null?void 0:e.elementId)||(e==null?void 0:e.slotId);if(!t)return;let s=de.getAdUnitBySlotElementId(t)||de.getAdUnitByPrebidCode(t),r=((a=(o=s==null?void 0:s.slot)==null?void 0:o.getSlotElementId)==null?void 0:a.call(o))||t;this._auctionReadySlots.add(r);let n=this._pendingIntersections.get(r);n&&(this._pendingIntersections.delete(r),this._processIntersection(n))});_(this,"_handleIntersection",e=>{ let _hh$temp732=(e==null?void 0:e.payload)||{},t=_hh$temp732.id,s=_hh$temp732.isIntersecting,_hh$temp732$intersectionRatio=_hh$temp732.intersectionRatio,r=_hh$temp732$intersectionRatio===void 0?0:_hh$temp732$intersectionRatio; if(t){if(!this._auctionReadySlots.has(t)){this._pendingIntersections.set(t,{id:t,isIntersecting:s,intersectionRatio:r});return}this._pendingIntersections.delete(t),this._processIntersection({id:t,isIntersecting:s,intersectionRatio:r})}});this._freestar=e,this._win=t,this._analytics=s,this._eventBus=r,this._isInitialized=!1,this._gamManager=n,this._viewabilityMap=new Map,this._auctionReadySlots=new Set,this._pendingIntersections=new Map,this._thresholdMs=1e3,this._pollInterval=100,this._lastPollTime=0,this._minRatio=.5}_bindEvents(){this._eventBus.subscribe(Wo,this._handleAuctionStart),this._eventBus.subscribe(Ws,this._handleIntersection),this._eventBus.subscribe(jo,( _hh$temp733 )=>{ var _hh$temp733$payload=_hh$temp733.payload,e=_hh$temp733$payload.elementId; e&&this._resetForRefresh(e)}),this._eventBus.subscribe(Ys,( _hh$temp734 )=>{ var _hh$temp734$payload=_hh$temp734.payload,e=_hh$temp734$payload.elementId; e&&(this._viewabilityMap.delete(e),this._auctionReadySlots.delete(e),this._pendingIntersections.delete(e))}),this._eventBus.subscribe(Ri,()=>{this._viewabilityMap.clear(),this._auctionReadySlots.clear(),this._pendingIntersections.clear()})}_processIntersection( _hh$temp735 ){ var e=_hh$temp735.id,t=_hh$temp735.isIntersecting,_hh$temp735$intersectionRatio=_hh$temp735.intersectionRatio,s=_hh$temp735$intersectionRatio===void 0?0:_hh$temp735$intersectionRatio; let r=this._viewabilityMap.get(e)||{isMeetingRatio:!1,visibleSince:null,hasMetThreshold:!1,accumulatedMs:0,lastRatio:0},n=Date.now(),o=!!t&&s>=this._minRatio;o&&!r.isMeetingRatio?(r.visibleSince=n,r.hasMetThreshold||this._onViewabilityStart({id:e})):!o&&r.isMeetingRatio&&(r.visibleSince&&(r.accumulatedMs+=n-r.visibleSince),r.visibleSince=null),r.isMeetingRatio=o,r.lastRatio=s,this._viewabilityMap.set(e,r)}_startPolling(){let e=Date.now();e-this._lastPollTime>=this._pollInterval&&(this._lastPollTime=e,this._viewabilityMap.forEach((t,s)=>{if(!t.isMeetingRatio||t.hasMetThreshold||!t.visibleSince)return;let r=e-t.visibleSince;r>=this._thresholdMs&&(t.hasMetThreshold=!0,this._onViewabilityMet({id:s,timeInView:r}))})),this._win.requestAnimationFrame(this._startPolling.bind(this))}_resetForRefresh(e){let t=Date.now(),s=this._viewabilityMap.get(e)||{isMeetingRatio:!1,visibleSince:null,hasMetThreshold:!1,accumulatedMs:0,lastRatio:0};s.accumulatedMs=0,s.hasMetThreshold=!1,s.isMeetingRatio&&s.lastRatio>=this._minRatio?(s.visibleSince=t,this._onViewabilityStart({id:e})):s.visibleSince=null,this._viewabilityMap.set(e,s)}_onViewabilityStart( _hh$temp736 ){ var e=_hh$temp736.id; var n,o,a,d;let t=de.getAdUnitBySlotElementId(e);if(!t)return; let s=((n=t==null?void 0:t.placement)==null?void 0:n.name)||null,_hh$temp737=((a=t==null?void 0:t.states)==null?void 0:__get$(a,((o=t==null?void 0:t.states)==null?void 0:o.length)-1))||{},_hh$temp737$fsAuctionId=_hh$temp737.fsAuctionId,r=_hh$temp737$fsAuctionId===void 0?null:_hh$temp737$fsAuctionId; this._analytics.track(new fl({minRatio:this._minRatio,placementId:s,dfpId:((d=t==null?void 0:t.slot)==null?void 0:d.getAdUnitPath())||null,fsAuctionId:r}))}_onViewabilityMet( _hh$temp738 ){ var e=_hh$temp738.id,t=_hh$temp738.timeInView; var o,a,d,l;let s=de.getAdUnitBySlotElementId(e);if(!s)return; let r=((o=s==null?void 0:s.placement)==null?void 0:o.name)||null,_hh$temp739=((d=s==null?void 0:s.states)==null?void 0:__get$(d,((a=s==null?void 0:s.states)==null?void 0:a.length)-1))||{},_hh$temp739$fsAuctionId=_hh$temp739.fsAuctionId,n=_hh$temp739$fsAuctionId===void 0?null:_hh$temp739$fsAuctionId; this._analytics.track(new hl({minRatio:this._minRatio,timeInView:t,placementId:r,dfpId:((l=s==null?void 0:s.slot)==null?void 0:l.getAdUnitPath())||null,fsAuctionId:n}))}};A.class(wh,{token:"ViewableImpressions",dependencies:[c.FREESTAR,c.WINDOW,c.EVENT_BUS,c.ANALYTICS,c.GAM_MANAGER],defaultAlias:"viewableImpressions"})});function vv(){return freestar.fsdata.placements.filter(i=>i.interstitialOptions&&i.interstitialOptions.active&&i.interstitialOptions.type==="UNDERTONE_GRABBER")[0]}function uA(i,e){if(me({name:"pageGrabber"})){i(!0);return}freestar.log(1,"Page Grabber: Init");let t=vv();if(t){performance.mark("pageGrabber-initialization-start"),freestar.log(1,"Page Grabber: placement ",t), __set$(freestar.frequencyLibrary,t.name,new pr({placement:t,product:"interstitial",callback:i})) ; let s=Number(sessionStorage.getItem("pageviews")||1),_hh$temp740=ke({placement:t,type:"interstitialOptions"}),r=_hh$temp740.interstitialPageViewsBefore; if( __get$(freestar.frequencyLibrary,t.name) .cap>-1&&! __get$(freestar.frequencyLibrary,t.name) .allowProduct()){i(!0);return}if(r&&s<r){i(!0);return}let n=e.createSlot({placement:t}),o=je(t);if(o&&gt({adUnits:o}),n&&t.name&&document.body){let a=function(p){if(p&&p.data)try{let m=p.data&&typeof p.data=="string"?JSON.parse(p.data):!1;m.method&&m.method==="close"&&d({slot:n,callback:i,name:t.name})}catch(m){freestar.log(1,`Error: ${m}`)}},d=function( _hh$temp741 ){ var p=_hh$temp741.slot,m=_hh$temp741.callback; freestar.log(1,"Page Grabber: destroying page grabber div!"),freestar.newAdSlotsAllowed=!0,document.removeEventListener("click",a,!1),googletag.destroySlots([p]),m(null,!0)};freestar.newAdSlotsAllowed=!1;let l=w({type:"div",id:t.name});document.body.appendChild(l),googletag.cmd.push(function(){googletag.display(l.id)}),G.instance.resolve(c.BIDS_MANAGER).then(p=>{p.requestBids({elementIds:[t.name],slots:[n]})});let f=0,u=setInterval(function(){if(f++,f>50)clearInterval(u);else{let p=document.querySelectorAll('[title="Close"]')[0];p&&(clearInterval(u),p.addEventListener("click",function(){d({slot:n,callback:i})}))}},50);window.addEventListener("message",a)}else freestar.log(1,"Page Grabber: define slot error or document.body not available skipping page grabber!"), __get$(freestar.frequencyLibrary,t.name) .cap&& __get$(freestar.frequencyLibrary,t.name) .subtractIteration(),i(!0);performance.mark("pageGrabber-initialization-end")}else freestar.log(1,"Page Grabber: no placement aligned skipping page grabber!"),i(!0)}var hA=h(()=>{Ni();ki();Q();vn();Qe();lt();N();D()});function Th(){let i=document.createElement("script");i.src="https://btloader.com/tag?o=5714937848528896&upapi=true",document.head.insertBefore(i,document.head.firstElementChild),freestar.log("inserted blockthrough script")}var pA=h(()=>{});function mA( _hh$temp742 ){ var _hh$temp742$placementName=_hh$temp742.placementName,i=_hh$temp742$placementName===void 0?void 0:_hh$temp742$placementName,_hh$temp742$callback=_hh$temp742.callback,e=_hh$temp742$callback===void 0?void 0:_hh$temp742$callback; freestar.log(1,"Stand Alone Player: Invoked",arguments);let t=!0,s=freestar.fsdata.placements.filter(r=>r.name===i)[0];if(s){freestar.log(1,"Stand Alone Player: Placement",s);let r=document.getElementById(s.name),n=document.createElement("div");if(n.style=r.style,n.style.width="100%",n.style.height="100%",n.id="_"+r.id,n.className="_wrapper",r.appendChild(n),freestar.log(1,"Stand Alone Player: Div",r),r){ let _hh$temp743=r.getBoundingClientRect(),o=_hh$temp743.width; if(o>=300){freestar.log(1,"Stand Alone Player: eligible width!");let a=freestar.fsdata.placementVideos.filter(d=>d.id===s.standAloneVideoOptions.videoId)[0];a&&(freestar.log(1,"Stand Alone Player: videoAd",a),t=!1,G.instance.resolve(c.AD_SLOTS_MANAGER).then(d=>{Rv({videoAd:a,placement:s,width:o,callback:e,adSlotsManager:d})}))}else freestar.log(1,"Stand Alone Player: width is not equal to or greater than 400px!")}}t&&e&&(freestar.log(1,"Stand Alone Player: Failure!"),e(!0))}function Rv( _hh$temp744 ,r){ var i=_hh$temp744.videoAd,e=_hh$temp744.placement,t=_hh$temp744.width,_hh$temp744$callback=_hh$temp744.callback,s=_hh$temp744$callback===void 0?void 0:_hh$temp744$callback; performance.mark("springServe-initialization-start"),window._ssPlayer=window._ssPlayer||{spIdi:i.supplyId,widthi:`${t}`,aspecti:"16:9",divi:"_"+e.name};let n="https://cdn.springserve.com/assets/0/playerJS/frstrIN_2.js",o=Date.now();Ct({bidder:"springserve",placementId:i.id?i.id:"",tagUrl:n});function a(){s&&(s(null,{completed:!0}),s=void 0)}load_script(n,function(){window.AdPlayerPro().on("AdStarted",function(){Xt({bidder:"springserve",videoAd:i,requestTimestamp:o}),s&&s(null,{videoAdStarted:!0}),["AdStopped","AdClosed"].forEach(d=>{window.AdPlayerPro().on(d,()=>{a()})}),window.AdPlayerPro().on("AdSkipped",()=>{s&&(s(null,{videoAdSkipped:!0,completed:!0}),s=void 0)})}),window.AdPlayerPro().on("AdError",function(){freestar.log(1,"Stand Alone Player: Error loading video requesting bids via new ad slots method"),s&&(s(null,{videoAdStarted:!1}),freestar.standAlonePlayer.callback=s,freestar.standAlonePlayer.slotId=e.name),e.standAloneVideoOptions.backfillDisplayAd?(freestar.log(1,"Stand Alone Player: Backfill display ad requesting."),r.newAdSlots([{placementName:e.name,slotId:e.name}])):(freestar.log(1,"Stand Alone Player: Backfill display not selected. Process terminating"),s(null,{completed:!0}))}),performance.mark("springServe-initialization-end")})}function gA( _hh$temp745 ){ var i=_hh$temp745.event; let e=i.slot.getSlotElementId(),t=freestar.fsdata.placements.filter(s=>s.name===e)[0];if(t){ let _hh$temp746=t,s=_hh$temp746.standAloneVideoOptions; if(s&&s.videoId&&s.videoId.length&&freestar.fsdata.placementVideos.filter(n=>n.id===t.standAloneVideoOptions.videoId)[0]){freestar.standAlonePlayer&&freestar.standAlonePlayer.callback&&typeof freestar.standAlonePlayer.callback=="function"&&(freestar.standAlonePlayer.callback(null,{displayAdServed:!i.isEmpty,completed:!0}),freestar.standAlonePlayer.callback=void 0);let n=document.getElementById(t.name);if(n){let o=n.querySelector("div[id^=google_ads_iframe_]");o&&(o.className+="center-ad")}}}}function _A( _hh$temp747 ){ var _hh$temp747$placementName=_hh$temp747.placementName,i=_hh$temp747$placementName===void 0?void 0:_hh$temp747$placementName,_hh$temp747$callback=_hh$temp747.callback,e=_hh$temp747$callback===void 0?void 0:_hh$temp747$callback; let t=freestar.fsdata.placements.filter(s=>s.name===i)[0];t&&(freestar.log(1,"Stand Alone Player: Placement",t),document.getElementById(t.name).innerHTML="",delete window.AdPlayerPro),e&&e(!0)}var EA=h(()=>{Ji();N();D()});var yA,vh,Ov,SA,IA=h(()=>{Q();it();Ce();ns();yA="fs.session",vh=class{constructor(){this.session=null,this.init()}init(){let e=j({key:yA});this.session=e?JSON.parse(e):{},this.session.id||(this.session.id=Ae());let t=rs.map(s=>({key:s,value:$(s)})).filter(s=>s.value!=="");if(t.length!==0){let s={};t.forEach(r=>{ __set$(s,r.key,r.value) }),this.session.utm=s}ve({key:yA,type:Y.object,value:this.session})}getSessionId(){return this.session.id}getUTMValue(e){return this.session.utm? __get$(this.session.utm,e) :null}},Ov=new vh,SA=()=>Ov.getSessionId()});function Rh(){function i(){let t=new Date().getTime();return window.performance&&typeof window.performance.now=="function"&&(t+=performance.now()), __call$("xxxxxxxxxx","replace",[/[x]/g,function(){let s=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),s.toString(16);}]) }function e(){let t=i();return os({name:"fs.identifier.hash",value:t,expires:365*5,path:"/"}),t}if(freestar.fsdata&&freestar.fsdata.hashEnabled){let t=ti({name:"fs.identifier.hash"});return  __get$(window,"location") .hash=t&&t.length?t:e(), __get$(window,"location") .hash}return""}function AA(){freestar.msg=freestar.msg||{},freestar.msg.loadTime=freestar.msg.loadTime||0,freestar.msg.hash=Rh(),freestar.msg.sessionId=SA()}var bA=h(()=>{it();IA()});var Cv,xv,Pv,wA,TA=h(()=>{ue();Q();le();Qe();Xe();D();N();Cv=( _hh$temp748 )=>{ var i=_hh$temp748.placements; i.forEach(e=>{ let _hh$temp749=e,t=_hh$temp749.name,s=_hh$temp749.contextId; G.instance.resolve(c.ANALYTICS).then(r=>{r.track(new Qo({partnerName:"DIANOMI",placementName:t,contextId:s}))})}),performance.mark("dianomi-initialization-end")},xv=( _hh$temp750 )=>{ var i=_hh$temp750.placement;  let _hh$temp751=i,e=_hh$temp751.name,t=_hh$temp751.contextId,s=document.querySelector(`#${e}`); if(!s)return window.freestar.log(1,`Dianomi Target Node with ID "${e}" Does Not Exist`),!1;s.appendChild(w({classList:["dianomi_context"],attributes:[{"data-dianomi-context-id":t}]}))},Pv=()=>{let i=window.freestar.fsdata.placements.filter(e=>e.partnerName==="DIANOMI");if(me({name:"dianomiContentRec"})||i.length<1)return!1;performance.mark("dianomi-initialization-start"),i.forEach(e=>{xv({placement:e})}),i_({id:Il})?performance.mark("dianomi-initialization-end"):Ie(Hh,Cv.bind(null,{placements:i}),Il)},wA=Pv});function RA(){window.addEventListener("focus",()=>{let i=[...freestar.focusQueue];freestar.focusQueue=[],i.forEach(e=>e.apply())})}function OA(){vA||(vA=!0,document.addEventListener("visibilitychange",function(){return!document.hidden&&freestar.visibilityRefresh.timeLeft&&Date.now()-freestar.visibilityRefresh.timeLeft>freestar.visibilityRefresh.refreshTimeMinimum*1e3&&(freestar.visibilityRefresh.timeLeft=null,freestar.refreshActiveSlots()),freestar.visibilityRefresh.timeLeft=Date.now(),!0}))}var vA,CA=h(()=>{vA=!1});function xA(i){var t;let e=(t=i.selectedSize)==null?void 0:t.elementTargetedConfig;return e&&e.active?V(b({},e),{source:"viewport"}):{active:!1}}var PA=h(()=>{});var DA,NA=h(()=>{DA=document.createElement("style");DA.textContent='.fs-sticky-footer{bottom:0;display:block;display:-webkit-box;display:-ms-flexbox;display:flex;position:fixed;right:0;width:100vw;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:2147483647}.fs-sticky-slot-element>div>iframe{margin:0!important}.fs-sticky-slot-element>div{position:relative}.fs-sticky-parent{bottom:0;left:0;padding-top:0;position:fixed;right:0;text-align:center;z-index:2147483647}.fs-sticky-wrapper{margin:auto}.fs-dynamic{clear:both;text-align:center}.fs-iai{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;clear:both}.fs-iai-sticky{-webkit-box-align:top;-ms-flex-align:top;align-items:top}.fs-iai-sticky>div{position:sticky;-ms-flex-item-align:start;align-self:flex-start}.fs-close-button{all:unset;-moz-appearance:none!important;-webkit-appearance:none!important;appearance:none!important;background-color:#fff!important;background-image:url(https://a.pub.network/core/imgs/freestar_close_button.svg)!important;background-position:50%!important;background-repeat:no-repeat!important;border:none!important;border-radius:50%!important;-webkit-box-shadow:0 0 0 1px #888,0 0 0 1px #f7f7f7bf!important;box-shadow:0 0 0 1px #888,0 0 0 1px #f7f7f7bf!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;cursor:pointer!important;display:block!important;height:20px!important;outline:none!important;padding:0!important;position:absolute!important;right:25px!important;top:25px!important;-webkit-transition:all .3s ease-in-out!important;transition:all .3s ease-in-out!important;width:20px!important}.fs-close-button:focus,.fs-close-button:hover{background-color:#000!important}.fs-sticky-popup-container{-webkit-filter:drop-shadow(2px 2px 2px grey);filter:drop-shadow(2px 2px 2px grey);font-family:arial;font-size:.8em;height:auto;padding:7px;text-align:center;white-space:nowrap;width:auto;z-index:2147483647!important}.fs-sticky-popup-container a:nth-child(2){border-top:1px solid #999}.fs-sticky-popup-container .fs-report-ad-button{color:#999}.fs-close-button:hover{-webkit-box-shadow:0 0 0 1px #888,0 0 0 8px #f7f7f7bf;box-shadow:0 0 0 1px #888,0 0 0 8px #f7f7f7bf}.fs-close-button-pushdown{right:12px!important;top:12px!important}@media screen and (min-width:820px){.fs-close-button-sticky{right:10px!important;top:9.3%!important}}@media screen and (max-width:820px){.fs-close-button-sticky{right:10px!important;top:3px!important}.fs-close-button-pushdown{right:0!important;top:0!important}}.fs-branding-spacer{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}.fs-report-ad-button{background:none;color:#000;font-size:12px;-webkit-text-decoration:none;text-decoration:none}.fs-report-ad-button,.fs-report-ad-button-icon{border:none;cursor:pointer;display:block;padding:0}.fs-report-ad-button-icon{background-color:initial;background-image:url(https://a.pub.network/core/imgs/freestar_report_ad_icon.png);background-size:18px;content:"";moz-appearance:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;background-position:50%;background-repeat:no-repeat;border-radius:50%;-webkit-box-sizing:border-box;box-sizing:border-box;height:16px;outline:none;width:16px}.fs-pushdown{width:100%}.fs-pushdown,.fs-pushdown-sticky{background-color:#f7f7f7e6;display:-webkit-box;display:-ms-flexbox;display:flex;text-align:center;top:0;z-index:2147483647;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.fs-pushdown-sticky{left:0!important;position:sticky!important}.__fs-ancillary{--childHeight:16px;display:-webkit-box;display:-ms-flexbox;width:var(--childWidth,100%);-webkit-box-align:center;-ms-flex-align:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin:0 auto;position:relative;-webkit-box-ordinal-group:1000;-ms-flex-order:999;align-items:center;display:flex;height:16px;height:var(--childHeight,16px);order:999;width:100%;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.__fs-ancillary>div>.__fs-branding{-webkit-box-flex:20;-ms-flex-positive:20;flex-grow:20}.fs-sticky-wrapper .__fs-ancillary{display:none!important}.__fs-branding{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.__fs-branding>a{display:block;height:var(--childHeight);max-width:var(--childWidth);width:100%}.__fs-branding>a>img{-webkit-box-shadow:none;box-shadow:none;display:block;height:calc(var(--childHeight) - 2px)!important;margin:0 auto 0 0!important;width:auto!important}.fs-sticky-wrapper .__fs-branding{border:none;border-radius:50%;height:30px;position:absolute;right:6px;top:0;top:50%;width:30px}.fs-mobile-tall{top:30%!important}.fs-sticky-wrapper .__fs-branding>a{display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;width:100%;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.fs-sticky-wrapper .__fs-branding>a>img{height:100%!important;opacity:1;width:100%!important}@media screen and (max-width:820px){.fs-sticky-wrapper .__fs-branding>a>img{height:70%!important;opacity:1;width:70%!important}}.fs-sticky-wrapper .__fs-branding{background-color:#f7f7f7bf;background-size:58%}.fs-sticky-wrapper .__fs-branding>a>img{height:90%;width:90%}.fs-sticky-wrapper{background-color:#f6f3f3;display:inline-block;padding-right:38px;visibility:inherit;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;z-index:inherit}.center-ad{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}._wrapper .orp-player-wrapper{height:100%!important;width:100%!important}';document.head.appendChild(DA)});var ml,MA=h(()=>{ml=class{constructor(){this.modifications={emxdigital:{modification:"emx_digital"},synacor:{modification:"synacormedia"}}}slugModification(e=""){return  __get$(this.modifications,e) ? __get$(this.modifications,e) .modification:e}reassignNetworkSlug(e=[]){return e.map(t=>(t.slug=this.slugModification(t.slug),t))}init(){window.freestar.fsdata.networks=this.reassignNetworkSlug(window.freestar.fsdata.networks),window.freestar.fsdata.placements=window.freestar.fsdata.placements.map(e=>(e.networks=this.reassignNetworkSlug(e.networks),e))}}});function LA(){return Oh==null&&(Oh=new Ch),Oh}var Ch,Oh,kA=h(()=>{N();D();Pi();Ch=class{initiateWatcher(e){e.que.push(()=>{e.onEvent("adRenderFailed",this.handleAdRenderFailed.bind(this))})}handleAdRenderFailed( _hh$temp752 ){ var e=_hh$temp752.message,t=_hh$temp752.adId,s=_hh$temp752.reason,r=_hh$temp752.bid; freestar.log({title:"Pubfig",styles:"background: red; color: white; border-radius: 3px; padding: 3px"},`Prebid adRenderFailed. Reason: ${s} - ${e} - ${r.adUnitCode}`),G.instance.resolve(c.ANALYTICS).then(n=>{n.track(new Z({eventName:"AD_RENDER_FAILED",eventType:e,data:{adId:t,reason:s,bid:r}}))})}},Oh=null});var BA,FA=h(()=>{Qd();BA=( _hh$temp753 ={})=>{ var _hh$temp753$win=_hh$temp753.win,i=_hh$temp753$win===void 0?window:_hh$temp753$win,_hh$temp753$level=_hh$temp753.level,e=_hh$temp753$level===void 0?Ft.page:_hh$temp753$level; var s;let t=(s=i==null?void 0:i.freestar)==null?void 0:s.frequencyLibraryV2;t&&Object.values(t).forEach(r=>{r&&typeof r.resetIteration=="function"&&r.resetIteration({level:e})})}});function UA( _hh$temp754 ){ var _hh$temp754$isActive=_hh$temp754.isActive,i=_hh$temp754$isActive===void 0?!1:_hh$temp754$isActive; let e=i||Dv()?99:!1;Object.defineProperty(window.freestar,"debug",{get(){return e},set(t){let s=ye.SILENT;t===!0&&(s=ye.VERBOSE),Number.isInteger(t)&&(s=t),t===!1&&(s=ye.SILENT),Ks.setMaxLogsLevel(s),e=t}})}var Dv,GA=h(()=>{ps();on();Dv=()=> __get$(window,"location") .search.includes("fslog")});var VA,zA=h(()=>{VA=document.createElement("style");VA.textContent=".fs-test-mode-label{background-color:#000000a6;border-radius:5px 0 0 5px;bottom:40%;color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;font-family:monospace;position:fixed;right:0;-webkit-transform:translateX(calc(100% - 25px));transform:translateX(calc(100% - 25px));-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:background-color .3s ease-in,-webkit-transform .3s ease-in;transition:background-color .3s ease-in,-webkit-transform .3s ease-in;transition:transform .3s ease-in,background-color .3s ease-in;transition:transform .3s ease-in,background-color .3s ease-in,-webkit-transform .3s ease-in;z-index:2147483647}.fs-test-mode-label>span:first-of-type{border-right:1px solid #03c38b;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px;-webkit-writing-mode:tb-rl;-ms-writing-mode:tb-rl;writing-mode:tb-rl}.fs-test-mode-label>span:first-of-type>img{margin-top:5px;width:17px}.fs-test-mode-label>div>button{background-color:#03c38b;border:none;border-radius:5px;color:#fff;cursor:pointer;font-family:monospace;padding:5px 10px}.fs-test-mode-label>div{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:10px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 5px}.fs-test-mode-label>input[type=checkbox]{height:0;visibility:hidden;width:0}.fs-test-mode-label:has(input[type=checkbox]:checked){background-color:#000c;-webkit-transform:translateX(0);transform:translateX(0)}@media only screen and (max-width:450px){.fs-test-mode-label{-webkit-transform:translateX(calc(100% - 30px));transform:translateX(calc(100% - 30px))}.fs-test-mode-label>span:first-of-type{font-size:18px;padding:7px 5px}.fs-test-mode-label>span:first-of-type>img{width:20px}}";document.head.appendChild(VA)});var HA,$A=h(()=>{Ce();Eo();le();et();uh();zA();ue();Hl();HA=()=>{let i=j({key:Bs}),e=$(Si.fsaltconfig);if(!i&&!e)return;let t=i;e&&i!==e&&(ve({key:Bs,value:e}),t=e);let s=w({type:"input",attributes:[{type:"checkbox"}]}),r=w({type:"img"});r.src=`${ei}/imgs/fslogo-green.svg`;let n=w({type:"span"});n.textContent="Test Session",n.appendChild(r);let o=w({type:"span"});o.textContent=`Config v.${t}`;let a=w({type:"span"});a.textContent=`Pubfig v.${freestar.version}`;let d=w({type:"button"});d.textContent="End session",d.onclick=()=>{Ns({key:Bs}),Xh(Si.fsaltconfig)};let l=w({children:[o,a,d]}),f=w({type:"label",id:Lp,classList:[kp],children:[s,n,l]});al(f)}});function YA(){if(window.BrowsiScriptLoaded)return;let i=w({type:"script",id:"browsi-tag",src:"https://cdn.browsiprod.com/bootstrap/bootstrap.js",attributes:[{"data-pubKey":"freestar"},{"data-siteKey":"d_mapping"}]});i.type="text/javascript",i.async=!0,i.onload=function(){window.BrowsiScriptLoaded=!0},document.getElementsByTagName("head")[0].appendChild(i)}function jA( _hh$temp755 ){ var i=_hh$temp755.gamManager,e=_hh$temp755.dispensaryData; i.instance.pubads().addEventListener(xe,()=>{qA||(qA=!0,e.fsdata.browsiEnabled&&ee().allowBrowsi()&&(YA(),freestar.log({title:"Browsi"},"Script loaded")))})}var qA,WA=h(()=>{Xe();He();le();qA=!1});function Nv(){let i={gpp:typeof window.__gpp=="function",tcf:typeof window.__tcfapi=="function",usp:typeof window.__uspapi=="function"};return Object.fromEntries(Object.entries(i).filter( _hh$temp756=>{var _hh$temp757=__arrayFrom$(_hh$temp756),e=_hh$temp757[0],t=_hh$temp757[1];return t;} ))}function KA(){var a,d,l,f,u,p;window.freestar=window.freestar||{};let i=Ps,e=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GR","HR","HU","IE","IS","IT","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK","UK"],t=(d=(a=window==null?void 0:window.freestar)==null?void 0:a.locData)==null?void 0:d.iso,s=(f=(l=window==null?void 0:window.freestar)==null?void 0:l.locData)==null?void 0:f.state,r=((p=(u=window==null?void 0:window.freestar)==null?void 0:u.fsdata)==null?void 0:p.mspaStates)||i,n=t==="US"&&r.includes(s),o=e.includes(t);return new Promise(m=>{if(!n&&!o)return m();function E(){let g=Nv(),y=n&&(g.gpp||g.usp),R=o&&g.tcf;return y||R?(window.freestar.consentLibrary=g,!0):!1}if(E())return m();let S=0,I=setInterval(()=>{if(E())return clearInterval(I),m();S++,S>=100&&(clearInterval(I),console.warn("consent libraries not detected within timeout."),m())},50)})}var QA=h(()=>{ue()});function JA(i){var r,n;let e=o=>(o||[]).map(a=>a==null?void 0:a.slug).filter(Boolean),t=new Set(e((r=i==null?void 0:i.fsdata)==null?void 0:r.networks)),s=new Set((((n=i==null?void 0:i.fsdata)==null?void 0:n.placements)||[]).flatMap(o=>e(o==null?void 0:o.networks)));return new Set([...t,...s])}var ZA=h(()=>{});var XA=h(()=>{ZA()});var Fv=Xi(xh=>{_I();II();LI();UI();GI();QI();Xe();ZI();eA();dA();fA();ki();ac();ue();Zl();Q();le();Of();Ni();At();Vo();qe();it();hs();an();hA();Iu();pA();lt();EA();bA();vn();TA();jr();CA();Fe();PA();NA();Zs();MA();He();Dc();Pu();kA();Pa();eu();FA();Qd();ka();Qe();Ao();Yl();Du();GA();N();Wt();D();cs();cr();$A();WA();QA();XA();Nc();var eb=( _hh$temp758 )=>{ var i=_hh$temp758.callback; if(freestar.fsdata.footerBiddingEnabled&&!me({name:"footerBidding"})){ let _hh$temp759=freestar.fsdata,_hh$temp759$psoDisableInteraction=_hh$temp759.psoDisableInteraction,e=_hh$temp759$psoDisableInteraction===void 0?!1:_hh$temp759$psoDisableInteraction; (!ct()||ct()&&e)&&(document.readyState==="complete"?un(i):window.addEventListener("load",()=>un(i))),ct()&&!e&&fo({name:"engine",callback:()=>un(i)})}else un(i)},Mv=function(i){window.googlefc=window.googlefc||{},window.googlefc.callbackQueue=window.googlefc.callbackQueue||[],window.googlefc.callbackQueue.push({CONSENT_DATA_READY:i})},Lv=()=>T(xh,null,function*(){yield ut().fetch({fetchFn:Us,requestId:"getIdealData",onError:()=>{$t({siteId:freestar.fsdata.siteId})||ut().fetch({requestId:"getFloorsData",fetchFn:()=>{var i,e;return Rr({deviceVendor:window.freestar.deviceInfo.device.vendor,deviceType:window.freestar.deviceInfo.device.type,refreshNumber:0,isFloorsActive:(e=(i=window.freestar)==null?void 0:i.fsdata)==null?void 0:e.isTriple13Enabled})}})},onSuccess:( _hh$temp760 )=>{ var i=_hh$temp760.data; $t({siteId:freestar.fsdata.siteId})||i&&i.floors||ut().fetch({requestId:"getFloorsData",fetchFn:()=>{var e,t;return Rr({deviceVendor:window.freestar.deviceInfo.device.vendor,deviceType:window.freestar.deviceInfo.device.type,refreshNumber:0,isFloorsActive:(t=(e=window.freestar)==null?void 0:e.fsdata)==null?void 0:t.isTriple13Enabled})}})}})});function kv(Wn){return T(this,arguments,function*( _hh$temp761 ){ var i=_hh$temp761.freestar,_hh$temp761$stickyFooter=_hh$temp761.stickyFooter,e=_hh$temp761$stickyFooter===void 0?{}:_hh$temp761$stickyFooter,_hh$temp761$sideWall=_hh$temp761.sideWall,t=_hh$temp761$sideWall===void 0?{}:_hh$temp761$sideWall,_hh$temp761$stickyRail=_hh$temp761.stickyRail,s=_hh$temp761$stickyRail===void 0?{}:_hh$temp761$stickyRail,r=_hh$temp761.initDynamicAds,n=_hh$temp761.newDynamicContent,o=_hh$temp761.DynamicAds,_hh$temp761$pushdown=_hh$temp761.pushdown,a=_hh$temp761$pushdown===void 0?{}:_hh$temp761$pushdown,_hh$temp761$video=_hh$temp761.video,d=_hh$temp761$video===void 0?{}:_hh$temp761$video,l=_hh$temp761.analytics,f=_hh$temp761.performanceLogger,u=_hh$temp761.identityManager,_hh$temp761$slidingUnit=_hh$temp761.slidingUnit,p=_hh$temp761$slidingUnit===void 0?{}:_hh$temp761$slidingUnit,_hh$temp761$stickyAd=_hh$temp761.stickyAd,m=_hh$temp761$stickyAd===void 0?{}:_hh$temp761$stickyAd,E=_hh$temp761.interstitial,S=_hh$temp761.superflex,_hh$temp761$carousel=_hh$temp761.carousel,I=_hh$temp761$carousel===void 0?{}:_hh$temp761$carousel,_hh$temp761$wakelock=_hh$temp761.wakelock,g=_hh$temp761$wakelock===void 0?{}:_hh$temp761$wakelock,_hh$temp761$viewableImpressions=_hh$temp761.viewableImpressions,y=_hh$temp761$viewableImpressions===void 0?{}:_hh$temp761$viewableImpressions,_hh$temp761$adInsertionManager=_hh$temp761.adInsertionManager,R=_hh$temp761$adInsertionManager===void 0?{}:_hh$temp761$adInsertionManager,_hh$temp761$joke=_hh$temp761.joke,M=_hh$temp761$joke===void 0?{}:_hh$temp761$joke,z=_hh$temp761.adRefresher,H=_hh$temp761.logger,ce=_hh$temp761.adSlotsManager,X=_hh$temp761.memoryMonitor,Te=_hh$temp761.bidsManager,se=_hh$temp761.gamManager,Ge=_hh$temp761.dispensaryData,Ve=_hh$temp761.adSlotService,xt=_hh$temp761.page,Ut=_hh$temp761.intelligentAdInsertManager,Pt=_hh$temp761.flyingCarpetManager,_i=_hh$temp761.urlValidator; var Nh;if(fm(Ge.fsdata.placements),HA(),UA({}),_i.validate(),AA(),se.setGlobalTargeting("fs_version",i.version),jd().initiateWatcher(fsprebid),LA().initiateWatcher(fsprebid),f.setAnalytics(l),Object.defineProperty(i,"googletagCorrelatorUpdate",{get:function(){return se.googletagCorrelatorUpdate},set:function(L){se.googletagCorrelatorUpdate=L}}),(Nh=i.analyticsQueue)!=null&&Nh.length&&i.analyticsQueue.forEach(L=>l.track(L)),delete i.analyticsQueue,f.pushAllPendingMarksToMsgQue(),f.logMark({markerName:Pe.pubfigEngineLoad,compareTo:[Pe.pubfigEngineLoadInit]}),i.queue=i.queue||[],i.config=i.config||{},i.identity=u,i.isHttps= __get$(window,"location") .protocol==="https:"?1:0,i.dynamicIdNum=i.dynamicIdNum||1,i.rebidSlots=[],i.tools={},i.requests={},i.requests.que=[],i.requests.process=[],i.requests.timestamp=void 0,i.bidRequestNum=0,i.sideWallUnitControl=[],i.dfpSlotInfo={},i.func={},i.pushdownControl={},i.visibilityRefresh={},i.newAdSlotIds=[],i.server={},i.bidsWon={},i.networkFloor={},i.blockedRanges={},i.requestReference={},i.dynamicSlots=[],i.dynamicSlotLibrary={},i.gamMap=se.gamMap,i.reportLibrary={},i.fsDfpId=se.isFsGam,i.fsDevDfpId=se.isFsDevGam,i.gamImpressionCallbacks=[],i.googleInterstitialPlacement,i.allowBidResponseCollection=!1,i.allowBidRequestedCollection=!1,i.viewableImpression={},i.newAdSlotsAllowed=!0,i.frequencyLibrary={},i.frequencyLibraryV2={},i.newAdSlotsQueue=[],i.focusQueue=[],i.initRequested=!1,i.adjustments={isLogged:$("adjustment-log"),bids:[]},i.logPerformanceMarks=i.performanceLogger.logPerformanceMarkers,i.newAdSlotsCalled=[],i.enabledSlotsCalled=[],i.standAlonePlayer={callback:void 0,slotId:void 0},i.currentStickyFooter=void 0,window.load_script=Ie,i.setVideoAdhesionEnabled=ae(e.setVideoAdhesionEnabled,{name:"setVideoAdhesionEnabled",warn:!0}),i.slotTargeting=vi,i.newDynamicContent=ae(n,{name:"newDynamicContent",warn:!0}),i.newAdSlots=ce.newAdSlots.bind(ce),i.createAdSlot=Ve.createAdSlot.bind(Ve),i.newStickyFooter=ae(e.newStickyFooter,{name:"newStickyFooter",warn:!0}),i.deleteAdSlots=ce.deleteAdSlots.bind(ce),i.format_pbjs=je,i.func.browserInfo=Ba,i.newPushdown=ae(a.add,{name:"newPushdown",warn:!0}),i.deletePushdown=ae(a.delete,{name:"deletePushdown",warn:!0}),i.newSidewall=ae(t.add,{name:"newSidewall",warn:!0}),i.deleteSidewall=L=>{var re;let q=ie({name:L});return(re=q==null?void 0:q.sideWallOptions)!=null&&re.slidewallEnabled&&t.slideWallManager?ae(()=>t.slideWallManager.destroyPlacement(L),{name:"deleteSidewall",warn:!0})():ae(t.delete,{name:"deleteSidewall",warn:!0})(L)},i.newVideo=ae(d.add,{name:"newVideo",warn:!0}),i.deleteVideo=L=>ae(d.remove,{name:"deleteVideo",warn:!0})({name:L}),i.logRandomJoke=ae(M.logRandomJoke,{name:"logRandomJoke",warn:!0}),i.newStandAlonePlayer=mA,i.newStickyRail=ae(s.create,{name:"newStickyRail",warn:!0}),i.deleteStickyRail=ae(s.destroy,{name:"deleteStickyRail",warn:!0}),i.newFlyingCarpet=L=>Pt.create(L),i.deleteFlyingCarpet=L=>Pt.destroy(L),i.deleteStandAlonePlayer=_A,i.reportingAdInfo=()=>{console.warn("freestar.reportingAdInfo() has been deprecated")},i.getActiveModulesFromConfig=yp(i.fsdata.placements,i.fsdata.videoAds),i.deleteStickyFooter=()=>{console.warn("The deleteStickyFooter method is not available!")},i.modulesLoaded.engine=!0,i.disableAutoTrackPageviews||function(L){var q=L.pushState,re=L.replaceState;L.pushState=function(ne){let fe=new CustomEvent("pushState");return fe.state=ne,window.dispatchEvent(fe),q.apply(L,arguments)},L.replaceState=function(ne){let fe=new CustomEvent("replaceState");return fe.state=ne,window.dispatchEvent(fe),re.apply(L,arguments)}}(window.history),i.trackPageview=( _hh$temp762 ={})=>{ var _hh$temp762$path=_hh$temp762.path,L=_hh$temp762$path===void 0?__get$(__get$(window,"location"),"href"):_hh$temp762$path; L!==i.url&&(i.log(1,"TrackPageview invoked."),BA({level:Ft.page}),i.url=L,i.hitTime=Date.now(),Rh(document.cookie),xt.refreshId(),xt.pageViewCount++,Ba(),n==null||n(),z.resetCapCounter())},i.Browsi={pushAd:(L,q,re)=>{i.newAdSlots({placementName:q,slotId:L,targeting:{browsiId:re}})}},i.func.domloaded=!1,i.visibilityRefresh.runRefresh=!0,i.visibilityRefresh.enacted=!1,i.visibilityRefresh.timeLeft=null,i.visibilityRefresh.refreshTimeMinimum=30,i.videoAdsRan=!1,(i.fsdata.adRefreshRate==0||(i.fsdata.visibilityRefreshDisabled&&!!i.fsdata.visibilityRefreshDisabled)===!0)&&(i.visibilityRefresh.runRefresh=!1),i.fsdata.visibilityRefreshTime&&Number(i.fsdata.visibilityRefreshTime)>1&&(i.visibilityRefresh.refreshTimeMinimum=i.fsdata.visibilityRefreshTime),!ee().getBypassFirstAuction()&&i.fsdata.networks.some(L=>L.slug==="consumable")&&Ie("https://sync.serverbid.com/ss/2000462.js"),RA(),e_(window.freestar.fsdata.customCss),ht({name:"pubfigLoaded",detail:!0}),($("blockthrough")||i.fsdata.blockthroughEnabled&&i.fsdata.blockthroughVersion===2)&&ee().allowBlockthrough()&&Th(),vt.setNetworks(),vt.getBidderSettings(),vt.setBidderSettings(),RE(),window.freestar.fsdata.identityProviders&&window.freestar.fsdata.identityProviders.findIndex(L=>L.slug==="merkleId")!==-1){let L=document.createElement("script");L.src="//js-sec.indexww.com/ht/p/184310-82987131453484.js",document.head.insertBefore(L,document.head.firstElementChild),i.log("inserted IX Identity Library script")}let Zi=nb();zh.indexOf(i.fsdata.siteId)===-1&&(i.allowBidResponseCollection=Zi,(Math.floor(Math.random()*99)===50|| __get$(window,"location") .search.indexOf("fssniffer")>-1)&&i.queue.push(function(){o_()})),i.allowBidRequestedCollection=Zi,bm(),i.debug>=99&&(console.clear=function(){}),i.log(1,"Freestar Version: "+i.version),ct()&&(i.log(1,"Page Speed Optimized in effect, filtering out the following products:",yl.join(",")),yl.forEach(L=>{ __get$(i.config.products,L) ||( __set$(i.config.products,L,{}) ), __set$(i.config.products,L,__call$(Object,"assign",[__get$(i.config.products,L),{disabled:!0}])) })),window.setTimeout(window.freestar.func.browserInfo,3e4);let B=i.fsdata.retries,F=ti({name:"fs.direct.traffic"});i.fsdirect=F,new ml().init(),ae(I.manipulatePlacements)(),Td();let k=()=>{f.logMark({markerName:Pe.pubfigEngineSetupStart,compareTo:[Pe.pubfigEngineLoad]}),$("block")==="fsdirect"&&(i.fsdirect=!0);let q=!1;function re(){q||(q=!0,U())}u.init(),re();let ne=null;se.instance.pubads().addEventListener(tc,function(De){var Vr;let ze=De.slot.getSlotElementId();i.log(1,`GAM ${tc} ${ze}`),ze&& __get$(i.gamImpressionCallbacks,ze) && __call$(i.gamImpressionCallbacks,ze,[{event:De}]) ,(Vr=E==null?void 0:E.postRender)==null||Vr.call(E,{event:De,elementId:ze})}),se.instance.pubads().addEventListener(Nt,function(De){i.log(1,`GAM ${Nt} ${De.slot.getSlotElementId()}`),ne===null&&(ne=De.slot.getSlotElementId(),f.logMark({markerName:Pe.pubfigSlotRequested})),i.currentStickyFooter&&typeof i.currentStickyFooter.isSticky=="function"&&i.currentStickyFooter.isSticky(De)&&f.logMark({markerName:Pe.pubfigStickyFooterSlotRequested})}),jA({gamManager:se,dispensaryData:Ge}),se.instance.pubads().addEventListener(xe,function(De){gy(De),gA({event:De});let ze=De.slot.getSlotElementId();i.log(1,`GAM ${xe} ${ze}`),De.slot.getSlotElementId()===ne&&f.logMark({markerName:Pe.pubfigSlotRenderEnded,compareTo:[Pe.pubfigSlotRequested]}), __set$(i.reportLibrary,ze,De) ,Hc(De,!1)}),se.instance.pubads().addEventListener(Ho,r_);let fe=or({freestar:i}),at=[fe.format,fe.size,fe.pb,fe.adid,fe.bidder];se.instance.pubads().addEventListener(xe,De=>{ let _hh$temp763=De,ze=_hh$temp763.slot; at.forEach(Vr=>{var Mh;((Mh=se.getSlotTargeting({slot:ze,key:Vr}))==null?void 0:Mh.length)!==0&&se.instance.setConfig({targeting:{[Vr]:null}})})}),i.fsdata.customDirectAdRefresh&&setInterval(Go,5e3),f.logMark({markerName:Pe.pubfigEngineSetupEnd,compareTo:[Pe.pubfigEngineSetupStart]})};if(nr())throw new Error("Ad serving is blocked in "+i.locData.iso);if(performance.mark("pubfig-init"),googletag.cmd.unshift?Mt().getInitialFloorsData().then(k):(i.log({title:"WARNING!",styles:"background: red; color: white; border-radius: 3px; padding: 3px"}," googletag.cmd.unshift not found skipping"),Mt().getInitialFloorsData().then(KA).then(k).catch(k)),document.readyState==="complete")ae(d.init)({isAfterLoadingPage:!0}),gl();else{let L=setInterval(function(){document.readyState==="complete"&&(clearInterval(L),ae(d.init)({isAfterLoadingPage:!0}),gl())},100)}window.addEventListener("load",function(L){ae(d.init)({isAfterLoadingPage:!0}),gl(L)}),i.reloadAllAdSlots=()=>z.refreshAll(),i.refreshAllSlots=()=>z.refreshAll(),i.refreshActiveSlots=()=>z.refreshAllVisible(),i.refresh=L=>{let q=typeof L=="string"?[L]:L;z.refresh({elementIds:q})},i.disableRefresh=()=>z.disable(),i.disableRefreshOn=(L={})=>z.disableForItem(L),i.enableRefresh=()=>z.enable(),i.enableRefreshOn=(L={})=>z.enableForItem(L),i.freestarReloadAdSlot=L=>(H.warning(["freestar.freestarReloadAdSlot() is deprecated. Use freestar.refresh() instead."]),z.refresh({elementIds:typeof L=="string"?[L]:L})),i.freestarReloadAllAdSlots= (_hh$temp764={slotIds:null})=>{var L=_hh$temp764.slotIds;return H.warning(["freestar.freestarReloadAllAdSlots() has been deprecated and will be"," removed in the future use freestar.refreshAllSlots()"]),L?z.refresh({elementIds:L}):z.refreshAll();} ,i.DynamicAds=o;function U(){fsprebid.que.push(function(){var q;i.log(1,"fspbjs.que.push - init");try{let re=JA(i);re instanceof Set&&re.size>0&&Object.entries(((q=i==null?void 0:i.fsdata)==null?void 0:q.aliases)||{}).forEach(( _hh$temp765 )=>{ var _hh$temp766=__arrayFrom$(_hh$temp765),ne=_hh$temp766[0],fe=_hh$temp766[1]; re.has(ne)&&fe&&fsprebid.aliasBidder(fe,ne,{useBaseGvlid:!0})})}catch(re){console.warn(re)}vt.setEventListeners(),vt.settingConfig(fsprebid,ee(),u),vt.setSChain(),vt.enableTIDs(),u.realtimeProviders.waitForUserSync||vt.enableRTDProviders(u),fsprebid.refreshUserIds().then(()=>{u.realtimeProviders.waitForUserSync&&vt.enableRTDProviders(u)});let L=kS().filter(re=>Md(re)).map(re=>je(re));gt({adUnits:L}),i.coppa=new Dd(window.freestar,se,window.fsprebid),Ph()})}function Ph(){if(i.log(1," initAdserver"),!fsprebid.initAdserverSet){if(!se.instance.pubadsReady&&fsprebid.retries<=B){setTimeout(Ph,50),fsprebid.retries++;return}fsprebid.initAdserverSet=!0,sb()}}function tb( _hh$temp767 ){ var L=_hh$temp767.placement; for(let q in nn){let re;if(q==="dynamicAds"?re=xA(L):re= __get$(L,__get$(nn,q).optionsPath||`${q}Options`) ,re&&re.active||re&&q==="pushdown"&&re.isPushdownUnit||re&&q==="sideWall"&&re.type>0)return!1}return!!document.getElementById(L.name)}function ib(){return T(this,null,function*(){let L={elementIds:[],bidObjects:[],slots:[]},q=(ne,fe)=>{fe&&(L.elementIds.push(fe.placement.name),L.bidObjects.push(fe.bidObject),L.slots.push(fe.slot))};rb(),ae(a.init)(q),ae(t.init)(q),ae(I.init)(q),ae(g.init)(),ae(y.init)(q),S==null||S.init(),ae(s.create)(),wA(),ae(p.init)(),ae(m.init)(),Pt.init(),i.fsdata.singleLineEnabled&&(i.log({title:"SLO"},"Single line of code enabled"),i.fsdata.placements.forEach(ne=>{tb({placement:ne})&&i.config.enabled_slots.push({placementName:ne.name,slotId:ne.name})})),ae(r)(),i.newIai=ne=>{ae(Ut==null?void 0:Ut.newIai,{name:"newIai",warn:!0})(ne)},i.newIai(),ae(d.init)();let re=setTimeout(()=>{ae(d.init)({failSafeStart:!0}),window.clearTimeout(re)},2e4);!i.visibilityRefresh.enacted&&i.visibilityRefresh.runRefresh===!0&&(i.visibilityRefresh.enacted=!0,OA()),ct()?(i.log({title:"PSO"},"Loading Page Speed Optimized Sticky Footer"),i.newStickyFooter()):ae(e.init)(),ae(R.init)(),i.loaded=!0,yield Ma(),Dh(),(!i.initCallback||i.initCallback&&typeof i.initCallback=="function"&&i.initCallback.toString().indexOf("enabled_slots")===-1)&&i.config&&i.config.enabled_slots&&i.config.enabled_slots.length&&(performance.mark("check-ad-enabled-slots-start"),i.config.enabled_slots.forEach(function(ne){typeof ne!="object"&&(ne={placementName:ne,slotId:ne}); let fe=ie({name:be({slotId:ne.placementName})}),at=document.getElementById(ne.slotId),_hh$temp768=ne,_hh$temp768$targeting=_hh$temp768.targeting,De=_hh$temp768$targeting===void 0?{}:_hh$temp768$targeting; if(at&&fe&&fe.validAdSizes)if(at.setAttribute("name",fe.name),fe.lazyAd&&fe.selectedSize&&fe.selectedSize.lazyLoadViewportHeight>0)Hd({element:at,placement:fe});else{let ze=Is({placement:fe,slotId:ne.slotId,targeting:De,gamManager:se});ze&&(L.elementIds.push(ne.slotId),ze.bidObject&&L.bidObjects.push(ze.bidObject),ze.slot&&L.slots.push(ze.slot))}}),performance.mark("check-ad-enabled-slots-end"),i.config.enabled_slots=[]),L.elementIds.length&&Te.enqueueBids({bidObjects:L.bidObjects})})}function sb(){i.log(1," fsInitAdserver"),uA(function(L,q){i.log(1,`Page Grabber: ${q?"completed page grabber session":"either the grabber placement is failing or there is no grabber placement"}`),i.newAdSlotsAllowed=!0,i.newAdSlotsQueue.forEach(re=>re.process()),ib()},se),E==null||E.init()}function Dh(){return i.callbackIntervalCount++,fsprebid.initAdserverSet&&i.initCallback!==void 0&&i.initCallbackCalled===void 0&&typeof i.initCallback=="function"?(i.initCallbackCalled=!0,clearInterval(i.callbackInterval),i.initCallback(),function(q,re){q.push=function(ne){Array.prototype.push.call(q,ne),re(q)}}(i.config.enabled_slots,function(q){ce.newAdSlots([ __get$(q,q.length-1) ])}),!0):(i.callbackIntervalCount>50&&clearInterval(i.callbackInterval),!1)}function gl(){if(i.func.domloaded)return;let L=document.getElementsByTagName("body")[0];Ba(),i.disableAutoTrackPageviews||(window.addEventListener("pushState",q=>setTimeout(()=>zc(q),1)),window.addEventListener("replaceState",q=>zc(q)),window.addEventListener("popstate",()=>i.trackPageview())),i.fsdata.addIsFreestar&&!L.classList.contains("is-freestar")&&Xg("is-freestar"),i.func.domloaded=!0,i.callbackIntervalCount=0,i.callbackInterval=window.setInterval(Dh,200),Mg(),X!=null&&X.enabled&&(X.start(),i.getMemoryReport=()=>X.getReport())}function rb(){if(i.fsdata.scripts2&&Array.isArray(i.fsdata.scripts2)){let L=i.fsdata.scripts2;for(let q=0;q<L.length;q++)if( __get$(L,q) .active===!0){let re=Math.floor(Math.random()*100)+1,ne= __get$(L,q) .versions,fe=0;i.log(2,`Rolled ${re} for script ${ __get$(L,q) .name}`);for(let at=0;at<ne.length;at++)if( __get$(ne,at) .active===!0&&(fe+= __get$(ne,at) .trafficPercentage,re<=fe)){i.log(2,`Selecting version ${ __get$(ne,at) .name} for script ${ __get$(L,q) .name}. ${ __get$(ne,at) .trafficPercentage}% chance.`);try{Ie( __get$(__get$(ne,at),"href") )}catch(De){console.error(De)}break}}}else if(i.fsdata.scripts&&Array.isArray(i.fsdata.scripts))for(let L=0;L<i.fsdata.scripts.length;L++)try{Ie( __get$(i.fsdata.scripts,L) )}catch(q){console.error(q)}}function nb(){return Math.random()<Qh/100}})}A.function(kv,{token:"startEngine",dependencies:[c.AD_QUALITY_MANAGER,{token:"StickyFooter",optional:!0},{token:"Joke",optional:!0},{token:"SideWall",optional:!0},{token:"initDynamicAds",optional:!0},{token:"newDynamicContent",optional:!0},{token:"DynamicAds",optional:!0},{token:"SlidingUnit",optional:!0},{token:"StickyAd",optional:!0},{token:"StickyRail",optional:!0},{token:"Interstitial",optional:!0},{token:"Pushdown",optional:!0},{token:"Video",optional:!0},{token:"Superflex",optional:!0},{token:"Carousel",optional:!0},{token:"Cube",optional:!0},{token:"WakeLock",optional:!0},{token:"ViewableImpressions",optional:!0},{token:"AdInsertionManager",optional:!0},c.FREESTAR,c.DISPENSARY_DATA,c.ANCILLARY,c.ANALYTICS,c.PERFORMANCE_LOGGER,c.IDENTITY_MANAGER,c.GAM_MANAGER,c.AD_REFRESHER,c.LOGGER,c.REBID_MANAGER,c.AD_SLOT_SERVICE,c.AD_SLOTS_MANAGER,c.DEVICE_ORIENTATION_TRACKER,c.VIRTUAL_KEYBOARD_REFRESH_CONTROL,c.MEMORY_MONITOR,c.BIDS_MANAGER,c.PAGE,c.USER_INFO_MANAGER,c.AMAZON_MANAGER,{token:"IntelligentAdInsertManager",optional:!0},"FlyingCarpetManager",c.URL_VALIDATOR]});function Bv(){return T(this,null,function*(){let i,e=new Promise(o=>{i=o}),t=()=>T(this,null,function*(){yield Lv(),yield ee().init(),i()}),s=()=>Mv(()=>{eb({callback:t}),window.addEventListener("pubfigLoaded",()=>freestar.log(1,"checkPageSpeedOptimizationAndUserConsent called after googlefc validation"))}),r=()=>Kg(window.freestar.fsdata.cmpType,window.freestar.locData,()=>{eb({callback:t}),window.addEventListener("pubfigLoaded",()=>freestar.log(1,"checkPageSpeedOptimizationAndUserConsent called after CMP initialization"))});(window.freestar.fsdata.cmpType==="FUNDING_CHOICES"?s:r)(),yield e})}A.function(Bv,{token:"init",dependencies:[]});T(xh,null,function*(){yield G.instance.call("init"),G.instance.call("startEngine")})});Fv();})();

/*hammerhead|script|end*/