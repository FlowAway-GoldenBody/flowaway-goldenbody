/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
var CopilotSearch;(function(n){function c(c,l,a){t=_qs("#b_copilot_search .b_copilot_menu_more");i=_qs(f);e=c;o=l;s=a;sj_be(t,"click",function(){t.setAttribute("aria-expanded",i.classList.contains("hidden")?"true":"false");i.classList.toggle("hidden");sj_evt.fire("ShellMoreMenu");n.Helper.writeLog(n.Helper.ClientInst.CopilotInteraction,n.Helper.LogNames.MenuToggle);sj_evt.fire(h)});sj_be(t,"click",function(n){n.stopPropagation()});sj_be(_d.body,"click",function(){sj_evt.fire(u)});sj_evt.bind(u,r);v();n.ComposerFileUploadMenu&&n.ComposerFileUploadMenu.initializeImageUpload();sj_be(i,"keydown",function(n){if(n.key==="Escape")r(),t.setAttribute("aria-expanded","false"),t.focus();else if(n.key==="Tab"){var e='a[href], button:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])',u=AccessibilityHelpers.getFocusableElementWithin(i,!1,e),f=AccessibilityHelpers.getFocusableElementWithin(i,!0,e);if(!u||!f)return;u===f?(n.preventDefault(),r(),t.setAttribute("aria-expanded","false"),t.focus()):n.shiftKey?document.activeElement===u&&(n.preventDefault(),f.focus()):document.activeElement===f&&(n.preventDefault(),u.focus())}})}function l(){Lib.CssClass.add(t,n.Helper.hiddenClassName)}function a(){Lib.CssClass.remove(t,n.Helper.hiddenClassName)}function r(){_d.querySelectorAll(f).forEach(function(t){Lib.CssClass.add(t,n.Helper.hiddenClassName)})}function v(){var t=_qs(".b_copilot_menu_new_search");sj_be(t,"click",function(){if(e){y();return}var t=n.Helper.getLastTurnId(),i=n.Helper.getConversationId(),r=n.Helper.getResponseId();n.Helper.logCustomData(n.Helper.ClientInst.CopilotInteraction,n.Helper.LogNames.NewSearchClicked,"CSearch",{ConversationId:i,TurnIndex:t,ResponseId:r},"");n.Composer.resetComposer();n.AttachmentManager&&n.AttachmentManager.clearAttachmentsData();n.ZeroPage.show();sj_evt.fire("csTurnState","reset")})}function y(){var n= __get$(window,"location") .origin+"/copilotsearch?q=&FORM="+s;o?window.open(n,"_blank"): __set$(__get$(window,"location"),"href",n) }var u="cpltsrch_outClickCloseMenu",h="cpltsrch_outClickCloseModelSwitching",f="#b_copilot_search .b_copilot_menu_cont",t,i,e=!1,o=!1,s="",p={init:c,hideMenu:l,showMenu:a};n.ComposerMenu=p})(CopilotSearch||(CopilotSearch={}))
/*hammerhead|script|end*/