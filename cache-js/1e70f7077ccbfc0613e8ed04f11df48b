/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
var _33AcrossIdMappingsProvider;(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get: __get$(n,s) })},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};(()=>{e.d(t,{default:()=>K});const n={CCPA:"__uspapi",GDPR:"__tcfapi",GPP:"__gpp"},s={GDPR:"__tcfapiLocator",CCPA:"__uspapiLocator",GPP:"__gppLocator"},r={GDPR:["addEventListener"],CCPA:["getUSPData"],GPP:["ping","addEventListener"]},a="iab",o="static",i={GDPR:2,CCPA:1},c={GDPR(e,t,n){e(t,i.GDPR,n)},CCPA(e,t,n){e(t,i.CCPA,n)},GPP(e,t,n,s){e(t,n,s)}};class l{#e;#t;#n;#s;#r;#a;#o;#i;constructor(e){ let _hh$temp0=e,t=_hh$temp0.name,_hh$temp0$win=_hh$temp0.win,s=_hh$temp0$win===void 0?window:_hh$temp0$win,_hh$temp0$config=_hh$temp0.config,r=_hh$temp0$config===void 0?{}:_hh$temp0$config,a=_hh$temp0.hashFn; this.#e=t,this.#t= __get$(n,t) ,this.#s=s,this.#r=r.consentTimeout||1e4,this.#a= __get$(__get$(this,"s")._33across?.idMappingsConfig?.regs,__get$(this,"e").toLowerCase(),true) ,this.#i=a}#c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]: __get$(this,"s") ;try{if("function"==typeof  __get$(t,__get$(this,"t")) )return{cmpApi: __get$(t,__get$(this,"t")) ,win:t};if( __get$(t.frames,e) )return{win:t}}catch(e){}return t=== __get$(this,"s") .top?{}:this.#c(e,t.parent)}#l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t="boolean"==typeof e.gdprApplies&&e.gdprApplies;return!t||(n=e.tcString)&&"string"==typeof n?{consentData:this.#d({consentString:e.tcString,consentObject:e,additionalFields:{applies:t,..."string"==typeof e.addtlConsent?{addtlConsent:e.addtlConsent}:{}},valuesToHash:[t,e.tcString]})}:this.#h(e);var n}#p(e){return t=e?.uspString,t&&"string"==typeof t?{consentData:this.#d({consentString:e.uspString,consentObject:e,valuesToHash:e.uspString})}:this.#h(e);var t}#h(e){return this.#u("CMP returned unexpected value during lookup process.",{consentObject:e})}#u(e,t){return{errMsg:e,errArgs:t,consentData:this.#d()}}#g(e){const t=e=>Array.isArray(e)&&e.length>0&&0!==e[0];return t(e.applicableSections)?e.applicableSections:t(e.applicableSection)?e.applicableSection:null}#m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t= __call$(Object,"assign",[{},e,e.pingData]) ;if(!t.gppString||"string"!=typeof t.gppString)return this.#h(t);const n=this.#g(t);return n?{consentData:this.#d({consentString:t.gppString,apiVersion:t.gppVersion,consentObject:t,additionalFields:{applicableSections:n},valuesToHash:[n,t.gppString]})}:this.#h(t)}#d(){ let _hh$temp1=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_hh$temp1$consentString=_hh$temp1.consentString,e=_hh$temp1$consentString===void 0?"":_hh$temp1$consentString,_hh$temp1$consentObject=_hh$temp1.consentObject,t=_hh$temp1$consentObject===void 0?{}:_hh$temp1$consentObject,_hh$temp1$apiVersion=_hh$temp1.apiVersion,n=_hh$temp1$apiVersion===void 0?__get$(i,__get$(this,"e")):_hh$temp1$apiVersion,s=_hh$temp1.additionalFields,_hh$temp1$valuesToHash=_hh$temp1.valuesToHash,r=_hh$temp1$valuesToHash===void 0?null:_hh$temp1$valuesToHash; return{consentString:e,vendorData:t,apiVersion:n,name: __get$(this,"e") ,hash:this.#i(JSON.stringify(r)),...s}}#f(e,t){const n= __call$({GDPR:e=>this.l(e),CCPA:e=>this.p(e),GPP:e=>this.m(e)},__get$(this,"e"),[e]) ;return t&&this.#o?.(n, __get$(this,"e") ),n}#w(e,t){switch( __get$(this,"e") ){case"GDPR":return[!1===e.gdprApplies||"tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus];case"CCPA":return[!0];case"GPP":{if("sectionChange"===e.eventName)return[!0,!0];const n=e.pingData||e;return"loaded"===n.cmpStatus?n.gppString||e.hasOwnProperty("gppString")?[!0]:(this.#v("getGPPData").then(t),[!1]):"ready"===n.signalStatus?[!0]:"error"===n.cmpStatus?[!1,!1,"CMP returned with a cmpStatus:error response. Please check CMP setup."]:[!1]}default:return[!1]}}#C(e,t){if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])return void e(this.#u("CMP unable to register callback function.  Please check CMP setup.")); const _hh$temp2=__arrayFrom$(this.w(t,e)),n=_hh$temp2[0],s=_hh$temp2[1],r=_hh$temp2[2]; n?e(this.#f(t,s)):r?e({errMsg:r}):this.#n=t}#I(e,t){const n=`${ __get$(this,"t") }Return`,s= __get$((e.data?.includes?.(n))?JSON.parse(e.data):e.data,n) ;s?.callId&&( __call$(t,s.callId,[s.returnValue,s.success],true) ,delete t[s.callId])}#S(e,t,n){const s={},r=`${ __get$(this,"t") }Call`; __get$(this,"s") .addEventListener("message",e=>this.#I(e,s),!1),function(e,n,a){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=Math.random().toString(),c={[r]: __call$(Object,"assign",[{command:e,callId:i},n&&{version:n},o&&{parameter:o}]) }; __set$(s,i,a) , __call$(t,"postMessage",[c,"*"]) }(e, __get$(i,__get$(this,"e")) ,n)}#v(e){var t=this;return  new Promise(n=>{const _hh$temp3=this.c(__get$(s,__get$(this,"e"))),r=_hh$temp3.cmpApi,a=_hh$temp3.win;if(!a)return void n(this.u("CMP not found, the CMP script needs to be loaded before the 33across script"));const o=function(){n.fnName=e;for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)__set$(r,a,__get$(arguments,a));t.C(n,...r);};r?__call$(c,__get$(this,"e"),[r,e,o]):this.S(e,a,o);}) }#b(){return this.#f( __get$(this,"a") )}onChange(e){this.#o=e}loadConsentData(){const e= __get$(this,"a") ?o:"iab",t={[a]:()=> __get$(r,__get$(this,"e")) .map(e=>this.#v(e)),[o]:()=>[this.#b()]};let n=null;const s= new Promise(e=>{n=__get$(this,"s").setTimeout(()=>{const _hh$temp4=this.f(__get$(this,"n")),t=_hh$temp4.consentData,n=_hh$temp4.errMsg;e(__call$(Object,"assign",[this.u("CMP hasn't been loaded"),{consentData:n?this.d():t}]));},__get$(this,"r"));}) ;return Promise.race([... __call$(t,e,[]) ,s]).finally(()=> __get$(this,"s") .clearTimeout(n))}}const d={GDPR:e=>{ let _hh$temp5=e,t=_hh$temp5.consentString; return{gdpr_consent:t}},CCPA:e=>{ let _hh$temp6=e,t=_hh$temp6.consentString; return{us_privacy:t}},GPP:e=>{ let _hh$temp7=e,t=_hh$temp7.consentString,_hh$temp7$applicableSections=_hh$temp7.applicableSections,n=_hh$temp7$applicableSections===void 0?[]:_hh$temp7$applicableSections; return{gpp:t,gpp_sid:encodeURIComponent(n.join(","))}}},h="33acrossId_csti",p="COPPA",u=["GDPR","CCPA","GPP"],g=u.concat([p]);function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=function(e,t){if("function"==typeof Math.imul)return Math.imul(e,t);let n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n};let s=3735928559^t,r=1103547991^t;for(let t,a=0;a<e.length;a++)t=e.charCodeAt(a),s=n(s^t,2654435761),r=n(r^t,1597334677);return s=n(s^s>>>16,2246822507)^n(r^r>>>13,3266489909),r=n(r^r>>>16,2246822507)^n(s^s>>>13,3266489909),(4294967296*(2097151&r)+(s>>>0)).toString()}class f{#P;constructor(e){this.#P=e}#y(e,t){return t.forEach(t=>{t.id||t.storageManager.setId(e)}),this}setId(e){return  __get$(this,"P") .forEach(t=>{t.setId(e)}),this}getId(){const e= __get$(this,"P") .map(e=>({storageManager:e,id:e.getId()})),t=e.find(e=>e.id)?.id||null;return t&&this.#y(t,e),t}clear(){return  __get$(this,"P") .forEach(e=>{e.clear()}),this}}class w{#s;#D;constructor(e){ let _hh$temp8=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_hh$temp8$win=_hh$temp8.win,t=_hh$temp8$win===void 0?window:_hh$temp8$win; this.#s=t,this.#D=e}setId(e){return  __get$(this,"s") .localStorage.setItem( __get$(this,"D") ,e),this}getId(){return  __get$(this,"s") .localStorage.getItem( __get$(this,"D") )}clear(){return  __get$(this,"s") .localStorage.removeItem( __get$(this,"D") ),this}}const v=31536e6;class C{#s;#M;#D;#E;constructor(e,t){ let _hh$temp9=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_hh$temp9$win=_hh$temp9.win,n=_hh$temp9$win===void 0?window:_hh$temp9$win,_hh$temp9$cookieExpirationInMs=_hh$temp9.cookieExpirationInMs,s=_hh$temp9$cookieExpirationInMs===void 0?v:_hh$temp9$cookieExpirationInMs; this.#s=n,this.#M=t,this.#D=e,this.#E=s}setId(e){const t= new Date(Date.now()+__get$(this,"E")) ;return  __get$(this,"M") .setCookie({win: __get$(this,"s") ,key: __get$(this,"D") ,value:e,expires:t.toUTCString(),domain: __get$(this,"M") .calculateTopMostCookieableDomain( __get$(this,"s") )}),this}getId(){return  __get$(this,"M") .getCookie( __get$(this,"D") )}clear(){return  __get$(this,"M") .removeCookie( __get$(this,"D") , __get$(this,"M") .calculateTopMostCookieableDomain( __get$(this,"s") ), __get$(this,"s") ),this}}function I(e){ let _hh$temp10=e,t=_hh$temp10.key,n=_hh$temp10.value,s=_hh$temp10.expires,_hh$temp10$sameSite=_hh$temp10.sameSite,r=_hh$temp10$sameSite===void 0?"":_hh$temp10$sameSite,a=_hh$temp10.domain,_hh$temp10$win=_hh$temp10.win,o=_hh$temp10$win===void 0?window:_hh$temp10$win; const i=a?` ;domain=${encodeURIComponent(a)}`:"",c=s?` ;expires=${s}`:"",l="none"===r.toLowerCase()?"; Secure":"",d=r?`; SameSite=${r}`:"";o.document.cookie=`${t}=${encodeURIComponent(n)}${c}; path=/${i}${d}${l}`}function S(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window).document.cookie.match(`(^|;)\\s*${e}\\s*=\\s*([^;]*)\\s*(;|$)`);return t?decodeURIComponent(t[2]):null}function b(e,t){I({win:arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,key:e,value:"",expires:"Thu, 01 Jan 1970 00:00:01 GMT",domain:t})}const P={setCookie:I,getCookie:S,removeCookie:b,calculateTopMostCookieableDomain:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.domain.split("."),n=`_gd${Date.now()}_`;let s;for(let r,a=0;a<t.length;a++){const o=t.slice(a).join(".");if(I({win:e,key:n,value:"1",domain:o}),r=S(n,e),b(n,o,e),"1"!==r)break;s=o}return s},hasCookieSupport:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window).navigator.cookieEnabled}};function y(e){return  new Promise((t,n)=>{const s=function(e){let _hh$temp11=e,t=_hh$temp11.url,_hh$temp11$params=_hh$temp11.params,n=_hh$temp11$params===void 0?{}:_hh$temp11$params,_hh$temp11$win=_hh$temp11.win,s=_hh$temp11$win===void 0?window:_hh$temp11$win,_hh$temp11$options=_hh$temp11.options,r=_hh$temp11$options===void 0?{}:_hh$temp11$options;const a=new s.XMLHttpRequest("MSXML2.XMLHTTP.3.0"),o=new URLSearchParams(n);return a.open("GET",`${t}?${o}`,1),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.withCredentials=void 0!==r.withCredentials,a.timeout=r.timeout,a;}(e);s.onreadystatechange=()=>{4===s.readyState&&(s.status>=200&&s.status<300?t(s.responseText):n(`Ajax: Status code ${s.status}`));},s.onerror=()=>n("Ajax: Network error"),s.ontimeout=()=>n("Ajax: Timeout"),s.send();}) }const D=28800,M=30;class E{#x;#k;#s;#R;#P={};constructor(e,t){ let _hh$temp12=e,n=_hh$temp12.idKeyName,_hh$temp12$refreshInSeconds=_hh$temp12.refreshInSeconds,s=_hh$temp12$refreshInSeconds===void 0?D:_hh$temp12$refreshInSeconds,_hh$temp12$expires=_hh$temp12.expires,r=_hh$temp12$expires===void 0?M:_hh$temp12$expires,_hh$temp12$win=_hh$temp12.win,a=_hh$temp12$win===void 0?window:_hh$temp12$win; this.#x={VALUE:n,LAST:`${n}_last`,EXP:`${n}_exp`},this.#P=Object.values( __get$(this,"x") ).reduce((e,n)=>( __set$(e,n,t(n)) ,e),{}),this.#s=a,this.#k=s,this.#R=864e5*r}hasExpired(){const e= __get$(__get$(this,"P"),__get$(this,"x").EXP) .getId();return!!e&&new Date(e).getTime()-Date.now()<=0}isRefreshRequired(){const e= __get$(__get$(this,"P"),__get$(this,"x").LAST) .getId();return!e||Date.now()-new Date(e).getTime()>=1e3* __get$(this,"k") }setId(e){const t= new Date(Date.now()+__get$(this,"R")) ,n=new Date;return  __get$(__get$(this,"P"),__get$(this,"x").VALUE) .setId(e), __get$(__get$(this,"P"),__get$(this,"x").EXP) .setId(t.toUTCString()), __get$(__get$(this,"P"),__get$(this,"x").LAST) .setId(n.toUTCString()),this}getId(){return  __get$(this,"s") .decodeURIComponent( __get$(__get$(this,"P"),__get$(this,"x").VALUE) .getId()||"")}clear(){return  __get$(__get$(this,"P"),__get$(this,"x").VALUE) .clear(), __get$(__get$(this,"P"),__get$(this,"x").EXP) .clear(), __get$(__get$(this,"P"),__get$(this,"x").LAST) .clear(),this}}const x=[{level:"error",color:"red"},{level:"warn",color:"yellow"},{level:"info",color:"green"},{level:"debug",color:"cyan"},{level:"trace",color:"blue"}],k="display: inline-block; padding: 1px 4px;",R="3px",A={core:k,bordersize:R,prefix:`${k}\n    border-top-left-radius: ${R};\n    border-bottom-left-radius: ${R};\n    color: #fff;\n    background-color: #be1e2d;\n  `,product:`${k}\n    border-top-right-radius: ${R};\n    border-bottom-right-radius: ${R};\n    color: #000;\n    background-color: #f2f2f2;\n    font-weight: lighter;\n    font-size: 0.9em;\n  `,baseLvl:`${k}\n    border-radius: ${R};\n    background-color: black;\n  `,date:`${k} color:grey;`};function $(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!(e instanceof Object))throw new Error(`Invalid target type. Expected an object, but got: ${e}`);const s=e.name||e.constructor.name||"???";return  new Proxy(e,{get(e,a){if("function"==typeof e)return __get$(e,a);const o=__get$(e,a);if("object"==typeof o&&null!==o)return $(o,t,n);const i=`${s}.${String(a)}`;return"function"==typeof o?r(o,e,i):(t.print(4,n,`${i}:`,o),o);},set:(e,r,a,o)=>(t.print(4,n,`${s}.${String(r)} <=`,a),Reflect.set(e,r,a,o)),deleteProperty:(e,r)=>(t.print(4,n,`delete ${s}.${String(r)} (denied)`),!1),apply:(e,t,n)=>r(e,t,s)(...n),construct(e,r){const a=`new ${s}`;t.print(4,n,`construct ${a}`,...r);const o=Reflect.construct(e,r);return t.print(3,n+1,a,o),$(o,t,n);}}) ;function r(e,s,r){return function(){let a=`${r}(`;for(var o=arguments.length,i=new Array(o),c=0;c<o;c++) __set$(i,c,__get$(arguments,c)) ;i.length||(a+=")"),t.print(4,n,a,...i);const l=e=>(t.print(3,n+1,`${a} =>`,e),e),d=e=>{if(t.print(0,n+1,a,e),e.propagate)throw delete e.propagate,e};try{const t=Reflect.apply(e,s,i);return"function"==typeof t?.then?t.then(l,d):l(t)}catch(e){return d(e)}}}}class O{#A=-1;get level(){return  __get$(x,__get$(this,"A")) ?.level||"silent"}#$="33across";#O="Lexicon";#j=null;#L=(()=>console)();constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#O=e.product?? __get$(this,"O") ,this.#$=e.prefix?? __get$(this,"$") ,this.#j=e.customHandler?? __get$(this,"j") ,this.#L=e.baseLogger?? __get$(this,"L") }setLogLevel=e=>{this.#A=x.findIndex(t=>t.level===e)};wrap(e){return $(e,this)}error=(()=>{var e=this;return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++) __set$(n,s,__get$(arguments,s)) ;return e.print(0,1,...n)}})();warn=(()=>{var e=this;return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++) __set$(n,s,__get$(arguments,s)) ;return e.print(1,1,...n)}})();info=(()=>{var e=this;return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++) __set$(n,s,__get$(arguments,s)) ;return e.print(2,1,...n)}})();debug=(()=>{var e=this;return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++) __set$(n,s,__get$(arguments,s)) ;return e.print(3,1,...n)}})();trace=(()=>{var e=this;return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++) __set$(n,s,__get$(arguments,s)) ;return e.print(4,1,...n)}})();print=(()=>{var e=this;return function(t,n){if( __get$(e,"A") <t)return; const s=e.T(n),_hh$temp13=__get$(x,t),r=_hh$temp13.color,a=_hh$temp13.level; for(var o=arguments.length,i=new Array(o>2?o-2:0),c=2;c<o;c++) __set$(i,c-2,__get$(arguments,c)) ;if( __call$(__get$(e,"L"),a,["%c%s|%c%s %c%d %c%s %c%s",A.prefix,__get$(e,"$"),A.product,__get$(e,"O"),A.date,Date.now(),`${A.baseLvl} color: ${r}`,a,A.core,s,...i]) , __get$(e,"j") )try{e.#j(t,n,...i)}catch(t){ __get$(e,"L") .error("Error in custom log handler:",t)}}})();#T(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=((new Error).stack||"").split("\n");"Error"===t[0]&&e++;const n= __get$(t,2+e) ,s=/at\s+(.*)\s+\(/.exec(n)||/(.*)@/.exec(n);return s?s[1]:""}}const j={COOKIE:"cookie",LOCALSTORAGE:"localstorage"};const L={localstorage:(e,t)=>new w(e,t),cookie:(e,t)=>new C(e,P,t)},T=(e,t)=>{const n=(t?.enabledStorageTypes??[j.LOCALSTORAGE]).map(n=>n!==j.COOKIE||P.hasCookieSupport()? __call$(L,n,[e,t],true) :null).filter(Boolean);return new f(n)},U="https://lexicon.33across.com/v1/envelope",G="ima";class _{#U;#G;#_;#H=[];#V=[];#K;#N;#F;#s;#P;#X;constructor(e,t){ let _hh$temp14=e,n=_hh$temp14.pid,_hh$temp14$apiUrl=_hh$temp14.apiUrl,s=_hh$temp14$apiUrl===void 0?U:_hh$temp14$apiUrl,_hh$temp14$src=_hh$temp14.src,r=_hh$temp14$src===void 0?G:_hh$temp14$src,_hh$temp14$win=_hh$temp14.win,a=_hh$temp14$win===void 0?window:_hh$temp14$win,_hh$temp14$hem=_hh$temp14.hem,o=_hh$temp14$hem===void 0?{}:_hh$temp14$hem,_hh$temp15=t,_hh$temp15$ajax=_hh$temp15.ajax,i=_hh$temp15$ajax===void 0?y:_hh$temp15$ajax,c=_hh$temp15.consentDataHandler,l=_hh$temp15.refreshableStorageId,d=_hh$temp15.storageManagers; this.#U=n,this.#G=s,this.#_=i,this.#K=c,this.#N=r,this.#F=l,this.#s=a,this.#P=d,this.#X=o}#q(e){const t=JSON.parse(e);return t.succeeded?{idsToStore:{idEnvelope:t.data.envelope||"",fpId:t.data.fp||"",tpId:t.data.tp||""},succeeded:!0}:( __get$(this,"P") .hashedEmail.clear(),{idsToStore:{idEnvelope:"",fpId:"",tpId:""},succeeded:!1})}async#J(e){ const _hh$temp16=await this.B(e),t=_hh$temp16.idEnvelope,n=_hh$temp16.fpId,s=_hh$temp16.tpId; return n? __get$(this,"P") .firstPartyId.setId(n): __get$(this,"P") .firstPartyId.clear(),s? __get$(this,"P") .lexId.setId(s): __get$(this,"P") .lexId.clear(),t?( __get$(this,"F") .setId(t),this.#z(t)):( __get$(this,"F") .clear(),[])}async#B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]: __get$(this,"K") .consentData;await e;try{ const e=await this._({url:__get$(this,"G"),params:this.Q(),options:{withCredentials:!0,timeout:1e4}}),_hh$temp17=this.q(e),t=_hh$temp17.succeeded,n=_hh$temp17.idsToStore; return!1===t&& __get$(this,"P") .hashedEmail.clear(),n}catch(e){throw new Error(`_33AcrossIdMappingsProvider: ${e}`)}}#Q(){const e= __get$(this,"P") .firstPartyId.getId(),t= __get$(this,"P") .lexId.getId(),n= __get$(this,"X") .sha256|| __get$(this,"P") .hashedEmail.getId();return{pid: __get$(this,"U") ,src: __get$(this,"N") ,ver:"1.18.0",...e&&{fp: __get$(this,"s") .decodeURIComponent(e)},...t&&{tp: __get$(this,"s") .decodeURIComponent(t)},...n&&{sha256: __get$(this,"s") .decodeURIComponent(n)},... __get$(this,"K") .calculatePrivacyParams()}}#z(e){ const _hh$temp18=__arrayFrom$(__get$(this,"V")),t=_hh$temp18[0],_hh$temp19=__arrayFrom$(t.uids),n=_hh$temp19[0]; return  __call$(Object,"assign",[n,{id:e,atype:1}]) ,this.#H= __get$(this,"V") , __get$(this,"H") }async fetch(){this.#V=[{source:"33across.com",uids:[{}]}], __get$(this,"X") .sha256&& __get$(this,"P") .hashedEmail.setId( __get$(this,"X") .sha256), __get$(this,"K") .onChange(e=>{ __get$(this,"F") .clear(),this.#J(e)});const e= __get$(this,"F") .getId(),t=await  __get$(this,"K") .hasChangedSinceStored();return  __get$(this,"F") .hasExpired()||!e||t?this.#J():( __get$(this,"F") .isRefreshRequired()&&this.#J(),this.#z(e))}getIds(){return  __get$(this,"H") }getLoadingIds(){return  __get$(this,"V") }getPid(){return  __get$(this,"U") }getSource(){return  __get$(this,"N") }}const H=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;const s={},r=u.reduce((t,n)=> __call$(Object,"assign",[t,{[n]:e(n)}]) ,{}),a=Number(!!n._33across?.idMappingsConfig?.regs?.coppa),o=()=>u.map(e=> __get$(s,e) ?.consentData.hash).concat(a).join(":"),i=(e,t)=>{ __set$(s,e,t) ,n.localStorage.setItem(h,o())},c=()=>n.localStorage.getItem(h)?.split(":")||[],l=c();let m;return{onChange(e){r.GPP.onChange(t=>{const n=g.indexOf("GPP"),r= __get$(c(),n) ;t.consentData?.hash!==r&&(i("GPP",t),e(Object.values(s)))})},consentData: new Promise(e=>{const t=Object.entries(r).reduce((e,t)=>{let _hh$temp20=__arrayFrom$(t),n=_hh$temp20[0],s=_hh$temp20[1];return __set$(e,n,s.loadConsentData()).then(e=>i(n,e)),e;},{});Promise.all(Object.values(t)).then(()=>e(Object.values(s))),t.GPP.then(t=>{t.consentData?.consentString&&e(Object.values(s));});}) ,getChangedSinceStoredResult:()=>m,async hasChangedSinceStored(){const e=n.localStorage.getItem("33acrossId_cst");return!l&&!e||(void 0!==m||(await this.consentData,m=(!e||t(o())!==e)&&(()=>{const e=g.reduce((e,t,n)=> __call$(Object,"assign",[e,{[t]:__get$(l,n)}]) ,{});return!!Object.entries(s).find(t=>{ let _hh$temp21=__arrayFrom$(t),n=_hh$temp21[0],_hh$temp21$i1=_hh$temp21[1],s=_hh$temp21$i1.consentData; const r=s.hash||"";return!(! __get$(e,n) &&!s.consentString)&&r!== __get$(e,n) })||String(a)!==( __get$(e,p) ??"0")})()),m)},calculatePrivacyParams(){const e=Object.values(s).reduce((e,t)=>{ let _hh$temp22=t,_hh$temp22$consentData=_hh$temp22.consentData,n=_hh$temp22$consentData===void 0?{}:_hh$temp22$consentData; const s= __get$(d,n.name) ;return n.consentString&&s&& __call$(Object,"assign",[e,s(n)]) ,e},{});return a&&(e.coppa=1),e}}}(e=>new l({name:e,hashFn:m}),function(e){return function(e){const t=[];for(;e>0;)t.push(String.fromCharCode(255&e)),e>>>=8;return btoa(t.join())}(m(e))}),V="33acrossId",K=function e(t){ let _hh$temp23=t,n=_hh$temp23.expires,s=_hh$temp23.refreshInSeconds,_hh$temp23$win=_hh$temp23.win,r=_hh$temp23$win===void 0?window:_hh$temp23$win,a=_hh$temp23.enabledStorageTypes,o=__rest$Object(_hh$temp23,["expires","refreshInSeconds","win","enabledStorageTypes"]); const i="esp"===o.src?`${o.src}_${V}`:V,c=function(){ let _hh$temp24=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=_hh$temp24.uri,t=_hh$temp24.level,n=__rest$Object(_hh$temp24,["uri","level"]); const s=(()=>{try{return  new URL(e||__get$(__get$(globalThis,"location"),"href")) .searchParams}catch{return null}})(),r=s?.get("lex_debug")||"silent",a=t||r,o=new O(n);return o.setLogLevel(a),o}({product:"Lexicon ID Mappings Provider"}),l=c.wrap(E),d=c.wrap(_),h={win:r,enabledStorageTypes:a},p={win:r,enabledStorageTypes:Object.values(j)},u=new l({idKeyName:i,expires:n,refreshInSeconds:s},e=>T(e,h)),g=new d({win:r,hem:r._33across?.hem,...o},{consentDataHandler:H,refreshableStorageId:u,storageManagers:{firstPartyId:T("33acrossIdFp",p),lexId:T("33acrossIdTp",p),hashedEmail:new f(Object.values(L).map(e=>e("33acrossIdHm",{cookieExpirationInMs:432e5})))}});return"providers"in e|| __call$(Object,"assign",[e,{providers:{}}]) , __call$(Object,"assign",[e.providers,{[i]:g}]) ,g}})(),_33AcrossIdMappingsProvider=t.default})();
/*hammerhead|script|end*/