/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
;
(self.AMP=self.AMP||[]).push({m:1,v:"2601162341000",n:"amp-ad-exit",ev:"0.1",l:!0,f:function(t,n){(()=>{ var n,_hh$temp0=Array,e=_hh$temp0.isArray,_hh$temp1=Object.prototype,i=_hh$temp1.hasOwnProperty,r=_hh$temp1.toString; function s(t){const n=Object.getOwnPropertyDescriptor(t,"message");if(null!=n&&n.writable)return t; const _hh$temp2=t,e=_hh$temp2.message,i=_hh$temp2.stack,r=new Error(e); for(const n in t) __set$(r,n,__get$(t,n)) ;return r.stack=i,r}function o(t){let n=null,e="";for(const t of arguments)t instanceof Error&&!n?n=s(t):(e&&(e+=" "),e+=t);return n?e&&(n.message=e+": "+n.message):n=new Error(e),n}function c(t){var n,e;null===(n=(e=self).__AMP_REPORT_ERROR)||void 0===n||n.call(e,t)}function u(t){return JSON.parse(t)}var l=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function a(t,n=""){try{return decodeURIComponent(t)}catch(t){return n}}function f(t){ const _hh$temp3=t||self,n=__get$(_hh$temp3,"location"); return function(t){const n=function(t){const n=Object.create(null);return n}();if(!t)return n;let e;for(;e=l.exec(t);){const t=a(e[1],e[1]),i=e[2]?a( __call$(e[2],"replace",[/\+/g," "]) ,e[2]):""; __set$(n,t,i) }return n}(n.originalHash||n.hash)}var h="";function p(t){var n;return h||(h=(null===(n=t.AMP_CONFIG)||void 0===n?void 0:n.v)||"012601162341000"),h}function v(t,n){const e=n||f(t);return["1","actions","amp","amp4ads","amp4email"].includes(e.development)||!!t.AMP_DEV_MODE}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var d=self.__AMP_LOG;function m(t,n){throw new Error("failed to call initLogConstructor")}function b(t){return d.user||(d.user=g()),function(t,n){return n&&n.ownerDocument.defaultView!=t}(d.user.win,t)?d.userForEmbed||(d.userForEmbed=g()):d.user}function g(t){return m()}function y(){return d.dev||(d.dev=m())}function _(t,n,e,i,r,s,o,c,u,l,a){return t}function A(t,n,e,i,r,s,o,c,u,l,a){return b().assert(t,n,e,i,r,s,o,c,u,l,a)}function I(t,n,e,i){const r=j(t),s=S(r);!function(t,n,e,i,r,s){const o=P(t);let c= __get$(o,e) ;c||(c= __set$(o,e,{obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1}) ),c.ctor||(c.ctor=i,c.context=n,c.sharedInstance=!1,c.resolve&&E(t,e))}(s,r,n,e),i&&E(s,n)}function R(t,n,e){!function(t,n,e){const i=P(t),r= __get$(i,n) ;r?r.reject&&r.reject(e):( __set$(i,n,x()) , __get$(i,n) .reject(e))}(S(j(t)),n,e)}function T(t,n){return function(t,n){const e=function(t,n){const e= __get$(P(t),n) ;return e?e.promise?e.promise:(E(t,n),e.promise=Promise.resolve(e.obj)):null}(t,n);if(e)return e;const i=P(t);return  __set$(i,n,x()) , __get$(i,n) .promise}(S(t),n)}function O(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}function j(t){return t.nodeType?(e=t,n=(e.ownerDocument||e).defaultView,function(t,n){return E(t=O(t),"ampdoc")}(n)).getAmpDoc(t):t;var n,e}function S(t){const n=j(t);return n.isSingleDoc()?n.win:n}function E(t,n){_(w(t,n));const e= __get$(P(t),n) ;return e.obj||(_(e.ctor),_(e.context),e.obj=new e.ctor(e.context),_(e.obj),e.context=null,e.resolve&&e.resolve(e.obj)),e.obj}function P(t){let n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}function w(t,n){const e=t.__AMP_SERVICES&& __get$(t.__AMP_SERVICES,n) ;return!(!e||!e.ctor)}function x(){ const t=new class{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n;});}}(),_hh$temp4=t,n=_hh$temp4.promise,e=_hh$temp4.reject,i=_hh$temp4.resolve; return n.catch((()=>{})),{obj:null,promise:n,resolve:i,reject:e,context:null,ctor:null}}var C="host-visibility",D="host-fullscreen",F="host-exit",M=class{static isAvailable(t){return!!(n=t,j(n)).getHeadNode().querySelector("script[host-service]");var n}static visibilityForDoc(t){return T(t,C)}static installVisibilityServiceForDoc(t,n){I(t,C,n,!0)}static rejectVisibilityServiceForDoc(t,n){R(t,C,n)}static fullscreenForDoc(t){return T(t,D)}static installFullscreenServiceForDoc(t,n){I(t,D,n,!0)}static rejectFullscreenServiceForDoc(t,n){R(t,D,n)}static exitForDoc(t){return T(t,F)}static installExitServiceForDoc(t,n){I(t,F,n,!0)}static rejectExitServiceForDoc(t,n){R(t,F,n)}},L="clickDelay",N="clickLocation",V="inactiveElement",U=class{constructor(t,n){this.name=t,this.type=n}filter(t){}onLayoutMeasure(){}};function $(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}): __set$(t,n,e) ,t}function k(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function G(t){for(var n=1;n<arguments.length;n++){var e=null!= __get$(arguments,n) ? __get$(arguments,n) :{};n%2?k(Object(e),!0).forEach((function(n){$(t,n, __get$(e,n) )})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):k(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var B={"bg":"https://tpc.googlesyndication.com/b4a/b4a-runner.html","moat":"https://z.moatads.com/ampanalytics093284/iframe.html"},K=(G(G({},B),{},{"bg":"https://tpc.googlesyndication.com/b4a/experimental/b4a-runner.html"}),B);function J(t,n,e){if(A("string"==typeof n.finalUrl,"finalUrl of target '%s' must be a string",t),n.filters&&n.filters.forEach((t=>{A( __get$(e.filters,t) ,"filter '%s' not defined",t)})),n.vars){const t=/^_[a-zA-Z0-9_-]+$/;for(const e in n.vars)A(t.test(e),"'%s' must match the pattern '%s'",e,t)}}function z(t){return b().assertString( __get$(K,t) ,`Unknown or invalid vendor ${t}, note that vendor must use transport: iframe`)}var X=class extends U{constructor(t,n,e){super(t,n.type),A(n.type==L&&"number"==typeof n.delay&&n.delay>0,"Invalid ClickDelay spec"),this.spec=n,this.intervalStart=Date.now(),n.startTimingEvent&&e.performance&&e.performance.timing&&(null== __get$(e.performance.timing,n.startTimingEvent) ||(this.intervalStart= __get$(e.performance.timing,n.startTimingEvent) ))}filter(){return Date.now()-this.intervalStart>=this.spec.delay}};function Y(t,n){return{type:L,delay:t,startTimingEvent:n}}var H,Z=class extends U{constructor(t,n,e){super(t,n.type),A(function(t){return!(t.type!=N||void 0!==t.left&&"number"!=typeof t.left||void 0!==t.right&&"number"!=typeof t.right||void 0!==t.top&&"number"!=typeof t.top||void 0!==t.bottom&&"number"!=typeof t.bottom||void 0!==t.relativeTo&&"string"!=typeof t.relativeTo)}(n),"Invaid ClickLocation spec"),this.cj=n.left||0,this.uj=n.right||0,this.lj=n.top||0,this.fj=n.bottom||0,this.hj=n.relativeTo,this.pj=e,this.vj={top:0,right:0,bottom:0,left:0}}filter(t){return t.clientX>=this.vj.left&&t.clientX<=this.vj.right&&t.clientY>=this.vj.top&&t.clientY<=this.vj.bottom}onLayoutMeasure(){this.pj.getVsync().measure((()=>{ const _hh$temp5=this.pj,t=_hh$temp5.win; if(this.hj){const n=t.document.querySelector(this.hj);A(n,`relativeTo element ${this.hj} not found.`);const e=n.getBoundingClientRect();this.vj.left=e.left,this.vj.top=e.top,this.vj.bottom=e.bottom,this.vj.right=e.right}else this.vj.left=0,this.vj.top=0,this.vj.bottom=t.innerHeight,this.vj.right=t.innerWidth;this.vj.left+=this.cj,this.vj.top+=this.lj,this.vj.right-=this.uj,this.vj.bottom-=this.fj}))}},q=class extends U{constructor(t,n){super(t,n.type),A(function(t){return t.type==V&&"string"==typeof t.selector}(n),"Invalid InactiveElementspec"),this.dj=n.selector}filter(t){return n=t.target,e=this.dj,!n.matches(e);var n,e}};function Q(t,n,e){switch(n.type){case L:return new X(t,n,e.win);case N:return new Z(t,n,e);case V:return new q(t,n);default:return}}function W(t,n,e,i){let r;try{r=t.open(n,e,i)}catch(t){y().error("DOM","Failed to open url on target: ",e,t)}var s,o;return!r&&"_top"!=e&&("number"!=typeof o&&(o=0),o+"noopener".length>(s=i||"").length||-1===s.indexOf("noopener",o))&&(r=t.open(n,"_top")),r}function tt(t,n){return H||(H=self.document.createElement("a")),function(t,n,e){return  __set$(t,"href","") , new URL(n,__get$(t,"href")) }(H,t)}var nt="amp-ad-exit",et=class extends t.BaseElement{constructor(t){super(t),this.Ki={},this.mj={},this.bj=[],this.gj={beacon:!0,image:!0},this.yj={},this.registerAction("exit",this.exit.bind(this)),this.registerAction("setVariable",this.setVariable.bind(this),1),this._j={},this.xv=null,this.Aj=null,this.Ij={},this.Rj=this.detectAttributionReportingSupport()}exit(t){ const _hh$temp6=t,n=_hh$temp6.args;  let e,_hh$temp7=t,i=_hh$temp7.event; A("variable"in n!="target"in n,"One and only one of 'target' and 'variable' must be specified"),"variable"in n?(e= __get$(this.mj,n.variable) ,e||(e=n.default),A(e,`Variable target not found, variable:'${n.variable}', default:'${n.default}'`),delete n.default):e=n.target;const r= __get$(this.Ki,e) ;if(A(r,`Exit target not found: '${e}'`),A(i,"Unexpected null event"),i.preventDefault(),!this.Tj(this.bj,i)||!this.Tj(r.filters,i))return;const s=this.Oj(n,i,r);r.trackingUrls&&r.trackingUrls.map(s).forEach((t=>this.jj(t)));const o=s(r.finalUrl);if(M.isAvailable(this.getAmpDoc()))M.exitForDoc(this.getAmpDoc()).then((t=>t.openUrl(o))).catch((t=>{t.fallback&&W(this.win,o,"_blank")}));else{const t=r.behaviors&&r.behaviors.clickTarget&&"_top"==r.behaviors.clickTarget?"_top":"_blank",n=s(r.windowFeatures||"");W(this.win,o,t,n)}}setVariable(t){ const _hh$temp8=t,n=_hh$temp8.args; A( __get$(this.Ki,n.target) ,`Exit target not found: '${n.target}'`), __set$(this.mj,n.name,n.target) }Oj(t,n,e){const i={"ATTRIBUTION_REPORTING_STATUS":()=>function(t,n){var e,i,r;return null!=n&&null!==(e=n.behaviors)&&void 0!==e&&e.browserAdConversion&&t?6:null!=n&&null!==(i=n.behaviors)&&void 0!==i&&null!==(r=i.browserAdConversion)&&void 0!==r&&r.attributionsrc?5:4}(this.Rj,e),"CLICK_X":()=>n.clientX,"CLICK_Y":()=>n.clientY},r=function(t,n){const e=S(j(t));return w(e,n)?E(e,n):null}(this.element,"url-replace"),s={"ATTRIBUTION_REPORTING_STATUS":!0,"CLICK_X":!0,"CLICK_Y":!0,"RANDOM":!0,"UACH":!0};if(e.vars)for(const n in e.vars){if("_"!=n[0])continue;const o= __get$(e.vars,n) ;o&&( __set$(i,n,()=>{if(o.iframeTransportSignal){const t=r.expandStringSync(o.iframeTransportSignal,{"IFRAME_TRANSPORT_SIGNAL":(t,n)=>{if(!t||!n)return"";const e=__get$(this._j,t);return e&&n in e?__get$(e,n):void 0;}});if(o.iframeTransportSignal==`IFRAME_TRANSPORT_SIGNAL${t}`)y().error(nt,"Invalid IFRAME_TRANSPORT_SIGNAL format:"+t+" (perhaps there is a space after a comma?)");else if(""!=t)return t;}return n in t?__get$(t,n):o.defaultValue;}) , __set$(s,n,!0) )}return t=>r.expandUrlSync(t,i,s)}jj(t){this.gj.beacon&&this.win.navigator.sendBeacon&&this.win.navigator.sendBeacon(t,"")||this.gj.image&&(this.win.document.createElement("img").src=t)}Tj(t,n){return t.every((t=>t.filter(n)))}buildCallback(){this.element.setAttribute("aria-hidden","true"),this.bj.push(Q("minDelay",Y(1e3),this)),this.bj.push(Q("carouselBtns",{type:V,selector:".amp-carousel-button"},this)); const _hh$temp9=this.element,t=_hh$temp9.children; A(1==t.length,"The tag should contain exactly one <script> child.");const n=t[0];var e,i,s;A("SCRIPT"==(e=n).tagName&&"APPLICATION/JSON"==(null===(i=e.getAttribute("type"))||void 0===i?void 0:i.toUpperCase()),'The amp-ad-exit config should be inside a <script> tag with type="application/json"');try{const t=function(t){return A("object"==typeof t),t.filters?function(t){const n=[L,N,V];for(const e in t)A("object"==typeof  __get$(t,e) ,"Filter specification '%s' is malformed",e),A(-1!=n.indexOf( __get$(t,e) .type),"Supported filters: "+n.join(", "))}(t.filters):t.filters={},t.transport?function(t){for(const n in t)A("beacon"==n||"image"==n,`Unknown transport option: '${n}'`),A("boolean"==typeof  __get$(t,n) )}(t.transport):t.transport={},function(t,n){A("object"==typeof t,"'targets' must be an object");for(const e in t)J(e, __get$(t,e) ,n)}(t.targets,t),t}(u(n.textContent));let e;s=t.options,"[object Object]"===r.call(s)&&"string"==typeof t.options.startTimingEvent&&(e=t.options.startTimingEvent,this.bj.splice(0,1,_(Q("minDelay",Y(1e3,t.options.startTimingEvent),this))));for(const n in t.filters){const i= __get$(t.filters,n) ;i.type==L&&(i.startTimingEvent=i.startTimingEvent||e), __set$(this.yj,n,Q(n,i,this)) }for(const n in t.targets){var o;const e= __get$(t.targets,n) ;var c; __set$(this.Ki,n,{finalUrl:e.finalUrl,vars:e.vars||{},filters:(e.filters||[]).map(t=>__get$(this.yj,t)).filter(Boolean),behaviors:e.behaviors||{}}) ,this.Rj&&null!=e&&null!==(o=e.behaviors)&&void 0!==o&&o.browserAdConversion? __get$(this.Ki,n) .windowFeatures=this.Sj(null==e||null===(c=e.behaviors)||void 0===c?void 0:c.browserAdConversion): __get$(this.Ki,n) .trackingUrls=e.trackingUrls||[];for(const t in e.vars){if(! __get$(e.vars,t) .iframeTransportSignal)continue;const n= __get$(e.vars,t) .iframeTransportSignal.match(/IFRAME_TRANSPORT_SIGNAL\(([^,]+)/);if(!n||n.length<2)continue; const i=n[1],_hh$temp10=tt(z(i)),r=_hh$temp10.origin;  __set$(this.Ij,r,__get$(this.Ij,r)||i) }}this.gj.beacon=!1!==t.transport.beacon,this.gj.image=!1!==t.transport.image}catch(t){throw this.user().error(nt,"Invalid JSON config",t),t}this.Ej()}detectAttributionReportingSupport(){return null===(t=this.win.document.featurePolicy)||void 0===t?void 0:t.allowedFeatures().includes("attribution-reporting");var t}Sj(t){if(!t||!Object.keys(t))return;const n=["noopener"];for(const e of Object.keys(t)){const i=encodeURIComponent( __get$(t,e) );n.push(`${e.toLowerCase()}=${i}`)}return n.join(",")}Pj(){return function(t,n){try{const e=function(t,n){const e=(t.ownerDocument||t).defaultView,i=n||O(e);if(e&&e!=i&&O(e)==i)try{return e.frameElement}catch(t){}return null}(t,n).parentElement;if("AMP-AD"==e.nodeName)return String(e.getResourceId())}catch(t){}return null}(this.element,O(this.win))}resumeCallback(){this.Ej()}unlayoutCallback(){return this.xv&&(this.xv(),this.xv=null),super.unlayoutCallback()}Ej(){"inabox"!=function(t){const n=self;return n.__AMP_MODE?n.__AMP_MODE:n.__AMP_MODE=function(t){return{localDev:!1,development:v(t,f(t)),esm:!0,test:!1,rtvVersion:p(t),ssrReady:!1}}(n)}().runtime&&(this.Aj=this.Aj||this.Pj(),this.Aj&&(_(!this.xv),this.xv=function(t,e,i,r){let s=t,o=i,c=t=>{try{return o(t)}catch(t){var n,e;throw null===(n=(e=self).__AMP_REPORT_ERROR)||void 0===n||n.call(e,t),t}};const u=function(){if(void 0!==n)return n;n=!1;try{const t={get capture(){return n=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return n}();return s.addEventListener(e,c,!!u&&r),()=>{null==s||s.removeEventListener(e,c,!!u&&r),o=null,s=null,c=null}}(this.getAmpDoc().win,"message",(t=>{if(! __get$(this.Ij,t.origin) )return;const n=function(t){if(!function(t){return"string"==typeof t&&t.startsWith("amp-")&&-1!=t.indexOf("{")}(t))return null;const n=t.indexOf("{");return function(t,n){try{return u(t)}catch(t){return null==n||n(t),null}}(t.substr(n),(n=>{!function(t){const n=o.apply(null,arguments);setTimeout((()=>{throw c(n),n}))}(new Error(`MESSAGING: Failed to parse message: ${t}\n${n.message}`))}))}(function(t){return t.data}(t));n&&"iframe-transport-response"==n.type&&(this.wj(n,t.origin),n.creativeId==this.Aj&&( __set$(this._j,n.vendor,n.message) ))}),void 0)))}wj(t,n){A(t.message,"Received empty response from 3p analytics frame"),A(t.creativeId,"Received malformed message from 3p analytics frame: creativeId missing"),A(t.vendor,"Received malformed message from 3p analytics frame: vendor missing");const e=tt(z(t.vendor));A(e&&e.origin==n,`Invalid origin for vendor ${t.vendor}: ${n}`)}isLayoutSupported(t){return!0}onLayoutMeasure(){for(const t in this.yj) __get$(this.yj,t) .onLayoutMeasure()}};t.registerElement(nt,et)})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});

/*hammerhead|script|end*/