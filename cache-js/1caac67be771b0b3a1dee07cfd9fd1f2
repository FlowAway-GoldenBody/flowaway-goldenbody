/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/tutorial-status.mocker-Ch45Sgzl.js","assets/random.util-FSayF0pK.js"])))=>i.map(i=> __get$(d,i) );
import{A as e,k as t}from "https://beside-powerful-above-recordings.trycloudflare.com:443/d0f884c05d30463bb609a6cb6160f74f!s!utf-8/https://www.chesskid.com/js/client-prod/assets/@chesscom-nyupcMS7.js" ;import{st as n}from "https://beside-powerful-above-recordings.trycloudflare.com:443/d0f884c05d30463bb609a6cb6160f74f!s!utf-8/https://www.chesskid.com/js/client-prod/assets/@vue-Bs7Bvl8t.js" ;import{t as r}from "https://beside-powerful-above-recordings.trycloudflare.com:443/d0f884c05d30463bb609a6cb6160f74f!s!utf-8/https://www.chesskid.com/js/client-prod/assets/vue-DEdtZKM-.js" ;import{n as i,t as a}from "https://beside-powerful-above-recordings.trycloudflare.com:443/d0f884c05d30463bb609a6cb6160f74f!s!utf-8/https://www.chesskid.com/js/client-prod/assets/index-wh6DItv2.js" ;import{r as ee,t as o}from "https://beside-powerful-above-recordings.trycloudflare.com:443/d0f884c05d30463bb609a6cb6160f74f!s!utf-8/https://www.chesskid.com/js/client-prod/assets/translation.util-FC72oqSg.js" ;import{Tn as te,gn as ne,qn as s,ut as re,w as ie,xn as ae,yn as oe}from "https://beside-powerful-above-recordings.trycloudflare.com:443/d0f884c05d30463bb609a6cb6160f74f!s!utf-8/https://www.chesskid.com/js/client-prod/assets/cookie-banner-CZUnWPWz.js" ;import{i as se,o as c}from "https://beside-powerful-above-recordings.trycloudflare.com:443/d0f884c05d30463bb609a6cb6160f74f!s!utf-8/https://www.chesskid.com/js/client-prod/assets/pubsub.service-BzUFBKgD.js" ;import{a as l,i as u,n as d,r as f,s as p,t as m}from "https://beside-powerful-above-recordings.trycloudflare.com:443/d0f884c05d30463bb609a6cb6160f74f!s!utf-8/https://www.chesskid.com/js/client-prod/assets/pubsub.services.wrappers-CEaDBQI0.js" ;import{t as ce}from "https://beside-powerful-above-recordings.trycloudflare.com:443/d0f884c05d30463bb609a6cb6160f74f!s!utf-8/https://www.chesskid.com/js/client-prod/assets/error.util-BxqP0_kG.js" ;import{t as le}from "https://beside-powerful-above-recordings.trycloudflare.com:443/d0f884c05d30463bb609a6cb6160f74f!s!utf-8/https://www.chesskid.com/js/client-prod/assets/use-user-activity-ebCXmR_R.js" ;e();var h=se.includes(`sandbox`)?`classroom-ck`:`classroom`;const g=p({module:`global-classroom`,listeners:{invitationEvents:{channel:`invitations/users/${c}`,messageWrapper:e=>m(e)},userEvents:{channel:`classroom/users/${c}`,messageWrapper:e=>m(e)}}});function ue(e){return p({module:`classroom`,listeners:{sessionEvents:{channel:`classroom/sessions/${e}`,messageWrapper:e=>m(e)}}})}const de=u({url:`${h}/sessions`,queryParams: _hh$temp0=>{var e=_hh$temp0.uid;return{uid:e};} ,outgoingData: _hh$temp1=>{var e=_hh$temp1.alias,t=_hh$temp1.openEnrollment,n=_hh$temp1.initialPosition,r=_hh$temp1.rules,i=_hh$temp1.pgn,a=_hh$temp1.title,ee=_hh$temp1.invitees;return{alias:e,openEnrollment:t,initialPosition:n,rules:r,pgn:i,title:a,invitees:ee};} });f({url:`${h}/sessions/{id}`});const _=d({url:`${h}/sessions/{id}`}),v=f({url:`${h}/sessions/users/{userId}`,queryParams: _hh$temp2=>{var e=_hh$temp2.limit,t=_hh$temp2.before,n=_hh$temp2.with_inactive;return{limit:e,before:t,with_inactive:n};} }),y=f({url:`${h}/sessions/alias/{alias}`});l({url:`${h}/sessions/{id}/video-settings`,outgoingData: _hh$temp3=>{var e=_hh$temp3.muteAll;return{muteAll:e};} }),l({url:`${h}/sessions/{id}/selected-collection-id`,outgoingData: _hh$temp4=>{var e=_hh$temp4.collectionId;return{collectionId:e};} }),l({url:`${h}/sessions/{id}/pinned-videos`,outgoingData: _hh$temp5=>{var e=_hh$temp5.pinnedVideos;return{pinnedVideos:e};} }),l({url:`${h}/sessions/{id}/large-classroom`,outgoingData: _hh$temp6=>{var e=_hh$temp6.largeClassroom;return{largeClassroom:e};} });const b=l({url:`${h}/sessions/{id}/evaluation-settings`,outgoingData: _hh$temp7=>{var e=_hh$temp7.showEvaluationBar,t=_hh$temp7.showEvaluationLines,n=_hh$temp7.showMoveList,r=_hh$temp7.coachOnly;return{showEvaluationBar:e,showEvaluationLines:t,showMoveList:n,coachOnly:r};} });l({url:`${h}/sessions/{id}/enrollment`,outgoingData: _hh$temp8=>{var e=_hh$temp8.openEnrollment;return{openEnrollment:e};} }),l({url:`${h}/sessions/{id}/collection-ids`,outgoingData: _hh$temp9=>{var e=_hh$temp9.collectionIds;return{collectionIds:e};} }),l({url:`${h}/sessions/{id}/chat-settings`,outgoingData: _hh$temp10=>{var e=_hh$temp10.muteAll;return{muteAll:e};} }),l({url:`${h}/sessions/{id}/auto-save`,outgoingData: _hh$temp11=>{var e=_hh$temp11.autoSave;return{autoSave:e};} }),l({url:`${h}/sessions/{id}/audio-settings`,outgoingData: _hh$temp12=>{var e=_hh$temp12.muteAll;return{muteAll:e};} }),l({url:`${h}/sessions/{id}/alias`,outgoingData: _hh$temp13=>{var e=_hh$temp13.alias;return{alias:e};} });const x=u({url:`${h}/sessions/{id}/timer`,outgoingData: _hh$temp14=>{var e=_hh$temp14.duration,t=_hh$temp14.state;return{duration:e,state:t};} }),S=u({url:`${h}/sessions/{id}/stopwatch`,outgoingData: _hh$temp15=>{var e=_hh$temp15.state;return{state:e};} }),C=u({url:`${h}/sessions/{id}/clock`,outgoingData: _hh$temp16=>{var e=_hh$temp16.type;return{type:e};} }),w=f({url:`${h}/sessions/{id}/users`}),T=l({url:`${h}/sessions/{id}/users/{userId}`,outgoingData: _hh$temp17=>{var e=_hh$temp17.capabilities,t=_hh$temp17.boardControl;return{capabilities:e,boardControl:t};} }),E=d({url:`${h}/sessions/{id}/users/{userId}`}),D=u({url:`${h}/sessions/{id}/invitees`,outgoingData: _hh$temp18=>{var e=_hh$temp18.userId,t=_hh$temp18.boardControl;return{userId:e,boardControl:t};} });u({url:`${h}/sessions/{id}/confirmations`,queryParams: _hh$temp19=>{var e=_hh$temp19.inviteeId,t=_hh$temp19.status;return{inviteeId:e,status:t};} });const O=u({url:`${h}/sessions/alias/{alias}/confirmations`,queryParams: _hh$temp20=>{var e=_hh$temp20.status;return{status:e};} ,errorParser(e){switch(e){case 403:return o(`i18n_translation.no_permission_to_join_the_room`);case 404:return o(`i18n_translation.room_is_not_found`);default:return ce(),o(`i18n_translation.oops_server_error`)}}}),k=l({url:`${h}/sessions/{id}/users/{userId}/audio`,outgoingData: _hh$temp21=>{var e=_hh$temp21.audioStatus;return{audioStatus:e};} }),A=f({url:`${h}/sessions/{id}/boards`});f({url:`${h}/sessions/{id}/boards/{board_id}`});const j=u({url:`${h}/sessions/{id}/boards`,outgoingData: _hh$temp22=>{var e=_hh$temp22.gameId,t=_hh$temp22.sequence,n=_hh$temp22.pgn,r=_hh$temp22.title,i=_hh$temp22.rules,a=_hh$temp22.initialPosition;return{gameId:e,sequence:t,pgn:n,title:r,rules:i,initialPosition:a};} }),M=d({url:`${h}/sessions/{id}/boards/{board_id}`}),N=l({url:`${h}/sessions/{id}/boards/{board_id}/title`,outgoingData: _hh$temp23=>{var e=_hh$temp23.version,t=_hh$temp23.title;return{version:e,title:t};} }),P=l({url:`${h}/sessions/{id}/boards/{board_id}/squares`,outgoingData: _hh$temp24=>{var e=_hh$temp24.version,t=_hh$temp24.set;return{version:e,set:t};} });l({url:`${h}/sessions/{id}/boards/{board_id}/sequence`,outgoingData: _hh$temp25=>{var e=_hh$temp25.version,t=_hh$temp25.sequence;return{version:e,sequence:t};} });const F=l({url:`${h}/sessions/{id}/boards/{board_id}/position`,outgoingData: _hh$temp26=>{var e=_hh$temp26.version,t=_hh$temp26.line,n=_hh$temp26.move;return{version:e,line:t,move:n};} });l({url:`${h}/sessions/{id}/boards/{board_id}/players`,outgoingData: _hh$temp27=>{var e=_hh$temp27.blackPlayer,t=_hh$temp27.whitePlayer;return{blackPlayer:e,whitePlayer:t};} });const I=l({url:`${h}/sessions/{id}/boards/{board_id}/moves`,outgoingData: _hh$temp28=>{var e=_hh$temp28.version,t=_hh$temp28.line,n=_hh$temp28.move,r=_hh$temp28.pgn;return{version:e,line:t,move:n,pgn:r};} });l({url:`${h}/sessions/{id}/boards/{board_id}/images`,outgoingData: _hh$temp29=>{var e=_hh$temp29.version,t=_hh$temp29.set;return{version:e,set:t};} }),l({url:`${h}/sessions/{id}/boards/{board_id}/game-id`,outgoingData: _hh$temp30=>{var e=_hh$temp30.gameId,t=_hh$temp30.version;return{gameId:e,version:t};} });const fe=l({url:`${h}/sessions/{id}/boards/{board_id}/flipped`,outgoingData: _hh$temp31=>{var e=_hh$temp31.flipped,t=_hh$temp31.version;return{flipped:e,version:t};} }),L=l({url:`${h}/sessions/{id}/boards/{board_id}/current`}),R=l({url:`${h}/sessions/{id}/boards/{board_id}/arrows`,outgoingData: _hh$temp32=>{var e=_hh$temp32.version,t=_hh$temp32.set;return{version:e,set:t};} }),z=u({url:`${h}/sessions/{id}/boards/{board_id}/publish`,outgoingData: _hh$temp33=>{var e=_hh$temp33.version;return{version:e};} }),B=u({url:`${h}/sessions/{id}/notifications/twilio`,outgoingData: _hh$temp34=>{var e=_hh$temp34.userId,t=_hh$temp34.type,n=_hh$temp34.media;return{userId:e,type:t,media:n};} }),V=ne({serverRoute:`api_v1_users_me_classroom_info`,mocker:async()=>(await t(async()=>{ let _hh$temp35=await import(__get$ProxyUrl(`./tutorial-status.mocker-Ch45Sgzl.js`,"https://www.chesskid.com/js/client-prod/assets/")),e=_hh$temp35.mockTutorialStatus; return{mockTutorialStatus:e}},__vite__mapDeps([0,1]))).mockTutorialStatus()}),pe=oe({serverRoute:`api_v1_users_me_classroom_update`});function H(e,t){return e.metadata.message_type===t}a(),r(); var _hh$temp36=i(),U=_hh$temp36.state,W=_hh$temp36.getters,G=le(),K=te(),q=ie(),J=n(!1),Y=n(!1),X=n(),Z=re(); function me(){return{isInitialized:Y,hasActiveSession:J,session:X,clearState:ve,checkActiveSessions:$,startListeners:he,on:Z.on,stop:Z.stop}}async function he(){W.isAuthenticated&&(await $(),U.hasJustLoggedIn&&J.value&&W.isUserKid&&Q(),g.setReceivers({invitationEvents:ge,userEvents:_e}),g.start(),Y.value=!0)}function ge(e){e.added.length&&(K.showAlertNotification({text:o(`i18n_translation.added_to_classroom`)}),q.currentRoute.value.name!==`classroom-page`&&(G.isBusy.value&&K.showAlertNotification({text:o(`i18n_translation.redirect_to_classroom`)}),G.executeWhenIdle({handler:Q,expiresAfter:1800})),$())}function _e(e){if(H(e,`audio_status_update`))return Z.trigger(`participant audio status updated`,e.data);if(H(e,`participant_removed`))return Z.trigger(`host ended session`,e.data)}function Q(){if(s()===3)q.push({name:`classroom-page`});else{ let _hh$temp37=ae(),e=_hh$temp37.goTo; e(`web_learn_classroom`)}}async function $(){if(!U.authUser)return;let e=await v({userId:U.authUser.user.id,limit:1});e.success&&e.data?.sessions.length&&(J.value=!0,X.value=e.data.sessions[0],Z.trigger(`joined session`,X.value))}function ve(){J.value=!1,X.value=void 0}export{k as A,N as C,S as D,fe as E,x as O,L as S,b as T,I as _,O as a,B as b,ue as c,A as d,y as f,D as g,P as h,F as i,T as k,M as l,w as m,H as n,j as o,V as p,R as r,de as s,me as t,_ as u,pe as v,C as w,E as x,z as y};
/*hammerhead|script|end*/