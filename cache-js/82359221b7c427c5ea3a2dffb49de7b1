/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/react-Cv_doWZf.js","assets/vendor-DPgRuOk0.js","assets/use-animation-Cn9k4ycg.js","assets/visual-element-target-lU3SttQs.js","assets/index-DK47P65T.js","assets/index-D_VBq45p.js","assets/use-reduced-motion-DoqbiIUb.js","assets/msal-CEiIZ22R.js","assets/index-C6XpdMTK.js","assets/index-CsddE2Rg.js","assets/tslib.es6-QbsNV-zR.js","assets/_commonjs-dynamic-modules-TDtrdbi3.js","assets/index-JKAN6H1j.js","assets/index-B0kbTOvO.js","assets/deferred-BBqS7MT8.js","assets/math.scalar.functions-B0475LkX.js","assets/animationGroup-Bs0b4j7F.js","assets/skeleton-BQBAA-dN.js","assets/rawTexture-BqoNmKM9.js","assets/imageProcessingCompatibility-CkrYkYX0.js","assets/thinBlurPostProcess-1U8gmCxg.js","assets/easing-BtjaNKBe.js","assets/lazy-AkQWqsjE.js","assets/ray-DA4uTvLU.js","assets/math.vector.functions-CmtLgEwl.js","assets/outlineRenderer-DdgqNq6U.js","assets/discBuilder-1FI4skHL.js","assets/assetContainer-Ur4aFhwG.js","assets/shaderMaterial-CrUITn1A.js","assets/proceduralTexture-B-eWPbmp.js","assets/blurPostProcess-Cwra5Hoj.js","assets/babylonFileParser.function-CWsVgwsY.js","assets/standardMaterial-Dhlvy5-R.js","assets/asyncLock-D59tXam6.js","assets/engine.query-BUEbygWM.js","assets/spotLight-DAht1BWw.js","assets/thinInstanceMesh-CgLlQIw7.js","assets/dumpTools-B7Qib8wc.js","assets/shadowGenerator-Dbl_aJiO.js","assets/imageProcessingFunctions-BNdoFYlB.js","assets/logDepthDeclaration-CuliFF5Y.js","assets/helperFunctions-D7-Ljhuy.js","assets/fogFragmentDeclaration-DIseowRJ.js","assets/clipPlaneFragment-BXA_e3V_.js","assets/logDepthVertex-D0mQ-yRg.js","assets/clipPlaneVertex-DCXXSj5B.js","assets/iblShadowsRenderPipeline-Bk1XgLn8.js","assets/geometryBufferRenderer-CpvhobEQ.js","assets/bumpFragment-BFKfsRRP.js","assets/samplerFragmentDeclaration-BTPIb_Nu.js","assets/bakedVertexAnimation-Bvb4waLD.js","assets/morphTargetsVertex-DP5_75JR.js","assets/sceneUboDeclaration-BKBeNLU-.js","assets/bumpVertex-BH4aHik5.js","assets/openpbrMaterial-DDW8BEgG.js","assets/iblCdfGeneratorSceneComponent-Dnf7IKi0.js","assets/iblCdfGenerator-DZNJ6Qpu.js","assets/postProcessRenderPipelineManagerSceneComponent-BJiLrlAs.js","assets/depthRenderer-CNRAKJbE.js","assets/packingFunctions-BrX03h9f.js","assets/pointCloudVertex-CWpqKd8e.js","assets/weightedsound-hNwBzozf.js","assets/sound-CJjyoqy6.js","assets/abstractAudioNode-GBDcgGNz.js","assets/audioEngine-DvUECfsW.js","assets/debugBlock-BQ58cZF4.js","assets/buffer.nonFloatVertexBuffers-JCcIXMCi.js","assets/environmentTextureTools-BumVPI4_.js","assets/pbrMaterial-CyCNHKUA.js","assets/cubeTexture-CgOD7I_u.js","assets/abstractEngine.cubeTexture-D2suUzUX.js","assets/backgroundMaterial-DxwsSru0.js","assets/universalCamera-DsIjcJmU.js","assets/dds-DlFJulZN.js","assets/khronosTextureContainer2-8geXzfq6.js","assets/workerPool-H9Ji3mCo.js","assets/timer-Cy2eUovM.js","assets/math.scalar-Bklag_nx.js","assets/meshUboDeclaration-B_iNy8Xu.js","assets/clipPlaneFragment-BS1e2-f6.js","assets/logDepthDeclaration-CYJemny0.js","assets/fogFragmentDeclaration-VBAf_CAn.js","assets/sceneUboDeclaration-C86S-x4B.js","assets/meshUboDeclaration-hkf9x0eF.js","assets/helperFunctions-3W-2RTxB.js","assets/clipPlaneVertex-DsJewYNU.js","assets/logDepthVertex-CrLpvInJ.js","assets/pointLight-DgIewEXa.js","assets/fresnelFunction-COCSM6Mh.js","assets/abstractAudioBus-Ct-lHEFR.js","assets/webAudioBus-BslzTADs.js","assets/webAudioMainBus-DZqiLlJB.js","assets/webgl2ParticleSystem-C6PVaFXh.js","assets/clearTextureTask-CO6s57Vr.js","assets/bonesDeclaration-BRGxUKIt.js","assets/bakedVertexAnimationDeclaration-511QoTkc.js","assets/morphTargetsVertexDeclaration-BAL9hB6m.js","assets/instancesDeclaration-CXmObnVA.js","assets/morphTargetsVertex-8uHamPU1.js","assets/instancesVertex-BntvpBYh.js","assets/bonesVertex-DNr-D4_i.js","assets/bakedVertexAnimation-CRiGW_sY.js","assets/webgpuEngine-DfNHAUXc.js","assets/fresnelFunction-DCkAnBiM.js","assets/decalFragment-CCqoUEWw.js","assets/engine.multiRender-Cg0GUEvm.js","assets/flowGraphParser-jppoY_9y.js","assets/flowGraphRichTypes-B6_w7kOw.js","assets/flowGraphJsonPointerParserBlock-BUizHLNl.js","assets/flowGraphCachedOperationBlock-LLTlCMzE.js","assets/flowGraphConsoleLogBlock-Cy_GEX3z.js","assets/flowGraphBranchBlock-BuBPTRIO.js","assets/flowGraphDoNBlock-ThXtO1Sg.js","assets/flowGraphForLoopBlock-ElVj5xX-.js","assets/flowGraphThrottleBlock-BD3CqD9s.js","assets/flowGraphMultiGateBlock-DKN2wUNs.js","assets/flowGraphSwitchBlock-D06d9i7t.js","assets/flowGraphWaitAllBlock-BzruZMAR.js","assets/flowGraphCounterBlock-BthsZ52s.js","assets/flowGraphWhileLoopBlock-qiAbtS25.js","assets/flowGraphDebounceBlock-BIA39C_2.js","assets/flowGraphFlipFlopBlock-D60pZcc9.js","assets/flowGraphSequenceBlock-BZK6B9eD.js","assets/flowGraphSetDelayBlock-C4Na2Pdh.js","assets/flowGraphCancelDelayBlock-Bd_NWRxJ.js","assets/flowGraphPlayAnimationBlock-D_cYgr40.js","assets/flowGraphStopAnimationBlock-BGr9qgQT.js","assets/flowGraphPauseAnimationBlock-C_fcu3KU.js","assets/flowGraphInterpolationBlock-DinwnOg7.js","assets/flowGraphEasingBlock-BZGKZ-o4.js","assets/flowGraphBezierCurveEasingBlock-YPLnU630.js","assets/flowGraphConditionalDataBlock-DtVKpHhU.js","assets/flowGraphGetVariableBlock-gYTRq99n.js","assets/flowGraphSetVariableBlock-DH13fuiQ.js","assets/flowGraphTransformCoordinatesSystemBlock-DGivvRtL.js","assets/flowGraphGetPropertyBlock-C5jtKu96.js","assets/flowGraphSetPropertyBlock-CK01sbMm.js","assets/flowGraphConstantBlock-CeWILVz8.js","assets/flowGraphGetAssetBlock-BILalkmk.js","assets/flowGraphDataSwitchBlock-aOI6iZAF.js","assets/flowGraphMathBlocks-BGKm39ay.js","assets/flowGraphBinaryOperationBlock-uDdOrMRm.js","assets/flowGraphUnaryOperationBlock-DEt3huP6.js","assets/flowGraphMathCombineExtractBlocks-CHMesOCd.js","assets/flowGraphMatrixMathBlocks-BJj7dud5.js","assets/flowGraphVectorMathBlocks-2ZhBpVke.js","assets/flowGraphTypeToTypeBlocks-DP3nXaIC.js","assets/flowGraphContextBlock-CnM9Bkgj.js","assets/flowGraphArrayIndexBlock-KHPh70Ih.js","assets/flowGraphCodeExecutionBlock-v-zmx61_.js","assets/flowGraphIndexOfBlock-BSHuR2uA.js","assets/flowGraphFunctionReferenceBlock-BNdlOBEz.js","assets/flowGraphMeshPickEventBlock-CcO-HFvA.js","assets/flowGraphSceneReadyEventBlock-BmJoqZRA.js","assets/flowGraphReceiveCustomEventBlock-TODPwdjp.js","assets/flowGraphSendCustomEventBlock-aUgcDjd0.js","assets/flowGraphSceneTickEventBlock-CU-4hVDb.js","assets/flowGraphPointerOutEventBlock-Cmn-veZ_.js","assets/flowGraphPointerOverEventBlock-5Arlx7ey.js","assets/snapshotRenderingHelper-CKRhdl_c.js","assets/shadowGeneratorSceneComponent-ntGkmvOs.js","assets/greasedLineBaseMesh-DDp5o2pg.js","assets/glowMapGeneration.fragment-B3qX6TYf.js","assets/glowMapGeneration.vertex-f1rA13-D.js","assets/glowMapGeneration.fragment-Bzl-CDsu.js","assets/glowMapGeneration.vertex-Bs50sRo7.js","assets/glowMapMerge.fragment-B7bHOWQB.js","assets/glowMapMerge.vertex-kmOaUsoc.js","assets/glowBlurPostProcess.fragment-DsEmRdAO.js","assets/glowMapMerge.fragment-BSY90MmD.js","assets/glowMapMerge.vertex-B0fM3w-0.js","assets/glowBlurPostProcess.fragment-DIdDxNiY.js","assets/shadowMap.fragment-DF9hrsB3.js","assets/packingFunctions-BELcjzsn.js","assets/shadowMapFragment-CpW1u84n.js","assets/shadowMap.vertex-DdiKzzf4.js","assets/shadowMapVertexMetric-CTkN8RW5.js","assets/depthBoxBlur.fragment-BWZ5X4s7.js","assets/shadowMapFragmentSoftTransparentShadow-ERNWH_B_.js","assets/shadowMap.fragment-C1WI-VFA.js","assets/shadowMapFragment-BxeNVgcu.js","assets/shadowMap.vertex-AzfeHBmm.js","assets/sceneVertexDeclaration-DaGLo2gn.js","assets/shadowMapVertexMetric-Dr0-rT9A.js","assets/depthBoxBlur.fragment-CDFMbisG.js","assets/shadowMapFragmentSoftTransparentShadow-BHJIU1V0.js","assets/rectAreaLight-D-W-sfKu.js","assets/lightProxy.fragment-C0XGrxTL.js","assets/lightProxy.vertex-CWAKyEZh.js","assets/clusteredLightingFunctions-wxV59Xjt.js","assets/lightProxy.fragment-7HeFw8CI.js","assets/lightProxy.vertex-u-pAAQpN.js","assets/clusteredLightingFunctions-DFH3Z4go.js","assets/iesTextureLoader-C8YR319a.js","assets/hdrCubeTexture-BgHz2c7s.js","assets/hdr-PeiNHby3.js","assets/background.vertex-ClgyyJZA.js","assets/backgroundUboDeclaration-BCGrS5or.js","assets/shadowsVertex--a3FdPEJ.js","assets/background.fragment-DUEvFjhq.js","assets/shadowsFragmentFunctions-CD7DDJ1B.js","assets/imageProcessingFunctions-CWJXV8yD.js","assets/lightsFragmentFunctions-l3PowcMR.js","assets/lightFragment-CEyweVMv.js","assets/background.vertex-r5NUXi0C.js","assets/backgroundUboDeclaration-D1RaLVWR.js","assets/lightVxUboDeclaration-DwuzxpqC.js","assets/shadowsVertex-BIyTNXlg.js","assets/background.fragment-BwYRAgGc.js","assets/reflectionFunction-zZZLbzLc.js","assets/shadowsFragmentFunctions-D8exhJT7.js","assets/lightsFragmentFunctions-C2vLCTYb.js","assets/lightFragment-DzyVBrEP.js","assets/color.fragment-ZGXwHInT.js","assets/color.vertex-wj0fgQex.js","assets/vertexColorMixing-De5XI4Ec.js","assets/pbr.vertex-DwGxN2eV.js","assets/pbrUboDeclaration-DIyUBZtN.js","assets/samplerVertexImplementation-BHPJzfUM.js","assets/mainUVVaryingDeclaration-CYEkmihG.js","assets/pbrBRDFFunctions-8Xp62_Kd.js","assets/harmonicsFunctions-ByLnb02S.js","assets/bumpVertexDeclaration-IspdQonF.js","assets/bumpVertex-BXpktrYd.js","assets/vertexColorMixing-OiWcXxwU.js","assets/pbr.fragment-Bvv9N7eG.js","assets/oitFragment-ChfzPX4u.js","assets/pbrDebug-CMtyWzhV.js","assets/samplerFragmentDeclaration-rIS4zybV.js","assets/hdrFilteringFunctions-Bb4pUqLn.js","assets/bumpFragment-CRaozNv5.js","assets/pbr.vertex-DfO-nptB.js","assets/samplerVertexImplementation-DiSsvlxZ.js","assets/pbrUboDeclaration-8Uei0Mri.js","assets/mainUVVaryingDeclaration-CQBxKcHx.js","assets/pbrBRDFFunctions-BynRs6KH.js","assets/harmonicsFunctions-BJ6AK_51.js","assets/bumpVertexDeclaration-Ba_fNYTP.js","assets/pbr.fragment-DHofPf-U.js","assets/oitFragment-BhWDwojI.js","assets/pbrDebug-ByaoeNEV.js","assets/hdrFilteringFunctions-0B3fWm-u.js","assets/decalFragment-Xp-ivcgC.js","assets/depthPrePass-BjJZwa_d.js","assets/openpbr.vertex-BQ5hajU1.js","assets/openpbrUboDeclaration-dyVxksrO.js","assets/openpbr.fragment-Dx33pZLe.js","assets/openpbr.vertex-CEOzZYUl.js","assets/openpbrUboDeclaration-q8RLjkjL.js","assets/openpbr.fragment-DkUsN5C7.js","assets/shaderLanguage-BjwqUAVi.js","assets/exrTextureLoader-BjEiSj6K.js","assets/ddsTextureLoader-DDo5aCUV.js","assets/envTextureLoader-QcJ2RboD.js","assets/ktxTextureLoader-C0ziDRub.js","assets/tgaTextureLoader-lrjL9A91.js","assets/hdrTextureLoader-CwDDPhab.js","assets/basisTextureLoader-84FLombd.js","assets/rawCubeTexture-BVOTQyn2.js","assets/procedural.vertex-Cqum7j7o.js","assets/procedural.vertex-D-kD4LFZ.js","assets/default.fragment-CO7tL-AB.js","assets/defaultUboDeclaration-DGRSsVYQ.js","assets/default.vertex-CdSDF1ko.js","assets/default.fragment-vmS9Gbkk.js","assets/defaultUboDeclaration-DQEw16RD.js","assets/default.vertex-BiCNaRRP.js","assets/dracoDecoder-Wl4wUURs.js","assets/meshoptCompression-CD4a6bKe.js","assets/deepMerger-CDRWJQV-.js","assets/mesh.vertexData.functions-BXkNVxNr.js","assets/gaussianSplattingMesh-sQ5i2_9J.js","assets/color.fragment-u3oqERtw.js","assets/color.vertex-DoUmYsar.js","assets/lodCube.fragment-aWVyBKP8.js","assets/lod.fragment-BwMrINaZ.js","assets/lodCube.fragment-DpoQdYgl.js","assets/lod.fragment-C8pKU7cC.js","assets/reflector-BYzxzV9t.js","assets/rgbdDecode.fragment-D-IXougW.js","assets/rgbdEncode.fragment-DaOURK3J.js","assets/rgbdDecode.fragment-DbYVkfAo.js","assets/rgbdEncode.fragment-BLsK9j46.js","assets/copyTextureToTexture.fragment-DArUAs3K.js","assets/copyTextureToTexture.fragment-CuWCYIkE.js","assets/pointsCloudSystem-DSjQW1R-.js","assets/particles.fragment-Byg4LTqp.js","assets/particles.vertex-CyU8CAHp.js","assets/particles.fragment-Bjf9ZHG7.js","assets/particles.vertex-CGu0IzRp.js","assets/ssao2.fragment-DVHOnBFo.js","assets/ssao2.fragment-DZM7nsr_.js","assets/ssaoCombine.fragment-CDxGXGqi.js","assets/screenSpaceReflection2.fragment-BKFmPDMW.js","assets/screenSpaceRayTrace-DhRrsYBI.js","assets/screenSpaceReflection2Blur.fragment-DcGk42d0.js","assets/screenSpaceReflection2BlurCombiner.fragment-U7e8h0Nl.js","assets/screenSpaceReflection2.fragment-Cqj-lC3Z.js","assets/screenSpaceRayTrace-BTaWfsoI.js","assets/screenSpaceReflection2Blur.fragment-DzqsFbG4.js","assets/screenSpaceReflection2BlurCombiner.fragment-Dr_VYkIa.js","assets/kernelBlur.fragment-DwPeLo6U.js","assets/kernelBlurVaryingDeclaration-DtY_taJv.js","assets/kernelBlur.vertex-DXqgXm8-.js","assets/kernelBlur.fragment-FQDpT5DR.js","assets/kernelBlurVaryingDeclaration-DsGv2G5i.js","assets/kernelBlur.vertex-SM-i-P3T.js","assets/pass.fragment-Dh5CUMTO.js","assets/passCube.fragment-BtvKqjz5.js","assets/pass.fragment-D_YNijFX.js","assets/passCube.fragment-kxCIsyqO.js","assets/vrDistortionCorrection.fragment-DC0QJgUp.js","assets/vrDistortionCorrection.fragment-DDqbUVEw.js","assets/imageProcessing.fragment-CyBF7vQJ.js","assets/imageProcessing.fragment-DFq6WqL_.js","assets/sharpen.fragment-BvDwRAQt.js","assets/grain.fragment-BUuCbQcb.js","assets/grain.fragment-BP4Pn0zv.js","assets/chromaticAberration.fragment-EHzpDtd7.js","assets/depthOfFieldMerge.fragment-BYorvhS9.js","assets/depthOfFieldMerge.fragment-BqY5rztO.js","assets/circleOfConfusion.fragment-dUiQ2mic.js","assets/circleOfConfusion.fragment-DkyyQ7YJ.js","assets/bloomMerge.fragment-JU6eot8W.js","assets/bloomMerge.fragment-C1uxGOyX.js","assets/extractHighlights.fragment-BCI-jHQ1.js","assets/extractHighlights.fragment-B1JXJXkv.js","assets/fxaa.fragment-BblzLneX.js","assets/fxaa.vertex-AN-BrTw7.js","assets/fxaa.fragment-CIjxP3td.js","assets/fxaa.vertex-C7oBo5CG.js","assets/depth.fragment-D6RiCS99.js","assets/depth.vertex-D_2Gmmyf.js","assets/geometry.fragment-D5_n9aNI.js","assets/geometry.vertex-B8sN25dg.js","assets/boundingBoxRenderer.fragment-DT8sGiqP.js","assets/boundingBoxRendererUboDeclaration-KmNg_wC_.js","assets/boundingBoxRenderer.vertex-D0l_Q9tR.js","assets/boundingBoxRenderer.fragment-vMNsLcvT.js","assets/boundingBoxRenderer.vertex-YCGVmHt1.js","assets/line.fragment-CWxEGom2.js","assets/line.vertex-BN1qtMjW.js","assets/line.fragment-RpUuSteN.js","assets/line.vertex-B2BDDjDG.js","assets/outline.fragment-DgPkNqMz.js","assets/outline.vertex-KCQGf4ma.js","assets/outline.fragment-B3GTdXzD.js","assets/outline.vertex-Czt4h0ay.js","assets/copyTexture3DLayerToTexture.fragment-MLXBts-K.js","assets/copyTexture3DLayerToTexture.fragment-X-lpA4Cj.js","assets/iblShadowVoxelTracing.fragment-CeE51sfi.js","assets/iblShadowVoxelTracing.fragment-BWowxl2r.js","assets/iblShadowDebug.fragment-BIFXrpRg.js","assets/iblShadowDebug.fragment-BcqAd-h0.js","assets/iblShadowSpatialBlur.fragment-Dg4lnHN1.js","assets/iblShadowSpatialBlur.fragment-CRRhuVoP.js","assets/iblShadowAccumulation.fragment-C7W0_aoa.js","assets/iblShadowAccumulation.fragment-_qHvP8M0.js","assets/iblCombineVoxelGrids.fragment-Bh1MlReb.js","assets/iblCombineVoxelGrids.fragment-B6JGiPzI.js","assets/iblGenerateVoxelMip.fragment-MeOYIen-.js","assets/iblGenerateVoxelMip.fragment-o8d6brWm.js","assets/iblShadowGBufferDebug.fragment-CFl9OKMn.js","assets/iblShadowGBufferDebug.fragment-Cs-mi6cS.js","assets/iblCdfx.fragment-VZss-GUY.js","assets/iblCdfx.fragment-DZfSCGPQ.js","assets/iblCdfy.fragment-C2zmeE1y.js","assets/iblCdfy.fragment-6nkmoh-F.js","assets/iblIcdf.fragment-Cx99PEKv.js","assets/iblIcdf.fragment-D0FVTjdJ.js","assets/iblCdfDebug.fragment-ixB212gU.js","assets/iblCdfDebug.fragment-B3C6lM-d.js","assets/iblScaledLuminance.fragment-CeFKb1WK.js","assets/iblScaledLuminance.fragment-zozc-l95.js","assets/iblDominantDirection.fragment-StlMY3fm.js","assets/iblDominantDirection.fragment-wYbjIg5l.js","assets/iblVoxelGrid.fragment--Oe2q95S.js","assets/iblVoxelGrid.vertex-DtdgWv_n.js","assets/iblVoxelGrid.fragment-f7iyu33r.js","assets/iblVoxelGrid.vertex-CUvUqyTr.js","assets/iblVoxelGrid3dDebug.fragment-D9VslQfg.js","assets/iblVoxelGrid3dDebug.fragment-DT0F-pB5.js","assets/iblVoxelSlabDebug.vertex-CVwGugjP.js","assets/iblVoxelSlabDebug.fragment-C7c3Cj6I.js","assets/iblVoxelSlabDebug.vertex-DyiHcdbK.js","assets/iblVoxelSlabDebug.fragment-hT_VfIkc.js","assets/oitBackBlend.fragment-_VuG_Bgx.js","assets/oitBackBlend.fragment-zZrVVAn_.js","assets/sprites.fragment-OoMMxwB5.js","assets/sprites.vertex-2mFzUvaS.js","assets/sprites.fragment-X1ErJxrN.js","assets/sprites.vertex-R7Taf3Lg.js","assets/index-CLXl37Ln.js","assets/glTFFileLoader-B9ISL6CU.js","assets/glTFFileLoader.metadata-OBOq1nho.js","assets/glTFLoader-jzKqj077.js","assets/glTFLoaderExtensionRegistry-CaAsttEw.js","assets/objectModelMapping-Dx0zF-vh.js","assets/glTFLoaderAnimation-CWXqRPb5.js","assets/openpbrMaterialLoadingAdapter-GW2_KyxX.js","assets/pbrMaterialLoadingAdapter-Dkm_epwD.js","assets/EXT_lights_image_based-CSVoJk7m.js","assets/EXT_mesh_gpu_instancing-xftbunEd.js","assets/EXT_meshopt_compression-iey3Nb58.js","assets/EXT_texture_webp-CQAcSctN.js","assets/EXT_texture_avif-BKq2FUJA.js","assets/EXT_lights_ies-dDRj9wsV.js","assets/KHR_draco_mesh_compression-C9tF76wk.js","assets/KHR_lights_punctual-BWt-X7lO.js","assets/EXT_lights_area-BjjvKIxS.js","assets/KHR_materials_pbrSpecularGlossiness-DL3aVtnj.js","assets/KHR_materials_unlit-CJiUXzLR.js","assets/KHR_materials_clearcoat-D2_64Qxb.js","assets/KHR_materials_iridescence-CtJOY1-B.js","assets/KHR_materials_anisotropy-OeWj4ek-.js","assets/KHR_materials_emissive_strength-BXTf8IY4.js","assets/KHR_materials_sheen-B3UpJy9J.js","assets/KHR_materials_specular-BuYyH6KS.js","assets/KHR_materials_ior-CZ6Twk-P.js","assets/KHR_materials_variants-MRWZDPXT.js","assets/KHR_materials_transmission-tJlNyLSC.js","assets/KHR_materials_diffuse_transmission-7P2jwEb-.js","assets/KHR_materials_volume-CU8_BcSX.js","assets/KHR_materials_dispersion-DHLYGjTT.js","assets/KHR_materials_diffuse_roughness-Bdvp-7r3.js","assets/KHR_mesh_quantization-CjxK6obT.js","assets/KHR_texture_basisu-FYGqfjqF.js","assets/KHR_texture_transform-BhsunLii.js","assets/KHR_xmp_json_ld-B0Z0oIOX.js","assets/KHR_animation_pointer-2CISVV6X.js","assets/MSFT_audio_emitter-CbUkNA72.js","assets/MSFT_lod-C607ZNVe.js","assets/MSFT_minecraftMesh-B4q8qgPf.js","assets/MSFT_sRGBFactors-mMceF-kh.js","assets/KHR_interactivity-BYA6cJXM.js","assets/declarationMapper-uBcXtLjc.js","assets/KHR_node_visibility-Bf5Xd3A7.js","assets/KHR_node_selectability-BbnyqjeD.js","assets/KHR_node_hoverability-D5xedWnO.js","assets/ExtrasAsMetadata-BQpptQVd.js","assets/index-BDBh4hNt.js","assets/index-BH-fCFPW.js","assets/index-Cr51wrZA.js","assets/index.es-dK06k4Ie.js","assets/botd.esm-CqBqtDMb.js","assets/temporary-conversation-ChJ3QkFR.js","assets/init-CtXbh1Xc.js","assets/message-item-registry-BMqMIyZy.js","assets/index-BhGCC1CQ.js","assets/sidebar-settings-dmZXloKS.js","assets/info-ijOkr51Z.js","assets/settings-button-CwgBz2He.js","assets/settings-C0vunB8-.js","assets/settings-BGognPWo.js","assets/settings-personality-adjustment-menu-BcbnBlNN.js","assets/use-is-memory-management-enabled-D537zyr8.js","assets/settings-state-DEpdkric.js","assets/delete-BLFfngW8.js","assets/wallet-schemas-B_8blZjl.js","assets/utils-Blo7475J.js","assets/order-details-view-B5hLsfiI.js","assets/variants-selection-screen-DPBaGSUq.js","assets/index-Chjiymov.js","assets/1ds-analytics-js-BQ_ODquZ.js","assets/card-info---AWh3P9.js","assets/visa-Bh8dqaXO.js","assets/fee-tooltip-DWOvrzlL.js","assets/product-info-DfiwflQL.js","assets/pidl-pages-OxHxt_I3.js","assets/add-c9oPltsW.js","assets/subtract-woi4YVEN.js","assets/atoms-BcPg82FU.js","assets/shipping-address-BknQ4CEA.js","assets/tracked-product-settings-DMabUjkb.js","assets/use-price-tracking-DNMic_Z5.js","assets/buy-button-BDEDwcfq.js","assets/use-checkout-modal-CwRY2IFt.js","assets/shopping-telemetry--CrURMNf.js","assets/shopping-utils-DWHovIwf.js","assets/format-money-DXk9Rllb.js","assets/shopping-api-DCcuo-9l.js","assets/conversion-tracking-disclaimer-CYZz9b8W.js","assets/use-ocv-feedback-D78AIJCh.js","assets/use-set-first-name-CgrzZd-X.js","assets/use-sync-user-name-CHHGeo4j.js","assets/moon-Bz583Lcz.js","assets/sun-Cuz15BqO.js","assets/task-manager-BDFh15Ze.js","assets/wallet-element-factory-CbZ3-_sh.js","assets/disconnect-C1h544p6.js","assets/use-dismiss-event-DOx8G0L9.js","assets/sidebar-pages-BbQuu96O.js","assets/sidebar-projects-CHMtgeoO.js","assets/folder-add-CfxpKxJg.js","assets/project-more-menu-DV6FDB0w.js","assets/project-item-delete-modal-D1cGADAS.js","assets/rename-BqCjwh2H.js","assets/sidebar-tasks-D-Eiv7ER.js","assets/task-telemetry-BY4LeBnr.js","assets/check-circle-color-DgYtipr1.js","assets/use-prefetch-artifact-BiKyVYWb.js","assets/type-guards-CpYKGP61.js","assets/sidebar-groups-tyvCtdjI.js","assets/people-add-STTokBtu.js","assets/conversations-BnWZwkuq.js","assets/arrow-forward-BGYAdqGf.js","assets/door-arrow-left-Do09tzFt.js","assets/edit-line-horizontal-BOmCT4yY.js","assets/shield-error-DJGxqCax.js","assets/use-get-link-3oaY2SFa.js","assets/use-group-chat-Q1YskJfW.js","assets/use-leave-group-l-ZJ5P6k.js","assets/people-DztuF7Jr.js","assets/open-B2Kw2oFS.js","assets/use-m365-product-name-DDjfLs4X.js","assets/use-tasks-BtvFMWGf.js","assets/use-rename-conversation-BvkMquxM.js","assets/use-list-key-down-Ch1PE1rY.js","assets/sidebar-search-content-FrC4yQyi.js","assets/composer-auto-complete-MCQsXa2i.js","assets/index-D4vkuPZs.js","assets/add-accessory-items-DBeEP0Q5.js","assets/game-manager-factory-BWNSd5gV.js","assets/starter-prompt-category-DtCu6Jjj.js","assets/mode-specific-card-widget-section-CSEPhQe6.js","assets/composer-actions-prompt-suggestions-BSb99AfC.js","assets/composer-prompt-suggestions-Drkw48r4.js","assets/composer-file-upload-prompt-suggestions-MO3pU4TL.js","assets/character-CiEsLcwC.js","assets/use-set-up-babylon-CAPjKAFj.js","assets/upsell-block-t7OLquaQ.js","assets/price-tracking-block-C7GhvYod.js","assets/use-shopping-telemetry-DTF5Ccly.js","assets/chevron-bolded-CmWlX5Za.js","assets/over-task-quota-Dy2dYoAt.js","assets/composer-action-DFtP-4lY.js","assets/turn-limit-light-BSAxF8jC.js","assets/computer-use-task-closed-BUvU8VhS.js","assets/arrow-export-CKEmu_GP.js","assets/arrow-import-C75FTsJm.js","assets/settings-Uk8RN5zV.js","assets/speed-B_GhM_ts.js","assets/audio-controls-CeE0Y0cc.js","assets/pause-CyrbxMuS.js","assets/play-C5bDCLwM.js","assets/progress-bar-D4L_6W7T.js","assets/close-button-GE-ElQHs.js","assets/replay-DLu4Dkms.js","assets/safety-risk-card-CH8PdnzE.js","assets/add-to-page-j1GPM558.js","assets/composer-prompt-review-Ljcu9GDF.js","assets/biometric-consent-CukC-0oy.js","assets/composer-sign-in-C81PaTaW.js","assets/merge-conversation-checkbox-BOr36wul.js","assets/character-talk-XDvmj8A7.js","assets/use-appearance-first-run-experience-animation-CgGvw9Dr.js","assets/appearance-analytics-adapter-CoNHRshv.js","assets/appearance-component-wrapper-DTtW5Xap.js","assets/use-appearance-preload-behind-modal-RtzOs1nB.js","assets/seeded-random-BCTrK8XC.js","assets/document-code-32-Cg76bsZ3.js","assets/document-csv-32-Dj33eixE.js","assets/document-dotx-32-CjSZxTbe.js","assets/document-excel-32-BH_sfT7Q.js","assets/document-generic-32-Df19HED7.js","assets/document-html-32-BFS-Oe1f.js","assets/document-onenote-32-BqCW8N6s.js","assets/document-pdf-32-SfwH3FEa.js","assets/document-photo-32-23Dls2yS.js","assets/document-potx-32-DHqZ9Ls_.js","assets/document-ppsx-32-B732juiz.js","assets/document-ppt-32-D0mfgCKu.js","assets/document-project-32-Dp_Ebvu2.js","assets/document-rtf-32-RkzJ2vTq.js","assets/document-toc-32-BXvqwuiG.js","assets/document-txt-32-F-fV3-rh.js","assets/document-word-32-B7SS0owB.js","assets/document-xltx-32-D5SMBiZo.js","assets/document-xml-32-Ch2vnlXo.js","assets/daily-briefing-composer-player-D8Jj4qqn.js","assets/sum-TKy2wozW.js","assets/composer-voice-ui-W3dqrwWk.js","assets/microphone-mute-hFY-Y57t.js","assets/arrow-highlighter-foTV_MKm.js","assets/settings-wrapper-C6UEjb6w.js","assets/media-viewer-Fujxjoay.js","assets/media-carousel-Bxm4jY0j.js","assets/async-image-wrapper-p34g0IMj.js","assets/utils-lWjMNvFA.js","assets/picture-in-picture-BNil719r.js","assets/video-player-BJBbJ-1N.js","assets/native-player-B7e9N-tG.js","assets/app-modals-U7v3eCfe.js","assets/activity-artifacts-drawer-CCwYcwaL.js","assets/research-progress-step-content-D6a-7fsH.js","assets/copy-3vcT0r1s.js","assets/power-point-Y-714WLt.js","assets/markdown-CkZYtiND.js","assets/block-renderer-DFiJacS1.js","assets/citation-BRgHjNtC.js","assets/globe-BT0rayJK.js","assets/use-text-to-content-blocks-o0Gx1vYX.js","assets/content-blocks-BWTEGT1e.js","assets/hljs-utils-BKa23oyi.js","assets/animation-delay-S_S_hiZw.js","assets/citation-CNsRWbYf.js","assets/link-filled-0Y0fFGgf.js","assets/lock-BF4gtplw.js","assets/shield-checkmark-DxB5p-bK.js","assets/research-progress-steps-CAL2QI5D.js","assets/use-start-new-chat-with-prompt-DN-ExYT_.js","assets/copy-filled-C9oG815D.js","assets/sharing-schemas-BUgdyyex.js","assets/invite-action-4cwY434f.js","assets/use-create-link-DW3oYZsI.js","assets/sender-share-modal-copy-button-DDpv_wdk.js","assets/link-fWIF3a7u.js","assets/check-circle-D5k62yM3.js","assets/key-BJZ_J5ee.js","assets/consents-B-CrFZD8.js","assets/source-item-vZABUjLk.js","assets/clock-DrcvpL6l.js","assets/location-filled-CgSgJW3Q.js","assets/attachment-C4aPD440.js","assets/calendar-tO-rVr-s.js","assets/calendar-date-pad-kluF9iJ3.js","assets/labs_-Dpnu6sYe.js","assets/index-DyHKaZDu.js","assets/shopping-starter-card-B13_W1fF.js","assets/sse-stream-reader-Bp8FndSr.js","assets/use-shopping-duration-telemetry-jyECBQHt.js","assets/use-track-product-kfsYkMv9.js","assets/bell-filled-DTrPkFiW.js","assets/bell-DrXxAUqO.js","assets/star-filled-gcd8jYjn.js","assets/use-shopping-visibility-telemetry-BZwpYFRh.js","assets/inline-button-BC3pHng7.js","assets/citation-chips-row-BjEqVKOa.js","assets/arrow-up-right-CHObbA6Z.js","assets/arrow-trending-down-DwZiy14f.js","assets/price-history-chart-Bmtsej9g.js","assets/CategoricalChart-CGmK-qya.js","assets/decimal-ZKFLnszB.js","assets/CartesianChart-DfFRgjA3.js","assets/Tooltip-BEoJmuF2.js","assets/ReferenceDot-JivHaDJ3.js","assets/rich-card-actions-B0c2ESQl.js","assets/appearance-chat-wryrGVQ-.js","assets/entry-button-MUl4Wvu6.js","assets/chat-empty-BsZudA-p.js","assets/shares._conversationId-pSZqSzoq.js","assets/_galleryItemId-A2Xi8stb.js","assets/gallery-schemas-BwqIrq_g.js","assets/character-deprecation-modal-BONNtlKz.js","assets/ai-message-DWP8cQa4.js","assets/use-message-reaction-data-Vzu8pfuB.js","assets/chain-of-thought-steps-C17L40Kt.js","assets/markdown-ic5HwMRG.js","assets/index.browser-CSyNuWKJ.js","assets/research-final-response-B9J_6UiS.js","assets/citations-CUkSMLPk.js","assets/citation-card-BGkNCyfx.js","assets/executable-web-artifacts-sandbox-BF1SR_zE.js","assets/user-content-sandbox-bridge-BSEe9F_P.js","assets/progress-bar-optimistic-BBsuJMA3.js","assets/cube-Cwtq2OTV.js","assets/printer-3d-vyxzba46.js","assets/arrow-maximize-D9kpam3G.js","assets/podcast-DaxV8DDt.js","assets/use-podcast-share-OdNZ1B35.js","assets/use-podcasts-navigation-DU6fHqG2.js","assets/use-research-navigation-DXt9Gy2o.js","assets/arrow-counter-clockwise-qW5uqJMZ.js","assets/text-code-DKAcslsL.js","assets/types-S47nI6MK.js","assets/regenerate-button-jVQ_zB-B.js","assets/arrow-refresh-16sjHDog.js","assets/edit-line-horizontal-DcI4Q7tF.js","assets/thumbs-up-_qnyL22j.js","assets/text-length-reduce-BwFgoq3x.js","assets/use-ads-card-operations-BxvVib6J.js","assets/reaction-utils-BgIyGXzw.js","assets/topic-selection.lazy-DzzWP0WT.js","assets/login.lazy-C82f64JU.js","assets/imagine._galleryItemId.lazy--v8oMn3r.js","assets/bing-images-D-wXHlKc.js","assets/heart-filled-CPY5gz1A.js","assets/heart-DbJsxIir.js","assets/separator-Bk1vOwyD.js","assets/model-viewer-3d-BWvghJyT.js","assets/cube-filled-C7RW4M3t.js","assets/share-url-modal-CRBgQzIH.js","assets/sender-share-modal-cta-with-social-media-C7nkMs9t.js","assets/use-composer-file-upload-BKD-P0Gd.js","assets/paperclip-DvhJZYIw.js","assets/agents.lazy-BR5Kazsf.js","assets/tasks.lazy-mt3fTLSq.js","assets/task-composer-ChUL_i8N.js","assets/consent-utils-D3xkCH-T.js","assets/radio-indicator-DRmjvC8v.js","assets/task-chat-mode-state-BujyG_HQ.js","assets/use-onedrive-loader-Cb6RYZ3I.js","assets/form-fill-card-cTQmwgbi.js","assets/task-composer-state-COyvOYRo.js","assets/task-landing-scroll-context-Oqj7_k0d.js","assets/edit-CCBP2jEb.js","assets/toggle-button-group-CP0g3od8.js","assets/shopping.lazy-BCmSs2-f.js","assets/bell-alert-Dh9veLNJ.js","assets/card-carousel-Bpz2ZgCM.js","assets/use-carousel-Bt2G-ehM.js","assets/use-product-details-entrypoint-BJMUdtUe.js","assets/chat-CCSC6akP.js","assets/options-b4KIb97-.js","assets/price-tracking-modal-Dx5jo48H.js","assets/use-conversation-panel-2-GuFH0W.js","assets/use-should-show-conversation-panel-as-modal-8yvRMeC4.js","assets/conversation-panel-_i1o2NdF.js","assets/vnc-view-CgO1eLnf.js","assets/healthcare-entity-panel-CISU0KKk.js","assets/healthcare-telemetry-CducBPJw.js","assets/animated-panel-container-BDQkHHET.js","assets/library.lazy-DC1AubRf.js","assets/formatDistanceToNow-DdieEgKu.js","assets/en-US-CX2OYmwH.js","assets/parseISO-x9DaGP7v.js","assets/slide-text-CzOYl6OK.js","assets/use-delete-library-item-CWVDAr-y.js","assets/onedrive-constants-D_sgFmww.js","assets/page-share-modal-BNQOauo1.js","assets/document-pdf-CD9agbNi.js","assets/word-BvYoTGFl.js","assets/page-delete-modal-CRrYAOmy.js","assets/shared-page-delete-modal-DAu3BMWt.js","assets/secondsToMinutes-CO0VTFXC.js","assets/research-CJ9okXaO.js","assets/task-share-modal-D6-AZT2U.js","assets/tasks-schemas-BOuXVcgn.js","assets/health.lazy-DP5grorJ.js","assets/chat-multiple-IMof0bwC.js","assets/heart-pulse-gradient-C0PIchij.js","assets/gaming.lazy-Cf7izyAw.js","assets/use-labs-telemetry-D7GpTav-.js","assets/daily.lazy-DWLE3PyF.js","assets/daily-briefing-BaWow-LZ.js","assets/use-scroll-element-into-view-Bw_qS2q9.js","assets/arrow-minimize-pk23ACo8.js","assets/use-is-portrait-CTZV7fZ5.js","assets/wand-2_Pi-Rpw.js","assets/use-discover-feed-cCcl6HfJ.js","assets/index.lazy-BowyMI7r.js","assets/index-Xzh0nnXA.js","assets/labs-social-icon-discord-DazMVfBj.js","assets/subscription.start.lazy-C74DelTe.js","assets/subscription.pricing.lazy-CbdM4AsW.js","assets/checkout-wrapper-BrdEFoEf.js","assets/constants-CcWGPmh3.js","assets/add-address-CTs8eFd-.js","assets/address-CApXHEXp.js","assets/pidl-element-factory-BqjADL91.js","assets/workflow-pi-dropdown-disabler-B7xMhD-W.js","assets/react-number-format.es-DJglc4n-.js","assets/dropdown-radio-BN3dYnqV.js","assets/credit-card-CXsVl18q.js","assets/wallet-dropdown-DMalmQvz.js","assets/wallet-list-CB_Gm2iQ.js","assets/wallet-dropdown-expanded-title-BXteAi72.js","assets/paypal-CEtuBvxo.js","assets/pidl-element-factory-SYC29XA1.css","assets/add-address-view--vICXPti.js","assets/form-field-skeleton-BePnjRgi.js","assets/add-payment-instrument-CxVo0WXs.js","assets/add-payment-instrument-view-BgawL7qT.js","assets/add-ewallet-skeleton-BrZlO6DI.js","assets/select-payment-instrument-DyI2EXPE.js","assets/start-line-ARBDuQzv.js","assets/paywall-container-oe_O6xwO.js","assets/links-Dni7RpGn.js","assets/subscription-benefit-list-5VfLohlt.js","assets/apps-CkzdRdpd.js","assets/checklist-DHBXUobI.js","assets/cloud-DAI3fQ9f.js","assets/shield-D3V6ykx2.js","assets/subscription.pricing-jQX9gqYg.css","assets/subscription.manage.lazy-DOhUc65y.js","assets/tasks.lazy-Cwm-wsHJ.js","assets/research._researchId.lazy-B0P5i-87.js","assets/task-error-CZ2KttZn.js","assets/e.sol.lazy-CEELB_pf.js","assets/e.so.lazy-MCHvVfQC.js","assets/connector.callback.lazy-otMKFWef.js","assets/campaigns._campaignId.lazy-DPLcxy1V.js","assets/tasks_._conversationId.lazy-BSKHniVQ.js","assets/telemetry-DzvvwT2h.js","assets/arrow-undo-dxzOZgqQ.js","assets/constants-CpKVsmrx.js","assets/constants-mJVxbJVY.js","assets/code-cRUpzu1r.js","assets/eye-DarHUrUG.js","assets/expand-CRm_yVkU.js","assets/artifact-utils-BvqWTfwz.js","assets/document-one-page-B0wp_ylU.js","assets/panel-right-contract-BbUdoDkp.js","assets/panel-right-expand-wBZuTCF4.js","assets/consent-connector-mapping-Dh2F29eP.js","assets/shares._conversationId.lazy-D9z3M_yo.js","assets/projects._projectId.lazy-rPDzVZyl.js","assets/use-project-hjgKAHku.js","assets/flash-card-Bx2japq3.js","assets/quiz-B-bmcKT8.js","assets/text-bullet-list-square-sparkle-BufR7_5g.js","assets/text-list-abc-sVwSO0Xx.js","assets/format-date-CVr-vFBA.js","assets/library-Db8i9JW7.js","assets/editable-title-Cc2a-N6a.js","assets/page-error-BW8S8h6m.js","assets/partners.feedback.lazy-BxqPJEHt.js","assets/index-hZPYaZ3-.js","assets/pages._pageId.lazy-C1b66vFb.js","assets/use-copy-page-BYrW-KTt.js","assets/editor-selection-utils-CZJvdGPT.js","assets/text-bold-Dz_3Es8u.js","assets/text-bullet-list-CzrnXPLY.js","assets/text-italic-BpYmCX6o.js","assets/text-numbered-list-yc-mV8fv.js","assets/text-paragraph-DxbLVq9v.js","assets/use-ensure-authenticated-CqsfxKPD.js","assets/arrow-enter-up-55xNXV8E.js","assets/thumbs-down-filled-CqIElg_4.js","assets/thumbs-up-filled-C5QOku5E.js","assets/use-emit-page-loaded-2C_TfSFo.js","assets/use-page-back-BmJ20DSV.js","assets/use-copy-page-BAjD-LHh.css","assets/copy-add-DcFiF0M3.js","assets/chats._conversationId.lazy-h4Gzkg4o.js","assets/use-chat-details-enabled-DAGUFOS4.js","assets/index.lazy-_HR6J1bv.js","assets/constants-ZwPsfkiF.js","assets/arrow-loop-YWWq3wmW.js","assets/index.lazy-BS9NWKJF.js","assets/portrait-gallery-CRTUGLU_.js","assets/consent-modal-gQ37b_jN.js","assets/portrait-cache-CbVRksPO.js","assets/portrait-header-1SjHdHGq.js","assets/use-start-portrait-chat-CVzStLAT.js","assets/mock-interview.lazy-pCveDyoT.js","assets/index.lazy-yMYAZZgl.js","assets/labs-badge-4wMOSdw1.js","assets/subscription.redeem.enel.lazy-BMMbnqDc.js","assets/subscription.ewallet.return.lazy-BhVs4pPQ.js","assets/shares.tasks._shareId.lazy-D9_MXdo8.js","assets/powerpoint-DrzCDF7m.js","assets/shares.podcasts._shareId.lazy-Bo9o2eNn.js","assets/podcasts._podcastType._podcastId.lazy-P63bGNhp.js","assets/gallery.lazy-B787pFdR.js","assets/discover._-_modalType_._-_modalId_.lazy-BnskadgD.js","assets/fetch-entire-history-for-conversation-DmpzwVEw.js","assets/shares.pages._shareId.lazy-CmZrwpCr.js","assets/shares.artifacts._shareId.lazy-DL7H913z.js","assets/artifact-sharing-schemas-DdNTYbbP.js","assets/slide-control-bar-nmsQf9cc.js","assets/color-palette-CzGgEWuD.js","assets/shares.3d-generations._shareId.lazy-DCKfO7_w.js","assets/use-sidebar-position-C8_9A8FL.js","assets/summary.lazy-BuQMq0P5.js","assets/debate.lazy-Bo3WeBWf.js","assets/stop-circle-DyE7Zx1W.js","assets/talk.lazy-B-cY0lUb.js","assets/audio-call-E4bgipIu.js","assets/timer-BwJu9tpo.js","assets/experiments._experimentAlias.lazy-Dh7pSXSn.js","assets/health_.chats._conversationId.lazy-DRY6a4GU.js","assets/conversations.join._token.lazy-C0JXQUfF.js","assets/chats_._conversationId.talk.lazy-D8tPViHg.js","assets/index.lazy-CQpuT4nJ.js","assets/self-portrait-api-C7r3zzwF.js","assets/my-creations.lazy-foFLM9Ey.js","assets/magnifier-SIG0g2EK.js","assets/use-responsive-masonry-B36TPbzC.js","assets/use-window-size-COUIjO3c.js","assets/cube-add-CHZ2NktG.js","assets/my-creations-BiEk7v8n.css","assets/create.lazy-kk-lQh5W.js","assets/projects_._projectId.chats._conversationId.lazy-CDashXMA.js","assets/practice.chats._conversationId.messages._messageId.parts._partId.lazy-BN-Vdqi9.js"])))=>i.map(i=> __get$(d,i) );
import{b3 as E7,r as u,j as i,_ as D,b4 as w7,b5 as T7,o as f,y as wt,s as l,b6 as x7,C as J,l as g,h as P,b7 as A7,b8 as _7,v as tn,g as q,aa as nd,A as H,B as Pt,n as A,d as de,e as T,f as V,b9 as ts,ba as Ca,bb as k7,bc as yy,ab as $r,bd as L2,be as Os,bf as D2,bg as Ll,z as od,a2 as P7,q as _e,ak as ec,bh as M7,u as M,bi as R7,Y as bc,bj as Qo,bk as N7,bl as Cy,p as st,bm as L7,bn as D7,aq as tc,N as sd,H as Ic,I as Ec,Q as wc,F as Tc,bo as O7,bp as U7,K as xc,L as ad,M as rd,G as qr,c as Y,a as Fo,t as U,w as id,aD as F7,aC as j7,ae as B7,aE as V7,aM as Sy,aN as H7,aO as z7,a5 as Hh,af as G7,ac as O2,b as Re,bq as W7,D as zh,m as cd,W as U2,T as fn,E as ld,J as Gh,S as Wh,ao as $7,br as q7,P as $h,ag as K7,bs as Y7,aF as Z7,aG as Ti,ah as J7,bt as Q7,a8 as X7,bu as e8,k as t8,R as af,bv as n8,bw as o8,bx as s8,by as a8,bz as r8,O as F2,bA as i8,V as xe,bB as c8,bC as j2,aH as l8,aI as Zm,a7 as B2,i as V2,bD as u8,bE as d8,ar as by,am as m8,bF as p8}from "https://paperbacks-hospitality-usd-much.trycloudflare.com:443/44ff4de867f74be7a275d2b82b33694d!s!utf-8/https://copilot.microsoft.com/static/cmc/assets/vendor-DPgRuOk0.js" ;import{r as Aa,e as H2,g as Sa,I as Jm,a as f8,s as ud}from "https://paperbacks-hospitality-usd-much.trycloudflare.com:443/44ff4de867f74be7a275d2b82b33694d!s!utf-8/https://copilot.microsoft.com/static/cmc/assets/msal-CEiIZ22R.js" ;E7({jitless:!0});const z2=u.createContext({});function rs(e){const t=u.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ac=u.createContext(null),ba=u.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class h8 extends u.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const o=n.offsetParent,s=o instanceof HTMLElement&&o.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function g8( _hh$temp0 ){ var e=_hh$temp0.children,t=_hh$temp0.isPresent,n=_hh$temp0.anchorX;  const o=u.useId(),s=u.useRef(null),a=u.useRef({width:0,height:0,top:0,left:0,right:0}),_hh$temp1=u.useContext(ba),r=_hh$temp1.nonce; return u.useInsertionEffect(()=>{ const _hh$temp2=a.current,c=_hh$temp2.width,d=_hh$temp2.height,m=_hh$temp2.top,p=_hh$temp2.left,h=_hh$temp2.right; if(t||!s.current||!c||!d)return;const v=n==="left"?`left: ${p}`:`right: ${h}`;s.current.dataset.motionPopId=o;const y=document.createElement("style");return r&&(y.nonce=r),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[t]),i.jsx(h8,{isPresent:t,childRef:s,sizeRef:a,children:u.cloneElement(e,{ref:s})})}const v8=( _hh$temp3 )=>{ var e=_hh$temp3.children,t=_hh$temp3.initial,n=_hh$temp3.isPresent,o=_hh$temp3.onExitComplete,s=_hh$temp3.custom,a=_hh$temp3.presenceAffectsLayout,r=_hh$temp3.mode,c=_hh$temp3.anchorX; const d=rs(y8),m=u.useId(),p=u.useCallback(v=>{d.set(v,!0);for(const y of d.values())if(!y)return;o&&o()},[d,o]),h=u.useMemo(()=>({id:m,initial:t,isPresent:n,custom:s,onExitComplete:p,register:v=>(d.set(v,!1),()=>d.delete(v))}),a?[Math.random(),p]:[n,p]);return u.useMemo(()=>{d.forEach((v,y)=>d.set(y,!1))},[n]),u.useEffect(()=>{!n&&!d.size&&o&&o()},[n]),r==="popLayout"&&(e=i.jsx(g8,{isPresent:n,anchorX:c,children:e})),i.jsx(Ac.Provider,{value:h,children:e})};function y8(){return new Map}function C8(e=!0){const t=u.useContext(Ac);if(t===null)return[!0,null]; const _hh$temp4=t,n=_hh$temp4.isPresent,o=_hh$temp4.onExitComplete,s=_hh$temp4.register,a=u.useId(); u.useEffect(()=>{if(e)return s(a)},[e]);const r=u.useCallback(()=>e&&o&&o(a),[a,o,e]);return!n&&o?[!1,r]:[!0]}function kwe(){return S8(u.useContext(Ac))}function S8(e){return e===null?!0:e.isPresent}const Dl=e=>e.key||"";function Iy(e){const t=[];return u.Children.forEach(e,n=>{u.isValidElement(n)&&t.push(n)}),t}const G2=typeof window<"u",_c=G2?u.useLayoutEffect:u.useEffect,bt=( _hh$temp5 )=>{ var e=_hh$temp5.children,t=_hh$temp5.custom,_hh$temp5$initial=_hh$temp5.initial,n=_hh$temp5$initial===void 0?!0:_hh$temp5$initial,o=_hh$temp5.onExitComplete,_hh$temp5$presenceAffectsLayout=_hh$temp5.presenceAffectsLayout,s=_hh$temp5$presenceAffectsLayout===void 0?!0:_hh$temp5$presenceAffectsLayout,_hh$temp5$mode=_hh$temp5.mode,a=_hh$temp5$mode===void 0?"sync":_hh$temp5$mode,_hh$temp5$propagate=_hh$temp5.propagate,r=_hh$temp5$propagate===void 0?!1:_hh$temp5$propagate,_hh$temp5$anchorX=_hh$temp5.anchorX,c=_hh$temp5$anchorX===void 0?"left":_hh$temp5$anchorX;  const _hh$temp6=__arrayFrom$(C8(r)),d=_hh$temp6[0],m=_hh$temp6[1],p=u.useMemo(()=>Iy(e),[e]),h=r&&!d?[]:p.map(Dl),v=u.useRef(!0),y=u.useRef(p),C=rs(()=>new Map()),_hh$temp7=__arrayFrom$(u.useState(p)),S=_hh$temp7[0],b=_hh$temp7[1],_hh$temp8=__arrayFrom$(u.useState(p)),I=_hh$temp8[0],x=_hh$temp8[1]; _c(()=>{v.current=!1,y.current=p;for(let w=0;w<I.length;w++){const _=Dl( __get$(I,w) );h.includes(_)?C.delete(_):C.get(_)!==!0&&C.set(_,!1)}},[I,h.length,h.join("-")]);const E=[];if(p!==S){let w=[...p];for(let _=0;_<I.length;_++){const N= __get$(I,_) ,L=Dl(N);h.includes(L)||(w.splice(_,0,N),E.push(N))}return a==="wait"&&E.length&&(w=E),x(Iy(w)),b(p),null} const _hh$temp9=u.useContext(z2),k=_hh$temp9.forceRender; return i.jsx(i.Fragment,{children:I.map(w=>{const _=Dl(w),N=r&&!d?!1:p===I||h.includes(_),L=()=>{if(C.has(_))C.set(_,!0);else return;let B=!0;C.forEach(F=>{F||(B=!1)}),B&&(k?.(),x(y.current),r&&m?.(),o&&o())};return i.jsx(v8,{isPresent:N,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:a,onExitComplete:N?void 0:L,anchorX:c,children:w},_)})})},Us=e=>e;let b8=Us,W2=Us;const rf={skipAnimations:!1,useManualTiming:!1},Ol=["read","resolveKeyframes","update","preRender","render","postRender"];function I8(e,t){let n=new Set,o=new Set,s=!1,a=!1;const r=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){r.has(p)&&(m.schedule(p),e()),p(c)}const m={schedule:(p,h=!1,v=!1)=>{const C=v&&s?n:o;return h&&r.add(p),C.has(p)||C.add(p),p},cancel:p=>{o.delete(p),r.delete(p)},process:p=>{ var _hh$temp10; if(c=p,s){a=!0;return}s=!0, _hh$temp10=[o,n],n=_hh$temp10[0],o=_hh$temp10[1],_hh$temp10 ,n.forEach(d),n.clear(),s=!1,a&&(a=!1,m.process(p))}};return m}const E8=40;function $2(e,t){let n=!1,o=!0; const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,r=Ol.reduce((I,x)=>(__set$(I,x,I8(a)),I),{}),_hh$temp11=r,c=_hh$temp11.read,d=_hh$temp11.resolveKeyframes,m=_hh$temp11.update,p=_hh$temp11.preRender,h=_hh$temp11.render,v=_hh$temp11.postRender,y=()=>{const I=rf.useManualTiming?s.timestamp:performance.now();n=!1,rf.useManualTiming||(s.delta=o?1e3/60:Math.max(Math.min(I-s.timestamp,E8),1)),s.timestamp=I,s.isProcessing=!0,c.process(s),d.process(s),m.process(s),p.process(s),h.process(s),v.process(s),s.isProcessing=!1,(n&&t)&&(o=!1,e(y));},C=()=>{n=!0,o=!0,s.isProcessing||e(y);}; return{schedule:Ol.reduce((I,x)=>{const E= __get$(r,x) ;return  __set$(I,x,(k,w=!1,_=!1)=>(n||C(),E.schedule(k,w,_))) ,I},{}),cancel:I=>{for(let x=0;x<Ol.length;x++) __get$(r,__get$(Ol,x)) .cancel(I)},state:s,steps:r}} const _hh$temp12=$2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Us,!0),Ln=_hh$temp12.schedule,dd=_hh$temp12.cancel,nc=_hh$temp12.state,Pwe=_hh$temp12.steps,qh=u.createContext({strict:!1}),Ey={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cu={}; for(const e in Ey) __set$(Cu,e,{isEnabled:t=>__get$(Ey,e).some(n=>!!__get$(t,n))}) ;function cf(e){for(const t in e) __set$(Cu,t,{...__get$(Cu,t),...__get$(e,t)}) }function w8( _hh$temp13 ){ var e=_hh$temp13.children,t=_hh$temp13.features,_hh$temp13$strict=_hh$temp13.strict,n=_hh$temp13$strict===void 0?!1:_hh$temp13$strict;  const _hh$temp14=__arrayFrom$(u.useState(!Qm(t))),o=_hh$temp14[1],s=u.useRef(void 0); if(!Qm(t)){ const _hh$temp15=t,a=_hh$temp15.renderer,r=__rest$Object(_hh$temp15,["renderer"]); s.current=a,cf(r)}return u.useEffect(()=>{Qm(t)&&t().then(( _hh$temp16 )=>{ var a=_hh$temp16.renderer,r=__rest$Object(_hh$temp16,["renderer"]); cf(r),s.current=a,o(!0)})},[]),i.jsx(qh.Provider,{value:{renderer:s.current,strict:n},children:e})}function Qm(e){return typeof e=="function"}const T8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Su(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||T8.has(e)}let q2=e=>!Su(e);function K2(e){e&&(q2=t=>t.startsWith("on")?!Su(t):e(t))}try{K2(require("@emotion/is-prop-valid").default)}catch{}function x8(e,t,n){const o={};for(const s in e)s==="values"&&typeof e.values=="object"||(q2(s)||n===!0&&Su(s)||!t&&!Su(s)||e.draggable&&s.startsWith("onDrag"))&&( __set$(o,s,__get$(e,s)) );return o}function Y2( _hh$temp17 ){ var e=_hh$temp17.children,t=_hh$temp17.isValidProp,n=__rest$Object(_hh$temp17,["children","isValidProp"]); t&&K2(t),n={...u.useContext(ba),...n},n.isStatic=rs(()=>n.isStatic);const o=u.useMemo(()=>n,[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return i.jsx(ba.Provider,{value:o,children:e})}function A8(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...o)=>e(...o);return new Proxy(n,{get:(o,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const md=u.createContext({});function Z2(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function lf(e){return typeof e=="string"||Array.isArray(e)}const _8=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],k8=["initial",..._8];function Kh(e){return Z2(e.animate)||k8.some(t=>lf( __get$(e,t) ))}function P8(e){return!!(Kh(e)||e.variants)}function M8(e,t){if(Kh(e)){ const _hh$temp18=e,n=_hh$temp18.initial,o=_hh$temp18.animate; return{initial:n===!1||lf(n)?n:void 0,animate:lf(o)?o:void 0}}return e.inherit!==!1?t:{}}function R8(e){ const _hh$temp19=M8(e,u.useContext(md)),t=_hh$temp19.initial,n=_hh$temp19.animate; return u.useMemo(()=>({initial:t,animate:n}),[wy(t),wy(n)])}function wy(e){return Array.isArray(e)?e.join(" "):e}const N8=Symbol.for("motionComponentSymbol");function J2(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function L8(e,t,n){return u.useCallback(o=>{o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n&&(typeof n=="function"?n(o):J2(n)&&(n.current=o))},[t])} const Q2=e=>__call$(e,"replace",[/([a-z])([A-Z])/gu,"$1-$2"]).toLowerCase(),D8="framerAppearId",O8="data-"+Q2(D8),_hh$temp20=$2(queueMicrotask,!1),U8=_hh$temp20.schedule,F8=u.createContext({}); function j8(e,t,n,o,s){var a,r; const _hh$temp21=u.useContext(md),c=_hh$temp21.visualElement,d=u.useContext(qh),m=u.useContext(Ac),p=u.useContext(ba).reducedMotion,h=u.useRef(null); o=o||d.renderer,!h.current&&o&&(h.current=o(e,{visualState:t,parent:c,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const v=h.current,y=u.useContext(F8);v&&!v.projection&&s&&(v.type==="html"||v.type==="svg")&&B8(h.current,n,s,y);const C=u.useRef(!1);u.useInsertionEffect(()=>{v&&C.current&&v.update(n,m)});const S= __get$(n,O8) ,b=u.useRef(!!S&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,S))&&((r=window.MotionHasOptimisedAnimation)===null||r===void 0?void 0:r.call(window,S)));return _c(()=>{v&&(C.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),U8.render(v.render),b.current&&v.animationState&&v.animationState.animateChanges())}),u.useEffect(()=>{v&&(!b.current&&v.animationState&&v.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)===null||I===void 0||I.call(window,S)}),b.current=!1))}),v}function B8(e,t,n,o){ const _hh$temp22=t,s=_hh$temp22.layoutId,a=_hh$temp22.layout,r=_hh$temp22.drag,c=_hh$temp22.dragConstraints,d=_hh$temp22.layoutScroll,m=_hh$temp22.layoutRoot; e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:X2(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!r||c&&J2(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:o,layoutScroll:d,layoutRoot:m})}function X2(e){if(e)return e.options.allowProjection!==!1?e.projection:X2(e.parent)}function V8( _hh$temp23 ){ var e=_hh$temp23.preloadedFeatures,t=_hh$temp23.createVisualElement,n=_hh$temp23.useRender,o=_hh$temp23.useVisualState,s=_hh$temp23.Component; var a,r;e&&cf(e);function c(m,p){let h; const v={...u.useContext(ba),...m,layoutId:H8(m)},_hh$temp24=v,y=_hh$temp24.isStatic,C=R8(m),S=o(m,y); if(!y&&G2){z8();const b=G8(v);h=b.MeasureLayout,C.visualElement=j8(s,S,v,t,b.ProjectionNode)}return i.jsxs(md.Provider,{value:C,children:[h&&C.visualElement?i.jsx(h,{visualElement:C.visualElement,...v}):null,n(s,m,L8(S,C.visualElement,p),S,y,C.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(r=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&r!==void 0?r:""})`}`;const d=u.forwardRef(c);return  __set$(d,N8,s) ,d}function H8( _hh$temp25 ){ var e=_hh$temp25.layoutId; const t=u.useContext(z2).id;return t&&e!==void 0?t+"-"+e:e}function z8(e,t){u.useContext(qh).strict}function G8(e){ const _hh$temp26=Cu,t=_hh$temp26.drag,n=_hh$temp26.layout; if(!t&&!n)return{};const o={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const eI=e=>t=>typeof t=="string"&&t.startsWith(e),tI=eI("--"),W8=eI("var(--"),$8=e=>W8(e)?q8.test(e.split("/*")[0].trim()):!1,q8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uf={};function Mwe(e){for(const t in e) __set$(uf,t,__get$(e,t)) ,tI(t)&&( __get$(uf,t) .isCSSVariable=!0)}const kc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yh=new Set(kc);function nI(e, _hh$temp27 ){ var t=_hh$temp27.layout,n=_hh$temp27.layoutId; return Yh.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!! __get$(uf,e) ||e==="opacity")}const is=e=>!!(e&&e.getVelocity),oI=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ms=(e,t,n)=>n>t?t:n<e?e:n,Pc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},oc={...Pc,transform:e=>Ms(0,1,e)},Ul={...Pc,default:1},Mc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Qs=Mc("deg"),ji=Mc("%"),Ge=Mc("px"),Rwe=Mc("vh"),Nwe=Mc("vw"),Ty={...ji,parse:e=>ji.parse(e)/100,transform:e=>ji.transform(e*100)},K8={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge},Y8={rotate:Qs,rotateX:Qs,rotateY:Qs,rotateZ:Qs,scale:Ul,scaleX:Ul,scaleY:Ul,scaleZ:Ul,skew:Qs,skewX:Qs,skewY:Qs,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:oc,originX:Ty,originY:Ty,originZ:Ge},xy={...Pc,transform:Math.round},sI={...K8,...Y8,zIndex:xy,size:Ge,fillOpacity:oc,strokeOpacity:oc,numOctaves:xy},Z8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J8=kc.length;function Q8(e,t,n){let o="",s=!0;for(let a=0;a<J8;a++){const r= __get$(kc,a) ,c= __get$(e,r) ;if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(r.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const m=oI(c, __get$(sI,r) );if(!d){s=!1;const p= __get$(Z8,r) ||r;o+=`${p}(${m}) `}n&&( __set$(t,r,m) )}}return o=o.trim(),n?o=n(t,s?"":o):s&&(o="none"),o}function aI(e,t,n){ const _hh$temp28=e,o=_hh$temp28.style,s=_hh$temp28.vars,a=_hh$temp28.transformOrigin; let r=!1,c=!1;for(const d in t){const m= __get$(t,d) ;if(Yh.has(d)){r=!0;continue}else if(tI(d)){ __set$(s,d,m) ;continue}else{const p=oI(m, __get$(sI,d) );d.startsWith("origin")?(c=!0, __set$(a,d,p) ): __set$(o,d,p) }}if(t.transform||(r||n?o.transform=Q8(t,e.transform,n):o.transform&&(o.transform="none")),c){ const _hh$temp29=a,_hh$temp29$originX=_hh$temp29.originX,d=_hh$temp29$originX===void 0?"50%":_hh$temp29$originX,_hh$temp29$originY=_hh$temp29.originY,m=_hh$temp29$originY===void 0?"50%":_hh$temp29$originY,_hh$temp29$originZ=_hh$temp29.originZ,p=_hh$temp29$originZ===void 0?0:_hh$temp29$originZ; o.transformOrigin=`${d} ${m} ${p}`}}const Zh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rI(e,t,n){for(const o in t)!is( __get$(t,o) )&&!nI(o,n)&&( __set$(e,o,__get$(t,o)) )}function X8( _hh$temp30 ,t){ var e=_hh$temp30.transformTemplate; return u.useMemo(()=>{const n=Zh();return aI(n,t,e), __call$(Object,"assign",[{},n.vars,n.style]) },[t])}function eP(e,t){const n=e.style||{},o={};return rI(o,n,e), __call$(Object,"assign",[o,X8(e,t)]) ,o}function tP(e,t){const n={},o=eP(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=o,n}const nP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function iI(e){return typeof e!="string"||e.includes("-")?!1:!!(nP.indexOf(e)>-1||/[A-Z]/u.test(e))}const oP={offset:"stroke-dashoffset",array:"stroke-dasharray"},sP={offset:"strokeDashoffset",array:"strokeDasharray"};function aP(e,t,n=1,o=0,s=!0){e.pathLength=1;const a=s?oP:sP; __set$(e,a.offset,Ge.transform(-o)) ;const r=Ge.transform(t),c=Ge.transform(n); __set$(e,a.array,`${r} ${c}`) }function Ay(e,t,n){return typeof e=="string"?e:Ge.transform(t+n*e)}function rP(e,t,n){const o=Ay(t,e.x,e.width),s=Ay(n,e.y,e.height);return`${o} ${s}`}function cI(e, _hh$temp31 ,p,h){ var t=_hh$temp31.attrX,n=_hh$temp31.attrY,o=_hh$temp31.attrScale,s=_hh$temp31.originX,a=_hh$temp31.originY,r=_hh$temp31.pathLength,_hh$temp31$pathSpacing=_hh$temp31.pathSpacing,c=_hh$temp31$pathSpacing===void 0?1:_hh$temp31$pathSpacing,_hh$temp31$pathOffset=_hh$temp31.pathOffset,d=_hh$temp31$pathOffset===void 0?0:_hh$temp31$pathOffset,m=__rest$Object(_hh$temp31,["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"]); if(aI(e,m,h),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={}; const _hh$temp32=e,v=_hh$temp32.attrs,y=_hh$temp32.style,C=_hh$temp32.dimensions; v.transform&&(C&&(y.transform=v.transform),delete v.transform),C&&(s!==void 0||a!==void 0||y.transform)&&(y.transformOrigin=rP(C,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),o!==void 0&&(v.scale=o),r!==void 0&&aP(v,r,c,d,!1)}const lI=()=>({...Zh(),attrs:{}}),uI=e=>typeof e=="string"&&e.toLowerCase()==="svg";function iP(e,t,n,o){const s=u.useMemo(()=>{const a=lI();return cI(a,t,uI(o),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};rI(a,e.style,e),s.style={...a,...s.style}}return s}function cP(e=!1){return(n,o,s, _hh$temp33 ,r)=>{ var a=_hh$temp33.latestValues;  const d=(iI(n)?iP:tP)(o,a,r,n),m=x8(o,typeof n=="string",e),p=n!==u.Fragment?{...m,...d,ref:s}:{},_hh$temp34=o,h=_hh$temp34.children,v=u.useMemo(()=>is(h)?h.get():h,[h]); return u.createElement(n,{...p,children:v})}}function _y(e){const t=[{},{}];return e?.values.forEach((n,o)=>{ __set$(t[0],o,n.get()) , __set$(t[1],o,n.getVelocity()) }),t}function lP(e,t,n,o){if(typeof t=="function"){ const _hh$temp35=__arrayFrom$(_y(o)),s=_hh$temp35[0],a=_hh$temp35[1]; t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&& __get$(e.variants,t) ),typeof t=="function"){ const _hh$temp36=__arrayFrom$(_y(o)),s=_hh$temp36[0],a=_hh$temp36[1]; t=t(n!==void 0?n:e.custom,s,a)}return t}const uP=e=>Array.isArray(e),dP=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Lwe=e=>uP(e)? __get$(e,e.length-1) ||0:e;function mP(e){const t=is(e)?e.get():e;return dP(t)?t.toValue():t}function pP( _hh$temp37 ,o,s,a){ var e=_hh$temp37.scrapeMotionValuesFromProps,t=_hh$temp37.createRenderState,n=_hh$temp37.onUpdate; const r={latestValues:fP(o,s,a,e),renderState:t()};return n&&(r.onMount=c=>n({props:o,current:c,...r}),r.onUpdate=c=>n(c)),r}const dI=e=>(t,n)=>{const o=u.useContext(md),s=u.useContext(Ac),a=()=>pP(e,t,o,s);return n?a():rs(a)};function fP(e,t,n,o){const s={},a=o(e,{});for(const v in a) __set$(s,v,mP(__get$(a,v))) ; let _hh$temp38=e,r=_hh$temp38.initial,c=_hh$temp38.animate; const d=Kh(e),m=P8(e);t&&m&&!d&&e.inherit!==!1&&(r===void 0&&(r=t.initial),c===void 0&&(c=t.animate));let p=n?n.initial===!1:!1;p=p||r===!1;const h=p?c:r;if(h&&typeof h!="boolean"&&!Z2(h)){const v=Array.isArray(h)?h:[h];for(let y=0;y<v.length;y++){const C=lP(e, __get$(v,y) );if(C){ const _hh$temp39=C,S=_hh$temp39.transitionEnd,b=_hh$temp39.transition,I=__rest$Object(_hh$temp39,["transitionEnd","transition"]); for(const x in I){let E= __get$(I,x) ;if(Array.isArray(E)){const k=p?E.length-1:0;E= __get$(E,k) }E!==null&&( __set$(s,x,E) )}for(const x in S) __set$(s,x,__get$(S,x)) }}}return s}function mI(e,t,n){var o; const _hh$temp40=e,s=_hh$temp40.style,a={}; for(const r in s)(is( __get$(s,r) )||t.style&&is( __get$(t.style,r) )||nI(r,e)||((o=n?.getValue(r))===null||o===void 0?void 0:o.liveStyle)!==void 0)&&( __set$(a,r,__get$(s,r)) );return a}const hP={useVisualState:dI({scrapeMotionValuesFromProps:mI,createRenderState:Zh})};function gP(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function vP(e, _hh$temp41 ,o,s){ var t=_hh$temp41.style,n=_hh$temp41.vars;  __call$(Object,"assign",[e.style,t,s&&s.getProjectionStyles(o)]) ;for(const a in n)e.style.setProperty(a, __get$(n,a) )}const yP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function CP(e,t,n,o){vP(e,t,void 0,o);for(const s in t.attrs)e.setAttribute(yP.has(s)?s:Q2(s), __get$(t.attrs,s) )}function SP(e,t,n){const o=mI(e,t,n);for(const s in e)if(is( __get$(e,s) )||is( __get$(t,s) )){const a=kc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s; __set$(o,a,__get$(e,s)) }return o}const ky=["x","y","width","height","cx","cy","r"],bP={useVisualState:dI({scrapeMotionValuesFromProps:SP,createRenderState:lI,onUpdate:( _hh$temp42 )=>{ var e=_hh$temp42.props,t=_hh$temp42.prevProps,n=_hh$temp42.current,o=_hh$temp42.renderState,s=_hh$temp42.latestValues; if(!n)return;let a=!!e.drag;if(!a){for(const c in s)if(Yh.has(c)){a=!0;break}}if(!a)return;let r=!t;if(t)for(let c=0;c<ky.length;c++){const d= __get$(ky,c) ; __get$(e,d) !== __get$(t,d) &&(r=!0)}r&&Ln.read(()=>{gP(n,o),Ln.render(()=>{cI(o,s,uI(n.tagName),e.transformTemplate),CP(n,o)})})}})};function IP(e,t){return function(o, _hh$temp43 ={forwardMotionProps:!1}){ var s=_hh$temp43.forwardMotionProps; const r={...iI(o)?bP:hP,preloadedFeatures:e,useRender:cP(s),createVisualElement:t,Component:o};return V8(r)}}const EP=IP(),Ce=A8(EP);let au;function wP(){au=void 0}const pa={now:()=>(au===void 0&&pa.set(nc.isProcessing||rf.useManualTiming?nc.timestamp:performance.now()),au),set:e=>{au=e,queueMicrotask(wP)}};function TP(e,t){e.indexOf(t)===-1&&e.push(t)}function xP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Dwe( _hh$temp44 ,t,n){ var _hh$temp45=__arrayFrom$(_hh$temp44),e=__rest$Array(_hh$temp45,0); const o=t<0?e.length+t:t;if(o>=0&&o<e.length){ const s=n<0?e.length+n:n,_hh$temp46=__arrayFrom$(e.splice(t,1)),a=_hh$temp46[0]; e.splice(s,0,a)}return e}class AP{constructor(){this.subscriptions=[]}add(t){return TP(this.subscriptions,t),()=>xP(this.subscriptions,t)}notify(t,n,o){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,o);else for(let a=0;a<s;a++){const r= __get$(this.subscriptions,a) ;r&&r(t,n,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Jh(e,t){return t?e*(1e3/t):0}const Py=30,_P=e=>!isNaN(parseFloat(e)),Bi={current:void 0};class kP{constructor(t,n={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,s=!0)=>{const a=pa.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=pa.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_P(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){ __get$(this.events,t) ||( __set$(this.events,t,new AP()) );const o= __get$(this.events,t) .add(n);return t==="change"?()=>{o(),Ln.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const t in this.events) __get$(this.events,t) .clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,o){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-o}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Bi.current&&Bi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=pa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Py)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Py);return Jh(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yr(e,t){return new kP(e,t)}function PP(e){let t;return()=>(t===void 0&&(t=e()),t)}const MP=PP(()=>window.ScrollTimeline!==void 0),Qh=e=>e*1e3,wr=e=>e/1e3,RP={current:!1};function pI(e){return typeof e=="function"}const NP=e=>Array.isArray(e)&&typeof e[0]=="number",pd=(e,t,n)=>{const o=t-e;return o===0?1:(n-e)/o},LP=(e,t,n=10)=>{let o="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)o+=e(pd(0,s-1,a))+", ";return`linear(${o.substring(0,o.length-2)})`},fI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,DP=1e-7,OP=12;function UP(e,t,n,o,s){let a,r,c=0;do r=t+(n-t)/2,a=fI(r,o,s)-e,a>0?n=r:t=r;while(Math.abs(a)>DP&&++c<OP);return r}function Rc(e,t,n,o){if(e===t&&n===o)return Us;const s=a=>UP(a,0,1,e,n);return a=>a===0||a===1?a:fI(s(a),t,o)}const hI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gI=e=>t=>1-e(1-t),vI=Rc(.33,1.53,.69,.99),Xh=gI(vI),FP=hI(Xh),jP=e=>(e*=2)<1?.5*Xh(e):.5*(2-Math.pow(2,-10*(e-1))),eg=e=>1-Math.sin(Math.acos(e)),BP=gI(eg),VP=hI(eg),Vi=e=>Math.round(e*1e5)/1e5,yI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function HP(e){return e==null}const zP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tg=(e,t)=>n=>!!(typeof n=="string"&&zP.test(n)&&n.startsWith(e)||t&&!HP(n)&&Object.prototype.hasOwnProperty.call(n,t)),CI=(e,t,n)=>o=>{if(typeof o!="string")return o; const _hh$temp47=__arrayFrom$(o.match(yI)),s=_hh$temp47[0],a=_hh$temp47[1],r=_hh$temp47[2],c=_hh$temp47[3]; return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(r),alpha:c!==void 0?parseFloat(c):1}},GP=e=>Ms(0,255,e),Xm={...Pc,transform:e=>Math.round(GP(e))},ua={test:tg("rgb","red"),parse:CI("red","green","blue"),transform: _hh$temp48=>{var e=_hh$temp48.red,t=_hh$temp48.green,n=_hh$temp48.blue,_hh$temp48$alpha=_hh$temp48.alpha,o=_hh$temp48$alpha===void 0?1:_hh$temp48$alpha;return"rgba("+Xm.transform(e)+", "+Xm.transform(t)+", "+Xm.transform(n)+", "+Vi(oc.transform(o))+")";} };function WP(e){let t="",n="",o="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),o=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),o=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,o+=o,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:s?parseInt(s,16)/255:1}}const df={test:tg("#"),parse:WP,transform:ua.transform},Cr={test:tg("hsl","hue"),parse:CI("hue","saturation","lightness"),transform: _hh$temp49=>{var e=_hh$temp49.hue,t=_hh$temp49.saturation,n=_hh$temp49.lightness,_hh$temp49$alpha=_hh$temp49.alpha,o=_hh$temp49$alpha===void 0?1:_hh$temp49$alpha;return"hsla("+Math.round(e)+", "+ji.transform(Vi(t))+", "+ji.transform(Vi(n))+", "+Vi(oc.transform(o))+")";} },sc={test:e=>ua.test(e)||df.test(e)||Cr.test(e),parse:e=>ua.test(e)?ua.parse(e):Cr.test(e)?Cr.parse(e):df.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ua.transform(e):Cr.transform(e)},$P=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qP(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(yI))===null||t===void 0?void 0:t.length)||0)+(((n=e.match($P))===null||n===void 0?void 0:n.length)||0)>0}const SI="number",bI="color",KP="var",YP="var(",My="${}",ZP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bu(e){const t=e.toString(),n=[],o={color:[],number:[],var:[]},s=[];let a=0;const c= __call$(t,"replace",[ZP,d=>(sc.test(d)?(o.color.push(a),s.push(bI),n.push(sc.parse(d))):d.startsWith(YP)?(o.var.push(a),s.push(KP),n.push(d)):(o.number.push(a),s.push(SI),n.push(parseFloat(d))),++a,My)]) .split(My);return{values:n,split:c,indexes:o,types:s}}function II(e){return bu(e).values}function EI(e){ const _hh$temp50=bu(e),t=_hh$temp50.split,n=_hh$temp50.types,o=t.length; return s=>{let a="";for(let r=0;r<o;r++)if(a+= __get$(t,r) , __get$(s,r) !==void 0){const c= __get$(n,r) ;c===SI?a+=Vi( __get$(s,r) ):c===bI?a+=sc.transform( __get$(s,r) ):a+= __get$(s,r) }return a}}const JP=e=>typeof e=="number"?0:e;function QP(e){const t=II(e);return EI(e)(t.map(JP))}const wI={test:qP,parse:II,createTransformer:EI,getAnimatableNone:QP},Owe=e=>e===Pc||e===Ge,Ry=(e,t)=>parseFloat( __get$(e.split(", "),t) ),Ny=(e,t)=>(n, _hh$temp51 )=>{ var o=_hh$temp51.transform; if(o==="none"||!o)return 0;const s=o.match(/^matrix3d\((.+)\)$/u);if(s)return Ry(s[1],t);{const a=o.match(/^matrix\((.+)\)$/u);return a?Ry(a[1],e):0}},XP=new Set(["x","y","z"]),eM=kc.filter(e=>!XP.has(e));function tM(e){const t=[];return eM.forEach(n=>{const o=e.getValue(n);o!==void 0&&(t.push([n,o.get()]),o.set(n.startsWith("scale")?1:0))}),t}const Iu={width: (_hh$temp52,_hh$temp53)=>{var e=_hh$temp52.x,_hh$temp53$paddingLeft=_hh$temp53.paddingLeft,t=_hh$temp53$paddingLeft===void 0?"0":_hh$temp53$paddingLeft,_hh$temp53$paddingRight=_hh$temp53.paddingRight,n=_hh$temp53$paddingRight===void 0?"0":_hh$temp53$paddingRight;return e.max-e.min-parseFloat(t)-parseFloat(n);} ,height: (_hh$temp54,_hh$temp55)=>{var e=_hh$temp54.y,_hh$temp55$paddingTop=_hh$temp55.paddingTop,t=_hh$temp55$paddingTop===void 0?"0":_hh$temp55$paddingTop,_hh$temp55$paddingBottom=_hh$temp55.paddingBottom,n=_hh$temp55$paddingBottom===void 0?"0":_hh$temp55$paddingBottom;return e.max-e.min-parseFloat(t)-parseFloat(n);} ,top: (e,_hh$temp56)=>{var t=_hh$temp56.top;return parseFloat(t);} ,left: (e,_hh$temp57)=>{var t=_hh$temp57.left;return parseFloat(t);} ,bottom: (_hh$temp58,_hh$temp59)=>{var e=_hh$temp58.y,t=_hh$temp59.top;return parseFloat(t)+(e.max-e.min);} ,right: (_hh$temp60,_hh$temp61)=>{var e=_hh$temp60.x,t=_hh$temp61.left;return parseFloat(t)+(e.max-e.min);} ,x:Ny(4,13),y:Ny(5,14)};Iu.translateX=Iu.x;Iu.translateY=Iu.y;const fa=new Set;let mf=!1,pf=!1;function TI(){if(pf){const e=Array.from(fa).filter(o=>o.needsMeasurement),t=new Set(e.map(o=>o.element)),n=new Map;t.forEach(o=>{const s=tM(o);s.length&&(n.set(o,s),o.render())}),e.forEach(o=>o.measureInitialState()),t.forEach(o=>{o.render();const s=n.get(o);s&&s.forEach(( _hh$temp62 )=>{ var _hh$temp63=__arrayFrom$(_hh$temp62),a=_hh$temp63[0],r=_hh$temp63[1]; var c;(c=o.getValue(a))===null||c===void 0||c.set(r)})}),e.forEach(o=>o.measureEndState()),e.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}pf=!1,mf=!1,fa.forEach(e=>e.complete()),fa.clear()}function xI(){fa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pf=!0)})}function nM(){xI(),TI()}class oM{constructor(t,n,o,s,a,r=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=o,this.motionValue=s,this.element=a,this.isAsync=r}scheduleResolve(){this.isScheduled=!0,this.isAsync?(fa.add(this),mf||(mf=!0,Ln.read(xI),Ln.resolveKeyframes(TI))):(this.readKeyframes(),this.complete())}readKeyframes(){ const _hh$temp64=this,t=_hh$temp64.unresolvedKeyframes,n=_hh$temp64.name,o=_hh$temp64.element,s=_hh$temp64.motionValue; for(let a=0;a<t.length;a++)if( __get$(t,a) ===null)if(a===0){const r=s?.get(),c= __get$(t,t.length-1) ;if(r!==void 0)t[0]=r;else if(o&&n){const d=o.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),s&&r===void 0&&s.set(t[0])}else  __set$(t,a,__get$(t,a-1)) }setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),fa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,fa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ly=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(wI.test(e)||e==="0")&&!e.startsWith("url("));function sM(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if( __get$(e,n) !==t)return!0}function aM(e,t,n,o){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a= __get$(e,e.length-1) ,r=Ly(s,t),c=Ly(a,t);return!r||!c?!1:sM(e)||(n==="spring"||pI(n))&&o}const rM=e=>e!==null;function AI(e, _hh$temp65 ,o){ var t=_hh$temp65.repeat,_hh$temp65$repeatType=_hh$temp65.repeatType,n=_hh$temp65$repeatType===void 0?"loop":_hh$temp65$repeatType; const s=e.filter(rM),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||o===void 0? __get$(s,a) :o}const iM=40;class cM{constructor( _hh$temp66 ){ var _hh$temp66$autoplay=_hh$temp66.autoplay,t=_hh$temp66$autoplay===void 0?!0:_hh$temp66$autoplay,_hh$temp66$delay=_hh$temp66.delay,n=_hh$temp66$delay===void 0?0:_hh$temp66$delay,_hh$temp66$type=_hh$temp66.type,o=_hh$temp66$type===void 0?"keyframes":_hh$temp66$type,_hh$temp66$repeat=_hh$temp66.repeat,s=_hh$temp66$repeat===void 0?0:_hh$temp66$repeat,_hh$temp66$repeatDelay=_hh$temp66.repeatDelay,a=_hh$temp66$repeatDelay===void 0?0:_hh$temp66$repeatDelay,_hh$temp66$repeatType=_hh$temp66.repeatType,r=_hh$temp66$repeatType===void 0?"loop":_hh$temp66$repeatType,c=__rest$Object(_hh$temp66,["autoplay","delay","type","repeat","repeatDelay","repeatType"]); this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pa.now(),this.options={autoplay:t,delay:n,type:o,repeat:s,repeatDelay:a,repeatType:r,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>iM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&nM(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=pa.now(),this.hasAttemptedResolve=!0; const _hh$temp67=this.options,o=_hh$temp67.name,s=_hh$temp67.type,a=_hh$temp67.velocity,r=_hh$temp67.delay,c=_hh$temp67.onComplete,d=_hh$temp67.onUpdate,m=_hh$temp67.isGenerator; if(!m&&!aM(t,o,s,a))if(RP.current||!r){d&&d(AI(t,this.options,n)),c&&c(),this.resolveFinishedPromise();return}else this.options.duration=0;const p=this.initPlayback(t,n);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...p},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ff=2e4;function _I(e){let t=0;const n=50;let o=e.next(t);for(;!o.done&&t<ff;)t+=n,o=e.next(t);return t>=ff?1/0:t}const fd=(e,t,n)=>e+(t-e)*n;function ep(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function lM( _hh$temp68 ){ var e=_hh$temp68.hue,t=_hh$temp68.saturation,n=_hh$temp68.lightness,o=_hh$temp68.alpha; e/=360,t/=100,n/=100;let s=0,a=0,r=0;if(!t)s=a=r=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;s=ep(d,c,e+1/3),a=ep(d,c,e),r=ep(d,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(r*255),alpha:o}}function Eu(e,t){return n=>n>0?t:e}const tp=(e,t,n)=>{const o=e*e,s=n*(t*t-o)+o;return s<0?0:Math.sqrt(s)},uM=[df,ua,Cr],dM=e=>uM.find(t=>t.test(e));function Dy(e){const t=dM(e);if(!t)return!1;let n=t.parse(e);return t===Cr&&(n=lM(n)),n}const Oy=(e,t)=>{const n=Dy(e),o=Dy(t);if(!n||!o)return Eu(e,t);const s={...n};return a=>(s.red=tp(n.red,o.red,a),s.green=tp(n.green,o.green,a),s.blue=tp(n.blue,o.blue,a),s.alpha=fd(n.alpha,o.alpha,a),ua.transform(s))},mM=(e,t)=>n=>t(e(n)),ng=(...e)=>e.reduce(mM),hf=new Set(["none","hidden"]);function pM(e,t){return hf.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function fM(e,t){return n=>fd(e,t,n)}function og(e){return typeof e=="number"?fM:typeof e=="string"?$8(e)?Eu:sc.test(e)?Oy:vM:Array.isArray(e)?kI:typeof e=="object"?sc.test(e)?Oy:hM:Eu}function kI(e,t){const n=[...e],o=n.length,s=e.map((a,r)=>og(a)(a, __get$(t,r) ));return a=>{for(let r=0;r<o;r++) __set$(n,r,__call$(s,r,[a])) ;return n}}function hM(e,t){const n={...e,...t},o={};for(const s in n) __get$(e,s) !==void 0&& __get$(t,s) !==void 0&&( __set$(o,s,og(__get$(e,s))(__get$(e,s),__get$(t,s))) );return s=>{for(const a in o) __set$(n,a,__call$(o,a,[s])) ;return n}}function gM(e,t){var n;const o=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const r= __get$(t.types,a) ,c= __get$(__get$(e.indexes,r),__get$(s,r)) ,d=(n= __get$(e.values,c) )!==null&&n!==void 0?n:0; __set$(o,a,d) ,s[r]++}return o}const vM=(e,t)=>{const n=wI.createTransformer(t),o=bu(e),s=bu(t);return o.indexes.var.length===s.indexes.var.length&&o.indexes.color.length===s.indexes.color.length&&o.indexes.number.length>=s.indexes.number.length?hf.has(e)&&!s.values.length||hf.has(t)&&!o.values.length?pM(e,t):ng(kI(gM(o,s),s.values),n):Eu(e,t)};function PI(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?fd(e,t,n):og(e)(e,t)}const yM=5;function MI(e,t,n){const o=Math.max(t-yM,0);return Jh(n-e(o),t-o)}const xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Uy=.001;function CM( _hh$temp69 ){ var _hh$temp69$duration=_hh$temp69.duration,e=_hh$temp69$duration===void 0?xt.duration:_hh$temp69$duration,_hh$temp69$bounce=_hh$temp69.bounce,t=_hh$temp69$bounce===void 0?xt.bounce:_hh$temp69$bounce,_hh$temp69$velocity=_hh$temp69.velocity,n=_hh$temp69$velocity===void 0?xt.velocity:_hh$temp69$velocity,_hh$temp69$mass=_hh$temp69.mass,o=_hh$temp69$mass===void 0?xt.mass:_hh$temp69$mass; let s,a,r=1-t;r=Ms(xt.minDamping,xt.maxDamping,r),e=Ms(xt.minDuration,xt.maxDuration,wr(e)),r<1?(s=m=>{const p=m*r,h=p*e,v=p-n,y=gf(m,r),C=Math.exp(-h);return Uy-v/y*C},a=m=>{const h=m*r*e,v=h*n+n,y=Math.pow(r,2)*Math.pow(m,2)*e,C=Math.exp(-h),S=gf(Math.pow(m,2),r);return(-s(m)+Uy>0?-1:1)*((v-y)*C)/S}):(s=m=>{const p=Math.exp(-m*e),h=(m-n)*e+1;return-.001+p*h},a=m=>{const p=Math.exp(-m*e),h=(n-m)*(e*e);return p*h});const c=5/e,d=bM(s,a,c);if(e=Qh(e),isNaN(d))return{stiffness:xt.stiffness,damping:xt.damping,duration:e};{const m=Math.pow(d,2)*o;return{stiffness:m,damping:r*2*Math.sqrt(o*m),duration:e}}}const SM=12;function bM(e,t,n){let o=n;for(let s=1;s<SM;s++)o=o-e(o)/t(o);return o}function gf(e,t){return e*Math.sqrt(1-t*t)}const IM=["duration","bounce"],EM=["stiffness","damping","mass"];function Fy(e,t){return t.some(n=> __get$(e,n) !==void 0)}function wM(e){let t={velocity:xt.velocity,stiffness:xt.stiffness,damping:xt.damping,mass:xt.mass,isResolvedFromDuration:!1,...e};if(!Fy(e,EM)&&Fy(e,IM))if(e.visualDuration){const n=e.visualDuration,o=2*Math.PI/(n*1.2),s=o*o,a=2*Ms(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:xt.mass,stiffness:s,damping:a}}else{const n=CM(e);t={...t,...n,mass:xt.mass},t.isResolvedFromDuration=!0}return t}function RI(e=xt.visualDuration,t=xt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e; let _hh$temp70=n,o=_hh$temp70.restSpeed,s=_hh$temp70.restDelta;  const a=n.keyframes[0],r=__get$(n.keyframes,n.keyframes.length-1),c={done:!1,value:a},_hh$temp71=wM({...n,velocity:-wr(n.velocity||0)}),d=_hh$temp71.stiffness,m=_hh$temp71.damping,p=_hh$temp71.mass,h=_hh$temp71.duration,v=_hh$temp71.velocity,y=_hh$temp71.isResolvedFromDuration,C=v||0,S=m/(2*Math.sqrt(d*p)),b=r-a,I=wr(Math.sqrt(d/p)),x=Math.abs(b)<5; o||(o=x?xt.restSpeed.granular:xt.restSpeed.default),s||(s=x?xt.restDelta.granular:xt.restDelta.default);let E;if(S<1){const w=gf(I,S);E=_=>{const N=Math.exp(-S*I*_);return r-N*((C+S*I*b)/w*Math.sin(w*_)+b*Math.cos(w*_))}}else if(S===1)E=w=>r-Math.exp(-I*w)*(b+(C+I*b)*w);else{const w=I*Math.sqrt(S*S-1);E=_=>{const N=Math.exp(-S*I*_),L=Math.min(w*_,300);return r-N*((C+S*I*b)*Math.sinh(L)+w*b*Math.cosh(L))/w}}const k={calculatedDuration:y&&h||null,next:w=>{const _=E(w);if(y)c.done=w>=h;else{let N=0;S<1&&(N=w===0?Qh(C):MI(E,w,_));const L=Math.abs(N)<=o,B=Math.abs(r-_)<=s;c.done=L&&B}return c.value=c.done?r:_,c},toString:()=>{const w=Math.min(_I(k),ff),_=LP(N=>k.next(w*N).value,w,30);return w+"ms "+_}};return k}function jy( _hh$temp72 ){ var e=_hh$temp72.keyframes,_hh$temp72$velocity=_hh$temp72.velocity,t=_hh$temp72$velocity===void 0?0:_hh$temp72$velocity,_hh$temp72$power=_hh$temp72.power,n=_hh$temp72$power===void 0?.8:_hh$temp72$power,_hh$temp72$timeConstant=_hh$temp72.timeConstant,o=_hh$temp72$timeConstant===void 0?325:_hh$temp72$timeConstant,_hh$temp72$bounceDamping=_hh$temp72.bounceDamping,s=_hh$temp72$bounceDamping===void 0?10:_hh$temp72$bounceDamping,_hh$temp72$bounceStiffness=_hh$temp72.bounceStiffness,a=_hh$temp72$bounceStiffness===void 0?500:_hh$temp72$bounceStiffness,r=_hh$temp72.modifyTarget,c=_hh$temp72.min,d=_hh$temp72.max,_hh$temp72$restDelta=_hh$temp72.restDelta,m=_hh$temp72$restDelta===void 0?.5:_hh$temp72$restDelta,p=_hh$temp72.restSpeed; const h=e[0],v={done:!1,value:h},y=L=>c!==void 0&&L<c||d!==void 0&&L>d,C=L=>c===void 0?d:d===void 0||Math.abs(c-L)<Math.abs(d-L)?c:d;let S=n*t;const b=h+S,I=r===void 0?b:r(b);I!==b&&(S=I-h);const x=L=>-S*Math.exp(-L/o),E=L=>I+x(L),k=L=>{const B=x(L),F=E(L);v.done=Math.abs(B)<=m,v.value=v.done?I:F};let w,_;const N=L=>{y(v.value)&&(w=L,_=RI({keyframes:[v.value,C(v.value)],velocity:MI(E,L,v.value),damping:s,stiffness:a,restDelta:m,restSpeed:p}))};return N(0),{calculatedDuration:null,next:L=>{let B=!1;return!_&&w===void 0&&(B=!0,k(L),N(L)),w!==void 0&&L>=w?_.next(L-w):(!B&&k(L),v)}}}const TM=Rc(.42,0,1,1),xM=Rc(0,0,.58,1),NI=Rc(.42,0,.58,1),AM=e=>Array.isArray(e)&&typeof e[0]!="number",_M={linear:Us,easeIn:TM,easeInOut:NI,easeOut:xM,circIn:eg,circInOut:VP,circOut:BP,backIn:Xh,backInOut:FP,backOut:vI,anticipate:jP},By=e=>{if(NP(e)){W2(e.length===4); const _hh$temp73=__arrayFrom$(e),t=_hh$temp73[0],n=_hh$temp73[1],o=_hh$temp73[2],s=_hh$temp73[3]; return Rc(t,n,o,s)}else if(typeof e=="string")return  __get$(_M,e) ;return e};function kM(e,t,n){const o=[],s=n||PI,a=e.length-1;for(let r=0;r<a;r++){let c=s( __get$(e,r) , __get$(e,r+1) );if(t){const d=Array.isArray(t)? __get$(t,r) ||Us:t;c=ng(d,c)}o.push(c)}return o}function sg(e,t, _hh$temp74 ={}){ var _hh$temp74$clamp=_hh$temp74.clamp,n=_hh$temp74$clamp===void 0?!0:_hh$temp74$clamp,o=_hh$temp74.ease,s=_hh$temp74.mixer; const a=e.length;if(W2(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]> __get$(e,a-1) &&(e=[...e].reverse(),t=[...t].reverse());const c=kM(t,o,s),d=c.length,m=p=>{if(r&&p<e[0])return t[0];let h=0;if(d>1)for(;h<e.length-2&&!(p< __get$(e,h+1) );h++);const v=pd( __get$(e,h) , __get$(e,h+1) ,p);return  __call$(c,h,[v]) };return n?p=>m(Ms(e[0], __get$(e,a-1) ,p)):m}function PM(e,t){const n= __get$(e,e.length-1) ;for(let o=1;o<=t;o++){const s=pd(0,t,o);e.push(fd(n,1,s))}}function LI(e){const t=[0];return PM(t,e.length-1),t}function MM(e,t){return e.map(n=>n*t)}function RM(e,t){return e.map(()=>t||NI).splice(0,e.length-1)}function wu( _hh$temp75 ){ var _hh$temp75$duration=_hh$temp75.duration,e=_hh$temp75$duration===void 0?300:_hh$temp75$duration,t=_hh$temp75.keyframes,n=_hh$temp75.times,_hh$temp75$ease=_hh$temp75.ease,o=_hh$temp75$ease===void 0?"easeInOut":_hh$temp75$ease; const s=AM(o)?o.map(By):By(o),a={done:!1,value:t[0]},r=MM(n&&n.length===t.length?n:LI(t),e),c=sg(r,t,{ease:Array.isArray(s)?s:RM(t,s)});return{calculatedDuration:e,next:d=>(a.value=c(d),a.done=d>=e,a)}}const NM=e=>{const t= _hh$temp76=>{var n=_hh$temp76.timestamp;return e(n);} ;return{start:()=>Ln.update(t,!0),stop:()=>dd(t),now:()=>nc.isProcessing?nc.timestamp:pa.now()}},LM={decay:jy,inertia:jy,tween:wu,keyframes:wu,spring:RI},DM=e=>e/100;class OM extends cM{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown(); const _hh$temp77=this.options,d=_hh$temp77.onStop; d&&d()}; const _hh$temp78=this.options,n=_hh$temp78.name,o=_hh$temp78.motionValue,s=_hh$temp78.element,a=_hh$temp78.keyframes,r=s?.KeyframeResolver||oM,c=(d,m)=>this.onKeyframesResolved(d,m); this.resolver=new r(a,c,n,o,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&& __call$(Object,"assign",[this._resolved,this.initPlayback(this._resolved.keyframes)]) }initPlayback(t){ const _hh$temp79=this.options,_hh$temp79$type=_hh$temp79.type,n=_hh$temp79$type===void 0?"keyframes":_hh$temp79$type,_hh$temp79$repeat=_hh$temp79.repeat,o=_hh$temp79$repeat===void 0?0:_hh$temp79$repeat,_hh$temp79$repeatDelay=_hh$temp79.repeatDelay,s=_hh$temp79$repeatDelay===void 0?0:_hh$temp79$repeatDelay,a=_hh$temp79.repeatType,_hh$temp79$velocity=_hh$temp79.velocity,r=_hh$temp79$velocity===void 0?0:_hh$temp79$velocity,c=pI(n)?n:__get$(LM,n)||wu; let d,m;c!==wu&&typeof t[0]!="number"&&(d=ng(DM,PI(t[0],t[1])),t=[0,100]);const p=c({...this.options,keyframes:t});a==="mirror"&&(m=c({...this.options,keyframes:[...t].reverse(),velocity:-r})),p.calculatedDuration===null&&(p.calculatedDuration=_I(p)); const _hh$temp80=p,h=_hh$temp80.calculatedDuration,v=h+s,y=v*(o+1)-s; return{generator:p,mirroredGenerator:m,mapPercentToKeyframes:d,calculatedDuration:h,resolvedDuration:v,totalDuration:y}}onPostResolved(){ const _hh$temp81=this.options,_hh$temp81$autoplay=_hh$temp81.autoplay,t=_hh$temp81$autoplay===void 0?!0:_hh$temp81$autoplay; this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){ const _hh$temp82=this,o=_hh$temp82.resolved; if(!o){ const _hh$temp83=this.options,L=_hh$temp83.keyframes; return{done:!0,value: __get$(L,L.length-1) }} const _hh$temp84=o,s=_hh$temp84.finalKeyframe,a=_hh$temp84.generator,r=_hh$temp84.mirroredGenerator,c=_hh$temp84.mapPercentToKeyframes,d=_hh$temp84.keyframes,m=_hh$temp84.calculatedDuration,p=_hh$temp84.totalDuration,h=_hh$temp84.resolvedDuration; if(this.startTime===null)return a.next(0); const _hh$temp85=this.options,v=_hh$temp85.delay,y=_hh$temp85.repeat,C=_hh$temp85.repeatType,S=_hh$temp85.repeatDelay,b=_hh$temp85.onUpdate; this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const I=this.currentTime-v*(this.speed>=0?1:-1),x=this.speed>=0?I<0:I>p;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let E=this.currentTime,k=a;if(y){const L=Math.min(this.currentTime,p)/h;let B=Math.floor(L),F=L%1;!F&&L>=1&&(F=1),F===1&&B--,B=Math.min(B,y+1),!!(B%2)&&(C==="reverse"?(F=1-F,S&&(F-=S/h)):C==="mirror"&&(k=r)),E=Ms(0,1,F)*h}const w=x?{done:!1,value:d[0]}:k.next(E);c&&(w.value=c(w.value)); let _hh$temp86=w,_=_hh$temp86.done; !x&&m!==null&&(_=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return N&&s!==void 0&&(w.value=AI(d,this.options,s)),b&&b(w.value),N&&this.finish(),w}get duration(){ const _hh$temp87=this,t=_hh$temp87.resolved; return t?wr(t.calculatedDuration):0}get time(){return wr(this.currentTime)}set time(t){t=Qh(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=wr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return; const _hh$temp88=this.options,_hh$temp88$driver=_hh$temp88.driver,t=_hh$temp88$driver===void 0?NM:_hh$temp88$driver,n=_hh$temp88.onPlay,o=_hh$temp88.startTime; this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=o??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished"; const _hh$temp89=this.options,t=_hh$temp89.onComplete; t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}function UM(e){return new OM(e)}function DI(e,t,n){var o;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;t&&(s=t.current);const a=(o= __get$(n,e,true) )!==null&&o!==void 0?o:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function OI(e,t){let n;const o=()=>{ const _hh$temp90=t,s=_hh$temp90.currentTime,r=(s===null?0:s.value)/100; n!==r&&e(r),n=r};return Ln.update(o,!0),()=>dd(o)}const ru=new WeakMap;let Is;function FM(e,t){if(t){ const _hh$temp91=t[0],n=_hh$temp91.inlineSize,o=_hh$temp91.blockSize; return{width:n,height:o}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function jM( _hh$temp92 ){ var e=_hh$temp92.target,t=_hh$temp92.contentRect,n=_hh$temp92.borderBoxSize; var o;(o=ru.get(e))===null||o===void 0||o.forEach(s=>{s({target:e,contentSize:t,get size(){return FM(e,n)}})})}function BM(e){e.forEach(jM)}function VM(){typeof ResizeObserver>"u"||(Is=new ResizeObserver(BM))}function HM(e,t){Is||VM();const n=DI(e);return n.forEach(o=>{let s=ru.get(o);s||(s=new Set,ru.set(o,s)),s.add(t),Is?.observe(o)}),()=>{n.forEach(o=>{const s=ru.get(o);s?.delete(t),s?.size||Is?.unobserve(o)})}}const iu=new Set;let Hi;function zM(){Hi=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};iu.forEach(n=>n(t))},window.addEventListener("resize",Hi)}function GM(e){return iu.add(e),Hi||zM(),()=>{iu.delete(e),!iu.size&&Hi&&(Hi=void 0)}}function WM(e,t){return typeof e=="function"?GM(e):HM(e,t)}const $M=50,Vy=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),qM=()=>({time:0,x:Vy(),y:Vy()}),KM={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Hy(e,t,n,o){ const s=__get$(n,t),_hh$temp93=__get$(KM,t),a=_hh$temp93.length,r=_hh$temp93.position,c=s.current,d=n.time; s.current= __get$(e,`scroll${r}`) ,s.scrollLength= __get$(e,`scroll${a}`) - __get$(e,`client${a}`) ,s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=pd(0,s.scrollLength,s.current);const m=o-d;s.velocity=m>$M?0:Jh(s.current-c,m)}function YM(e,t,n){Hy(e,"x",t,n),Hy(e,"y",t,n),t.time=n}function ZM(e,t){const n={x:0,y:0};let o=e;for(;o&&o!==t;)if(o instanceof HTMLElement)n.x+=o.offsetLeft,n.y+=o.offsetTop,o=o.offsetParent;else if(o.tagName==="svg"){const s=o.getBoundingClientRect();o=o.parentElement;const a=o.getBoundingClientRect();n.x+=s.left-a.left,n.y+=s.top-a.top}else if(o instanceof SVGGraphicsElement){ const _hh$temp94=o.getBBox(),s=_hh$temp94.x,a=_hh$temp94.y; n.x+=s,n.y+=a;let r=null,c=o.parentNode;for(;!r;)c.tagName==="svg"&&(r=c),c=o.parentNode;o=r}else break;return n}const vf={start:0,center:.5,end:1};function zy(e,t,n=0){let o=0;if(e in vf&&(e= __get$(vf,e) ),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?o=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?o=s/100*document.documentElement.clientWidth:e.endsWith("vh")?o=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(o=t*e),n+o}const JM=[0,0];function QM(e,t,n,o){let s=Array.isArray(e)?e:JM,a=0,r=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e, __get$(vf,e) ?e:"0"]),a=zy(s[0],n,o),r=zy(s[1],t),a-r}const XM={All:[[0,0],[1,1]]},eR={x:0,y:0};function tR(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function nR(e,t,n){ const _hh$temp95=n,_hh$temp95$offset=_hh$temp95.offset,o=_hh$temp95$offset===void 0?XM.All:_hh$temp95$offset,_hh$temp96=n,_hh$temp96$target=_hh$temp96.target,s=_hh$temp96$target===void 0?e:_hh$temp96$target,_hh$temp96$axis=_hh$temp96.axis,a=_hh$temp96$axis===void 0?"y":_hh$temp96$axis,r=a==="y"?"height":"width",c=s!==e?ZM(s,e):eR,d=s===e?{width:e.scrollWidth,height:e.scrollHeight}:tR(s),m={width:e.clientWidth,height:e.clientHeight};  __get$(t,a) .offset.length=0;let p=! __get$(t,a) .interpolate;const h=o.length;for(let v=0;v<h;v++){const y=QM( __get$(o,v) , __get$(m,r) , __get$(d,r) , __get$(c,a) );!p&&y!== __get$(__get$(t,a).interpolatorOffsets,v) &&(p=!0), __set$(__get$(t,a).offset,v,y) }p&&( __get$(t,a) .interpolate=sg( __get$(t,a) .offset,LI(o),{clamp:!1}), __get$(t,a) .interpolatorOffsets=[... __get$(t,a) .offset]), __get$(t,a) .progress=Ms(0,1, __get$(t,a) .interpolate( __get$(t,a) .current))}function oR(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let o=t;for(;o&&o!==e;)n.x.targetOffset+=o.offsetLeft,n.y.targetOffset+=o.offsetTop,o=o.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function sR(e,t,n,o={}){return{measure:()=>oR(e,o.target,n),update:s=>{YM(e,n,s),(o.offset||o.target)&&nR(e,n,o)},notify:()=>t(n)}}const xi=new WeakMap,Gy=new WeakMap,np=new WeakMap,Wy=e=>e===document.documentElement?window:e;function ag(e, _hh$temp97 ={}){ var _hh$temp97$container=_hh$temp97.container,t=_hh$temp97$container===void 0?document.documentElement:_hh$temp97$container,n=__rest$Object(_hh$temp97,["container"]); let o=np.get(t);o||(o=new Set,np.set(t,o));const s=qM(),a=sR(t,e,s,n);if(o.add(a),!xi.has(t)){const c=()=>{for(const v of o)v.measure()},d=()=>{for(const v of o)v.update(nc.timestamp)},m=()=>{for(const v of o)v.notify()},p=()=>{Ln.read(c,!1,!0),Ln.read(d,!1,!0),Ln.update(m,!1,!0)};xi.set(t,p);const h=Wy(t);window.addEventListener("resize",p,{passive:!0}),t!==document.documentElement&&Gy.set(t,WM(t,p)),h.addEventListener("scroll",p,{passive:!0})}const r=xi.get(t);return Ln.read(r,!1,!0),()=>{var c;dd(r);const d=np.get(t);if(!d||(d.delete(a),d.size))return;const m=xi.get(t);xi.delete(t),m&&(Wy(t).removeEventListener("scroll",m),(c=Gy.get(t))===null||c===void 0||c(),window.removeEventListener("resize",m))}}function aR( _hh$temp98 ){ var e=_hh$temp98.source,t=_hh$temp98.container,_hh$temp98$axis=_hh$temp98.axis,n=_hh$temp98$axis===void 0?"y":_hh$temp98$axis; e&&(t=e);const o={value:0},s=ag(a=>{o.value= __get$(a,n) .progress*100},{container:t,axis:n});return{currentTime:o,cancel:s}}const op=new Map;function UI( _hh$temp99 ={}){ var e=_hh$temp99.source,_hh$temp99$container=_hh$temp99.container,t=_hh$temp99$container===void 0?document.documentElement:_hh$temp99$container,_hh$temp99$axis=_hh$temp99.axis,n=_hh$temp99$axis===void 0?"y":_hh$temp99$axis; e&&(t=e),op.has(t)||op.set(t,{});const o=op.get(t);return  __get$(o,n) ||( __set$(o,n,MP()?new ScrollTimeline({source:t,axis:n}):aR({source:t,axis:n})) ), __get$(o,n) }function rR(e){return e.length===2}function FI(e){return e&&(e.target||e.offset)}function iR(e,t){return rR(e)||FI(t)?ag(n=>{e( __get$(n,t.axis) .progress,n)},t):OI(e,UI(t))}function cR(e,t){if(e.flatten(),FI(t))return e.pause(),ag(n=>{e.time=e.duration* __get$(n,t.axis) .progress},t);{const n=UI(t);return e.attachTimeline?e.attachTimeline(n,o=>(o.pause(),OI(s=>{o.time=o.duration*s},n))):Us}}function lR(e, _hh$temp100 ={}){ var _hh$temp100$axis=_hh$temp100.axis,t=_hh$temp100$axis===void 0?"y":_hh$temp100$axis,n=__rest$Object(_hh$temp100,["axis"]); const o={axis:t,...n};return typeof e=="function"?iR(e,o):cR(e,o)}function $y(e,t){b8(!!(!t||t.current))}const uR=()=>({scrollX:yr(0),scrollY:yr(0),scrollXProgress:yr(0),scrollYProgress:yr(0)});function dR( _hh$temp101 ={}){ var e=_hh$temp101.container,t=_hh$temp101.target,_hh$temp101$layoutEffect=_hh$temp101.layoutEffect,n=_hh$temp101$layoutEffect===void 0?!0:_hh$temp101$layoutEffect,o=__rest$Object(_hh$temp101,["container","target","layoutEffect"]); const s=rs(uR);return(n?_c:u.useEffect)(()=>($y("target",t),$y("container",e),lR((r, _hh$temp102 )=>{ var c=_hh$temp102.x,d=_hh$temp102.y; s.scrollX.set(c.current),s.scrollXProgress.set(c.progress),s.scrollY.set(d.current),s.scrollYProgress.set(d.progress)},{...o,container:e?.current||void 0,target:t?.current||void 0})),[e,t,JSON.stringify(o.offset)]),s}function jI(e){ const t=rs(()=>yr(e)),_hh$temp103=u.useContext(ba),n=_hh$temp103.isStatic; if(n){ const _hh$temp104=__arrayFrom$(u.useState(e)),o=_hh$temp104[1]; u.useEffect(()=>t.on("change",o),[])}return t}function BI(e,t){const n=jI(t()),o=()=>n.set(t());return o(),_c(()=>{const s=()=>Ln.preRender(o,!1,!0),a=e.map(r=>r.on("change",s));return()=>{a.forEach(r=>r()),dd(o)}}),n}function mR(e,t={}){ const _hh$temp105=u.useContext(ba),n=_hh$temp105.isStatic,o=u.useRef(null),s=rs(()=>is(e)?e.get():e),a=rs(()=>typeof s=="string"?__call$(s,"replace",[/[\d.-]/g,""]):void 0),r=jI(s),c=u.useRef(s),d=u.useRef(Us),m=()=>{p(),o.current=UM({keyframes:[Ky(r.get()),Ky(c.current)],velocity:r.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:d.current});},p=()=>{o.current&&o.current.stop();}; return u.useInsertionEffect(()=>r.attach((h,v)=>n?v(h):(c.current=h,d.current=y=>v(qy(y,a)),Ln.postRender(m),r.get()),p),[JSON.stringify(t)]),_c(()=>{if(is(e))return e.on("change",h=>r.set(qy(h,a)))},[r,a]),r}function qy(e,t){return t?e+t:e}function Ky(e){return typeof e=="number"?e:parseFloat(e)}const pR=e=>e&&typeof e=="object"&&e.mix,fR=e=>pR(e)?e.mix:void 0;function hR(...e){const t=!Array.isArray(e[0]),n=t?0:-1,o= __get$(e,0+n) ,s= __get$(e,1+n) ,a= __get$(e,2+n) ,r= __get$(e,3+n) ,c=sg(s,a,{mixer:fR(a[0]),...r});return t?c(o):c}function gR(e){Bi.current=[],e();const t=BI(Bi.current,e);return Bi.current=void 0,t}function Tu(e,t,n,o){if(typeof e=="function")return gR(e);const s=typeof t=="function"?t:hR(t,n,o);return Array.isArray(e)?Yy(e,s):Yy([e], _hh$temp106=>{var _hh$temp107=__arrayFrom$(_hh$temp106),a=_hh$temp107[0];return s(a);} )}function Yy(e,t){const n=rs(()=>[]);return BI(e,()=>{n.length=0;const o=e.length;for(let s=0;s<o;s++) __set$(n,s,__get$(e,s).get()) ;return t(n)})}const vR={some:0,all:1};function yR(e,t, _hh$temp108 ={}){ var n=_hh$temp108.root,o=_hh$temp108.margin,_hh$temp108$amount=_hh$temp108.amount,s=_hh$temp108$amount===void 0?"some":_hh$temp108$amount; const a=DI(e),r=new WeakMap,c=m=>{m.forEach(p=>{const h=r.get(p.target);if(p.isIntersecting!==!!h)if(p.isIntersecting){const v=t(p.target,p);typeof v=="function"?r.set(p.target,v):d.unobserve(p.target)}else typeof h=="function"&&(h(p),r.delete(p.target))})},d= new IntersectionObserver(c,{root:n,rootMargin:o,threshold:typeof s=="number"?s:__get$(vR,s)}) ;return a.forEach(m=>d.observe(m)),()=>d.disconnect()}function rg(e, _hh$temp109 ={}){ var t=_hh$temp109.root,n=_hh$temp109.margin,o=_hh$temp109.amount,_hh$temp109$once=_hh$temp109.once,s=_hh$temp109$once===void 0?!1:_hh$temp109$once,_hh$temp109$initial=_hh$temp109.initial,a=_hh$temp109$initial===void 0?!1:_hh$temp109$initial;  const _hh$temp110=__arrayFrom$(u.useState(a)),r=_hh$temp110[0],c=_hh$temp110[1]; return u.useEffect(()=>{if(!e.current||s&&r)return;const d=()=>(c(!0),s?void 0:()=>c(!1)),m={root:t&&t.current||void 0,margin:n,amount:o};return yR(e.current,d,m)},[t,e,n,s,o]),r}const VI=u.createContext(void 0);function CR(){return u.useContext(VI)}function SR(e){ const _hh$temp111=e,t=_hh$temp111.children,n=_hh$temp111.randomSeed; return i.jsx(VI.Provider,{value:n,children:t})}const bR=()=>D(()=>import( __get$ProxyUrl("./react-Cv_doWZf.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(e=>e.domMax);function IR(e){ const _hh$temp112=e,t=_hh$temp112.children,n=_hh$temp112.queryClient,o=_hh$temp112.randomSeed; return i.jsx(Y2,{reducedMotion:"user",children:i.jsx(w8,{features:bR,strict:!0,children:i.jsx(w7,{client:n,children:i.jsx(SR,{randomSeed:o,children:t})})})})}const hd=new T7({defaultOptions:{queries:{retry:0,refetchOnWindowFocus:!1}}});u.createContext(null);const HI=[{name:"Arabic",i18nCode:"ar",direction:"rtl"},{name:"Basque",i18nCode:"eu",direction:"ltr"},{name:"Bengali",i18nCode:"bn-IN",direction:"ltr"},{name:"Bulgarian",i18nCode:"bg",direction:"ltr"},{name:"Catalan",i18nCode:"ca",direction:"ltr"},{name:"Chinese (Simplified)",i18nCode:"zh-Hans",direction:"ltr"},{name:"Chinese (Traditional)",i18nCode:"zh-Hant",direction:"ltr"},{name:"Croatian",i18nCode:"hr",direction:"ltr"},{name:"Czech",i18nCode:"cs",direction:"ltr"},{name:"Danish",i18nCode:"da",direction:"ltr"},{name:"Dutch",i18nCode:"nl",direction:"ltr"},{name:"English (US)",i18nCode:"en-US",direction:"ltr"},{name:"English (UK)",i18nCode:"en-GB",direction:"ltr"},{name:"Estonian",i18nCode:"et",direction:"ltr"},{name:"Finnish",i18nCode:"fi",direction:"ltr"},{name:"French",i18nCode:"fr",direction:"ltr"},{name:"Galician",i18nCode:"gl",direction:"ltr"},{name:"German",i18nCode:"de",direction:"ltr"},{name:"Gujarati",i18nCode:"gu",direction:"ltr"},{name:"Hebrew",i18nCode:"he",direction:"rtl"},{name:"Hindi",i18nCode:"hi",direction:"ltr"},{name:"Hungarian",i18nCode:"hu",direction:"ltr"},{name:"Icelandic",i18nCode:"is",direction:"ltr"},{name:"Indonesian",i18nCode:"id",direction:"ltr"},{name:"Italian",i18nCode:"it",direction:"ltr"},{name:"Japanese",i18nCode:"ja",direction:"ltr"},{name:"Kannada",i18nCode:"kn",direction:"ltr"},{name:"Korean",i18nCode:"ko",direction:"ltr"},{name:"Latvian",i18nCode:"lv",direction:"ltr"},{name:"Lithuanian",i18nCode:"lt",direction:"ltr"},{name:"Malay",i18nCode:"ms",direction:"ltr"},{name:"Malayalam",i18nCode:"ml",direction:"ltr"},{name:"Marathi",i18nCode:"mr",direction:"ltr"},{name:"Norwegian (Bokml)",i18nCode:"nb-NO",direction:"ltr"},{name:"Polish",i18nCode:"pl",direction:"ltr"},{name:"Portuguese (Brazil)",i18nCode:"pt-BR",direction:"ltr"},{name:"Portuguese (Portugal)",i18nCode:"pt-PT",direction:"ltr"},{name:"Punjabi",i18nCode:"pa",direction:"ltr"},{name:"Romanian",i18nCode:"ro",direction:"ltr"},{name:"Russian",i18nCode:"ru",direction:"ltr"},{name:"Serbian (Latin)",i18nCode:"sr-Latn-RS",direction:"ltr"},{name:"Slovak",i18nCode:"sk",direction:"ltr"},{name:"Slovenian",i18nCode:"sl",direction:"ltr"},{name:"Spanish",i18nCode:"es",direction:"ltr"},{name:"Swedish",i18nCode:"sv",direction:"ltr"},{name:"Tamil",i18nCode:"ta",direction:"ltr"},{name:"Telugu",i18nCode:"te",direction:"ltr"},{name:"Thai",i18nCode:"th",direction:"ltr"},{name:"Turkish",i18nCode:"tr",direction:"ltr"},{name:"Ukrainian",i18nCode:"uk",direction:"ltr"},{name:"Vietnamese",i18nCode:"vi",direction:"ltr"}],zI=HI.map(e=>e.i18nCode);function ig(e){const t="en-US";if(!e)return[t];const n=ER(e),o=wR(e),s=TR(e);return[n,o,s,t].filter(a=>!!a).filter((a,r,c)=>c.indexOf(a)===r)}function ER(e){return zI.find(t=>t.toLowerCase()===e.toLowerCase())}function wR(e){if(["en-AU","en-NZ","en-IE"].includes(e))return"en-GB";if(e.startsWith("zh-")){const t=e.toLocaleLowerCase();return t==="zh-TW".toLocaleLowerCase()||t==="zh-HK".toLocaleLowerCase()?"zh-Hant":"zh-Hans"}}function TR(e){const t=e.split("-")[0]?.toLowerCase();if(t){const n=zI.find(o=>o.toLowerCase()===t||o.toLowerCase().startsWith(`${t}-`));if(n)return n}}const xR=f({lng:l(),resources:wt(l(),f({translation:wt(l(),l())}))});function AR(e){return xR.safeParse(e).success}const _R="__i18n-data__";function kR(e){if(typeof window>"u")return;const t=document.getElementById(e);if(!(!t||t.tagName!=="SCRIPT"||!t.textContent))try{return JSON.parse(t.textContent)}catch{return}}function PR(e,t){const n=kR(e);return n!==void 0&&t(n)?n:void 0}const ws="colorTheme",xu="userSidebarOpen",GI="greetingKey",yf="greetingName",Mr="hasBeenMsalAuthenticated";function _a(e){const t={title:"og:title",siteName:"og:site_name",description:"og:description",type:"og:type",url:"og:url",imageUrl:"og:image",imageWidth:"og:image:width",imageHeight:"og:image:height"},n=[];for(const _hh$temp113 of Object.entries(e)) {const _hh$temp114=__arrayFrom$(_hh$temp113),o=_hh$temp114[0],s=_hh$temp114[1];s&&n.push({property:__get$(t,o),content:s});} return n}const MR="@MSFTCopilot";function ka(e){const t={title:"twitter:title",description:"twitter:description",card:"twitter:card",image:"twitter:image"},n=[];for(const _hh$temp115 of Object.entries(e)) {const _hh$temp116=__arrayFrom$(_hh$temp115),o=_hh$temp116[0],s=_hh$temp116[1];s&&n.push({name:__get$(t,o),content:s});} return n.push({name:"twitter:site",content:MR}),n}const RR="noindex, nofollow";async function Fs(e){try{return await e()}catch(t){throw t}}function NR(e){ const _hh$temp117=e,t=_hh$temp117.Root,_hh$temp117$routerConfig=_hh$temp117.routerConfig,n=_hh$temp117$routerConfig===void 0?{}:_hh$temp117$routerConfig; return x7()({head:void 0,...n,component:()=>i.jsxs(i.Fragment,{children:[i.jsx(t,{}),!1]})})}const LR="/static/cmc/assets/copilot-qr-dark-desktop-setting-banner-CqsoJ8gk.webp",DR="/static/cmc/assets/copilot-qr-light-desktop-setting-banner-C2lNCEe_.webp",Zy="/static/cmc/assets/copilot-qr-light-shopping-Dm2se5Rq.png",OR={appLayout:{showSettings:!0,showCookieBanner:!0,showMobileCrossSelling:!0},surfaceQueryParam:null,showScrollbarOnHover:!1,dailyBriefingOcid:"cp_msn_cmc",persistThemeChoice:!0,entraRedirectModalBehaviour:"replace",redirectBackEnabled:!0,crossPromotion:{settingBanner:{dark:LR,light:DR}},connectorPlatform:{isGoogleDriveEnabled:!0,isGoogleCalendarEnabled:!0,isOutlookEnabled:!0,isOneDriveEnabled:!0,isGmailEnabled:!0,isGoogleContactsEnabled:!0,isGoogleTasksEnabled:!1,isEdgeBrowserEnabled:!0},proSubscription:{enabled:!0,manageRefId:"cmc",urlParams:{ocids:{Management:{buy:"cmmw7mw3yqb"},"Management-FromWinNative":{buy:"cmmuqx95kk5"},"Management-FromWinChromium":{buy:"cmmuqx95kk5"},Settings:{buy:"cmma1qqdrup"},"Settings-FromWinNative":{buy:"cmmgeuw7z2g"},"Settings-FromWinChromium":{buy:"cmmgeuw7z2g"},Unknown:{buy:"cmmipliy5qj"},VisionLimit:{buy:"cmm1z6j7vhd"},"VisionLimit-FromWinNative":{buy:"cmmipxlurfj"},"VisionLimit-FromWinChromium":{buy:"cmmipxlurfj"},"VisionLimit-FromEdge":{buy:"cmmkxmbp63s"},"VisionLimit-FromEdgeCopilotMode":{buy:"cmmtardi03n"},PodcastLimit:{buy:"cmml80k74li"},"PodcastLimit-FromWinNative":{buy:"cmmeqe0ui7z"},"PodcastLimit-FromWinChromium":{buy:"cmmeqe0ui7z"},"PodcastLimit-FromEdgeCopilotMode":{buy:"cmmxl5ui5bi"},ActionsLimit:{buy:"cmm77pn9501"},"ActionsLimit-FromWinNative":{buy:"cmm5tgy4bxa"},"ActionsLimit-FromWinChromium":{buy:"cmm5tgy4bxa"},"ActionsLimit-FromEdgeCopilotMode":{buy:"cmmq2as5182"},VideoGenLimit:{buy:"cmmbme9rppw"},"VideoGenLimit-FromWinNative":{buy:"cmmz6nczsl1"},"VideoGenLimit-FromWinChromium":{buy:"cmmz6nczsl1"},"VideoGenLimit-FromEdgeCopilotMode":{buy:"cmmvlp7mpo5"},DeepResearchLimit:{buy:"cmmnfbwmed3"},"DeepResearchLimit-FromWinNative":{buy:"cmmoehrafkb"},"DeepResearchLimit-FromWinChromium":{buy:"cmmoehrafkb"},"DeepResearchLimit-FromEdgeCopilotMode":{buy:"cmm8w5fhoop"},UpsellProToPremium:{buy:"cmm7zptzbn8"},"UpsellProToPremium-FromWinNative":{buy:"cmmtftzk1ke"},"UpsellProToPremium-FromWinChromium":{buy:"cmmtftzk1ke"},UpsellPFToPremium:{buy:"cmmmomom1i8"},"UpsellPFToPremium-FromWinNative":{buy:"cmmmkce74lz"},"UpsellPFToPremium-FromWinChromium":{buy:"cmmmkce74lz"},UpsellFreeInSidePane:{buy:"cmmdc6nkdch"},"UpsellFreeInSidePane-FromWinChromium":{buy:"cmm7276zt38"},"Management-FromEdge":{buy:"cmms9lc34s3"},"Management-FromEdgeCopilotMode":{buy:"cmmmpw9yzgm"}}},upsellFromAuth0:{navigateToProSubPageAfterLogin:!0}},adsEnabled:!0,adsShowroomEnabled:!0,thinkDeeperFreemiumEnabled:!0,monitorAccountChangesAcrossTabs:!0,shopping:{upsell:{banner:{light:Zy,dark:Zy}},showPdpSidepane:!0,payment:{isPayPalCheckoutEnabled:!0}},sidebarNavigation:!0,enableAuth0:!0,enableMultiAuthProviders:!0,settingsOverrides:{shouldShowActivityHistory:!0,shouldShowMemoryDelete:!0,shouldShowEdgePasswordsAccessSetting:!0,includeScrollForLightDismiss:!1},enableCustom1DS:!0,actions:{enableActions:()=>Promise.resolve(!0)},landingPage:{enableCentralComposer:!0,enableStarterPrompts:!0,enableAutoSuggest:!0,enablePromptedGreetings:!0,shouldFetchWidgetsData:!0,regexForAutoSuggest:/\S+/},supportsYouTubeVideos:!0,useMSALPwBApp:!0,isBotDetectionEnabled:!0,enableLabs:!0,supportsChatDetails:!0,pages:{enableEditorImageUpload:!0},webWorkerEnabled:!0,anonymousBlockPageEnabled:!0};class Z{cfg=OR;static singleton=null;static instance(){return Z.singleton??=new Z,Z.singleton}config(){return this.cfg}setConfig(t){this.cfg=t}}function UR(e,t){return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}function cg(e){ const t=u.useMemo(()=>typeof window<"u"?window.matchMedia(e):null,[e]),_hh$temp118=__arrayFrom$(u.useState(!!t?.matches)),n=_hh$temp118[0],o=_hh$temp118[1]; return u.useEffect(()=>{if(t)return o(t.matches),UR(t,s=>o(s.matches))},[t]),n}function WI(e){ const _hh$temp119=e,t=_hh$temp119.children,_hh$temp119$serverFallback=_hh$temp119.serverFallback,n=_hh$temp119$serverFallback===void 0?null:_hh$temp119$serverFallback; return Pa()?t:n}function Pa(){return u.useSyncExternalStore(FR,()=>!0,()=>!1)}function FR(){return()=>{}}const $I={sm:"640",md:"768",lg:"1024",xl:"1280","2xl":"1536","3xl":"1920"};function vt(e){ const _hh$temp120=e,t=_hh$temp120.breakpoint,n=__get$($I,t),o=!cg(`(min-width: ${n}px)`); return Pa()?o:!1}function lg(e){ const _hh$temp121=e,t=_hh$temp121.breakpoint,o=`(min-width: ${__get$($I,t)}px)`; return!(typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia(o):null)?.matches}function Ro(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Au(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Nc(e,t){const n=Ro(e);return isNaN(t)?Au(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const qI=typeof document<"u",jR=typeof navigator<"u";function BR(e,t){if(qI)return document.cookie.split(";").filter(n=>n.trim().startsWith(`${e}=`)).at(t)}function cs(e,t=0){const n=BR(e,t),o=n?.indexOf("=");if(!n||typeof o!="number"||o===-1)return;const s=n.substring(o+1);if(s)return decodeURIComponent(s)}function ls(e,t,n={}){ const _hh$temp122=n,o=_hh$temp122.expireDays,_hh$temp122$path=_hh$temp122.path,s=_hh$temp122$path===void 0?"/":_hh$temp122$path,a=_hh$temp122.domain,_hh$temp122$secure=_hh$temp122.secure,r=_hh$temp122$secure===void 0?!0:_hh$temp122$secure,c=_hh$temp122.host; if(!qI)return;let d=e;r&&!a&&s==="/"&&c&&(d=`__Host-${e}`);let m=`${d}=${encodeURIComponent(t)}; path=${s}`;if(o){const p=Nc(new Date,o);m+=`; expires=${p.toUTCString()}`}a&&(m+=`; domain=${a}`),r&&(m+="; secure"),document.cookie=m}function Rr(e,t={}){ls(e,"",{...t,expireDays:-1})}const hr={name:"CMCCP",expirationDays:365},gd={name:"BCP"},VR="3PAdsOptOut";function ug(){return cs(hr.name)??cs(gd.name)}function Jy(e,t){ const _hh$temp123=e,n=_hh$temp123.analytics,o=_hh$temp123.advertising,s=_hh$temp123.socialMedia,a=new URLSearchParams(); a.set("AD",o?"1":"0"),a.set("AL",n?"1":"0"),a.set("SM",s?"1":"0");const r=Nc(new Date,t);return a.set("expires",r.getTime().toString()),a.toString()}function HR(e){ls(hr.name,Jy(e,hr.expirationDays),{expireDays:hr.expirationDays}),ls(gd.name,Jy(e,hr.expirationDays),{expireDays:hr.expirationDays})}function Ma(){const e=cs(gd.name);if(!e)return{advertising:!1,analytics:!1,socialMedia:!1};const t=new URLSearchParams(e),n=t.get("AD")==="1",o=t.get("AL")==="1",s=t.get("SM")==="1";return{advertising:n,analytics:o,socialMedia:s}}function KI(){const e=cs(VR)!=="1";return jR?navigator.globalPrivacyControl?!1:e:!1}function vd(){if(!(typeof window>"u"))return window.isStudioSsr?"ssr":"csr"}const Qy="mobileCrossSellingLastClosed",sp="mobilePromoCountClose",zR="hasBeenAuthenticated",dg="auth0MigrationInteractionRequired",yd="auth0MigrationLinkForbidden",_u="auth0MigrationLinkFailed",ku="auth0UserAvatar",ac="auth0UserName",Cd="newConversationsStarted",Nr="timeOfNewConversationThreshold",Cf="hasResetConversationDisclaimer",Sf="banAppealSubmitted",Uwe="hideDeleteConversationModal",GR="hasSeenCharacter",Xy="voiceAppearanceId",eC="voiceLiveCaptionEnabled",WR="disableAppearanceOnHomeScreen",YI="hasSeenAppearance",Fwe="hasSeenAppearanceDeviceCompatNoticeToast",$R="hasSeenAppearanceOnVoiceCall",qR="hasSeenFirstRunExperienceAnimation",KR="hasClickedAppearanceEducationModal",YR="hasUsedAppearanceColorShuffler",ZR="hasUsedAppearanceVoiceCustomization",Pu="voiceCallCount",JR="unlockedSpecialEvents",tC="actionOnAppearanceDiscoveryCta",nC="crossPromoFirstVisit",oC="reviewActiveDays",bf="reviewPromptResponse",QR="coachmark",XR="isMsalSilentSsoEnabled",ZI="user.UserFirstName",eN="m365WxpHistorySyncEnabled",If="loginStartTime",Ef="reauthLoginFlag",jwe="m365.consent.modal.showed",Bwe="subscription.m365SubscriberFRE",sC="userConversationVoiceSpeed",wf="3pMigrationPhase1Enabled",Tf="test3rdPartyCookie",tN="copilotBeta",nN="copilotBetaAnnouncementRequired",JI="msalSilentSsoLastRunAt",oN="copilotVisionLastClicked",sN="hasEnteredGalleryDetailFromHome",Vwe="portraitsConfig",aC="voiceFeedbackReviewRequestRejected",Hwe="appearanceLowFpsStats",zwe="hasClickedPersonalityAdjustment",QI="connectorMetadata",aN="appr-consumed-events",rN="appr-today-event";function qt(e,t){typeof window<"u"&&localStorage.setItem(e,t)}function Mt(e){return typeof window<"u"?localStorage.getItem(e):null}function ft(e){typeof window<"u"&&localStorage.removeItem(e)}function Ht(e,t){const n=Mt(e);if(!n)return null;try{const o=JSON.parse(n);return t.parse(o)}catch{return null}}function No(e,t,n){try{t.parse(n),qt(e,JSON.stringify(n))}catch{}}const mg=J([g("open"),g("close")]),XI=f({sidebarVisibility:mg.optional()});function iN(e){No(xu,XI,{sidebarVisibility:e}),ls(xu,e,{expireDays:365*10})}function cN(e){const t=mg.safeParse(e);return t.success?t.data:"close"}function e5(){const e=mg.safeParse(cs(xu));if(e.success)return e.data;const t=vd()==="ssr"?void 0:Ht(xu,XI)?.sidebarVisibility;return cN(t)}function lN(){return Z.instance().config().sidebarNavigation?e5()!=="close":!1}const ap=P({left:lN(),right:!1}),Lo=P(e=>e(ap).left,(e,t,n)=>{const o=e(ap);t(ap,{left:n,right:n&&lg({breakpoint:"xl"})?!1:o.right})});function uN(){return Z.instance().config().sidebarNavigation??!1}const dN=P(uN());function mN(e){ const _hh$temp124=e,t=_hh$temp124.children,n=_hh$temp124.routeId,_hh$temp125=A7({from:n}),o=_hh$temp125.i18n,s=_hh$temp125.entryPointScript,a=_hh$temp125.nonce,r=_hh$temp125.theme,c=_hh$temp125.sidebarOpen; return i.jsxs(i.Fragment,{children:[t,i.jsx(_7,{})]})}const t5=u.createContext(null),rp={didCatch:!1,error:null};class pg extends u.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=rp}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){ const _hh$temp126=this.state,t=_hh$temp126.error; if(t!==null){for(var n,o,s=arguments.length,a=new Array(s),r=0;r<s;r++) __set$(a,r,__get$(arguments,r)) ;(n=(o=this.props).onReset)===null||n===void 0||n.call(o,{args:a,reason:"imperative-api"}),this.setState(rp)}}componentDidCatch(t,n){var o,s;(o=(s=this.props).onError)===null||o===void 0||o.call(s,t,n)}componentDidUpdate(t,n){ const _hh$temp127=this.state,o=_hh$temp127.didCatch,_hh$temp128=this.props,s=_hh$temp128.resetKeys; if(o&&n.error!==null&&pN(t.resetKeys,s)){var a,r;(a=(r=this.props).onReset)===null||a===void 0||a.call(r,{next:s,prev:t.resetKeys,reason:"keys"}),this.setState(rp)}}render(){ const _hh$temp129=this.props,t=_hh$temp129.children,n=_hh$temp129.fallbackRender,o=_hh$temp129.FallbackComponent,s=_hh$temp129.fallback,_hh$temp130=this.state,a=_hh$temp130.didCatch,r=_hh$temp130.error; let c=t;if(a){const d={error:r,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")c=n(d);else if(o)c=u.createElement(o,d);else if(s!==void 0)c=s;else throw r}return u.createElement(t5.Provider,{value:{didCatch:a,error:r,resetErrorBoundary:this.resetErrorBoundary}},c)}}function pN(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,o)=>!Object.is(n, __get$(t,o) ))}function fN(e){if(e==null||typeof e.didCatch!="boolean"||typeof e.resetErrorBoundary!="function")throw new Error("ErrorBoundaryContext not found")}function n5(){const e=u.useContext(t5);fN(e); const _hh$temp131=__arrayFrom$(u.useState({error:null,hasError:!1})),t=_hh$temp131[0],n=_hh$temp131[1],o=u.useMemo(()=>({resetBoundary:()=>{e.resetErrorBoundary(),n({error:null,hasError:!1});},showBoundary:s=>n({error:s,hasError:!0})}),[e.resetErrorBoundary]); if(t.hasError)throw t.error;return o}const fg=P(!1),mt=P(null),rC=P(null),iC=P(null),Lc=P(e=>{const t=e(mt);return t?t.accountType==="AAD":!1}),Sd=P(e=>{const t=e(mt);return t?t.accountType==="MSA":!1}),hN=P(e=>e(mt)!==null),Ts=P(null),gN=P(!0);function Dc(e){const t=P(e,(n,o,s)=>o(t,tn(n(t),typeof s=="function"?s:()=>s)));return t}function hg(e,t){const n=q(e);return u.useCallback(o=>n(tn(o)),[n])}const Oc={Namibia:"NA","South Africa":"ZA",Cameroon:"CM",Japan:"JP",Ghana:"GH",Ethiopia:"ET","United States":"US","United Arab Emirates":"AE",Bahrain:"BH",Djibouti:"DJ",Algeria:"DZ",Egypt:"EG","Western Sahara":"EH",Eritrea:"ER",Israel:"IL",Iraq:"IQ",Jordan:"JO",Comoros:"KM",Kuwait:"KW",Lebanon:"LB",Libya:"LY",Morocco:"MA",Mauritania:"MR",Oman:"OM","Palestinian Territories":"PS",Qatar:"QA","Saudi Arabia":"SA",Sudan:"SD",Somalia:"SO","South Sudan":"SS",Syria:"SY",Chad:"TD",Tunisia:"TN",Yemen:"YE",Chile:"CL",India:"IN",Tanzania:"TZ",Spain:"ES",Azerbaijan:"AZ",Russia:"RU",Belarus:"BY",Zambia:"ZM",Bulgaria:"BG",Mali:"ML",Bangladesh:"BD","China mainland":"CN",France:"FR","Bosnia & Herzegovina":"BA",Andorra:"AD",Italy:"IT",Philippines:"PH",Uganda:"UG",Iran:"IR",Czechia:"CZ","United Kingdom":"GB",Denmark:"DK",Greenland:"GL",Kenya:"KE",Austria:"AT",Belgium:"BE",Switzerland:"CH",Germany:"DE",Liechtenstein:"LI",Luxembourg:"LU",Niger:"NE",Maldives:"MV",Senegal:"SN",Bhutan:"BT",Togo:"TG",Cyprus:"CY",Greece:"GR","Antigua & Barbuda":"AG",Anguilla:"AI",Albania:"AL",Argentina:"AR","American Samoa":"AS",Australia:"AU",Barbados:"BB",Burundi:"BI",Bermuda:"BM",Brunei:"BN",Brazil:"BR",Bahamas:"BS",Botswana:"BW",Belize:"BZ",Canada:"CA","Cocos (Keeling) Islands":"CC","Cook Islands":"CK",Colombia:"CO","Cape Verde":"CV","Christmas Island":"CX","Diego Garcia":"DG",Dominica:"DM",Estonia:"EE",Finland:"FI",Fiji:"FJ","Falkland Islands":"FK",Micronesia:"FM",Grenada:"GD",Guernsey:"GG",Gibraltar:"GI",Gambia:"GM",Guam:"GU",Guyana:"GY","Hong Kong":"HK",Hungary:"HU",Indonesia:"ID",Ireland:"IE","Isle of Man":"IM","Chagos Archipelago":"IO",Jersey:"JE",Jamaica:"JM",Kiribati:"KI","St. Kitts & Nevis":"KN","South Korea":"KR","Cayman Islands":"KY","St. Lucia":"LC",Liberia:"LR",Lesotho:"LS",Lithuania:"LT",Latvia:"LV",Madagascar:"MG","Marshall Islands":"MH","Myanmar (Burma)":"MM",Macao:"MO","Northern Mariana Islands":"MP",Montserrat:"MS",Malta:"MT",Mauritius:"MU",Malawi:"MW",Mexico:"MX",Malaysia:"MY","Norfolk Island":"NF",Nigeria:"NG",Netherlands:"NL",Norway:"NO",Nauru:"NR",Niue:"NU","New Zealand":"NZ","Papua New Guinea":"PG",Pakistan:"PK",Poland:"PL","Pitcairn Islands":"PN","Puerto Rico":"PR",Portugal:"PT",Palau:"PW",Rwanda:"RW","Solomon Islands":"SB",Seychelles:"SC",Sweden:"SE",Singapore:"SG","St. Helena":"SH",Slovenia:"SI",Slovakia:"SK","Sierra Leone":"SL","Sint Maarten":"SX",Eswatini:"SZ","Turks & Caicos Islands":"TC",Thailand:"TH",Tokelau:"TK",Tonga:"TO",Trkiye:"TR","Trinidad & Tobago":"TT",Tuvalu:"TV",Taiwan:"TW",Ukraine:"UA","U.S. Outlying Islands":"UM","St. Vincent & Grenadines":"VC","British Virgin Islands":"VG","U.S. Virgin Islands":"VI",Vanuatu:"VU",Samoa:"WS",Zimbabwe:"ZW",Bolivia:"BO","Caribbean Netherlands":"BQ","Costa Rica":"CR",Cuba:"CU",Curaao:"CW","Dominican Republic":"DO","Ceuta & Melilla":"EA",Ecuador:"EC","Equatorial Guinea":"GQ",Guatemala:"GT",Honduras:"HN",Haiti:"HT","Canary Islands":"IC",Nicaragua:"NI",Panama:"PA",Peru:"PE",Paraguay:"PY","El Salvador":"SV",Uruguay:"UY",Venezuela:"VE",Afghanistan:"AF","Burkina Faso":"BF",Guinea:"GN","Guinea-Bissau":"GW","Faroe Islands":"FO",Benin:"BJ","St. Barthlemy":"BL","Congo - Kinshasa":"CD","Central African Republic":"CF","Congo - Brazzaville":"CG","Cte d'Ivoire":"CI",Gabon:"GA","French Guiana":"GF",Guadeloupe:"GP",Monaco:"MC","St. Martin":"MF",Martinique:"MQ","New Caledonia":"NC","French Polynesia":"PF","St. Pierre & Miquelon":"PM",Runion:"RE","Wallis & Futuna":"WF",Mayotte:"YT",Croatia:"HR",Armenia:"AM",Iceland:"IS","San Marino":"SM","Vatican City":"VA",Georgia:"GE",Kazakhstan:"KZ",Cambodia:"KH","North Korea":"KP",Kyrgyzstan:"KG",Angola:"AO",Laos:"LA",Mozambique:"MZ","North Macedonia":"MK",Mongolia:"MN","Svalbard & Jan Mayen":"SJ",Nepal:"NP",Aruba:"AW",Suriname:"SR","So Tom & Prncipe":"ST","Timor-Leste":"TL",Moldova:"MD",Romania:"RO","Sri Lanka":"LK",Kosovo:"XK",Montenegro:"ME",Serbia:"RS","land Islands":"AX",Tajikistan:"TJ",Turkmenistan:"TM",Uzbekistan:"UZ",Vietnam:"VN"},o5=["blowing-dust","blowing-sand","blowing-snow","clear","clear-occasional-rain-or-thunderstorms","clear-then-cloudy","clear-then-occasional-rain","clear-then-occasional-snow","clear-then-rain","clear-then-rain-or-snow","clear-then-rain-or-thunderstorms","clear-then-snow","clear-then-snow-or-rain","clear-then-thunderstorms","clear-with-isolated-snow","clear-with-isolated-thunderstorms","clear-with-occasional-clouds","clear-with-occasional-rain","clear-with-occasional-rain-or-snow","clear-with-occasional-snow","clear-with-occasional-snow-or-rain","cloudy","cloudy-and-occasionally-clear","cloudy-occasional-rain-or-thunderstorms","cloudy-then-clear","cloudy-then-occasional-rain","cloudy-then-occasional-snow","cloudy-then-occasionally-clear","cloudy-then-rain","cloudy-then-rain-or-snow","cloudy-then-rain-or-thunderstorms","cloudy-then-snow","cloudy-then-snow-or-rain","cloudy-with-isolated-rain","cloudy-with-occasional-rain","cloudy-with-occasional-rain-or-snow","cloudy-with-occasional-snow","cloudy-with-occasional-snow-or-rain","cloudy-with-thundersnow-at-times","drifting-sand","drifting-snow","drizzle","duststorm","fair","fog","freezing-drizzle","freezing-fog","freezing-rain","hail","haze","heavy-drizzle","heavy-rain","heavy-snow","heavy-thunderstorms","ice-pellets","light-drizzle","light-fog","light-freezing-drizzle","light-freezing-rain","light-hail","light-rain","light-rain-and-snow","light-rain-and-snow-shower","light-rain-shower","light-snow","light-snow-shower","mostly-clear","mostly-cloudy","mostly-sunny","partly-cloudy","partly-sunny","patchy-fog","rain","rain-and-occasionally-clear","rain-and-occasionally-cloudy","rain-and-snow","rain-and-snow-shower","rain-or-snow","rain-or-snow-then-clear","rain-or-snow-then-cloudy","rain-showers","rain-then-clear","rain-then-cloudy","rain-then-occasional-snow","rain-turning-to-snow","rain-with-occasional-snow","severe-duststorm","sleet","smoke","snow","snow-and-occasionally-clear","snow-and-occasionally-cloudy","snow-or-rain","snow-or-rain-then-clear","snow-or-rain-then-cloudy","snow-showers","snow-then-clear","snow-then-cloudy","snow-then-rain","squalls","sunny","thundersnow","thunderstorms","unknown","windy-rainstorm","windy-with-heavy-snow"],vN=["adult","teen"],yN=["twenty-four-hours","one-day","five-days","one-week","one-month","one-year","five-years","max"],CN=["pro","m365-basic","m365-personal-classic","m365-family-classic-admin","m365-family-classic-guest","m365-personal","m365-family-admin","m365-family-guest","m365-premium-admin","m365-premium-guest"],SN=["direct","apple","google","retail"],bN=["guest","free","m365-personal","pro","m365-premium"],IN=["python"],s5=["ready","disconnected","disabled","sign-in-required","unavailable"],gg=["google-drive","google-calendar","gmail","one-drive","outlook","outlook-calendar","google-contacts","google-tasks","edge-browser","apple-health","health-ex","terra","fitbit","oura","garmin","target","unknown"],EN=["implicit-consent","explicit-consent"],wN=["enel"],a5=10240,Gwe=100,Wwe=60,$we=2,TN=15e3,qwe=372,Kwe=352,xN=6,at={mediaViewer:"z-10",composer:"z-10",composerBottomSlot:"z-20",coachmark:"z-30",chatScrollToBottomButton:"z-20",babylonCharacter:"z-10",chatTopDockedContainer:"z-10",citations:"z-40",settings:"z-30",audioBase:"z-10",audioDisplayContent:"z-40",modalBackground:"z-30",modal:"z-40",sidebar:"z-40",tooltip:"z-40",toastNotification:"z-50",dropdownMenuOverModal:"z-50",pages:{warning:"z-10",chat:"z-20",chatSmallScreenOverlay:"z-50",floatingMenu:"z-50"},shopping:{navigation:"z-10"},stickyHeader:"z-20",header:"z-[60]",default:"z-0",behindContent:"-z-10",labs3d:{errorPage:"z-20",composerModal:"z-20"},citationHoverCard:"z-40",launchGreeting:"z-10"},eo={default:.15,slow:.5,composerButton:.2,settings:.1,audio:{available:.5,unavailable:2,deepLinkLanding:.5},dailyBriefing:{background:.5,sourcePopoverScale:.2,sourcePopoverOpacity:.15}},Ywe=.25,Zwe=2,Jwe=0,AN=2e3,Qwe=1e3,Xwe=.25,Be={opacity:0},ct={opacity:1},_N=.2,kN=.025,eTe={initial:Be,animate:{...ct,transition:{delayChildren:_N,staggerChildren:kN}}},r5={willChange:"auto"},PN="9188040d-6c67-4c5b-b112-36a304b66dad",tTe="copilot.cloud.microsoft",nTe="mt-px text-end uppercase text-foreground-450 text-xs dark:text-foreground-600",oTe="flex items-center justify-between text-start",MN=["Austria","Belgium","Brazil","Bulgaria","Canada","Croatia","Cyprus","Czechia","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Iceland","Ireland","Italy","Latvia","Liechtenstein","Lithuania","Luxembourg","Malta","Netherlands","Norway","China mainland","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","Trkiye","United Kingdom"],bd=MN.map(e=> __get$(Oc,e) ),RN=["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czechia","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden"],NN=RN.map(e=> __get$(Oc,e) ),LN=["Belarus","China mainland","Lebanon","Macao","Russia","Venezuela","North Korea","Cuba","Syria","Iran"],i5=LN.map(e=> __get$(Oc,e) ),DN="https://account.live.com/ep",ON="Smart",cC="Smart Plus",UN="GPT-5",FN="GPT-5.1",jN="GPT-5.2",sTe=1500,c5=24*60*60*1e3,rc=451,l5="Not allowed child account",vg="LEGALLY_UNAVAILABLE_STATUS",xf=3,ip=[80,100,110,125,150],Uc=100,BN=1e3,lC=!1,aTe=!1,yg="/chats/temporary",Mu=3,Kr="userInput",VN=14*c5,rTe="voice-reconnected-toast",iTe="https://account.microsoft.com/",cTe="M365",lTe="https://www.microsoft365.com",uTe="https://www.microsoft.com/microsoft-copilot/learn/#faqs";function Ot(e){ const _hh$temp132=e,t=_hh$temp132.key,n=_hh$temp132.schema,o=_hh$temp132.initialValue; return nd(t,o,{getItem:()=>Ht(t,n)??o,setItem:(a,r)=>{r===void 0?ft(t):No(t,n,r)},removeItem:()=>ft(t)},{getOnInit:!0})}class Id extends Error{endpoint;status;constructor(t,n){super(t),this.name="ApiError",this.endpoint=n.route,this.status=n.statusCode}get route(){return this.endpoint}get statusCode(){return this.status}}function Ed(e){const t=e.split("://");return t.length===1?`https://${e}`:t[0]==="http"?`https://${t[1]}`:e}async function HN(e){return new Promise(t=>{let n=!1;e?.catch(o=>{o instanceof Error?(n=!0,t(`Type: ${o.name}, Message: ${o.message}, Stack: ${o.stack}`)):(n=!0,t(`Type: ${typeof o}, Value: ${JSON.stringify(o)}`))}),setTimeout(()=>{n||t("Promise.catch wasn't called. The Promise is not rejected.")},1e3)})}function zN(e){let t;return"route"in e&&typeof e.route=="string"&&(t=e.route),t}function GN(e,t){if(!("route"in e)){const n=e;n.route=t}}class WN{latestClientExperimentationAssignmentRequestId=null;latestApiExperimentationAssignmentRequestId=null;getTraceIdAnalytics(){return{TraceId_LastClientAssignment:this.latestClientExperimentationAssignmentRequestId,TraceId_Latest:this.latestApiExperimentationAssignmentRequestId}}trackClientExperimentationAssignment(t){const n=this.getTraceIdFromResponseHeaders(t);n&&(this.latestClientExperimentationAssignmentRequestId=n)}trackLatestApiAssignment(t){const n=this.getTraceIdFromResponseHeaders(t);n&&(this.latestApiExperimentationAssignmentRequestId=n)}trackLatestChatConnectedAssignment(t){ const _hh$temp133=t,n=_hh$temp133.requestId; this.latestApiExperimentationAssignmentRequestId=n}getTraceIdFromResponseHeaders(t){return(t.get("x-ceto-ref")??"").split("|")[0]??null}}const ic=new WN;function Ra(e){const t=typeof navigator<"u"?navigator.userAgent:null;return t?e.test(t):!1}function $N(){return Ra(/BingSapphire/gi)}function qN(){return Ra(/NewsSapphire/gi)}function Cg(){return typeof navigator>"u"?!1:!!(navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Macintosh/i.test(navigator.userAgent)&&"ontouchend"in document)}function wd(){return Cg()||Ra(/iPad|iPhone|Android|iPod/gi)}function KN(){return Ra(/macintosh|mac os x/gi)&&!Cg()&&!u5()}function YN(){return Ra(/Android/gi)}function u5(){return Cg()||Ra(/iPhone|iPad|iPod/gi)}function d5(){return Ra(/Windows|Win32|WOW64/i)}function Af(){return"cmc"}function ZN(){return"prod"}function m5(){return`CopilotN-${ZN()}-web-${Af()}`}function Td(){return"d33f4193"}function JN(){return`mscmc@${Td().substring(0,7)}`}class zi{static instance=null;listeners=new Map;static getInstance(){return zi.instance??=new zi,zi.instance}on(t,n){this.listeners.has(t)||this.listeners.set(t,[]),this.listeners.get(t)?.push(n)}emit(t,n){const o=this.listeners.get(t);if(o)for(const s of o)s(n)}off(t,n){const o=this.listeners.get(t);o&&this.listeners.set(t,o.filter(s=>s!==n))}}const Ie=zi.getInstance();function QN(e){let t="unknown";try{const n=/(?:CopilotNative|BingNative|MicrosoftLauncher)\/([0-9]+(?:\.[0-9]+)*(?:-[a-zA-Z0-9]+)?)/,o=e?.match(n);if(o?.[1]){ const _hh$temp134=__arrayFrom$(o),s=_hh$temp134[1]; t=s}return t}catch{return t}}function cc(e,t){typeof sessionStorage>"u"||sessionStorage.setItem(e,t)}function Lr(e){return typeof sessionStorage>"u"?null:sessionStorage.getItem(e)}function XN(e){typeof sessionStorage>"u"||sessionStorage.removeItem(e)}const Tt=f({partId:l(),parentPartId:l().nullish()}),on=f({event:g("invokeAction"),actionId:l()}),Cn=on.extend({actionType:l(),id:l()}),eL=J([g("blocked"),g("not-allowed")]),p5=f({required:eL,allowed:J([g("always-allow"),g("allow-once"),g("not-now")]),url:l()}).nullish(),tL=["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/pdf","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","text/csv","application/json","application/xml","text/html","text/css","text/javascript","text/markdown","application/javascript","image/jpeg","image/png","image/gif","image/svg+xml","image/webp","audio/mpeg","audio/wav","audio/ogg","video/mp4","video/webm","video/ogg","application/zip","application/x-rar-compressed","application/x-7z-compressed"],nL=H(IN),Fc=H(tL),oL=f({type:g("code"),language:nL,content:l()}),sL=f({type:g("file"),url:l().refine(e=>e.startsWith("/")||Pt().safeParse(e).success,{error:"Must be a valid URL or relative path"}),name:l(),contentType:Fc}),aL=f({type:g("browser"),screenshot:l().optional(),tabIds:A().array().optional(),activeTabId:A().optional()}),rL=de("type",[oL,sL,aL]),Sg=J([g("running"),g("completed"),g("failed")]),iL=f({title:l(),status:Sg}),f5=f({status:Sg,title:l(),steps:T(iL),artifacts:T(rL)}),h5=Tt.extend({type:g("activity"),activity:f5}),ht=f({amount:A(),currency:l().nullable(),currencySymbol:l().nullable()}),cL=H(["current-search-term","recent-searches","age","gender","website-visits","interests","custom-audience","similar-audience","profile-targeting"]);H(["multimedia","product","tourActivity","propertyPromotion","text","miniShowroom","mainShowroom","miniProduct"]);const lL=H(["top","bottom","left","right"]),g5=f({adDomain:l(),advertiser:f({name:l(),country:l()}),isVerified:V(),selectionReasons:T(cL)}),Na=f({url:l(),urlPingSuffix:l()}),ms=f({url:l(),width:A().nullish(),height:A().nullish(),link:Na.nullish(),impressionToken:l().nullish()}),v5=f({downPayment:l(),description:l()}),uL=f({rating:A(),link:Na,impressionToken:l()}),Yr=f({businessName:l(),image:ms,impressionToken:l().nullish()}),bg=f({text:l(),url:l(),urlPingSuffix:l()}),dL=f({title:l(),text:l(),url:l(),layout:H(["inline","overlay"])}),La=f({impressionToken:l(),selectionCriteria:g5}),y5=f({rowIndex:ts(),columnIndex:ts(),textPosition:lL,imagesPerRow:ts()}),mL=La.extend({type:g("multimedia"),description:l(),title:l(),displayUrl:l(),link:Na,image:ms.nullish(),logo:Yr.nullish(),action:bg.nullish()}),jc=f({category:l(),value:l()}),Ig=f({seller:l(),link:Na,price:ht,lowPrice:ht.nullish(),item:f({name:l(),image:ms})}),C5=f({isFree:V(),description:l()}),S5=La.extend({type:g("product"),offer:Ig,tags:T(jc).nullish(),shipping:C5.nullish(),productRating:uL.nullish(),installment:v5.nullish(),pricePerUnit:l().nullish(),energyRating:l().nullish()}),b5=La.extend({type:g("tourActivity"),title:l(),domain:l(),startingPrice:ht,image:ms,link:Na,tags:T(jc).nullish()}),I5=La.extend({type:g("propertyPromotion"),title:l(),domain:l(),price:ht,image:ms,link:Na,tags:T(jc).nullish()}),pL=La.extend({type:g("text"),title:l(),description:l(),displayUrl:l(),link:Na,image:ms.nullish(),logo:Yr.nullish(),disclaimer:dL.nullish()}),E5=La.extend({type:g("miniProduct"),offer:Ig,valueDriver:l().nullish(),logo:Yr.nullish()}),fL=La.extend({type:g("miniShowroom"),title:l(),description:l(),displayUrl:l(),image:ms,logo:Yr.nullish(),brandId:l().nullish(),brandBackground:ts().nullish()}),w5=f({impressionToken:l(),layout:y5,selectionCriteria:g5.nullish()}),hL=w5.extend({type:g("multimedia"),image:ms,title:l(),description:l(),action:bg.nullish()}),gL=w5.extend({type:g("product"),offer:Ig,shipping:C5.nullish(),installment:v5.nullish(),pricePerUnit:l().nullish()}),vL=J([gL,hL]),yL=f({ad:vL,adId:l().nullish()}),CL=f({isLoading:V().nullish(),loadErrorCount:ts().nullish()}),T5=CL.extend({type:g("mainShowroom"),id:l(),impressionToken:l(),brandId:l().nullish(),title:l().nullish(),description:l().nullish(),backgroundColor:ts().nullish(),images:T(ms).nullish(),logo:Yr.nullish(),slotAds:T(yL).nullish(),action:bg.nullish(),layout:y5.nullish()}),SL=J([mL,S5,b5,I5,pL,fL,T5,E5]),bL=J([S5,b5,I5]),xd=f({pageLoadPingUrl:l(),visibilityPingUrlBase:l(),clickPingUrlBase:l()}),cp=f({tagsSupported:V()});f({supportedTypes:T(H(["multimedia","product","tourActivity","propertyPromotion","text","showroom","miniShowroom","mainShowroom"])),product:cp.nullish(),propertyPromotion:cp.nullish(),tourActivity:cp.nullish(),optOutOfPersonalization:V().nullish()});const x5=H(["open","expand","chat"]);f({showroom:f({scenario:x5.nullish(),brandId:l(),brandName:l().nullish(),adId:l().nullish()})});const IL=f({requestId:l(),ads:T(T5),instrumentation:xd}),EL=IL.extend({key:l()}),wL=f({brandBackground:ts().nullish(),brandLogo:Yr.nullish(),conversationId:l(),miniShowroomAd:f({messageId:l(),partId:l(),rguid:l()}),showroomData:T(EL).nullish(),openAt:A(),theme:H(["light","dark"]).nullish(),viewMode:H(["cardView","extendedView"]),activeCardRguid:l().nullish(),lastUserMessageRguid:l().nullish()});wL.extend({brandId:l(),adId:l().nullish(),scenario:x5.nullish()});f({brandId:l(),brandName:l().nullish(),messageId:l(),conversationId:l(),visible:V()});const TL=f({selectedTag:jc.nullish(),collapsed:V().nullish(),createdAt:A().nullish()}),xL=TL.extend({type:g("ads"),requestId:l(),summary:l(),ads:T(SL).nullish(),instrumentation:xd,adsSessionId:l().nullish(),adTags:T(jc).nullish()}),dTe=f({requestId:l(),ads:T(bL).nullish(),instrumentation:xd}),mTe=f({ads:T(E5),instrumentation:xd,requestId:l()}),A5=J([g("sendEmail"),g("createCalendarEvent"),g("modifyCalendarEvent"),g("deleteCalendarEvents")]),Ad=f({messageId:l(),partId:l()}),AL=f({type:g("contact"),id:l(),displayName:l().nullish(),email:l(),thumbnailUrl:Pt().nullish()}),pTe=f({results:T(AL)}),_L=f({type:g("file"),id:l(),fileName:l(),contentType:l(),modifiedAt:l().nullish()}),fTe=f({results:T(_L)}),uC=H(["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]),kL=H(["first","second","third","fourth","last"]),PL=f({type:l(),interval:A().optional(),month:A().optional(),dayOfMonth:A().optional(),daysOfWeek:T(uC).optional(),weekIndex:kL.optional(),firstDayOfWeek:uC.optional()}),ML=f({type:H(["noEnd","endDate","numbered"]),startDate:l(),endDate:l().optional(),numberOfOccurrences:A().optional()}),_5=f({pattern:PL,range:ML}),k5=f({email:l(),displayName:l().nullable(),avatarUrl:l().nullable(),isRequired:V()}),RL=f({email:l(),displayName:l().nullable(),isSelf:V()}),NL=H(["outlook-calendar","google-calendar"]),Eg=H(["pending-confirmation","success","failure","cancelled-by-user"]),_f=f({id:l(),calendarId:l().nullish(),source:NL,url:l().nullish(),organizer:RL.nullish(),title:l().nullish(),startsAt:l().nullish(),endsAt:l().nullish(),location:l().nullish(),recurrence:_5.nullish(),description:l().nullish(),attendees:T(k5).nullish()}),LL=f({type:g("createCalendarEvent"),title:l(),startsAt:l(),endsAt:l(),location:l().nullable(),recurrence:_5.nullable(),description:l().nullable(),folder:l().nullable(),targetConnectors:T(H(["outlook-calendar","google-calendar"])).nullable(),url:l().nullable(),attendees:T(k5).nullish(),status:Eg}),DL=f({type:g("modifyCalendarEvent"),originalEvent:_f,modifiedEvent:_f,status:Eg}),OL=f({type:g("deleteCalendarEvent"),events:T(_f),status:Eg}),UL=Ad.extend({type:g("createCalendarEvent")}),FL=Ad.extend({type:g("modifyCalendarEvent")}),jL=Ad.extend({type:g("deleteCalendarEvents"),eventIds:T(l())});f({type:g("command"),command:f({type:g("updateCard"),messageId:l(),partId:l(),update:f({type:g("discardCalendarEvent")})})});const BL=H(["configuring","generating","generated","attemptStarted","attemptSubmitted"]),wg=H(["singleSelect","trueOrFalse","multiSelect"]),Tg=H(["easy","medium","hard"]),VL=[15,30,50],hTe=wg.enum,gTe=Tg.enum,xg=f({id:l(),content:l(),explanation:l().optional(),hint:l().nullable().optional()}),HL=xg.extend({type:g("trueOrFalse"),expectedAnswer:V()}),zL=xg.extend({type:g("singleSelect"),options:T(l()),expectedAnswer:A().int()}),GL=xg.extend({type:g("multiSelect"),options:T(l()),expectedAnswers:T(A().int())}),WL=de("type",[HL,zL,GL]),P5=f({type:H(["document","image"]),attachmentId:l(),url:l().optional(),fileName:l()}),$L=f({questionTypes:T(wg).optional(),examTimeInMinutes:A().optional(),questionCount:A().optional(),difficulty:Tg.optional(),materials:T(P5).optional()}),qL=de("type",[f({type:g("trueOrFalse"),answer:V()}),f({type:g("singleSelect"),answer:A().int()}),f({type:g("multiSelect"),answers:T(A().int())})]),M5=f({elapsedTimeInSeconds:A().nullish(),answers:wt(l(),qL).optional()}),KL=f({type:g("practiceTest"),status:BL,detail:f({title:l().optional(),config:$L.optional(),questions:T(WL).optional(),attempt:M5.optional()}).optional(),message:l().optional(),etaMinutes:A().optional()}),Ag=g("generatePracticeTest"),YL=f({type:Ag,messageId:l(),partId:l(),difficulty:Tg,questionTypes:T(wg).min(1),questionCount:A().int().refine(e=>VL.includes(e),{message:"Must be a valid question count option"}),examTimeInMinutes:A().nullish(),materials:T(P5).optional()}),ZL=M5.extend({type:g("patchPracticeTestAttempt")}),JL=f({type:g("submitPracticeTest")}),Mn={OneDriveAccess:"one-drive-access",BrowserAction:"browser-action",ComputerUseActions:"computer-use-actions",OutlookAccess:"outlook-access",OutlookCalendarAccess:"outlook-calendar-access",GoogleDriveAccess:"google-drive-access",GoogleCalendarAccess:"google-calendar-access",GoogleContactsAccess:"google-contacts-access",GoogleTasksAccess:"google-tasks-access",GmailAccess:"gmail-access",EdgePasswords:"edge-passwords",EdgeBrowserAccess:"edge-browser-access",FileSearch:"file-search"},QL=H([Mn.OneDriveAccess,Mn.BrowserAction,Mn.ComputerUseActions,Mn.OutlookAccess,Mn.OutlookCalendarAccess,Mn.GoogleDriveAccess,Mn.GoogleCalendarAccess,Mn.GoogleContactsAccess,Mn.GoogleTasksAccess,Mn.GmailAccess,Mn.EdgePasswords,Mn.EdgeBrowserAccess,Mn.FileSearch]),dC={active:"active",rejected:"rejected"},R5=H([dC.active,dC.rejected]),XL=f({type:g("consent"),consentTypes:T(QL),status:R5}),lp={notAllowed:"not-allowed",blocked:"blocked",safetyCheck:"safety-check"},eD=H([lp.notAllowed,lp.blocked,lp.safetyCheck]),tD=f({type:g("browserAction"),title:l(),description:l().nullish(),url:l().nullish(),reason:eD}),nD=f({id:l(),status:H(s5),missingScopes:T(l()).nullish()}),oD=f({type:g("connector"),connectionType:H(gg),existingConnection:nD.nullable()}),sD=de("type",[tD,oD]),aD=f({type:g("consentV2"),status:R5,consents:T(sD)}),rD=de("type",[XL,aD]),vTe={BrowserAction:"browser-action"},iD=de("type",[f({type:g("consent"),status:g("rejected")}),f({type:g("discardCalendarEvent")}),f({type:g("composeEmail"),subject:l().nullish(),body:l().nullish(),toRecipients:T(l()).nullish(),ccRecipients:T(l()).nullish(),bccRecipients:T(l()).nullish()}),ZL,JL]);f({type:g("command"),command:f({type:g("updateCard"),messageId:l(),partId:l(),update:iD})});const cD=f({type:g("computerUseFeedback")}),Da=J([g("startTask"),g("pauseTask"),g("resumeTask"),g("cancelTask"),g("takeTaskControl"),g("releaseTaskControl"),g("sendFormData")]),lD=J([g("bringAgentTabsToForeground"),g("failedTask"),g("completedTask"),g("moveAgentTabsToBackground"),g("showConsentDialog"),g("reconnectTask")]);J([Da,lD]);const uD=J([g("allSessionInfo"),g("activeSessionInfo"),g("failedTask"),g("completedTask")]);J([Da,uD]);const dD=J([g("allSessionInfo"),g("activeSessionInfo"),g("failedTask"),g("completedTask")]);J([Da,dD]);const N5=J([g("askUserInput"),g("safetyRiskDetected"),g("userTakeControl"),g("giveBackControl"),g("resumeFromInput"),g("resumeFromRisk"),g("pauseByClick"),g("resumeByClick"),g("taskCompleted"),g("pauseByDisconnect")]),mD=f({reason:N5,title:l().optional(),text:l().optional()}),Oa=f({taskId:l()}),pD=Oa.extend({type:g("startTask")}),fD=Oa.extend({type:g("pauseTask")}),hD=Oa.extend({type:g("resumeTask")}),gD=Oa.extend({type:g("cancelTask")}),vD=Oa.extend({type:g("takeTaskControl")}),yD=Oa.extend({type:g("releaseTaskControl")}),CD=f({identifier:l(),value:l()}),SD=Oa.extend({type:g("sendFormData"),fields:T(CD)}),L5=f({title:l(),instruction:f({text:l(),websites:T(f({url:Pt(),iconUrl:Pt().optional()}))})});L5.extend({id:l()});L5.extend({isActive:V()});const bD=H(["choose","replay"]),ID=H(["2","1","0.5"]),ED=f({isRunning:V().nullish(),speed:ID.nullish()}),wD=f({name:l(),url:l().nullish(),description:l().nullish(),phoneNumber:l().nullish(),smsNumber:l().nullish(),chatUrl:l().nullish(),whatsAppUrl:l().nullish()}),TD=f({type:g("safetyHelpline"),countryEmergencyNumber:l().nullable(),helplines:T(wD)}),xD=f({type:g("suggestPlanningAgent"),status:H(["cancelled","completed","failed","paused","pending","running","started"]),title:l(),task:l(),taskConversationId:l().nullable().optional()}),AD=f({type:g("artifact"),title:l(),artifact:f({type:J([g("code")]),language:J([g("html")]),content:l(),role:J([g("interactive-chart")]).nullish()})}),_D=f({type:g("audioCallSummary"),summaryText:l()}),D5=g("shell"),O5=g("commandResult"),U5=g("requestBrowserInteraction"),F5=g("requestUserAutofill"),kD=f({type:D5,shell:l(),command:l(),purpose:l()}),j5=f({iconUrl:l().optional(),url:l()}),PD=f({type:g("localBrowser"),tab:j5.extend({id:A()})}),MD=f({type:g("remoteBrowser"),tab:j5,canPreserveSessionData:V(),browserCookiesDefaultConsent:V()}),B5=de("type",[PD,MD]),RD=f({type:U5,taskId:l(),reason:l(),instruction:l().nullish(),environment:B5.nullish()}),V5=de("type",[f({type:g("localFormFill"),tabId:A()}),f({type:g("remoteFormFill"),url:l()})]).nullish(),ND=f({type:F5,taskId:l(),reason:l(),instruction:l().nullish(),environment:V5}),LD=de("type",[kD,RD,ND]),ns={Completed:"Completed",Cancelled:"Cancelled",TimedOut:"TimedOut"},H5=H([ns.Completed,ns.Cancelled,ns.TimedOut]),z5={0:ns.Completed,1:ns.Cancelled,2:ns.TimedOut};function DD(e){return e in z5}const OD=J([A().int(),H5]).transform(e=>typeof e=="number"?DD(e)? __get$(z5,e) :ns.Completed:e),yTe=f({partId:l(),output:l(),status:OD.default(ns.Completed),exitCode:A().int().optional()}),UD=f({type:D5,output:l(),status:H5.default(ns.Completed),exitCode:A().int().optional()}),FD=f({type:U5,accepted:V()}),jD=H(["cancelled","completed","partiallyCompleted"]),BD=f({type:F5,outcome:jD}),VD=de("type",[UD,FD,BD]);f({type:O5,commandMessageId:l(),commandPartId:l(),result:VD});const Fl={active:"active",approved:"approved",rejected:"rejected",running:"running"},HD=H([Fl.active,Fl.approved,Fl.rejected,Fl.running]),zD=f({type:g("shell"),command:l(),description:l(),partId:l(),shell:l()}),GD=f({type:g("requestBrowserInteraction"),partId:l(),taskId:l(),reason:l(),instruction:l().nullish(),rememberData:V().optional(),environment:B5.nullish()}),WD=f({type:g("requestUserAutofill"),partId:l(),taskId:l(),reason:l(),instruction:l().nullish(),environment:V5}),$D=de("type",[zD,GD,WD]),qD=f({type:g("command"),commands:T($D),conversationId:l(),status:HD}),KD=H(["draft","failed-to-send","sent"]),G5=H(["outlook","gmail"]),YD=f({type:g("composeEmail"),subject:l(),body:l(),toRecipients:T(l()).nullable(),ccRecipients:T(l()).nullable(),bccRecipients:T(l()).nullable(),status:KD.optional(),targetConnectors:T(G5).nullable(),url:l().nullable(),sentAt:l().nullable()}),ZD=Ad.extend({type:g("sendEmail"),targetConnector:G5}),JD=f({type:g("connectorSuggestion")}),QD=f({type:g("document"),attachmentId:l(),fileName:l(),contentType:Fc}),XD=f({username:l(),password:l()}),eO=f({type:g("edge-passwords"),websiteName:l(),usernameSuggestion:l().optional(),savedCredentials:T(XD).optional(),allowManualEntry:V().optional()}),tO=H(["email","google","microsoft","apple","phone","x","facebook","amazon"]),nO=f({type:g("federatedLogin"),providers:T(tO),websiteName:l()}),oO=f({type:g("file"),url:Pt(),name:l(),contentType:Fc}),sO=f({modifiedAt:l(),name:l(),url:l()}),aO=f({type:g("fileSearch"),query:l(),results:T(sO)}),rO=f({name:l(),disclaimerUrl:l(),url:l()}),W5=f({price:A().nullish(),changeInPercentage:A().nullish(),changeInAmount:A().nullish()}),iO=H(["unavailable","upcoming","live","beat","miss","inline"]),cO=f({releaseAt:l().nullish(),status:iO}),$5=f({id:l(),symbol:l(),displayName:l(),price:A(),previousClosePrice:A(),changeInPercentage:A(),changeInAmount:A(),updatedAt:l(),iconUrl:l(),provider:rO,isFollowed:V().nullish()}),lO=f({priceOpen:A().nullish(),priceHigh:A().nullish(),priceLow:A().nullish(),price52wHigh:A().nullish(),price52wLow:A().nullish()}),Bc=$5.extend({intradayPricing:lO,isMarketLastSale:V(),exchangeTimeZoneId:l().nullish(),isMarketRegularHours:V().nullish(),lastUpdatedAt:l(),tradingDayEndAt:l(),accumulatedVolume:A().nullish()}),uO=Bc.extend({securityType:g("stock"),marketCap:A().nullish(),marketCapCurrency:l().nullish(),averageVolume:A().nullish(),peRatio:A().nullish(),postMarket:W5.nullish(),earnings:cO.nullish()}),dO=Bc.extend({securityType:g("etf"),netAssets:A().nullish(),expenseRatio:A().nullish(),yieldPercent:A().nullish(),postMarket:W5.nullish()}),mO=Bc.extend({securityType:g("index")}),pO=$5.extend({securityType:g("fund"),price52wHigh:A().nullish(),price52wLow:A().nullish(),netAssets:A().nullish(),expenseRatio:A().nullish(),yieldPercent:A().nullish(),oneYearReturn:A().nullish()}),q5=f({amount:A().nullish(),currency:l().nullish(),currencySymbol:l().nullish()}),mC=f({value:q5,fullName:l().nullish()}),fO=f({oneMonth:A().nullish(),sixMonths:A().nullish(),oneYear:A().nullish()}),hO=Bc.extend({securityType:g("currencyExchange"),fromCurrency:mC,toCurrency:mC,percentageReturns:fO}),gO=Bc.extend({securityType:g("cryptocurrency"),marketDominancePercentage:A().nullish(),circulatingSupply:A().nullish(),maxSupply:A().nullish(),oneYearReturn:A().nullish(),marketCap:q5,marketCapCurrency:l().nullish()}),vO=H(yN),yO=f({price:A(),volume:A(),at:l()}),pC=T(yO),CO=f({afterHoursSeries:pC,series:pC,chartType:vO}),SO=de("securityType",[uO,dO,mO,pO,hO,gO]),K5=f({currency:l(),instrument:SO,chart:CO.nullish()}),bO=K5.extend({type:g("financeChart")}),IO=f({securities:T(K5)}),EO=IO.extend({type:g("financeComparisonChart")}),wO=de("type",[bO,EO]),TO=f({id:l()}),xO=T(TO),CTe=f({entities:xO}),AO=f({type:g("basic"),front:l(),back:l()}),_O=f({type:g("flashcard"),title:l(),flashcards:T(AO)}),kO=f({id:A(),autocompleteAttribute:l(),autofillType:l(),fieldLabel:l(),fieldName:l(),formControlType:l()}),PO=f({fields:T(kO)}),MO=f({forms:T(PO)}),RO=f({type:g("form-fill"),websiteName:l(),headerText:l().optional(),bodyText:l().optional(),formStructure:MO}),NO=f({latitude:A(),longitude:A()}),Ru=f({name:l(),location:NO}),LO=f({value:A(),count:A().nullish(),maxRating:A().nullish()}),DO=Ru.extend({npi:l(),name:l(),primarySpecialtyTitle:l(),rating:LO.nullish(),professionalCredentials:T(l()).nullish(),location: __get$(Ru.shape,"location") .extend({uuid:l(),address:l(),name:l().nullish(),phoneNumber:l().nullish()}),url:l().nullish()}),OO=f({type:g("healthcareEntity"),entities:T(DO)}),UO=f({name:l(),type:l().nullish(),year:ts().nullish()}),FO=f({carrierName:l().nullish()}),jO=f({name:l().nullish(),address:l(),latitude:A(),longitude:A(),phoneNumber:l().nullish()}),STe=f({npi:l(),name:l(),professionalCredentials:T(l()).nullish(),location:jO.nullish(),url:l().nullish(),primarySpecialtyTitle:l().nullish(),otherSpecialtyTitles:T(l()).nullish(),educations:T(UO).nullish(),insurances:T(FO).nullish(),performanceOutcomesIndex:A().nullish(),languages:T(l()).nullish(),dataSourceUrl:l()}),BO=f({name:l(),subtitle:l(),logoUrl:l()}),VO=f({title:l(),previewContent:l(),detailedContent:l().nullish()}),HO=f({type:g("healthcareInfo"),content:VO,source:BO}),Y5=f({label:l(),color:l().nullish()}),zO=f({label:l()}),GO=H(["pie","donut","gauge","horizontalBar"]),WO=H(["line","bar","area","scatter","stackedBar"]),$O=f({type:g("1D"),data:wt(l(),A()),legend:wt(l(),Y5),title:l(),style:GO}),qO=f({label:l(),entries:wt(l(),A())}),KO=f({type:g("2D"),data:T(qO),legend:wt(l(),Y5),title:l(),axes:wt(l(),zO),style:WO}),YO=J([$O,KO]),ZO=f({type:g("chart"),charts:T(YO)}),JO=J([OO,HO,ZO]),Z5=f({image:f({url:l(),thumbnailUrl:l(),altText:l(),width:A(),height:A()}),source:f({title:l(),url:l(),iconUrl:l().nullable()})}),QO=f({type:g("image"),images:T(Z5)}),XO=f({language:J([g("html")]),htmlContent:l()}),eU=f({type:g("inline-artifact"),title:l(),artifact:XO}),tU=f({type:g("inlineImage"),title:l(),description:l()}).extend(Z5.shape),J5=f({title:l(),description:l(),startTime:A(),endTime:A()}),nU=f({video:f({url:l(),thumbnailUrl:l(),duration:A(),title:l(),isShort:V(),playlistIndex:A().optional()}),source:f({url:l(),iconUrl:l().optional()}),bestMomentIndex:A().optional(),moments:T(J5).optional()}),oU=f({type:g("video"),videos:T(nU)}),sU=f({type:g("inlineVideo"),title:l(),description:l(),video:f({url:l(),thumbnailUrl:l(),title:l(),isShort:V()}),source:f({url:l(),iconUrl:l().optional()}),moments:T(J5).optional()}),aU=f({name:l(),logoUrl:l().nullable(),postUrl:l()}),rU=f({title:l(),companyName:l(),companyLogoUrl:l().nullable(),postedAt:l(),location:l(),providers:T(aU),description:l(),salary:l().nullable(),type:l().nullable(),locationType:l().nullable(),tags:T(l()).nullable()}),iU=f({type:g("job"),jobs:T(rU)}),Q5=T(f({url:l(),altText:l().nullish(),providerName:l().nullish(),providerUrl:l()})),X5=T(f({count:A(),rating:A(),providerName:l(),providerIconUrl:l().nullish(),url:l()})),cU=f({type:g("localEntity"),entities:T(Ru.extend({phoneNumber:l().nullish(),url:l().nullish(),reviews:X5,location: __get$(Ru.shape,"location") .extend({address:l().nullish()}),photos:Q5,openState:l().nullish(),category:l().nullish(),price:l().nullish()})),layerLabel:l().nullish()}),lU=f({providerName:l(),url:l().nullish(),thumbnailUrl:l(),providerOptions:T(l()).nullish(),source:f({url:l(),name:l()}).nullish()}),uU=f({sourceName:l(),maxRating:A(),rating:A(),url:l()}),dU=f({url:l(),source:f({url:l(),name:l()}).nullish()}),kf=f({url:l().nullish(),name:l().nullish()}),mU={thumbnail:f({url:l(),source:kf.nullish()}),source:kf.nullish()},pU=f({type:g("mediaSpotlight"),title:l(),label:l().nullish(),description:l(),thumbnail:dU,facts:wt(l(),l()).nullish(),criticRatings:T(uU).nullish(),watchLinks:T(lU).nullish(),featuredVideo:f(mU).nullish(),sources:T(kf).nullish()}),fU=f({entityId:l(),title:l(),subtitle:l(),thumbnailUrl:l()}),hU=f({type:g("mediaCarousel"),items:T(fU)}),eE=f({url:Pt(),title:l(),snippet:l().nullish(),publisher:l().nullish(),iconUrl:J([Pt(),g("")]).nullish(),thumbnailUrl:J([Pt(),g("")]).nullish()}),gU=T(eE),bTe=f({relatedResults:gU}),vU=eE.extend({type:g("navigation")}),yU=f({name:l(),thumbnailUrl:l()}),CU=f({provider:yU,title:l(),url:l(),thumbnailUrl:l(),updatedAt:l()}),SU=f({title:l(),articles:T(CU)}),bU=SU.extend({type:g("newsCarousel")}),IU=f({id:l(),type:g("oneDrive"),name:l(),lastModifiedAt:l(),url:l(),webDavUrl:l().optional(),contentType:l(),size:A()}),EU=f({type:g("m365"),items:T(IU)}),wU=f({type:g("linkedin"),firstName:l().nullish(),lastName:l().nullish(),profileUrl:Pt().nullish(),backgroundPictureUrl:Pt().nullish(),profilePictureUrl:Pt().nullish(),headline:l().nullish(),location:l().nullish(),followerCount:A().nullish(),positions:T(f({title:l().nullish(),company:l().nullish(),description:l().nullish()})).nullish(),educations:T(f({degree:l().nullish(),fieldOfStudy:l().nullish(),school:l().nullish()})).nullish(),isLimitedResult:V().nullish()}),TU=f({type:g("bing"),title:l().nullish(),label:l().nullish(),description:l().nullish(),thumbnail:f({url:Pt(),source:f({url:Pt(),name:l()}).nullish()}),facts:T(f({name:l(),value:l()})).nullish(),sources:T(f({url:Pt(),name:l()})).nullish()}),xU=de("type",[wU,TU]),AU=f({type:g("person"),persons:T(xU)}),_U=H(["one-drive","google-drive","outlook-calendar","google-calendar","google-contacts","google-tasks","gmail","outlook","edge-browser","windows"]),Ua=f({id:l(),source:_U,url:l().nullish()}),kU=Ua.extend({type:g("document"),fileName:l(),modifiedAt:l().nullish(),sizeInBytes:A().nullish(),contentType:l().optional()}),PU=Ua.extend({type:g("image"),fileName:l(),modifiedAt:l().nullish(),sizeInBytes:A().nullish(),thumbnailUrl:l().nullish()}),MU=Ua.extend({type:g("event"),subject:l().nullish(),startsAt:l(),endsAt:l(),location:l().nullish(),calendarName:l().nullish()}),RU=Ua.extend({type:g("contact"),displayName:l(),thumbnailUrl:l().nullish(),emailAddresses:T(l()).nullish(),phoneNumbers:T(f({type:l().nullish(),value:l().nullish()})).nullish()}),NU=Ua.extend({type:g("email"),id:l(),senderEmailAddress:l(),senderEmailName:l().optional(),receivedAt:l(),subject:l().nullish(),isRead:V().optional(),hasAttachments:V().optional()}),LU=Ua.extend({type:g("task"),title:l(),notes:l().nullish(),dueAt:l().nullish(),completedAt:l().nullish(),status:H(["needsAction","completed"]).nullish(),taskListName:l().nullish()}),DU=Ua.extend({type:g("webPage"),url:l(),title:l(),iconUrl:l().optional(),visitedAt:l()}),OU=de("type",[kU,PU,MU,RU,NU,LU,DU]),UU=f({type:g("personalArtifacts"),artifacts:T(OU)}),FU=f({name:l(),url:l(),width:A().optional(),height:A().optional(),thumbnailUrl:l().optional()}),jU=f({images:T(FU)}),BU=jU.extend({type:g("phoneImages")}),VU=f({qrCodeUrl:l(),linkDeviceUrl:l()}),HU=VU.extend({type:g("phoneLinking")}),zU=J([g("executing"),g("completed"),g("failed")]),_g=f({deviceName:l().optional(),state:zU.optional(),disabled:V().optional(),completedAt:l().optional()}),GU=H(["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]),WU=_g.extend({triggerAt:l(),repeatDays:T(GU).optional().nullable()}),$U=WU.extend({type:g("phoneAlarm")}),qU=_g.extend({seconds:A()}),KU=qU.extend({type:g("phoneTimer")}),YU=_g.extend({actionId:l(),text:l(),phoneNumber:l().nullable().optional(),contactName:l().nullable().optional(),deviceName:l().optional()}),ZU=YU.extend({type:g("phoneSendMessage")}),JU=on.extend({actionName:g("phone_send_message"),parameters:f({text:l(),phoneNumber:l().nullable().optional(),contactName:l().nullable().optional()})}),QU=de("type",[HU,BU,$U,KU,ZU]),XU=f({id:l(),label:l(),type:g("single-select"),options:T(l()),defaultOptionIndex:A()}),eF=f({id:l(),label:l(),type:g("multiple-select"),options:T(l())}),tF=J([XU,eF]),nF=f({id:l(),displayName:l(),previewImageUrl:l()}),oF=f({type:g("powerPointCreator"),actionId:l(),actionType:l(),text:l(),questions:T(tF),themes:T(nF)}),sF=f({type:g("quiz"),title:l(),quiz:T(f({type:g("singleSelect"),question:l(),options:T(l()),answer:A(),topics:T(l()).nullable(),hint:l().nullable(),explanation:l()}))}),aF=f({value:A(),count:A().nullish(),maxRating:A().nullish()}),rF=f({hours:A(),minutes:A()}),tE=f({name:l(),quantity:A().nullish(),unit:l().nullish()}),iF=f({title:l(),url:Pt(),source:l(),imageUrl:Pt().nullish(),rating:aF.nullish(),serving:A().nullish(),calories:A().nullish(),cookingTime:rF.nullish(),instructions:T(l()).nullish(),ingredients:T(tE).nullish()}),cF=f({type:g("recipe"),recipes:T(iF)});f({title:l(),url:Pt(),ingredients:T(tE),instructions:T(l()).nullish(),imageUrl:Pt().nullish(),messageId:l().nullish()});const lF=f({type:g("suggestResearch")}),_d=f({position:A(),url:l(),title:l(),iconUrl:l().nullish(),publisher:l().nullish(),snippet:l().nullish(),label:l().nullish()}),nE=f({url:l(),name:l(),imageUrl:l(),images:T(l()).nullish(),price:ht,seller:l().nullish()}),kg=f({value:A(),count:A()}).nullish(),uF=nE.extend({type:g("shopping"),id:l(),rating:kg}),oE=f({emailEnabled:V(),anyRetailer:V()}),sE=f({durationInWeeks:A().nullish(),dropPercentage:A().nullish(),notificationOptions:oE.nullish()}),dF=f({type:g("offer"),offerId:l()}),mF=f({type:g("webPage"),url:l(),title:l(),imageUrl:l(),price:ht}),pF=sE.extend({target:dF}),fF=sE.extend({target:mF});J([pF,fF]);const aE=nE.extend({isNotificationEnabled:V().nullish(),offerId:l(),currentPrice:ht.nullish(),percentageDrop:A(),durationInWeeks:A(),notificationOptions:oE.nullish()}),up=H(["tracked","trackable","not-trackable"]),hF=J([f({status:g(up.enum["not-trackable"])}),f({status:g(up.enum.trackable),offerId:l()}),f({status:g(up.enum.tracked),offerId:l()})]);f({statusEntries:wt(l(),hF)});const Pg=f({title:l().nullish(),url:l()}),gF=H(["textual","visual"]),vF=f({displayName:l(),value:l(),isActive:V(),isSelected:V(),thumbnailImage:Pg.nullish()}),rE=f({id:l(),displayName:l(),filterValues:T(vF),filterType:gF}),Mg=f({id:l().nullish(),groupId:l().nullish(),brandGroupId:l().nullish()}),iE=f({displayName:l(),values:T(l())}),cE=f({offerUrl:l(),domain:l(),logoUrl:l().nullish()}),lE=f({summary:l(),attributions:T(cE)}),uE=f({pros:T(l()).nullish(),cons:T(l()).nullish(),attributions:T(cE)}),kd=J([g("lowest-price"),g("free-shipping")]),fC=l().nullish().transform(e=>e??void 0),dE=de("type",[f({type:g("buyWithMerchant"),merchant:fC}),f({type:g("buyWithCopilot"),merchantProvider:fC})]),Rg=f({product:Mg,offerId:l(),url:l(),name:l(),description:l().nullish(),images:T(Pg).nullish(),filters:T(rE).nullish(),specifications:T(iE).nullish(),review:lE.nullish(),prosAndCons:uE.nullish(),price:ht,discountPrice:ht.nullish(),seller:l(),sellerLogoUrl:l().nullish(),brandName:l().nullish(),rating:kg.nullish(),tags:T(kd).nullish(),checkoutOption:dE.nullish(),curation:l().nullish(),canTrackPrice:V()}),yF=f({type:g("shoppingProducts"),products:T(Rg),layout:J([g("inline"),g("block")]).nullish()}),mE=f({offerName:l(),offerId:l(),url:l(),price:ht,discountPrice:ht.nullish(),seller:l(),sellerLogoUrl:l().nullish(),tags:T(kd).nullish(),canTrackPrice:V()}),ITe=f({error:l(),message:l()}),CF=f({offerId:l(),offerName:l().nullish(),seller:l(),sellerLogoUrl:l().nullish(),url:l().nullish(),price:ht.nullish(),discountPrice:ht.nullish()}),ETe=f({buyingOptions:T(CF),citations:T(_d).nullish()}),pE=f({minPrice:ht,maxPrice:ht,averagePrice:ht,timePeriodInDays:A()}),fE=f({date:Ca(),price:ht}),hE=f({daily:fE.array()}),gE=f({label:l(),prompt:l()}),SF=J([g("nudge"),g("flyout")]),vE=f({edgeEntryPoint:SF.optional()}),bF=vE.extend({scenario:g("priceHistory"),priceHistory:f({dailyPrices:fE.array(),type:J([g("increase"),g("decrease")]),percentage:A()})}),IF=vE.extend({scenario:g("cashback"),cashbackData:f({isAdOffer:V()})}),yE=de("scenario",[bF,IF]),Ng=f({name:l(),logoUrl:l().nullish()}),Lg=H(["affiliate","storewideAd","productAd"]),Pd=H(["flat","percentage"]),EF=f({type:g(Pd.enum.percentage),percentage:A()}),wF=f({type:g(Pd.enum.flat),cashback:ht}),TF=de("type",[EF,wF]),xF=f({rebate:TF,name:l()}),AF=f({type:g(Pd.enum.percentage),percentage:A(),maxCashback:ht}),_F=f({type:g(Pd.enum.flat),cashback:ht,minPurchaseRequired:ht}),kF=de("type",[AF,_F]),CE=f({type:g(Lg.enum.productAd),cashback:ht,expiresAt:l()}),PF=CE.extend({seller:Ng}),SE=f({type:g(Lg.enum.storewideAd),rebate:kF,expiresAt:l()}),MF=SE.extend({seller:Ng}),bE=f({type:g(Lg.enum.affiliate),categories:T(xF),exclusions:l()}),RF=bE.extend({seller:Ng}),NF=de("type",[CE,SE,bE]);de("type",[PF,MF,RF]);const wTe=Rg.extend({otherBuyingOptions:T(mE).nullish(),priceInsight:pE.nullish(),tags:T(kd).nullish(),priceHistory:hE.nullish(),conversationStarters:T(gE).nullish(),insights:yE.nullish(),supportsPriceInsights:V()}),LF=f({product:Mg.nullish(),offerId:l().nullish(),url:l().nullish(),name:l().nullish(),description:l().nullish(),images:T(Pg).nullish(),filters:T(rE).nullish(),specifications:T(iE).nullish(),review:lE.nullish(),prosAndCons:uE.nullish(),price:ht.nullish(),discountPrice:ht.nullish(),brandName:l().nullish(),rating:kg.nullish(),checkoutOption:dE.nullish(),curation:l().nullish(),canTrackPrice:V().nullish(),otherBuyingOptions:T(mE).nullish(),priceInsight:pE.nullish(),tags:T(kd).nullish(),priceHistory:hE.nullish(),conversationStarters:T(gE).nullish(),insights:yE.nullish()});f({metadata:LF.nullish(),cashbackOffers:T(NF).nullish(),seller:l().nullish(),sellerLogoUrl:l().nullish()});const TTe=f({products:aE.array()}),DF=f({category:l(),curationGroupId:l(),position:J([g("top"),g("middle"),g("bottom")]).nullish()}),cu=Rg.extend({curationInfo:DF.nullish()});f({product:cu,messageId:l(),allProducts:T(cu).nullish(),accessories:T(cu).nullish()});const OF=f({type:g("shoppingCurated"),title:l().optional(),products:T(cu),groupType:l().nullish()}),UF=de("type",[uF,yF,OF]),xTe=f({emailNotificationEnabled:V()}),FF=f({name:l(),url:l(),offerId:l()}),jF=f({url:l(),source:l()}),BF=f({reason:l(),references:T(jF)}),VF=H(["buy-now","buy-later"]),ATe=f({whenToBuy:VF,seller:FF,supportingReasons:T(BF)}),HF=J([g("top-highlight"),g("buying-tip"),g("ideal-for"),g("review-snapshot")]),_Te=f({title:l(),content:l(),type:HF,citations:T(_d)}),zF=f({muid:l().default(""),isShoppingEnabled:V().default(!1),isPersonalizationDataConsentEnabled:V().default(!1),impressionId:l().optional()}),GF=f({isRebatesActive:V().nullish(),ldClickData:l().nullish(),msClickId:l().nullish(),uClickData:l().nullish()});f({isPDP:V().nullish(),name:l().nullish(),image:Pt().nullish(),base64_image:l().nullish(),price_currency:l().nullish(),price_value:k7(e=>{if(typeof e=="string"){const t= __call$(e,"replace",[/[\s,]/g,""]) ,n=parseFloat(t);return Number.isNaN(n)?void 0:n}return e},A()).nullish(),isShoppingEnabled:V().nullish(),cashback:GF.nullish(),isPersonalizationDataConsentEnabled:V().nullish(),muid:l().nullish(),impressionId:l().nullish(),"aggregateRating/ratingValue":J([l(),yy()]).nullish(),"aggregateRating/reviewCount":J([l(),yy()]).nullish(),"offers/price":l().nullish()});f({name:l().optional(),rating:f({value:A(),count:A()}).optional(),images:T(f({url:l()})).optional(),price:f({amount:A(),currency:l().nullable(),currencySymbol:l().nullable()}).optional(),offerPrice:l().optional(),isPDP:V().optional()});const WF=f({title:l(),prompt:l(),imageUrl:l()}),IE=f({name:l(),cards:T(WF)});f({tabs:T(IE)});f({title:l(),description:l(),imageUrl:l(),prompt:l()});f({title:l(),description:l(),videoSourceDarkMode:l(),videoSourceLightMode:l()});const $F=f({imageUrls:T(l()),title:l(),prompt:l()}),EE=f({title:l(),prompt:l()});T(EE);const qF=f({name:l(),url:l().nullish(),iconUrl:l().nullish()}),KF=f({imageUrl:l(),offerId:l(),price:ht.nullish(),name:l().nullish(),discountPrice:ht.nullish(),seller:qF,product:Mg.nullish()}),YF=f({title:l(),subtitle:l(),products:T(KF),heroImageUrl:l().nullish(),reason:l().nullish(),conversationStarterPrompt:l().nullish()}),ZF=YF.extend({type:g("productJourney")}),JF=f({type:g("continueShopping"),items:T($F)}),QF=f({type:g("forYou"),items:T(EE)}),XF=f({type:g("trackedProducts"),products:T(aE)}),ej=f({type:g("momentInTime"),tabs:T(IE)}),tj=de("type",[JF,QF,XF,ej,ZF]),kTe=f({sections:T(tj).nullable()});f({textPosition:H(["top","bottom"]),imageSize:H(["sm","md","lg"]),titleStringKey:l(),descriptionStringKey:l(),promptStringKey:l(),imgSrc:l()});const nj=H(["home","away"]),mo=H(["win","loss","tie","no-game"]),wE=H(["pre-game","in-progress","final","postponed","delayed","abandoned","cancelled"]),oj=H(["test","odi","t20"]),sj=H(["test","limited-overs","super-over"]),aj=H([...wE.options,"drinks","dinner","tea","lunch","innings-break","super-over","toss","stumps","strategic-timeout","forfeited"]),rj=H([...wE.options,"bye","retired","forfeited","unscheduled","suspended"]),ij=H(["men-singles","men-doubles","women-singles","women-doubles","mixed-doubles"]),cj=H(["round-of256","round-of128","round-of64","round-of32","round-of16","quarter-final","semi-final","final"]),TE=f({name:l(),city:l().nullish()}),lj=f({name:l(),thumbnailUrl:l().nullish(),seasonPhase:l().nullish(),seasonStartsAt:l().nullish(),seasonEndsAt:l().nullish(),leagueId:l()}),uj=f({type:g("league"),league:lj}),Nu=f({name:l(),thumbnailUrl:l().nullish()}),dj=f({type:g("team"),team:Nu}),mj=f({type:g("matchup"),matchup:f({teamA:Nu,teamB:Nu})}),Vc=de("type",[uj,dj,mj]),pj=f({name:l(),alias:l().nullish(),thumbnailUrl:l().nullish()}),fj=f({playerName:l(),clock:f({minutes:A(),seconds:A()})}),hj=f({ballPossessionPercentage:A().nullish(),goals:T(fj).nullish()}),Md=f({wins:A(),losses:A(),overtimeLosses:A().nullish()}),gj=H(["quarter","half","halftime","extra","penalties","shoot-out","overtime","inning","period"]),vj=H(["top","bottom"]),ps=f({type:gj,period:A().nullish(),division:vj.nullish()}),Hc=f({playingPeriod:ps,score:l()}),Sn=pj.extend({primaryColorHex:l().nullish(),venueType:nj.nullish(),previousGameOutcomes:T(mo).nullish(),seed:A().nullish(),gameOutcome:mo.nullish(),score:l().nullish(),record:Md.nullish(),winProbability:A().nullish(),playingPeriodScores:T(Hc).nullish()}),Dg=Sn.extend({winProbability:A().nullish()}),xE=Sn.extend({score:l(),gameStats:hj.nullish()}),yj=xE.extend({gameOutcome:mo}),Cj=f({wins:A(),participantName:l()}),Sj=H(["final","not-started","in-progress"]),bj=H(["national-championship","first-four","first-round","second-round","conference-semifinal","conference-final","sweet16","sweet-sixteen","elite-eight","final-four","final"]),Ij=f({state:Sj,winsInfo:T(Cj).nullish(),gameNumber:A().nullish(),conference:l().nullish()}),AE=Ij.extend({phase:bj}),Og=f({name:l(),score:l()}),Ej=f({current:A(),total:A(),aggregatedScores:T(Og).nullish()}),Ug=f({startsAt:l(),status:l(),leagueName:l(),legInfo:Ej.nullish(),leagueId:l().nullish(),gameId:l().nullish(),startTimeToBeAnnounced:V().nullish(),seasonPhase:l().nullish()}),Fa=f({minutes:A(),seconds:A()}),wj=Dg.extend({record:Md.nullish(),gameOutcome:mo.nullish(),score:l().nullish(),playingPeriodScores:T(Hc).nullish(),gameStats:$r().nullish()}),ja=Ug.extend({name:l().nullish(),week:A().nullish(),clock:Fa.nullish(),bracket:$r().nullish(),currentPlayingPeriod:ps.nullish()}),Ba=Ug.extend({name:l().nullish(),bracket:AE.nullish(),week:A().nullish(),clock:Fa.nullish(),currentPlayingPeriod:ps.nullish()}),Tj=ja.extend({status:g("pre-game"),participants:T(Dg)}),Fg=f({clock:Fa,description:l(),team:Nu,participantScores:T(Og).nullish()}),_E=Fg.extend({type:H(["score-change","yellow-card","red-card"])}),jg=Fg.extend({type:H(["three-point-made","two-point-made","touchdown","field-goal","extra-point","safety","two-point-conversion","blocked-punt-safety","blocked-field-goal-safety","fumble-safety"])}),Va=f({url:l(),thumbnailUrl:l(),title:l(),durationInSeconds:A().nullish()}),xj=Ba.extend({status:g("pre-game"),participants:T(wj),timeline:f({events:T(jg)}).nullish(),videos:T(Va).nullish()}),Aj=ja.extend({status:g("in-progress"),participants:T(xE),clock:Fa,currentPlayingPeriod:ps.nullish(),timeline:f({events:T(_E)}).nullish(),videos:T(Va).nullish()}),_j=ja.extend({status:g("final"),participants:T(yj),videos:T(Va).nullish(),timeline:f({events:T(_E)}).nullish()}),kj=ja.extend({status:g("postponed"),participants:T(Sn)}),Pj=ja.extend({status:g("delayed"),participants:T(Sn)}),Mj=ja.extend({status:g("abandoned"),participants:T(Sn)}),Rj=ja.extend({status:g("cancelled"),participants:T(Sn)}),Pf=de("status",[Tj,Aj,_j,Mj,Rj,Pj,kj]),kE=Sn.extend({playingPeriodScores:T(Hc).nullish(),score:l(),record:Md.nullish(),gameOutcome:mo.nullish(),winProbability:A().nullish(),gameStats:$r().nullish()}),Nj=kE.extend({gameOutcome:mo}),Lj=Ba.extend({status:g("in-progress"),participants:T(kE),clock:Fa,currentPlayingPeriod:ps,timeline:f({events:T(jg)}).nullish(),videos:T(Va).nullish()}),Dj=Ba.extend({status:g("final"),participants:T(Nj),videos:T(Va).nullish(),clock:Fa.nullish(),currentPlayingPeriod:ps.nullish(),timeline:f({events:T(jg)}).nullish()}),Oj=Ba.extend({status:g("postponed"),participants:T(Sn)}),Uj=Ba.extend({status:g("delayed"),participants:T(Sn)}),Fj=Ba.extend({status:g("abandoned"),participants:T(Sn)}),jj=Ba.extend({status:g("cancelled"),participants:T(Sn)}),Mf=de("status",[xj,Lj,Dj,Fj,jj,Uj,Oj]),Bj=f({type:g("sportsSchedule"),sport:H(["basketball","ice-hockey","football"]),games:T(Mf),header:Vc.nullish(),heroGame:Mf.nullish()}),Vj=f({type:g("sportsSchedule"),sport:g("soccer"),games:T(Pf),header:Vc.nullish(),heroGame:Pf.nullish()}),Hj=f({type:g("sportsGame"),sport:H(["basketball","ice-hockey","football"]),game:Mf}),zj=f({type:g("sportsGame"),sport:g("soccer"),game:Pf}),Ha=Ug.extend({name:l().nullish(),week:A().nullish(),videos:T(Va).nullish(),bracket:AE.nullish(),clock:Fa.nullish(),currentPlayingPeriod:ps.nullish()}),PE=f({hits:A(),errors:A(),runs:A()}),Bg=Fg.extend({type:H(["conversion","bat"]),playingPeriod:ps,participantScores:T(Og)}),ME=Dg.extend({record:Md.nullish(),gameOutcome:mo.nullish(),score:l().nullish(),playingPeriodScores:T(Hc).nullish(),gameStats:PE.nullish()}),RE=ME.extend({playingPeriodScores:T(Hc).nullish(),score:l(),gameStats:PE.nullish()}),Gj=RE.extend({gameOutcome:mo}),Wj=Ha.extend({status:g("pre-game"),participants:T(ME),timeline:f({events:T(Bg)}).nullish()}),$j=Ha.extend({status:g("in-progress"),participants:T(RE),currentPlayingPeriod:ps.nullish(),timeline:f({events:T(Bg)}).nullish()}),qj=Ha.extend({status:g("final"),participants:T(Gj),videos:T(Va).nullish(),timeline:f({events:T(Bg)}).nullish()}),Kj=Ha.extend({status:g("postponed"),participants:T(Sn)}),Yj=Ha.extend({status:g("delayed"),participants:T(Sn)}),Zj=Ha.extend({status:g("abandoned"),participants:T(Sn)}),Jj=Ha.extend({status:g("cancelled"),participants:T(Sn)}),Rf=de("status",[Wj,$j,qj,Kj,Yj,Zj,Jj]),Qj=f({type:g("sportsSchedule"),sport:g("baseball"),games:T(Rf),header:Vc.nullish(),heroGame:Rf.nullish()}),Xj=f({type:g("sportsGame"),sport:g("baseball"),game:Rf}),eB=f({ballsFaced:A(),runsScored:A(),isBatting:V()}),tB=f({oversBowled:l(),wicketsTaken:A(),runsConceded:A(),isBowling:V()}),nB=eB.extend({type:g("batting")}),oB=tB.extend({type:g("bowling")}),NE=de("type",[nB,oB]),sB=f({name:l(),stats:NE}),aB=f({playerName:l(),teamName:l(),gameStats:T(NE).nullish()}),rB=f({current:A(),required:A().nullish()}),iB=f({name:l(),currentMatch:A(),totalMatches:A(),roundName:l().nullish(),equation:l().nullish()}),LE=f({type:sj,runs:A(),wickets:A(),oversPlayed:l(),isFollowedOn:V(),isDeclared:V(),duckworthLewisEquation:f({target:A(),revisedOvers:l()}).nullish()}),Vg=f({name:l(),alias:l().nullish(),thumbnailUrl:l().nullish()}),cB=Vg.extend({previousGameOutcomes:T(mo).nullish()}),lB=Vg.extend({inningScores:T(LE).nullish(),playersStats:T(sB).nullish(),yetToBat:V()}),uB=Vg.extend({gameOutcome:mo,didNotBat:V(),inningScores:T(LE).nullish()}),dB=f({startsAt:l(),startTimeToBeAnnounced:V(),tossInfo:l().nullish(),participants:T(cB),type:g("pre")}),mB=f({gameSummary:l(),runRate:rB.nullish(),participants:T(lB),type:g("live")}),pB=f({startsAt:l(),gameSummary:l(),playerOfTheMatch:aB.nullish(),participants:T(uB),type:g("final")}),fB=de("type",[dB,mB,pB]),Nf=f({gameId:l(),leagueId:l(),venue:TE.nullish(),format:oj,status:aj,seriesInfo:iB,phase:fB}),hB=f({type:g("sportsGame"),sport:g("cricket"),game:Nf}),gB=f({type:g("sportsSchedule"),sport:g("cricket"),games:T(Nf),header:Vc.nullish(),heroGame:Nf.nullable()}),vB=f({name:l(),countryFlagThumbnailUrl:l().nullish(),seed:A().nullish()}),yB=f({points:A(),isServing:V(),tieBreakerPoints:A().nullish(),currentGamePoints:l().nullish(),setWon:V().nullish()}),DE=f({players:T(vB)}),CB=DE,OE=DE.extend({setPoints:T(yB)}),SB=OE.extend({gameOutcome:mo}),bB=f({type:g("pre"),participants:T(CB)}),IB=f({type:g("live"),participants:T(OE)}),EB=f({type:g("final"),participants:T(SB)}),wB=de("type",[bB,IB,EB]),hC=f({gameId:l(),leagueId:l(),status:rj,startsAt:l().nullish(),startTimeToBeAnnounced:V(),venue:TE.nullish(),matchType:ij,round:cj.nullish(),phase:wB}),TB=f({type:g("sportsSchedule"),sport:g("tennis"),games:T(hC),header:Vc.nullish(),heroGame:hC.nullish()}),xB=J([Bj,Vj,Qj,gB,TB]),AB=de("sport",[zj,Hj,Xj,hB]),_B=J([xB,AB]),kB=f({type:g("tapToReveal"),content:l()}),PB=f({type:g("textRewrite"),pattern:l(),replacement:l(),preview:l()}),MB=f({type:g("suggestVision")}),RB=H(["c","f"]),NB=H(["mm","cm","in"]),LB=H(["hPa","inHg","mb","mmHg"]),DB=H(["bft","kph","mph","ms"]),OB=H(["m","km","mi"]),UB=f({temperature:RB,height:NB,pressure:LB.optional(),speed:DB.optional(),distance:OB.optional()}),Hg=H(o5),FB=H(["rain","snow"]),zg=f({type:FB.nullish(),amount:A().nullish(),chance:A()}),jB=f({current:A(),high:A().optional(),low:A().optional()}),BB=f({at:l(),state:Hg,summary:l(),description:l().optional(),temperature:jB,precipitation:zg.optional()}),UE=f({high:A(),low:A()}),VB=f({date:l(),state:Hg,temperature:UE,precipitation:zg.optional()}),HB=f({at:l(),state:Hg,temperature:UE,precipitation:zg.optional()}),zB=f({daily:T(VB),hourly:T(HB).nullish().optional()}),GB=f({type:g("weather"),location:l(),units:UB,spotlight:BB.optional(),forecast:zB}),lc=H(o5),WB=f({type:g("weatherTemperatureHourly"),location:l(),unit:J([g("f"),g("c")]),spotlight:f({date:l(),state:lc,summary:l(),temperature:A().optional(),high:A(),low:A()}),forecast:T(f({at:l(),state:lc,temperature:A(),precipitationChance:A()}))}),$B=f({type:g("weatherTemperatureDaily"),location:l(),unit:J([g("f"),g("c")]),forecast:T(f({date:l(),state:lc,high:A(),low:A(),precipitationChance:A()}))}),FE=J([g("rain"),g("snow")]),jE=J([g("in"),g("mm")]),qB=f({type:g("weatherPrecipitationHourly"),location:l(),unit:jE,precipitationType:FE,spotlight:f({date:l(),summary:l(),amount:A(),chance:A()}),forecast:T(f({at:l(),state:lc,amount:A(),chance:A()}))}),KB=f({type:g("weatherPrecipitationDaily"),location:l(),unit:jE,precipitationType:FE,forecast:T(f({date:l(),state:lc,amount:A(),chance:A()}))}),YB=J([GB,WB,$B,qB,KB]),ZB=f({type:g("windowsSettings"),settingsUri:l()}),JB=J([lF,MB,JD]),BE=J([xL,AD,_D,LL,DL,OL,eU,qD,rD,eO,nO,wO,RO,JO,QO,tU,iU,cU,EU,pU,hU,AU,QU,sF,oO,TD,UF,sU,_B,oU,YB,cF,cD,QD,bU,UU,_O,vU,JB,xD,oF,YD,KL,kB,PB,aO,ZB]),VE="clicked",Gg="dismissed",QB=f({mainColor:l().nullable().optional(),secondaryColor:l().nullable().optional(),leftAccentColor:l().nullable().optional(),rightAccentColor:l().nullable().optional(),selectedVariant:l().nullable().optional(),palette:l().nullable().optional(),randomPalette:V().optional()}),gC=J([H([VE,Gg]),L2()]),HE=f({primaryColor:l(),secondaryColor:l().nullable().optional(),leftAccentColor:l().nullable().optional(),rightAccentColor:l().nullable().optional()}),Wg=f({headwear:l().nullish(),eyewear:l().nullish()}),PTe=f({body:QB,accessories:Wg.nullish()}),MTe=f({appearance:f({body:HE,accessories:Wg.nullish()}).nullable()}),vC=f({id:l()}),XB=f({accessoryOptions:f({headwear:T(vC),eyewear:T(vC)}).nullable()}),eV=f({date:l(),eventId:l().default(""),completed:V().default(!1)}),zE=H(["article","button","group","link","list","listitem","none","presentation","region","toolbar"]),za={ariaLabel:l().min(1).optional(),ariaHidden:V().optional(),focusable:V().optional(),role:zE.optional()},_o=J([A(),l()]),GE=f({size:_o.optional(),width:_o.optional(),height:_o.optional(),minSize:_o.optional(),minWidth:_o.optional(),minHeight:_o.optional(),maxSize:_o.optional(),maxWidth:_o.optional(),maxHeight:_o.optional()}),WE=J([g("xs"),g("sm"),g("md"),g("lg"),g("xl"),g("2xl"),g("3xl")]).optional(),zc=H(["primary","secondary","tertiary","success","warning","danger","emphasis","prose","white","accent-550","foreground-450","foreground-600","foreground-700","foreground-800"]).optional(),Lu=["add","add-circle","address","alltabs","apple-icon","apps","arrow-back","arrow-counter-clockwise","arrow-enter-up","arrow-export","arrow-export-up","arrow-forward","arrow-highlighter","arrow-import","arrow-loop","arrow-maximize","arrow-minimize","arrow-refresh","arrow-reload","arrow-trending-down","arrow-undo","arrow-up","arrow-up-right","attachment","beaker","bell","bell-alert","bell-filled","block","calendar","calendar-agenda","call","caret","chat","chat-add","chat-empty","chat-multiple","chat-sparkle","check","check-circle","check-circle-filled","checklist","checkmark-circle-filled","chevron","chevron-bolded","chevron-down-up","chevron-up-down","clipboard-paste","clock","cloud","collections","color-palette","compass","compose","contract-down-left","copy","copy-add","copy-filled","credit-card","cube","cube-add","cube-filled","cursor-click","cursor-hover","delete","directions","disconnect","dismiss","dismiss-circle","dismiss-strong","document-one-page-sparkle","door-arrow-left","dots-horizontal","download","edit","edit-line-horizontal","edit-line-horizontal-filled","ellipse","email","error","external-link","eye","eye-filled","eye-off","filmstrip-image","flag","flag-filled","folder-add","food-apple","four-leaf-clover","gift","globe","hanger","headphones","heart","heart-filled","history","image","image-off","indicator-dot","info","invite-action","key","library","lightbulb","link","link-filled","link-multiple","live","location","location-filled","location-ripple","lock","magnifier","mail","microphone","microphone-mute","moon","new-tab","note","open","options","panel-left","panel-right-contract","panel-right-expand","paperclip","people","people-add","person","person-add","person-arrow-left","person-delete","phone","phone-headset","picture-in-picture","pin","pin-off","plant","podcast","printer-3d","prohibited","puzzle","qr","quiz","rename","replay","save","scales","screenshot","search","separator","settings","share","shield","shield-checkmark","shield-error","shopping-bag","speed","star","star-filled","start-line","stop-circle","study","subtract","sun","tab-add","tag","text-bold","text-bullet-list","text-bullet-list-square-sparkle","text-code","text-italic","text-length-expand","text-length-reduce","text-list-abc","text-numbered-list","text-paragraph","thinking","thumbs-down","thumbs-down-filled","thumbs-up","thumbs-up-filled","timer","toggle-off","vehicle-truck","vertical-divider","vision","voice","wand"],tV=f({name:H(Lu),color:zc,size:WE,...za}),nV=f({type:g("Icon"),props:tV}),oV=H(["sm","md","lg"]),sV=H(["info","secondary","success","danger","warning","discovery"]),aV=H(["soft","solid","outline"]),rV=f({label:l(),icon:H(Lu).optional(),pill:V().optional(),size:oV.optional(),color:sV.optional(),variant:aV.optional(),...za}),iV=f({type:g("Badge"),props:rV}),cV=f({type:g("navigate"),handler:g("client"),payload:f({url:l()})}),lV=f({type:g("previewImage"),handler:g("client"),payload:f({url:l(),altText:l(),thumbnail:l().optional(),sourceTitle:l().optional().nullable(),sourceUrl:l().optional().nullable(),sourceIconUrl:l().optional().nullable()})}),uV=f({type:g("selectChange"),handler:g("server"),payload:f({name:l(),value:l(),previousValue:l().optional()})}),dV=f({type:g("datePickerChange"),handler:g("server"),payload:f({name:l(),value:l(),previousValue:l().optional()})}),mV=f({type:g("radioChange"),handler:g("server"),payload:f({name:l(),value:l(),previousValue:l().optional()})}),pV=f({type:g("checkboxChange"),handler:g("server"),payload:f({name:l(),checked:V()})}),fV=de("type",[cV,lV]),hV=de("type",[uV,dV,mV,pV]),Rd={onClickAction:fV.optional()},Nd={onChangeAction:hV.optional()},gV=H(["soft","solid","outline","ghost"]),vV=H(["secondary","info","discovery","success","warning","danger"]),yV=H(["primary","secondary"]),CV=H(["3xs","2xs","xs","sm","md","lg","xl","2xl","3xl"]),SV=f({label:l().optional(),variant:gV.optional(),color:vV.optional(),style:yV.optional(),size:CV.optional(),iconStart:H(Lu).optional(),iconEnd:H(Lu).optional(),iconSize:WE,disabled:V().optional(),block:V().optional(),pill:V().optional(),uniform:V().optional(),...za,...Rd}),bV=f({type:g("Button"),props:SV}),IV=H(["start","center","end"]),Gc={textAlign:IV.optional()};f(Gc);const Ld={truncate:V().optional(),maxLines:A().optional()};f(Ld);const $g=H(["xs","sm","md","lg","xl"]),EV=H(["sm","md","lg"]),wV=H(["sm","md","lg","xl","2xl","3xl","4xl","5xl"]),Wc=H(["normal","medium","semibold","bold"]),TV={fontSize:$g.optional(),fontWeight:Wc.optional()};f(TV);const xV=f({color:zc,size:EV.optional(),...Gc,...Ld,value:l(),weight:Wc.optional()}),AV=f({type:g("Caption"),props:xV}),_V=H(["sm","md","lg"]),kV=J([_V,A()]),PV=f({dataKey:l().optional(),label:l().optional()}),MV=f({type:g("bar"),dataKey:l()}),RV=f({type:g("line"),dataKey:l()}),NV=f({type:g("area"),dataKey:l()}),LV=de("type",[MV,RV,NV]),DV=wt(l(),J([l(),A()])),OV=f({data:T(DV),series:T(LV),size:kV.optional(),xAxis:PV.optional(),showXAxis:V().optional(),showYAxis:V().optional(),showLegend:V().optional(),showTooltip:V().optional()}),UV=f({type:g("Chart"),props:OV}),FV=f({name:l(),label:l(),defaultChecked:J([V(),l()]).optional(),disabled:V().optional(),required:V().optional(),...Nd}),jV=f({type:g("Checkbox"),props:FV}),BV=H(["start","center","end"]),VV=H(["top","bottom","left","right"]),HV=H(["3xs","2xs","xs","sm","md","lg","xl","2xl","3xl"]),zV=H(["solid","soft","outline","ghost"]),GV=f({name:l(),align:BV.optional(),block:V().optional(),clearable:V().optional(),defaultValue:l().optional(),disabled:V().optional(),max:l().optional(),min:l().optional(),pill:V().optional(),placeholder:l().optional(),side:VV.optional(),size:HV.optional(),variant:zV.optional(),...Nd}),WV=f({type:g("DatePicker"),props:GV}),$V=H(["subtle","weak","accent"]).optional(),qV=f({color:$V,size:A().optional(),spacing:A().optional(),flush:V().optional()}),KV=f({type:g("Divider"),props:qV}),YV=H(["2xs","xs","sm","md","lg","xl","2xl","3xl","4xl","full","100%","none"]),$E=f({radius:YV.optional()}),qE=J([A(),f({top:A().optional(),right:A().optional(),bottom:A().optional(),left:A().optional(),x:A().optional(),y:A().optional()})]),KE=f({margin:qE.optional()}),Dd=f({padding:qE.optional()}),ZV=f({src:l(),alt:l().optional(),aspectRatio:J([l(),A()]).optional(),frame:V().optional(),fit:H(["cover","contain","fill","none","scale-down"]).optional(),...za,...GE.shape,...$E.shape,...KE.shape,...Dd.shape,...Rd}),JV=f({type:g("Image"),props:ZV}),QV=f({value:l(),fieldName:l(),size:$g.optional(),weight:Wc.optional(),...Gc,color:zc}),XV=f({type:g("Label"),props:QV}),eH=f({streaming:V().optional(),value:l()}),tH=f({type:g("Markdown"),props:eH}),nH=f({label:l(),value:l(),disabled:V().optional()}),oH=f({name:l(),value:l().optional(),disabled:V().optional(),options:T(nH).min(1),...Nd}),sH=f({type:g("RadioGroup"),props:oH}),aH=H(["solid","soft","outline","ghost"]),rH=H(["3xs","2xs","xs","sm","md","lg","xl","2xl","3xl"]),iH=f({label:l(),value:l()}),cH=f({options:T(iH),block:V().optional(),clearable:V().optional(),defaultValue:l().optional(),disabled:V().optional(),name:l(),pill:V().optional(),placeholder:l().optional(),size:rH.optional(),variant:aH.optional(),...Nd}),lH=f({type:g("Select"),props:cH}),uH=f({minSize:_o.default("auto")}),dH=f({type:g("Spacer"),props:uH}),mH=f({color:zc,italic:V().optional(),lineThrough:V().optional(),size:$g.optional(),streaming:V().optional(),...Gc,...Ld,value:l(),weight:Wc.optional()}),pH=f({type:g("Text"),props:mH}),fH=f({color:zc,size:wV.optional(),...Gc,...Ld,value:l(),weight:Wc.optional()}),hH=f({type:g("Title"),props:fH}),YE=H(["surface","surface-secondary","surface-tertiary","surface-elevated","surface-elevated-secondary","background-100","background-150","background-200","background-300","accent-200","accent-250","accent-350","accent-400","accent-450","stroke-300","spot-blue-300","spot-blue-450","spot-green-300","spot-green-600","spot-orange-300","spot-orange-750","system-blue-350","system-blue-550","system-green-350","system-green-550","system-green-600","system-orange-350","system-red-450","system-red-550","system-teal-550","system-yellow-350","shopping-curated-purple-350","shopping-purple-550","shopping-blue-750","black"]).optional(),gH=f({dark:l(),light:l()}),vH=J([l(),gH]),yH=H(["solid","dashed","dotted","double","groove","ridge","inset","outset"]),CH=f({size:A(),color:vH.optional(),style:yH.optional()}),SH=J([A(),CH]),bH=f({border:SH.optional()}),ZE=H(["start","center","end","stretch"]),IH=H(["row","col"]),EH=H(["start","center","end","between","around","evenly"]),wH=H(["nowrap","wrap"]),JE=f({align:ZE.optional(),direction:IH.optional(),flex:A().optional(),gap:A().optional(),justify:EH.optional(),wrap:wH.optional()}),Od=f({aspectRatio:J([l(),A()]).optional(),background:YE,scrollable:V().optional(),...za,...bH.shape,...JE.shape,...KE.shape,...Dd.shape,...$E.shape,...GE.shape}),Ga=Os(()=>J([iV,TH,bV,AV,jV,UV,kH,WV,KV,nV,JV,XV,sH,dH,lH,tH,MH,pH,hH,AH])),TH=Os(()=>f({type:g("Box"),props:Od,children:T(Ga).default([])})),xH=Od.omit({direction:!0}),AH=Os(()=>f({type:g("Row"),props:xH,children:T(Ga).default([])})),_H=Od.omit({direction:!0}),kH=Os(()=>f({type:g("Col"),props:_H,children:T(Ga).default([])})),PH=Od.extend({disabled:V().optional(),role:zE.extract(["button","link"]).optional(),...Rd}),MH=Os(()=>f({type:g("Pressable"),props:PH,children:T(Ga).default([])})),RH=f({background:YE,size:H(["sm","md","lg","full"]).optional(),...za}).extend(Dd.shape),NH=Os(()=>f({type:g("Card"),props:RH,children:T(Ga).default([])})),LH=f({align:ZE.optional(),gap:A().optional(),key:l().optional().nullish(),...za,...Rd}),DH=f({type:g("ListViewItem"),props:LH,children:T(Ga).default([])}),qg=DH;function yC(e){return qg.safeParse(e).success}const OH=f({limit:J([A(),g("auto")]).optional()}),UH=f({type:g("ListView"),props:OH,children:T(qg).default([])}),FH=JE.omit({flex:!0,wrap:!0}).extend(Dd.shape),jH=Os(()=>f({type:g("Basic"),props:FH,children:T(Kg).default([])})),Ud=J([jH,NH,UH]);function BH(e){return Ud.safeParse(e).success}const Kg=J([Ud,Ga,qg]),Lf=f({userId:l(),userDisplayName:l().nullish()}),VH=f({participants:T(Lf).nullish(),owner:Lf.nullish()});Lf.extend({isYou:V(),avatar:l().optional(),isOwner:V()});f({token:l().min(1),displayName:l().trim().min(1).optional()});const RTe=f({conversationId:l()}),NTe=f({url:Pt()}),LTe=f({url:Pt().nullish()}),DTe=f({owner:l().nullish(),conversationTitle:l().nullish(),numberOfOtherParticipants:A().min(1)}),OTe=f({errorCode:l().optional()}),HH=f({modelName:l(),correlationPartId:l()}),zH=f({type:g("modelStatement"),partId:l(),models:T(HH)}),GH=f({type:g("provideImageFeedback"),messageId:l(),feedbackTypes:T(l())}),WH=f({type:g("createPage"),messageId:l()}),$H=f({type:g("appendToPage"),messageId:l(),pageId:l()}),qH=f({id:l(),conversationId:l()}),KH=f({id:l(),fileName:l(),contentType:l()}),UTe=f({title:l().nullish(),content:l().nullish(),conversationId:l(),attachments:T(KH).optional().nullable()}),YH=Tt.extend({type:g("page"),page:f({id:l(),conversationId:l(),title:l().nullish()})}),ZH=f({id:l(),title:l().nullish(),updatedAt:l(),conversationId:l().optional(),type:H(["page","sharedPage"]).optional(),previewContent:l().nullish()}),JH=f({results:T(ZH),next:l().nullish()}),FTe=f({title:l().nullish(),content:l().nullish(),shareLink:l(),page:f({id:l()}).nullable()}),jTe=f({id:l(),url:l()}),QH=H(["page-count-exceeded","page-content-length-exceeded"]),XH=f({errorCode:QH}),BTe=f({title:l().nullish()}).nullish(),VTe=H(["public","user"]),HTe=f({id:l(),url:l()});f({type:g("podcast"),id:l().min(1)});const QE=g("generatePodcast"),ez=f({type:QE,taskId:l().min(1)}),tz=f({id:l(),imageUrl:l(),voiceId:l()}),zTe=wt(l(),f({voiceId:l()})),GTe=de("type",[f({type:g("media"),delta:l()}),f({type:g("remainingTime"),seconds:A()}),f({type:g("startFailed"),startFailedType:J([g("time-expired"),g("start-model-failed"),g("throttled")])}),f({type:g("terminated"),reason:J([g("time-expired-day"),g("interrupted")])})]);H(["free-talk","prepare-interview","learn-about-x","practice-speaking","talk-to-future-self"]);const nz=f({id:l(),previewImageUrl:l(),voiceId:l().optional()}),WTe=f({portraits:T(nz)});J([g("take-photo"),g("select-voice")]);const XE=g("createPowerPoint"),oz=f({type:XE,messageId:l(),themeId:l(),responses:wt(l(),T(A()))}),sz=f({prompt:l()}),Fd=g("executeTask"),az=f({type:Fd,taskId:l(),context:sz.optional()}),rz=f({fileName:l(),filePath:f({path:T(A())}),lastModified:J([D2()])});f({error:A(),errorMessage:l().nullish(),results:T(rz)});f({id:l(),title:l(),lastUpdated:Ca()});f({filePath:l()});f({error:A(),errorMessage:l().nullish(),contentBase64:l().nullish(),mimeType:l().nullish(),fileSize:D2()});f({error:A(),errorMessage:l().nullish()});H(["Success","SearchFailed","ConsentRequired","OperationFailed","FileNotFound","AccessDenied"]);const iz=f({type:g("cornerImage"),url:l(),altText:l().optional()}),cz=f({type:g("image"),url:l()}),lz=de("type",[iz,cz]),ew={DeepLink:"deepLink",SendMessage:"sendMessage"},uz=f({type:g(ew.DeepLink),uri:l()}),dz=f({type:g(ew.SendMessage),prompt:l()}),mz=de("type",[uz,dz]),pz=f({id:l(),title:l(),description:l(),visual:lz,action:mz,headerIcon:l().optional(),headerText:l().optional(),actionLabel:l().optional()}),fz=f({type:g("forYou"),id:l(),items:T(pz)}),hz=["default","concise","imaginative","skeptical","curious","casual","supportive"],$Te={concise:"rgba(229, 242, 196, 0.35)",imaginative:"rgba(255, 227, 234, 0.35)",skeptical:"rgba(235, 232, 255, 0.35)",curious:"rgba(188, 248, 252, 0.35)",casual:"rgba(255, 233, 188, 0.35)",supportive:"rgba(215, 239, 255, 0.35)"},qTe={concise:"rgba(53, 64, 0, 0.35)",imaginative:"rgba(100, 28, 55, 0.35)",skeptical:"rgba(62, 44, 108, 0.35)",curious:"rgba(2, 67, 71, 0.35)",casual:"rgba(75, 55, 1, 0.35)",supportive:"rgba(14, 57, 113, 0.35)"},KTe={concise:"rgba(78, 96, 40, 1)",imaginative:"rgba(126, 26, 67, 1)",skeptical:"rgba(77, 51, 137, 1)",curious:"rgba(2, 82, 87, 1)",casual:"rgba(92, 67, 2, 1)",supportive:"rgba(5, 68, 143, 1)"},YTe={concise:"rgba(229, 242, 196, 1)",imaginative:"rgba(255, 227, 234, 1)",skeptical:"rgba(235, 232, 255, 1)",curious:"rgba(188, 248, 252, 1)",casual:"rgba(255, 233, 188, 1)",supportive:"rgba(223, 236, 255, 1)"},CC={concise:"102, 121, 1",imaginative:"188, 46, 104",skeptical:"119, 80, 208",curious:"2, 82, 87",casual:"140, 104, 1",supportive:"1, 105, 218"},dp=.2,gz=1.2,vz="0px 2px 8px 1px",yz="0px 8px 24px 0px",Cz=l();H(wN);const Sz=f({currentConversationId:l().nullable(),isNewUser:V(),banExpiresAt:l().nullable(),remainingTurns:A().nullable(),features:T(Cz),allowBeta:V().nullish(),userId:l().nullish(),inDataUseWaitingPeriod:V().nullish(),isBlocked:V()}),bz=f({id:l(),name:l(),previewUrl:l(),voicemails:T(l())}),Iz=f({id:l(),backgroundImageUrl:l()}),Ez=f({id:l(),name:l(),location:Iz.nullish()}),hn=f({type:l(),label:l()}),wz=T(hn),Tz=f({positive:T(hn),negative:T(hn)}),rn=J([wz,Tz]),Xs=f({type:l(),label:l(),subOptions:T(hn).nullish()}),tw=f({local:rn,ads:rn,video:rn,image:rn,sports:rn,job:rn,shopping:rn,recipe:rn,finance:rn,quiz:rn,weather:rn,personalArtifacts:rn,healthcareInfo:rn,navigation:rn,healthcareEntity:rn,audioCallSummary:rn}),xz=f({positive:T(hn).nullish(),negative:T(hn)});tw.keyof();const nw=f({newsArticle:T(Xs),newsVideo:T(Xs),newsGem:T(Xs),chat:T(Xs),dailyBriefing:T(Xs),podcast:T(Xs),default:T(Xs)}),ow=f({journey:T(hn),product:T(hn)});ow.keyof();nw.keyof();const Az=f({computerUse:T(hn)}),_z=f({negative:T(hn)}),kz=f({text:T(hn),image:T(hn),call:T(hn),appearance:T(hn),vision:T(hn).optional(),card:tw,showroom:xz.nullish(),discover:nw.nullish(),shoppingHome:ow.nullish(),task:Az.nullish(),map:_z.nullish()}),Pz=f({maxFilesPerMessage:A(),maxFileNameLength:A(),image:f({mimeTypes:T(l()),maxBytes:A()}),document:f({mimeTypes:T(l()),maxBytes:A()}),binary:f({mimeTypes:T(l()),maxBytes:A()})}),Mz=f({minTextLength:A().min(0),textDeltaPercent:A().min(0).max(100),debounceInMilliseconds:A().min(0)}),Rz=f({language:l(),label:l()}),Nz=f({signInPrompts:T(A()),voices:T(bz),voiceLanguages:T(Rz).optional(),maxTextMessageLength:A(),feedbackOptions:kz,characters:T(Ez).nullish(),pageLimit:A(),maxPageContentLength:A(),maxPageTitleLength:A(),messagePreview:Mz,attachments:Pz,portraits:T(tz).nullish(),characterAppearance:XB.nullish()});f({hasVisionAccess:V(),allowedDomains:T(l()).nullable(),allowedDomainSuffixes:T(l()).nullable(),blockedDomains:T(l()).nullable(),blockedDomainSuffixes:T(l()).nullable()});const Lz=f({startTime:l(),text:l()}),Dz=f({startTime:l(),text:l(),words:T(Lz)}),SC=f({url:l(),duration:A(),transcript:T(Dz).nullish()}),Oz=f({title:l(),image:l(),url:l(),createdAt:l()}),Uz=f({publisherName:l(),publisherIcon:l(),articles:T(Oz)}),bC=f({url:l(),foregroundColor:l(),backgroundColor:l()}),IC=f({name:l(),foregroundColor:l(),backgroundColor:l(),altText:l().nullish(),url:l()}),Fz=f({landscape:IC,portrait:IC}),jz=f({id:l(),title:l(),image:f({landscape:bC,portrait:bC}),audio:wt(l(),SC),transitionMusic:SC.nullable(),sources:T(Uz)}),sw=f({topics:T(f({id:l(),label:l(),imageUrl:l(),isFollowed:V()}))}),Bz=f({position:A(),chapterId:l()}),aw=f({isAvailable:V(),podcastId:l(),chapters:T(jz),topics:sw.optional(),playback:Bz}),Vz=f({positionInSeconds:A(),chapterId:l()}),Hz=f({id:l(),title:l(),topic:l().nullable().optional(),image:Fz,audio:f({name:l(),duration:A()})}),Du=f({isAvailable:V(),podcastId:l(),chapters:T(Hz),playback:Vz}),zz=H(bN),rw=H(CN),Gz=H(SN),Wz=f({channel:Gz,tier:rw,isAutoRenew:V()}),Yg=J([g("biometric-data-use"),g("biometric-data-use-notice")]),$z=f({portrait:f({consentType:g("portrait"),version:l().nullable()}).nullable(),compliance:f({consentType:g("teen"),version:l()}).nullable(),vision:f({consentType:Yg,version:l().nullable()}).nullable()}),iw=Ll({id:l(),preferredName:l().nullish(),firstName:l().nullable(),anid:l().nullable(),isPro:V(),isDeprecated:V().nullish(),inEeaPlusRegion:V(),inGdprRegion:V(),regionCode:H(Object.values(Oc)),isHistoryMigrationPending:V(),isInsider:V(),isEligibleForFreeTrial:V().optional(),phoneLink:Ll({deviceName:l().nullable()}).nullable(),ageGroup:H(vN).nullable(),allowedToggles:Ll({textTraining:V(),voiceTraining:V(),personalization:V(),adsPersonalization:V().nullish()}),remainingUsage:Ll({reasoningCalls:A(),podcastGenerations:A(),researchCalls:A(),taskCreations:A(),visionCallSeconds:A(),videoGenerations:A()}).nullish(),accountTier:zz.nullish(),subscriptions:T(Wz).nullish(),requiredConsents:$z,privacyRequirement:H(EN).nullable()}),qz=f({type:g("message"),conversationId:l(),title:l(),updatedAt:l(),messageId:l(),snippet:l()}),Kz=f({type:g("conversation"),conversationId:l(),title:l(),updatedAt:l()}),Yz=de("type",[qz,Kz]),ZTe=f({results:T(Yz),next:l().nullable()}),Zz=f({searchable:V().nullish()}),Jz=f({preferredVoice:l().nullable(),preferredVoiceLanguage:l().nullable().optional(),preferredCharacter:l().nullable().optional(),personality:f({traits:T(H(hz))}).nullable().optional(),toggles:f({training:V(),personalization:V(),"phone-connection":V(),"voice-training":V(),"biometric-data-use":V().optional(),"browser-cookies":V().optional(),"one-drive-access":V().optional(),"computer-use-actions":V().optional(),"ads-personalization":V().optional(),"microsoft-profile-access":V().optional(),proactivity:V().optional(),allowEdgePasswordsAccess:V().optional(),allowOutlookAccess:V().optional(),optInToGenerativeUI:V().optional()})}),Qz=f({assertion:l().optional()});f({result:H(["new-microsoft-account-linked","already-linked"]).optional()});const Zg=f({errorCode:J([g("attachment-too-large"),g("unsupported-content-type"),g("empty-attachment"),g("content-blocked"),g("rate-limit-exceeded"),g("not-signed-in")])}),Xz=J([f({url:l()}),Zg]),eG=J([f({id:l()}),Zg]),tG=J([f({results:T(f({externalId:l(),attachmentId:l(),isSuccessful:V(),url:l().nullable()}))}),Zg]),nG=f({errorCode:l()}),oG=J([f({callId:l()}),nG]),sG=H(["excel","copilot-chat","copilot-notebook","outlook","power-point","teams","word"]),aG=f({app:sG,documentUrl:l().nullish(),documentName:l().nullish(),documentUpdatedAt:l().nullish()}),Jg=f({id:l(),title:l().optional(),updatedAt:l(),characterId:l().nullable().optional(),continuedAt:l().nullable(),group:VH.nullish(),isPinned:V().nullish(),type:l().optional(),url:l().optional(),source:aG.nullish(),taskId:l().optional(),status:l().optional(),hasUnreadMessages:V().optional()});f({latestMessageId:l()});const rG=f({results:T(Jg),next:l().nullable()}),iG=f({id:l()}),Qg=J([g("thumbs-down"),g("thumbs-up"),$r()]),js=J([g("running"),g("completed"),g("failed"),g("cancelled"),g("pending"),g("paused")]),cG=J([g("research"),g("computerUse"),g("podcast"),g("videoGeneration"),g("planning"),g("threeDGeneration")]),lG=f({type:g("chainOfThought"),text:l()}),uG=f({type:g("query"),text:l()}),dG=f({type:g("citation"),title:l(),url:l()}),mG=H(["start","preplan","plan","exploration","reflection","report"]),pG=f({completion:A().min(0).max(1),step:mG}),fG=de("type",[lG,uG,dG]),hG=f({url:l().nullish(),prompt:l()}),cw=f({url:l(),createdAt:l()}),gG=f({type:g("computerUse"),title:l().nullish(),conversationId:l().nullish(),id:l(),status:js,lastScreenshot:cw.nullish(),updatedAt:l().nullish()}),lw=f({id:l(),title:l().nullish(),thumbnail:f({name:l().nullish()}).nullish()}),vG=f({type:g("podcast"),id:l(),podcast:lw.nullish(),status:js,updatedAt:l().nullish()}),yG=f({type:g("error"),errorCode:H(["Failed","Blocked","Throttled"])}),CG=f({type:g("success"),thumbnailUrl:l().nullish(),videoUrl:l().nullish()}),uw=de("type",[yG,CG]),SG=f({type:g("error"),errorCode:H(["Failed","Blocked","Throttled","InvalidInput"])}),bG=f({type:g("success"),glbUrl:l(),gifUrl:l().optional(),stlUrl:l().optional(),thumbnailUrl:l()}),dw=de("type",[SG,bG]),mw=H(["default","cartoon","mecha","miniature","realistic"]),IG=f({type:g("videoGeneration"),id:l(),result:uw.nullish(),status:js,prompt:l().nullish(),updatedAt:l().nullish()}),EG=f({type:g("threeDGeneration"),id:l(),result:dw.nullish(),status:js,attachmentId:l(),style:mw.nullish(),updatedAt:l().nullish()}),Zr=f({id:l(),title:l().optional(),conversationId:l().optional(),scheduledTaskId:l().nullish(),updatedAt:l(),status:js,type:cG,reaction:od().nullish()}),wG=Zr.extend({type:g("research")}),TG=Zr.extend({type:g("computerUse"),screenshot:l().nullish(),lastScreenshot:cw.nullish(),chainOfThought:T(l()).nullish(),computerAction:l().nullish(),statusChange:mD.optional(),lastUserCommand:Da.optional(),reaction:Qg.optional(),activeTabFaviconUrl:l().nullish(),activeTabTitle:l().nullish(),viewMode:bD.nullish(),replay:ED.nullish()}),xG=Zr.extend({type:g("podcast"),podcast:lw.nullish()}),AG=Zr.extend({type:g("videoGeneration"),result:uw.nullish()}),_G=Zr.extend({type:g("planning")}),kG=Zr.extend({type:g("threeDGeneration"),result:dw.nullish(),attachmentId:l(),style:mw.nullish(),reaction:Qg.optional()}),PG=de("type",[wG,TG,xG,AG,_G,kG]),JTe=f({results:T(PG),next:l().nullable()}),cn=J([g("report"),...Qg.options]),MG=f({type:g("planning"),id:l(),title:l().nullish(),status:js,updatedAt:l(),reaction:cn.nullable()}),RG=J([g("generating"),g("generated"),g("failed"),g("non-complete")]),jd=f({id:l(),createdAt:l()}),NG=f({index:l(),title:l(),url:l(),iconUrl:l().nullable(),publisher:l().nullable(),snippet:l().nullish(),label:l().nullish()}),Xg=Tt.extend({type:g("image"),url:l().optional(),prompt:l().optional().nullable(),isPartiallyLoading:V().optional(),reaction:cn.optional(),partialGenerationStep:A().optional(),status:RG.optional(),progressionText:l().nullable().optional()}),LG=Tt.extend({type:g("generativeUI"),rootNode:J([Ud,$r()]),partIdToPath:wt(l(),T(A())),completed:V(),startTime:A().optional()}),DG=Tt.extend({type:g("uiComponent"),parentPartId:l().nullable(),component:od(),requiredComponents:wt(l(),l()).optional()}),pw=Tt.extend({type:g("citation"),..._d.shape}),e1=Tt.extend({type:g("text"),text:l(),citations:T(NG).optional(),reaction:cn.optional()}),t1=Tt.extend({type:g("card"),card:BE,reaction:cn.optional()}),OG=J([g("loading"),g("success"),g("failed")]),UG=Tt.extend({type:g("indicator-ai-response"),text:l(),state:OG}),FG=Tt.extend({type:g("inline-consent-disclaimer")}),fw=Tt.extend({type:g("document"),attachmentId:l(),fileName:l(),contentType:Fc,reaction:cn.optional()}),jG=Tt.extend({type:g("deleted"),partType:H(["page","task"])}),BG=Tt.extend({type:g("error"),text:l()});f({text:l(),title:l().optional(),lastSubActionScreenshotUrl:l().nullish()});const hw=Tt.extend({type:g("chainOfThought"),text:l(),title:l().optional(),screenshotUrl:l().nullish(),reaction:cn.optional(),partId:l()}),VG=J([hw,h5]),HG=Tt.extend({type:g("chainOfThoughtGroup"),items:T(VG).optional(),isComplete:V()}),zG=Tt.extend({type:g("memorySignal"),text:l(),signalType:J([g("remember"),g("forget"),g("remember-name"),g("forget-name")]).nullish()}),GG=f({position:J([g("left"),g("right")]),isDefault:V(),isStreamingComplete:V().optional()}),WG=de("type",[e1,Xg,pw,t1]),gw=f({id:l(),title:l().nullish(),contents:T(fG).nullish(),inlineCitations:T(_d).nullish(),partialOutput:T(l()).nullish(),finalResponse:l().nullish(),reportContent:T(WG).nullish(),summary:l().nullish(),coverImage:hG.nullish(),type:g("research"),status:js,prompt:l().optional(),progress:pG.nullish()}),QTe=gw.omit({id:!0}).extend({shareId:l()}),$G=f({id:l(),type:H(["presentation","spreadsheet","document"]),title:l()}),XTe=f({type:g("planning"),shareId:l(),title:l().nullish(),status:js,artifacts:T($G)}),vw=de("type",[gw,gG,vG,IG,MG,EG]),qG=Tt.extend({type:g("task"),task:vw.nullish(),reaction:cn.optional()}),yw=J([Sg,g("pending"),g("cancelled")]),Cw=Tt.extend({type:g("step"),title:l(),status:yw,partId:l(),reaction:cn.nullish()}),KG=f({title:l().min(1),snippet:l().nullish(),iconUrl:l().nullish(),url:l().min(1)}),Sw=Tt.extend({type:g("webSearch"),partId:l(),reaction:cn.nullish(),query:l().min(1),results:T(KG)}),bw=Tt.extend({type:g("textFile"),partId:l(),reaction:cn.nullish(),content:l().min(1),contentType:l().min(1),fileName:l().min(1)}),Iw=Tt.extend({type:g("shellCommandExecution"),partId:l(),reaction:cn.nullish(),shell:l().min(1),command:l().min(1),output:l().nullable()}),YG=f({id:A(),url:l().optional(),iconUrl:l().optional()}),ZG=f({url:l().optional(),iconUrl:l().optional()}),JG=f({type:g("localBrowser"),tabs:T(YG).nullish()}),QG=f({type:g("remoteBrowser"),tabs:T(ZG).nullish()}),XG=de("type",[JG,QG]),Ew=Tt.extend({type:g("computerUse"),screenshotUrls:T(l()).nullish(),environment:XG.nullish()}),eW=de("type",[e1,Cw,Sw,t1,fw,Xg,bw,Iw,Ew]),tW=Tt.extend({type:g("agentTaskProgressGroup"),items:T(eW).optional(),isComplete:V()}),nW=de("type",[e1,LG,Xg,YH,pw,BG,t1,fw,qG,jG,hw,HG,h5,zG,UG,zH,FG,Cw,Sw,bw,Iw,Ew,tW,DG]),ww=f({type:g("text"),text:l()}),Tw=f({type:g("browserTabs"),tabs:T(f({title:l().optional(),url:l().optional(),id:A().optional(),favIconUrl:l().optional(),windowId:A()}))}),xw=f({type:g("image"),url:l(),fileName:l().optional(),localUrl:l().optional()}),Aw=f({type:g("document"),partId:l(),fileName:l(),contentType:l()});f({type:g("document"),attachmentId:l()});const n1=g("startProductCheckoutActions"),oW=f({type:n1,offerId:l().nullish()}),_w=g("requestPrompt"),sW=f({type:_w,promptKey:l()});J([Da,Fd,n1]);J([g("provideImageFeedback"),g("createPage"),g("appendToPage"),g("promptCharacterSpeech"),g("sendFormData"),g("topicClick"),g("setCharacterAppearance"),g("triggerPlanningAgent"),g("startSuggestedPlanningAgentTask"),g("triggerScheduledTask"),g("startCall"),g("editPresentation"),g("editSpreadsheet"),g("editDocument"),g("generateAudioCallSummary"),g("importAttachment"),A5,Da,Fd,QE,XE,n1,_w,Ag]);const aW=f({type:g("promptCharacterSpeech")}),rW=f({type:g("topicClick"),topic:l()}),iW=f({type:g("setCharacterAppearance"),body:HE,accessories:Wg.optional()}),cW=f({type:g("triggerPlanningAgent")}),kw=g("startSuggestedPlanningAgentTask"),lW=f({type:kw,messageId:l(),partId:l(),task:l()}),uW=f({type:g("triggerScheduledTask"),scheduledTaskId:l()}),dW=f({type:g("startCall"),callType:l(),initiator:l().optional()}),mW=f({type:g("editPresentation"),artifactId:l(),slideId:l(),elementId:l().optional(),editType:l()}),pW=f({type:g("editSpreadsheet"),artifactId:l(),cellRange:l().optional(),editType:l().optional()}),fW=f({type:g("editDocument"),artifactId:l(),elementId:l().optional(),editType:l(),selectedText:l().optional()}),hW=f({type:g("generateAudioCallSummary")}),gW=f({type:g("importAttachment"),attachmentId:l()}),vW=de("type",[GH,WH,$H,pD,fD,hD,gD,vD,yD,SD,aW,az,ez,oz,rW,oW,iW,sW,UL,FL,jL,cW,lW,uW,ZD,dW,mW,pW,fW,hW,YL,gW]),Pw=f({type:g("command"),command:vW}),yW=f({type:g("dailyBriefing"),chapterId:l()}),CW=f({type:g("greeting"),greetingMessage:l()}),SW=f({type:g("news"),articleId:l()}),bW=f({type:g("newsGem"),gemId:l(),snapshotKey:l()}),IW=f({type:g("url"),url:l()}),EW=f({type:g("user"),id:l(),displayName:l()}),wW=f({type:g("copilot")}),TW=f({type:g("discoveryCard"),feedId:l(),cardId:l()}),Mw=de("type",[yW,CW,SW,bW,IW,EW,wW,TW]);f({type:g("reference"),reference:Mw});const Rw=f({type:g("reference"),content:Mw}),Nw=de("type",[ww,xw,Aw,Pw,Tw,Rw]),o1=["chat","smart","smart-latest","study","reasoning","research","computerUse","search","coco","browserAction","analyst","researcher"],$c=H(o1),s1=f({type:g("ai")}),a1=f({type:g("human")}),r1=f({type:g("groupParticipant"),id:l(),displayName:l().nullish()});de("type",[s1,a1,r1]);const xW=H(["idle","streaming"]),i1=jd.extend({author:g("ai"),authorMetadata:s1.optional(),content:T(nW),mode:$c.optional(),sideBySideConfig:GG.optional(),reaction:cn.optional(),streamingState:xW.optional().default("idle")}),c1=jd.extend({author:g("human"),authorMetadata:a1.optional(),content:T(Nw),mode:$c.nullable(),emojiReactions:T(f({emoji:l(),count:A(),hasReacted:V()})).nullish()}),l1=jd.extend({author:g("groupParticipant"),authorMetadata:r1.optional(),content:T(Nw),mode:$c.nullable(),emojiReactions:T(f({emoji:l(),count:A(),hasReacted:V()})).nullish()}),AW=jd.extend({author:g("system")}),_W=H(["kicked","joined","left"]),kW=AW.extend({participant:f({userId:l(),userDisplayName:l()}),updateType:_W}),PW=i1.omit({authorMetadata:!0}).extend({author:s1}),Lw=J([PW,c1.omit({authorMetadata:!0}).extend({author:a1}),l1.omit({authorMetadata:!0}).extend({author:r1})]),Dw=f({results:T(Lw),next:l().nullable()}),exe=f({url:l()}),MW=f({conversation:f({id:l(),title:l()})});f({qc:f({q:l(),gt:l(),sc:l()}),s:T(f({st:l(),t:l()}))});const RW=f({suggestions:T(f({text:l(),source:l()}))}),NW=H(["actions","image","podcast","researchReport","quiz","homeworkHelper","video","page","practiceTest"]),Wo=H(["prefillComposer","sendMessage","changeChatMode","changeComposerCreateMode","uploadFile","tutoringCall","createPage","createProject","openHomeworkHelper"]),Bd=de("type",[f({type:g(Wo.enum.prefillComposer),prompt:l()}),f({type:g(Wo.enum.sendMessage),prompt:l()}),f({type:g(Wo.enum.changeChatMode),key:$c}),f({type:g(Wo.enum.changeComposerCreateMode),key:NW}),f({type:g(Wo.enum.uploadFile)}),f({type:g(Wo.enum.tutoringCall)}),f({type:g(Wo.enum.createPage)}),f({type:g(Wo.enum.createProject)}),f({type:g(Wo.enum.openHomeworkHelper)})]),Ow=f({id:l(),text:l(),action:Bd});f({id:l(),text:l(),action:Bd});const LW=H(["quiz","flashcards","learn-live","upload-files","pages","projects","homework-helper","practice-test"]),DW=f({id:LW,title:l(),description:l(),iconType:l().optional(),action:Bd}),OW=f({id:l(),label:l(),items:T(Ow)}),UW=f({type:g("banner"),id:l(),title:l(),description:l().nullish(),thumbnail:f({url:l(),urlDark:l().nullish(),altText:l()}),action:Bd}),Uw=de("type",[f({type:g("text"),id:l(),title:l().nullish(),items:T(Ow)}),f({type:g("categories"),id:l(),title:l().nullish(),categories:T(OW)}),UW,f({type:g("card"),id:l(),title:l().nullish(),items:T(DW)}),fz]);f({widgets:T(Uw)});const FW=f({text:l()}),jW=f({greetingOptions:T(FW),widgets:T(Uw)}),BW=f({pages:T(jW)});f({Questions:T(l()),Url:l(),NormalizedUrl:l().optional(),DebugInfo:l().optional()});f({tabId:A(),windowId:A(),url:l(),title:l(),content:l().optional(),favIconUrl:l().optional()});const VW=f({name:l(),isGranted:V(),isOptional:V()}),Fw=f({id:l(),type:H(gg),status:H(s5),scopes:T(VW).nullish()}),HW=f({connections:T(Fw)}),zW=f({connection:Fw,loginUrl:l()}),GW=f({name:l(),description:l()}),jw=f({type:l(),authType:l(),iconUrl:l(),websiteUrl:l(),privacyPolicyUrl:l(),connectorPrivacyUrl:l(),supportedModes:T(l()),title:l(),shortDescription:l().optional(),longDescription:l().optional(),category:l(),developer:l(),scopes:T(GW)}),WW=f({connectors:T(jw)}),$W=f({encrypted:f({keyName:l(),blob:l()}),unencryptedMetadata:f({url:l(),blacklisted:V().optional(),dateLastUsedWindowsEpochMicros:A().optional(),passwordIssues:wt(l(),P7()).optional(),type:A()}),encryptedNotesBackup:f({keyName:l(),blob:l()}).optional()});f({passwords:T($W),count:A(),hasMore:V().optional()});const txe=f({sessionKey:l()}),qW=de("author",[i1,c1,l1]),nxe=de("author",[i1,c1,l1,kW]),KW=de("eventName",[f({eventName:g("auth0.accountAdded")}),f({eventName:g("auth0.accountRemoved")})]),YW=["imagegeneration","f1","school","msn","bing","newdeviceuserpromotion"],xs={OPENED:0,RECENT:1,HISTORY:2},ZW=f({messages:T(qW),conversationTitle:l()}),JW={ocid:"OCID",OCID:"OCID",msclkid:"msclkid",gclid:"gclid",rdt_cid:"rdtCid",fbclid:"fbclid",ttclid:"ttclid",li_fat_id:"liFatId",vmcid:"vmcid",ttd_clk:"ttdClk"},EC={gclid:"Google",msclkid:"Bing",rdt_cid:"Reddit",fbclid:"Meta",ttclid:"TikTok",li_fat_id:"LinkedIn",vmcid:"Yahoo",ttd_clk:"TradeDesk"};let Bw=null;function Rt(e){return typeof window>"u"?null: new URLSearchParams(__get$(window,"location").search) .get(e)}function us(e){Vw([e])}function Vw(e){const t= new URL(__get$(__get$(window,"location"),"href")) ,n=e.filter(o=>t.searchParams.has(o));if(n.length!==0){for(const o of n)t.searchParams.delete(o);window.history.replaceState(null,"",t)}}function QW(){return Object.entries(JW).reduce((e, _hh$temp135 )=>{ var _hh$temp136=__arrayFrom$(_hh$temp135),t=_hh$temp136[0],n=_hh$temp136[1]; const o=Rt(t);return o?{...e,[n]:o}:e},{})}function Hw(){Vw(["ocid","OCID","msclkid","gclid","rdt_cid","fbclid","ttclid","li_fat_id","vmcid","ttd_clk"])}function XW(){const e=Rt("form");if(e)return us("form"),e;const t=Rt("FORM");return t&&us("FORM"),t}function zw(){const e=Rt("ocid");return e||Rt("OCID")}function e$(){return Rt("alias")}function t$(){const e=Rt("chat-mode");return e&&us("chat-mode"),e}function oxe(){const e=Rt("audiomode");return e&&us("audiomode"),e}function n$(){const e=Rt("q");return e&&us("q"),e}function o$(){const e=Rt("prompt");return e&&us("prompt"),e}function s$(){const e=Rt("sandbox");return e&&us("sandbox"),e==="1"}function a$(){if(typeof window>"u")return!1;const e=Rt("disable-all-features");return e!==null&&e!=="0"&&e!=="false"}function sxe(){return Rt("payflow-correlationId")}function axe(){return Rt("entry-point")??""}function r$(){const e=Rt("windows");return e&&us("windows"),e==="1"}function Gw(){return Rt("charid")}const i$=[["payflowCorrelationId","pfcid"],["payflowFrom","pff"],["payflowAuthHint","pfah"],["payflowEntry","pfe"],["payflowRequiresPremium","pfrp"]];function rxe(){const e={payflowCorrelationId:"",payflowFrom:"",payflowAuthHint:"",payflowEntry:"",payflowRequiresPremium:""};for(const _hh$temp137 of i$){ const _hh$temp138=__arrayFrom$(_hh$temp137),t=_hh$temp138[0],n=_hh$temp138[1]; const o=Rt(n);o&&( __set$(e,t,o) )}return e}function c$(){const e=Rt("intent");return Bw??=e,e}function l$(){return Bw}function u$(e){const t=e.toLowerCase();return YW.includes(t)}const d$=["text","queryParam"];function m$(e){return d$.includes(e)}function p$(){const e=Rt("input-method");return e?(us("input-method"),m$(e)?e:"queryParam"):"queryParam"}function ixe(){return[]}function cxe(){return[]}const Vd=P(!1),f$=V().optional(),Dr=Ot({key:tN,schema:f$,initialValue:void 0}),h$=V().optional(),mp=Ot({key:nN,schema:h$,initialValue:void 0});function j(e){return _e().get(e)}function g$(){return j(Vd)&&!!j(Dr)}function Ww(){return typeof window>"u"||window.isStudioServer?"studio":"snr"}const v$={"thumbs-up":"thumbsUp","thumbs-down":"thumbsDown",report:"reportMessage"},wC="homepage";function y$(){return{instrumentationKey:"be6e4c19699f4fdf9f8c0ec9f9b398ef-25d58bb9-9926-4df7-8e36-bc7afb4b2c34-7563",channelConfiguration:{eventsLimitInMem:5e3,autoFlushEventsLimit:5},propertyConfiguration:{populateBrowserInfo:!0},disableCookiesUsage:!0,extensionConfig:{PostChannel:{maxBatchInterval:1e4,maxBatchCount:20,immediateEventLimit:100}}}}class C${analytics=null;features=void 0;flightRing=null;picassoId=null;anid=null;formCode=null;landingPage=wC;trafficAlias=null;settings=null;isAADUser=null;isNewUser=null;isCopilotMode=null;accountType=null;referrer=null;ocid=null;deviceInfo=null;anaheimId=null;wcpId=null;chromiumFlightIds=null;chromiumPayloadId=null;deviceInfoId=null;sqmId=null;windowsFlightIds=null;pluginProvider=null;pluginCache=null;publisherInfo=null;isInitializing=!1;pendingEvents=[];pendingUserReadyEvents=[];initRetryCount=0;maxRetries;maxPendingEvents;delay;onInitializeError;initializationPromise=null;constructor(t={}){this.maxRetries=t.maxRetries??3,this.maxPendingEvents=t.maxPendingEvents??1e3,this.delay=t.delay??0,this.onInitializeError=t.onInitializeError}ensureInitialized(t){!this.isInitialized&&!this.isInitializing&&(this.pluginProvider=t,this.isInitializing=!0,this.initialize())}get plugin(){return this.pluginCache===null&&this.pluginProvider!==null&&this.analytics!==null&&(this.pluginCache=this.pluginProvider(),this.pluginCache&&this.analytics.addNotificationListener(this.pluginCache)),this.pluginCache}get isInitialized(){return this.analytics!==null&&this.analytics.isInitialized()}get initializationFailed(){return this.initRetryCount>=this.maxRetries}setChromiumFlightIds(t){this.chromiumFlightIds=t}setDeviceInfoId(t){this.deviceInfoId=t}setSqmId(t){this.sqmId=t}setWindowsFlightIds(t){this.windowsFlightIds=t}setFeatures(t){this.features=t.join(",")}setFlightRing(t){this.flightRing=t}setAnid(t){this.anid=t}getAnid(){return this.anid}setIsNewUser(t){this.isNewUser??=t}setIsAad(t){this.isAADUser=t}setCopilotMode(t){this.isCopilotMode=t}setSettings(t){this.settings={...this.settings,...t}}getPicassoId(){return this.picassoId}setPicassoId(t){const n=this.picassoId===null;this.picassoId=t,n&&t!==null&&this.flushPendingUserReadyEvents()}setFormCode(t){this.formCode=t}getFormCode(){return this.formCode}getDeviceInfo(){return this.deviceInfo}setDeviceInfo(t){this.deviceInfo=t}setLandingPage(t){this.landingPage===wC&&(this.landingPage=t)}getLandingPage(){return this.landingPage}isValidLowercaseUserAccountType(t){return["msa","aad","apple","google"].includes(t)}setUserAccountType(t){if(!t){this.accountType=null;return}const n=t.toLowerCase();this.isValidLowercaseUserAccountType(n)?this.accountType=n:this.accountType=null}getUserAccountType(){return this.accountType}processFormCode(){const t=XW();this.formCode=t}processAlias(){const t=e$();t&&(this.trafficAlias=t)}processReferrer(){this.referrer===null&&typeof document<"u"&&(this.referrer=document.referrer)}processOcid(){this.ocid===null&&typeof window<"u"&&(this.ocid=zw())}getXClientDataHeaderFromHTML(){try{const t=document.querySelector("meta[name='x-client-data']");if(!t)return null;const n=t.getAttribute("content");if(!n)return null;const o=atob(n),s=JSON.parse(o);if(typeof s!="object"||s===null)return null;const a=s,r="4"in a&&typeof a[4]=="string"?a[4]:null,c="7"in a&&typeof a[7]=="string"?a[7]:null;return{clientId:r,payloadId:c}}catch{return null}}processXClientDataHeaderFields(){const t=this.getXClientDataHeaderFromHTML();t?.clientId&&(Af()==="wchromium"?this.wcpId=t.clientId:this.anaheimId=t.clientId),t?.payloadId&&(this.chromiumPayloadId=t.payloadId)}initialize(){this.isInitialized||(this.processFormCode(),this.processAlias(),this.processReferrer(),this.processOcid(),this.processXClientDataHeaderFields(),this.processPublisherFromUrl(),this.initializationPromise=this.dynamicInitialization(),this.initializationPromise.catch(()=>{}))}async dynamicInitialization(){this.delay>0&&await new Promise(n=>{setTimeout(n,this.delay)});const t=await D(()=>import( __get$ProxyUrl("./1ds-analytics-js-BQ_ODquZ.js","https://copilot.microsoft.com/static/cmc/assets/") ),[]).catch(n=>n instanceof Error?n:new Error(`Failed to load @microsoft/1ds-analytics-js: ${n}`));if(t instanceof Error)this.onInitializeError?.(t),this.initRetryCount+=1,this.initRetryCount>=this.maxRetries&&(this.onInitializeError?.(new Error("ApplicationInsights initialization: Max retries reached")),this.pendingEvents.length=0);else{ const _hh$temp139=t,n=_hh$temp139.ApplicationInsights; this.analytics=new n;const o=y$();this.analytics.initialize(o,[]),this.flushPendingEvents()}this.isInitializing=!1}flushPendingEvents(){for(let t=0,n=this.pendingEvents.length;t<n;t+=1){const o= __get$(this.pendingEvents,t) ;o&&this.trackEventInternal(o)}this.pendingEvents.length=0}flushPendingUserReadyEvents(){for(let t=0,n=this.pendingUserReadyEvents.length;t<n;t+=1){const o= __get$(this.pendingUserReadyEvents,t) ;o&&this.trackEventInternal(o)}this.pendingUserReadyEvents.length=0}getAppFlavor(){return g$()?{eventInfo_appFlavor:"beta"}:null}processPublisherFromUrl(){const t= new URLSearchParams(__get$(window,"location").search) ,n=Object.keys(EC).find(o=>t.has(o));n&&(this.publisherInfo={publisher: __get$(EC,n) })}getFixEventProperties(){return{appName:m5(),appVersion:Td(),surface:Af(),server:Ww(),surfaceVersion:QN(navigator.userAgent),accountType:this.accountType,userMuid:cs("MUID"),aliasMuid:cs("MUID",1),userAnid:this.anid,userPicassoId:this.picassoId,userFlightIds:this.features,trafficAlias:this.trafficAlias,eventInfo_entryPoint:this.formCode,eventInfo_surfaceVisible:document.visibilityState==="visible",eventInfo_isCopilotMode:this.isCopilotMode,isAADUser:this.isAADUser,isNewUser:this.isNewUser,pathname: __get$(window,"location") .pathname,referrer:this.referrer,ocid:this.ocid,...this.anaheimId!==null?{anaheimId:this.anaheimId}:{},...this.wcpId!==null?{wcpId:this.wcpId}:{},...this.chromiumFlightIds!==null?{chromiumFlightIds:this.chromiumFlightIds}:{},...this.chromiumPayloadId!==null?{chromiumPayloadId:this.chromiumPayloadId}:{},...this.deviceInfoId!==null?{DeviceInfo_Id:this.deviceInfoId}:{},...this.sqmId!==null?{DeviceInfo_sqmId:this.sqmId}:{},...this.windowsFlightIds!==null?{eventInfo_windowsFlightIds:this.windowsFlightIds}:{},...this.flightRing!==null?{flightRing:this.flightRing}:{},renderingType:vd(),"UserInfo.Id":this.picassoId,...ic.getTraceIdAnalytics(),...this.settings,...this.deviceInfo,...this.getAppFlavor(),...this.publisherInfo}}trackEvent(t){if(!this.initializationFailed){if(this.pendingEvents.length>=this.maxPendingEvents){console.warn(`Analytics pending events queue is full (${this.maxPendingEvents}). Dropping event: ${JSON.stringify(t)}`);return}if(this.ensureInitialized(this.pluginProvider),this.isInitializing||!this.isInitialized){this.pendingEvents.push(t);return}this.trackEventInternal(t)}}async trackEventAsyncAfterInit(t){this.isInitialized?this.trackEvent(t):this.initializationPromise&&await this.initializationPromise}trackEventAfterUserReady(t){if(this.getPicassoId()===null){if(this.pendingUserReadyEvents.length>=this.maxPendingEvents){console.warn(`Analytics pending user-ready events queue is full (${this.maxPendingEvents}). Dropping event: ${JSON.stringify(t)}`);return}this.pendingUserReadyEvents.push(t)}else this.trackEvent(t)}flush(){this.isInitialized&&this.analytics&&this.analytics.flush()}trackEventInternal(t){const n=this.getFixEventProperties(),o=Ma(),s=KI(),a=this.plugin?.generateClientEventId(t)??void 0;if(!this.analytics){console.error("Failed to initialize AnalyticsService.");return}const r={name:t.name,data:{...n,eventInfo_clientEventId:a,...t.data},ext:{web:{consentDetails:JSON.stringify({Required:!0,Analytics:o.analytics,SocialMedia:o.socialMedia,Advertising:o.advertising,GPC_DataSharingOptIn:s})}}};(t.data.eventName==="copilotCompose"||t.data.eventName==="copilotAudioInput")&&Ie.emit("composer:send-query",{isNewUser:this.isNewUser,event:t.data}),this.plugin?.onBeforeTrackEvent(r),this.analytics.track(r)}}const R=new C$({maxRetries:3,maxPendingEvents:1e3,delay:200,onInitializeError:e=>{console.error("AnalyticsService initialization error:",e)}}),S$=.03,b$=.1;function I$(){return Z.instance().config().sentryDsnOverride??"https://323dd84fb4f632ccd95493debe9312e0@o4508134825000960.ingest.us.sentry.io/4508799962644480"}let pp,lr;async function E$(e,t){const n=await u1();n&&n.captureReactException(e,t)}async function u1(){return pp||lr||(lr=(async()=>{try{const e=await D(()=>import( __get$ProxyUrl("./index-C6XpdMTK.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([8,1]));pp=e;const t=[e.browserTracingIntegration({enableLongAnimationFrame:!0}),e.tanstackRouterBrowserTracingIntegration(Un())],n=lC?[e.browserProfilingIntegration()]:[],o={surface:"cmc",isMobile:wd()?"1":"0",server:Ww(),renderingType:vd()};return e.init({dsn:I$(),release:JN(),sampleRate:b$,environment:"production",integrations:[...t,...n],tracesSampleRate:S$,profilesSampleRate:lC?.1:0,replaysSessionSampleRate:0,replaysOnErrorSampleRate:0,beforeSendSpan(s){return s.data.surface=o.surface,s.data.isMobile=o.isMobile,s.data.server=o.server,o.renderingType&&(s.data.renderingType=o.renderingType),s}}),e.setTag("surface",o.surface),e.setTag("isMobile",o.isMobile),e.setTag("server",o.server),o.renderingType&&e.setTag("renderingType",o.renderingType),lr=void 0,e}catch{lr=void 0;return}})(),lr)}async function w$(e){const t=await u1();t!==void 0&&t.setUser(e?{id:e}:null)}function $w(e,t){const n=zN(e);R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ErrorBoundary",eventInfo_errorName:e.name,eventInfo_errorMessage:e.message,eventInfo_errorStack:e.stack??"",eventInfo_componentStack:t.componentStack??"",...n&&{eventInfo_apiRoute:n},...e instanceof Id&&{eventInfo_statusCode:e.statusCode}}}),E$(e,t)}function T$(e){return e instanceof ec?M7(e):e instanceof Error?e.message:String(e)}function Tr(e,t,n=!1){const o=T$(e);R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"APIResponseParseError",eventInfo_apiUrl:t,eventInfo_errors:o,eventInfo_safe:n}})}async function TC(e){const t=await HN(e.promise);R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"UnhandledRejection",eventInfo_reason:`${e.reason}`,eventInfo_customData:t}})}function x$(e,t,n){try{new URL(Ed(e)).hostname}catch(o){R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"invalidCitationURL",eventInfo_url:e,eventInfo_errorMessage:o instanceof Error?o.message:"",eventInfo_conversationId:t,eventInfo_messageId:n}})}}function qw(e){R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"PlaybackApiError",eventInfo_errorMessage:e instanceof Error?e.message:"",eventInfo_details:"An error occurred during media playback tracking api call."}})}function A$(e,t,n){R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"InvalidJsonResponse",eventInfo_apiUrl:n,eventInfo_errorMessage:e.message,eventInfo_errorCode:t.statusText,eventInfo_details:JSON.stringify(Object.fromEntries(t.headers.entries()))}})}const _$=25,k$=25,P$=6e3,M$=12,Kw=["mica","aqua","erin"];function Yw(e){switch(e){case"mica":case"aqua":case"erin":return e;default:return null}}function R$(e,t){switch(e){case"mica":return t("characterAnimation.characterNameMica");case"aqua":return t("characterAnimation.characterNameAqua");case"erin":return t("characterAnimation.characterNameErin");default:return""}}function N$(e,t){return(n,o)=>{R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"CharacterError",eventInfo_details:`animatingMessageId: ${e}, characterId: ${t}, name: ${n.name}, info: ${o.componentStack}`,eventInfo_errorMessage:n.message}}),$w(n,o)}}function L$(e,t){try{const n=e?.updatedAt;if(!t||!n)return;const o=new Date(n),s=new Date(t);(o.getTime()-s.getTime())/1e3/60>1&&R.trackEvent({name:"system",data:{eventName:"historyUpdatedAtDiscrepancy",eventInfo_conversationId:e.id,eventInfo_conversationUpdatedAt:n,eventInfo_lastMessageCreatedAt:t}})}catch{}}function Zw(e){return e?e.history.some(t=>t.author==="ai"&&t.streamingState==="streaming"):!1}const d1=P(!1);function Hd(e){ const _hh$temp140=e,t=_hh$temp140.children; return Bs()?t:null}function Bs(){return M(d1)}function Jw(){return j(d1)}const m1=P([]),xC=new Map,D$=P(!0),O$=["sidebar-narrow","sidebar-settings","smart-mode-default"],Jr=e=>{if(!Jw()&&O$.includes(e))return D$;let t=xC.get(e);return t||(t=P(n=>n(m1).includes(e)),xC.set(e,t),t)};function W(e){return M(Jr(e))}function $(e){return _e().get(Jr(e))}function qc(e,t="all"){const n=u.useRef(e),o=u.useMemo(()=>{const s=n.current.map(Jr);return P(a=>t==="all"?s.every(r=>a(r)):s.some(r=>a(r)))},[t]);return M(o)}function Kc(e,t="all"){return t==="all"?e.every(n=>$(n)):e.some(n=>$(n))}const Vt=()=>Kc(["smart-mode-default","remove-qr"],"any")?"smart":"chat";function U$(e){return e.author==="human"}function F$(e){const t=e.filter(U$);return t.length===0?void 0: __get$(t,t.length-1) ?.mode??null}function j$(e){const t=F$(e);return t===void 0?"undetermined":t===null?"unknown":t==="coco"?"coco":"non-coco"}function B$(e,t){if(t==="undetermined")return e;const n=t==="unknown",o=t==="coco",s=e==="coco";return o?"coco":s?Vt():e}R7();const Wa=P(!1),Qw=P(!1),V$=P(!1),H$=P(!1),zd=P(void 0),gt=P(new Map),Se=P(void 0),Df=P(null),fp=P(void 0),Xw=P(e=>e(fp),(e,t,n)=>{const o=e(fp);o!==n&&(t(gt,s=>{const a=new Map(s);return o&&a.delete(o),a}),t(fp,n))}),eT=P(null),Lt=P(e=>{const t=e(Se);if(t)return e(gt).get(t)}),Yc=bc(Lt,e=>e?Zw(e):!1,(e,t)=>e===t),lxe=e=>bc(gt,t=>{const n=t.get(e);return n?Zw(n):!1},(t,n)=>t===n),lu=P(!1),Vs=P(new Map),uxe=P([]);P([]);const Hs=P(e=>e(Lt)?.history??[]),z$=P(e=>{const t=e(Lt);return t?j$(t.history):"undetermined"}),p1=P(e=>{const t=e(gt);for(const n of t.values())if(!n.title&&!n.history.length&&n.isNew)return n.id}),G$=bc(gt,e=>{if(!(e instanceof Map))return!1;for(const t of e.values()){ const _hh$temp141=t,n=_hh$temp141.history; if(Array.isArray(n)&&n.length>0)return!0}return!1},(e,t)=>e===t),Gd=P(new Map),W$=P(new Map),Li=P(void 0),Zc=P([]),f1=P([]),tT=P(e=>Yw(e(Lt)?.characterId)),ha=P("idle"),nT=P(!1),fs=P(null),AC=P("idle"),ra=P("checking-availability"),Jt=P("inactive"),$$=P(null),oT=P([]),Ia=P(null),Wd=P(null),h1=P([]),q$=P([]),K$=P(null),sT=P(null),aT=P(e=>e(Ia)===0),g1=P(null),v1=P(null),Y$=P(null),ga=P(!1),Z$=P(!1),rT=P(!1),iT=P(a5),Or=P(void 0),J$=P(!1),Q$=P(!0),X$=P(null),dxe=P(e=>!!e(X$));P(null);const Ur=P(void 0),y1=P(void 0),eq=P(void 0),mxe=P(void 0),pxe=P(null),fxe=P(!1),tq=P(!1),nq=P(void 0),hxe=P(void 0);P(null);const gxe=Dc({}),oq=P(null),cT=P(!1),lT=P({}),C1=P(!1),uT=P({data:void 0,isLoading:!1}),sq=P(e=>e(uT).data),dT=P(e=>e(uT).isLoading),uu=P(!1),mT=P(null);P(e=>e(mT)?.lcp??null);const aq=P(null);P({status:"idle"});const vxe=P(null),rq=P(null),Of=Ot({key:QR,schema:wt(l(),l()),initialValue:{}}),iq=P(null),yxe=P(!1),Cxe=P(!1),Sxe=P(!1),Fr=P([]),pT=P(null),cq=P(null),lq=P(null),fT=P(null),bxe=P(!1),uq=P(null),hT=P(!1),Ixe=P("fre"),Exe=P(!0),dq=P(null);async function mq(e){const t=e.body?.getReader();if(!t)return 0;let n=0;try{const o=performance.now();for(;performance.now()-o<2e3;){ const _hh$temp142=await t.read(),s=_hh$temp142.value,a=_hh$temp142.done; if(a)break;n+=s.byteLength}return n}catch{return 0}}const pq=1e3;function nn(e){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:e.source,eventInfo_clickScenario:e.scenario,eventInfo_clickDestination:e.destination,eventInfo_conversationId:e.conversationId,eventInfo_podcastId:e.podcastId,eventInfo_messageId:e.messageId,eventInfo_mode:e.chatMode,eventInfo_messageType:e.messageType,eventInfo_cardType:e.cardType,eventInfo_merchantPlatform:e.merchantPlatform,eventInfo_additionalData:e.additionalData?JSON.stringify(e.additionalData):void 0}})}function fe(e){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_pageName:e.pageName,eventInfo_sectionName:e.sectionName,eventInfo_clickSource:e.source,eventInfo_clickScenario:e.scenario,eventInfo_clickDestination:e.destination,eventInfo_conversationId:e.conversationId,eventInfo_messageId:e.messageId,eventInfo_customData:e.customData}})}const fq=30*60*1e3;function wxe(e){const t=Date.now(),n={eventInfo_pageName:e.pageName,eventInfo_sectionName:e.sectionName,eventInfo_clickSource:e.source,eventInfo_clickScenario:e.scenario,eventInfo_clickDestination:e.destination,eventInfo_conversationId:e.conversationId,eventInfo_messageId:e.messageId,eventInfo_correlationId:`${e.conversationId}-${t}`};R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_customData:e.customData,...n}});let o=!1,s=null;const a=()=>{s!==null&&(window.clearTimeout(s),s=null),document.removeEventListener("visibilitychange",r)},r=()=>{if(document.visibilityState==="visible"&&!o){o=!0;const c=Math.floor((Date.now()-t)/1e3);R.trackEvent({name:"interaction",data:{eventName:"copilotClickDwellTime",eventInfo_dwellTime:c,...n}}),a()}};document.addEventListener("visibilitychange",r),s=window.setTimeout(()=>{a()},fq)}function _t(e){R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionScenario:e.scenario,eventInfo_impressionPage:e.page,eventInfo_impressionElement:e.element,eventInfo_status:e.status,eventInfo_duration:e.duration,eventInfo_conversationId:e.conversationId,eventInfo_messageId:e.messageId,eventInfo_customData:e.customData}})}function jo(e){R.trackEvent({name:"health",data:{eventName:"copilotFeatureSuccess",eventInfo_feature:e.feature,eventInfo_scenario:e.scenario,eventInfo_duration:e.duration,eventInfo_customData:e.customData}})}function tt(e){R.trackEvent({name:"health",data:{eventName:"copilotError",eventInfo_feature:e.feature,eventInfo_scenario:e.scenario,eventInfo_errorType:e.errorType,eventInfo_errorMessage:e.errorMessage,eventInfo_exception:e.exception,eventInfo_customData:e.customData}})}function S1(e){R.trackEvent({name:"interaction",data:{eventName:"copilotSettingChange",eventInfo_settingName:e.settingName,eventInfo_settingOldValue:e.oldValue,eventInfo_settingNewValue:e.newValue}})}function Txe(e,t=pq){let n;function o(){n=window.setTimeout(()=>{e()},t)}function s(){window.clearTimeout(n)}return{onHoverStart:o,onHoverEnd:s}}function gT(e,t,n,o){setTimeout(async()=>{try{ const _hh$temp143=o,s=_hh$temp143.status,a=await mq(o),r=o.headers.get("x-ceto-ref")??""; R.trackEvent({name:"apiresponse",data:{eventName:"copilotApiResponse",eventInfo_path:e,eventInfo_method:t,eventInfo_status:s,eventInfo_duration:n,eventInfo_responseContentLength:a,eventInfo_cetoRef:r}})}catch{}},0)}function _C(){performance.mark("userSession-end",{startTime:performance.now()}); const _hh$temp144=performance.measure("userSession-duration","startupTime-begin","userSession-end"),e=_hh$temp144.duration; R.trackEvent({name:"system",data:{eventName:"copilotExitEvent",eventInfo_duration:e}})}function hq(e,t,n){R.trackEvent({name:"interaction",data:{eventName:"copilotComposerInput",eventInfo_conversationId:e,eventInfo_inputMethod:t,eventInfo_customData:n}})}function gq(e){R.trackEvent({name:"interaction",data:{eventName:"copilotScroll",eventInfo_ScrollSource:e.scrollSource,eventInfo_ScrollStartX:e.scrollStartX,eventInfo_ScrollStartY:e.scrollStartY,eventInfo_ScrollEndX:e.scrollEndX,eventInfo_ScrollEndY:e.scrollEndY,eventInfo_ScrollDuration:e.scrollDuration,eventInfo_userInitiated:e.userInitiated,eventInfo_customData:e.customData}})}const b1="free";function Ea(e){return e instanceof Error?{errorCode:e.toString(),errorDetails:e.message}:{errorCode:"unknown",errorDetails:String(e)}}function vT(e){R.trackEvent({name:"interaction",data:{eventName:"payflowEnter",eventInfo_payflowEntryPoint:e.payflowEntryPoint,eventInfo_upsellReason:e.upsellReason,eventInfo_loginProvider:e.loginProvider,eventInfo_payflowType:e.payflowType??"DIME",eventInfo_payflowInstanceId:e.payflowInstanceId,eventInfo_curatedSubscription:e.curatedSubscription,eventInfo_correlationId:e.correlationId,eventInfo_upsellEntryStyle:e.upsellEntryStyle}})}function xxe(e){R.trackEvent({name:"interaction",data:{eventName:"payflowLoginClick",eventInfo_payflowEntryPoint:e.payflowEntryPoint,eventInfo_upsellReason:e.upsellReason,eventInfo_loginProvider:e.loginProvider,eventInfo_payflowType:"DIME",eventInfo_payflowInstanceId:e.payflowInstanceId,eventInfo_correlationId:e.correlationId}})}function vq(e){R.trackEvent({name:"interaction",data:{eventName:"dimeCheckoutRendering",eventInfo_payflowEntryPoint:e.payflowEntryPoint,eventInfo_upsellReason:e.upsellReason,eventInfo_loginProvider:e.loginProvider,eventInfo_payflowType:"DIME",eventInfo_payflowInstanceId:e.payflowInstanceId,eventInfo_curatedSubscription:e.curatedSubscription,eventInfo_correlationId:e.correlationId,eventInfo_dimeMarket:e.dimeMarket,eventInfo_campaignId:e.campaignId,eventInfo_dimeExperienceId:e.dimeExperienceId}})}function yq(e){R.trackEvent({name:"interaction",data:{eventName:"dimeCheckoutSuccess",eventInfo_payflowEntryPoint:e.payflowEntryPoint,eventInfo_upsellReason:e.upsellReason,eventInfo_loginProvider:e.loginProvider,eventInfo_payflowType:"DIME",eventInfo_payflowInstanceId:e.payflowInstanceId,eventInfo_curatedSubscription:e.curatedSubscription,eventInfo_correlationId:e.correlationId,eventInfo_dimeMarket:e.dimeMarket,eventInfo_campaignId:e.campaignId,eventInfo_dimeExperienceId:e.dimeExperienceId}})}function Cq(e){R.trackEvent({name:"interaction",data:{eventName:"dimeCheckoutClosed",eventInfo_payflowEntryPoint:e.payflowEntryPoint,eventInfo_upsellReason:e.upsellReason,eventInfo_loginProvider:e.loginProvider,eventInfo_payflowType:"DIME",eventInfo_payflowInstanceId:e.payflowInstanceId,eventInfo_curatedSubscription:e.curatedSubscription,eventInfo_correlationId:e.correlationId,eventInfo_dimeMarket:e.dimeMarket,eventInfo_campaignId:e.campaignId,eventInfo_dimeExperienceId:e.dimeExperienceId}})}function Sq(e){R.trackEvent({name:"interaction",data:{eventName:"dimeCheckoutError",eventInfo_payflowEntryPoint:e.payflowEntryPoint,eventInfo_upsellReason:e.upsellReason,eventInfo_loginProvider:e.loginProvider,eventInfo_payflowType:"DIME",eventInfo_payflowInstanceId:e.payflowInstanceId,eventInfo_curatedSubscription:e.curatedSubscription,eventInfo_correlationId:e.correlationId,eventInfo_dimeMarket:e.dimeMarket,eventInfo_campaignId:e.campaignId,eventInfo_errorCode:e.errorCode,eventInfo_errorDetails:e.errorDetails,eventInfo_dimeExperienceId:e.dimeExperienceId}})}function Axe(e){R.trackEvent({name:"interaction",data:{eventName:"manageSubPageActionClick",eventInfo_loginProvider:e.loginProvider,eventInfo_curatedSubscription:e.curatedSubscription,eventInfo_actionTarget:e.actionTarget}})}function _xe(e){R.trackEvent({name:"interaction",data:{eventName:"manageSubFREShown",eventInfo_loginProvider:e.loginProvider,eventInfo_curatedSubscription:e.curatedSubscription}})}function kxe(e){R.trackEvent({name:"interaction",data:{eventName:"manageSubPageLoaded",eventInfo_loginProvider:e.loginProvider,eventInfo_curatedSubscription:e.curatedSubscription,eventInfo_willShowFre:e.willShowFre,eventInfo_willShowProDeprecation:e.willShowProDeprecation,eventInfo_upgradeButtonShown:e.upgradeButtonShown,eventInfo_upgradeButtonTarget:e.upgradeButtonTarget,eventInfo_manageButtonShown:e.manageButtonShown,eventInfo_manageButtonTarget:e.manageButtonTarget,eventInfo_cancelButtonShown:e.cancelButtonShown,eventInfo_cancelButtonTarget:e.cancelButtonTarget,eventInfo_proAutoRenewOn:e.proAutoRenewOn}})}function to( _hh$temp145 ){ var e=_hh$temp145.scenario,_hh$temp145$duration=_hh$temp145.duration,t=_hh$temp145$duration===void 0?0:_hh$temp145$duration,n=_hh$temp145.customData; jo({feature:"subscriptions",scenario:e,duration:t,customData:n?JSON.stringify(n):void 0})}function co( _hh$temp146 ){ var e=_hh$temp146.errorCode,t=_hh$temp146.errorDetails,n=_hh$temp146.scenario,o=_hh$temp146.customData; tt({feature:"subscriptions",scenario:n,errorType:e,errorMessage:t,customData:o?JSON.stringify(o):void 0})}function bq(e){ const _hh$temp147=e,t=_hh$temp147.correlationId,n=_hh$temp147.payflowInstanceId; R.trackEvent({name:"system",data:{eventName:"payflowUserMismatched",eventInfo_correlationId:t,eventInfo_payflowInstanceId:n}})}function Pxe(e){ const _hh$temp148=e,t=_hh$temp148.payflowEntryPoint,n=_hh$temp148.upsellReason,o=_hh$temp148.loginProvider,s=_hh$temp148.disabledReason,a=_hh$temp148.curatedSubscription; R.trackEvent({name:"interaction",data:{eventName:"payflowEntryDisabled",eventInfo_payflowEntryPoint:t,eventInfo_upsellReason:n,eventInfo_loginProvider:o,eventInfo_disabledReason:s,eventInfo_curatedSubscription:a}})}function Iq(e){ const _hh$temp149=e,t=_hh$temp149.upsellEntryStyle,n=_hh$temp149.actionButton,o=_hh$temp149.payflowEntryPoint,_hh$temp149$upsellReason=_hh$temp149.upsellReason,s=_hh$temp149$upsellReason===void 0?"":_hh$temp149$upsellReason,a=_hh$temp149.loginProvider,r=_hh$temp149.payflowType,c=_hh$temp149.curatedSubscription,d=crypto.randomUUID(); return R.trackEvent({name:"interaction",data:{eventName:"payflowEntryImpression",eventInfo_upsellEntryStyle:t,eventInfo_actionButton:n,eventInfo_payflowEntryPoint:o,eventInfo_upsellReason:s,eventInfo_loginProvider:a,eventInfo_payflowType:r,eventInfo_curatedSubscription:c,eventInfo_payflowEntryImpressionId:d}}),d}function Eq(e){ const _hh$temp150=e,t=_hh$temp150.payflowEntryImpressionId,n=_hh$temp150.payflowInstanceId,o=_hh$temp150.upsellEntryStyle,s=_hh$temp150.actionButton,a=_hh$temp150.payflowEntryPoint,r=_hh$temp150.upsellReason,c=_hh$temp150.loginProvider,d=_hh$temp150.payflowType; R.trackEvent({name:"interaction",data:{eventName:"payflowEntryClick",eventInfo_payflowEntryImpressionId:t,eventInfo_payflowInstanceId:n,eventInfo_upsellEntryStyle:o,eventInfo_actionButton:s,eventInfo_payflowEntryPoint:a,eventInfo_upsellReason:r,eventInfo_loginProvider:c,eventInfo_payflowType:d}})}function hp(e){ const _hh$temp151=e,t=_hh$temp151.entryPoint,n=_hh$temp151.featureName; R.trackEvent({name:"interaction",data:{eventName:"featureQuotaRunningOutShown",eventInfo_entryPoint:t,eventInfo_featureName:n}})}function gp(e){ const _hh$temp152=e,t=_hh$temp152.entryPoint,n=_hh$temp152.featureName; R.trackEvent({name:"interaction",data:{eventName:"featureQuotaRunningOutOptionClick",eventInfo_entryPoint:t,eventInfo_featureName:n}})}function Mxe(e){ const _hh$temp153=e,t=_hh$temp153.upsellEntryStyle,n=_hh$temp153.actionButton,o=_hh$temp153.payflowEntryPoint,s=_hh$temp153.upsellReason,a=_hh$temp153.loginProvider,r=_hh$temp153.payflowType,c=_hh$temp153.curatedSubscription,d=_hh$temp153.payflowInstanceId,m=_hh$temp153.correlationId,p=_hh$temp153.duration; R.trackEvent({name:"interaction",data:{eventName:"upgradeBenefitDialogLoad",eventInfo_upsellEntryStyle:t,eventInfo_actionButton:n,eventInfo_payflowEntryPoint:o,eventInfo_upsellReason:s,eventInfo_loginProvider:a,eventInfo_payflowType:r,eventInfo_curatedSubscription:c,eventInfo_payflowInstanceId:d,eventInfo_correlationId:m,eventInfo_duration:p}})}function Rxe(e){ const _hh$temp154=e,t=_hh$temp154.upsellEntryStyle,n=_hh$temp154.actionButton,o=_hh$temp154.payflowEntryPoint,s=_hh$temp154.upsellReason,a=_hh$temp154.loginProvider,r=_hh$temp154.payflowType,c=_hh$temp154.curatedSubscription,d=_hh$temp154.payflowInstanceId,m=_hh$temp154.correlationId; R.trackEvent({name:"interaction",data:{eventName:"upgradeBenefitDialogContinue",eventInfo_upsellEntryStyle:t,eventInfo_actionButton:n,eventInfo_payflowEntryPoint:o,eventInfo_upsellReason:s,eventInfo_loginProvider:a,eventInfo_payflowType:r,eventInfo_curatedSubscription:c,eventInfo_payflowInstanceId:d,eventInfo_correlationId:m}})}function Nxe(e){ const _hh$temp155=e,t=_hh$temp155.payflowEntryPoint,n=_hh$temp155.upsellEntryStyle,o=_hh$temp155.pageName,s=_hh$temp155.clickSource,a=_hh$temp155.entryPoint; R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_payflowEntryPoint:t,eventInfo_upsellEntryStyle:n,eventInfo_pageName:o,eventInfo_clickSource:s,eventInfo_entryPoint:a}})}function rt(e){return M(Jr(e))}function et(e){return _e().get(Jr(e))}const yT=["UpsellProToPremium","UpsellProToPremium-FromWinNative","UpsellProToPremium-FromWinChromium","ActionsLimit","ActionsLimit-FromWinNative","ActionsLimit-FromWinChromium","ActionsLimit-FromEdgeCopilotMode","DeepResearchLimit","DeepResearchLimit-FromWinNative","DeepResearchLimit-FromWinChromium","DeepResearchLimit-FromEdgeCopilotMode","VisionLimit","VisionLimit-FromWinNative","VisionLimit-FromWinChromium","VisionLimit-FromEdge","VisionLimit-FromEdgeCopilotMode","PodcastLimit","PodcastLimit-FromWinNative","PodcastLimit-FromWinChromium","PodcastLimit-FromEdgeCopilotMode","Management","Management-FromWinNative","Management-FromWinChromium","Management-FromEdge","Management-FromEdgeCopilotMode","Settings","Settings-FromWinNative","Settings-FromWinChromium","ProfileUpdateRequired","VideoGenLimit","VideoGenLimit-FromWinNative","VideoGenLimit-FromWinChromium","VideoGenLimit-FromEdgeCopilotMode","UpsellPFToPremium","UpsellPFToPremium-FromWinNative","UpsellPFToPremium-FromWinChromium","UpsellFreeInSidePane","UpsellFreeInSidePane-FromWinChromium","Unknown"],Lxe={Pageseditor:"pageseditor-supported-features"},wq=["m365-family-classic-guest","m365-family-guest","m365-premium-guest"],Dxe="App Store",Oxe="Google Play",Tq=["m365-personal","m365-family-admin"],CT=["m365-family-guest","m365-premium-guest","m365-premium-admin"],ST=["m365-personal","m365-family-admin"],xq=["m365-personal","m365-family-admin"];function I1(e){const t=et("kill-subs-pro-to-premium"),n=e.some(r=>r.tier==="pro"),o=e.some(r=>xq.includes(r.tier)),s=e.some(r=>r.channel!=="direct");return{isEligible:!t&&n&&!s&&(e.length===1||o&&e.length===2),hasM365Transition:o}}const bT=["m365-personal-classic","m365-premium-guest","m365-family-guest","m365-family-classic-admin","m365-family-classic-guest","m365-basic"],Uxe=["m365-personal-classic","m365-family-classic-admin","m365-basic"],IT=["m365-family-admin","m365-personal"],$d=["m365-premium-admin","pro"],kC=[...$d,...IT,...bT];function Aq(e,t=!1){if(e.length===0)return t?"buypremium":"buym365";if(e.some(n=>n.tier==="pro")){if(et("kill-subs-pro-to-premium"))return null; const _hh$temp156=I1(e),n=_hh$temp156.isEligible,o=_hh$temp156.hasM365Transition; return n?o?"switchpremiumm365dual":"switchpremiumsolo":"buypremium"}return e.some(n=>CT.includes(n.tier))?null:e.some(n=>ST.includes(n.tier))||t?"upgradepremium":"upgradem365"}function _q(e,t=[]){return t.length===0?null:e.length===0?t.includes("m365-personal")?"buym365":t.includes("m365-premium")?"buypremium":null:t.includes("m365-personal")?e.some(n=>bT.includes(n.tier))?"upgradem365":null:t.includes("m365-premium")?e.some(n=>$d.includes(n.tier))?null:"upgradepremium":null}function Fxe(e){return["m365-personal","m365-family-admin","m365-premium-admin"].find(n=>n===e)??null}function jxe(e){return e.length>0&&ET(e)[0]?.tier!=="pro"}function Bxe(e){return e.some(t=>Tq.includes(t.tier))&&!e.some(t=>$d.includes(t.tier))}function ET(e){return e.slice().sort((t,n)=>kC.indexOf(t.tier)-kC.indexOf(n.tier))}function Vxe(e){return e.find(n=>n.tier==="pro")?.isAutoRenew??!1}function kq(e){const t=e?.tier,n=e?.channel,o=t!==void 0&&!wq.includes(t)&&(n==="apple"||n==="google");return{shouldRedirectMobile:o,redirectMobileSource:o?n:null}}function Hxe( _hh$temp157 ){ var e=_hh$temp157.isPro,t=_hh$temp157.subscriptions; if(t.length===0&&!e)return!0;if(e){ const _hh$temp158=I1(t),n=_hh$temp158.isEligible; return n}return!1}function Pq(e){return e.toLowerCase()==="zh-hant"?"zh-TW":e}function zxe(e,t){const n=t?`${e}-From${t}`:e;return yT.find(o=>o.toLowerCase()===n.toLowerCase())??"Unknown"}function Gxe(e){if(!e)return"settings.accountPlan.freePlan";switch(e.tier){case"pro":return"settings.accountPlan.proPlan";case"m365-premium-admin":return"settings.accountPlan.premiumPlan";case"m365-family-admin":return"settings.accountPlan.familyPlan";case"m365-personal":return"settings.accountPlan.personalPlan";case"m365-basic":case"m365-family-classic-admin":case"m365-personal-classic":return"settings.accountPlan.freePlan";default:return null}}function Mq(e){return e.toLowerCase().includes("-from")}function Wxe(e){return["OneMonthTrialToMonthly","OneMonthTrialToYearly"].includes(e)}function $xe(e){return["OneMonthTrialToMonthly","Monthly"].includes(e)?"monthly":"yearly"}function qxe(e,t){return Math.round(e*100+t*100)/100}const $a="ellie",wT=[$a],PC=J([H(wT),L2()]),Rq=f({model:g("vasa"),eyesOpenRatio:T(A()).min(1),eyesPose:T(A()).min(6),jawPose:T(A()).length(3),neckPose:T(A()).length(3),rotation:T(A()).length(3),translation:T(A()).length(3),viseme:T(A()).min(10)}),Nq=f({model:g("spda2e"),poseDiffusion:T(A())}),Lq=J([g("throttled"),g("error"),g("time-expired"),g("inactivity")]),Dq=f({type:g("summary"),text:l()}),Oq=f({type:g("topicList"),id:l(),topics:T(f({text:l()})).nullable(),selectedIndex:A().nullable()}),Uq=de("type",[Oq,Dq]).nullable(),TT=f({title:l(),body:l()}),Fq=TT.extend({type:g("imageGenerated"),messageId:l(),imageId:l()}),jq=TT.extend({type:g("taskCompleted"),taskId:l()}),Bq=de("type",[Fq,jq]),Vq=J([l(),A(),V(),$r()]),uc=Os(()=>J([Vq,T(uc),wt(l(),uc)])),Hq=f({op:g("add"),path:l(),value:uc}),zq=f({op:g("remove"),path:l()}),Gq=f({op:g("replace"),path:l(),value:uc}),Wq=f({op:g("move"),from:l(),path:l()}),$q=f({op:g("copy"),from:l(),path:l()}),qq=f({op:g("test"),path:l(),value:uc}),Kq=de("op",[Hq,zq,Gq,Wq,$q,qq]),xr=T(Kq),Yq=Qo.object({type:Qo.literal("browserPageContext")}),Zq=Qo.discriminatedUnion("type",[Yq]),Jq=Qo.object({type:Qo.string()}),Qq=Zq.or(Jq),Xq=Qo.object({event:Qo.literal("toolExecuting"),id:Qo.string(),messageId:Qo.string(),tool:Qq}),eK=J([g("event-not-recognized"),g("over-turn-limit"),g("unknown-error"),g("message-too-large"),g("invalid-event"),g("empty-message"),g("empty-text"),g("text-too-long"),g("multiple-text-parts"),g("multiple-image-parts"),g("too-many-messages"),g("over-lifetime-task-quota"),g("over-task-quota"),g("page-content-length-exceeded"),g("page-count-exceeded"),g("character-out-of-capacity"),l()]),tK=J([g("blocked"),g("not-signed-in"),g("failed"),l()]),xT=J([g("quiz"),g("generative-ui"),g("flashcard"),g("composeEmail")]),AT=J([g("throttled"),g("throttled-non-pro"),g("time-expired"),g("time-expired-non-pro"),g("not-in-flight"),g("error"),g("signed-out"),g("region-not-available"),g("time-expired-month"),g("time-expired-month-non-pro"),g("missing-consent"),g("chat-service-unavailable")]),nK=H(["human","ai"]),oK=f({voice:l().optional(),speed:A().min(50).max(200).optional(),initiator:nK.optional()}).partial(),MC=A().min(0).max(200).prefault(100),RC=J([g("standard"),g("character"),g("tv"),g("portrait"),g("edge-vision"),g("windows-vision")]),sK=H(["research"]),_T=od().nullable(),aK=H(["session-duration"]),rK=f({type:g("patch"),patches:xr}),iK=f({type:g("appendText"),path:l(),text:l()}),cK=f({type:g("patch"),patches:xr}),lK=f({type:g("complete"),path:l(),status:g("complete"),html:l()}),uK=J([xr,iK,cK,lK]),NC=de("event",[on,Xq,f({event:g("pong"),id:l()}),f({event:g("connected"),id:l(),requestId:l()}),f({event:g("received"),conversationId:l(),messageId:l(),createdAt:l()}),f({event:g("newMessage"),id:l(),conversationId:l(),message:Lw}),f({event:g("emojiReaction"),messageId:l(),emoji:l().nullish(),reactions:T(f({emoji:l(),count:A(),hasReacted:V()})).nullish()}),f({event:g("startMessage"),conversationId:l(),messageId:l(),createdAt:l()}),f({event:g("appendText"),messageId:l(),text:l(),partId:l(),parentPartId:l().optional()}),f({event:g("replaceText"),messageId:l(),text:l(),partId:l()}),f({event:g("titleUpdate"),conversationId:l(),title:l()}),f({event:g("generatingImage"),messageId:l(),prompt:l(),partId:l(),progressionText:l().nullable().optional()}),f({id:l(),event:g("generatingImages"),messageId:l(),partIds:T(l()),prompt:l()}),f({event:g("imageGenerated"),messageId:l(),url:l(),partId:l()}),f({event:g("partialImageGenerated"),messageId:l(),url:l(),partId:l(),content:l()}),f({event:g("page"),messageId:l(),partId:l(),page:f({id:l(),conversationId:l(),title:l().nullish()})}),f({event:g("challenge"),method:J([g("copilot"),g("hashcash"),g("cloudflare")]).nullish(),parameter:l().nullish()}),f({event:g("imageGenerationFailed"),messageId:l(),errorCode:tK,partId:l()}),f({id:l(),event:g("generatingCard"),messageId:l(),partId:l(),type:xT}),f({id:l(),event:g("cardGenerationFailed"),messageId:l(),partId:l()}),f({event:g("transcriptEvent"),text:l()}),f({event:g("audioStart"),conversationId:l()}),f({event:g("audio"),audio:l()}),f({event:g("audioStartFailed"),reason:AT}),f({event:g("audioTimeRemaining"),seconds:A()}),f({event:g("callTerminated"),reason:Lq}),f({event:g("audioEnd")}),f({event:g("callEnded"),id:l()}),f({event:g("audioConfig"),options:oK}),f({event:g("interruptAudio")}),f({event:g("speechEndDetected"),sampleIndex:A().optional()}),f({event:g("speechStartDetected")}),f({event:g("citation"),messageId:l(),url:l(),title:l(),partId:l(),iconUrl:l().nullable(),publisher:l().nullable(),snippet:l().nullish(),label:l().nullish()}),f({event:g("modelStatement"),messageId:l(),partId:l(),correlationPartId:l(),modelName:l(),id:l().optional()}),f({event:g("chainOfThought"),messageId:l(),partId:l(),text:l()}),f({event:g("turnLimitReached"),id:l()}),f({event:g("done"),messageId:l()}),f({event:g("error"),errorCode:eK}),f({event:g("card"),messageId:l(),partId:l(),card:BE}),f({event:g("document"),messageId:l(),partId:l(),attachmentId:l(),fileName:l(),contentType:Fc}),f({event:g("callUI"),id:l(),callUI:Uq}),f({event:g("callUIUpdate"),id:l(),update:xr}),f({event:g("banned"),expiresAt:l()}),f({event:g("taskStart"),id:l(),messageId:l(),partId:l(),task:vw}),f({event:g("taskUpdate"),id:l().nullish(),taskId:l(),update:xr}),f({event:g("notification"),id:l().nullish(),notificationId:l(),content:Bq}),f({event:g("startSuggestion"),id:l(),pageId:l(),suggestionId:l(),editTargets:T(f({startIndex:A(),endIndex:A()}))}),f({event:g("appendSuggestion"),id:l(),pageId:l(),suggestionId:l(),text:l()}),f({event:g("suggestionCompleted"),id:l(),pageId:l(),suggestionId:l()}),f({event:g("characterAnimation"),id:l(),offsetInMilliseconds:A().nullable().optional(),frame:de("model",[Rq,Nq]).nullable().optional()}),f({event:g("characterAnimationEnd"),messageId:l()}),f({event:g("setCallType"),callType:RC}),f({event:g("callTypeChanged"),callType:RC}),f({event:g("activityStart"),activity:f5,id:l(),messageId:l(),partId:l()}),f({event:g("activityUpdate"),id:l(),messageId:l(),partId:l(),update:xr}),f({event:g("partUpdate"),messageId:l(),partId:l(),update:rK,id:l()}),f({event:g("memorySignal"),messageId:l(),partId:l(),text:l(),signalType:J([g("remember"),g("forget"),g("remember-name"),g("forget-name")]).nullish()}),f({event:g("sideBySideComparison"),id:l(),conversationId:l(),sideBySideComparisonId:l(),defaultMessageId:l(),options:T(f({messageId:l(),position:J([g("left"),g("right")])}))}),f({event:g("characterEmotion"),emotion:l(),bodyReaction:l()}),f({event:g("modeSelected"),id:l(),messageId:l(),mode:J([g("chat"),g("reasoning")])}),f({event:g("partCompleted"),id:l(),messageId:l(),partId:l()}),f({event:g("partDeleted"),id:l(),messageId:l(),partId:l()}),f({event:g("characterAppearance"),body:f({primaryColor:l(),secondaryColor:l().nullable(),leftAccentColor:l().nullable(),rightAccentColor:l().nullable(),colorParticles:l().nullable().optional(),shape:l().nullable().optional()}),props:f({hat:l().nullable().optional(),glasses:l().nullable().optional(),accessory:l().nullable().optional()}).optional(),id:l()}),f({event:g("browserAutomate"),messageId:l(),partId:l(),tabIds:T(A()),activeTabId:A().optional()}),f({event:g("relatedSearchResultsAvailable"),messageId:l()}),f({event:g("participantUpdate"),conversationId:l(),participant:f({userId:l(),userDisplayName:l()}),updateType:J([g("kicked"),g("joined"),g("left")]),id:l()}),f({event:g("suggestVision"),conversationId:l()}),f({id:l(),conversationId:l(),event:g("featureSuggestion"),feature:sK}),f({event:g("turnTelemetry"),messageId:l(),telemetry:_T}),f({event:g("consentRequired"),type:Yg,version:l()}),f({event:g("nudge"),nudgeType:aK,id:l(),conversationId:l(),text:l()}),f({event:g("artifactStart"),messageId:l(),artifact:de("type",[f({type:g("presentation"),id:l(),title:l(),status:H(["pending","generating","completed"]),slides:wt(l(),f({status:H(["pending","generating","completed","editing"]),index:A(),html:l()}))}),f({type:g("spreadsheet"),id:l(),title:l(),status:H(["generating","completed","failed"]),sheets:wt(l(),f({status:H(["generating","completed","failed"]),index:A(),name:l()}))}),f({type:g("document"),id:l(),title:l(),status:H(["pending","generating","completed"]),html:l()}),f({type:g("webapp"),id:l(),title:l(),status:H(["pending","generating","completed","editing"]),sources:wt(l(),l()).optional()})]),id:l()}),f({event:g("artifactUpdate"),artifactId:l(),update:uK,id:l()}),f({event:g("partStart"),messageId:l(),part:de("type",[f({partId:l(),type:g("uiComponent"),parentPartId:l().nullable(),component:od()}),f({partId:l(),type:g("text"),parentPartId:l().nullish(),text:l()}),f({partId:l(),type:g("command"),command:LD}),f({partId:l(),type:g("step"),parentPartId:l().nullish(),status:yw,title:l(),reaction:cn.nullish()}),f({partId:l(),type:g("textFile"),parentPartId:l().nullish(),content:l(),contentType:l(),fileName:l(),reaction:cn.nullish()}),f({partId:l(),type:g("webSearch"),parentPartId:l().nullish(),query:l(),results:T(f({title:l(),snippet:l().nullish(),iconUrl:l().nullish(),url:l()})),reaction:cn.nullish()}),f({partId:l(),type:g("shellCommandExecution"),parentPartId:l().nullish(),shell:l(),command:l(),output:l().nullable(),reaction:cn.nullish()}),f({partId:l(),type:g("computerUse"),parentPartId:l().nullish(),screenshotUrls:T(l()).nullish(),environment:de("type",[f({type:g("localBrowser"),tabs:T(f({id:A(),url:l().optional(),iconUrl:l().optional()})).nullish()}),f({type:g("remoteBrowser"),tabs:T(f({url:l().optional(),iconUrl:l().optional()})).nullish()})]).nullish()})])}),f({event:g("conversationDeleted"),conversationId:l()})]);f({conversationId:l().optional(),formCode:l().optional()});f({mode:l(),formCode:l().optional()});f({menu:g("plus")});f({source:l(),conversationId:l().optional(),fileData:l(),mimetype:l(),filename:l()});const E1={kNotPresent:0,kAccepted:1},Kxe={kNoError:0,kUnknownError:1,kNoConsent:2,kBlockedByDlp:3,kNotSupportedError:4,kNetworkError:5,kNoVideoTranscript:6,kNoWebContents:7,kNoDocumentHelper:8},Yxe={kNotYetDetermined:0,kWeb:1,kPdf:2,kGoogleDocs:3,kVideoTranscript:4};function Zxe(e){return typeof e=="object"&&e!==null&&"eventName"in e&&"requestId"in e&&(!("isOutgoing"in e)||!e.isOutgoing)&&"args"in e}const Jxe={POPULATE_FORM_FIELDS:"populateFormFields",GET_FORM_STRUCTURE:"getFormStructure",GET_USER_SUBMISSIONS:"getUserSubmissions"},yt=P(void 0),Qr=P(e=>e(yt)!==void 0),kT=Ot({key:ZI,schema:l().optional(),initialValue:void 0}),PT=P(e=>{const t=e(yt),n=e(kT);return t===void 0?n:t.preferredName??t.firstName??t.givenName}),qd=P(e=>e(yt)?.id),Xr=P(void 0),dK=P(e=>e(Zc).find(t=>t.id===e(Xr))),w1=P(""),Qxe=P(e=>{const t=e(Zc),n=e(Xr)??t[0]?.id;return t.find(o=>o.id===n)?.voicemails}),mK=Ot({key:sC,schema:MC,initialValue:Ht(sC,MC)??Uc}),go=Ot({key:Xy,schema:PC,initialValue:Ht(Xy,PC)??void 0}),LC=Ot({key:aC,schema:A().optional(),initialValue:Ht(aC,A().optional())??void 0}),MT=P(e=>{const t=e(LC);return t===void 0?!1:Date.now()-t<VN},(e,t,n)=>{t(LC,n?Date.now():void 0)}),pK=Ot({key:WR,schema:V().optional(),initialValue:void 0}),fK=Ot({key:eC,schema:V(),initialValue:Ht(eC,V())??!1}),RT=P(null),Jc=P(null),NT=P(e=>e(h1).find(t=>t.id===e(Jc))),Xxe=P(!1),eAe=P(E1.kNotPresent),tAe=P(E1.kAccepted),nAe=P(E1.kNotPresent),LT=P(void 0),jr=P(!1),DT=P(void 0),hK=P(!1),Uf=P(void 0),gK=P(void 0),vK=P(!1),yK=P(!1),CK=P(!1),SK=P(void 0),bK=P(void 0),Kd=P(null),Yd=P(null),Zd=P(null),OT=P(null),oAe=P(!1),sAe=P(!1),UT=P(e=>{const n=e(yt)?.subscriptions??[];return n.some(o=>o.tier==="pro")&&!n.some(o=>o.tier==="m365-premium-admin")}),aAe=P(e=>e(yt)?.isStudent);P(e=>e(yt)?.inEeaPlusRegion);const Ut=P(void 0),IK=P(!1);P(e=>{const t=e(Ut);return t&&NN.includes(t)});const FT=P(void 0),rAe=P(e=>e(yt)?.isEligibleForFreeTrial??!1),jT=P(void 0),Jd=P(e=>e(yt)?.ageGroup==="teen"),iAe=P(e=>e(yt)?.allowedToggles.computerUseActions),EK=P(e=>e(yt)?.allowedToggles.personalization),wK=P(e=>e(yt)?.allowedToggles.textTraining),TK=P(e=>e(yt)?.allowedToggles.voiceTraining),BT=P(!1),T1=P(null),ei=P(e=>e(yt)?.subscriptions?.filter(t=>rw.safeParse(t.tier).success)??[]),qa=P(e=>{const t=e(ei);return ET(t)[0]}),xK=P(e=>e(qa)?.tier??b1),x1=P(null),AK=P(null),cAe=P(e=>e(yt)?.accountTier??null),_K=P(e=>{const t=e(qa)?.tier;return t!==void 0&&IT.includes(t)}),kK=P(e=>{const t=e(qa)?.tier;return t!==void 0&&$d.includes(t)}),Qd=P(e=>{const t=e(_K),n=e(kK);return t||n}),PK=P(e=>e(ei).length>0),MK=Ot({key:eN,schema:V(),initialValue:!0});f({url:l().optional()});function ye(e,t){_e().set(e,t)}const dc=P(null),wa=P([]),Ct=P(e=>e(m1).includes("toast-queue")?e(wa)[0]??null:e(dc),(e,t,n)=>{n===null?LK():NK(n)});function RK(e){if(!$("toast-queue")){j(dc)?.id===e&&ye(dc,null);return}const t=j(wa);ye(wa,t.filter(n=>n.id!==e))}function NK(e){if(!$("toast-queue")){ye(dc,e);return}const t=j(wa);ye(wa,[...t,e])}function LK(){if(!$("toast-queue")){ye(dc,null);return}const e=j(wa);ye(wa,e.slice(1))}f({enabled:V().optional()});function DK(){return!1}const OK="https://www.copilot.com",UK="https://www.copilot-stg.com";function VT(){return typeof window>"u"?!1: __get$(window,"location") .origin===OK|| __get$(window,"location") .origin===UK}function HT(){return VT()?`${ __get$(window,"location") .origin}/c/api`:"https://copilot.microsoft.com/c/api"}function A1(){return Ht(wf,V().nullable())===!0}function FK(){return Ht(Tf,V().nullable())===!0}const la={UNDEFINED:"0",CHILD:"1",ADULT:"3",NOT_ADULT:"4",CHILD_NO_PARENTAL_CONSENT_REQUIRED:"5"},jK=f({name:l(),email:l(),ageGroup:H([la.UNDEFINED,la.CHILD,la.ADULT,la.NOT_ADULT,la.CHILD_NO_PARENTAL_CONSENT_REQUIRED]),sub:l()}),Yn={LOGIN_START:"auth0:loginStart",LOGIN_SUCCESS:"auth0:loginSuccess",LOGIN_FAILURE:"auth0:loginFailure",LOGOUT_SUCCESS:"auth0:logoutSuccess",LOGOUT_FAILURE:"auth0:logoutFailure",ACQUIRE_TOKEN_START:"auth0:acquireTokenStart",ACQUIRE_TOKEN_FAILURE:"auth0:acquireTokenFailure",REAUTH_START:"auth0:reauthStart",REAUTH_SUCCESS:"auth0:reauthSuccess",INITIALIZE_START:"auth0:initializeStart",INITIALIZE_END:"auth0:initializeEnd",ACQUIRE_TOKEN_OVERALL_SUCCESS:"auth0:acquireTokenOverallSuccess",ACQUIRE_TOKEN_OVERALL_FAILURE:"auth0:acquireTokenOverallFailure",ACQUIRE_TOKEN_TIMEOUT:"auth0:acquireTokenTimeout"},os={ACQUIRE_TOKEN_OVERALL_SUCCESS:"msal:acquireTokenOverallSuccess",ACQUIRE_TOKEN_OVERALL_FAILURE:"msal:acquireTokenOverallFailure",ACQUIRE_TOKEN_TIMEOUT:"msal:acquireTokenTimeout",INTERACTION_IN_PROGRESS:"msal:interactionInProgress",REAUTH_POPUP_SHOW:"msal:reauthPopupShow",RETRIEVE_LOGIN_WITH_LOGIN_HINT_START:"msal:retrieveLoginWithLoginHintStart",RETRIEVE_LOGIN_WITH_LOGIN_HINT_SUCCESS:"msal:retrieveLoginWithLoginHintSuccess",EMPTY_ACCOUNT_ENVIRONMENT:"msal:emptyAccountEnvironment",SSO_SILENT_SUCCESS_AFTER_LOGIN:"msal:ssoSilentSuccessAfterLoginSuccess",SSO_SILENT_FAILURE_AFTER_LOGIN:"msal:ssoSilentFailureAfterLoginSuccess"},On={ACQUIRE_ASSERTION_TOKEN_START:"migration:acquireAssertionTokenStart",ACQUIRE_ASSERTION_TOKEN_SUCCESS:"migration:acquireAssertionTokenSuccess",ACQUIRE_ASSERTION_TOKEN_FAILURE:"migration:acquireAssertionTokenFailure",MIGRATION_START:"migration:start",MIGRATION_SUCCESS:"migration:success",MIGRATION_FAILURE:"migration:failure",SILENT_MIGRATION_START:"migration:silentMigrationStart",SILENT_MIGRATION_SUCCESS:"migration:silentMigrationSuccess",SILENT_MIGRATION_FAILURE:"migration:silentMigrationFailure",LINK_START:"migration:linkStart",LINK_SUCCESS:"migration:linkSuccess",LINK_FAILURE:"migration:linkFailure",NAME_INCONSISTENT:"migration:nameInconsistent"};function Xd(){return DK()||!1}function ti(){if(!Xd())return"140e65af-45d1-4427-bf08-3e7295db6836/ChatAI.ReadWrite"}const _1=typeof window<"u"?`${ __get$(window,"location") .origin}/auth/silent-callback`:void 0,DC={auth:{clientId:"14638111-3389-403d-b206-a6a71d9f8f16",authority:"https://login.microsoftonline.com/common",navigateToLoginRequestUrl:!1},system:{allowPlatformBroker:!1},cache:{cacheLocation:"localStorage"}},BK={scopes:[ti()],extraQueryParameters:{lw:"1",coa:"1",nopa:"2",fl:"easi2_nowld",cobrandid:"8c0b039e-5a73-4399-9b56-7e237be2cd06"},prompt:"select_account",redirectUri:typeof window<"u"? __get$(window,"location") .origin:void 0},VK={scopes:[ti()],prompt:"none",authority:"https://login.microsoftonline.com/consumers",redirectUri:_1},HK={scopes:[ti()],prompt:"none",authority:"https://login.microsoftonline.com/consumers",redirectUri:_1};function zT(){const e=crypto.randomUUID();return{...VK,scopes:[ti()],correlationId:e,extraQueryParameters:{"client-request-id":e}}}function k1(){return{...BK,scopes:[ti()]}}function zK(e){const t=crypto.randomUUID();return{...HK,scopes:[ti()],httpMethod:"POST",authorizePostBodyParameters:{ssu:"1",id_provider:"copilot.com",fidp_idtoken:e},correlationId:t,extraQueryParameters:{"client-request-id":t}}}const OC={scopes:["User.Read"]},GK={scopes:["OneDrive.ReadWrite"],authority:"https://login.microsoftonline.com/consumers"},WK={scopes:["service::http://Passport.NET/purpose::PURPOSE_GETKEYDATA_ANAHEIM"],authority:"https://login.microsoftonline.com/consumers"},P1={graphMeApiSuffix:"/me",graphMeImageApiSuffix:"/me/photo/$value",graphMeLicenseDetails:"/me/licenseDetails"};function UC(){return{appName:m5(),enableMATS:!0,appVersion:Td()}}function $K(){return Xd()?void 0:"IalDS3vRtEI5X0zvsmGG7zJP9UrHTcei"}function qK(){return Xd()?void 0:"auth.copilot.microsoft.com"}function GT(){return Xd()?void 0:"https://copilot.microsoft.com"}function KK(){return{clientId:$K(),domain:qK(),cacheLocation:"localstorage",useRefreshTokens:!0,useRefreshTokensFallback:!0}}const WT="openid profile email offline_access ChatAI.ReadWrite",$T=typeof window<"u"? __get$(window,"location") .origin:void 0;function em(){return{authorizationParams:{audience:GT(),scope:WT,redirect_uri:$T}}}function YK(){return{authorizationParams:{audience:GT(),scope:WT,redirect_uri:$T,prompt:"select_account"}}}const FC="cp-pro";function ZK(e){switch(e){case"login":return k1();case"graph":return OC;case"oneDrive":return GK;case"decryptionService":return WK;default:return OC}}const JK={actAsBroker:!0,preferredInteractionType:"redirect"},QK=1e4,XK=1e4,eY=1.8,tY=2.6,qT={initialDelayMs:100,maxDelayMs:500,backoffFactor:2,maxRetries:2};function Qc(){return!1}function nY(){return Qc()}function KT(e,t,n){return n!==void 0?n:Qc()?t:t&&!e}function kt(){const e=M(FT),t=M(Lc),n=!!M(mt);return KT(t,n,e)}function M1(){const e=_e(),t=e.get(FT),n=e.get(Lc),o=!!e.get(mt);return KT(n,o,t)}const oY=H(["upgrade-subscription","mobile-cross-selling","mac-cross-selling"]),YT={chatWebSocketSessionId:l(),connectorConsentFlowStartUrl:l(),errorReloadTimestamp:A(),hasComposerCoachmarkBeenShown:V(),loginHintRedirectPath:l(),parsedPayflowEntryPoint:H(yT),payflowAuthHint:l(),payflowCorrelationId:l(),payflowInstanceId:l(),payflowRequiresPremium:V(),processedConnectorCode:l(),redirectPathOnNextStart:l(),retrieveLoginWithLoginHintStartTime:l(),screenPickerRequestedOpenTime:A(),settingsPromoteContent:oY,shouldStartSubscription:V(),"sticky-conversation-mode":$c,turnTelemetry:wt(l(),_T),urlCopilotRing:l()};function lo(e,t){if(typeof sessionStorage>"u")return!1;try{return  __get$(YT,e) .parse(t),sessionStorage.setItem(e,JSON.stringify(t)),!0}catch{return!1}}function Xt(e){if(typeof sessionStorage>"u")return null;const t=sessionStorage.getItem(e);if(!t)return null;try{const n=JSON.parse(t);return  __get$(YT,e) .parse(n)}catch{return null}}function uo(e){typeof sessionStorage>"u"||sessionStorage.removeItem(e)}const Ff="authInitStartTime";function ZT(e,t){if(M1()){const s=_e().get(mt)?.accountType;tt({feature:"api",scenario:t,errorType:"missingToken",errorMessage:`User is authenticated but no token was available for ${t==="getWssAPIUrl"?"WebSocket connection":"API request"}`,customData:JSON.stringify({path:e,accountType:s})})}}function JT(e,t){const o=_e().get(mt),s=o?.accountType,a=o?.provider,r=o?.tenantId;s||tt({feature:"api",scenario:t,errorType:"emptyAccountTypeWithToken",errorMessage:`Can get the token but with no user account type ${t==="getWssAPIUrl"?"WebSocket connection":"API request"}`,customData:JSON.stringify({path:e,provider:a,tenantId:r})})}function QT(e){ const _hh$temp159=e,t=_hh$temp159.providerType,n=_hh$temp159.apiName,o=_hh$temp159.extraInfo,s=Date.now().toString(); cc(Ff,s),R.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_apiName:n,eventInfo_success:!0,eventInfo_customData:JSON.stringify({eventInfo_providerType:t,...o})}})}function XT(e){ const _hh$temp160=e,t=_hh$temp160.providerType,n=_hh$temp160.apiName,o=_hh$temp160.extraInfo,s=Date.now(),a=Lr(Ff); if(a){const r=parseFloat(a),c=s-r;sessionStorage.removeItem(Ff),R.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_apiName:n,eventInfo_success:!0,eventInfo_duration:c,eventInfo_customData:JSON.stringify({eventInfo_providerType:t,...o})}})}}function ex(e){ const _hh$temp161=e,t=_hh$temp161.authWorkflowAccountType,n=_hh$temp161.interactionType,o=_hh$temp161.correlationId,s=_hh$temp161.prompt,a=_hh$temp161.redirectUri,r=_hh$temp161.apiName,c=_hh$temp161.extraInfo,d=Date.now().toString(); qt(If,d),R.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_apiName:r,eventInfo_success:!0,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:t??"unknown",eventInfo_interactionType:n??"",eventInfo_correlationId:o??"",eventInfo_prompt:s??"",eventInfo_redirectUri:a??"",...c})}})}function tx(e){ const _hh$temp162=e,t=_hh$temp162.authWorkflowAccountType,n=_hh$temp162.isMSA,o=_hh$temp162.authority,s=_hh$temp162.correlationId,a=_hh$temp162.interactionType,r=_hh$temp162.apiName,c=_hh$temp162.extraInfo,d=Date.now(),m=Mt(If); let p;if(m){const h=parseFloat(m);p=d-h,ft(If)}R.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_apiName:r,eventInfo_success:!0,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:t??"unknown",eventInfo_interactionType:a,eventInfo_correlationId:s,eventInfo_authority:o,eventInfo_isMSA:n??!1,...c}),eventInfo_duration:p??0}})}function nx(e){ const _hh$temp163=e,t=_hh$temp163.providerType,n=_hh$temp163.apiName,o=_hh$temp163.extraInfo; R.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!0,eventInfo_apiName:n,eventInfo_customData:JSON.stringify({eventInfo_providerType:t,...o})}})}function $t(e){ const _hh$temp164=e,t=_hh$temp164.authWorkflowAccountType,n=_hh$temp164.apiName,o=_hh$temp164.duration,s=_hh$temp164.extraInfo; R.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!0,eventInfo_apiName:n,eventInfo_duration:o??0,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:t??"unknown",eventInfo_wasInBackground:N1(),...s})}})}function vn(e){ const _hh$temp165=e,t=_hh$temp165.authWorkflowAccountType,n=_hh$temp165.apiName,o=_hh$temp165.errorMessage,s=_hh$temp165.errorType,a=_hh$temp165.errorExtraInfo,r=_hh$temp165.errorCode,c=_hh$temp165.extraInfo; R.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!1,eventInfo_apiName:n,eventInfo_errorType:s,eventInfo_errorMessage:o,eventInfo_errorCode:r,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:t??"unknown",eventInfo_wasInBackground:N1(),...c,...a})}})}function sY(e){ const _hh$temp166=e,t=_hh$temp166.authWorkflowAccountType,n=_hh$temp166.apiName; qt(Ef,"1"),R.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!0,eventInfo_apiName:n,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:t})}})}function aY(e){ const _hh$temp167=e,t=_hh$temp167.authWorkflowAccountType,n=_hh$temp167.apiName,o=_hh$temp167.duration,s=Mt(Ef); s==="1"&&ft(Ef),s==="1"&&R.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!0,eventInfo_apiName:n,eventInfo_duration:o??0,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:t})}})}function R1(e,t,n,o,s){return{eventInfo_requestType:t,eventInfo_retryAttemptCount:e.attemptCount,eventInfo_retryStartTime:e.startTime,eventInfo_retryEndDelay:e.endTime,eventInfo_retryDelayTimings:e.delayTimings.join(","),eventInfo_allErrors:JSON.stringify(e.errors),eventInfo_wasInBackground:N1(),eventInfo_localAccountId:n?.localAccountId,eventInfo_homeAccountId:n?.homeAccountId,eventInfo_redirectUri:o,eventInfo_interactionType:s}}function ox(e,t,n,o,s,a){$t({authWorkflowAccountType:n,apiName:n==="microsoft"?os.ACQUIRE_TOKEN_OVERALL_SUCCESS:Yn.ACQUIRE_TOKEN_OVERALL_SUCCESS,extraInfo:R1(e,t,o,s,a)})}function sx(e,t,n,o,s,a){const r=R1(e,t,o,s,a),c= __get$(e.errors,e.errors.length-1) ;vn({authWorkflowAccountType:n,apiName:n==="microsoft"?os.ACQUIRE_TOKEN_OVERALL_FAILURE:Yn.ACQUIRE_TOKEN_OVERALL_FAILURE,errorType:c?.errorType??"unknown",errorMessage:c?.errorMessage??"unknown error",extraInfo:{...r,eventInfo_exitReason:e.exitReason}})}function ax(e,t,n,o,s,a){const r=R1(e,t,o,s,a);vn({authWorkflowAccountType:n,apiName:n==="microsoft"?os.ACQUIRE_TOKEN_TIMEOUT:Yn.ACQUIRE_TOKEN_TIMEOUT,errorType:"RequestTimeoutError",errorMessage:`Token acquisition timed out on attempt ${e.attemptCount}`,extraInfo:{...r,eventInfo_totalDuration:e.endTime-e.startTime}})}function lAe(e){const t=e instanceof Error?e.message:String(e);R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"GraphAPITimeout",eventInfo_errorMessage:t,eventInfo_details:"Student status check failed or timed out"}})}function N1(){return typeof document<"u"&&document.visibilityState==="hidden"}function rY(e){$t({apiName:os.REAUTH_POPUP_SHOW,authWorkflowAccountType:"microsoft",extraInfo:{eventInfo_errorMessage:e}})}function iY(){const e=Xt("retrieveLoginWithLoginHintStartTime"),t=Date.now();if(e){const n=t-parseInt(e,10);lo("retrieveLoginWithLoginHintStartTime",""),$t({apiName:os.RETRIEVE_LOGIN_WITH_LOGIN_HINT_SUCCESS,authWorkflowAccountType:"microsoft",extraInfo:{eventInfo_duration:n}})}}class zs{#e;#t=null;#n;#o=null;constructor(t,n){this.#e=t,this.#n=n}async get(t){return( __get$(this,"o") ===null|| __get$(this,"n") &&(! __get$(this,"t") || __get$(this,"t") <Date.now()- __get$(this,"n") ))&&(this.#o=this.#e(t),this.#t=Date.now()), __get$(this,"o") }set(t){this.#o=t,this.#t=Date.now()}reset(){this.#o=null,this.#t=null}get isInstantiated(){return  __get$(this,"o") !==null}}const Po=new zs(cY);async function cY(){QT({apiName:Yn.INITIALIZE_START,providerType:"auth0"});const e=await N7(KK());XT({apiName:Yn.INITIALIZE_END,providerType:"auth0"});const t=new Map([["on",null],["off",null],["cache-only",null]]);async function n(a,r){const c=performance.now();$t({authWorkflowAccountType:r,apiName:Yn.ACQUIRE_TOKEN_START});try{const d={...qT,shouldRetry:h=>!(h instanceof Cy&&h.error==="login_required"),onSuccess:h=>ox(h,"graph",r??"google"),onFailure:h=>sx(h,"graph",r??"google"),onTimeout:h=>ax(h,"graph",r??"google")},m=await Aa((h=0)=>H2(()=>e.getTokenSilently(a),XK,h,tY),d),p=performance.now();return jo({feature:"auth0SdkUsage",scenario:"getAuth0AccessToken",duration:p-c,customData:JSON.stringify({cacheMode:a.cacheMode??"on"})}),m}catch(d){d instanceof Cy?(s({options:a,startTime:c,authWorkflowAccountType:r,errorType:d.error,errorMessage:d.error_description,exception:d.stack}),d.error==="login_required"&&ye(Ts,{reason:"token-expired",provider:"auth0"})):d instanceof Error?s({options:a,startTime:c,authWorkflowAccountType:r,errorType:d.name,errorMessage:d.message,exception:d.stack}):s({options:a,startTime:c,authWorkflowAccountType:r,errorType:"unknown",errorMessage:String(d)});return}}async function o(a){const r=await e.getUser();if(!r)return;const c=r.sub&&r.sub.startsWith("google")?"google":"apple",d=a.cacheMode??"on",m=t.get(d);if(!m){const p=n(a,c);t.set(d,p);const h=await p;return t.set(d,null),h}return m}function s(a){ const _hh$temp168=a,r=_hh$temp168.startTime,c=_hh$temp168.options,d=_hh$temp168.authWorkflowAccountType,m=_hh$temp168.errorType,p=_hh$temp168.errorMessage,h=_hh$temp168.exception; vn({authWorkflowAccountType:d,apiName:Yn.ACQUIRE_TOKEN_FAILURE,errorType:m,errorMessage:p,errorExtraInfo:{eventInfo_providerType:"auth0",eventInfo_exception:h??"",cacheMode:c.cacheMode??"on",duration:performance.now()-r}})}return{auth0:e,getAuth0AccessToken:o}}function jf(){No(Mr,V(),!0),ls(Mr,"true",{expireDays:90})}function rx(){ft(Mr),Rr(Mr)}function lY(){const e=Ht(Mr,V().nullable()),t=cs(Mr);return e===null&&t===void 0?!1:e===!0||t==="true"}class uY{supportsNaa(){return!1}supportsPwBBroker(){return!1}hasHostAccount(){}async handleInteractionRequiredError(t,n,o,s){return ye(Ts,{reason:"token-expired",provider:"microsoft",loginHint:n.account?.username,errorMessage:o,correlationId:s}),new Promise(a=>{const r=c=>{Ie.off("auth:reauth-popup-success",r),a(c)};Ie.on("auth:reauth-popup-success",r)})}}class dY extends uY{supportsPwBBroker(){return Z.instance().config().useMSALPwBApp??!1}async instantiateMsal(){ const _hh$temp169=await Sa(),t=_hh$temp169.PairwiseBrokerApplication,n=_hh$temp169.PublicClientApplication,o=_hh$temp169.EventType,s=this.supportsPwBBroker(); QT({apiName:o.INITIALIZE_START,providerType:"microsoft",extraInfo:{eventInfo_isPwB:s}});let a;s?(a=new t(DC,JK,UC()),await a.initialize(),await a.initializeBrokering()):a=await n.createPublicClientApplication(DC,UC());const r=a.getActiveAccount();return XT({apiName:o.INITIALIZE_END,providerType:"microsoft",extraInfo:{eventInfo_isPwB:s,eventInfo_environment:r?.environment}}),a}}const L1=new zs(mY);async function mY(){return new dY}function pY(e,t,n){return!(e instanceof t||e instanceof n&&(e.errorMessage===l5||parseInt(e.errorCode,10)===rc))}const Bt=new zs(fY);async function fY(){const e=await L1.get(),t=await e.instantiateMsal(),n=new Map([["login",null],["graph",null],["oneDrive",null],["decryptionService",null]]);async function o(r,c){const d=ZK(r),m={account:c,...d,redirectUri:_1,extraQueryParameters:{sus:"1"},tokenQueryParameters:{sus:"1"}};try{c?.environment===""&&vn({apiName:os.EMPTY_ACCOUNT_ENVIRONMENT,authWorkflowAccountType:"microsoft",errorType:"EmptyAccountEnvironment",errorMessage:"Account environment is empty string",extraInfo:{eventInfo_isPwB:e.supportsPwBBroker(),eventInfo_isNaa:e.supportsNaa(),eventInfo_redirectUri:m.redirectUri}}); const _hh$temp170=await Sa(),p=_hh$temp170.InteractionRequiredAuthError,h=_hh$temp170.AuthError,v={...qT,shouldRetry:C=>pY(C,p,h),onSuccess:C=>ox(C,r,"microsoft",{localAccountId:c?.localAccountId,homeAccountId:c?.homeAccountId},m.redirectUri,Jm.Silent),onFailure:C=>sx(C,r,"microsoft",{localAccountId:c?.localAccountId,homeAccountId:c?.homeAccountId},m.redirectUri,Jm.Silent),onTimeout:C=>ax(C,r,"microsoft",{localAccountId:c?.localAccountId,homeAccountId:c?.homeAccountId},m.redirectUri,Jm.Silent)}; return await Aa(async(C=0)=>H2(async()=>({accessToken:(await t.acquireTokenSilent(m)).accessToken}),QK,C,eY),v)}catch(p){ const _hh$temp171=await Sa(),h=_hh$temp171.InteractionRequiredAuthError,v=_hh$temp171.AuthError; if(p instanceof h)return R.trackEvent({name:"system",data:{eventName:"copilotWebAcquireTokenRedirect",eventInfo_requestType:r,eventInfo_traceId:p.traceId,eventInfo_errorMessage:p.errorMessage,eventInfo_errorCode:p.errorCode,eventInfo_correlationId:p.correlationId,eventInfo_timeSinceStartMs:performance.now()-window.appStart,eventInfo_localAccountId:c?.localAccountId,eventInfo_homeAccountId:c?.homeAccountId}}),e.handleInteractionRequiredError(t,m,p.errorMessage,p.correlationId);if(p instanceof v&&(p.errorMessage===l5||parseInt(p.errorCode,10)===rc))throw R.trackEvent({name:"system",data:{eventName:"copilotWebAcquireTokenUnderaged",eventInfo_requestType:r,eventInfo_errorMessage:p.errorMessage,eventInfo_errorCode:p.errorCode,eventInfo_correlationId:p.correlationId}}),new Error(vg);return}}async function s(r,c){const d=await o(r,c);return d===void 0&&e.supportsNaa()&&e.hasHostAccount()&&R.trackEvent({name:"system",data:{eventName:"naaBridgeCallError",eventInfo_requestType:r,eventInfo_errorMessage:"Failed to acquire token silently with NAA"}}),d}return{msal:t,getMsalAccessToken:async r=>{const c=t.getActiveAccount();if(!c&&(!e.supportsNaa()||$("naa-has-active-account-check")&&e.hasHostAccount()===!1))return;const d=n.get(r);if(!d){const m=s(r,c??void 0);n.set(r,m);const p=await m;return n.set(r,null),p}return d}}}function hY(e){const t=e.payload?.scopes;return Array.isArray(t)?t.some(n=>typeof n!="string"?!1:n==="ConsumerStore.Purchase"||n.endsWith("purchase.create")):!1}const Ao=new Map,gY=20;async function vY(e){ const t=await L1.get(),n=t.supportsPwBBroker(),o=t.supportsNaa(),s=hY(e),_hh$temp172=await Sa(),a=_hh$temp172.EventType; if(e.eventType===a.LOGIN_START||e.eventType===a.SSO_SILENT_START){const r=e.payload;ex({apiName:e.eventType,authWorkflowAccountType:"microsoft",interactionType:e.interactionType??void 0,correlationId:r.correlationId,prompt:r.prompt,redirectUri:r.redirectUri,extraInfo:{eventInfo_isBrokered:s,eventInfo_isPwB:n,eventInfo_isNaa:o}})}else if(e.eventType===a.LOGIN_SUCCESS||e.eventType===a.SSO_SILENT_SUCCESS){const r=e.payload&&"account"in e.payload?e.payload.account:null,c=r?!Xo(r.tenantId):void 0,d=e.payload;tx({apiName:e.eventType,authWorkflowAccountType:"microsoft",interactionType:e.interactionType??void 0,correlationId:d.correlationId,authority:d.authority,isMSA:c,extraInfo:{eventInfo_isBrokered:s,eventInfo_isPwB:n,eventInfo_isNaa:o,eventInfo_environment:d.account?.environment,eventInfo_redirectUri:d.redirectUri}})}else if(e.eventType===a.LOGOUT_SUCCESS)rx(),Ao.clear(),nx({apiName:a.LOGOUT_SUCCESS,providerType:"microsoft",extraInfo:{eventInfo_isBrokered:s,eventInfo_isPwB:n,eventInfo_isNaa:o}});else if(e.eventType===a.ACQUIRE_TOKEN_START||e.eventType===a.ACQUIRE_TOKEN_NETWORK_START){cc("msalAcquireTokenStartTime",Date.now().toString());const r=e.payload;if(r.correlationId&&r.redirectUri){if(Ao.size>=gY){const c=Ao.keys().next().value;c?Ao.delete(c):Ao.clear()}Ao.set(r.correlationId,r.redirectUri)}$t({authWorkflowAccountType:"microsoft",apiName:e.eventType,extraInfo:{eventInfo_interactionType:e.interactionType??void 0,eventInfo_correlationId:r.correlationId,eventInfo_redirectUri:r.redirectUri,eventInfo_cacheLookupPolicy:r.cacheLookupPolicy,eventInfo_prompt:r.prompt,eventInfo_isBrokered:s,eventInfo_isPwB:n,eventInfo_isNaa:o,eventInfo_environment:r.account?.environment,authority:r.authority,eventInfo_localAccountId:r.account?.localAccountId,eventInfo_homeAccountId:r.account?.homeAccountId}})}else if(e.eventType===a.ACQUIRE_TOKEN_SUCCESS){jf();const r=Date.now()-parseInt(Lr("msalAcquireTokenStartTime")??"0",10);cc("msalAcquireTokenStartTime","");const c=e.payload;let d;c.correlationId&&(d=Ao.get(c.correlationId),Ao.delete(c.correlationId)),$t({authWorkflowAccountType:"microsoft",apiName:e.eventType,extraInfo:{eventInfo_interactionType:e.interactionType??void 0,eventInfo_correlationId:c.correlationId,eventInfo_expiresOn:c.expiresOn,eventInfo_extExpiresOn:c.extExpiresOn,eventInfo_refreshOn:c.refreshOn,eventInfo_duration:r,eventInfo_fromCache:c.fromCache,eventInfo_isBrokered:s,eventInfo_isPwB:n,eventInfo_isNaa:o,eventInfo_environment:c.account.environment,authority:c.authority,eventInfo_localAccountId:c.account.localAccountId,eventInfo_homeAccountId:c.account.homeAccountId,eventInfo_redirectUri:d}})}else if(e.eventType===a.LOGIN_FAILURE||e.eventType===a.ACQUIRE_TOKEN_FAILURE||e.eventType===a.SSO_SILENT_FAILURE||e.eventType===a.ACQUIRE_TOKEN_BY_CODE_FAILURE||e.eventType===a.LOGOUT_FAILURE){ const _hh$temp173=await Bt.get(),r=_hh$temp173.msal; let c;e.eventType===a.ACQUIRE_TOKEN_FAILURE&&(c=Date.now()-parseInt(Lr("msalAcquireTokenStartTime")??"0",10));const d=e.error;let m;d?.correlationId&&(m=Ao.get(d.correlationId),Ao.delete(d.correlationId));const p=r.getActiveAccount(),h=p?.localAccountId,v=p?.homeAccountId,y=r.getConfiguration().auth.authority;vn({authWorkflowAccountType:"microsoft",apiName:e.eventType,errorType:d?.name??"",errorMessage:d?.message??"",extraInfo:{eventInfo_isBrokered:s,eventInfo_isPwB:n,eventInfo_isNaa:o},errorExtraInfo:{eventInfo_correlationId:d?.correlationId,eventInfo_errorMessage:d?.errorMessage,eventInfo_errorCode:d?.errorCode,eventInfo_name:d?.name,eventInfo_interactionType:e.interactionType??void 0,eventInfo_subError:d?.subError,eventInfo_duration:c,eventInfo_environment:p?.environment,authority:y,eventInfo_localAccountId:h,eventInfo_homeAccountId:v,eventInfo_redirectUri:m}})}else $t({authWorkflowAccountType:"microsoft",apiName:e.eventType,extraInfo:{eventInfo_interactionType:e.interactionType??void 0,eventInfo_isBrokered:s,eventInfo_isPwB:n,eventInfo_isNaa:o}})}function Xo(e){return e!==PN}function jC(e){$t({apiName:"msal:silentSSOCustomSuccess",authWorkflowAccountType:"microsoft",duration:e.duration,extraInfo:{eventInfo_accountUpdate:e.accountUpdate,eventInfo_accountType:e.accountType,eventInfo_message:e.message,eventInfo_edgeHasAccount:e.edgeProfileData?.hasAccount,eventInfo_edgeAccountType:e.edgeProfileData?.accountType,eventInfo_edgeIsInGoodState:e.edgeProfileData?.isInGoodState}})}function BC(e){vn({apiName:"msal:silentSsoCustomError",authWorkflowAccountType:"microsoft",errorMessage:e.message,errorCode:e.errorCode,extraInfo:{eventInfo_edgeHasAccount:e.edgeProfileData?.hasAccount,eventInfo_edgeAccountType:e.edgeProfileData?.accountType,eventInfo_edgeIsInGoodState:e.edgeProfileData?.isInGoodState}})}function D1(e){try{return  new URL(e,__get$(window,"location").origin) .origin!== __get$(window,"location") .origin}catch{return!1}}function O1(e){j(Wa)&&D1(e)?_e().set(y1,e.toString()): __set$(__get$(window,"location"),"href",e) }function Gs(){ix()}function ix(e){ const _hh$temp174=Z.instance().config(),t=_hh$temp174.surfaceQueryParam,n=new URL(__get$(__get$(window,"location"),"href")); if(e&&(n.pathname=e),t)for(const _hh$temp175 of Object.entries(t.params)) {const _hh$temp176=__arrayFrom$(_hh$temp175),o=_hh$temp176[0],s=_hh$temp176[1];n.searchParams.delete(o),n.searchParams.append(o,s);} O1( __get$(n,"href") )}function U1(e){const t=e.split(".")[1];if(t===void 0)return;const n= __call$(__call$(t,"replace",[/-/g,"+"]),"replace",[/_/g,"/"]) ,o=decodeURIComponent(atob(n).split("").map(s=>`%${`00${s.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));try{const s=JSON.parse(o);return jK.parse(s)}catch{return}}async function yY(e,t){ const _hh$temp177=await Po.get(),n=_hh$temp177.getAuth0AccessToken,_hh$temp178=em(),o=_hh$temp178.authorizationParams,s={...o,dob:e,ctry:t},a=await n({authorizationParams:s,cacheMode:"off"}); if(!a)return;const r=U1(a);if(r)return r}async function CY(){ const _hh$temp179=await Po.get(),e=_hh$temp179.getAuth0AccessToken,t=await e(em()); if(!t)return;const n=U1(t);if(n){if(n.sub.startsWith("google"))return"Google";if(n.sub.startsWith("apple"))return"Apple"}}function SY(e){switch(e){case"apple":return"Apple";case"google":return"Google";case"msa":return"MSA";default:return}}async function F1(e=!0){ const _hh$temp180=await Bt.get(),t=_hh$temp180.msal,n=t.getActiveAccount(); await t.clearCache({account:n}),e&&Gs()}const Bf=new BroadcastChannel("cp.broadcast");class bY{hasTrackedRedirectError=!1;CODE_RE=/[?&]code=[^&]+/;STATE_RE=/[?&]state=[^&]+/;ERROR_RE=/[?&]error=[^&]+/;async handleRedirectWithoutAccount(){try{ const _hh$temp181=await Po.get(),t=_hh$temp181.auth0; if(this.hasAuthParams()){const n=performance.now();await t.handleRedirectCallback();const o=performance.now();jo({feature:"auth0SdkUsage",scenario:"handleRedirect",duration:o-n});const s=await t.getUser();if(!s)return;const a=s.sub?this.getTokenType(s.sub):void 0;tx({apiName:Yn.LOGIN_SUCCESS,authWorkflowAccountType:a}), __call$(Bf,"postMessage",[{eventName:"auth0.accountAdded"}]) }}catch(t){this.trackRedirectErrorOncePerSession(t)}}async getCurrentActiveUserAccount(){ const _hh$temp182=await Po.get(),t=_hh$temp182.auth0,n=await t.getUser(); if(!n)return null; const _hh$temp183=n,o=_hh$temp183.sub; return o?{id:o,tenantId:crypto.randomUUID(),provider:"auth0",accountType:this.getAccountType(o)}:null}async logIn(t){const n=t?.connection;if(!n)throw new Error("connection in LoginOpts are required"); const _hh$temp184=await Po.get(),o=_hh$temp184.auth0; return ex({apiName:Yn.LOGIN_START,authWorkflowAccountType:t.connection??void 0}),ft(dg),ft(yd),ft(_u),ft(ku),ft(ac),o.loginWithRedirect({authorizationParams:{...YK().authorizationParams,connection:this.getConnectionFromTokenType(n)}})}async logOut(){ const _hh$temp185=await Po.get(),t=_hh$temp185.auth0,n=await t.getUser(),o=n&&n.sub?this.getTokenType(n.sub):void 0; try{await t.logout({logoutParams:{returnTo: __get$(window,"location") .origin}}), __call$(Bf,"postMessage",[{eventName:"auth0.accountRemoved"}]) ,nx({apiName:Yn.LOGOUT_SUCCESS,providerType:"auth0"})}catch(s){vn({authWorkflowAccountType:o,apiName:Yn.LOGOUT_FAILURE,errorMessage:String(s),errorExtraInfo:{eventInfo_providerType:"auth0"}}),console.error("Auth0 logout failed:",s)}}async getAuthToken(t="login"){if(t!=="graph")try{ const _hh$temp186=await Po.get(),n=_hh$temp186.auth0,o=_hh$temp186.getAuth0AccessToken,s=await o(em()); if(!s)return;const a=await n.getUser();if(a){const r=a.sub,c=this.getTokenType(r);return{accessToken:s,tokenType:c}}}catch{return}}async getUserInfo(){ const _hh$temp187=await Po.get(),t=_hh$temp187.auth0,n=await t.getUser(); if(n)return A1()&&(n.picture&&qt(ku,n.picture),n.given_name&&qt(ac,n.given_name)),{mail:n.email??"",givenName:n.given_name??"",surname:n.surname??"",imgSrc:n.picture,isStudent:!1}}async getUserInfoFromToken(t){const n=U1(t);if(!n)return; const _hh$temp188=n,o=_hh$temp188.email,s=_hh$temp188.name; return{mail:o,givenName:s.split(" ")[0]??"",surname:"",imgSrc:"",isStudent:!1}}supportsTokenType(t){return t==="apple"||t==="google"}getTokenType(t){return t.startsWith("google")?"google":"apple"}getAccountType(t){return t.startsWith("google")?"Google":"Apple"}getConnectionFromTokenType(t){return t==="apple"?"apple":"google-oauth2"}hasAuthParams(t= __get$(window,"location") .search){return(this.CODE_RE.test(t)||this.ERROR_RE.test(t))&&this.STATE_RE.test(t)}trackRedirectErrorOncePerSession(t){this.hasTrackedRedirectError||(R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"auth0HandleRedirectPromise",eventInfo_details:"Error handling redirect promise",eventInfo_errorMessage:String(t)}}),vn({apiName:Yn.LOGIN_FAILURE,errorExtraInfo:{eventInfo_providerType:"auth0"},errorMessage:String(t)})),this.hasTrackedRedirectError=!0}}const IY=["CAREERCOACH_STUDENTS","EXCHANGESTANDARD_STUDENT","M365EDU_A3_STUDENT","M365EDU_A3_STUUSEBNFT","M365EDU_A3_STUUSEBNFT_RPA1","M365EDU_A5_STUDENT","M365EDU_A5_STUUSEBNFT","M365EDU_A5_NOPSTNCONF_STUUSEBNFT","OFFICESUBSCRIPTION_STUDENT","ATP_ENTERPRISE_STUDENT","ATP_ENTERPRISE_STUDENTS_USE_BENEFIT","POWER_BI_STANDARD_STUDENT","MCOEV_STUDENT","MEE_STUDENT","STANDARDWOFFPACK_STUDENT","STANDARDWOFFPACK_IW_STUDENT","ENTERPRISEPACKPLUS_STUDENT","ENTERPRISEPREMIUM_STUDENT","WIN10_ENT_A3_STU","MCO_TEAMS_EDU_HS_STUDENT","PROJECT_PROFESSIONAL_STUDENT","PROJECT_P1_STUDENT"];async function j1(e){ const _hh$temp189=await D(async ()=>{const _hh$temp190=await import(__get$ProxyUrl("./index-CsddE2Rg.js","https://copilot.microsoft.com/static/cmc/assets/")),n=_hh$temp190.Client;return{Client:n};},__vite__mapDeps([9,10,11])),t=_hh$temp189.Client; return t.init({authProvider:n=>{n(null,e)}})}async function vp(e,t){const n=performance.now(),o=await t;return R.trackEvent({name:"system",data:{eventName:"externalApiResponse",eventInfo_id:e,eventInfo_duration:performance.now()-n,eventInfo_service:"microsoft-graph"}}),o}async function EY(e){return(await j1(e)).api(P1.graphMeApiSuffix).get()}async function wY(e){try{const n=await(await j1(e)).api(P1.graphMeImageApiSuffix).get();return URL.createObjectURL(n)}catch{return}}async function TY(e){if(j(Lc))try{const o=await(await j1(e)).api(P1.graphMeLicenseDetails).get();return o&&o.value.some(a=>a.skuPartNumber&&IY.includes(a.skuPartNumber))}catch(n){return console.error("Error checking student status:",n),!1}else return!1}async function VC(e){ const _hh$temp191=__arrayFrom$(await Promise.all([vp("user",EY(e)),vp("user_photo",wY(e)),vp("is_student",TY(e))])),t=_hh$temp191[0],n=_hh$temp191[1],o=_hh$temp191[2]; return{...t,imgSrc:n,isStudent:o}}class xY{hasTrackedRedirectError=!1;isHandlingRedirect=!1;async handleRedirectWithoutAccount(){try{ const _hh$temp192=await Bt.get(),t=_hh$temp192.msal; this.isHandlingRedirect&&vn({authWorkflowAccountType:"microsoft",apiName:os.INTERACTION_IN_PROGRESS,errorType:"interaction_in_progress",errorMessage:"Attempted to call handleRedirectPromise while already handling a redirect"}),this.isHandlingRedirect=!0;try{const n=await t.handleRedirectPromise();if(n){t.setActiveAccount(n.account);const o=Xt("loginHintRedirectPath");uo("loginHintRedirectPath"),o&&window.history.pushState({from:"/"},"",o),iY(),aY({authWorkflowAccountType:"microsoft",apiName:"msal:reauthSuccess"}),FK()&&this.testThirdPartyCookieSupport(n.account)}}finally{this.isHandlingRedirect=!1}}catch(t){this.trackRedirectErrorOncePerSession(t)}}async logIn(){ const _hh$temp193=await Bt.get(),t=_hh$temp193.msal,n={...k1()},o=this.buildRedirectUri(); return o&&(n.redirectUri=o),jf(),t.loginRedirect(n)}buildRedirectUri(){ const _hh$temp194=Z.instance().config(),t=_hh$temp194.surfaceQueryParam,n=new URLSearchParams(); let o;if(t?.useForLoginRedirect)for(const _hh$temp195 of Object.entries(t.params)) {const _hh$temp196=__arrayFrom$(_hh$temp195),a=_hh$temp196[0],r=_hh$temp196[1];n.set(a,r);} const s= new URLSearchParams(__get$(window,"location").search) .get("back");return s&&n.set("back",s),n.toString()&&(o=`${ __get$(window,"location") .origin}?${n}`),o}async logOut(){ const _hh$temp197=await Bt.get(),t=_hh$temp197.msal,n=t.getActiveAccount(); rx(),await t.logoutRedirect({account:n,onRedirectNavigate:()=>!1}),R.setPicassoId(null)}async getAuthToken(t="login"){const n=await(await Bt.get()).getMsalAccessToken(t);return n&&(lY()||R.trackEvent({name:"system",data:{eventName:"msalUnmarkedGetToken"}}),jf()),n}async getUserInfo(){const t=await this.getAuthToken("graph");if(t)return VC(t.accessToken)}async getUserInfoFromToken(t){return VC(t)}supportsTokenType(t){return t===void 0}trackRedirectErrorOncePerSession(t){this.hasTrackedRedirectError||R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"msalHandleRedirectPromise",eventInfo_details:"Error handling redirect promise",eventInfo_errorMessage:String(t)}}),this.hasTrackedRedirectError=!0}async getAccount(){ const _hh$temp198=await Bt.get(),t=_hh$temp198.msal,n=t.getAllAccounts(),o=t.getActiveAccount(); if((n.length>1||n.length===1&&o?.homeAccountId!==n[0]?.homeAccountId)&&$t({authWorkflowAccountType:"microsoft",apiName:"msal:getAllAccounts",extraInfo:{eventInfo_accountCount:n.length,eventInfo_accountTypes:n.map(s=>Xo(s.tenantId)?"AAD":"MSA")}}),n.length!==0){if(n.length===1)return n[0];if(n.length>1&&o)return o}}async tryActivateMigratedAccount(){ const _hh$temp199=await Bt.get(),t=_hh$temp199.msal,n=t.getAllAccounts(); if(!t.getActiveAccount()&&n.length>0&&n[0]){const s=n[0];return t.setActiveAccount(s),{id:s.idTokenClaims?.oid??"",tenantId:s.tenantId,provider:"microsoft",accountType:Xo(s.tenantId)?"AAD":"MSA"}}}async getCurrentActiveUserAccount(){const t=await this.getAccount();return t?{id:t.idTokenClaims?.oid??"",tenantId:t.tenantId,provider:"microsoft",accountType:Xo(t.tenantId)?"AAD":"MSA"}:null}async NAAGetTokenAndSetAccount(){ const _hh$temp200=await Bt.get(),t=_hh$temp200.msal,n=await this.getAuthToken(); if(n){const o=await this.getAccount();return o?(t.setActiveAccount(o),{userAccount:{id:o.idTokenClaims?.oid??"",tenantId:o.tenantId,provider:"microsoft",accountType:Xo(o.tenantId)?"AAD":"MSA"},authToken:n}):null}return null}async cleanCache(){ const _hh$temp201=await Bt.get(),t=_hh$temp201.msal,n=await this.getAccount(); await t.logoutRedirect({account:n,onRedirectNavigate:()=>!1})}async testThirdPartyCookieSupport(t){try{ const _hh$temp202=await Bt.get(),n=_hh$temp202.msal,o={...zT(),account:t}; await n.ssoSilent(o),$t({authWorkflowAccountType:"microsoft",apiName:os.SSO_SILENT_SUCCESS_AFTER_LOGIN,extraInfo:{eventInfo_localAccountId:t.localAccountId,eventInfo_homeAccountId:t.homeAccountId}})}catch(n){vn({authWorkflowAccountType:"microsoft",apiName:os.SSO_SILENT_FAILURE_AFTER_LOGIN,errorType:n instanceof Error?n.name:"unknown",errorMessage:n instanceof Error?n.message:String(n),extraInfo:{eventInfo_localAccountId:t.localAccountId,eventInfo_homeAccountId:t.homeAccountId}})}}}class Oe{middlewares=[];add(t){this.middlewares.push(t)}async run(t){let n={...t};for(const o of this.middlewares)try{n=await o(n)}catch{continue}return n}}class ni{handlers=[];add(t){this.handlers.push(t)}run(t){let n={...t};for(const o of this.handlers)try{n=o(n)}catch{continue}return n}}const cx=new Oe,AY=new Oe,HC=new Oe,_Y=new Oe,kY=new Oe,PY=new Oe,MY=new Oe,RY=new Oe,da=new Oe,lx=new ni,yp=new ni,NY=new ni,LY=new Oe,uAe=new Oe,dAe=new Oe,DY=new Oe,OY=new Oe,UY=new Oe,FY=new Oe,mAe=new Oe,zC=new Oe,jY=new Oe,BY=new Oe,pAe=new Oe,fAe=new Oe,hAe=new Oe,gAe=new Oe,VY=new Oe,HY=new Oe,vAe=new Oe,zY=new Oe,GY=new Oe,WY=new Oe,ux=new Oe,$Y=new Oe,qY=new Oe,B1=new Oe,yAe=new ni,KY=new Oe,CAe={ContextualConsent:"ContextualConsent",ContextualSuggestionConsent:"ContextualSuggestionConsent",VideoTranscriptConsent:"VideoTranscriptConsent"},SAe=new Oe,bAe=new Oe,IAe=new Oe,EAe=new Oe,YY=new ni,ZY=new Oe,JY=new Oe,wAe=new Oe,QY=new ni,TAe=new Oe,XY=new Oe,xAe=new Oe,AAe=new Oe,_Ae=new Oe,eZ=new Oe,kAe=new Oe,tZ=new Oe,nZ=new Oe,Di=new Oe,PAe=new Oe,MAe=new Oe;async function oZ(e,t){if(A1()&&(Mt(_u)==="true"||Mt(yd)==="true")){const o=await e.getCurrentActiveUserAccount(),s=await t.getCurrentActiveUserAccount();o&&s&&await e.cleanCache()}}class Dn{static#e=null;providers;constructor(){this.providers={microsoft:new xY,auth0:new bY}}getAadAccount(){return j(rC)}getNonAadAccount(){return j(iC)}getCurrentActiveAccount(){return j(mt)}setUserAccountWithMultiAccountSupport(t){t&&(t.accountType==="AAD"?ye(rC,t):ye(iC,t)),ye(mt,t),R.setUserAccountType(t?.accountType)}switchToAadAccount(){const t=this.getAadAccount();return t?(ye(mt,t),R.setUserAccountType(t.accountType),!0):!1}switchToNonAadAccount(){const t=this.getNonAadAccount();return t?(ye(mt,t),R.setUserAccountType(t.accountType),!0):!1}hasBothAccountTypes(){return this.getAadAccount()!==null&&this.getNonAadAccount()!==null}async handleRedirectWithoutAccount(){await this.providers.microsoft.handleRedirectWithoutAccount(),Z.instance().config().enableAuth0&&await this.providers.auth0.handleRedirectWithoutAccount()}async hasBothMsalAndAuth0Accounts(){const t=await this.providers.microsoft.getCurrentActiveUserAccount(),n=await this.providers.auth0.getCurrentActiveUserAccount();return!!(t&&n)}async getCurrentActiveUserAccountAndSetGlobalUserAccount(){if(await oZ(this.providers.microsoft,this.providers.auth0),A1()&&await this.providers.auth0.getCurrentActiveUserAccount()){const a=await this.providers.microsoft.tryActivateMigratedAccount();if(a){this.setUserAccount(a);return}}const n=await this.providers.microsoft.getCurrentActiveUserAccount();if(n){this.setUserAccount(n);return}if(!Z.instance().config().enableAuth0)return;const o=await this.providers.auth0.getCurrentActiveUserAccount();o&&this.setUserAccount(o)}static instance(){return  __get$(Dn,"e") ||(Dn.#e=new Dn), __get$(Dn,"e") }getCurrentProvider(){const t=j(mt);return t? __get$(this.providers,t.provider) :null}async getAccountFromProviders(){return this.getCurrentProvider()?.getCurrentActiveUserAccount()??null}setUserAccount(t){this.setUserAccountWithMultiAccountSupport(t)}async getAuthToken(t="login"){const n=await HC.run({type:t});if(n.isHandled){if(t==="login"&&n.authToken?.tokenType!==void 0){const s=SY(n.authToken.tokenType);R.setUserAccountType(s)}return n.authToken}const o=this.getCurrentProvider();if(!o&&t==="login"){if((await L1.get()).supportsNaa()){const a=await this.providers.microsoft.NAAGetTokenAndSetAccount();if(a){ const _hh$temp203=a,r=_hh$temp203.authToken,c=_hh$temp203.userAccount; return this.setUserAccount(c),r}}return}return o?.getAuthToken(t)}async getUserInfo(){const t=await HC.run({type:"graph"});if(t.isHandled){if(!t.authToken)return; const _hh$temp204=t.authToken,o=_hh$temp204.tokenType,s=_hh$temp204.accessToken,a=o!=="msa"?o:void 0; if(this.providers.microsoft.supportsTokenType(a))return this.providers.microsoft.getUserInfoFromToken(s);if(this.providers.auth0.supportsTokenType(a)){const r=await this.providers.auth0.getUserInfoFromToken(s);if(r)return r}return}const n=this.getCurrentProvider();if(n)return n.getUserInfo()}logIn(t,n){return  __get$(this.providers,t) .logIn(n)}async logOut(){const t=this.getCurrentProvider();if(!t)return Promise.resolve();if(Z.instance().config().enableAuth0&&$("3p-migration-phase-1")){const n=t===this.providers.microsoft?this.providers.auth0:this.providers.microsoft;await n.getCurrentActiveUserAccount()&&await n.logOut()}return await t.logOut(),this.setUserAccount(null),Promise.resolve()}async initAuthAccount(){await this.handleRedirectWithoutAccount(),await this.getCurrentActiveUserAccountAndSetGlobalUserAccount()}}function dx(){return null}function sZ(){return null}function mx(){return null}function px( _hh$temp205 ){ var e=_hh$temp205.featureOverrides,t=_hh$temp205.localFeatureOverrides,n=_hh$temp205.localFeaturesToDisable,o=_hh$temp205.serverFeatures,s=_hh$temp205.surfaceConfig; const a=new Set([...o]);s.settingsOverrides?.shouldHideShopping&&a.delete("shopping-card"),s.startInVoice&&a.add("start-in-voice");for(const r of e)a.add(r);for(const r of t)a.add(r);for(const r of n)a.delete(r);return Array.from(a)}function fx(){return[]}function hx(){return[]}async function V1(){ const _hh$temp206=await Bt.get(),e=_hh$temp206.msal; return e.getActiveAccount()}async function H1(){const e=await V1();return e?Xo(e.tenantId):!1}async function RAe(){const e=await V1();if(!(!e||!Xo(e.tenantId)))return e}async function aZ(){const e=await V1();if(!(!e||Xo(e.tenantId)))return e}async function rZ(){return(await Bt.get()).getMsalAccessToken("oneDrive")}async function NAe(){if(!await H1())return; const _hh$temp207=await Bt.get(),e=_hh$temp207.msal,t=e.getActiveAccount(); t&&e.clearCache({account:t})}const gx="urlFeatureOverrides";function iZ(){return typeof window>"u"?null:sessionStorage.getItem(gx)}function vx(){const e=iZ();return e?e.split(",").map(n=>n):[]}function cZ(){const e=Rt("features");return e?.trim()&&typeof window<"u"&&sessionStorage.setItem(gx,e.trim()),vx()}function lZ(){const e=Xt("chatWebSocketSessionId");if(e)return e;const t=crypto.randomUUID();return lo("chatWebSocketSessionId",t),t}const uZ={VITE_API_URL:"copilot.microsoft.com/c/api"};async function yx(e,t){try{return await e.json()}catch(n){throw(n instanceof SyntaxError||n instanceof TypeError||n instanceof DOMException)&&A$(n,e,t),n}}function Cx(e={}){ const _hh$temp208=e,_hh$temp208$query=_hh$temp208.query,t=_hh$temp208$query===void 0?{}:_hh$temp208$query,n=new URLSearchParams(); for(const _hh$temp209 of Object.entries(t)) {const _hh$temp210=__arrayFrom$(_hh$temp209),c=_hh$temp210[0],d=_hh$temp210[1];n.append(c,d);} const o=px({featureOverrides:vx(),localFeatureOverrides:fx(),localFeaturesToDisable:hx(),serverFeatures:[],surfaceConfig:Z.instance().config()}).join(",");o&&(n.append("features",o),n.append("setflight",o));const s=dx();s&&(n.append("promptBranch",s),sZ()&&n.append("useSxs","true"));const a=mx();a&&n.append("sxsFeature",a); const _hh$temp211=Z.instance().config(),r=_hh$temp211.surfaceQueryParam; if(r)for(const _hh$temp212 of Object.entries(r.params)) {const _hh$temp213=__arrayFrom$(_hh$temp212),c=_hh$temp213[0],d=_hh$temp213[1];n.append(c,d);} return n}function Sx(e){return e!==void 0&&e.tokenType!==void 0&&e.tokenType!=="msa"}async function Vf(e,t){ const _hh$temp214=uZ,n=_hh$temp214.VITE_API_URL; let o;if(VT()?o=`${ __get$(window,"location") .host}/c/api`:o=n,!o)throw new Error("Cannot initialize websocket because the required env vars are not set: VITE_API_URL");const s={...t,"api-version":"2",clientSessionId:lZ()},a=await Dn.instance().getAuthToken(),r=await H1();a&&(!r||Qc())&&(s.accessToken=a.accessToken,Sx(a)&&(s["X-UserIdentityType"]=a.tokenType)),a===void 0?ZT(e,"getWssAPIUrl"):JT(e,"getWssAPIUrl"),j(Dr)&&(s.appFlavor="beta");const d=Cx({query:s});return`wss://${o}/${e}?${d}`}function dZ(e,t){const n=[HT(),e],o=Cx({query:t});return o.toString()&&n.push("?",String(o)),n.join("")}function mZ(e,t,n){if(e.attemptCount>1){const o=e.errors.filter(c=>c.errorType==="RequestTimeoutError").length,s= __get$(e.errors,e.errors.length-1) ,a=s?.errorType,r=s?.errorMessage;R.trackEvent({name:"system",data:{eventName:"copilotFeatureSuccess",eventInfo_feature:"apiRetry",eventInfo_scenario:t,eventInfo_duration:e.endTime-e.startTime,eventInfo_customData:JSON.stringify({attemptCount:e.attemptCount,errorCount:e.errors.length,timeoutErrorCount:o,delayTimings:e.delayTimings,lastErrorType:a,lastErrorMessage:r})}})}n?.(e)}function pZ(e,t,n){const o=e.exitReason==="requestTimeout",s={path:t,attemptCount:e.attemptCount,totalDuration:e.endTime-e.startTime,exitReason:e.exitReason,errorCount:e.errors.length,isTimeoutFailure:o,lastErrorType: __get$(e.errors,e.errors.length-1) ?.errorType,lastErrorMessage: __get$(e.errors,e.errors.length-1) ?.errorMessage,delayTimings:e.delayTimings};R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ApiRetryFailure",eventInfo_errorMessage:o?`API retry failed due to timeout after ${e.attemptCount} attempts`:`API retry failed after ${e.attemptCount} attempts. Exit reason: ${e.exitReason}`,eventInfo_details:JSON.stringify(s)}}),n?.(e)}function fZ(e,t,n){R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ApiRetryTimeout",eventInfo_errorMessage:`Request timed out after ${e.timeoutMs}ms (attempt ${e.attemptCount})`,eventInfo_details:JSON.stringify({timeoutMs:e.timeoutMs,attemptCount:e.attemptCount,errorCount:e.errors.length,delayTimings:e.delayTimings,scenario:t,duration:e.endTime-e.startTime})}}),n?.(e)}async function hZ(e,t={}){return bx(gZ,e,t)}async function gZ(e){const t=await Ix(e);let n;return t.ok&&(n=await yx(t,e.analytics?.anonymousPath??e.path)),{response:t,data:n}}async function bx(e,t,n={}){ const _hh$temp215=n,o=_hh$temp215.options,s=_hh$temp215.query,a=_hh$temp215.analytics,r=_hh$temp215.retry,c=_hh$temp215.requestTimeoutMs; if(r){ const _hh$temp216=r,d=_hh$temp216.onSuccess,m=_hh$temp216.onFailure,p=_hh$temp216.onTimeout,h=_hh$temp216.retryOn401,v={...r,onSuccess:C=>{mZ(C,a?.anonymousPath??t,d);},onFailure:C=>{pZ(C,a?.anonymousPath??t,m);},onTimeout:C=>{fZ({...C,timeoutMs:c??-1},a?.anonymousPath??t,p);}}; return Aa(c?()=>f8(C=>e({path:t,options:o,query:s,analytics:a,abortController:C,retryOn401:h}),c):()=>e({path:t,options:o,query:s,analytics:a,retryOn401:h}),v)}return e({path:t,options:o,query:s,analytics:a})}async function vo(e,t={}){return bx(Ix,e,t)}async function Ix(e){ const _hh$temp217=e,t=_hh$temp217.path,n=_hh$temp217.options,o=_hh$temp217.query,s=_hh$temp217.analytics,a=_hh$temp217.abortController,r=_hh$temp217.retryOn401,c=new Headers(n?.headers); st.resolvedLanguage?c.set("X-Search-UILang",st.resolvedLanguage.toLowerCase()):st.language&&c.set("X-Search-UILang",st.language.toLowerCase());const d=await Dn.instance().getAuthToken(),m=await H1();d&&(!m||Qc())&&(c.set("Authorization",`Bearer ${d.accessToken}`),Sx(d)&&c.set("X-UserIdentityType",d.tokenType)),d===void 0?ZT(t,"fetchApi"):JT(t,"fetchApi"),j(Dr)&&c.set("X-Copilot-App-Flavor","beta");const h=performance.now(),v=await fetch(dZ(t,o),{signal:a?.signal,...n,credentials:"include",headers:c}),y=performance.now();if(gT(s?.anonymousPath??t,n?.method??"GET",y-h,v.clone()),ic.trackLatestApiAssignment(v.headers),r&&v.status===401)throw new Id(`401 Unauthorized: ${t}`,{statusCode:401,route:t});return v}async function Nt( _hh$temp218 ){ var e=_hh$temp218.path,_hh$temp218$args=_hh$temp218.args,t=_hh$temp218$args===void 0?{}:_hh$temp218$args; const n={method:"POST",...t.options,headers:{"Content-Type":"application/json",...t.options?.headers},body:t.body?JSON.stringify(t.body):void 0};return vo(e,{...t,options:n})}async function ut(e,t,n={}){ const _hh$temp219=n,o=_hh$temp219.analytics,s=_hh$temp219.onFailedRequest,a=o?.anonymousPath??e; let r,c;if(n.returnResponseWithData){const y=await hZ(e,n);r=y.response,c=y.data}else r=await vo(e,n);let d=!0;if(!r.ok&&s&&(d=!!s(r)),!d)return{data:void 0,response:{ok:r.ok,status:r.status,headers:r.headers},zodError:void 0};const m=n.returnResponseWithData?c:await yx(r,a);let p,h; const _hh$temp220=n.parseOptions??{},v=_hh$temp220.safe; if(v)try{const y=t.safeParse(m);y.error&&Tr(y.error,a,!0),p=m,h=y.error}catch(y){Tr(y,a,!0),p=m}else try{p=t.parse(m)}catch(y){throw y instanceof ec&&Tr(y,a,!1),y}return{data:p,response:{ok:r.ok,status:r.status,headers:r.headers},zodError:h}}class vZ{generateClientEventId(t){if(this.shouldLogForEventName(t.data.eventName))return crypto.randomUUID()}onBeforeTrackEvent(t){this.logEventIfNeededNonBlocking(t,"prepared")}eventsSent(t){for(const n of t)this.logEventIfNeededNonBlocking(n,"success")}eventsDiscarded(t,n){for(const o of t)this.logEventIfNeededNonBlocking(o,this.getStatusFromDiscardedReason(n))}logEventIfNeededNonBlocking(t,n){this.logEventIfNeeded(t,n).catch(()=>{})}async logEventIfNeeded(t,n){this.shouldLogForEventName(t.data?.eventName)&&await vo("/client-telemetry",{options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:t.data?.eventInfo_clientEventId,eventName:t.data?.eventName,status:n,retryCount:"sendAttempt"in t?t.sendAttempt:0,appInfoName:t.data?.appName,userId:t.data?.userPicassoId,userMuid:t.data?.userMuid,conversationId:t.data?.eventInfo_conversationId,messageId:t.data?.eventInfo_messageId,isSdkInitialized:!0,clientTimestamp:t.time??new Date().toISOString()})}})}getStatusFromDiscardedReason(t){switch(t){case 1:return"nonRetryableStatus";case 2:return"invalidEvent";case 3:return"sizeLimitExceeded";case 4:return"killSwitch";case 5:return"queueFull";default:return"unknown"}}shouldLogForEventName(t){switch(t){case"copilotCompose":case"copilotResponseRender":case"copilotStart":return!0;default:return!1}}}const GC={global:["https://ad.doubleclick.net/ddm/activity/src=8406097;type=ofco;cat=lrn_uni;u1={REGION};u2={LANG_LOCALE};u6=CMC;u50=submit_message;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;ord=1;num={CACHE_BUSTER}"],us:["https://px.ads.linkedin.com/collect/?fmt=gif&pid=7850&url=copilot.microsoft.com/ChatSend","https://secure.adnxs.com/px?id=1869141&t=2","https://servedby.flashtalking.com/spot/1/5155;147512;16638/?spotName=USA_FY25H2_Copilot_Consumer_Chat_Send_button_FT_2_7_25&cachebuster={CACHE_BUSTER}","https://alb.reddit.com/rp.gif?id=a2_gi5vc4m557wn&event=Custom&m.customEventName=COPChatSend&integration=noscript","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=SendMessage&event_id={CACHE_BUSTER}","https://tr.snapchat.com/p?pid=68db1ef4-2290-4224-a91a-df01d273a994&ev=START_CHECKOUT&v=2.3&rand={CACHE_BUSTER}&pl=https://copilot.microsoft.com/","https://tr.snapchat.com/cm/s?pnid=140","https://www.facebook.com/tr?id=1770559986549030&ev=COPChatSend&noscript=1","https://insight.adsrvr.org/track/pxl/?adv=tq5ketp&ct=0:e8n8utj&fmt=3&td1={td1}&td2={td2}&td3={td3}&td4={td4}&td5={td5}&td6={td6}"],gb:["https://secure.adnxs.com/px?id=1869542&t=2&seg=39793132&consent={CONSENT}","https://px.ads.linkedin.com/collect/?fmt=gif&pid=7850&url=copilot.microsoft.com/ChatSend","https://servedby.flashtalking.com/spot/1/3360;147492;16970/?spotName=GBR_FY25H2_Copilot_Consumer_Chat_Send_FT_2_7_25&cachebuster={CACHE_BUSTER}","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=SendMessage&event_id={CACHE_BUSTER}","https://www.facebook.com/tr?id=1770559986549030&ev=COPChatSend&noscript=1","https://tr.snapchat.com/p?pid=68db1ef4-2290-4224-a91a-df01d273a994&ev=START_CHECKOUT&v=2.3&rand={CACHE_BUSTER}&pl=https://copilot.microsoft.com/","https://tr.snapchat.com/cm/s?pnid=140","https://insight.adsrvr.org/track/pxl/?adv=csnj4o5&ct=0:7s8ltxf&fmt=3&td1={td1}&td2={td2}&td3={td3}&td4={td4}&td5={td5}&td6={td6}"],other:["https://www.facebook.com/tr?id=1770559986549030&ev=COPChatSend&noscript=1","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=SendMessage&event_id={CACHE_BUSTER}"]},du={onPageLoad:{global:["https://ad.doubleclick.net/ddm/activity/src=8406097;type=ofco;cat=lp_uniq;u1={REGION};u2={LANG_LOCALE};u6=CMC;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;ord=1;num={CACHE_BUSTER}"],us:["https://www.facebook.com/tr?id=1770559986549030&ev=PageView&noscript=1","https://px.ads.linkedin.com/collect/?fmt=gif&pid=7850&url=copilot.microsoft.com/custom-pageload","https://secure.adnxs.com/px?id=1869069&t=2","https://servedby.flashtalking.com/spot/1/5155;147507;16638/?spotName=USA_FY25H2_Copilot_Consumer_Page_Load_FT_2_7_25&cachebuster={CACHE_BUSTER}","https://alb.reddit.com/rp.gif?id=a2_gi5vc4m557wn&event=PageVisit&integration=noscript","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=ViewContent&event_id={CACHE_BUSTER}","https://tr.snapchat.com/p?pid=68db1ef4-2290-4224-a91a-df01d273a994&ev=PAGE_VIEW&v=2.3&rand={CACHE_BUSTER}&pl=https://copilot.microsoft.com","https://tr.snapchat.com/cm/s?pnid=140","https://insight.adsrvr.org/track/pxl/?adv=tq5ketp&ct=0:tzodkxv&fmt=3&td1={td1}&td2={td2}&td3={td3}&td4={td4}&td5={td5}&td6={td6}"],gb:["https://www.facebook.com/tr?id=1770559986549030&ev=PageView&noscript=1","https://px.ads.linkedin.com/collect/?fmt=gif&pid=7850&url=copilot.microsoft.com/custom-pageload","https://secure.adnxs.com/px?id=1869539&seg=39793125&t=2&consent={CONSENT}","https://servedby.flashtalking.com/spot/1/3360;147490;16970/?spotName=GBR_FY25H2_Copilot_Consumer_Page_Load_FT_2_7_25&cachebuster={CACHE_BUSTER}","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=ViewContent&event_id={CACHE_BUSTER}","https://tr.snapchat.com/p?pid=68db1ef4-2290-4224-a91a-df01d273a994&ev=PAGE_VIEW&v=2.3&rand={CACHE_BUSTER}&pl=https://copilot.microsoft.com","https://tr.snapchat.com/cm/s?pnid=140","https://insight.adsrvr.org/track/pxl/?adv=csnj4o5&ct=0:2slc99p&fmt=3&td1={td1}&td2={td2}&td3={td3}&td4={td4}&td5={td5}&td6={td6}"],other:["https://www.facebook.com/tr?id=1770559986549030&ev=PageView&noscript=1","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=ViewContent&event_id={CACHE_BUSTER}"]},onMessageSend:GC,onStartVoiceChat:GC,onSuggestionChipClicked:{global:[],us:[],gb:[],other:[]},onDiscoverCardClicked:{global:[],us:[],gb:[],other:[]},onQueryParamSubmit:{global:[],us:[],gb:[],other:[]}},yZ={onPageLoad:{behavior:20,Content:{Id:"CMCChatLoaded",cN:"CMC Chat Loaded"}},onMessageSend:{behavior:63,Content:{Id:"ChatManualMessage",cN:"Chat Manual Message"}},onStartVoiceChat:{behavior:300,Content:{Id:"VoiceMessageClick",cN:"Voice Message Click"}},onSuggestionChipClicked:{behavior:60,Content:{Id:"SuggestionChipClicked",cN:"Suggestion Chip Clicked"}},onDiscoverCardClicked:{behavior:144,Content:{Id:"DiscoverCardClicked",cN:"Discover Card Clicked"}},onQueryParamSubmit:{behavior:141,Content:{Id:"QueryParamMessageSubmit",cN:"Query Param Message Submit"}}};function CZ(e,t){return t==="US"? __get$(du,e) .us:t==="GB"? __get$(du,e) .gb:t&&["AU","CA","DE","FR","JP"].includes(t)? __get$(du,e) .other:[]}function SZ(e){if(!$("ads-pixels"))return; const t=_e().get(Ut),n=st.language,o=Date.now().toString(),s=__get$(du,e).global,a=CZ(e,t),_hh$temp221=_e(),r=_hh$temp221.set; r(lT,c=>{for(const d of s.concat(a))c[d]??={url: __call$(__call$(__call$(__call$(__call$(__call$(__call$(__call$(__call$(__call$(d,"replace",["{CACHE_BUSTER}",o]),"replace",["{REGION}",t??""]),"replace",["{LANG_LOCALE}",n]),"replace",["{CONSENT}",EZ(t)]),"replace",["{td1}",t??""]),"replace",["{td2}",n]),"replace",["{td3}","CMC"]),"replace",["{td4}",""]),"replace",["{td5}",""]),"replace",["{td6}",wZ(e)]) ,isMounted:!0,timestamp:Date.now()};return{...c}})}function bZ(e){$("custom-1ds")&&(window.OneDsAzureAnalytics.capturePageAction(null, __get$(yZ,e) ),Hw())}function Sr(e){try{SZ(e),bZ(e)}catch{tt({feature:"sendIdeasTelemetry",customData:JSON.stringify({eventName:e})})}}function IZ(e){Sr(e==="suggestion"?"onSuggestionChipClicked":e==="discover"?"onDiscoverCardClicked":e==="queryParam"?"onQueryParamSubmit":"onMessageSend")}function EZ(e){return(e&&bd.includes(e))===!0?Ma().advertising?"1":"0":""}function wZ(e){switch(e){case"onPageLoad":return"page_load";case"onMessageSend":return"submit_message";case"onStartVoiceChat":return"voice_message";case"onSuggestionChipClicked":return"suggestion_chip";case"onDiscoverCardClicked":return"discover_card";case"onQueryParamSubmit":return"query_param_submit";default:return""}}function TZ(e){const t=M(Ut);u.useEffect(()=>{R.ensureInitialized(xZ()),e&&(window.appEnd=performance.now(),performance.getEntriesByName("startupTime-begin").length||performance.mark("startupTime-begin",{startTime:window.appStart}),performance.mark("startupTime-end",{startTime:window.appEnd}),performance.measure("startupTime","startupTime-begin","startupTime-end"))},[e]),u.useEffect(()=>{e&&t&&setTimeout(()=>{Sr("onPageLoad")},1e3)},[e,t])}function xZ(){return()=>$("picasso-telemetry")?new vZ:null}function AZ( _hh$temp222 ){ var e=_hh$temp222.appInitialized; const t=M(mt);u.useEffect(()=>{e&&u1().catch(console.error)},[e]),u.useEffect(()=>{e&&w$(t?.id).catch(console.error)},[e,t])}function _Z(e){u.useEffect(()=>(document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}),[e])}function kZ(){_Z(()=>{document.visibilityState==="visible"?R.trackEvent({name:"system",data:{eventName:"copilotVisible",eventInfo_landingPage:R.getLandingPage()}}):R.trackEvent({name:"system",data:{eventName:"copilotBackground"}})})}const Ex=P(!1),PZ=P(!1),MZ=Ot({key:KR,schema:V(),initialValue:!1}),wx=Ot({key:tC,schema:gC,initialValue:Ht(tC,gC)??void 0}),LAe=Ot({key:YI,schema:V(),initialValue:!1}),z1=Ot({key:$R,schema:V(),initialValue:!1}),RZ=P(!1),NZ=P(!1),LZ=Ot({key:qR,schema:V(),initialValue:!1}),DAe=P(!1),OAe=Ot({key:YR,schema:V(),initialValue:!1}),Tx=P(!1),DZ=Ot({key:ZR,schema:V(),initialValue:!1});Ot({key:JR,schema:T(l()),initialValue:[]});const UAe=P(""),WC=P(!1),FAe=P(!1),jAe=Ot({key:aN,schema:T(l()),initialValue:[]}),BAe=Ot({key:rN,schema:eV.nullable(),initialValue:null}),OZ=e=>Kw.includes(e);function UZ(){const e=Gw(),t=q(Jc),n=q(Ex);u.useEffect(()=>{e&&OZ(e)&&(t(e),n(!0))},[e,t,n])}function tm(e){const t=`[${e}]`;return{info:(...n)=>{},warn:(...n)=>{},error:(...n)=>{console.error(t,...n)}}}const $C=tm("ChatStream");class FZ{subscriptions=[];subscribe(t,n,o,s){const a={featureName:t,discriminator:n,process:r=>{const c=o.safeParse(r);if(!c.success){$C.warn(`${t} schema validation failed:`,c.error);return}s(c.data)}};return this.subscriptions.push(a),()=>{const r=this.subscriptions.indexOf(a);r!==-1&&this.subscriptions.splice(r,1)}}unsubscribeAll(t){this.subscriptions.filter(n=>n.featureName===t).length,this.subscriptions=this.subscriptions.filter(n=>n.featureName!==t)}dispatch(t){for(const n of this.subscriptions)try{if(!n.discriminator(t))continue;n.process(t)}catch(o){$C.error(`Error in ${n.featureName} subscriber:`,o)}}_reset(){this.subscriptions=[]}}const jZ=new FZ,G1=P(void 0),Zn=P(void 0),BZ=P(e=>e(Zn)?.showroomData,(e,t,n)=>{const o=e(Zn);if(o){const s=typeof n=="function"?n(o.showroomData):n;t(Zn,{...o,showroomData:s})}});P(!1);function VZ(e){_e().set(BZ,t=>tn(t,n=>{e(n)}))}const VAe="https://aka.ms/copilot-ads/ads-settings",HAe="https://aka.ms/copilot-ads/verification-program",zAe=["website-visits","interests","similar-audience"],GAe="data-ad-part",WAe={text:"textAd",multimedia:"multimediaAd",product:"productAd",propertyPromotion:"propertyPromotionAd",tourActivity:"tourActivityAd",miniShowroom:"miniShowroomAd",mainShowroom:"mainShowroomAd",miniProduct:"miniProductAd"},HZ=.05,$Ae="focus:underline hover:underline group-focus/trackable-link:underline",zZ=128,GZ=128,WZ=147,$Z=95,qAe=59*60*1e3;function KAe(e,t,n){const o=t==="product"?zZ:WZ,s=t==="product"?GZ:$Z;if(n.length===0||!e)return{width:o,height:s,resize:"object-contain"}; const _hh$temp223=xx(n),a=_hh$temp223.maxDeviation,r=_hh$temp223.averageAspectRatio,c=_hh$temp223.count; return c===0||r===0?{width:o,height:s,resize:"object-contain"}:a>HZ?{width:o,height:qZ(n,o,s),resize:"object-contain"}:{width:o,height:o/r,resize:"object-cover"}}function qZ(e,t,n){const o=KZ(e,t);return o===-1?n:Math.min(n,o)}function KZ(e,t){const n=e.map(o=>{const s=o.type==="product"?o.offer.item.image:o.image;if(s.width&&s.height)return s.height/s.width*t}).filter(o=>typeof o=="number");return n.length>0?Math.max(...n):-1}function xx(e){if(e.length===0)return{maxDeviation:0,averageAspectRatio:0,count:0};const t=[];for(const s of e){const a=s.type==="product"?s.offer.item.image:s.image;if(a.width&&a.height){const r=a.width/a.height;t.push(r)}}if(t.length===0)return{maxDeviation:0,averageAspectRatio:0,count:0};const n=t.reduce((s,a)=>s+a,0)/t.length;return{maxDeviation:t.reduce((s,a)=>{const r=Math.abs(a/n-1);return Math.max(s,r)},0),averageAspectRatio:n,count:t.length}}function YZ(e){if(e.length===0)return{};const t=e.map(o=>{const s=o.type==="product"?o.offer.item.image:o.image;return{originalWidth:s.width,originalHeight:s.height}}),n=xx(e);return{imageSizes:t.length>0?t:void 0,imageAspectRatioVariance:n}}function nm(){return!!M(Lt)?.group}function Ou(){return!!_e().get(Lt)?.group}function ZZ(e){const t=[];for(const n of e){if(n.type!=="product"&&n.type!=="propertyPromotion"&&n.type!=="tourActivity")return null;if(!n.tags)continue;if(n.tags.length>1)return null;const o=n.tags[0];if(!(!o||!o.value))if(t.length===0)t.push(o);else{if(t[0]?.category!==o.category)return null;t.find(s=>s.value===o.value)||t.push(o)}}return t}function YAe(e,t){return e?.length?JSON.stringify({tagCategory:e[0]?.category,tagValue:t?.value??"recommended",tagPosition:t?e.indexOf(t)+1:null,tagCount:e.length}):""}function Ax(e){return e.every(t=>t.type==="product"||t.type==="propertyPromotion"||t.type==="tourActivity")}function ZAe(e,t,n){if(!Ax(e))return null;let o=e;return t?.length&&n?o=e.filter(s=>s.tags&&s.tags[0]?.value===n.value):t?.length&&!n&&(o=e.filter(s=>!s.tags)),o}class JZ{messageStartTime=0;messageSentTime=0;timeToFirstToken=0;receivedFirstToken=!1;receivedLastToken=!1;currentAdditionalData;currentMessageId="";receivedMessageTime=0;startMessageTime=0;mostRecentTokenTime=0;queryId;lastResponseType;constructor(t,n){this.messageStartTime=t,this.messageSentTime=n}getCustomData(){return this.queryId?JSON.stringify({queryId:this.queryId}):void 0}resetMessageStartTime(t){this.messageStartTime=t}resetMessageSentTime(t){this.messageSentTime=t,this.timeToFirstToken=0}onBeforeSend(t){this.receivedFirstToken=!1,this.receivedLastToken=!1,this.queryId=t,this.lastResponseType=void 0}onSent(t){this.currentAdditionalData=t.additionalData,R.trackEvent({name:"system",data:{eventName:"copilotChatStartToSent",eventInfo_additionalData:this.currentAdditionalData,eventInfo_duration:this.messageSentTime-this.messageStartTime,eventInfo_conversationId:t.conversationId,eventInfo_messageId:this.currentMessageId,eventInfo_mode:t.chatMode,eventInfo_inputMethod:t.inputMethod,eventInfo_customData:this.getCustomData()}})}onReceived(t){this.receivedMessageTime=performance.now(),R.trackEvent({name:"system",data:{eventName:"copilotChatRequest",eventInfo_additionalData:this.currentAdditionalData,eventInfo_duration:this.receivedMessageTime-this.messageSentTime,eventInfo_conversationId:t.conversationId,eventInfo_messageId:this.currentMessageId,eventInfo_mode:t.chatMode,eventInfo_inputMethod:t.inputMethod,eventInfo_customData:this.getCustomData()}})}onStartMessage(t){this.startMessageTime=performance.now(),this.currentMessageId=t.messageId,this.receivedMessageTime||(this.receivedMessageTime=this.messageSentTime),R.trackEvent({name:"system",data:{eventName:"copilotChatReqToResp",eventInfo_duration:this.startMessageTime-this.receivedMessageTime,eventInfo_additionalData:this.currentAdditionalData,eventInfo_conversationId:t.conversationId,eventInfo_messageId:t.messageId,eventInfo_mode:t.chatMode,eventInfo_inputMethod:t.inputMethod,eventInfo_customData:this.getCustomData()}})}onFirstToken(t){if(!this.receivedFirstToken&&t.messageId===this.currentMessageId){const n=performance.now()-this.messageSentTime;this.timeToFirstToken=n,this.receivedFirstToken=!0,R.trackEvent({name:"system",data:{eventName:"copilotChatRespToReceived",eventInfo_additionalData:this.currentAdditionalData,eventInfo_conversationId:t.conversationId,eventInfo_duration:performance.now()-this.receivedMessageTime,eventInfo_messageId:t.messageId,eventInfo_mode:t.chatMode,eventInfo_inputMethod:t.inputMethod,eventInfo_customData:this.getCustomData()}}),R.trackEvent({name:"system",data:{eventName:"copilotFirstTokenReceived",eventInfo_conversationId:t.conversationId,eventInfo_messageId:t.messageId,eventInfo_duration:n,eventInfo_mode:t.chatMode,eventInfo_additionalData:this.currentAdditionalData,eventInfo_inputMethod:t.inputMethod,eventInfo_customData:this.getCustomData()}}),R.flush(),qY.run({duration:n})}this.mostRecentTokenTime=performance.now()}onLastToken(t){ const _hh$temp224=t,n=_hh$temp224.citationCount,o=_hh$temp224.imageCount,s=_hh$temp224.messageId,a=_hh$temp224.inputMethod,r=_hh$temp224.conversationId,c=_hh$temp224.chatMode,d=_hh$temp224.chainOfThoughtCount,m=_hh$temp224.guidedLinksCount,p=_hh$temp224.uploadImageCount,h=_hh$temp224.uploadFileCount; if(!this.receivedLastToken&&s===this.currentMessageId){const v=this.mostRecentTokenTime-this.messageSentTime;this.receivedLastToken=!0,R.trackEvent({name:"system",data:{eventName:"copilotResponseRender",eventInfo_conversationId:r,eventInfo_messageId:s,eventInfo_numCitations:n,eventInfo_numImagesGenerated:o,eventInfo_numChainOfThoughts:d,eventInfo_numGuidedLinks:m,eventInfo_inputMethod:a,eventInfo_responseMethod:"text",eventInfo_mode:c,eventInfo_additionalData:this.currentAdditionalData,eventInfo_landingPage:R.getLandingPage(),eventInfo_firstToLastTokenDuration:v-this.timeToFirstToken,eventInfo_customData:JSON.stringify({eventInfo_numImagesUploaded:p,eventInfo_numDocumentsUploaded:h,eventInfo_isGroup:Ou()?1:0,queryId:this.queryId})}}),R.trackEvent({name:"system",data:{eventName:"copilotLastTokenReceived",eventInfo_conversationId:r,eventInfo_messageId:s,eventInfo_duration:v,eventInfo_mode:c,eventInfo_inputMethod:a,eventInfo_additionalData:this.currentAdditionalData,eventInfo_customData:this.getCustomData()}}),R.trackEvent({name:"system",data:{eventName:"copilotChatE2E",eventInfo_conversationId:r,eventInfo_messageId:s,eventInfo_duration:performance.now()-this.messageSentTime,eventInfo_mode:c,eventInfo_additionalData:this.currentAdditionalData,eventInfo_inputMethod:a,eventInfo_customData:this.getCustomData()}}),R.flush(),this.currentAdditionalData=void 0,this.queryId=void 0,this.lastResponseType=void 0}}onAdsRender(t){ const n=performance.now()-this.messageSentTime,_hh$temp225=t,o=_hh$temp225.ads,s=(o?.find(y=>y.type==="miniShowroom")),a=s??(o&&o.length>0?o[0]:void 0),r=o&&Ax(o)?ZZ(o):[],c=(o?.find(y=>y.type==="mainShowroom")),d=j(Zn),m=$("adsshowroombrandagent"),p=(o&&o.length>0)&&(a?.type==="product"||a?.type==="tourActivity"||a?.type==="propertyPromotion")?YZ(o):{}; let h;s?h={brandId:s.brandId??c?.brandId,miniShowroom:{messageId:t.messageId,rguid:t.requestId}}:c&&d&&(h={brandId:d.brandId,brandLogo:d.brandLogo,brandBackground:d.brandBackground,viewMode:d.viewMode,brandAgentScenario:m?"chat":void 0,triggeredAtRguid:d.lastUserMessageRguid??void 0,miniShowroom:{messageId:d.miniShowroomAd.messageId,adId:d.adId},activeCard:{adId:c.id,rguid:t.requestId},previousCard:{adId:d.adId,rguid:d.activeCardRguid}});const v=JSON.stringify({eventType:t.eventType,adTags:r?.length?r:void 0,showroom:h,...p});R.trackEvent({name:"system",data:{eventName:"copilotAdsSignal",eventInfo_scenario:"render",eventInfo_adType:a?.type,eventInfo_adCount:o?.length,eventInfo_rguid:t.requestId,eventInfo_messageId:t.messageId,eventInfo_conversationId:t.conversationId,eventInfo_duration:n,eventInfo_additionalData:v,eventInfo_customData:this.getCustomData()}})}onStop(t){const n=this.getCustomData();R.trackEvent({name:"system",data:{eventName:"copilotChatStop",eventInfo_conversationId:t,eventInfo_messageId:this.currentMessageId,eventInfo_duration:performance.now()-this.messageSentTime,eventInfo_customData:n}})}onSubmitMessageBlocked(t,n,o){R.trackEvent({name:"interaction",data:{eventName:"copilotUserInputBlocked",eventInfo_inputMethod:n,eventInfo_mode:t,eventInfo_messageId:this.currentMessageId,eventInfo_conversationId:o,eventInfo_duration:performance.now()-this.messageSentTime,eventInfo_additionalData:this.currentAdditionalData}})}onImageGenerationStart(t){ const _hh$temp226=t,n=_hh$temp226.messageId,o=_hh$temp226.conversationId,s=_hh$temp226.chatMode,r=performance.now()-this.messageSentTime; R.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"ImageGenStarted",eventInfo_messageId:n,eventInfo_conversationId:o,eventInfo_mode:s,eventInfo_duration:r}})}onImageReceived(t){ const _hh$temp227=t,n=_hh$temp227.messageId,o=_hh$temp227.conversationId,s=_hh$temp227.chatMode,a=performance.now()-this.messageSentTime; R.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"ImageGenReceived",eventInfo_messageId:n,eventInfo_conversationId:o,eventInfo_mode:s,eventInfo_duration:a}})}onPartialImageReceived(t){ const _hh$temp228=t,n=_hh$temp228.messageId,o=_hh$temp228.imageGenPhase,s=_hh$temp228.conversationId,a=_hh$temp228.chatMode,r=performance.now()-this.messageSentTime; R.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"PartialImageGenReceived",eventInfo_messageId:n,eventInfo_conversationId:s,eventInfo_mode:a,eventInfo_duration:r,eventInfo_customData:`${o}`}})}onVideoGenerationStart(t){ const _hh$temp229=t,n=_hh$temp229.messageId,o=_hh$temp229.conversationId,s=_hh$temp229.chatMode,a=_hh$temp229.taskId,r=performance.now(),c=r-this.messageSentTime; R.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"VideoGenStarted",eventInfo_messageId:n,eventInfo_conversationId:o,eventInfo_mode:s,eventInfo_duration:c,eventInfo_customData:a?JSON.stringify({taskId:a,taskStartTimestamp:r}):void 0}})}onVideoGenerationReceived(t){ const _hh$temp230=t,n=_hh$temp230.messageId,o=_hh$temp230.conversationId,s=_hh$temp230.chatMode,a=_hh$temp230.taskId,r=performance.now(),c=r-this.messageSentTime; R.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"VideoGenReceived",eventInfo_messageId:n,eventInfo_conversationId:o,eventInfo_mode:s,eventInfo_duration:c,eventInfo_customData:a?JSON.stringify({taskId:a,taskEndTimestamp:r}):void 0}})}onThreeDGenerationStart(t){ const _hh$temp231=t,n=_hh$temp231.messageId,o=_hh$temp231.conversationId,s=_hh$temp231.chatMode,a=_hh$temp231.taskId,r=performance.now(),c=r-this.messageSentTime; R.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"ThreeDGenStarted",eventInfo_messageId:n,eventInfo_conversationId:o,eventInfo_mode:s,eventInfo_duration:c,eventInfo_customData:a?JSON.stringify({taskId:a,taskStartTimestamp:r}):void 0}})}onThreeDGenerationReceived(t){ const _hh$temp232=t,n=_hh$temp232.messageId,o=_hh$temp232.conversationId,s=_hh$temp232.chatMode,a=_hh$temp232.taskId,r=performance.now(),c=r-this.messageSentTime; R.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"ThreeDGenReceived",eventInfo_messageId:n,eventInfo_conversationId:o,eventInfo_mode:s,eventInfo_duration:c,eventInfo_customData:a?JSON.stringify({taskId:a,taskEndTimestamp:r}):void 0}})}onMemorySignalReceived(t){ const _hh$temp233=t,n=_hh$temp233.messageId,o=_hh$temp233.conversationId,a=performance.now()-this.messageSentTime; R.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"MemorySignalReceived",eventInfo_messageId:n,eventInfo_conversationId:o,eventInfo_duration:a}})}onChainOfThoughtReceived(t){ const _hh$temp234=t,n=_hh$temp234.messageId,o=_hh$temp234.conversationId,s=_hh$temp234.chatMode,a=performance.now()-this.messageSentTime; R.trackEvent({name:"system",data:{eventName:"copilotCoTFirstTokenReceived",eventInfo_messageId:n,eventInfo_conversationId:o,eventInfo_mode:s,eventInfo_duration:a,eventInfo_customData:this.getCustomData()}})}onMessageInbound(t,n,o,s){this.queryId&&this.lastResponseType!==t&&(this.lastResponseType=t,R.trackEvent({name:"system",data:{eventName:"copilotChatResponseReceived",eventInfo_inputMethod:n,eventInfo_mode:s,eventInfo_conversationId:o,eventInfo_customData:JSON.stringify({responseType:t,queryId:this.queryId})}}))}}function W1(e,t){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>e(...o),t)}}const _x=300,JAe=2e3,QZ=new Map([["image","chat"],["podcast","chat"],["researchReport","research"],["quiz","chat"],["actions","computerUse"],["video","chat"],["page","chat"],["homeworkHelper","study"],["practiceTest","chat"]]),XZ=new Map([["image","smart"],["podcast","smart"],["researchReport","research"],["quiz","smart"],["actions","computerUse"],["video","smart"],["page","smart"],["homeworkHelper","study"],["practiceTest","smart"]]);function kx(e){return $("remove-qr")?XZ.get(e):QZ.get(e)}const oi=_e(),eJ=500;function tJ(){let e="";if(typeof document<"u"){const t=document.querySelector(`#${Kr}`);t&&(e=t.value)}return e}let qC=!1;function nJ(){let e="";qC||(e=tJ(),qC=!0),L7([[Xc,e]])}const Uu=P({userInput:"",autocompleteValue:""}),Xc=P(e=>e(Uu).userInput,(e,t,n)=>{t(Uu,{userInput:n,autocompleteValue:""})}),Px=P("starter-prompts"),oJ=P(null),Mx=P(!0),Rx=P(!1),Cp=P(Vt()),Br=P(e=>e(Cp),(e,t,n)=>{const o=e(Cp);lo("sticky-conversation-mode",n),o!==n&&t(Cp,n)}),Hf=P(void 0),Ar=P(null);function mc(e){oi.set(Xc,e)}function QAe(){return oi.get(Uu)}function Nx(){return M(Uu)}function om(){oi.set(Xc,"")}function Oi(e){oi.set(Px,e)}function Gi(e){oi.set(Mx,e)}function Lx(e){ye(Ur,e)}function Fu(e){oi.set(Rx,e)}function yn(e,t){const n=j(Br);switch(j(Hf)!==t&&ye(Hf,t),(n==="computerUse"||n==="research")&&ye(Ar,null),ye(Br,e),e){case"computerUse":{ye(Ar,"actions");break}case"research":{ye(Ar,"researchReport");break}}}function Vr(e){if(ye(Ar,e),e===null)return;const t=kx(e);t&&ye(Br,t)}function Dx(){return M(Xc)}function sJ(){return j(Xc)}function aJ(){return M(Px)}function rJ(){return M(oJ)}function iJ(){return M(Mx)}function Kt(){return M(Br)}function yo(){return j(Br)}function cJ(){return M(Rx)}function $1(){return M(Ar)}function lJ(){return j(Ar)}const uJ=W1((e,t)=>{hq(j(Se),e,JSON.stringify({...t,isGroupChat:Ou()?1:0}))},eJ);function dJ(e,t){uJ(e,t)}async function mJ(e){const n=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",n);return new Uint8Array(o)}function pJ( _hh$temp235 ){ var e=_hh$temp235.bytes,t=_hh$temp235.difficulty; const n=Math.floor(t/8),o=t%8;for(let s=0;s<n;s+=1)if( __get$(e,s) !==0)return!1;if(o>0){const s=255<<8-o,a= __get$(e,n) ;if(a!==void 0&&(a&s)!==0)return!1}return!0}async function fJ(e){ const _hh$temp236=e,t=_hh$temp236.token,n=_hh$temp236.difficulty,_hh$temp236$startNonce=_hh$temp236.startNonce,o=_hh$temp236$startNonce===void 0?0:_hh$temp236$startNonce,_hh$temp236$batchSize=_hh$temp236.batchSize,s=_hh$temp236$batchSize===void 0?10:_hh$temp236$batchSize; let a=o,r=0;const c=async d=>{const m=t+d,p=await mJ(m);return r+=1,pJ({bytes:p,difficulty:n})?{found:!0,nonce:d}:{found:!1,nonce:0}};for(;;){const d=[];for(let p=0;p<s;p+=1){const h=a+p;d.push(c(h))}const m=await Promise.all(d);for(const p of m)if(p.found)return{nonce:p.nonce,totalHashes:r};a+=s,await new Promise(p=>{setTimeout(p,0)})}}const hJ=10*1e3;function mu( _hh$temp237 ){ var e=_hh$temp237.duration,t=_hh$temp237.success,n=_hh$temp237.errorMessage;  const _hh$temp238=navigator,o=_hh$temp238.userAgent; R.trackEvent({name:"system",data:{eventName:"webWorkerRegistrationEvent",eventInfo_name:"hashcash-worker",eventInfo_userAgent:o,eventInfo_duration:e,eventInfo_success:t,eventInfo_errorMessage:t?void 0:n??"Unknown error"}})}function KC( _hh$temp239 ){ var e=_hh$temp239.method,t=_hh$temp239.threads,n=_hh$temp239.duration,o=_hh$temp239.difficulty; R.trackEvent({name:"system",data:{eventName:"hashcashComputeEvent",eventInfo_method:e,eventInfo_threads:t,eventInfo_duration:n,eventInfo_difficulty:o}})}async function gJ(e,t){ const _hh$temp240=e,n=_hh$temp240.token,o=_hh$temp240.difficulty,_hh$temp240$startNonce=_hh$temp240.startNonce,s=_hh$temp240$startNonce===void 0?0:_hh$temp240$startNonce,_hh$temp240$batchSize=_hh$temp240.batchSize,a=_hh$temp240$batchSize===void 0?10:_hh$temp240$batchSize,r=Math.floor(Number.MAX_SAFE_INTEGER/t),c=[],d=[],m=()=>{for(const h of c)h.terminate();}; window.addEventListener("beforeunload",m,{once:!0});const p=h=>{const v=new Worker(new URL("/static/cmc/assets/hashcash.worker-DPHM8104.js",import.meta.url),{type:"module"});return c.push(v), new Promise((y,C)=>{const S=performance.now(),b=setTimeout(()=>{const x=performance.now()-S;mu({duration:x,success:!1,errorMessage:"Registration timeout"}),v.terminate(),C(new Error(`Worker ${h} timeout`));},hJ);v.onmessage=x=>{const _hh$temp241=x,E=_hh$temp241.data;if(E.type==="ready"){const k=performance.now()-S;mu({duration:k,success:!0}),clearTimeout(b);return;}if(E.type==="success"){for(const _hh$temp242 of c.entries()){const _hh$temp243=__arrayFrom$(_hh$temp242),k=_hh$temp243[0],w=_hh$temp243[1];k!==h&&(__call$(w,"postMessage",[{type:"cancel"}]),w.terminate());}y({nonce:E.nonce,timeElapsed:E.timeElapsed,totalHashes:E.totalHashes});}E.type==="error"&&(clearTimeout(b),v.terminate(),C(new Error(E.error)));},v.onerror=x=>{const E=performance.now()-S;mu({duration:E,success:!1,errorMessage:x.message||"Worker error"}),clearTimeout(b),v.terminate(),C(x);},__call$(v,"postMessage",[{type:"register"}]);const I=s+h*r;__call$(v,"postMessage",[{type:"start",token:n,difficulty:o,startNonce:I,batchSize:a}]);}) };for(let h=0;h<t;h+=1)d.push(p(h));try{const h=await Promise.any(d);return window.removeEventListener("beforeunload",m),m(),h}catch(h){if(window.removeEventListener("beforeunload",m),m(),h instanceof AggregateError){const v=h.errors.map(y=>y instanceof Error?y.message:String(y)).join(", ");throw new Error(`All ${t} workers failed: ${v}`)}throw h}}async function vJ(e,t){ const _hh$temp244=navigator,n=_hh$temp244.hardwareConcurrency,o=Math.max(n-2,1),s=Date.now(),_hh$temp245=Z.instance().config(),a=_hh$temp245.webWorkerEnabled; try{if(!a)throw new Error(`Web Worker surface config is not enabled: ${a}`);const r=t??o,c=await gJ(e,r);return KC({method:"webworker",threads:r,duration:c.timeElapsed,difficulty:e.difficulty}),{...c,numberOfWorkers:r,method:"webworker"}}catch(r){mu({duration:Date.now()-s,success:!1,errorMessage:`Web worker registration failed or worker feature is disabled: ${r instanceof Error?r.message:String(r)}`});const c=await fJ(e),d=Date.now()-s;return KC({method:"mainthread",threads:1,duration:d,difficulty:e.difficulty}),{...c,timeElapsed:d,method:"mainthread"}}}function yJ(e,t,n){switch(e.type){case"research":return{type:"task",task:{id:e.id,type:e.type,contents:[],partialOutput:[],inlineCitations:[],status:"pending",prompt:e.prompt,progress:e.progress},partId:t};case"computerUse":return{type:"task",task:{id:e.id,conversationId:e.conversationId,type:e.type,status:"running",updatedAt:n},partId:t};case"podcast":return{type:"task",task:{id:e.id,type:e.type,status:e.status,podcast:e.podcast,updatedAt:e.updatedAt??n},partId:t};case"videoGeneration":return{type:"task",task:{id:e.id,type:e.type,status:e.status,result:e.result,updatedAt:e.updatedAt??n},partId:t};case"threeDGeneration":return{type:"task",task:{id:e.id,type:e.type,status:e.status,attachmentId:e.attachmentId,result:e.result,updatedAt:e.updatedAt??n},partId:t};case"planning":return{type:"task",task:{id:e.id,type:e.type,status:e.status,updatedAt:e.updatedAt,reaction:e.reaction},partId:t};default:return null}}const Ox=["completed","failed","cancelled"];function CJ(e){if(e.author==="ai")return e.content.find(t=>{if(t.type!=="task")return!1;const n=t.task?.status;return n&&!Ox.includes(n)})}function SJ(e){for(let t=e.length-1;t>=0;t-=1){const n= __get$(e,t) ;if(n&&n.type==="task")return n}}function q1(e){for(const t of e){const n=CJ(t);if(n)return{message:t,part:n}}return null}const bJ=P(0),Ux=P(null),IJ=P(null),EJ=P(void 0),en=P(null),Fx=P([]),el=P(null),wJ=P(null),TJ=P(e=>{const t=e(Hs);return q1(t)?.part.task?.type==="research"}),xJ=P(!1);P(new Map);const AJ=P(!1),XAe=P(!1),tl=P(null),K1=P({type:"idle"}),Ka=P(!1),_J=P(!1),zf=P(!1),kJ=P(e=>e(Ws).isOpen||e(PJ)),Ws=P({isOpen:!1,scenario:null}),PJ=P(e=>{const t=e(Ia);return t===null?!1:t===0||e(oT).includes(t)});async function kn( _hh$temp246 ){ var e=_hh$temp246.from,t=_hh$temp246.to,n=_hh$temp246.params,o=_hh$temp246.search,s=_hh$temp246.state; t.startsWith("/chats/")||_e().set(Df,null),await ud(0),await Un().navigate({to:t,params:n,state:a=>({...a,from:e,...s}),search:o})}function si(){return kn}const jx= _hh$temp247=>{var e=_hh$temp247.title,t=_hh$temp247.titleId,n=__rest$Object(_hh$temp247,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M3.28034 2.21968C2.98745 1.92678 2.51257 1.92677 2.21968 2.21966C1.92678 2.51255 1.92677 2.98743 2.21966 3.28032L3.48326 4.54395C3.17684 5.03983 3 5.62426 3 6.25V17.75C3 19.5449 4.45507 21 6.25 21H17.75C18.3757 21 18.96 20.8232 19.4559 20.5169L20.7194 21.7805C21.0123 22.0734 21.4872 22.0734 21.7801 21.7805C22.073 21.4876 22.073 21.0127 21.7801 20.7198L3.28034 2.21968ZM11.1189 12.1797C10.8678 12.2864 10.6322 12.4409 10.4258 12.643L4.60326 18.3437C4.53643 18.1583 4.5 17.9584 4.5 17.75V6.25C4.5 6.0437 4.5357 5.84574 4.60125 5.66196L11.1189 12.1797ZM19.5 6.25V16.3183L20.9993 17.8176C20.9998 17.7951 21 17.7726 21 17.75V6.25C21 4.45507 19.5449 3 17.75 3H6.25C6.2275 3 6.20505 3.00023 6.18265 3.00068L7.68194 4.5H17.75C18.7165 4.5 19.5 5.2835 19.5 6.25ZM18.3305 19.4014C18.1489 19.4653 17.9535 19.5 17.75 19.5H6.25C6.04613 19.5 5.8504 19.4651 5.66845 19.4011L11.4752 13.7148L11.5588 13.644C11.8501 13.4316 12.2596 13.4553 12.5247 13.7148L18.3305 19.4014ZM15.2521 6.5C16.4959 6.5 17.5042 7.50831 17.5042 8.75212C17.5042 9.99592 16.4959 11.0042 15.2521 11.0042C14.0083 11.0042 13 9.99592 13 8.75212C13 7.50831 14.0083 6.5 15.2521 6.5ZM15.2521 8C14.8367 8 14.5 8.33673 14.5 8.75212C14.5 9.1675 14.8367 9.50423 15.2521 9.50423C15.6675 9.50423 16.0042 9.1675 16.0042 8.75212C16.0042 8.33673 15.6675 8 15.2521 8Z"}));} ,e_e=Object.freeze(Object.defineProperty({__proto__:null,default:jx},Symbol.toStringTag,{value:"Module"}));function MJ(e,t=200,n=50){ const _hh$temp248=__arrayFrom$(u.useState(!1)),o=_hh$temp248[0],s=_hh$temp248[1],_hh$temp249=__arrayFrom$(u.useState(null)),a=_hh$temp249[0],r=_hh$temp249[1]; return u.useEffect(()=>{let c;if(!e)c=setTimeout(()=>{s(!0),r(Date.now())},t);else if(o){const d=a?Date.now()-a:1/0,m=n-d;m>0?c=setTimeout(()=>{s(!1),r(null)},m):(s(!1),r(null))}return()=>{clearTimeout(c)}},[e,t,n,o,a]),o}function Bx(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++) __get$(e,t) &&(n=Bx( __get$(e,t) ))&&(o&&(o+=" "),o+=n)}else for(n in e) __get$(e,n) &&(o&&(o+=" "),o+=n);return o}function Je(){for(var e,t,n=0,o="",s=arguments.length;n<s;n++)(e= __get$(arguments,n) )&&(t=Bx(e))&&(o&&(o+=" "),o+=t);return o}const ur=16,pu=410,Zo=480,ko=620,En=40,RJ=600,Sp= _hh$temp250=>{var e=_hh$temp250.opticalSize,t=_hh$temp250.fontWeight;return{"font-variation-settings":`'opsz' ${e}, 'wght' ${t}`};} ,bp=e=>{if(e>=RJ)return{"font-synthesis":"none"}},NJ=e=>{if(e)return{"letter-spacing":`${e}em`}},va=( _hh$temp251 )=>{ var e=_hh$temp251.fontSize,t=_hh$temp251.lineHeight,n=_hh$temp251.letterSpacing,o=_hh$temp251.opticalSize,s=_hh$temp251.fontWeight,a=_hh$temp251.isBoldOnly,r=_hh$temp251.isMediumOnly,c=_hh$temp251.sizeOverrides; const d=`@apply text-[${e/ur}rem] leading-[${t/ur}rem]`,m={[d]:{}},p=c?.medium!==void 0?`@apply text-[${c.medium/ur}rem] leading-[${t/ur}rem]`:d,h=c?.bold!==void 0?`@apply text-[${c.bold/ur}rem] leading-[${t/ur}rem]`:d,v=NJ(n),y=Sp({opticalSize:o,fontWeight:s.regular}),C=Sp({opticalSize:o,fontWeight:s.medium}),S=Sp({opticalSize:o,fontWeight:s.bold}),b=bp(s.regular),I=bp(s.medium),x=bp(s.bold),E={...m,...v,...y,...b,bold:{fontWeight:`${s.bold}`,...S,...x},medium:{fontWeight:`${s.medium}`,...C,...I},strong:{fontWeight:`${s.bold}`,...S,...x}},k={[p]:{},fontWeight:`${s.medium}`,...v,...C,...I},w={[h]:{},fontWeight:`${s.bold}`,...v,...S,...x};return a?{...w,bold:E.bold,strong:E.strong}:r?{...k,bold:E.bold,strong:E.strong}:E},LJ=[{name:"2xs",fontSize:10,lineHeight:14,opticalSize:En,fontWeight:{regular:600,medium:700,bold:800}},{name:"xs",fontSize:12,lineHeight:16,opticalSize:En,fontWeight:{regular:450,medium:Zo,bold:ko}},{name:"sm",fontSize:14,lineHeight:20,opticalSize:En,fontWeight:{regular:pu,medium:Zo,bold:ko}},{name:"base",fontSize:16,lineHeight:26,opticalSize:En,fontWeight:{regular:pu,medium:Zo,bold:ko}},{name:"base-dense",fontSize:16,lineHeight:22,opticalSize:En,fontWeight:{regular:pu,medium:Zo,bold:ko}},{name:"base-plus",fontSize:18,lineHeight:26,letterSpacing:-.005,opticalSize:En,fontWeight:{regular:460,medium:Zo,bold:600}},{name:"md",fontSize:18,lineHeight:26,letterSpacing:-.005,opticalSize:En,fontWeight:{regular:460,medium:Zo,bold:600}},{name:"lg",fontSize:20,lineHeight:26,letterSpacing:-.01,opticalSize:En,fontWeight:{regular:460,medium:Zo,bold:600}},{name:"xl",fontSize:24,lineHeight:32,letterSpacing:-.01,opticalSize:En,fontWeight:{regular:440,medium:540,bold:ko}},{name:"2xl",fontSize:28,lineHeight:32,letterSpacing:-.01,opticalSize:En,fontWeight:{regular:480,medium:520,bold:ko}},{name:"3xl",fontSize:32,lineHeight:40,letterSpacing:-.02,opticalSize:En,fontWeight:{regular:480,medium:520,bold:ko}},{name:"4xl",fontSize:38,lineHeight:40,letterSpacing:-.02,opticalSize:En,fontWeight:{regular:480,medium:520,bold:ko}}],nl=LJ.reduce((e, _hh$temp252 )=>{ var t=_hh$temp252.name,n=_hh$temp252.fontSize,o=_hh$temp252.lineHeight,s=_hh$temp252.letterSpacing,a=_hh$temp252.fontWeight,r=_hh$temp252.opticalSize; const c=t==="base"||t==="base-dense"?{medium:16.01,bold:16.01}:void 0;return{...e,[`.text-${t}`]:va({fontSize:n,lineHeight:o,letterSpacing:s,opticalSize:r,fontWeight:a,sizeOverrides:c}),[`.text-${t}-medium`]:va({fontSize:n,lineHeight:o,letterSpacing:s,opticalSize:r,fontWeight:a,isMediumOnly:!0,sizeOverrides:c}),[`.text-${t}-strong`]:va({fontSize:n,lineHeight:o,letterSpacing:s,opticalSize:r,fontWeight:a,isBoldOnly:!0,sizeOverrides:c})}},{}),Vx={name:"sm-e",fontSize:15,lineHeight:22.8,opticalSize:En,fontWeight:{regular:pu,medium:Zo,bold:ko}},Hx={name:"3xl-e",fontSize:32,lineHeight:36,letterSpacing:-.02,opticalSize:En,fontWeight:{regular:480,medium:Zo,bold:ko}};nl[".text-sm-e"]=va(Vx);nl[".text-sm-e-strong"]=va({...Vx,isBoldOnly:!0});nl[".text-3xl-e"]=va(Hx);nl[".text-3xl-e-strong"]=va({...Hx,isBoldOnly:!0});const DJ=Object.keys(nl).map(e=> __call$(e,"replace",[".text-",""]) ),OJ=D7({extend:{classGroups:{"font-size":[{text:DJ}]}}});function O(...e){return OJ(Je(e))}const ai="overflow-hidden",Bo="backdrop-blur-2xl backdrop-saturate-200",Y1="bg-white/70 dark:bg-muted-200/70",Co=Je(ai,Bo,Y1),UJ=Je(ai,Bo),FJ=Je(Bo,Y1),jJ="bg-acrylic-default-fallback-light/[98] dark:bg-acrylic-default-fallback-dark/[98]",BJ="dark:bg-white/70  bg-slate-800/70",VJ=Je(ai,Bo,BJ);Je(Bo,Y1);const zx="bg-accent-100/60 dark:bg-muted-200/50",HJ="bg-accent-100/60 dark:bg-muted-200/70",zJ=Je(Bo,zx),ma=Je(ai,Bo,zx),GJ=Je(ai,Bo,HJ),WJ="bg-acrylic-thin-fallback-light/95 dark:bg-acrylic-thin-fallback-dark/[92]",Gx="dark:bg-accent-900/60 bg-slate-800/50";Je(Bo,Gx);const $J=Je(ai,Bo,Gx),qJ="border border-stone-200 bg-stone-150 shadow-lg dark:border-slate-750 dark:bg-midnight-800";function KJ(e={},t=!1){ const _hh$temp253=__arrayFrom$(u.useState(!1)),n=_hh$temp253[0],o=_hh$temp253[1],_hh$temp254=__arrayFrom$(u.useState(!1)),s=_hh$temp254[0],a=_hh$temp254[1],_hh$temp255=e,r=_hh$temp255.onFocus,c=_hh$temp255.onBlur,d=_hh$temp255.onPointerDown; return[n,{onFocus:p=>{(!s||t)&&o(!0),r?.(p)},onBlur:p=>{o(!1),a(!1),c?.(p)},onPointerDown:p=>{a(!0),d?.(p)}}]}function YJ(){return/^.*(EdgA|EdgiOS|Edg).*/i.test(navigator.userAgent)}const Wx="bg-background-300/20 dark:bg-background-650/5",t_e="border-black/10 dark:border-white/10";function ZJ(e,t){return e?e===!0?{animate:{...t}}:{animate:e}:{style:t}}function JJ(e,t,n,o){const s=t?o:n;return e?{animate:s}:{style:s}}function Z1(e){ const _hh$temp256=e,t=_hh$temp256.children,_hh$temp256$size=_hh$temp256.size,n=_hh$temp256$size===void 0?"md":_hh$temp256$size,_hh$temp256$position=_hh$temp256.position,o=_hh$temp256$position===void 0?"default":_hh$temp256$position,_hh$temp256$nested=_hh$temp256.nested,s=_hh$temp256$nested===void 0?!1:_hh$temp256$nested,_hh$temp256$background=_hh$temp256.background,a=_hh$temp256$background===void 0?"default":_hh$temp256$background,r=_hh$temp256.stroke,c=_hh$temp256.strokeChildren,d=_hh$temp256.className,m=_hh$temp256.containerRef,_hh$temp256$interactable=_hh$temp256.interactable,p=_hh$temp256$interactable===void 0?!1:_hh$temp256$interactable,h=_hh$temp256.label,v=_hh$temp256.animate,y=_hh$temp256.onFocus,C=_hh$temp256.onBlur,S=_hh$temp256.onPointerDown,b=_hh$temp256.onAnimationStart,I=_hh$temp256.onAnimationComplete,x=_hh$temp256.focusOnPointerDown,_hh$temp256$isSelected=_hh$temp256.isSelected,E=_hh$temp256$isSelected===void 0?!1:_hh$temp256$isSelected,k=__rest$Object(_hh$temp256,["children","size","position","nested","background","stroke","strokeChildren","className","containerRef","interactable","label","animate","onFocus","onBlur","onPointerDown","onAnimationStart","onAnimationComplete","focusOnPointerDown","isSelected"]),_hh$temp257=__arrayFrom$(KJ({onFocus:y,onBlur:C,onPointerDown:S},x)),w=_hh$temp257[0],_=_hh$temp257[1],N=E||w,B=Pa()&&YJ(),K=s&&(a==="acrylic"||a==="acrylic-thin"),G=K?__get$(Ip,`${n}-${o}`):__get$(QJ,`${n}-${o}`),te=K?__get$(Ip,`${n}-${o}`):__get$(XJ,`${n}-${o}`),ne=K?__get$(Ip,`${n}-${o}`):__get$(eQ,`${n}-${o}`),ae={default:"bg-white/45 dark:bg-background-650/10",darker:Wx,acrylic:Co,"acrylic-fallback":jJ,"acrylic-thin":ma,"acrylic-thin-fallback":WJ,transparent:"bg-transparent"},Te=p?{"aria-label":h,role:"button",tabIndex:0,..._,onKeyDown:Ae=>{(Ae.key==="Enter"||Ae.key===" ")&&(Ae.preventDefault(),(k.onClick?.(Ae)));}}:{onFocus:y,onBlur:C,onPointerDown:S},he=ZJ(v,G),Ee=JJ(v,N,te,ne); return i.jsxs(Ce.div,{className:O("relative isolate", __get$(ae,a) ,d,K&&"outline-1 outline-offset-2",v&&B&&"transition-[clip-path]"),ref:m,onAnimationComplete:I,...he,...Te,...k,children:[t,i.jsx(Ce.div,{className:O(N&&"before:border-foreground-750 dark:before:border-white",r&&!N&&"before:border-black/10 dark:before:border-white/10",a==="transparent"&&r&&!N&&"dark:before:border-white/18",!r&&!N&&"before:border-transparent",!K&&"before:border-[20px]",K&&r&&!N&&"before:border",K&&r&&N&&"before:border-2","pointer-events-none absolute inset-0 before:absolute before:inset-0 before:rounded-inherit",v&&B&&"transition-[clip-path]"),...Ee,children:c})]})}const QJ={"xs-default":{clipPath:"var(--clip-path-squircle-16)"},"sm-default":{clipPath:"var(--clip-path-squircle-24)"},"md-default":{clipPath:"var(--clip-path-squircle-36)"},"lg-default":{clipPath:"var(--clip-path-squircle-48)"},"xl-default":{clipPath:"var(--clip-path-squircle-60)"},"xs-top":{clipPath:"var(--clip-path-squircle-16-12)"},"sm-top":{clipPath:"var(--clip-path-squircle-24-16)"},"md-top":{clipPath:"var(--clip-path-squircle-36-24)"},"lg-top":{clipPath:"var(--clip-path-squircle-48-36)"},"xl-top":{clipPath:"var(--clip-path-squircle-60-48)"},"xs-bottom":{clipPath:"var(--clip-path-squircle-12-16)"},"sm-bottom":{clipPath:"var(--clip-path-squircle-16-24)"},"md-bottom":{clipPath:"var(--clip-path-squircle-24-36)"},"lg-bottom":{clipPath:"var(--clip-path-squircle-36-48)"},"xl-bottom":{clipPath:"var(--clip-path-squircle-48-60)"}},XJ={"xs-default":{clipPath:"var(--clip-path-squircle-stroke-16)"},"sm-default":{clipPath:"var(--clip-path-squircle-stroke-24)"},"md-default":{clipPath:"var(--clip-path-squircle-stroke-36)"},"lg-default":{clipPath:"var(--clip-path-squircle-stroke-48)"},"xl-default":{clipPath:"var(--clip-path-squircle-stroke-60)"},"xs-top":{clipPath:"var(--clip-path-squircle-stroke-16-12)"},"sm-top":{clipPath:"var(--clip-path-squircle-stroke-24-16)"},"md-top":{clipPath:"var(--clip-path-squircle-stroke-36-24)"},"lg-top":{clipPath:"var(--clip-path-squircle-stroke-48-36)"},"xl-top":{clipPath:"var(--clip-path-squircle-stroke-60-48)"},"xs-bottom":{clipPath:"var(--clip-path-squircle-stroke-12-16)"},"sm-bottom":{clipPath:"var(--clip-path-squircle-stroke-16-24)"},"md-bottom":{clipPath:"var(--clip-path-squircle-stroke-24-36)"},"lg-bottom":{clipPath:"var(--clip-path-squircle-stroke-36-48)"},"xl-bottom":{clipPath:"var(--clip-path-squircle-stroke-48-60)"}},eQ={"xs-default":{clipPath:"var(--clip-path-squircle-stroke-focused-16)"},"sm-default":{clipPath:"var(--clip-path-squircle-stroke-focused-24)"},"md-default":{clipPath:"var(--clip-path-squircle-stroke-focused-36)"},"lg-default":{clipPath:"var(--clip-path-squircle-stroke-focused-48)"},"xl-default":{clipPath:"var(--clip-path-squircle-stroke-focused-60)"},"xs-top":{clipPath:"var(--clip-path-squircle-stroke-focused-16-12)"},"sm-top":{clipPath:"var(--clip-path-squircle-stroke-focused-24-16)"},"md-top":{clipPath:"var(--clip-path-squircle-stroke-focused-36-24)"},"lg-top":{clipPath:"var(--clip-path-squircle-stroke-focused-48-36)"},"xl-top":{clipPath:"var(--clip-path-squircle-stroke-focused-60-48)"},"xs-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-12-16)"},"sm-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-16-24)"},"md-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-24-36)"},"lg-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-36-48)"},"xl-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-48-60)"}},Ip={"xs-default":{borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:16,borderBottomRightRadius:16},"sm-default":{borderTopLeftRadius:24,borderTopRightRadius:24,borderBottomLeftRadius:24,borderBottomRightRadius:24},"md-default":{borderTopLeftRadius:36,borderTopRightRadius:36,borderBottomLeftRadius:36,borderBottomRightRadius:36},"lg-default":{borderTopLeftRadius:48,borderTopRightRadius:48,borderBottomLeftRadius:48,borderBottomRightRadius:48},"xl-default":{borderTopLeftRadius:60,borderTopRightRadius:60,borderBottomLeftRadius:60,borderBottomRightRadius:60},"xs-top":{borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:12,borderBottomRightRadius:12},"sm-top":{borderTopLeftRadius:24,borderTopRightRadius:24,borderBottomLeftRadius:16,borderBottomRightRadius:16},"md-top":{borderTopLeftRadius:36,borderTopRightRadius:36,borderBottomLeftRadius:24,borderBottomRightRadius:24},"lg-top":{borderTopLeftRadius:48,borderTopRightRadius:48,borderBottomLeftRadius:36,borderBottomRightRadius:36},"xl-top":{borderTopLeftRadius:60,borderTopRightRadius:60,borderBottomLeftRadius:48,borderBottomRightRadius:48},"xs-bottom":{borderTopLeftRadius:12,borderTopRightRadius:12,borderBottomLeftRadius:16,borderBottomRightRadius:16},"sm-bottom":{borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:24,borderBottomRightRadius:24},"md-bottom":{borderTopLeftRadius:24,borderTopRightRadius:24,borderBottomLeftRadius:36,borderBottomRightRadius:36},"lg-bottom":{borderTopLeftRadius:36,borderTopRightRadius:36,borderBottomLeftRadius:48,borderBottomRightRadius:48},"xl-bottom":{borderTopLeftRadius:48,borderTopRightRadius:48,borderBottomLeftRadius:60,borderBottomRightRadius:60}},tQ="(hover: hover) and (pointer: fine)";function nQ(){return typeof window<"u"&&typeof window.matchMedia=="function"}function Ep(){return nQ()?window.matchMedia(tQ):null}function oQ(){let e=Ep();const t=()=>(e??=Ep(),e?.matches??!1),n=()=>!1,o=s=>{e??=Ep();const a=e;return a?(a.addEventListener("change",s),()=>a.removeEventListener("change",s)):()=>{}};return u.useSyncExternalStore(o,t,n)}const sQ=40,aQ=40;function rQ(e={}){ const _hh$temp258=e,_hh$temp258$defaultOpen=_hh$temp258.defaultOpen,t=_hh$temp258$defaultOpen===void 0?!1:_hh$temp258$defaultOpen,_hh$temp258$placement=_hh$temp258.placement,n=_hh$temp258$placement===void 0?"top":_hh$temp258$placement,_hh$temp258$gap=_hh$temp258.gap,o=_hh$temp258$gap===void 0?6:_hh$temp258$gap,s=_hh$temp258.open,a=_hh$temp258.onOpenChange,_hh$temp258$openDelay=_hh$temp258.openDelay,r=_hh$temp258$openDelay===void 0?sQ:_hh$temp258$openDelay,_hh$temp258$closeDelay=_hh$temp258.closeDelay,c=_hh$temp258$closeDelay===void 0?aQ:_hh$temp258$closeDelay,_hh$temp258$disabled=_hh$temp258.disabled,d=_hh$temp258$disabled===void 0?!1:_hh$temp258$disabled,_hh$temp258$disableOnTouch=_hh$temp258.disableOnTouch,m=_hh$temp258$disableOnTouch===void 0?!0:_hh$temp258$disableOnTouch,_hh$temp258$closeOnTrigger=_hh$temp258.closeOnTrigger,p=_hh$temp258$closeOnTrigger===void 0?!0:_hh$temp258$closeOnTrigger,_hh$temp259=__arrayFrom$(u.useState(t)),h=_hh$temp259[0],v=_hh$temp259[1],y=s??h,C=u.useCallback(K=>{a?a(K):v(K);},[a]),S=u.useMemo(()=>[Ic(o),Ec({crossAxis:n.includes("-"),fallbackAxisSideDirection:"start",padding:o}),wc({padding:o})],[n,o]),b=Tc({placement:n,open:d?!1:y,onOpenChange:d?void 0:C,whileElementsMounted:qr,middleware:S}),_hh$temp260=b,I=_hh$temp260.context,x=oQ(),E=(!d&&s===void 0)&&(!m||x),k=O7(I,{move:!1,enabled:E,restMs:r,delay:{open:r,close:c}}),w=U7(I,{enabled:E}),_=x?p:!1,N=xc(I,{enabled:!d,escapeKey:!0,referencePress:_!==!1,referencePressEvent:typeof _=="string"?_:"pointerdown"}),L=ad(I,{role:"tooltip",enabled:!d}),B=rd([k,w,N,L]),F=u.useId(); return u.useMemo(()=>({open:d?!1:y,setOpen:C,labelId:F,disabled:d,...B,...b}),[y,d,C,F,B,b])}const $x=u.createContext(null),qx=()=>{const e=u.useContext($x);if(e===null)throw new Error("Tooltip components must be wrapped in <Tooltip />");return e};function Kx(e){ const _hh$temp261=e,t=_hh$temp261.children,n=__rest$Object(_hh$temp261,["children"]),o=rQ(n); return i.jsx($x.Provider,{value:o,children:t})}const J1=u.forwardRef((e,t)=>{ const _hh$temp262=e,n=_hh$temp262.children,_hh$temp262$asChild=_hh$temp262.asChild,o=_hh$temp262$asChild===void 0?!1:_hh$temp262$asChild,s=__rest$Object(_hh$temp262,["children","asChild"]),a=qx(),r=((u.isValidElement(n)&&n.props!==null)&&typeof n.props=="object")&&"ref"in n.props?n.props.ref:void 0,c=tc([a.refs.setReference,t,r]),d=tc([y=>a.refs.setReference(y),t]),m={...s,...a.disabled?{}:{"aria-describedby":a.open?a.labelId:void 0}}; let p;a.disabled?p=m:o&&u.isValidElement(n)?p=a.getReferenceProps({...m,...n.props,ref:c}):p=a.getReferenceProps(m);const h={...p,onBlur:y=>{p.onBlur?.(y),a.setOpen(!1)}},v=()=>{if(!a.disabled)return a.open?"open":"closed"};if(o&&u.isValidElement(n)){const y=n;return u.cloneElement(y,{ref:c,...h,"data-tooltip-state":v()})}return i.jsx("button",{ref:d,type:"button",...h,"data-tooltip-state":v(),children:n})});J1.displayName="TooltipTrigger";const Q1=u.forwardRef((e,t)=>{ const _hh$temp263=e,n=_hh$temp263.style,o=_hh$temp263.className,s=__rest$Object(_hh$temp263,["style","className"]),a=qx(),r=tc([a.refs.setFloating,t]); if(!(a.open&&!a.disabled))return null;const d=a.getFloatingProps({id:a.labelId,role:"tooltip",...s});return i.jsx(sd,{children:i.jsx("div",{ref:r,className:O("pointer-events-none w-max rounded-lg border border-white/20 bg-background-100 px-2 py-1 text-foreground-800 shadow-lg text-xs",at.tooltip,o),style:{...a.floatingStyles,...n},...d,"data-tooltip-state":"open"})})});Q1.displayName="TooltipContent";function iQ(e){ const _hh$temp264=e,t=_hh$temp264.sourceImages,_hh$temp264$maxItems=_hh$temp264.maxItems,n=_hh$temp264$maxItems===void 0?2:_hh$temp264$maxItems,_hh$temp264$imageHeight=_hh$temp264.imageHeight,o=_hh$temp264$imageHeight===void 0?"h-12":_hh$temp264$imageHeight,s=_hh$temp264.className,_hh$temp265=Y(),a=_hh$temp265.t; if(t.length===0)return null;const r=t.slice(0,n);return i.jsx("div",{className:O("flex gap-2",s),children:r.map((c,d)=>i.jsxs(Kx,{placement:"top",openDelay:300,children:[i.jsx(J1,{asChild:!0,children:i.jsx("div",{className:O(o,"cursor-pointer overflow-hidden rounded-md border-2 border-white shadow-lg"),children:i.jsx("img",{src:c.thumbnailUrl,alt:a("gallery.imageAlt"),className:"h-full w-auto object-cover"})})}),i.jsx(Q1,{className:"overflow-hidden rounded-lg border-0 bg-transparent p-0 shadow-xl",children:i.jsx("img",{src:c.url||c.thumbnailUrl,alt:a("gallery.imageAlt"),className:"max-h-60 w-auto rounded-lg object-contain"})})]},d))})}function cQ(e){ const _hh$temp266=e,t=_hh$temp266.onError,n=_hh$temp266.onLoad,o=_hh$temp266.loadingPlaceholder,s=_hh$temp266["aria-hidden"],a=_hh$temp266.alt,r=_hh$temp266.errorClass,c=_hh$temp266.className,d=_hh$temp266.src,m=_hh$temp266.fallbackSrc,p=_hh$temp266.stableKey,h=_hh$temp266.sourceImages,v=__rest$Object(_hh$temp266,["onError","onLoad","loadingPlaceholder","aria-hidden","alt","errorClass","className","src","fallbackSrc","stableKey","sourceImages"]),_hh$temp267=__arrayFrom$(u.useState(!1)),y=_hh$temp267[0],C=_hh$temp267[1],_hh$temp268=__arrayFrom$(u.useState(!1)),S=_hh$temp268[0],b=_hh$temp268[1],_hh$temp269=__arrayFrom$(u.useState(!1)),I=_hh$temp269[0],x=_hh$temp269[1],E=MJ(S); if(u.useEffect(()=>{C(!1),b(!1),x(!1)},[d]),y)return i.jsx(lQ,{className:r});const k=I&&m?m:d;return i.jsxs(i.Fragment,{children:[E&&o?.(),u.createElement("img",{...v,alt:a,"aria-hidden":s,key:p??k,src:k,className:O(c,!S&&o&&"absolute size-px opacity-0"),onLoad:w=>{b(!0),n?.(w)},onError:w=>{m&&!I?x(!0):C(!0),t?.(w)}}),h&&h.length>0&&i.jsx("div",{className:"absolute bottom-3 start-3",children:i.jsx(iQ,{sourceImages:h,maxItems:2,imageHeight:"h-14"})})]})}function lQ(e){ const _hh$temp270=e,t=_hh$temp270.className; return i.jsx("div",{className:O("flex size-full items-center justify-center",Wx,t),children:i.jsx(jx,{className:"size-6"})})}function uQ(e){ const _hh$temp271=e,t=_hh$temp271.path,n=_hh$temp271.args,o=_hh$temp271.onLoad,s=_hh$temp271.alt,a=__rest$Object(_hh$temp271,["path","args","onLoad","alt"]),_hh$temp272=Fo({queryKey:["apiImg",t],queryFn:async ()=>{const p=await (await vo(t,n)).blob();return URL.createObjectURL(p);}}),r=_hh$temp272.data,c=_hh$temp272.isPending; u.useEffect(()=>{!c&&o&&o()},[c,o]);const d=()=>i.jsx("div",{...a});return i.jsx(cQ,{...a,alt:s,className:a.className,errorClass:a.className,loadingPlaceholder:c?d:void 0,src:c?void 0:r})}const YC=_e();function dQ(e){if(e.status!=="completed")return;const t=YC.get(Se);Un().latestLocation.pathname.startsWith("/chats")&&t&&e.conversationId===t||YC.set(Ct,{iconProvider:()=>i.jsx(uQ,{path:`/podcasts/user/${e.podcast?.id}/Files/${e.podcast?.thumbnail?.name}`,className:"rounded-xl object-cover"}),title:U("podcasts.generationNotification.title"),subtitle:e.podcast?.title??"",action:()=>{kn({from: __get$(window,"location") .pathname,to:`/podcasts/user/${e.podcast?.id}`})},trackingArgs:{scenario:"podcastGenerationNotification",customData:JSON.stringify({podcastId:e.podcast?.id})},dismissAfter:3e4})}const n_e=P(!1),o_e=P(void 0),s_e=P(!1),mQ=P(void 0);function pQ(e,t){if(!t)return e; const _hh$temp273=__arrayFrom$(e.slice(-3)),n=_hh$temp273[0],o=_hh$temp273[1],s=_hh$temp273[2]; if(!(Ta(s)&&Ta(o)&&n?.author==="human"))return e;const r={left:s.sideBySideConfig.position==="left"?s:o,right:s.sideBySideConfig.position==="right"?s:o,createdAt:s.createdAt,id:t};return[n,r]}function fQ(e){return Yx(e)||Ta(e)}function Yx(e){return"left"in e&&"right"in e}function Ta(e){return!e||e.author!=="ai"?!1:!!e.sideBySideConfig}const Ya=_e();function ot( _hh$temp274 ){ var e=_hh$temp274.history,t=_hh$temp274.messageId; const n=e.find( _hh$temp275=>{var o=_hh$temp275.id;return o===t;} );if(n?.author==="ai")return n}function hQ(e,t){const n=e.find( _hh$temp276=>{var o=_hh$temp276.author;return o==="human";} );if(n?.id===t&&n.author==="human")return n}function gQ(e){if(!e)return;const t=Ya.get(gt).get(e);if(!t)return; const _hh$temp277=t,n=_hh$temp277.history,o=n.find(_hh$temp278=>{var s=_hh$temp278.author;return s==="human";}); if(o?.author==="human")return o}function _r(e){const t=e.at(-1);if(t?.author==="ai")return t}function wn(e,t){return e.find(n=>n.partId===t)}function ZC(e){for(let t=e.length-1;t>=0;t-=1){const n= __get$(e,t) ;if(n&&n.type==="text")return n}}function a_e(e){return e.filter(t=>t.author==="ai").map(t=>({...t,content:t.content.filter(n=>n.type==="image")})).filter(t=>t.content.length>0)}function r_e(e,t,n){const o=e.find(s=>s.id===t);if(!(!o||o.author!=="ai")){for(const s of o.content)if("partId"in s&&s.partId===n)return s}}function Zx(e){if(!e)return null;const t=Ya.get(gt).get(e);if(!t)return null; const _hh$temp279=t,n=_hh$temp279.history; return q1(n)}function Le(e,t){Ya.set(gt,n=>tn(n,o=>{const s=o.get(e);if(s){t(s.history);const a=s.history.at(-1);if(a){const r=new Date(s.updatedAt),c=new Date(a.createdAt);r<c&&(s.updatedAt=a.createdAt)}}}))}function i_e(e,t,n,o){Le(e,s=>{const a=s.find(r=>r.id===t);if(a?.author==="ai"){const r=wn(a.content,n);r&&o(r)}})}function X1(e,t){Ya.set(Vs,n=>tn(n,o=>{const s=o.get(e);s&&t(s)}))}function sm(e,t){Ya.set(gt,n=>tn(n,o=>{const s=o.get(e);s&&t(s)}))}function ia(e,t){Ya.set(Gd,n=>tn(n,o=>{if(!t)return;const s=o.get(e);s?s.add(t):o.set(e,new Set([t]))}))}function vQ(e){Ya.set(W$,t=>tn(t,n=>{e&&n.set(e,!0)}))}function yQ(e){yn(e)}function fu(e,t){const n={type:"error",text:e,partId:"0"},o=Math.random().toString(),s={id:o,createdAt:new Date().toISOString(),author:"ai",content:[n],mode:Vt(),streamingState:"idle"};ia(t,o),Le(t,a=>{a.push(s)})}function CQ(e){for(const t of e.content)t.type==="activity"&&t.activity.status==="running"&&(t.activity.status="completed")}function Jx(e){sm(e,t=>{t.sideBySideComparisonId=void 0})}function Qx(e,t){const n=!t;Le(e,o=>{ const _hh$temp280=__arrayFrom$(o.slice(-2)),s=_hh$temp280[0],a=_hh$temp280[1]; if(!(Ta(a)&&Ta(s)))return;const c=n?!a.sideBySideConfig.isDefault:a.id!==t,d=n?!s.sideBySideConfig.isDefault:s.id!==t;c?o.splice(o.length-1,1):d&&o.splice(o.length-2,1)})}function SQ(e,t){Qx(e,t),Jx(e)}function e0(e){Qx(e,void 0),Jx(e)}function bQ(e,t){const n=`indicator-ai-response-${Math.random().toString()}`;return Le(e,o=>{const s=_r(o);s&&s.content.push({type:"indicator-ai-response",partId:n,state:"loading",text:t})}),n}function JC(e,t,n){t&&Le(e,o=>{const s=_r(o);if(!s)return;const a=wn(s.content,t);!a||a.type!=="indicator-ai-response"||a.state!==n&&(s.content=s.content.map(r=>r.type==="indicator-ai-response"&&t===r.partId?{...r,state:n}:r))})}const wp=_e();function IQ(e,t){const n=wp.get(Se);if(e.status!=="completed"||!Ox.includes(e.status)||(yQ(Vt()),!n||n===t))return;const o=e.id,s={title:U("research.generationNotification.title"),subtitle:U("research.generationNotification.subTitle"),link:U("research.generationNotification.subTitleLink"),action:()=>{kn({from: __get$(window,"location") .pathname,to:`/chats/${t}`})},onClick:()=>{wp.set(mQ,o)},dismissable:!0,trackingArgs:{scenario:"researchCompletionNotification",customData:JSON.stringify({researchId:e.id,sourceConversationId:t})}};wp.set(Ct,s)}async function Xx(e){ const _hh$temp281=e,_hh$temp281$conversationId=_hh$temp281.conversationId,t=_hh$temp281$conversationId===void 0?j(Se):_hh$temp281$conversationId,n=_hh$temp281.talkType,o=_hh$temp281.targetMessageId,s=__get$(_hh$temp281,"location"); t&&await kn({to:`/chats/$conversationId${n?`/${n}`:""}`,params:{conversationId:t},from:s.pathname,search:s.search,...o&&{state:{targetMessageId:o}}})}async function io(e={}){await Xx({conversationId:e.conversationId,talkType:e.talkType,targetMessageId:e.targetMessageId,location: __get$(Un().state,"location") })}function eA(){ const e=id(),_hh$temp282=e.state,t=__get$(_hh$temp282,"location"); return u.useCallback(async(n={})=>Xx({conversationId:n.conversationId,talkType:n.talkType,targetMessageId:n.targetMessageId,location:{pathname:t.pathname,search:t.search}}),[t.search,t.pathname])}const ju=P(null);function t0(e){e===null&&j(ju)?.onClose?.(),ye(ju,e)}function EQ(){return M(ju)}function tA(){return j(ju)}function ol(e){ const _hh$temp283=e,t=_hh$temp283.id,_hh$temp283$shouldNavigateToChat=_hh$temp283.shouldNavigateToChat,n=_hh$temp283$shouldNavigateToChat===void 0?!0:_hh$temp283$shouldNavigateToChat,_hh$temp283$shouldClearParentConversation=_hh$temp283.shouldClearParentConversation,o=_hh$temp283$shouldClearParentConversation===void 0?!0:_hh$temp283$shouldClearParentConversation,s=_hh$temp283.targetMessageId; o&&j(Se)!==j(Df)&&ye(Df,null),t0(null),ye(Se,t),ye(Ur,void 0),ye(gt,c=>tn(c,d=>{const m=d.get(t);if(m?.history.length&&(m.isNew=!1),m?.history.some(p=>p.author!=="system"&&p.content.some(h=>h.type==="card"&&h.card.type==="ads"))){for(const p of m.history)if(p.author==="ai"&&p.content.some(h=>h.type==="card"&&h.card.type==="ads")){const h=p.content.filter(v=>v.type!=="card"||v.card.type!=="ads");p.content=h}}}));const a=j(p1);a&&a!==t&&ye(gt,c=>tn(c,d=>{d.delete(a)}));const r=Zx(t)?.part.task?.type==="research";yn(r?"research":Vt()),n&&io({conversationId:t,targetMessageId:s})}function wQ(){return e=>ol(e)}function nA(e){ const _hh$temp284=e,t=_hh$temp284.errorType,n=_hh$temp284.errorMessage,o=_hh$temp284.conversationId,s=_hh$temp284.customData,a=o??j(Se); R.trackEvent({name:"health",data:{eventName:"copilotError",eventInfo_feature:"threeDGen",eventInfo_scenario:"generateThreeD",eventInfo_errorType:t,eventInfo_errorMessage:n,eventInfo_customData:JSON.stringify({conversationId:a,...s})}})}function TQ(e){nA({errorType:"Unknown",errorMessage:"3D generation feature is disabled",conversationId:e.conversationId,customData:{taskId:e.id}})}function xQ(e){const t=e.result?.type==="error"?e.result.errorCode:"Failed";nA({errorType:t,errorMessage:`3D generation task did not complete successfully: ${t}`,conversationId:e.conversationId,customData:{taskId:e.id,status:e.status,errorCode:t,hasResult:!!e.result,resultType:e.result?.type}})}function AQ(e){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"threeDGenMessage",eventInfo_clickScenario:"threeDGenComplete",eventInfo_conversationId:e.conversationId??j(Se)}})}function c_e(e){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"threeDExpandButton",eventInfo_clickScenario:e.scenario,eventInfo_conversationId:e.conversationId??j(Se)}})}function l_e(e){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"threeDDownloadButton",eventInfo_clickScenario:e.scenario,eventInfo_conversationId:e.conversationId??j(Se)}})}const _Q=_e();function kQ(e){if(!$("labs-3d-gen-chat")){TQ(e);return}if(e.status==="running"||e.status==="pending")return;if(e.status==="failed"||e.status==="cancelled"||!e.conversationId||!e.result||e.result.type!=="success"||!e.result.glbUrl){xQ(e);return} const _hh$temp285=e,t=_hh$temp285.conversationId,n=_hh$temp285.result; AQ(e);const o=U("generations3d.generationNotification.title"),s=U("generations3d.generationNotification.subtitle"),a=()=>{ol({id:t})};_Q.set(Ct,{Icon:()=>i.jsx("img",{src:n.thumbnailUrl,alt:o,className:"size-full rounded-xl object-cover"}),title:o,subtitle:s,action:a,trackingArgs:{scenario:"threeDGenerationNotification",customData:JSON.stringify({thumbnailUrl:n.thumbnailUrl,glbUrl:n.glbUrl})},dismissAfter:3e4})}function oA(){const e=M(Vs),t=M(Se);return u.useMemo(()=>{if(t){for(const n of e.values())if(n.conversationId===t)return n}},[t,e])}function PQ(){const e=_e(),t=e.get(Vs),n=e.get(Se);if(n){for(const o of t.values())if(o.conversationId===n)return o}}function MQ(e){ const _hh$temp286=e,t=_hh$temp286.tasks,n=_hh$temp286.conversationId,o=_hh$temp286.includeTaskTypes; for(const s of t.values())if(s.conversationId===n){if(o&&!o.includes(s.type))continue;return s.id}return""}const Wi=_e(),RQ="MissingUrlFromApi",u_e="https://aka.ms/copilot-actions-faq";function NQ(e,t){const n=Wi.get(Vs).get(e);return n?.type==="computerUse"&&!n.lastUserCommand&&LQ(n)&&t.some(s=>s.op==="replace"&&s.path==="/status"&&s.value==="paused")?Gf(t,["userTakeControl","pauseByClick"]):!1}function n0(e){return e==="paused"||e==="running"||e==="pending"}function LQ(e){return e.status==="paused"&&(e.statusChange?.reason==="safetyRiskDetected"||e.statusChange?.reason==="askUserInput")}function sA(e){return e.status==="paused"&&e.statusChange?.reason==="safetyRiskDetected"}function DQ(e){return e.status==="paused"&&e.statusChange?.reason==="userTakeControl"&&e.lastUserCommand==="takeTaskControl"}function Tp(e,t=!1){return e.map(n=>({type:"chainOfThought",text:n.text,screenshotUrl:t?RQ:null,reaction:null,partId:Math.random().toString()}))}function Gf(e,t){return e.some(n=>{if(n.op==="replace"&&n.path==="/statusChange"){ const _hh$temp287=n,o=_hh$temp287.value; if(typeof o=="object"&&o!==null&&"reason"in o){ const _hh$temp288=o,s=_hh$temp288.reason; if(typeof s=="string"){const a=N5.safeParse(s);return a.success&&t.includes(a.data)}}}return!1})}function OQ(e,t){const n=Wi.get(Vs).get(e);if(n?.type==="computerUse"){ const _hh$temp289=n,o=_hh$temp289.conversationId,s=_hh$temp289.status,a=_hh$temp289.statusChange; if(!o)return;if(s==="cancelled"&&Le(o,h=>{const v=QC(e,"cancelTask");h.push(v)}),Gf(t,["giveBackControl"])?Le(o,h=>{const v=QC(e,"takeTaskControl");h.push(v)}):a?.reason==="giveBackControl"&&XC(e),Gf(t,["taskCompleted"])&&Le(o,h=>{const v={id:Math.random().toString(),createdAt:new Date().toISOString(),author:"ai",streamingState:"idle",content:[{type:"card",partId:Math.random().toString(),card:{type:"computerUseFeedback"}}]};h.push(v)}),a)switch(a.reason){case"askUserInput":case"safetyRiskDetected":{s==="paused"?(a.reason==="askUserInput"&&jo({feature:"computerUse",scenario:"askUserInput",customData:JSON.stringify({id:n.id,conversationId:n.conversationId})}),o===Wi.get(Se)||Wi.set(Ct,{title:n.title&&n.title!==""?U("actions.alertTitleTemplate",{conversationName:n.title}):U("actions.defaultAlertTitle"),subtitle:a.reason==="safetyRiskDetected"?U("actions.safetyRiskAlertSubTitle"):U("actions.askUserInputAlertSubTitle"),action:()=>ol({id:o}),dismissAfter:30*1e3,dismissable:!0}),X1(e,v=>{"lastUserCommand"in v&&(v.lastUserCommand=void 0)})):XC(e);break}}const d=t.filter(h=>h.op==="add"&&h.path==="/chainOfThought/-").map(h=>({text:"value"in h?h.value:""}));d.length>0&&Le(o,h=>{if(h.length===0)return;const v=eS(h);if(v)v.push(...Tp(d));else{const y={id:Math.random().toString(),createdAt:new Date().toISOString(),author:"ai",streamingState:"idle",content:Tp(d)};h.push(y)}}),t.filter(h=>h.op==="replace"&&h.path==="/computerAction").length>0&&Le(o,h=>{const v=eS(h);v&&v.push(...Tp([{text:n.computerAction??""}],!0))}),t.filter(h=>h.op==="replace"&&h.path==="/formStructure").length>0}}function UQ(e,t,n){switch(t){case"sendFormData":return{type:t,taskId:e,fields:n??[]};default:return{type:t,taskId:e}}}function QC(e,t,...n){const o=n[0],s=UQ(e,t,o);return{id:Math.random().toString(),createdAt:new Date().toISOString(),author:"human",content:[{type:"command",command:s}],mode:null}}function XC(e){X1(e,t=>{"statusChange"in t&&(t.statusChange=void 0)})}function eS(e){const t=e.at(-1);if(t&&t.author==="ai"&&t.content.find(n=>n.type==="chainOfThought"))return t.content}function d_e(e){const t=PQ();return t?.type==="computerUse"?t.status!=="running"&&!t.replay?.isRunning?!0:!e:!0}function m_e(e){return!!($("labs-actions-replay")&&e&&e.type==="computerUse"&&!n0(e.status))}function p_e(e){return __get$({cancelTask:"copilotActionsCancelTask",takeTaskControl:"copilotActionsTakeControl",sendFormData:"copilotActionsSendFormData",startTask:void 0,pauseTask:void 0,resumeTask:void 0,releaseTaskControl:void 0},e) }function f_e(e){return MQ({tasks:Wi.get(Vs),conversationId:e,includeTaskTypes:["computerUse"]})}function aA(e){ const _hh$temp290=e,t=_hh$temp290.errorType,n=_hh$temp290.errorMessage,o=_hh$temp290.messageId,s=_hh$temp290.conversationId,a=_hh$temp290.customData; R.trackEvent({name:"health",data:{eventName:"copilotError",eventInfo_feature:"videoGen",eventInfo_scenario:"generateVideo",eventInfo_errorType:t,eventInfo_errorMessage:n,eventInfo_messageId:o,eventInfo_conversationId:s??j(Se),eventInfo_customData:a?JSON.stringify(a):void 0}})}function FQ(e){aA({errorType:"Unknown",errorMessage:"Video generation feature is disabled",conversationId:e.conversationId,customData:{taskId:e.id}})}function jQ(e){const t=e.result?.type==="error"?e.result.errorCode:"Failed";aA({errorType:t,errorMessage:`Video generation task did not complete successfully: ${t}`,conversationId:e.conversationId,customData:{taskId:e.id,status:e.status,errorCode:t,hasResult:!!e.result,resultType:e.result?.type}})}function o0(e,t,n){ const _hh$temp291=n,o=_hh$temp291.source,s=_hh$temp291.isFromShareLink,a=_hh$temp291.conversationId,r=_hh$temp291.isPlayer,c={source:o,isFromShareLink:s}; r!==void 0&&(c.isPlayer=r),R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:e,eventInfo_clickScenario:t,eventInfo_conversationId:a??j(Se),eventInfo_customData:JSON.stringify(c)}})}function h_e(e){o0("videoGenMessage","playGenVideo",e)}function g_e(e){o0("videoRecreateButton","recreateGenVideo",e)}function v_e(e){o0("videoDownloadButton","downloadGenVideo",e)}const BQ=_e();function VQ(e){if(!$("video-gen")){FQ(e);return}if(e.status!=="completed"||!e.conversationId||!e.result||e.result.type!=="success"||!e.result.videoUrl){jQ(e);return} const _hh$temp292=e,t=_hh$temp292.conversationId,n=_hh$temp292.result,o=!Z.instance().config().disableLibrary&&$("library-video"),s=U("video.generationNotification.title"),a=o?U("video.generationNotification.subtitle"):U("video.generationNotification.subtitleToChat"); R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickScenario:"videoGenComplete",eventInfo_clickSource:o?"composerNotification":"chatNotification"}});const r=()=>{o?kn({from: __get$(window,"location") .pathname,to:"/library",search:{type:"video"}}):ol({id:t})};BQ.set(Ct,{iconProvider:()=>i.jsx("img",{src:n.thumbnailUrl??"",alt:n.thumbnailUrl??"",className:"rounded-xl object-cover"}),title:s,subtitle:a,action:r,trackingArgs:{scenario:"videoGenerationNotification",customData:JSON.stringify({thumbnailUrl:n.thumbnailUrl??"",videoUrl:n.videoUrl})},dismissAfter:3e4})}function HQ(e){return e.filter(t=>t.type!=="miniShowroom").filter(t=>t.type!=="mainShowroom"||t.action).map(t=>{let n="";return t.type==="mainShowroom"?n=t.action?.url??"":t.type==="product"||t.type==="miniProduct"?n=t.offer.link.url:n=t.link.url,{type:t.type,rLink:n}})}function rA(e){return HQ(e).some( _hh$temp293=>{var t=_hh$temp293.rLink;return t==="";} )}function zQ(e){return e.map(t=>t.author==="ai"?{...t,content:t.content.filter(n=>{if(n.type==="card"&&n.card.type==="ads"){ const _hh$temp294=n.card,o=_hh$temp294.ads; return o&&!rA(o)}return!0})}:t)}function GQ(e){return e?!e.slotAds||e.slotAds.length===0?!0:e.slotAds.every(t=>!!t.ad.layout):!1}function WQ(e,t){const n=$("adsshowroombrandagent"),o=j(Zn),s=!!o;if(s){if(e)return{isValid:!1,detailedInfoObj:{hasEntryAd:!0,isShowroomOpened:s}};if(n){const a=!!(t?.logo??o?.brandLogo),r=GQ(t);return{isValid:!!(r&&a),detailedInfoObj:{noBrandLogo:!a,noValidMainAd:!r,isShowroomAgentEnabled:!0,isShowroomOpened:s}}}return{isValid:!1,detailedInfoObj:{isShowroomAgentEnabled:!1,isShowroomMvpEnabled:!1,isShowroomOpened:s}}}return e?n?{isValid:!!(e.brandId&&!t),detailedInfoObj:{noBrandId:!e.brandId,hasMainAd:!!t,isShowroomAgentEnabled:!0,isShowroomOpened:s}}:{isValid:!1,detailedInfoObj:{isShowroomAgentEnabled:!1,isShowroomMvpEnabled:!1,isShowroomOpened:s}}:{isValid:!1,detailedInfoObj:{noEntryAd:!0,isShowroomOpened:s}}}function $Q( _hh$temp295 ){ var e=_hh$temp295.entryAd,t=_hh$temp295.mainAd,n=_hh$temp295.messageId,o=_hh$temp295.partId,s=_hh$temp295.conversationId;  const _hh$temp296=WQ(e,t),a=_hh$temp296.isValid,r=_hh$temp296.detailedInfoObj; return a||R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"AdsError",eventInfo_details:JSON.stringify({messageId:n,partId:o,conversationId:s,...r}),eventInfo_errorMessage:"Unexpected showroom data received"}}),a}function qQ(e,t){const n=e?.find(a=>a.type==="mainShowroom"),o=e?.find(a=>a.type==="miniShowroom");return o??n?$Q({entryAd:o,mainAd:n,messageId:t.messageId,partId:t.partId,conversationId:t.conversationId}):(e&&e.length>0?e[0]:void 0)?!(e&&rA(e)):(R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"AdsError",eventInfo_details:JSON.stringify({messageId:t.messageId,partId:t.partId,conversationId:t.conversationId}),eventInfo_errorMessage:"Unexpected data found in ads card"}}),!1)}function KQ( _hh$temp297 ){ var e=_hh$temp297.card,t=_hh$temp297.messageId,n=_hh$temp297.partId,o=_hh$temp297.conversationState,s=_hh$temp297.conversationId;  const _hh$temp298=e,a=_hh$temp298.ads,r=j(Zn); if(qQ(a,{messageId:t,partId:n,conversationId:s})){if(o.timing.onAdsRender({requestId:e.requestId,messageId:t,conversationId:s,eventType:"card",ads:a}),r){const c=a?.filter(d=>d.type==="mainShowroom");if(c){VZ(d=>d?.push({key:t,requestId:e.requestId,ads:c,instrumentation:e.instrumentation}));return}}Le(s,c=>{const d=ot({history:c,messageId:t});d&&d.content.push({type:"card",partId:n,card:{...e,createdAt:Date.now()}})})}}const YQ=e=>e;function am(e=YQ){const t=u.useRef(null);return u.useEffect(()=>{const o=(typeof document<"u"?document:void 0)?.defaultView;if(!o)return()=>{};const s=F7(o,{autoRoot:{}});return t.current=e(s),()=>{j7(s),t.current=null}},[e]),t}const Bu=e=>{am();const t=B7(e,!0);return u.useMemo(()=>({[V7]:t}),[t])},ZQ="data-tabster-never-hide",JQ=e=>e.hasAttribute(ZQ);function QQ(e){H7(e,void 0,JQ),z7(e)}const iA=(e={})=>{ const _hh$temp299=e,t=_hh$temp299.trapFocus,n=_hh$temp299.alwaysFocusable,o=_hh$temp299.legacyTrapFocus; am(QQ);const s=u.useId(),a=e.id??`modal-${s}`,r=Bu({restorer:{type:Sy.Source},...t&&{modalizer:{id:a,isOthersAccessible:!t,isAlwaysAccessible:n,isTrapped:!!o&&!!t}}}),c=Bu({restorer:{type:Sy.Target}});return{modalAttributes:r,triggerAttributes:c}};function XQ(e,t){ const _hh$temp300=e,n=_hh$temp300.children,o=_hh$temp300.id,s=_hh$temp300.eleId,a=_hh$temp300.labelById,r=_hh$temp300.role,c=_hh$temp300.ariaLabel,d=_hh$temp300.ariaModal,m=_hh$temp300.tabIndex,p=_hh$temp300.className,_hh$temp300$mode=_hh$temp300.mode,h=_hh$temp300$mode===void 0?"wait":_hh$temp300$mode,_hh$temp300$duration=_hh$temp300.duration,v=_hh$temp300$duration===void 0?eo.default:_hh$temp300$duration,_hh$temp300$exitDuration=_hh$temp300.exitDuration,y=_hh$temp300$exitDuration===void 0?eo.default:_hh$temp300$exitDuration,_hh$temp300$exitDelay=_hh$temp300.exitDelay,C=_hh$temp300$exitDelay===void 0?0:_hh$temp300$exitDelay,_hh$temp300$delay=_hh$temp300.delay,S=_hh$temp300$delay===void 0?0:_hh$temp300$delay,_hh$temp300$delayChildren=_hh$temp300.delayChildren,b=_hh$temp300$delayChildren===void 0?0:_hh$temp300$delayChildren,I=_hh$temp300.onAnimationComplete,x=_hh$temp300["data-testid"],_hh$temp300$initial=_hh$temp300.initial,E=_hh$temp300$initial===void 0?"initial":_hh$temp300$initial,k=_hh$temp300.tabsterNavigationAttrs; return i.jsx(bt,{mode:h,children:n&&i.jsx(Ce.div,{id:s,"aria-labelledby":a,"aria-label":c,"aria-modal":d,tabIndex:m,animate:"animate",exit:"exit",ref:t,role:r,initial:E,variants:{initial:Be,animate:ct,exit:{...Be,transition:{duration:y,delay:C}}},transition:{duration:v,ease:"easeInOut",delay:S,delayChildren:b},className:p,onAnimationComplete:I,"data-testid":x,"data-tabster":k?.["data-tabster"],children:n},o)})}const Dt=u.forwardRef(XQ);function ds( _hh$temp301 ){ var e=_hh$temp301.onOutsideEvent,t=_hh$temp301.elements,_hh$temp301$shouldAttachListeners=_hh$temp301.shouldAttachListeners,n=_hh$temp301$shouldAttachListeners===void 0?!0:_hh$temp301$shouldAttachListeners,_hh$temp301$includeScroll=_hh$temp301.includeScroll,o=_hh$temp301$includeScroll===void 0?!0:_hh$temp301$includeScroll,_hh$temp301$invokeOnce=_hh$temp301.invokeOnce,s=_hh$temp301$invokeOnce===void 0?!0:_hh$temp301$invokeOnce,_hh$temp301$includeFocus=_hh$temp301.includeFocus,a=_hh$temp301$includeFocus===void 0?!0:_hh$temp301$includeFocus,_hh$temp301$includeClick=_hh$temp301.includeClick,r=_hh$temp301$includeClick===void 0?!1:_hh$temp301$includeClick; u.useEffect(()=>{const c=d=>{const m=d.target,p=t.some(v=>v.current?.contains(m)),h=m instanceof Element&&m.closest("[data-outside-events-ignore]")!==null;!p&&!h&&e()};return n&&(document.addEventListener("mousedown",c,{once:s}),r&&document.addEventListener("click",c,{once:s}),o&&document.addEventListener("scroll",c,!0),a&&document.addEventListener("focusin",c,!0)),()=>{document.removeEventListener("mousedown",c),r&&document.removeEventListener("click",c),o&&document.removeEventListener("scroll",c,!0),a&&document.removeEventListener("focusin",c,!0)}},[n,o,t,s,a,e,r])}function cA(e){ const _hh$temp302=e,t=_hh$temp302.onClose,n=_hh$temp302.children,o=_hh$temp302.className,_hh$temp303=Y(),s=_hh$temp303.t,a=u.useRef(null); return ds({onOutsideEvent:()=>{t(a)},elements:[a],invokeOnce:!1,includeScroll:!1,includeFocus:!1}),Hh.createPortal(i.jsx(Dt,{mode:"sync",className:O("relative",at.modal),children:i.jsx("div",{className:"fixed inset-0 flex items-end justify-center bg-black/20",children:i.jsxs("div",{className:"flex max-h-[90%] w-full shrink-0 flex-col rounded-t-4xl border border-white/100 bg-stone-150 backdrop-blur-xl dark:border-white/5 dark:bg-midnight-800","aria-label":s("common.bottomSheetDialog"),children:[i.jsx("div",{className:"relative flex w-full items-center justify-center py-3",children:i.jsx("div",{className:"h-[6px] w-12 rounded-full bg-black/25 dark:bg-white/25"})}),i.jsx("div",{className:O("no-scrollbar w-full overflow-y-auto px-4 pb-4",o),ref:a,children:n})]})})}),document.body)}const sn= _hh$temp304=>{var e=_hh$temp304.title,t=_hh$temp304.titleId,n=__rest$Object(_hh$temp304,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M4.39705 4.55379L4.46967 4.46967C4.73594 4.2034 5.1526 4.1792 5.44621 4.39705L5.53033 4.46967L12 10.939L18.4697 4.46967C18.7626 4.17678 19.2374 4.17678 19.5303 4.46967C19.8232 4.76256 19.8232 5.23744 19.5303 5.53033L13.061 12L19.5303 18.4697C19.7966 18.7359 19.8208 19.1526 19.6029 19.4462L19.5303 19.5303C19.2641 19.7966 18.8474 19.8208 18.5538 19.6029L18.4697 19.5303L12 13.061L5.53033 19.5303C5.23744 19.8232 4.76256 19.8232 4.46967 19.5303C4.17678 19.2374 4.17678 18.7626 4.46967 18.4697L10.939 12L4.46967 5.53033C4.2034 5.26406 4.1792 4.8474 4.39705 4.55379L4.46967 4.46967L4.39705 4.55379Z"}));} ,y_e=Object.freeze(Object.defineProperty({__proto__:null,default:sn},Symbol.toStringTag,{value:"Module"}));function eX(){return rt("kill-domain-referrer")?"noopener noreferrer":"noopener"}function tX(e){return e==="."||e==="!"||e==="?"}function nX(e){return e===" "||e===`
`||e==="	"}function oX(e){let t=e.length-1;for(;t>=0&&nX( __get$(e,t) );)t-=1;return[e.slice(0,t+1),e.slice(t+1)]}function sX(e,t,n){return e.slice(0,n)+t+e.slice(n)}const aX=new Set(["com","org","net","edu","gov","mil","int","io","co","ai","app","dev","cloud","info","xyz","online","site","store","shop","tech","top","biz","name","pro","blog","space","web","website","link","live","news","cn","us","uk","de","fr","jp","in","au","ca","br","ru","es","it","nl","pl","ch","be","at","se","kr","tr","eu","mx","id","vn","tw","hk","sg","ly","me","ae","gl","to","tv","cc","fm","ws","nu"]);function lA(e){const n=(e.split(/[/?#]/)[0]??"").toLowerCase().split(".");if(n.length<2)return!1;const o=n.filter(s=>s.length>0).pop()??"";return aX.has(o)}const rX=/^(?:(?:https?):\/\/)?(?:(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\.))+[a-z]{2,}(?:\/[\w%._~:@!$&'()*+,;=-]*)*\/?(?:\?[^\s#]*)?(?:#[^\s]*)?$/,iX=/\b((https?:\/\/|www\.)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,})([/?#][\w\-._~:/?#@!$&'()*+,;=%]*)?(?=[\s<>()"'.,!?)}\]]|$)/gi;function rm(e){return rX.test(e)?/^https?:\/\//i.test(e)?!0:lA(e):!1}function cX(e){return e.startsWith("/attachments/onedrive/")}function uA(e){return e.startsWith("/attachments")||e.startsWith("/sharing")||e.startsWith("/conversations/")&&e.includes("/attachments/")}function C_e(e){return!!(cX(e)||uA(e))}function S_e(e){ const _hh$temp305=__arrayFrom$(oX(e)),t=_hh$temp305[0],n=_hh$temp305[1],o=tX(__get$(t,t.length-1)),s=o?t.slice(0,-1):t; if(rm(s)){const a=o? __get$(t,t.length-1) :"";return{url:Ed(s),word:s,suffix:`${a}${n}`}}return{word:e}}function lX(e){let t="";try{t=new URL(e).hostname}catch{}return t}function uX(e){const t=lX(e),n=t.match(/^(?:https?:\/\/)?(?:www\.)?([^/]+)/i);return n&&n[1]?n[1]:t}function dA(e,t,n){ const _hh$temp306=n??{},o=_hh$temp306.overwrite; try{const s=new URL(e);for(const _hh$temp307 of Object.entries(t)) {const _hh$temp308=__arrayFrom$(_hh$temp307),a=_hh$temp308[0],r=_hh$temp308[1];o&&s.searchParams.delete(a),s.searchParams.append(a,r);} return s.toString()}catch{}return e}function Wf(e){ const _hh$temp309=Z.instance().config(),t=_hh$temp309.formCodeParamOnLinks; return t?dA(e,{form:t}):e}function dX(e){return  __call$(e,"replace",[/[.,!?]+$/,""]) }function mX(e,t){return!e||t<=0?!1: __get$(e,t-1) ==="@"||/[\w.-]+@/.test(e.slice(Math.max(0,t-20),t+1))}function b_e(e){const t=[];if(!e)return t;for(const n of e.matchAll(iX)){ const o=n[0],_hh$temp310=n,s=_hh$temp310.index; if(s<0||mX(e,s))continue;const a=dX(o);if(!/^https?:\/\//i.test(a)&&!lA(a))continue;const c=Ed(a),d=s+a.length;t.push({url:c,from:s,to:d})}return t}function I_e(e){return rm(e)?e:HT()+e}function E_e(e){const t=e.match(/^(?:https?:\/\/)?(?:www\.)?(.+)/i);return __call$(t&&t[1]?t[1]:e,"replace",[/\/$/,""]) }function w_e(e){return e?rm(e)? __call$(__call$(__call$(__call$(e,"replace",[/\/$/,""]),"replace",[/\//g,""]),"replace",["","//"]),"replace",[//g,"  "]) :e:""}function pX(e){try{const t=new URL(e);return["http:","https:"].includes(t.protocol)}catch{return!1}}const fX="copilot.com";function mA(e,t=fX){const n=e.toString(),o=typeof window<"u"&&( __get$(window,"location") .pathname.startsWith("/pages")|| __get$(window,"location") .pathname.startsWith("/shares/pages"));if(!$("add-utm-source")||o||!D1(e)||!pX(n))return n;try{if(new URL(n).searchParams.has("utm_source"))return n}catch(s){return R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"UtmSourceAppendError",eventInfo_errorMessage:s instanceof Error?s.message:String(s),eventInfo_details:n}}),n}return dA(n,{utm_source:t})}function T_e(e,t){try{return new URL(e).hostname}catch{return t}}const ss=u.forwardRef((e,t)=>{ const _hh$temp311=e,n=_hh$temp311.children,o=__get$(_hh$temp311,"href"),s=_hh$temp311.className,a=_hh$temp311.title,r=_hh$temp311["aria-controls"],c=_hh$temp311["aria-expanded"],d=_hh$temp311["aria-haspopup"],m=_hh$temp311["aria-label"],p=_hh$temp311.tabIndex,h=_hh$temp311.id,v=_hh$temp311.target,y=_hh$temp311.role,C=_hh$temp311.onClick,S=_hh$temp311.onPointerDown,b=_hh$temp311.onKeyDown,I=_hh$temp311.onFocus,x=_hh$temp311["data-spatial-focus-key"],E=_hh$temp311["data-spatial-navigation-autofocus"],k=_hh$temp311["data-testid"],w=_hh$temp311["data-ad-part"],_=eX(); return i.jsx("a",{id:h,ref:t,"aria-controls":r,"aria-expanded":c,"aria-haspopup":d,"aria-label":m,tabIndex:p,className:s,title:a,href:o&&mA(Wf(o)),target:v??"_blank",role:y,rel:_,onClick:C,onPointerDown:S,onKeyDown:b,onFocus:I,"data-spatial-focus-key":x,"data-spatial-navigation-autofocus":E,"data-testid":k,"data-ad-part":w,children:n})});ss.displayName="Link";const pA=u.forwardRef((e,t)=>{ const _hh$temp312=e,n=_hh$temp312.children,o=__rest$Object(_hh$temp312,["children"]); return i.jsx(G7,{ref:t,...o,children:n})});pA.displayName="RouterLink";const hX="SN:ROOT",gX=u.createContext(null);function im(){return u.useContext(gX)}const fA=u.createContext(hX);fA.displayName="FocusContext";function vX(){return u.useContext(fA)}function Ai(){}function yX( _hh$temp313 ){ var _hh$temp313$focusable=_hh$temp313.focusable,e=_hh$temp313$focusable===void 0?!0:_hh$temp313$focusable,_hh$temp313$saveLastFocusedChild=_hh$temp313.saveLastFocusedChild,t=_hh$temp313$saveLastFocusedChild===void 0?!0:_hh$temp313$saveLastFocusedChild,_hh$temp313$trackChildren=_hh$temp313.trackChildren,n=_hh$temp313$trackChildren===void 0?!1:_hh$temp313$trackChildren,_hh$temp313$autoRestoreFocus=_hh$temp313.autoRestoreFocus,o=_hh$temp313$autoRestoreFocus===void 0?!0:_hh$temp313$autoRestoreFocus,_hh$temp313$forceFocus=_hh$temp313.forceFocus,s=_hh$temp313$forceFocus===void 0?!1:_hh$temp313$forceFocus,_hh$temp313$isFocusBoundary=_hh$temp313.isFocusBoundary,a=_hh$temp313$isFocusBoundary===void 0?!1:_hh$temp313$isFocusBoundary,r=_hh$temp313.focusBoundaryDirections,c=_hh$temp313.focusKey,d=_hh$temp313.preferredChildFocusKey,_hh$temp313$onEnterPress=_hh$temp313.onEnterPress,m=_hh$temp313$onEnterPress===void 0?Ai:_hh$temp313$onEnterPress,_hh$temp313$onEnterRelease=_hh$temp313.onEnterRelease,p=_hh$temp313$onEnterRelease===void 0?Ai:_hh$temp313$onEnterRelease,_hh$temp313$onArrowPress=_hh$temp313.onArrowPress,h=_hh$temp313$onArrowPress===void 0?()=>!0:_hh$temp313$onArrowPress,_hh$temp313$onArrowRelease=_hh$temp313.onArrowRelease,v=_hh$temp313$onArrowRelease===void 0?Ai:_hh$temp313$onArrowRelease,_hh$temp313$onFocus=_hh$temp313.onFocus,y=_hh$temp313$onFocus===void 0?Ai:_hh$temp313$onFocus,_hh$temp313$onBlur=_hh$temp313.onBlur,C=_hh$temp313$onBlur===void 0?Ai:_hh$temp313$onBlur;  const S=im(),b=u.useCallback(ne=>{ne&&m(ne);},[m]),I=u.useCallback(()=>{p();},[p]),x=u.useCallback((ne,ae)=>h(ne,ae),[h]),E=u.useCallback(ne=>{v(ne);},[v]),k=u.useCallback((ne,ae)=>{y(ne,ae);},[y]),w=u.useCallback((ne,ae)=>{C(ne,ae);},[C]),_=u.useRef(null),_hh$temp314=__arrayFrom$(u.useState(!1)),N=_hh$temp314[0],L=_hh$temp314[1],_hh$temp315=__arrayFrom$(u.useState(!1)),B=_hh$temp315[0],F=_hh$temp315[1],K=vX(),G=u.useMemo(()=>S?c??crypto.randomUUID():void 0,[c,S]),te=u.useCallback((ne={})=>{G&&(S?.setFocus(G,ne));},[G,S]); return u.useEffect(()=>{const ne=_.current;return ne&&G&&S?.addFocusable({focusKey:G,node:ne,parentFocusKey:K,preferredChildFocusKey:d,onEnterPress:b,onEnterRelease:I,onArrowPress:x,onArrowRelease:E,onFocus:k,onBlur:w,onUpdateFocus:(ae=!1)=>L(ae),onUpdateHasFocusedChild:(ae=!1)=>F(ae),saveLastFocusedChild:t,trackChildren:n,isFocusBoundary:a,focusBoundaryDirections:r,autoRestoreFocus:o,forceFocus:s,focusable:e}),()=>{G&&S?.removeFocusable({focusKey:G})}},[]),u.useEffect(()=>{const ne=_.current;ne&&G&&S?.updateFocusable(G,{node:ne,preferredChildFocusKey:d,focusable:e,isFocusBoundary:a,focusBoundaryDirections:r,onEnterPress:b,onEnterRelease:I,onArrowPress:x,onArrowRelease:E,onFocus:k,onBlur:w})},[G,d,e,a,r,b,I,x,E,k,w,S]),{ref:_,focusSelf:te,focused:N,hasFocusedChild:B,focusKey:G}}function hA(...e){return t=>{for(const n of e)n&&(typeof n=="function"?n(t):n.current=t)}}function cm(e,...t){const n=yX({onEnterPress:()=>{n.ref.current?.click()},onFocus:()=>{n.ref.current?.focus(),e.scrollIntoViewOnFocus&&n.ref.current?.scrollIntoView({block:"nearest"})},onBlur:()=>{n.ref.current?.blur()},...e}),o=hA(...t,n.ref);return{focusable:n,refCallback:o}}const $f="relative flex items-center",oo="text-foreground-800 fill-foreground-800 active:text-foreground-600 active:fill-foreground-600 dark:active:text-foreground-650 dark:active:fill-foreground-650",tS="text-neutral-200 fill-neutral-200 active:text-neutral-300 active:fill-neutral-300 dark:text-neutral-800 dark:fill-neutral-800 dark:active:text-neutral-600 dark:active:fill-neutral-600",CX="text-foreground-250 fill-foreground-250 active:text-foreground-350 active:fill-foreground-350 dark:text-foreground-750 dark:fill-foreground-750 dark:active:text-foreground-650 dark:active:fill-foreground-650",SX="text-accent-550 fill-accent-550 active:text-accent-450/80 active:fill-accent-450/80 dark:text-accent-850 dark:fill-accent-850 dark:active:text-accent-700 dark:active:fill-accent-700",bX="text-foreground-550 active:text-foreground-350 dark:text-foreground-650 active:dark:text-foreground-600",dr="shadow-sm",nS="shadow-with-highlight-sm",IX="text-muted-550 safe-hover:text-accent-450 dark:text-foreground-700 dark:active:text-foreground-800",EX="bg-white/70 safe-hover:bg-accent-200 active:bg-accent-200/20 dark:bg-muted-550/30 dark:safe-hover:bg-background-100 dark:active:bg-background-200/20",wX="border-[0.5px] border-transparent safe-hover:border-accent-400 dark:safe-hover:border-accent-650",TX="text-accent-600 fill-accent-600 active:text-accent-400 active:fill-accent-400 dark:text-foreground-800 dark:fill-text-foreground-800 dark:active:text-foreground-900 dark:active:fill-foreground-900",xX="bg-accent-200 safe-hover:bg-accent-250 active:bg-accent-250 dark:bg-muted-350 dark:safe-hover:bg-muted-300 dark:active:bg-muted-300",AX="text-stone-200 fill-stone-200 active:text-stone-300 active:fill-stone-300",_X="bg-stone-800 safe-hover:bg-stone-700 active:bg-stone-750",jl="bg-transparent safe-hover:bg-white/50 active:bg-white/35 dark:safe-hover:bg-black/30 dark:active:bg-black/20",Vu={default:`${oo} ${nS} bg-white/70 safe-hover:bg-white active:bg-white/60 dark:bg-muted-550/30 dark:safe-hover:bg-muted-550/40 dark:active:bg-muted-550/20`,strong:`${CX} ${dr} bg-background-800 safe-hover:bg-black active:bg-background-750 dark:bg-muted-400 dark:safe-hover:bg-muted-450 dark:active:bg-muted-400/80`,accent:`${SX} bg-accent-250 safe-hover:bg-accent-300 active:bg-accent-200 dark:bg-accent-550 dark:safe-hover:bg-accent-450 dark:active:bg-accent-600/80`,"overlay-bright":`${oo} bg-white/40 safe-hover:bg-white/70 active:bg-white/30 dark:bg-white/8 dark:safe-hover:bg-white/10 dark:active:bg-white/5`,"overlay-bright-inverted":`${oo} bg-white/40 safe-hover:bg-white/70 active:bg-white/30 dark:bg-black/35 dark:safe-hover:bg-black/60 dark:active:bg-black/25`,"overlay-dimmed":`${oo} bg-black/8 safe-hover:bg-black/10 active:bg-black/5 dark:bg-black/35 dark:safe-hover:bg-black/60 dark:active:bg-black/25`,"overlay-dimmed-inverted":`${oo} bg-black/8 safe-hover:bg-black/10 active:bg-black/5 dark:bg-white/8 dark:safe-hover:bg-white/10 dark:active:bg-white/5`,"subtle-bright":`${oo} bg-transparent safe-hover:bg-white/50 active:bg-white/35 dark:safe-hover:bg-white/8 dark:active:bg-white/5`,"subtle-bright-inverted":`${oo} ${jl}`,"subtle-dimmed":`${oo} bg-transparent safe-hover:bg-black/5 active:bg-black/3 dark:safe-hover:bg-black/30 dark:active:bg-black/20`,"subtle-dimmed-inverted":`${oo} bg-transparent safe-hover:bg-black/5 active:bg-black/3 dark:safe-hover:bg-white/8 dark:active:bg-white/5`,acrylic:`${oo} ${dr} ${jl}`,"acrylic-inverted":`${tS} ${dr} bg-transparent dark:safe-hover:bg-white/50 dark:active:bg-white/35 safe-hover:bg-black/30 active:bg-black/20`,"acrylic-thin":`${oo} ${dr} ${jl}`,"acrylic-thin-hub":`${bX} ${dr} ${jl}`,"acrylic-thin-inverted":`${tS} ${dr} bg-transparent dark:safe-hover:bg-white/50 dark:active:bg-white/35 safe-hover:bg-black/30 active:bg-black/20`,chip:`${IX} ${EX} ${nS} ${wX}`,alert:"bg-system-red-600 safe-hover:bg-system-red-650 active:bg-system-red-550","composer-selected":`${TX} ${xX}`,"shopping-feedback":`${AX} ${_X}`},gA={acrylic:Co,"acrylic-inverted":VJ,"acrylic-thin":ma,"acrylic-thin-hub":GJ,"acrylic-thin-inverted":$J};function kX(e){return e in gA}const PX={start:"justify-start",center:"justify-center",end:"justify-end"},vA={"28-xxs":"text-sm","32-xs":"text-sm","36-sm":"text-sm","40-base":"text-sm","48-lg":"text-base","56-xl":"text-base","64-xxl":"text-base"},Es={"28-xxs":"gap-x-1.5","32-xs":"gap-x-1.5","36-sm":"gap-x-1.5","40-base":"gap-x-2","48-lg":"gap-x-3","56-xl":"gap-x-3","64-xxl":"gap-x-3"},yA={"28-xxs":`min-h-7 min-w-8 px-3 py-1 ${Es["28-xxs"]}`,"32-xs":`min-h-8 min-w-8 px-2.5 py-1 ${Es["32-xs"]}`,"36-sm":`min-h-9 min-w-9 px-2.5 py-1 ${Es["36-sm"]}`,"40-base":`min-h-10 min-w-10 px-3 py-2 ${Es["40-base"]}`,"48-lg":`min-h-12 min-w-12 px-3 py-2.5 ${Es["48-lg"]}`,"56-xl":`min-h-14 min-w-14 px-4 py-3.5 ${Es["56-xl"]}`,"64-xxl":`min-h-16 min-w-16 p-4 ${Es["64-xxl"]}`},MX={"28-xxs":"size-7","32-xs":"size-8","36-sm":"size-9","40-base":"size-10","48-lg":"size-12","56-xl":"size-14","64-xxl":"size-16"},qf={"28-xxs":"rounded-lg after:rounded-lg","32-xs":"rounded-lg after:rounded-lg","36-sm":"rounded-xl after:rounded-xl","40-base":"rounded-xl after:rounded-xl","48-lg":"rounded-2xl after:rounded-2xl","56-xl":"rounded-3xl after:rounded-3xl","64-xxl":"rounded-3xl after:rounded-3xl"},RX={none:"",weak:"after:border after:border-black/10 dark:after:border-white/10",regular:"after:border after:border-black/30 dark:after:border-white/30",strong:"after:border after:border-2 after:border-black/30 dark:after:border-white/30"},oS="rounded-full after:rounded-full",CA="opacity-40 pointer-events-none",SA="after:absolute after:inset-0 after:pointer-events-none after:border after:border-transparent after:contrast-more:border-2 outline-2 outline-offset-1 focus-visible:z-[1] focus-visible:outline focus-visible:outline-stroke-900",NX=O("safe-hover:bg-background-800 dark:safe-hover:bg-white","focus-visible:bg-background-800 dark:focus-visible:bg-white","safe-hover:text-foreground-200 safe-hover:fill-foreground-200 dark:safe-hover:text-foreground-200 dark:safe-hover:fill-foreground-200","focus-visible:text-foreground-200 focus-visible:fill-foreground-200 dark:focus-visible:text-foreground-200 dark:focus-visible:fill-foreground-200","safe-hover:after:border-transparent dark:safe-hover:after:border-transparent","focus-visible:after:border-transparent dark:focus-visible:after:border-transparent","safe-hover:outline-transparent safe-hover:dark:outline-transparent","focus-visible:outline-transparent focus-visible:dark:outline-transparent","group/button-stronger-focus"),LX=O("group-hover/button-stronger-focus:fill-foreground-200 group-hover/button-stronger-focus:text-foreground-200","group-focus-visible/button-stronger-focus:fill-foreground-200 group-focus-visible/button-stronger-focus:text-foreground-200");function X(e){ const _hh$temp316=e,t=_hh$temp316.ref,n=_hh$temp316.children,o=_hh$temp316.onFocus,s=_hh$temp316.onBlur,a=_hh$temp316.onKeyDown,r=_hh$temp316.onKeyUp,c=_hh$temp316.onMouseEnter,d=_hh$temp316.onMouseLeave,m=_hh$temp316.onContextMenu,p=_hh$temp316.className,h=_hh$temp316.title,_hh$temp316$variant=_hh$temp316.variant,v=_hh$temp316$variant===void 0?"rect":_hh$temp316$variant,_hh$temp316$alignment=_hh$temp316.alignment,y=_hh$temp316$alignment===void 0?"center":_hh$temp316$alignment,_hh$temp316$color=_hh$temp316.color,C=_hh$temp316$color===void 0?"default":_hh$temp316$color,_hh$temp316$outline=_hh$temp316.outline,S=_hh$temp316$outline===void 0?"none":_hh$temp316$outline,_hh$temp316$size=_hh$temp316.size,b=_hh$temp316$size===void 0?"40-base":_hh$temp316$size,I=_hh$temp316.id,x=_hh$temp316.role,E=_hh$temp316.testId,k=_hh$temp316.tabIndex,w=_hh$temp316.tooltip,_=_hh$temp316.strongerFocusColors,_hh$temp316$spatialNavigationAutofocus=_hh$temp316.spatialNavigationAutofocus,N=_hh$temp316$spatialNavigationAutofocus===void 0?!1:_hh$temp316$spatialNavigationAutofocus,L=_hh$temp316["aria-controls"],B=_hh$temp316["aria-expanded"],F=_hh$temp316["aria-haspopup"],K=_hh$temp316["aria-pressed"],G=_hh$temp316["aria-checked"],te=_hh$temp316["aria-label"],ne=_hh$temp316["aria-labelledby"],ae=_hh$temp316["aria-selected"],Te=_hh$temp316["aria-describedby"],he=_hh$temp316["aria-current"],Ee=_hh$temp316["aria-disabled"],Ae="disabled"in e&&e.disabled,Ue=typeof _=="boolean"?_:Z.instance().config().uiOverrides?.enableStrongerFocusButtons??!1,Fe=v==="circle"||v==="square",ke=v==="circle"||v==="pill",Ve=O($f,__get$(Vu,C),__get$(vA,b),__get$(PX,y),Fe?__get$(MX,b):__get$(yA,b),ke?oS:__get$(qf,b),SA,Ae&&CA,__get$(RX,S),Ue&&NX,p); let De=n;if(kX(C)){const be=O( __get$(gA,C) ,ke?oS: __get$(qf,b) );De=i.jsxs(i.Fragment,{children:[i.jsx("div",{className:O("absolute inset-0",be,Ue&&"group-hover/button-stronger-focus:hidden group-focus-visible/button-stronger-focus:hidden")}),i.jsx("div",{className:O($f, __get$(Es,b) ),children:n})]})} const _hh$temp317=cm({autoRestoreFocus:!0,forceFocus:!0},t??null),le=_hh$temp317.refCallback,oe=_hh$temp317.focusable,we=!!w,se=typeof w=="boolean"?void 0:w,z=we?void 0:h; let Q=te;we&&!te?.trim()&&(Q=h);let me;if("href"in e){ const _hh$temp318=e,be=__get$(_hh$temp318,"href"),ge=_hh$temp318.target,Ne=_hh$temp318.onClick,Ke=_hh$temp318.onPointerDown; me=i.jsx(ss,{id:I,onPointerDown:Ke,"aria-controls":L,"aria-describedby":Te,"aria-expanded":B,"aria-haspopup":F,"aria-label":Q,"aria-selected":ae,href:be,target:ge,role:x,ref:oe.ref,onClick:Ne,title:z,className:Ve,"data-testid":E,children:De})}else if("to"in e){ const _hh$temp319=e,be=_hh$temp319.to,ge=_hh$temp319.params,Ne=_hh$temp319.search,Ke=_hh$temp319.hash,Me=_hh$temp319.preload,Ye=_hh$temp319.resetScroll,re=_hh$temp319.onClick,He=_hh$temp319.onPointerDown; me=i.jsx(pA,{id:I,ref:oe.ref,onPointerDown:He,"aria-controls":L,"aria-describedby":Te,"aria-expanded":B,"aria-haspopup":F,"aria-label":Q,"aria-selected":ae,to:be,params:ge,search:Ne,hash:Ke,preload:Me,resetScroll:Ye,disabled:Ae,onClick:re,title:z,className:Ve,"data-testid":E,children:De})}else{ const _hh$temp320=e,be=_hh$temp320.onClick,ge=_hh$temp320.onPointerDown; me=i.jsx("button",{onPointerDown:ge,ref:le,id:I,"aria-controls":L,"aria-describedby":Te,"aria-expanded":B,"aria-haspopup":F,"aria-label":Q,"aria-labelledby":ne,"aria-pressed":K,"aria-checked":G,"aria-selected":ae,type:"button",className:Ve,title:z,role:x,disabled:Ae,onClick:be,onFocus:o,onBlur:s,onKeyDown:a,onKeyUp:r,onMouseEnter:c,onContextMenu:m,onMouseLeave:d,"data-testid":E,"data-spatial-navigation-autofocus":N,"data-spatial-focus-key":oe.focusKey,tabIndex:k,"aria-current":he,"aria-disabled":Ee,children:De})}if(!we)return me; const _hh$temp321=se??{},pe=_hh$temp321.tooltipContentProps,We=__rest$Object(_hh$temp321,["tooltipContentProps"]); return i.jsxs(Kx,{...We,children:[i.jsx(J1,{asChild:!0,children:me}),i.jsx(Q1,{...pe,children:h})]})}X.displayName="Button";const DX=100,x_e=300,Hu=P([]);function bA(){ const e=M(Hu),_hh$temp322=__arrayFrom$(u.useState(!1)),t=_hh$temp322[0],n=_hh$temp322[1],o=u.useRef(null); u.useEffect(()=>(o.current=setTimeout(()=>n(!0),DX),()=>{o.current&&clearTimeout(o.current)}),[]);const s=t?e:[];return i.jsxs("div",{className:"sr-only",children:[i.jsx(sS,{messages:s.filter(a=>a.type==="polite"),type:"polite"}),i.jsx(sS,{messages:s.filter(a=>a.type==="assertive"),type:"assertive"})]})}function sS( _hh$temp323 ){ var e=_hh$temp323.messages,t=_hh$temp323.type; return i.jsx("div",{"aria-live":t,"aria-atomic":"true",children:e.map(n=>i.jsx("div",{"aria-label":n.msg,children:n.msg},n.id))})}function Rs(e){ const t=u.useRef(null),_hh$temp324=e,n=_hh$temp324.isOpen,o=_hh$temp324.dialogName,s=_hh$temp324.headerText,a=_hh$temp324.headerIcon,r=_hh$temp324.headerTextClassName,c=_hh$temp324.headerTextSuffix,d=_hh$temp324.fullBleed,m=_hh$temp324.children,p=_hh$temp324.onClose,h=_hh$temp324.className,v=_hh$temp324.bottomSheetClassName,y=_hh$temp324.closeButtonTestId,_hh$temp324$centerHeader=_hh$temp324.centerHeader,C=_hh$temp324$centerHeader===void 0?!1:_hh$temp324$centerHeader,_hh$temp324$backdropOpacity=_hh$temp324.backdropOpacity,S=_hh$temp324$backdropOpacity===void 0?"default":_hh$temp324$backdropOpacity,_hh$temp324$fadeInDuration=_hh$temp324.fadeInDuration,b=_hh$temp324$fadeInDuration===void 0?eo.default:_hh$temp324$fadeInDuration,I=_hh$temp324.bottomSheetOnSmall,x=_hh$temp324.customScrollBar,E=_hh$temp324["aria-labeledby"],_hh$temp324$hideDismissButton=_hh$temp324.hideDismissButton,k=_hh$temp324$hideDismissButton===void 0?!1:_hh$temp324$hideDismissButton,_hh$temp324$preventClose=_hh$temp324.preventClose,w=_hh$temp324$preventClose===void 0?!1:_hh$temp324$preventClose,_=u.useRef(null),_hh$temp325=Y(),N=_hh$temp325.t,L=vt({breakpoint:"sm"}),B=u.useId(),F=I&&L,K=S==="none"?"backdrop:bg-transparent":"backdrop:bg-background-850/30 dark:backdrop:bg-background-150/70",G=((n&&!F)&&p!==void 0)&&!w; ds({onOutsideEvent:G?p:()=>{},elements:G?[_]:[],includeScroll:!1,includeFocus:!1}); const _hh$temp326=iA({trapFocus:!0,legacyTrapFocus:!0,alwaysFocusable:!0}),te=_hh$temp326.modalAttributes; if(u.useEffect(()=>{n?t.current?.showModal():t.current?.close()},[n]),u.useEffect(()=>{const ne=t.current;if(!ne)return()=>{};const ae=he=>{he.key==="Escape"&&w&&he.preventDefault()},Te=he=>{w&&he.preventDefault(),p?.()};return ne.addEventListener("keydown",ae),ne.addEventListener("cancel",Te),()=>{ne.removeEventListener("keydown",ae),ne.removeEventListener("cancel",Te)}},[n,p,w]),F&&n){const ne=!d&&s;return i.jsxs(cA,{onClose:p,className:v,children:[ne&&i.jsx("h2",{id:B,className:"py-6 text-center text-foreground-850 text-2xl",children:s}),m]})}return i.jsx(Ce.dialog,{className:O("fixed inset-0 m-auto rounded-4xl border border-white/10 bg-background-150 text-foreground-800 shadow-xl dark:bg-background-250",K,x&&"t-custom-scrollbar"),animate:n?"animate":"initial",initial:"initial",exit:"exit",variants:{initial:Be,animate:ct},transition:{duration:b,ease:"easeInOut"},ref:t,role:"dialog","aria-modal":"true","aria-labelledby":s?B:E,"aria-label":s?void 0:o,...n?te:{},children:n&&i.jsxs("div",{"data-modal-overlay":"true",className:O("flex min-h-[150px] flex-col gap-3",!d&&"p-6",h),ref:_,children:[i.jsx(bA,{}),!d&&i.jsxs("div",{className:O("flex items-center justify-between gap-2",{"justify-center":C}),children:[s&&i.jsxs("div",{children:[a,i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("h2",{id:B,className:O("text-foreground-800 text-lg-strong",r),children:s}),c]})]}),p&&!k&&i.jsx(X,{variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:N("common.closeText"),"aria-label":N("common.closeText"),onClick:p,testId:y,children:i.jsx(sn,{className:"size-5"})})]}),m]})})}function OX(e){ const _hh$temp327=e,t=_hh$temp327.key,n=_hh$temp327.initialValue; return nd(t,n,{getItem:()=>Xt(t)??n,setItem:(s,a)=>{a===void 0?uo(t):lo(t,a)},removeItem:()=>uo(t)},{getOnInit:!0})}u.lazy(async()=>{ const _hh$temp328=__arrayFrom$(await Promise.all([D(()=>import(__get$ProxyUrl("./index-JKAN6H1j.js","https://copilot.microsoft.com/static/cmc/assets/")),__vite__mapDeps([12,1,7])),D(()=>import(__get$ProxyUrl("./monokai-bKOQMHTz.js","https://copilot.microsoft.com/static/cmc/assets/")),[])])),_hh$temp328$i0=_hh$temp328[0],e=_hh$temp328$i0.default,_hh$temp328$i1=_hh$temp328[1],t=_hh$temp328$i1.monokaiTheme; return{default:function( _hh$temp329 ){ var o=_hh$temp329.value,_hh$temp329$collapsed=_hh$temp329.collapsed,s=_hh$temp329$collapsed===void 0?1:_hh$temp329$collapsed; return i.jsxs(e,{value:o,collapsed:s,style:t,displayDataTypes:!1,displayObjectSize:!1,indentWidth:15,shortenTextAfterLength:20,enableClipboard:!0,children:[i.jsx(e.Null,{render:()=>i.jsx("span",{style:{color:"#FA2672"},children:"null"})}),i.jsx(e.Undefined,{render:()=>i.jsx("span",{style:{color:"#FD971F"},children:"undefined"})})]})}}});OX({key:"turnTelemetry",initialValue:{}});function A_e(e,t){const n=j(Se),o={eventName:"copilotImpression",eventInfo_impressionScenario:e,eventInfo_messageId:t.messageId,eventInfo_conversationId:n,eventInfo_customData:t.customData};R.trackEvent({name:"system",data:o})}function UX(e){ const _hh$temp330=e,t=_hh$temp330.errorType,n=_hh$temp330.errorMessage,o=_hh$temp330.messageId,s=_hh$temp330.conversationId,a=_hh$temp330.customData,r={eventName:"copilotError",eventInfo_feature:"imageGen",eventInfo_scenario:"generateImage",eventInfo_errorType:t,eventInfo_errorMessage:n,eventInfo_messageId:o,eventInfo_conversationId:s,eventInfo_customData:a}; R.trackEvent({name:"health",data:r})}function IA(e){ye(gt,t=>tn(t,n=>{const o=n.get(e.id);o&&(e.title!==void 0&&(o.title=e.title),o.updatedAt=e.updatedAt,o.continuedAt=e.continuedAt,e.characterId!==void 0&&(o.characterId=e.characterId),e.group!==void 0&&(o.group=e.group))}))}async function FX(e){const t=await ut(`/conversations/${e}`,Jg,{options:{method:"GET"},parseOptions:{safe:!0},analytics:{anonymousPath:"/conversations/*"}}).then(n=>n.data);IA(t)}function __e(e,t){ const _hh$temp331=Fo({queryKey:["conversationMetadata",e],queryFn:async ()=>await ut(`/conversations/${e}`,Jg,{options:{method:"GET"},parseOptions:{safe:!0},analytics:{anonymousPath:"/conversations/*"}}).then(c=>c.data),enabled:!!e,...t}),n=_hh$temp331.data,o=_hh$temp331.isLoading,s=_hh$temp331.error,a=_hh$temp331.refetch; return u.useEffect(()=>{n&&IA(n)},[n,e]),{data:n,isLoading:o,error:s,refetch:u.useCallback(()=>{a()},[a])}}function ln(){return O2({select:t=>t.pathname})}const Kf="enable-temporary-conversation";function hs(){const e=ln(),t=$(Kf);return e===yg&&t}function lm(e){const t=e?.length?e.includes(Kf):$(Kf);return  __get$(window,"location") .pathname===yg&&t}function EA(e,t){const n=Z.instance().config();return e&&!n.settingsOverrides?.shouldHideMultipleCharacters&&!t}function ri(){const e=W("multiplecharacters"),t=hs();return EA(e,t)}function Yf(){const e=$("multiplecharacters"),t=lm();return EA(e,t)}function wA(){return kn({to:"/",from: __get$(Un().state,"location") .pathname})}const xp=P(!1),TA=P(!1),Zf=P(null),aS=P(null),jX=P(null),BX=P(!0),VX=P(-1),k_e=P(!1),P_e=nd("muteCoachmarkVisible",!0),HX=nd("studyVoiceCoachmarkNumberOfTimesShown",0),M_e=P(!1),s0=P("idle");function zX(e,t,n,o={text:"",atTimestamp:0,files:[]}){return n?t.length!==o.files.length?!0:!!!(e&&e.length>=n.minTextLength)||o.atTimestamp&&o.atTimestamp+n.debounceInMilliseconds>=Date.now()?!1:e&&o.text&&(e.includes(o.text)||o.text.includes(e))?Math.abs((e.length-o.text.length)/o.text.length)>=n.textDeltaPercent/100:!0:!1}function R_e(e){let t,n;for(let o=e.length-1;o>=0;o-=1){const s= __get$(e,o) ;if(s?.author!=="system")if(!t)t=s;else{n=s;break}}return{lastNonSystemMessage:t,secondToLastNonSystemMessage:n}}P(null);const rS=P(new Map),xA=P(null),GX=P(!1),_s=P(null),sl=P(e=>{const t=e(_s);return t?.type==="attachments"?t.uploadAttachments:[]},(e,t,n)=>{const o=e(_s),s=e(sl),a=typeof n=="function"?n(s):n;a.length===0&&o?.type!=="attachments"||t(_s,{type:"attachments",uploadAttachments:a})}),Do=P(e=>{const t=e(_s);return t?.type==="tabs"?t.userAddedTabs:new Map},(e,t,n)=>{const o=e(_s),s=e(Do),a=typeof n=="function"?n(s):n;a.size===0&&o?.type!=="tabs"||t(_s,{type:"tabs",userAddedTabs:a})}),AA=P(e=>{const t=e(_s);return t?.type==="attachments"&&t.uploadAttachments.length>0}),WX=P(e=>{const t=e(_s);if(t?.type!=="tabs"||t.userAddedTabs.size===0)return!1;for(const n of t.userAddedTabs.values())if(n.sourceType==="journeysNTP")return!1;return!0}),Hr=P(null);function $X(){if(tA()?.type!=="map")return;const t=j(Hr);if(!t?.map)return; const _hh$temp332=t,n=_hh$temp332.map,o=_hh$temp332.activeLayerId,s=_hh$temp332.layers; try{ const a=!t.isInitialMapContextSent,_hh$temp333=n.getView(),r=_hh$temp333.center,c=_hh$temp333.zoom,d=_hh$temp333.bearing,m=_hh$temp333.pitch,p=_hh$temp333.bounds; return{center:r,zoom:c,bounds:p,bearing:d,pitch:m,isNewMap:a,activeLayerId:o,points:a?s[0]?.pushpins?.map(h=>({coordinate:{latitude:h.latitude,longitude:h.longitude},label:h.title})):void 0,label:a?s[0]?.name:void 0}}catch{return}}function qX(){const e=j(Hr);e&&ye(Hr,{...e,isInitialMapContextSent:!0})}function KX(){const e=j(NT);if(e)return{character:{id:e.id,locationId: __get$(e,"location") ?.id}}}function _A(){const e=hg(gt),t=q(zd);return u.useCallback((n,o)=>{e(s=>{const a=s.get(n);if(a){ const _hh$temp334=a,r=_hh$temp334.history; o(r);const c=r.at(-1);if(c){const d=new Date(a.updatedAt),m=new Date(c.createdAt);d<m&&(a.updatedAt=c.createdAt)}r.length>2&&(a.isNew=!1,t(!0))}return s})},[e,t])}const YX=_e();function kA(e,t){_e().set(gt,n=>tn(n,o=>{const s=o.get(e);if(s){ const _hh$temp335=s,a=_hh$temp335.history; t(a);const r=a.at(-1);if(r){const c=new Date(s.updatedAt),d=new Date(r.createdAt);c<d&&(s.updatedAt=r.createdAt)}a.length>2&&(s.isNew=!1,YX.set(zd,!0))}}))}function um(e){const t=W("force-cookie-banner-location");return(e&&bd.includes(e))===!0||t}const ZX=5e3,JX="largest-contentful-paint";function QX(e,t=ZX){if(!XX())return Jf(e,t);try{return tee(e,t)}catch{return Jf(e,t)}}function XX(){return"PerformanceObserver"in window}function Jf(e,t){const n=setTimeout(e,t);return()=>clearTimeout(n)}function eee(e){typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,0)}function tee(e,t){let n=!1;const o=new PerformanceObserver(c=>{if(n)return;c.getEntries().length>0&&a()});try{o.observe({type:JX,buffered:!0})}catch{return Jf(e,t)}const s=setTimeout(()=>{n||a()},t);function a(){n=!0,o.disconnect(),eee(e)}function r(){n||(n=!0,o.disconnect(),clearTimeout(s))}return r}function nee(){const e=rt("kill-bing-uet"),t=M(Ut),n=um(t);u.useEffect(()=>{const o=Ma(),s=!!ug(),a=n?s&&o.advertising:!0;if(e||!a||!t)return;const r=document.createElement("script");r.src="https://bat.bing.com/bat.js",r.defer=!0,r.onload=()=>{if(!window.UET)return;window.uetq=window.uetq??[];const m={ti:"355045625",enableAutoSpaTracking:!0};window.uetq=new window.UET(m),window.uetq.push("pageLoad")};const d=QX(()=>{document.querySelector('script[src="https://bat.bing.com/bat.js"]')||document.head.appendChild(r)});return()=>{d();try{const m=document.querySelector('script[src="https://bat.bing.com/bat.js"]');m&&document.head.removeChild(m)}catch{}}},[e,t,n])}let iS=!1;function oee(){iS||(iS=!0,window.uetq=window.uetq??[],window.uetq.push("event","outbound_click",{}))}const cS="/static/cmc/assets/smart-plus-C84sN6Eu.svg",see="/static/cmc/assets/smart-nS7kuhS0.svg";function PA(e){return e?e.startsWith("!"):!1}function aee(){return $("smart-mode-52-dropdown")&&!$("smart-mode-52")}function MA(){let e=[...o1];const t=new Set;return aee()||t.add("smart-latest"),$("remove-qr")&&t.add("chat"),Qc()&&e.push("analyst"),e=e.filter(n=>!t.has(n)),e}function ree(e){return MA().includes(e)?e:null}function RA(){const e=Xt("sticky-conversation-mode");return e?ree(e):null}function Qf(e){const t=$("smart-mode-51"),n=$("smart-mode-52"),s=$("smart-mode-52-dropdown")&&!n,a=[{label:t?FN:UN,color:"neutral"}],r={label:jN,color:s?"accent":"neutral"},c={label:U("composer.chatModes.smart-latest.newTag"),color:"accent"};return n?{title:cC,tags:[r],description:U("composer.chatModes.smart-latest.description"),icon:cS}:e==="smart-latest"?{title:cC,tags:[r,c],description:U("composer.chatModes.smart-latest.description"),icon:cS}:{title:ON,tags:a,description:U("composer.chatModes.smart.description"),icon:see}}function iee(e){return e==="smart"||e==="smart-latest"?Qf(e).title:U(`composer.chatModes.${e}.title`)}function cee(e){_t({scenario:"sideBySideMessages",page:"chat",customData:JSON.stringify({eventInfo_event:"receivedSxsEvent",eventInfo_sideBySideComparisonId:e})})}function lee(e){ const _hh$temp336=e,t=_hh$temp336.sideBySideComparisonId,n=_hh$temp336.reason; _t({scenario:"sideBySideMessages",page:"chat",customData:JSON.stringify({eventInfo_event:"skippedSxsMessages",eventInfo_sideBySideComparisonId:t,eventInfo_skippedReason:n})})}function uee(e){ const _hh$temp337=e,t=_hh$temp337.sideBySideComparisonId,n=_hh$temp337.sideBySideConfig,_hh$temp338=n,o=_hh$temp338.position,s=_hh$temp338.isDefault; fe({pageName:"chat",sectionName:"sideBySideMessages",source:"selectedSxs",customData:JSON.stringify({eventInfo_sideBySideComparisonId:t,eventInfo_position:o,eventInfo_isControlMessage:s})})}function NA(e){ const _hh$temp339=e,t=_hh$temp339.sideBySideComparisonId,n=_hh$temp339.reason; fe({pageName:"chat",sectionName:"sideBySideMessages",source:"defaultedSxs",customData:JSON.stringify({eventInfo_sideBySideComparisonId:t,eventInfo_defaultReason:n})})}const zr=24e3,LA=24e3,lS=2,dee=1;function mee(e){const t=atob(e),n=t.length,o=new Uint8Array(n);for(let s=0;s<n;s+=1) __set$(o,s,t.charCodeAt(s)) ;return o.buffer}function pee(e){const t=mee(e),n=new Int16Array(t),o=new Float32Array(n.length);for(let s=0;s<n.length;s+=1) __set$(o,s,__get$(n,s)/32768) ;return o}function fee(e){let t=0;for(const n of e){const o=n-128;t+=o*o}return Math.sqrt(t/e.length)}function DA(e){return e/Uc}function N_e(e){return`${DA(e)}x`}function L_e(e,t){const n=document.createElement("a"); __set$(n,"href",e) ,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function D_e(e){const t=Math.floor(e/60),n=e%60;return`${t}:${n.toString().padStart(2,"0")}`}function uS(e,t){Ie.emit(`voice:audio-${t}-volume-changed`,e)}function dm(){return/firefox/i.test(navigator.userAgent)}function hee(e){let t="";const n=new Uint8Array(e),o=n.byteLength;for(let s=0;s<o;s+=1){const a= __get$(n,s) ;typeof a=="number"&&(t+=String.fromCharCode(a))}return btoa(t)}function gee(e){const t=e<0?e*32768:e*32767;return Math.max(-32768,Math.min(32767,t))}function O_e(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;n+=1){const o= __get$(e,n) ??0; __set$(t,n,o<0?o/32768:o/32767) }return t}function vee(e,t,n){if(t===n)return e;const o=e.length,s=t/n,a=Math.ceil(o/s),r=new Float32Array(a);for(let c=0;c<a;c+=1){const d=c*s,m=Math.floor(d),p=m+1,h= __get$(e,m) ??0,v= __get$(e,p) ??0,y=d-m; __set$(r,c,h*(1-y)+v*y) }return r}const yee= __get$(new URL("send-base64-processor-PybYkP9T.js",import.meta.url),"href") ;function OA(e,t){t(e),$("voice-upload-diagnostic-audio")&&D(async()=>{ const _hh$temp340=await Promise.resolve().then(()=>Pr),o=_hh$temp340.AUDIO_RECORDER; return{AUDIO_RECORDER:o}},void 0).then(( _hh$temp341 )=>{ var o=_hh$temp341.AUDIO_RECORDER; o.recordEvent({event:"userAudio",audio:e})})}function UA(){let e=8192;return $("audio-buffer-size-4096")?e=4096:$("audio-buffer-size-2048")&&(e=2048),e}function Cee(e,t){const n=UA(),o=e.createScriptProcessor(n,1,1);return o.onaudioprocess=s=>{let a=s.inputBuffer.getChannelData(0);dm()&&(a=vee(a,e.sampleRate,zr));const r=new Int16Array(a.length);for(let d=0;d<a.length;d+=1){const m= __get$(a,d) ;typeof m=="number"&&( __set$(r,d,gee(m)) )}const c=hee(r.buffer);OA(c,t)},{processor:o,cleanup:()=>{o.onaudioprocess=null}}}async function See(e,t){const n=UA();try{await e.audioWorklet.addModule(yee)}catch(r){throw tt({feature:"audio-capture-worklet",scenario:"addModule-failed",errorType:"WorkletModuleLoadError",errorMessage:r instanceof Error?r.message:"Unknown error"}),r}const o=new AudioWorkletNode(e,"send-base64-processor",{processorOptions:{bufferSize:n,shouldResampleAudio:dm(),inputSampleRate:e.sampleRate,targetSampleRate:zr}}),s=new Worker(new URL("/static/cmc/assets/audio-base64.worker-C9NDBjTp.js",import.meta.url),{type:"module"});return s.onerror=r=>{tt({feature:"audio-capture-worklet",scenario:"worker-error",errorType:"WorkerError",errorMessage:r.message||"Audio worker error"})},o.port.onmessage=r=>{const c=r.data; __call$(s,"postMessage",[c,[c]]) },s.onmessage=r=>{const c=r.data;OA(c,t)},{processor:o,cleanup:()=>{o.port.onmessage=null,s.onmessage=null,s.onerror=null,s.terminate(),o.disconnect()}}}const bee="AUDIO_CANCELLED_ERROR";class FA extends Error{constructor(){super("Audio capture was cancelled"),this.name=bee}}async function Iee(e,t,n){const o=e&&await e(),s=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0,autoGainControl:!0,sampleRate:dm()?void 0:zr,...o}});if(n?.()){for(const r of s.getTracks())r.stop();throw new FA}const a=s.getAudioTracks()[0];return a&&(a.onended=r=>{t?.(r)}),s}function Eee(e,t){const n=typeof e=="string"?pee(e):e,o=t.createBuffer(1,n.length,LA);o.getChannelData(0).set(n);const s=t.createBufferSource();return s.buffer=o,s}async function wee(e,t,n,o,s,a){const r=await Iee(o,s,a),d=typeof t.audioWorklet<"u"&&$("enable-audio-capture-worklet");_t({page:"audio-capture-stream",scenario:d?"worklet":"script-processor"}); const m=d?await See(t,e):Cee(t,e),_hh$temp342=m,p=_hh$temp342.processor,h=_hh$temp342.cleanup,v=t.createMediaStreamSource(r); return v.connect(n),n.connect(p),p.connect(t.destination),{stream:r,cleanup:()=>{h(),v.disconnect(),n.disconnect(),p.disconnect()}}}async function dS(e,t){(await Promise.race([ud(t),new Promise(o=>{try{const s=new Audio(e);s.addEventListener("ended",()=>o(s),{once:!0}),s.play()}catch{}})]))?.remove()}function Tee(e,t){switch(t){case"time-expired":return{title:e("voice.v2.timeExpiredProHeading"),subtitle:e("voice.v2.timeExpiredProSubheading")};case"throttled":return{title:e("voice.v2.throttledHeadingV2"),subtitle:e("voice.v2.throttledSubheadingV2")};case"error":default:return{title:e("voice.v2.errorHeading"),subtitle:e("voice.v2.errorSubheading")}}}function xee(e){if(!e)return!0;switch(e.category){case"server-terminated":return!["time-expired","throttled","inactivity"].includes(e.detail);default:return!0}}async function jA(){try{return(await navigator.permissions.query({name:"microphone"})).state}catch{return"unsupported"}}async function Aee(){try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});for(const t of e.getTracks())t.stop();return{state:"granted"}}catch(e){return e instanceof Error&&(e.name==="NotAllowedError"||e.name==="NotSupportedError")?{state:"denied",errorType:"no_permission",errorMessage:e.message}:e instanceof Error&&(e.name==="NotFoundError"||e.name==="OverconstrainedError")?{state:"denied",errorType:"no_microphone_found",errorMessage:e.message}:{state:"denied",errorType:"other_start_fail",errorMessage:e instanceof Error?e.message:String(e)}}}async function BA(e){switch(await jA()){case"granted":return{state:"granted"};case"denied":return{state:"denied",errorType:"no_permission",errorMessage:"Microphone permission denied."};case"prompt":case"unsupported":return e?.onPrompt&&e.onPrompt(),await Aee();default:return{state:"denied",errorType:"no_permission"}}}const VA="4";class _ee extends Error{constructor(){super("User subscription fields were not updated after retries"),this.name="USER_SUBSCRIPTION_FIELDS_NOT_UPDATED"}}class kee extends Error{constructor(){super("User profile not valid"),this.name="USER_PROFILE_NOT_VALID"}}async function a0(){return ut("/user",iw,{parseOptions:{safe:!0},query:{"api-version":VA}}).then(e=>e.data)}function Pee(e,t){const n=!e||e.length===0,o=!t||t.length===0;if(n&&o)return!0;if(n||o)return!1;const s=(a,r)=>a.channel.localeCompare(r.channel)||a.tier.localeCompare(r.tier);return JSON.stringify([...e].sort(s))===JSON.stringify([...t].sort(s))}async function HA(e){R.setSettings({userConsentModelTraining:!e.optOutOfTraining,userConsentPersonalization:!e.optOutOfPersonalization,userSettingPhoneConnection:!e.optOutOfPhoneConnection,userSettingComputerUseActions:e.allowComputerUseActions,userSettingGenUI:!e.optInToGenerativeUI}),await Nt({path:"/user/settings",args:{options:{method:"PATCH"},query:{"api-version":"2"},body:{toggles:{training:e.optOutOfTraining!==void 0?!e.optOutOfTraining:void 0,personalization:e.optOutOfPersonalization!==void 0?!e.optOutOfPersonalization:void 0,"phone-connection":e.optOutOfPhoneConnection!==void 0?!e.optOutOfPhoneConnection:void 0,"voice-training":e.optInToVoiceTraining,"biometric-data-use":e.allowBiometricDataUse,"browser-cookies":e.allowBrowserCookies,"microsoft-profile-access":e.allowMicrosoftProfileAccess,"one-drive-access":e.allowOneDriveAccess,"computer-use-actions":e.allowComputerUseActions,allowOutlookAccess:e.allowOutlookAccess,allowEdgePasswordsAccess:e.allowEdgePasswordsAccess,optInToGenerativeUI:e.optInToGenerativeUI}}}})}function zA(e){const t=_e();t.set(Kd,e.remainingUsage?.podcastGenerations??null),t.set(Yd,e.remainingUsage?.researchCalls??null),t.set(Zd,e.remainingUsage?.videoGenerations??null),t.set(OT,e.remainingUsage?.taskCreations??null)}async function Mee(){const e=await a0();zA(e)}const Ree=6,Nee=2e3,Lee=.1;async function Dee(e={}){ const _hh$temp343=e,_hh$temp343$maxRetries=_hh$temp343.maxRetries,t=_hh$temp343$maxRetries===void 0?Ree:_hh$temp343$maxRetries,_hh$temp343$retryDelayMs=_hh$temp343.retryDelayMs,n=_hh$temp343$retryDelayMs===void 0?Nee:_hh$temp343$retryDelayMs,_hh$temp343$jitterFactor=_hh$temp343.jitterFactor,o=_hh$temp343$jitterFactor===void 0?Lee:_hh$temp343$jitterFactor,s=j(yt); if(!s)throw new kee;const a=await Aa(async()=>{const c=await a0();if(!!Pee(c.subscriptions,s.subscriptions))throw new _ee;return c},{maxRetries:t,initialDelayMs:n,maxDelayMs:n*(1+o),backoffFactor:1,jitterFactor:o});_e().set(yt,c=>c&&{...c,accountTier:a.accountTier??null,subscriptions:a.subscriptions??null}),zA(a),R.setSettings({accountTier:a.accountTier??"free",activeSubscriptions:a.subscriptions?.map(c=>c.tier).join(",")??""})}const Nn=P(null),mS=P(!1),Oee=P(!1),Bl=P("close");P(!1);const Ui=P(!1),GA=P(!1);class r0{static instance;sessionStartTime=0;firstContextTime=0;currentConversationId="";currentSessionId="";currentEntryPoint;contextRequestCount=0;screenIdCount=0;static getInstance(){return this.instance??=new r0,this.instance}onBeforeStartSession(){this.sessionStartTime=performance.now()}onStartSession(t,n){this.currentConversationId=t,this.currentSessionId=crypto.randomUUID(),this.currentEntryPoint=n,this.contextRequestCount=0,this.screenIdCount=0,this.firstContextTime=0,R.trackEvent({name:"system",data:{eventName:"visionSessionStart",eventInfo_conversationId:this.currentConversationId,eventInfo_entryPoint:this.currentEntryPoint,eventInfo_duration:this.getDuration(this.sessionStartTime),eventInfo_customData:this.getCustomData({shareType:this.getShareType()})}})}onStartSessionFailed(t,n){R.trackEvent({name:"system",data:{eventName:"visionSessionStartFailed",eventInfo_conversationId:this.currentConversationId,eventInfo_reason:t,eventInfo_duration:this.getDuration(this.sessionStartTime),eventInfo_customData:this.getCustomData({shareType:n})}})}onContextRequested(){this.isSessionActive()&&(this.contextRequestCount+=1,R.trackEvent({name:"system",data:{eventName:"visionContextRequested",eventInfo_conversationId:this.currentConversationId,eventInfo_customData:this.getCustomData({requestCount:this.contextRequestCount})}}))}onContextReceived(t){this.isSessionActive()&&(this.screenIdCount=t,this.firstContextTime||(this.firstContextTime=performance.now(),R.trackEvent({name:"system",data:{eventName:"visionFirstContextReceived",eventInfo_conversationId:this.currentConversationId,eventInfo_duration:this.getDuration(this.sessionStartTime),eventInfo_customData:this.getCustomData({screenIdCount:t})}})),R.trackEvent({name:"system",data:{eventName:"visionContextReceived",eventInfo_conversationId:this.currentConversationId,eventInfo_customData:this.getCustomData({screenIdCount:t,requestCount:this.contextRequestCount})}}))}onContextCleared(t){this.isSessionActive()&&R.trackEvent({name:"system",data:{eventName:"visionContextCleared",eventInfo_conversationId:this.currentConversationId,eventInfo_customData:this.getCustomData({clearedScreenIdCount:t})}})}onStaleScreenIdsCleared(t){t!==0&&R.trackEvent({name:"system",data:{eventName:"visionStaleScreenIdsCleared",eventInfo_conversationId:this.currentConversationId,eventInfo_customData:this.getCustomData({staleCount:t})}})}onEndSession(){if(!this.currentSessionId)return;const t=this.getDuration(this.sessionStartTime);R.trackEvent({name:"system",data:{eventName:"visionSessionEnd",eventInfo_conversationId:this.currentConversationId,eventInfo_entryPoint:this.currentEntryPoint,eventInfo_duration:t,eventInfo_customData:this.getCustomData({contextRequestCount:this.contextRequestCount,screenIdCount:this.screenIdCount,timeToFirstContext:this.firstContextTime?Math.round(this.firstContextTime-this.sessionStartTime):void 0})}}),this.currentSessionId="",this.currentEntryPoint=void 0,this.sessionStartTime=0,this.firstContextTime=0,this.currentConversationId="",this.contextRequestCount=0,this.screenIdCount=0}onVisionDroppedToVoice(){this.isSessionActive()&&(R.trackEvent({name:"system",data:{eventName:"visionDroppedToVoice",eventInfo_conversationId:this.currentConversationId,eventInfo_duration:this.getDuration(this.sessionStartTime),eventInfo_customData:this.getCustomData({contextRequestCount:this.contextRequestCount,screenIdCount:this.screenIdCount,timeToFirstContext:this.firstContextTime?Math.round(this.firstContextTime-this.sessionStartTime):void 0})}}),this.currentSessionId="",this.currentEntryPoint=void 0,this.sessionStartTime=0,this.firstContextTime=0,this.currentConversationId="",this.contextRequestCount=0,this.screenIdCount=0)}onError(t,n){R.trackEvent({name:"system",data:{eventName:"visionSessionError",eventInfo_conversationId:this.currentConversationId,eventInfo_errorCode:t,eventInfo_errorMessage:n,eventInfo_duration:this.getDuration(this.sessionStartTime),eventInfo_customData:this.getCustomData()}})}getCurrentSessionId(){return this.currentSessionId}isSessionActive(){return j(Nn)!==null}getShareType(){return j(Nn)?.sharedItem?.shareType??null}getDuration(t){if(!(!Number.isFinite(t)||t<0))return Math.round(performance.now()-t)}getCustomData(t){return JSON.stringify({visionSessionId:this.currentSessionId,...t})}}const Qt=r0.getInstance();class Uee{screenIds=[];pendingStatePreviousPath=null;async enterPendingState(t){this.pendingStatePreviousPath??= __get$(Un().state,"location") .pathname,t?(ye(Ui,!0),await io({talkType:"vision"}),ye(en,"dismiss-audio-call-only")):await io()}async exitPendingState(t={}){ const _hh$temp344=t,_hh$temp344$navigateBack=_hh$temp344.navigateBack,n=_hh$temp344$navigateBack===void 0?!1:_hh$temp344$navigateBack,o=this.pendingStatePreviousPath; if(this.pendingStatePreviousPath=null,o&&ye(en,null),n&&o){const s= __get$(Un().state,"location") .pathname;try{await kn({to:o,from:s})}catch{}finally{ye(Ui,!1)}}else ye(Ui,!1)}async notifyBrowserSessionEnded(){try{(await da.run({})).onEndSession?.()}catch{}}async onPermissionDenied(t){ye(Nn,null),t&&await this.exitPendingState({navigateBack:!0}),await this.notifyBrowserSessionEnded()}async tryRequestMicrophonePermission(t){return(await BA()).state!=="granted"?(await this.onPermissionDenied(t),!1):!0}async checkAndRequestPermissionIfNeeded(t,n){if(!t)return{shouldContinue:!0,enteredPendingState:!1,browserNotified:!1};const o=await jA();let s=!1;switch(o){case"denied":return Qt.onStartSessionFailed("permission_denied",n),await this.onPermissionDenied(s),{shouldContinue:!1,enteredPendingState:s,browserNotified:!0};case"prompt":if(s=!0,await this.enterPendingState(t),!await this.tryRequestMicrophonePermission(s))return Qt.onStartSessionFailed("permission_not_granted",n),{shouldContinue:!1,enteredPendingState:s,browserNotified:!0};break;case"unsupported":if(!await this.tryRequestMicrophonePermission(s))return Qt.onStartSessionFailed("permission_not_granted",n),{shouldContinue:!1,enteredPendingState:s,browserNotified:!0};break}return{shouldContinue:!0,enteredPendingState:s,browserNotified:!1}}async startSession(t,n,o){Qt.onBeforeStartSession();const s=n?.shareType??null,a=await jee(),r=a!==null&&a<=0;n&&ye(Nn,{sharedItem:n,limitReached:r});try{const c=await this.checkAndRequestPermissionIfNeeded(t,s);if(!c.shouldContinue)return{success:!1,browserNotified:c.browserNotified};await this.exitPendingState(),t?await io({talkType:"vision"}):await io();const d=j(Se)??"";Qt.onStartSession(d,o)}catch(c){n&&ye(Nn,null),await this.exitPendingState({navigateBack:!0});const d=c instanceof Error?c.message:"Unknown error";return Qt.onStartSessionFailed(d,s),{success:!1,browserNotified:!1}}return{success:!0,browserNotified:!1}}async getContext(){const t=j(Nn);if(t?.sharedItem&&!t.limitReached){Qt.onContextRequested();try{const o=await(await da.run({})).getContext?.();if(o)return this.addClearContextPartsForStaleScreenIds(o),Qt.onContextReceived(this.screenIds.length),o}catch(n){const o=n instanceof Error?n.message:"Unknown error";return Qt.onError("GET_CONTEXT_FAILED",o),null}}return null}async endSession(t={}){ const _hh$temp345=t,_hh$temp345$notifyBrowser=_hh$temp345.notifyBrowser,n=_hh$temp345$notifyBrowser===void 0?!0:_hh$temp345$notifyBrowser,_hh$temp345$shouldNavigate=_hh$temp345.shouldNavigate,o=_hh$temp345$shouldNavigate===void 0?!0:_hh$temp345$shouldNavigate,s=j(Nn); try{return t.reason?.category==="client-restarted"?!1:(n&&(await da.run({})).onEndSession?.(),s?(Qt.onEndSession(),await this.clearContext(),ye(Nn,null),await this.exitPendingState(),ye(Oee,!0),o&&await io(),!0):(await this.exitPendingState(),!1))}catch(a){const r=a instanceof Error?a.message:"Unknown error";throw Qt.onError("END_SESSION_FAILED",r),a}}async dropVisionToVoice(){try{await this.clearContext(),Qt.onVisionDroppedToVoice()}catch(t){const n=t instanceof Error?t.message:"Unknown error";throw Qt.onError("VISION_DROPPED_TO_VOICE_FAILED",n),t}}logReconnectError(t){Qt.onError("VISION_DROP_TO_VOICE_RECONNECT_FAILED",t)}async clearContext(){if(this.screenIds.length===0)return;const t=this.screenIds.length,n=await _n(),o=pS(this.screenIds);n.sendContext(o),this.screenIds=[],Qt.onContextCleared(t)}addClearContextPartsForStaleScreenIds(t){const n=Fee(t),o=this.screenIds.filter(s=>!n.has(s));if(this.screenIds=Array.from(n),o.length>0){const s=pS(o);t.push(...s),Qt.onStaleScreenIdsCleared(o.length)}}async forceCleanup_wchromiumOnly(){try{(await da.run({})).onEndSession?.()}catch{}try{await this.clearContext()}catch{}this.screenIds=[],ye(Nn,null),j(en)==="dismiss-audio-call-only"&&ye(en,null),ye(Ui,!1),this.pendingStatePreviousPath=null}}function pS(e){return e.map(t=>({type:"clearWindowContext",windowId:t}))}function Fee(e){const t=e.filter(n=>n.type==="appScreenshot").map(n=>n.windowId).filter(n=>n!==void 0);return new Set(t)}async function jee(){try{return(await a0()).remainingUsage?.visionCallSeconds??null}catch(e){const t=e instanceof Error?e.message:"Unknown error";return Qt.onError("FETCH_VISION_TIME_REMAINING_FAILED",t),null}}const gr=new Uee,vr=_e(),fS={};async function WA(e,t){ const _hh$temp346=e,n=_hh$temp346.text,_hh$temp346$filesWithAttachment=_hh$temp346.filesWithAttachment,o=_hh$temp346$filesWithAttachment===void 0?[]:_hh$temp346$filesWithAttachment,s=_hh$temp346.command,a=yo(),r=j(Se),c=typeof n=="string"?n:n?.plainText,_hh$temp347=await GY.run({chatMode:a,message:c??"",isSubmit:t}),d=_hh$temp347.shouldDrop,m=o.length===0||o.every(_hh$temp348=>{var C=_hh$temp348.error,S=_hh$temp348.attachment;return!!C||!S;}),p=$("discover-feed-v3"); return{isSubmittable:!!r&&!(!n&&m&&!s&&!p),shouldDropAccordingToMiddleware:!!d}}async function $A(e,t=!1){ const _hh$temp349=e,n=_hh$temp349.text,_hh$temp349$filesWithAttachment=_hh$temp349.filesWithAttachment,o=_hh$temp349$filesWithAttachment===void 0?[]:_hh$temp349$filesWithAttachment,s=_hh$temp349.inputMethod,a=_hh$temp349.command,r=_hh$temp349.context,c=_hh$temp349.reference,d=_hh$temp349.galleryImageUrl,m=KX(),p=yo(),h=j(Se),v=j(Zn),y=j(Do),C=$("adsshowroombrandagent"); if(!h)throw new Error("No conversation ID found");const S=await gr.getContext();let b=0,I=0;const x=[];if(d){const F=Kee(d);x.push(F)}for(const F of o)F.attachment&&(F.attachment.item.type==="image"?(b+=1,F.attachment.item.fileName=F.file?.name??""):F.attachment.item.type==="document"&&(F.attachment.item.partId=`${I}`,I+=1),x.push(F));const E=[],k={id:"",createdAt:new Date().toISOString(),author:"human",content:[],inputMethod:s,mode:p,conversationId:h};v&&v.conversationId===h&&(k.brand=v);for(const _hh$temp350 of x) {const F=_hh$temp350.attachment;F&&(k.content.push(F.item),E.push(F.content));} if(y.size>0&&(j(xA)==="currentPage"?vr.set(Do,new Map):k.content.push({type:"browserTabs",tabs:Array.from(y.values()).map(K=>({id:K.id,title:K.title,url:K.url,windowId:K.windowId,favIconUrl:K.favIconUrl}))})),n&&typeof n=="string"){k.content.push({type:"text",text:n}); let _hh$temp351=await WY.run({textToSend:n,chatMode:p}),F=_hh$temp351.textToSend; y.size>0&&!F.startsWith("/")&&(F=`${U("composer.multiTabs.multitabsprompt",{CountOfAddTabs:y.size})} ${F}`),E.push({type:"text",text:F})}n&&typeof n!="string"&&(E.push(...n.textWithReferences),k.content.push(...n.textWithReferences.map(F=>F.type==="text"?F:{type:"reference",content:F.reference}))),a&&(k.content.push({type:"command",command:a}),E.push({type:"command",command:a})),c&&E.push({type:"reference",reference:c}),!(a&&J([Fd,Da,A5,kw,Ag]).safeParse(a.type).success)&&!t&&kA(h,F=>{F.push(k)}); const _hh$temp352=await cx.run(k),_=_hh$temp352.sendData,N=_hh$temp352.additionalData,L=$X(); return{sendMessageParams:{content:E,conversationId:h,data:_,mode:p,context:{...m,...r,ads:v?{showroom:{brandId:v.brandId,adId:v.adId??void 0,scenario:C?"chat":void 0}}:void 0,...L&&{map:L}}},newMessage:k,filesToSubmit:x,additionalData:N,imagesUploaded:b,documentsUploaded:I,visionContext:S}}async function Bee(e){ const _hh$temp353=e,t=_hh$temp353.text,n=_hh$temp353.inputMethod,o=_hh$temp353.scenario,s=_hh$temp353.customData,a=_hh$temp353.entryPoint,r=_hh$temp353.connectionType,_hh$temp353$messageStartTime=_hh$temp353.messageStartTime,c=_hh$temp353$messageStartTime===void 0?performance.now():_hh$temp353$messageStartTime,d=_hh$temp353.pingCheck,m=yo(),p=j(Se),h=j(Zn),v=j(Do),y=j(rS),_hh$temp354=await WA(e,!0),C=_hh$temp354.isSubmittable,S=_hh$temp354.shouldDropAccordingToMiddleware; if(S){m==="computerUse"&&yn(Vt());return}const b=performance.now();if(vr.set(eT,b),!C||!p)return;B1.run({inputMethod:n}),NA({sideBySideComparisonId:p,reason:"sentNewMessage"}),e0(p);const I=crypto.randomUUID(),x=await $A(e);await AY.run(x.newMessage),vr.set(Zn,_=>_&&{..._,lastUserMessageRguid:_.activeCardRguid});const E={eventName:"copilotCompose",eventInfo_conversationId:p,eventInfo_inputMethod:n,eventInfo_numImagesUploaded:x.imagesUploaded,eventInfo_numDocumentsUploaded:x.documentsUploaded,eventInfo_mode:m,eventInfo_landingPage:R.getLandingPage(),...x.filesToSubmit.length>0?{eventInfo_uploadFileSize:x.filesToSubmit[0]?.file?.size??0,eventInfo_uploadFileType:x.filesToSubmit[0]?.attachment?.type}:{}};if(E.eventInfo_uploadFilesInfo=JSON.stringify(x.filesToSubmit.map( _hh$temp355=>{var _=_hh$temp355.file,N=_hh$temp355.attachment,L=_hh$temp355.scenario;return{scenario:L,type:N?.type??"",size:_?.size??""};} )),x.additionalData&&(E.eventInfo_additionalData=x.additionalData),o&&(E.eventInfo_scenario=o),s){const _=JSON.parse(s);E.eventInfo_customData=JSON.stringify({..._,queryId:I,eventInfo_isGroup:Ou()?1:0})}else E.eventInfo_customData=JSON.stringify({queryId:I,eventInfo_isGroup:Ou()?1:0});h&&(E.eventInfo_adsContext=JSON.stringify({showroomBrandId:h.brandId,showroomBrandName:h.brandLogo?.businessName})),a&&(E.eventInfo_entryPoint=a),R.trackEvent({name:"interaction",data:E}),R.flush();const k=await _n({useMockConnection:PA(typeof t=="string"?t:t?.plainText),connectionType:r}),w=k.status();w.readyState!==WebSocket.OPEN&&R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"WebSocketNotOpen",eventInfo_inputMethod:n,eventInfo_mode:m,eventInfo_details:JSON.stringify(w)}}),v.size>0&&vr.set(Do,new Map),y.size>0&&(vr.set(rS,new Map),vr.set(xA,null)),x.visionContext&&x.visionContext.length>0&&k.sendContext(x.visionContext,p),k.send(x.sendMessageParams),d&&k.sendPing(),x.sendMessageParams.context?.map?.isNewMap&&qX(),k.resetConversationState(p,c,performance.now()),k.setChatModeForConversation(p,m),k.setInputMethodForConversation(p,n),k.setUploadCountsForConversation(p,x.imagesUploaded,x.documentsUploaded),k.callBeforeSendForConversation(p,I),k.callOnSentForConversation(p,x.additionalData),k.setUserMessageForConversation(p,x.sendMessageParams),oee(),IZ(n),m==="computerUse"&&yn(Vt())}async function Vee(e){const t=j(Se);t&&(await _n({connectionType:e?.connectionType})).onSubmitMessageBlocked(t)}async function Hee(e){const t=await _n({connectionType:e?.connectionType}),n=j(Se),o=Zx(n)?.part.task?.id;n&&(e0(n),NA({sideBySideComparisonId:n,reason:"stoppedMessage"})),t.stop({conversationId:n,taskId:o})}async function zee(e){ const _hh$temp356=e,t=_hh$temp356.messageId,n=_hh$temp356.runHumanMessageSendDataMiddleware,o=_hh$temp356.connectionType,s=performance.now(),a=j(Se); if(!a)return;kA(a,m=>{const p=_r(m);p&&p.id===t&&m.pop()});let r={...e};if(n){const m=gQ(a);if(m){ const _hh$temp357=await cx.run({id:m.id,createdAt:m.createdAt,author:m.author,content:m.content,mode:m.mode,conversationId:a}),p=_hh$temp357.sendData; p&&(r={...r,...p})}}const c=crypto.randomUUID();R.trackEvent({name:"interaction",data:{eventName:"copilotRegenerate",eventInfo_conversationId:a,eventInfo_messageId:t,eventInfo_mode:r.mode,eventInfo_entryPoint:r.entry,eventInfo_customData:JSON.stringify({queryId:c})}}),R.flush();const d=await _n({connectionType:o});B1.run({inputMethod:"text"}),d.regenerate(r),d.resetConversationTiming(a,s,performance.now()),d.setChatModeForConversation(a,yo()),d.callBeforeSendForConversation(a,c)}async function Gee(e){ const _hh$temp358=e,t=_hh$temp358.text,_hh$temp358$filesWithAttachment=_hh$temp358.filesWithAttachment,n=_hh$temp358$filesWithAttachment===void 0?[]:_hh$temp358$filesWithAttachment,o=j(Se),s=j(sT),_hh$temp359=await WA(e,!1),a=_hh$temp359.isSubmittable; if(!a||!o)return;const r=typeof t=="string"?t:t?.plainText;if(zX(r??"",n,s, __get$(fS,o) )){const d=await _n({useMockConnection:PA(r)}),m=await $A(e,!0);d.sendMessagePreview(m.sendMessageParams), __set$(fS,o,{text:r??"",atTimestamp:Date.now(),files:n}) }}async function Wee(e){(await _n()).selectSxSMessage(e)}async function $ee(e){const t=j(Se);if(!t)return; const _hh$temp360=e,n=_hh$temp360.messageId,o=_hh$temp360.partId,s=_hh$temp360.connectionType,a=_hh$temp360.update,r=await _n({connectionType:s}),c=yo(); let d;switch(a?.type){case"discardCalendarEvent":d={type:"discardCalendarEvent"};break;case"composeEmail":d={type:"composeEmail",subject:a.subject,body:a.body,toRecipients:a.toRecipients,ccRecipients:a.ccRecipients,bccRecipients:a.bccRecipients};break;case"patchPracticeTestAttempt":d={type:"patchPracticeTestAttempt",answers:a.answers,elapsedTimeInSeconds:a.elapsedTimeInSeconds};break;case"submitPracticeTest":d={type:"submitPracticeTest"};break;default:d={type:"consent",status:"rejected"};break}r.send({conversationId:t,mode:c,content:{type:"command",command:{type:"updateCard",messageId:n,partId:o,update:d}}})}async function qee(e){await _n({connectionType:e?.connectionType})}const Mo={connect:qee,submitMessage:Bee,stopMessage:Hee,onSubmitMessageBlocked:Vee,regenerateMessage:zee,sendMessagePreview:Gee,selectSideBySideMessage:Wee,updateCardMessageCommand:$ee};function U_e(e,t){return e.find(n=>n.partId===t)}function Kee(e){return{attachment:{item:{type:"image",url:e},content:{type:"image",url:e},size:0,type:"image/webp"}}}function F_e(e){}const Yee="network-indicator";class Zee{isOnline=!0;activeIndicatorId=null;onOnlineStatusChange(t){this.isOnline=t,t||this.dismissActiveIndicator()}showIndicator(t){if(!this.isOnline)return;const n=this.buildIndicatorId(t);if(this.activeIndicatorId===n&&j(Ct)?.id===this.activeIndicatorId)return;this.activeIndicatorId=n,ye(Ct,{id:this.activeIndicatorId,title:U("common.networkUnstableTitle"),subtitle:U("common.networkUnstableSubtitle"),dismissable:!0,onDismiss:()=>{this.activeIndicatorId=null}});const o=j(Se);R.trackEvent({name:"system",data:{eventName:"networkIndicatorShown",eventInfo_conversationId:o,eventInfo_source:t.source,eventInfo_reason:t.reason,eventInfo_customData:t.customData}})}dismissActiveIndicator(){this.activeIndicatorId&&(RK(this.activeIndicatorId),this.activeIndicatorId=null)}buildIndicatorId(t){return`${Yee}:${t.source}:${t.reason}`}}const Jee=new Zee,hS=1e3,Qee=3,gS="voice-call",vS="audio-stutter";class Xee{hasTriggered=!1;timerId=null;get isIndicatorEnabled(){return $("voice-network-indicator")}evaluate(t){if(this.hasTriggered)return;const n=t.reduce((s,a)=>s+a,0),o=t.length;if(n>hS&&o>=Qee){this.onSlowNetwork(),this.cancelPending();return}this.timerId??=window.setTimeout(()=>{this.onSlowNetwork()},hS)}cancelPending(){this.timerId&&(window.clearTimeout(this.timerId),this.timerId=null)}onSlowNetwork(){if(this.hasTriggered)return;this.hasTriggered=!0,this.cancelPending();const t=j(Se);R.trackEvent({name:"system",data:{eventName:"slowNetworkDetected",eventInfo_conversationId:t,eventInfo_source:gS,eventInfo_reason:vS}}),this.isIndicatorEnabled&&Jee.showIndicator({source:gS,reason:vS})}}let qA=class hu{static instance=null;audioDuration=0;audioStutterTime=0;audioStutterStamps=[];audioStutterDurations=[];audioChunkStamps=[];animationDuration=0;animationStutterTime=0;animationStutterDurations=[];animationChunkStamps=[];realFramesPlayed=0;realFramesStartTime=-1;simulatedFramesPlayed=0;simulatedFramesStartTime=-1;networkIndicator=new Xee;static getInstance(){return hu.instance??=new hu,hu.instance}getMetrics(){return{audioDuration:this.audioDuration,audioStutterMax:Math.max(...this.audioStutterDurations,0),audioStutterTotal:this.audioStutterDurations.reduce((t,n)=>t+n,0),audioStutterStamps:this.audioStutterStamps,audioStutterDurations:this.audioStutterDurations,audioChunkStamps:this.audioChunkStamps,animationDuration:this.animationDuration,animationStutterMax:Math.max(...this.animationStutterDurations,0),animationStutterTotal:this.animationStutterDurations.reduce((t,n)=>t+n,0),animationStutterDurations:this.animationStutterDurations,animationChunkStamps:this.animationChunkStamps,animationRealFramesPlayed:this.realFramesPlayed,animationRealFramesStartTime:this.realFramesStartTime,animationSimulatedFramesPlayed:this.simulatedFramesPlayed,animationSimulatedFramesStartTime:this.simulatedFramesStartTime}}reset(){this.audioDuration=0,this.audioStutterTime=0,this.audioStutterDurations=[],this.audioChunkStamps=[],this.animationDuration=0,this.animationStutterTime=0,this.animationStutterDurations=[],this.animationChunkStamps=[],this.realFramesPlayed=0,this.realFramesStartTime=-1,this.simulatedFramesPlayed=0,this.simulatedFramesStartTime=-1,this.networkIndicator.cancelPending()}onAudioReceived(){this.audioChunkStamps.push(performance.now())}onAudioSuspend(){this.audioStutterTime||(this.audioStutterTime=performance.now(),this.audioStutterStamps.push(this.audioStutterTime)),this.networkIndicator.evaluate(this.audioStutterDurations)}onAudioResume(){this.stampAudioStutterDuration(),this.networkIndicator.cancelPending()}onAudioEnd(){this.onTurnEnd()}setAudioDuration(t){this.audioDuration=t}onCharacterAnimationReceived(){this.animationChunkStamps.push(performance.now())}onCharacterAnimationMissedInCache(){this.animationStutterTime||(this.animationStutterTime=performance.now())}onAnimationFrame(t){t?(this.simulatedFramesPlayed||(this.simulatedFramesStartTime=performance.now()),this.simulatedFramesPlayed+=1):(this.realFramesPlayed||(this.realFramesStartTime=performance.now()),this.realFramesPlayed+=1)}onCharacterAnimationResume(){this.stampAnimationStutterDuration()}setAnimationDuration(t){this.animationDuration=t}stampAudioStutterDuration(){if(this.audioStutterTime){const t=performance.now()-this.audioStutterTime;this.audioStutterDurations.push(t),this.audioStutterTime=0}}stampAnimationStutterDuration(){if(this.animationStutterTime){const t=performance.now()-this.animationStutterTime;this.animationStutterDurations.push(t),this.animationStutterTime=0}}onTurnEnd(){this.stampAudioStutterDuration(),this.stampAnimationStutterDuration(),this.networkIndicator.cancelPending()}},i0=null;function ete(){return i0}function KA(e){i0=e}function yS(){i0=null}class tte{resourceObserver;entries=[];keyword=null;constructor(){this.resourceObserver=new PerformanceObserver(t=>{this.handleResources(t)})}trackStart(t){this.keyword=t,this.resourceObserver.observe({type:"resource",buffered:!1})}trackEnd(){ const _hh$temp361=this,t=_hh$temp361.entries,n=__get$(t,t.length-1); return this.resourceObserver.disconnect(),this.entries=[],this.keyword=null,n?{name:n.name,duration:Math.round(n.duration)}:null}handleResources(t){if(this.keyword)for(const n of t.getEntries())n.name.includes(this.keyword)&&this.entries.push(n)}}const YA=P(null),ZA=P(!1),nte=P(!1),j_e=P(0),ote=P("free-talk");function mm(){const e=ln(),t=M(YA),n=M(ZA),o=M(ote),s=W("labs-portrait-enabled")&&e.startsWith("/labs/portrait"),a=W("labs-portrait-v2"),r=s&&t,c=r?t.id:void 0,d=r&&!n?t.voiceId:void 0;return{isPortraitEnabled:s,isPortraitV2Enabled:a,portraitId:c,portraitVoiceId:d,portraitScenario:o}}function ste(){return typeof window>"u"?!1:$("labs-portrait-enabled")&& __get$(window,"location") .pathname.startsWith("/labs/portrait")}const ate=["study-mode-lumi","study-mode-lumi-v2","study-mode-summary"];function c0(){const e=W("study-mode-summary"),n=Kt()==="study";return e&&n&&!wd()}const JA=["character-animation-spda2e","character-animation-vasa"],rte=[...JA,...ate];function l0(e){return e==="study"?rte:JA}function $s(){ const _hh$temp362=mm(),e=_hh$temp362.isPortraitEnabled,t=Kt(),_hh$temp363=Z.instance().config(),_hh$temp363$lumiEnabled=_hh$temp363.lumiEnabled,n=_hh$temp363$lumiEnabled===void 0?!1:_hh$temp363$lumiEnabled; return!!((!!qc(l0(t),"any")||n)&&!e)}function u0(){const e=M(go);return $s()&&!!e}function ite(){ const e=yo(),t=ste(),_hh$temp364=Z.instance().config(),_hh$temp364$lumiEnabled=_hh$temp364.lumiEnabled,n=_hh$temp364$lumiEnabled===void 0?!1:_hh$temp364$lumiEnabled; return!!((!!Kc(l0(e),"any")||n)&&!t)}function Rn(){ const e=_e().get(go),t=yo(),_hh$temp365=Z.instance().config(),_hh$temp365$lumiEnabled=_hh$temp365.lumiEnabled,n=_hh$temp365$lumiEnabled===void 0?!1:_hh$temp365$lumiEnabled; return!!((!!Kc(l0(t),"any")||n)&&e)}function Vl(e){return wT.includes(e)}const cte="/static/cmc/assets/meshopt_decoder-3Kt66jYv.js";class St{static Core;static Math;static Viewer;static isInitialized=!1;static async loadLibraries(){ const _hh$temp366=__arrayFrom$(await Promise.all([D(()=>import(__get$ProxyUrl("./index-B0kbTOvO.js","https://copilot.microsoft.com/static/cmc/assets/")).then(o=>o.c),__vite__mapDeps([13,14,15,1,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391])),D(()=>import(__get$ProxyUrl("./index-CLXl37Ln.js","https://copilot.microsoft.com/static/cmc/assets/")).then(o=>o.i),__vite__mapDeps([392,393,14,15,1,27,22,394,17,18,32,28,87,35,395,396,397,269,398,399,400,401,258,67,37,69,70,402,36,403,268,404,405,406,407,267,75,408,409,186,410,68,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,61,62,63,64,31,431,432,433,434,106,107,435,436,437,438,439])),D(()=>import(__get$ProxyUrl("./math.scalar.functions-B0475LkX.js","https://copilot.microsoft.com/static/cmc/assets/")).then(o=>o.m),[])])),t=_hh$temp366[0],n=_hh$temp366[2]; t.MeshoptCompression.Configuration={decoder:{url:cte}},t.Logger.LogLevels=t.Logger.NoneLogLevel,St.Core=t,St.Math=n,St.isInitialized=!0}static async loadViewerLibraries(){const t=await D(()=>import( __get$ProxyUrl("./index-BDBh4hNt.js","https://copilot.microsoft.com/static/cmc/assets/") ).then(n=>n.i),__vite__mapDeps([440,1,20,14,15,21,71,68,159,33,93,269,394,396]));St.Viewer=t}static async loadDebugLibraries(){await St.loadLibraries(),await D(()=>import( __get$ProxyUrl("./index-BH-fCFPW.js","https://copilot.microsoft.com/static/cmc/assets/") ).then(t=>t.ar),__vite__mapDeps([441,1,14,15,33,20,21,19,22,23,24,25,26,27,28,29,30,31,18,32,34,35,36,37,17,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,182,77,78,79,80,81,82,83,84,85,86,16,62,63,87,186,160,69,70,271,67,393,394]))}static isLoaded(){return St.isInitialized}static getCore(){return St.throwIfNotInitialized("Core"),St.Core}static getMath(){return St.throwIfNotInitialized("Core"),St.Math}static getViewer(){return St.throwIfNotInitialized("Viewer"),St.Viewer}static throwIfNotInitialized(t){if(!St.isInitialized)throw new Error(`Libraries ${t} are not loaded yet. Call loadLibraries first.`)}}function B_e(e){const t=e.split(/[\\/]/),n=t.pop();return{basePath:`${t.join("/")}/`,fileName:n??""}}function V_e(e,t){R.trackEvent({name:"interaction",data:{eventName:"characterAnimation",eventInfo_characterAnimationState:e,eventInfo_characterId:t}})}function H_e(e,t){ const _hh$temp367=St.getCore(),n=_hh$temp367.Texture; return new Promise((o,s)=>{const a=new n(e,t,!1,!1,1,()=>{o(a)},s)})}function z_e(e){ const _hh$temp368=St.getCore(),t=_hh$temp368.Vector3; return new t(e[0],e[1]??0,e[2]??0)}function G_e(e){return Math.max(...e)-Math.min(...e)}function W_e(e){return e*Math.PI/180}function CS(e){ const _hh$temp369=St.getMath(),t=_hh$temp369.Clamp; return t(e,0,1)}function lte(e,t,n){return Math.abs(e-t)>n?t:e}function $_e(e,t,n=.01,o=.2){ const _hh$temp370=St.getMath(),s=_hh$temp370.MoveTowards; return s(e,lte(e,t,n),o)}let ute;function _i(...e){ute??=$("babylon-debug")}class dte{interactTime=0;voiceChatToggledTime=0;speechEndDetectedTime=0;startMessageTime=0;mountedTime=0;libsLoadedTime=0;sceneInitializedTime=0;interactSource="";currentConversationId="";currentMessageId="";serverTurnCounter;visualizerEnabled=!1;loadedEnd=!1;voiceChatToggledOn=!1;resourceMonitor=new tte;isFirstTime=!1;isVoiceCall;constructor(t=!0){this.isVoiceCall=t,this.isFirstTime=!Mt(YI)}resetLoading=()=>{_i("%c[] -> resetAppearanceEvent"),this.interactTime=0,this.visualizerEnabled=!1,this.loadedEnd=!1};isAvailable=()=>this.isVoiceCall?Rn()&&this.voiceChatToggledOn&&this.interactTime>0:Rn()&&this.mountedTime>0;trackLoadingEvent=t=>{if(!this.isAvailable())return; const _hh$temp371=t,n=_hh$temp371.eventName,o=_hh$temp371.duration,s=_hh$temp371.characterId,a=_hh$temp371.networkDuration; if(s&&!Vl(s))return;const c=["voiceChatToggled","appearanceVisible","appearanceLoadingComplete"].includes(n);R.trackEvent({name:"system",data:{eventName:n,eventInfo_duration:Math.round(o),eventInfo_conversationId:this.currentConversationId,eventInfo_firstTime:this.isFirstTime,eventInfo_characterId:s,eventInfo_trigger:c?this.interactSource:void 0,eventInfo_networkDuration:a,eventInfo_customData:JSON.stringify({isVoiceCall:this.isVoiceCall})}}),_i(`%c[] -> ${n} : `,"color: #691dc6",Math.round(o),this.isFirstTime?"firstTime":"",s?`characterId: ${s}`:"",`isVoiceCall: ${this.isVoiceCall===!0}`)};onUserInteract=(t,n)=>{n?.skipResetLoading||this.resetLoading(),this.interactTime=performance.now(),this.interactSource=t,KA(t),_i("%c[] -> onUserInteract","color: #222222")};onVoiceChatToggled=(t,n)=>{if(t==="end")this.voiceChatToggledOn=!1,this.speechEndDetectedTime=0,this.resourceMonitor.trackEnd();else{this.voiceChatToggledOn=!0,this.voiceChatToggledTime=performance.now(),this.currentConversationId=n??"";const o=this.voiceChatToggledTime-this.interactTime;this.trackLoadingEvent({eventName:"voiceChatToggled",duration:o})}};onMounted=()=>{this.mountedTime=performance.now();let t;this.isVoiceCall?t=this.mountedTime-this.voiceChatToggledTime:(this.interactTime=this.mountedTime,t=0),this.trackLoadingEvent({eventName:"appearanceMounted",duration:t})};onUnmounted=()=>{this.resourceMonitor.trackEnd()};onBabylonLibrariesLoaded=t=>{if(!Vl(t))return;this.libsLoadedTime=performance.now();const n=this.libsLoadedTime-this.mountedTime;this.trackLoadingEvent({eventName:"appearanceBabylonLoaded",duration:n,characterId:t})};onSceneInitializationStart=t=>{Vl(t)&&this.resourceMonitor.trackStart(".glb")};onSceneInitialized=t=>{if(!Vl(t))return;this.sceneInitializedTime=performance.now();const n=this.sceneInitializedTime-this.libsLoadedTime,o=this.resourceMonitor.trackEnd();_i("%c[] -> monitorResult : ","color: #5bb173",o),this.trackLoadingEvent({eventName:"appearanceSceneInitialized",duration:n,characterId:t,networkDuration:o?o.duration:void 0}),this.trackLoadingEvent({eventName:"appearanceLoadingComplete",duration:this.sceneInitializedTime-this.interactTime,characterId:t}),this.loadedEnd=!0,this.checkEnd()};onVisualizerEnabled=()=>{if(this.visualizerEnabled)return;this.visualizerEnabled=!0,this.isVoiceCall&&!this.voiceChatToggledOn&&(this.voiceChatToggledOn=!0);const t=Math.round(performance.now()-this.interactTime);this.trackLoadingEvent({eventName:"appearanceVisible",duration:t}),this.checkEnd()};checkEnd=()=>{this.visualizerEnabled&&this.loadedEnd&&this.resetLoading()};onStartMessage=(t,n,o)=>{this.currentMessageId=t,this.startMessageTime=n,this.serverTurnCounter=o};onSpeechEndDetected=t=>{this.speechEndDetectedTime=t};onAnimationStart=()=>{const t=Math.round(performance.now()-(this.speechEndDetectedTime||this.startMessageTime));R.trackEvent({name:"system",data:{eventName:"copilotAnimationStart",eventInfo_conversationId:this.currentConversationId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:t,eventInfo_serverTurnCounter:this.serverTurnCounter}}),_i("%c[] -> onAnimationStart : ","color: #691dc6",Math.round(t))};onColorUpdate=t=>{R.trackEvent({name:"system",data:{eventName:"appearanceColorUpdate",eventInfo_conversationId:this.currentConversationId,eventInfo_duration:0,eventInfo_firstTime:this.isFirstTime,eventInfo_customData:JSON.stringify(t)}})}}const Ap=new Map,mte=(e=!0)=>(Ap.has(e)||Ap.set(e,new dte(e)),Ap.get(e)),xa=mte(!0),SS={SUMMARY:"summary",ADAPTIVE_UI:"adaptiveUI"},bS=qA.getInstance(),pte={"click-close":"clickClose","navigate-away":"navigateAway","visibility-hidden":"visibilityHidden"};let d0=class QA{static instance;readyTime=0;enterCallTime=0;startCallTime=0;startMessageTime=0;firstTokenTime=0;mostRecentTokenTime=0;interruptAudioTime=0;speechEndTime=0;lastCallDuration=0;speechEndTimeBySampleIndex=null;summaryTriggerTime=0;currentConversationId="";currentCallId="";currentOrLastCallId="";currentMessageId="";serverTurnCounter=1;latestTurnDetails=null;messagesTurnDetails={};lastGeneratedSummaryMessageId="";introComplete=!1;isTurnRunning=!1;receivedTranscript=!1;receivedText=!1;receivedAudio=!1;receivedFirstToken=!1;receivedLastToken=!1;receivedFirstAnimation=!1;hasAnimationTimeout=!1;hasAudioStarted=!1;hasAudioPlaybackError=!1;scenario=void 0;messageStatus="idle";audioTranscriptLength=0;callStartNode=void 0;isTrackingSpeechEnd=!1;isDuringCallRestart=!1;voiceConnectionStatus="off";disconnectedTime=0;reconnectedTime=0;static getInstance(){return this.instance??=new QA,this.instance}onBeforeStartCall(t,n){this.readyTime=performance.now(),n?this.scenario="portrait":t?this.scenario="appearance":this.scenario=void 0}onStartCall(t,n){this.interruptAudioTime=0,this.speechEndTime=0,this.speechEndTimeBySampleIndex=null,this.introComplete=!1,this.serverTurnCounter=1,this.startCallTime=performance.now(),this.currentConversationId!==t&&(this.currentConversationId=t,this.isDuringCallRestart=!1),this.isDuringCallRestart||(this.enterCallTime=this.startCallTime,this.currentCallId=crypto.randomUUID(),this.currentOrLastCallId=this.currentCallId),this.messageStatus="idle",this.latestTurnDetails=null,this.messagesTurnDetails={},this.audioTranscriptLength=0,this.disconnectedTime=0,this.reconnectedTime=0,this.voiceConnectionStatus="connected",this.lastCallDuration=0,this.isDuringCallRestart||R.trackEvent({name:"interaction",data:{eventName:"copilotCompose",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_inputMethod:"voice",eventInfo_landingPage:R.getLandingPage(),eventInfo_scenario:this.scenario,eventInfo_mode:n}}),R.trackEvent({name:"interaction",data:{eventName:"audioStartSent",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:this.startCallTime-this.readyTime,eventInfo_scenario:this.scenario,eventInfo_mode:n}}),$("voice-upload-diagnostic-audio")&&D(async()=>{ const _hh$temp372=await Promise.resolve().then(()=>Pr),s=_hh$temp372.AUDIO_RECORDER; return{AUDIO_RECORDER:s}},void 0).then(( _hh$temp373 )=>{ var s=_hh$temp373.AUDIO_RECORDER; s.setCallId(this.currentCallId),s.setScenario(this.scenario)}),this.isDuringCallRestart||this.trackStartVoiceCall("start")}onStartMessage(t){this.receivedTranscript=!1,this.receivedText=!1,this.receivedAudio=!1,this.receivedFirstToken=!1,this.receivedLastToken=!1,this.receivedFirstAnimation=!1,this.hasAnimationTimeout=!1,this.isTurnRunning=!0,this.hasAudioStarted=!1,this.hasAudioPlaybackError=!1,this.currentMessageId=t, __set$(this.messagesTurnDetails,t,this.latestTurnDetails) ,this.latestTurnDetails=null,this.startMessageTime=performance.now(),this.messageStatus="streaming",xa.onStartMessage(t,this.startMessageTime,this.serverTurnCounter);const n=Math.round(this.startMessageTime-(this.speechEndTime||this.startCallTime));R.trackEvent({name:"system",data:{eventName:"copilotAudioReqtoResp",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:n,eventInfo_scenario:this.scenario,eventInfo_customData:JSON.stringify({turnId: __get$(this.messagesTurnDetails,t) ?.turnId,LatencyStartPoint:this.speechEndTime?"SpeechEnd":"CallStart"})}}),R.trackEvent({name:"system",data:{eventName:"copilotAudioStartMessage",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_scenario:this.scenario,eventInfo_firstTurn:!this.introComplete,eventInfo_customData:JSON.stringify({turnId: __get$(this.messagesTurnDetails,t) ?.turnId})}}),this.voiceConnectionStatus==="waitingForStartMessage"&&(this.trackVoiceCallStartMessageAfterReconnect("startSuccess",this.getDuration(this.reconnectedTime)),this.reconnectedTime=0),this.voiceConnectionStatus="startMessageReceived",this.trackStartVoiceCall("success")}onTranscriptReceived(t){this.receivedTranscript=!0,this.audioTranscriptLength=t}onTextReceived(t){t===this.currentMessageId&&(this.receivedText=!0)}onAudioInterrupt(t){this.interruptAudioTime=performance.now(),this.messageStatus==="streaming"&&(this.messageStatus="interrupted"),this.latestTurnDetails??={turnId:crypto.randomUUID(),detectedBy:"server"},this.latestTurnDetails.speechStartTime=this.interruptAudioTime,R.trackEvent({name:"system",data:{eventName:"copilotAudioInterrupt",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:this.mostRecentTokenTime?this.interruptAudioTime-this.mostRecentTokenTime:0,eventInfo_scenario:this.scenario,eventInfo_mode:t,eventInfo_customData:JSON.stringify({turnId:this.latestTurnDetails.turnId,LatencySinceSpeechEnd:this.isTrackingSpeechEnd?Math.round(this.interruptAudioTime-this.speechEndTime):void 0,LatencyStartPoint:this.isTrackingSpeechEnd?"SpeechEnd":void 0})}}),this.isTrackingSpeechEnd=!1,this.onTurnEnd()}onAudioReceived(t){this.receivedAudio=!0,this.mostRecentTokenTime=performance.now();const n= __get$(this.messagesTurnDetails,this.currentMessageId) ;if(!this.receivedFirstToken){this.receivedFirstToken=!0,this.firstTokenTime=this.mostRecentTokenTime;const o=Math.round(this.mostRecentTokenTime-(this.speechEndTime||this.startCallTime));if(R.trackEvent({name:"system",data:{eventName:"copilotAudioResptoReceived",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:o,eventInfo_scenario:this.scenario,eventInfo_mode:t,eventInfo_customData:JSON.stringify({turnId:n?.turnId,LatencyStartPoint:this.speechEndTime?"SpeechEnd":"CallStart"})}}),this.speechEndTime){let s,a;this.speechEndTimeBySampleIndex!==null?(a=this.mostRecentTokenTime-this.speechEndTimeBySampleIndex,s="SampleIndex"):(a=this.mostRecentTokenTime-this.speechEndTime,s="SpeechEnd"),R.trackEvent({name:"system",data:{eventName:"copilotAudioFirstTokenReceived",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:a,eventInfo_scenario:this.scenario,eventInfo_serverTurnCounter:this.serverTurnCounter,eventInfo_mode:t,eventInfo_customData:JSON.stringify({turnId:n?.turnId,LatencyStartPoint:s})}})}}}onClientSpeechStartDetected(){if(!$("enable-vad-latency-measure"))return;this.latestTurnDetails??={turnId:crypto.randomUUID(),detectedBy:"client"}; const _hh$temp374=this.latestTurnDetails,t=_hh$temp374.clientSpeechStartTime,n=_hh$temp374.clientTurnCounter,o=_hh$temp374.speechStartTime; this.latestTurnDetails.clientTurnCounter=t&&!o&&n?n+1:1,this.latestTurnDetails.clientSpeechStartTime=performance.now()}onClientSpeechEndDetected(t){if($("enable-vad-latency-measure")&&this.latestTurnDetails&&this.latestTurnDetails.clientSpeechStartTime){const n=t-performance.timeOrigin;this.latestTurnDetails.clientSpeechEndTime=n,R.trackEvent({name:"system",data:{eventName:"copilotAudioClientInput",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:n-this.latestTurnDetails.clientSpeechStartTime,eventInfo_scenario:this.scenario,eventInfo_customData:JSON.stringify({turnId:this.latestTurnDetails.turnId,isServerVADStarted:!!this.latestTurnDetails.speechStartTime,clientTurnCounter:this.latestTurnDetails.clientTurnCounter})}})}}onSpeechEndDetected(t,n){this.isTrackingSpeechEnd=!0,this.speechEndTime=performance.now(),this.speechEndTimeBySampleIndex=n??null,this.serverTurnCounter+=1,this.latestTurnDetails&&(this.latestTurnDetails.speechEndTime=this.speechEndTime),xa.onSpeechEndDetected(this.speechEndTime),this.interruptAudioTime&&R.trackEvent({name:"system",data:{eventName:"copilotAudioInput",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:this.speechEndTime-this.interruptAudioTime,eventInfo_scenario:this.scenario,eventInfo_mode:t,eventInfo_customData:JSON.stringify({turnId:this.latestTurnDetails?.turnId})}})}onServerVADLatencyMeasured(t){R.trackEvent({name:"system",data:{eventName:"copilotAudioSpeechEndDetected",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:t,eventInfo_scenario:this.scenario,eventInfo_serverTurnCounter:this.serverTurnCounter,eventInfo_customData:JSON.stringify({turnId:this.latestTurnDetails?.turnId})}})}onCallUIEventReceived(t){const n=performance.now(),o=this.speechEndTime?n-this.speechEndTime:void 0,s=t==="study"?SS.SUMMARY:SS.ADAPTIVE_UI;R.trackEvent({name:"system",data:{eventName:"callUIEventReceived",eventInfo_scenario:s,eventInfo_conversationId:this.currentConversationId,eventInfo_duration:o,eventInfo_mode:t}})}onCharacterAnimationReceived(){this.receivedFirstAnimation||(this.receivedFirstAnimation=!0,R.trackEvent({name:"system",data:{eventName:"copilotAudioCharacterAnimationReceived",eventInfo_conversationId:this.currentConversationId,eventInfo_duration:performance.now()-this.speechEndTime,eventInfo_messageId:this.currentMessageId,eventInfo_callId:this.currentCallId,eventInfo_scenario:this.scenario,eventInfo_serverTurnCounter:this.serverTurnCounter}}))}onCharacterAnimationEnd(){R.trackEvent({name:"system",data:{eventName:"copilotAudioCharacterAnimationEnd",eventInfo_conversationId:this.currentConversationId,eventInfo_duration:performance.now()-this.speechEndTime,eventInfo_messageId:this.currentMessageId,eventInfo_callId:this.currentCallId,eventInfo_scenario:this.scenario}})}onCharacterAnimationTimeout(){this.hasAnimationTimeout=!0}onCharacterEmotionReceived(t,n){R.trackEvent({name:"system",data:{eventName:"copilotCharacterEmotionReaction",eventInfo_conversationId:this.currentConversationId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:performance.now()-this.speechEndTime,eventInfo_emotion:t,eventInfo_bodyReaction:n}})}onCharacterAppearanceReceived(t){R.trackEvent({name:"system",data:{eventName:"copilotCharacterAppearanceEvent",eventInfo_conversationId:this.currentConversationId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:performance.now()-this.speechEndTime,eventInfo_customData:JSON.stringify(t)}})}onMessageDone(t){ const _hh$temp375=t,n=_hh$temp375.messageId,o=_hh$temp375.voiceType,s=_hh$temp375.audioChatMode; let a={transcriptLength:this.audioTranscriptLength};this.messageStatus==="interrupted"&&(a.interruptedAtMs=this.interruptAudioTime-this.startMessageTime);const r= __get$(this.messagesTurnDetails,n) ;if(r){ const _hh$temp376=r,c=_hh$temp376.turnId,d=_hh$temp376.detectedBy,_hh$temp376$clientSpeechStartTime=_hh$temp376.clientSpeechStartTime,m=_hh$temp376$clientSpeechStartTime===void 0?0:_hh$temp376$clientSpeechStartTime,_hh$temp376$clientSpeechEndTime=_hh$temp376.clientSpeechEndTime,p=_hh$temp376$clientSpeechEndTime===void 0?0:_hh$temp376$clientSpeechEndTime,_hh$temp376$speechStartTime=_hh$temp376.speechStartTime,h=_hh$temp376$speechStartTime===void 0?0:_hh$temp376$speechStartTime,_hh$temp376$speechEndTime=_hh$temp376.speechEndTime,v=_hh$temp376$speechEndTime===void 0?0:_hh$temp376$speechEndTime; a={...a,turnId:c,turnDetectedBy:d,clientSpeechDuration:p-m,clientSpeechStartAt:m-h,clientSpeechEndAt:p-h,timeToSpeechEnd:v-h,timeToStartMessage:this.startMessageTime-h,timeToFirstAudio:this.firstTokenTime-h,timeToLastAudio:this.mostRecentTokenTime-h,timeToDone:performance.now()-h}}if(R.trackEvent({name:"system",data:{eventName:"copilotAudioMessageDone",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:n,eventInfo_scenario:this.scenario,eventInfo_firstTurn:!this.introComplete,eventInfo_transcriptReceived:this.receivedTranscript,eventInfo_textReceived:this.receivedText,eventInfo_audioReceived:this.receivedAudio,eventInfo_customData:JSON.stringify(a)}}),R.trackEvent({name:"system",data:{eventName:"copilotResponseRender",eventInfo_inputMethod:"voice",eventInfo_responseMethod:"voice",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_responseVoiceType:o,eventInfo_landingPage:R.getLandingPage(),eventInfo_scenario:this.scenario,eventInfo_mode:s}}),this.messageStatus="idle",delete this.messagesTurnDetails[n],!this.introComplete){this.introComplete=!0,R.trackEvent({name:"system",data:{eventName:"copilotAudioCallSetUp",eventInfo_duration:performance.now()-this.readyTime,eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_responseVoiceType:o,eventInfo_scenario:this.scenario,eventInfo_mode:s}});return}!this.receivedLastToken&&n===this.currentMessageId&&(this.receivedLastToken=!0,this.speechEndTime&&R.trackEvent({name:"system",data:{eventName:"copilotAudioLastTokenReceived",eventInfo_conversationId:this.currentConversationId,eventInfo_messageId:n,eventInfo_callId:this.currentCallId,eventInfo_duration:this.mostRecentTokenTime-this.speechEndTime,eventInfo_scenario:this.scenario,eventInfo_mode:s}}))}onEndCall(t){ const _hh$temp377=t,n=_hh$temp377.numMessages,o=_hh$temp377.audioChatMode,s=_hh$temp377.availabilityStatus,a=_hh$temp377.endReason,r=_hh$temp377.notReceivedStartMessage,c=performance.now(),d=$("voice-restart-telemetry"),m=!!this.currentCallId&&(this.isDuringCallRestart||this.callStartNode==="success"),p=a.category==="client-restarted",h=a.category==="client-terminated"&&["microphone-denied","microphone-not-found","audio-capture-failed"].includes(a.detail),v=Math.round(c-this.enterCallTime),y=(!(d&&p)&&m)&&!h?v:-1; this.lastCallDuration=y; const _hh$temp378=this.getReportCallEndReason(a),C=_hh$temp378.reason,S=_hh$temp378.detail; r&&this.trackStartVoiceCall("fail","not_receive_startmessage_until_end_call"),this.onTurnEnd(),R.trackEvent({name:"system",data:{eventName:"copilotAudioCallEnd",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:y,eventInfo_numMessages:n,eventInfo_scenario:this.scenario,eventInfo_mode:o,eventInfo_messageId:this.currentMessageId,eventInfo_customData:JSON.stringify({LatencySinceSpeechEnd:this.isTrackingSpeechEnd?Math.round(c-this.speechEndTime):void 0,LatencyStartPoint:this.isTrackingSpeechEnd?"SpeechEnd":void 0,voiceStatus:s,audioCallEndReason:C,audioCallEndReasonDetail:S,durationFromStartSent:Math.round(c-this.startCallTime),calculatedDuration:v})}}),this.isTrackingSpeechEnd=!1,this.voiceConnectionStatus==="disconnected"?this.trackVoiceCallReconnectedEvent("ended",this.getDuration(this.disconnectedTime)):this.voiceConnectionStatus==="waitingForStartMessage"&&this.trackVoiceCallStartMessageAfterReconnect("ended",this.getDuration(this.reconnectedTime)),this.disconnectedTime=0,this.reconnectedTime=0,this.voiceConnectionStatus="off",d&&p||(this.currentCallId=""),this.trackStartVoiceCall(void 0),this.isDuringCallRestart=d&&p}onAudioStartFailed(t,n){R.trackEvent({name:"system",data:{eventName:"copilotAudioStartFailed",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:performance.now()-this.startCallTime,eventInfo_reason:t,reason:t,eventInfo_scenario:this.scenario,eventInfo_mode:n}}),this.trackStartVoiceCall("fail","start_fail",t)}onConsentRequired(t,n){R.trackEvent({name:"system",data:{eventName:"biometricConsentRequired",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_consentType:t,eventInfo_consentVersion:n}})}onAudioStartTimeout(t){R.trackEvent({name:"system",data:{eventName:"copilotAudioStartTimeout",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:t,eventInfo_scenario:this.scenario}}),this.trackStartVoiceCall("fail","start_timeout")}onTerminated(t,n){R.trackEvent({name:"system",data:{eventName:"copilotAudioTerminated",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:performance.now()-this.startCallTime,eventInfo_reason:t,reason:t,eventInfo_scenario:this.scenario,eventInfo_mode:n}})}onError(t,n){R.trackEvent({name:"system",data:{eventName:"copilotAudioError",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_duration:performance.now()-this.startCallTime,eventInfo_errorCode:t,eventInfo_scenario:this.scenario,eventInfo_mode:n}})}onAudioStart(){if(!this.hasAudioStarted){this.hasAudioStarted=!0;const t=Math.round(performance.now()-(this.speechEndTime||this.startCallTime));R.trackEvent({name:"system",data:{eventName:"copilotAudioStart",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:t,eventInfo_scenario:this.scenario,eventInfo_serverTurnCounter:this.serverTurnCounter,eventInfo_customData:JSON.stringify({turnId: __get$(this.messagesTurnDetails,this.currentMessageId) ?.turnId,LatencySinceSpeechEnd:this.isTrackingSpeechEnd?t:void 0,LatencyStartPoint:this.speechEndTime?"SpeechEnd":"CallStart"})}}),this.isTrackingSpeechEnd=!1}}onAudioEnd(){this.onTurnEnd()}onAudioError(){this.hasAudioPlaybackError=!0}onTurnEnd(){if(this.isTurnRunning){this.isTurnRunning=!1,bS.onTurnEnd(); const _hh$temp379=bS.getMetrics(),t=_hh$temp379.audioDuration,n=_hh$temp379.audioStutterStamps,o=_hh$temp379.audioStutterDurations,s=_hh$temp379.audioStutterTotal,a=_hh$temp379.audioStutterMax,r=_hh$temp379.audioChunkStamps,c=_hh$temp379.animationDuration,d=_hh$temp379.animationStutterDurations,m=_hh$temp379.animationStutterTotal,p=_hh$temp379.animationStutterMax,h=_hh$temp379.animationChunkStamps,v=_hh$temp379.animationRealFramesPlayed,y=_hh$temp379.animationRealFramesStartTime,C=_hh$temp379.animationSimulatedFramesPlayed,S=_hh$temp379.animationSimulatedFramesStartTime,b=o.length,I=d.length; R.trackEvent({name:"system",data:{eventName:"copilotAnimationSummary",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_scenario:this.scenario,eventInfo_audioReceived:this.receivedAudio,eventInfo_animationReceived:this.receivedFirstAnimation,eventInfo_timeout:this.hasAnimationTimeout,eventInfo_audioDuration:t,eventInfo_animationDuration:c,eventInfo_audioPlayed:this.hasAudioStarted,eventInfo_audioPlayError:this.hasAudioPlaybackError,eventInfo_animationMissedInCache:I>0,eventInfo_audioMissedInCache:b>0,eventInfo_animationRealFramesPlayed:v,eventInfo_animationSimulatedFramesPlayed:C,eventInfo_animationRealFramesStartTime:Math.max(y-this.startMessageTime,-1),eventInfo_animationSimulatedFramesStartTime:Math.max(S-this.startMessageTime,-1)}}),(b>0||I>0)&&R.trackEvent({name:"system",data:{eventName:"copilotAudioStutter",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_messageId:this.currentMessageId,eventInfo_scenario:this.scenario,eventInfo_audioDuration:t,eventInfo_animationDuration:c,eventInfo_audioStutterCount:b,eventInfo_audioStutterDurationMax:a,eventInfo_audioStutterDurationTotal:s,eventInfo_audioStutterStamps:n.map(x=>Math.round(x-this.startMessageTime)),eventInfo_audioChunkStamps:r.map(x=>Math.round(x-this.startMessageTime)),eventInfo_animationStutterCount:I,eventInfo_animationStutterDurationMax:p,eventInfo_animationStutterDurationTotal:m,eventInfo_animationChunkStamps:h.map(x=>Math.round(x-this.startMessageTime))}})}}trackAudioPermission(t,n,o,s){switch(t){case"mic-request":this.trackStartVoiceCallEvent(t);break;case"mic-granted":case"mic-denied":this.trackStartVoiceCallEvent(t,o,s,n?Math.round(performance.now()-n):void 0);break}}trackStartVoiceCall(t,n,o){switch(t){case"start":this.callStartNode="start",this.trackStartVoiceCallEvent(t);break;case"success":case"fail":this.callStartNode==="start"&&(this.trackStartVoiceCallEvent(t,n,o),this.callStartNode=t);break;case void 0:this.callStartNode=void 0;break}}trackStartVoiceCallEvent(t,n,o,s){R.trackEvent({name:"system",data:{eventName:"copilotStartVoiceCall",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_scenario:this.scenario,eventInfo_errorCode:n,eventInfo_errorDescription:o,eventInfo_duration:this.getDuration(this.startCallTime),eventInfo_customData:JSON.stringify({isFirst:!0,isConnected:navigator.onLine,node:t,micAccessDuration:s})}})}getCurrentOrLastCallId(){return this.currentOrLastCallId}getLastCallDuration(){return this.lastCallDuration}onConnectionClosed(){this.voiceConnectionStatus!=="disconnected"&&(this.voiceConnectionStatus="disconnected",this.disconnectedTime=performance.now())}onConnected(){this.voiceConnectionStatus==="disconnected"&&(this.voiceConnectionStatus="waitingForStartMessage",this.reconnectedTime=performance.now(),this.trackVoiceCallReconnectedEvent("connected",this.getDuration(this.disconnectedTime)),this.disconnectedTime=0)}trackVoiceCallReconnectedEvent(t,n){const o={status:t};R.trackEvent({name:"system",data:{eventName:"voiceCallReconnected",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_scenario:this.scenario,eventInfo_customData:JSON.stringify(o),eventInfo_duration:n}})}trackVoiceCallStartMessageAfterReconnect(t,n){const o={status:t};R.trackEvent({name:"system",data:{eventName:"voiceCallStartMessageAfterReconnected",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentCallId,eventInfo_scenario:this.scenario,eventInfo_customData:JSON.stringify(o),eventInfo_duration:n}})}getDuration(t){if(t)return Math.round(performance.now()-t)}getReportCallEndReason(t){let n="",o="";switch(t.category){case"server-terminated":n="terminate",o=t.detail;break;case"server-banned":n="banned";break;case"client-terminated":["click-close","navigate-away","visibility-hidden"].includes(t.detail)?n= __get$(pte,t.detail) ??t.detail:(n="clientTerminate",o=t.detail);break;case"client-restarted":n="clientRestart",o=t.detail;break;case"unknown":default:n="unknown";break}return{reason:n,detail:o}}onSummaryGenerated(t){this.lastGeneratedSummaryMessageId=t}resetSummaryState(){this.lastGeneratedSummaryMessageId="",this.summaryTriggerTime=0}trackSummaryButtonImpression(){R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentOrLastCallId,eventInfo_impressionPage:"chat",eventInfo_impressionElement:"audioCallSummaryButton",eventInfo_entryPoint:this.scenario}})}trackSummaryButtonClick(){this.summaryTriggerTime=performance.now(),R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_conversationId:this.currentConversationId,eventInfo_callId:this.currentOrLastCallId,eventInfo_clickSource:"audioCallSummaryButton",eventInfo_clickScenario:this.scenario}})}trackSummaryCardImpression(t,n){const o=t===this.lastGeneratedSummaryMessageId,s=o&&this.summaryTriggerTime?this.getDuration(this.summaryTriggerTime):void 0,a=o?this.currentOrLastCallId:void 0;R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_conversationId:n,eventInfo_callId:a,eventInfo_messageId:t,eventInfo_impressionPage:"chat",eventInfo_impressionScenario:o?"answerCardReceived":"history",eventInfo_cardType:"audioCallSummary",eventInfo_entryPoint:this.scenario,eventInfo_duration:s}})}trackSummaryCardSeeMoreClick(t,n){const s=t===this.lastGeneratedSummaryMessageId?this.currentOrLastCallId:void 0;R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_conversationId:n,eventInfo_callId:s,eventInfo_messageId:t,eventInfo_clickSource:"ShowMore",eventInfo_clickScenario:this.scenario,eventInfo_cardType:"audioCallSummary"}})}};const es=d0.getInstance(),fte=60*1e3;function hte(){ const _hh$temp380=__arrayFrom$(Re(s0)),e=_hh$temp380[0],t=_hh$temp380[1],n=W("voice-summary-card"),o=es.getLastCallDuration(),s=(n&&e==="idle")&&o>=fte,a=u.useCallback(()=>{const r={type:"generateAudioCallSummary"};t("pending"),Mo.submitMessage({command:r,inputMethod:"actions"});},[t]); return{isAudioSummaryAvailable:s,handleGenerateSummary:a}}const gte=()=>{ye(s0,"idle"),es.resetSummaryState()},vte=e=>{ye(s0,"completed"),es.onSummaryGenerated(e)},yte=on.extend({actionName:g("edge_get_page_content"),parameters:T(f({tabId:A(),windowId:A(),pageUrl:l().nullish(),pageTitle:l().nullish(),pageType:l().nullish(),lastAccessedTime:A().nullish()}))}),Cte=on.extend({actionName:g("edge_get_tabs_list"),parameters:f({maxCount:A().optional()})}),Ste=on.extend({actionName:g("browser_search"),parameters:f({queries:T(l()),startTime:l().nullish(),endTime:l().nullish(),maxResults:ts().positive().prefault(10),states:T(l()).prefault(["history"])})}),bte=f({state:l(),title:l(),url:l(),pageSummary:l().nullish(),lastAccessed:Ca().nullish()});f({results:T(bte)});const Ite=f({type:g("click"),x:A(),y:A(),button:J([g("left"),g("right"),g("wheel"),g("back"),g("forward")]),keys:l().array().optional()}),Ete=f({type:g("doubleClick"),x:A(),y:A(),keys:l().array().optional()}),wte=f({x:A(),y:A()}),Tte=f({type:g("drag"),path:wte.array(),keys:l().array().optional()}),xte=f({type:g("scroll"),x:A(),y:A(),scrollX:A(),scrollY:A(),keys:l().array().optional()}),Ate=f({type:g("type"),text:l()}),_te=f({type:g("keyPress"),keys:l().array()}),kte=f({type:g("wait"),seconds:A()}),Pte=f({type:g("move"),x:A(),y:A(),keys:l().array().optional()}),Mte=de("type",[Ite,Ete,Tte,xte,Ate,_te,kte,Pte]),Rte=f({type:g("domClick"),nodeId:l()}),Nte=f({type:g("domDoubleClick"),nodeId:l()}),Lte=f({type:g("domScroll"),nodeId:l().optional(),scrollX:A(),scrollY:A()}),Dte=f({type:g("domType"),text:l(),commit:J([g("change"),g("enter")])}),Ote=f({type:g("domKeyPress"),keys:l().array()}),Ute=f({type:g("domWait"),seconds:A()}),Fte=f({type:g("domForward")}),jte=f({type:g("domBack")}),Bte=f({type:g("domRefresh")}),Vte=de("type",[Rte,Nte,Lte,Dte,Ote,Ute,Fte,jte,Bte]),Hte=J([g("dom"),g("screenshot"),g("domain-info"),g("computer-initialize-state"),g("browser-state"),g("tabs")]),zte=f({type:g("get")}),Gte=f({type:g("createTabs"),urls:l().array(),foreground:V()}),Wte=de("type",[...Mte.options,...Vte.options,zte,Gte]),$te=Cn.extend({actionName:g("computer_use_v2"),parameters:f({selectedTab:A().optional(),tabIds:T(A()).optional(),actions:T(Wte),responseFields:Hte.array(),origin:l(),given:p5})}),qte=Cn.extend({actionName:g("edge_navigate_to"),parameters:f({tabId:A().optional(),url:l(),foregroundRun:V().optional()})}),Kte=Cn.extend({actionName:g("edge_switch_tab"),parameters:f({tabId:A()})}),Yte=Cn.extend({actionName:g("edge_close_tabs"),parameters:f({tabIds:T(A())})}),Zte=Cn.extend({actionName:g("edge_find_browser_tab_groups"),parameters:f({queries:l().array()})}),Jte=Cn.extend({actionName:g("edge_group_open_browser_tabs"),parameters:f({tabGroups:f({title:l(),tabIds:T(A()),color:J([g("red"),g("green"),g("blue")]),collapsed:V()}).array()})}),Qte=Cn.extend({actionName:g("edge_ungroup_open_browser_tabs"),parameters:f({tabGroupIds:A().array()})}),Xte=Cn.extend({actionName:g("edge_media_controls"),parameters:f({action:J([g("play"),g("pause")])})}),ene=Cn.extend({actionName:g("edge_go_back_forward"),parameters:f({direction:J([g("back"),g("forward")]),tabId:A().optional()})}),tne=Cn.extend({actionName:g("windows_search_files"),parameters:f({keyword:l(),fileType:l().nullish(),startAt:Ca().nullish(),endAt:Ca().nullish(),fullPath:l().nullish(),resultCountLimit:A().nullish()})}),nne=J([qte,Yte,Zte,Jte,Qte,Xte,Kte,ene,tne]),one=f({type:g("screenshot")}),sne=f({type:g("click"),x:A(),y:A(),button:J([g("back"),g("forward"),g("left"),g("right"),g("middle")])}),ane=f({type:g("scroll"),x:A(),y:A(),scrollX:A(),scrollY:A()}),rne=f({type:g("doubleClick"),x:A(),y:A()}),ine=f({type:g("moveMouse"),x:A(),y:A()}),cne=f({type:g("keyPress"),keys:l().array()}),lne=f({type:g("drag"),path:f({x:A(),y:A()}).array()}),une=f({type:g("type"),text:l()}),dne=f({type:g("wait"),seconds:A()}),mne=de("type",[one,sne,rne,ine,cne,lne,ane,une,dne]),pne=Cn.extend({actionName:g("computer_use"),parameters:f({tabId:A(),callId:l(),given:p5,action:mne})}),fne=J([...nne.options,pne,$te]),hne=f({pageId:l(),conversationId:l().optional()}),gne=on.extend({actionName:g("windows_collaborator_start"),parameters:hne}),vne=f({pageId:l().optional(),conversationId:l().optional()}),yne=on.extend({actionName:g("windows_collaborator_undo"),parameters:vne}),Cne=f({pageId:l(),suggestionId:l(),conversationId:l().optional()}),Sne=on.extend({actionName:g("windows_collaborator_suggestion_complete"),parameters:Cne}),bne=de("actionName",[gne,yne,Sne]),Ine=f({Prefill:l(),Position:A(),Phrase:l()}),Ene=on.extend({actionName:g("guided_conversation"),actionType:l(),id:l(),parameters:Ine}),wne=Cn.extend({actionName:g("windows_get_known_directories"),parameters:f({args:l()})}),Tne=Cn.extend({actionName:g("windows_copy_files"),parameters:f({inputFiles:T(l()),targetFiles:T(l())})}),xne=Cn.extend({actionName:g("windows_move_files"),parameters:f({inputFiles:T(l()),targetFiles:T(l())})}),Ane=Cn.extend({actionName:g("windows_create_directories"),parameters:f({directories:T(l())})}),_ne=J([wne,Tne,xne,Ane]),kne=f({phoneNumber:l().nullish(),url:l().nullish(),price:l().nullish(),category:l().nullish(),openState:l().nullish(),address:l().nullish(),photos:Q5.nullish(),reviews:X5.nullish()}),ii=f({lat:A(),lon:A()}),Pne=f({north:A(),south:A(),east:A(),west:A()}),Mne=f({coordinate:ii,label:l().nullish()}),Rne=f({coordinate:ii,label:l(),view_radius:A().optional(),viewRadius:A().optional()}).transform(e=>({coordinate:e.coordinate,label:e.label,viewRadius:e.viewRadius??e.view_radius})),XA=f({type:g("point"),id:A(),coordinate:ii,label:l().nullish(),style:l().nullish(),citation_id:A().nullish(),citationId:A().nullish(),details:kne.nullish()}).transform(e=>({type:"point",id:e.id,coordinate:e.coordinate,label:e.label,style:e.style,citationId:e.citationId??e.citation_id,details:e.details})),e_=f({type:g("polyline"),id:A(),coordinates:T(ii),label:l().nullish(),style:l().nullish(),citation_id:A().nullish(),citationId:A().nullish()}).transform(e=>({type:"polyline",id:e.id,coordinates:e.coordinates,label:e.label,style:e.style,citationId:e.citationId??e.citation_id})),t_=f({type:g("polygon"),id:A(),coordinates:T(ii),label:l().nullish(),style:l().nullish(),citation_id:A().nullish(),citationId:A().nullish()}).transform(e=>({type:"polygon",id:e.id,coordinates:e.coordinates,label:e.label,style:e.style,citationId:e.citationId??e.citation_id})),Nne=f({type:g("route"),id:A(),waypoints:T(Mne),mode:H(["walking","driving"]),label:l(),citation_id:A().nullish(),citationId:A().nullish()}).transform(e=>({type:"route",id:e.id,waypoints:e.waypoints,mode:e.mode,label:e.label,citationId:e.citationId??e.citation_id})),Lne=f({type:g("flyover"),id:A(),waypoints:T(Rne),label:l().nullish(),citation_id:A().nullish(),citationId:A().nullish()}).transform(e=>({type:"flyover",id:e.id,waypoints:e.waypoints,label:e.label,citationId:e.citationId??e.citation_id})),Dne=de("type",[XA,e_,t_]),One=f({type:g("geometry_layer"),id:A(),label:l(),geometries:T(Dne),citation_id:A().nullish(),citationId:A().nullish()}).transform(e=>({type:"geometry_layer",id:e.id,label:e.label,geometries:e.geometries,citationId:e.citationId??e.citation_id})),Une=de("type",[XA,e_,t_,Nne,Lne,One]),Fne=on.extend({actionName:g("map_add"),parameters:f({items:T(Une)})}),jne=on.extend({actionName:g("map_remove"),parameters:f({ids:T(A())})}),IS=J([g("symbolic_2d"),g("photorealistic_3d")]),Bne=on.extend({actionName:g("map_set_view"),parameters:f({show:V().optional(),label:l().optional(),center:ii.optional(),bounds:Pne.optional(),zoom:A().optional(),bearing:A().optional(),pitch:A().optional(),map_type:IS.optional(),mapType:IS.optional(),custom_style:l().optional(),customStyle:l().optional()}).transform(e=>({show:e.show,label:e.label,center:e.center,bounds:e.bounds,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch,mapType:e.mapType??e.map_type,customStyle:e.customStyle??e.custom_style}))}),n_=de("actionName",[Fne,jne,Bne]),Vne=f({id:l()}),Hne=on.extend({actionName:g("windows_notify_highlight_started"),parameters:Vne}),zne=f({id:l(),area:f({x:A(),y:A(),width:A(),height:A()}),message:l().optional()}),Gne=on.extend({actionName:g("windows_highlight_screen"),parameters:zne}),Wne=f({id:l(),errorCode:l()}),$ne=on.extend({actionName:g("windows_notify_highlight_failed"),parameters:Wne}),qne=de("actionName",[Hne,Gne,$ne]),Kne=de("actionName",[Cte,yte,Ste,JU,Ene,...fne.options,...bne.options,...qne.options,...n_.options,..._ne.options]);class $i{static singleton=null;activeListeners=[];static instance(){return $i.singleton??=new $i,$i.singleton}push(t,n,o){return t.init(o),this.activeListeners.push(t),n&&n(),t.result===null?Promise.resolve(null):t.result.then(s=>(this.pop(t),s)).catch(()=>(this.pop(t),null))}pop(t){const n=this.activeListeners.indexOf(t);n>-1&&this.activeListeners.splice(n,1)}findAndHandleListener(t){for(const n of[...this.activeListeners].sort((o,s)=>o.createdDate<s.createdDate?-1:1))if(n.maybeHandleEvent(t))break}}class pc{static cancelled(){const t=new pc;return t.cancel(),t}static create(t){const n=new pc;return t&&t.then(()=>n.cancel()),n}static delay(t){return this.create(new Promise(n=>{setTimeout(()=>n(null),t)}))}constructor(){this.token=new Promise(t=>{this.resolve=t}),this.isCancelled=!1}resolve=null;isCancelled;token;cancelled(){return this.isCancelled}cancel(){return!this.isCancelled&&this.resolve&&this.resolve(this),this.isCancelled=!0,this.isCancelled}dispose(){this.cancel()}}const Yne=["edge://discover-chat-v2","edge://discover-chat-v2.top-chrome","edge://copilot-ntp"];let _p;function Zne(){if(_p===void 0){const e= __get$(window,"location") .ancestorOrigins[0]??"";if(!Yne.includes(e))throw new Error(`Unexpected browser origin: ${e}.`);_p=e}return _p}const q_e="chrome.copilotAuthPrivate.continueSignInWithAgeInfo",K_e="chrome.copilotAuthPrivate.startSignIn",Y_e="chrome.copilotAuthPrivate.startSignOut",Z_e="chrome.copilotAuthPrivate.startSwitchAccount",J_e="chrome.copilotAuthPrivate.onAgeVerificationRequiredForSignIn",Q_e="chrome.copilotAuthPrivate.openWorkCopilot",X_e="chrome.copilotAuthPrivate.isNativeWorkCopilotInstalled",e3e="82864fa0-ed49-4711-8395-a0e6003dca1f",t3e="Edge.Context.Pref",n3e="Edge.Context.OnPref",o3e="Edge.Context.GetDocumentBody",s3e="Edge.Context.OnGetDocumentBody",a3e=32e3,Jne=64e3,r3e="Edge.Chat.Ready",i3e="Edge.Studio.TTVR",c3e="Edge.Chat.IsVisionCapable",l3e="Edge.Chat.OnIsVisionCapable",u3e="Edge.Chat.VisionLaunch",d3e="Edge.Chat.OnVisionLaunch",m3e="Edge.Vision.OnPushLaunchResponse",p3e="Edge.Vision.ToggleVisionContext",f3e="Edge.Vision.FindInPage",h3e="Edge.Chat.Screenshot",g3e="Edge.Chat.OnScreenshot",v3e="Edge.Chat.HistorySearch",y3e="Edge.Chat.OnHistorySearch",C3e="Edge.RealnameAuth.GetStatus",S3e="Edge.RealnameAuth.OnGetStatus",b3e="Edge.RealnameAuth.Start",I3e="Edge.RealnameAuth.OnStart",E3e="chrome.tabs.create",w3e="chrome.tabs.onActivated",T3e="chrome.tabs.onUpdated",x3e="chrome.tabs.reload",A3e="chrome.tabs.query",_3e="chrome.tabs.update",k3e="chrome.authPrivate.onSignInStateChanged",P3e="chrome.authPrivate.getPrimaryAccountInfo",M3e="chrome.metricsPrivate.recordMediumTime",R3e="chrome.metricsPrivate.recordSmallCount",N3e="chrome.metricsPrivate.recordMediumCount",L3e="chrome.metricsPrivate.recordCount",D3e="chrome.metricsPrivate.recordPercentage",O3e="chrome.metricsPrivate.recordEnumerationValue",U3e="chrome.authPrivate.acquireAccessTokenWithUserInteraction",F3e="chrome.authPrivate.acquireAccessTokenSilently",j3e="chrome.authPrivate.startEdgeSignIn",B3e="chrome.windows.getCurrent",V3e="Edge.Chat.ActivateRebates",H3e="Edge.Chat.OnActivateRebates",z3e="Edge.Chat.SignInToRebates",G3e="Edge.Chat.OpenLinkInExternalBrowser",W3e="Edge.Chat.AgentMessage",$3e="Edge.Chat.OnAgentMessage",q3e="Edge.AutofillAction",K3e="Edge.Auth.NaaRequest",Y3e="Edge.Auth.NaaResponse",Z3e="Edge.Auth.ConnectorRequest",J3e="Edge.Notify.Conv",Q3e="Edge.Notify.User",X3e="Edge.Notify.Features",eke="Edge.Notify.MessageSent",tke="Edge.Notify.OnUserClosedChatSettings",nke="Edge.Notify.HeaderCommand.ClosePane",oke="Edge.Notify.HeaderCommand.SendFeedback",ske="Edge.Notify.HeaderCommand.TogglePinState",ake="Edge.Notify.Error",rke="Edge.Notify.OpenSidepane.WithConversation",ike="Edge.Notify.ContentSize",cke="Edge.Chat.GetCopilotMode",lke="Edge.BrowserContext.LoadTimeData",uke="Edge.CopilotTips.GetData",dke="Edge.CopilotTips.OnDataReceived",mke="Edge.NTP.QueryQuickLinks",pke="Edge.NTP.UpdateQuickLink",fke="Edge.NTP.RemoveQuickLink",hke="Edge.NTP.OnReceivedQuickLinks",gke="Edge.Journeys.GetData",vke="Edge.Journeys.HideCard",yke="Edge.Journeys.ClickCard",Cke="Edge.Journeys.SubmitCardFeedback",Ske="Edge.Journeys.OnDataReceived",bke="Edge.ToolAction",Ike="Edge.ShowTabs",Eke="Edge.LockTabs",wke="Edge.ReleaseTabs",Tke="Edge.AllowActionForUrl",xke="Edge.Searchbox.QueryAutocomplete",Ake="Edge.Searchbox.OpenAutocompleteMatch",_ke="Edge.Searchbox.ReportComposerChat",kke="Edge.Searchbox.ShouldSendOnlyChatSuggestions",Pke="Edge.Composer.ReadTextBuffer",Mke="Edge.Composer.OnTextBufferRead",Rke="isCopilotToolsSupported",Nke="isShowCopilotButtonSupported",Lke="Edge.Chat.SetVideoCurrentTime",Dke="Edge.WCP.Notify.DraggableRegions",Oke="Edge.WCP.Notify.OpenCopilotSettings",Uke="Edge.WCP.Notify.OpenCreditsPage",Fke="Edge.WCP.Notify.ShellCommand",jke="Edge.WCP.On.ShellCommandResponse",Bke="Edge.WCP.Notify.RestartBrowser",Vke="Copilot.Tabs.Query",Hke="edge_tools.enabled";class Qne{innerResult=null;priority="Normal";createdDate=new Date;id;resolveListener;eventName;canResolve;options;get result(){return this.innerResult}set result(t){this.innerResult=t}constructor(t,n="",o,s,a){this.eventName=t,this.id=a?.ignoreRequestId?"-1":n,o?.then(()=>this.cancel()),this.canResolve=s,this.options=a}init(t){!t||this.options?.autoRemoveWhenResolveListenerReturnTrue?this.result=new Promise((o,s)=>{t?this.resolveListener=a=>{if(a===null)return;const r=t(a);Promise.resolve(r).then(c=>{c&&o(a)}).catch(s)}:this.resolveListener=o}):this.resolveListener=t}maybeHandleEvent(t){if(!this.resolveListener)throw new Error("PostMessageListener is not initialized"); const _hh$temp381=t,n=_hh$temp381.eventName,o=_hh$temp381.requestId; return!this.options?.ignoreRequestId&&o!==this.id?!1:n===this.eventName?this.canResolve&&!this.canResolve(t)?!1:(this.resolveListener(t),!this.options?.ignoreRequestId):!1}cancel(){if(!this.resolveListener)throw new Error("PostMessageListener is not initialized");return this.result&&this.resolveListener(null),!0}}class m0 extends Qne{listenerKey=m0.name}class Xne{postMessageToBrowser(t,n,o=crypto.randomUUID()){const s={eventName:t,requestId:o,isOutgoing:!0,args:n}; __call$(window.parent,"postMessage",[s,Zne()]) }async postMessageAndListenForResponse(t,n,o,s,a=crypto.randomUUID()){return $i.instance().push(this.createListener(n,a,pc.create(s).token),()=>{this.postMessageToBrowser(t,o,a)})}createListener(t,n,o){return new m0(t,n,o)}}const eoe="Edge.IsFeatureEnabled",toe="Edge.OnIsFeatureEnabled";class br extends Xne{static singleton=null;isFeatureAvailableApiSupported;enabledFeatures=new Map;constructor(){super(),this.isFeatureAvailableApiSupported=this.getFeatureAvailableApiSupported()}static instance(){return br.singleton=br.singleton??new br,br.singleton}async isFeatureEnabled(t){return this.enabledFeatures.has(t)||await this.retrieveEnabledFeatures([t]),this.enabledFeatures.get(t)??!1}updateFeatureEnabledForTest(t,n){this.enabledFeatures.set(t,n)}async retrieveEnabledFeatures(t){if(!this.isFeatureAvailableApiSupported)return;await this.waitForNativeBridgeConnected();const o=await this.postMessageAndListenForResponse(eoe,toe,{featureNames:t},pc.delay(1e3).token);if(o){const s=o.args;for(const a of t){const r=s.featureNames.includes(a);this.enabledFeatures.set(a,r)}}}getFeatureAvailableApiSupported(){if(typeof navigator>"u")return!1;const t=132;for(const n of navigator.userAgent.split(" "))if(n.startsWith("Edg/")){const o=n.split("/")[1];if(o!==void 0){const s=o.split(".")[0];if(s!==void 0)return parseInt(s,10)>=t}}return!1}waitForNativeBridgeConnected(){const t=_e();return t.get(uu)?Promise.resolve():new Promise(n=>{const o=t.sub(uu,()=>{t.get(uu)&&(o(),n())})})}}const zke=br.instance();function noe(e){return e!=null&&typeof e=="object"&&"id"in e&&typeof e.id=="number"&&"windowId"in e&&typeof e.windowId=="number"&&"url"in e&&typeof e.url=="string"}function ooe(e){return Array.isArray(e)&&e.every(t=>noe(t))}function Gke(e=Jne){return e}function ES(e){const t=new Date(e).getTime();if(!Number.isNaN(t))return t}const soe={OPENED:xs.OPENED,RECENT:xs.RECENT,RECENTLY_CLOSED_TAB:xs.RECENT,HISTORY:xs.HISTORY};function aoe(e){return e.map(t=>{const n=t.toUpperCase();return  __get$(soe,n) ??xs.HISTORY})}const roe=_e();function ioe(e){roe.set(gt,t=>tn(t,n=>{for(const _hh$temp382 of e){ const o=_hh$temp382.title,s=_hh$temp382.id,a=_hh$temp382.updatedAt,r=_hh$temp382.continuedAt,c=_hh$temp382.group,d=_hh$temp382.conversationType; const m=n.get(s);m?(m.title=o,m.id=s,m.updatedAt=a,m.continuedAt=r,m.group=c??null,d&&(m.conversationType=d)):n.set(s,{id:s,title:o,updatedAt:a,history:[],continuedAt:r,group:c??null,conversationType:d})}}))}const coe=_e();function loe(e,t,n){doe(e.map(o=>uoe(o,t,n)).filter(o=>o!==void 0))}function uoe(e,t,n){switch(e.type){case"research":return{id:e.id,conversationId:t,type:e.type,status:e.status,updatedAt:""};case"computerUse":return{id:e.id,conversationId:e.conversationId??"",type:e.type,status:e.status,updatedAt:e.updatedAt??"",title:e.title??"",lastScreenshot:e.lastScreenshot};case"podcast":return{id:e.id,conversationId:t,status:e.status==="completed"?"completed":"running",type:e.type,podcast:e.podcast,updatedAt:e.updatedAt??n};case"videoGeneration":return{id:e.id,conversationId:t,status:e.status,type:e.type,result:e.result,updatedAt:e.updatedAt??n};case"planning":return{id:e.id,conversationId:t,status:e.status,type:e.type,title:e.title??"",updatedAt:e.updatedAt};case"threeDGeneration":return{id:e.id,conversationId:t,status:e.status,type:e.type,result:e.result,attachmentId:e.attachmentId,style:e.style,updatedAt:e.updatedAt??n};default:return}}function doe(e){coe.set(Vs,n=>tn(n,o=>{for(const s of e){const a=o.get(s.id);if(a)a.title=s.title,a.conversationId=s.conversationId,a.updatedAt=s.updatedAt,a.status=s.status,a.type=s.type,a.type==="computerUse"&&s.type==="computerUse"&&(a.lastScreenshot=s.lastScreenshot),a.type==="threeDGeneration"&&s.type==="threeDGeneration"&&(a.result=s.result,a.attachmentId=s.attachmentId,a.style=s.style,a.reaction=s.reaction);else if(s.type==="planning")o.set(s.id,{id:s.id,title:s.title,conversationId:s.conversationId,updatedAt:s.updatedAt,status:s.status,type:s.type});else if(s.type==="threeDGeneration")o.set(s.id,{id:s.id,title:s.title,conversationId:s.conversationId,updatedAt:s.updatedAt,status:s.status,type:s.type,result:s.result,attachmentId:s.attachmentId,style:s.style,reaction:s.reaction});else{const r={id:s.id,title:s.title,conversationId:s.conversationId,updatedAt:s.updatedAt,status:s.status,type:s.type};r.type==="computerUse"&&s.type==="computerUse"&&(r.chainOfThought=[],r.lastScreenshot=s.lastScreenshot),s.type==="podcast"&&r.type==="podcast"&&(r.podcast=s.podcast),s.type==="videoGeneration"&&r.type==="videoGeneration"&&(r.result=s.result),o.set(s.id,r)}}}));const t=e.filter(n=>n.type==="computerUse"&&n.conversationId).map(n=>{ const _hh$temp383=n,o=_hh$temp383.conversationId,s=_hh$temp383.title,a=_hh$temp383.updatedAt; return{id:o??"",title:s,updatedAt:a,continuedAt:null,history:[]}});ioe(t)}const p0={type:"spring",mass:.5,stiffness:450,damping:35},moe={type:"spring",mass:.5,stiffness:450,damping:35},poe={type:"spring",mass:1.8,stiffness:440,damping:40},foe={type:"spring",mass:1.4,stiffness:320,damping:40},hoe={type:"spring",mass:1,stiffness:1200,damping:40},Wke={type:"spring",mass:1.8,stiffness:640,damping:40},goe={type:"spring",mass:3.2,stiffness:640,damping:40},Jn={type:"spring",mass:.5,stiffness:450,damping:35},wS={duration:1.2,ease:"easeInOut",repeat:3,repeatType:"reverse",type:"tween"},o_=.2,voe=.25,ci= _hh$temp384=>{var e=_hh$temp384.title,t=_hh$temp384.titleId,n=__rest$Object(_hh$temp384,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M4.20889 10.7327C3.9232 11.0326 3.93475 11.5074 4.23467 11.7931C4.5346 12.0788 5.00933 12.0672 5.29502 11.7673L11.2495 5.516V20.25C11.2495 20.6642 11.5853 21 11.9995 21C12.4137 21 12.7495 20.6642 12.7495 20.25V5.51565L18.7043 11.7673C18.99 12.0672 19.4648 12.0788 19.7647 11.7931C20.0646 11.5074 20.0762 11.0326 19.7905 10.7327L12.7238 3.31379C12.5627 3.14474 12.3573 3.04477 12.1438 3.01386C12.0971 3.00477 12.0489 3 11.9995 3C11.9498 3 11.9012 3.00483 11.8543 3.01406C11.6412 3.04518 11.4363 3.14509 11.2756 3.31379L4.20889 10.7327Z"}));} ,$ke=Object.freeze(Object.defineProperty({__proto__:null,default:ci},Symbol.toStringTag,{value:"Module"}));function f0(e,t=!0,n=!1){u.useEffect(()=>{t&&e.current?.focus({preventScroll:n})},[e,t,n])}function yoe(){const e=u.useRef(null);return{captureFocus:()=>{document.activeElement instanceof HTMLElement&&(e.current=document.activeElement)},restoreFocus:()=>{e.current&&e.current.focus()}}}function li(){ const _hh$temp385=Y(),e=_hh$temp385.i18n; return e.dir(e.language)==="rtl"}const kp=eo.default,pm=u.forwardRef((e,t)=>{ const _hh$temp386=e,n=_hh$temp386.isOpen,o=_hh$temp386.onBack,s=_hh$temp386.headerText,a=_hh$temp386.children,r=_hh$temp386.onClose,c=_hh$temp386.className,d=_hh$temp386.disableCloseOutside,m=_hh$temp386.headerTextClassName,p=_hh$temp386.headerClassName,_hh$temp386$trapFocus=_hh$temp386.trapFocus,h=_hh$temp386$trapFocus===void 0?!1:_hh$temp386$trapFocus,_hh$temp386$variant=_hh$temp386.variant,v=_hh$temp386$variant===void 0?"modal":_hh$temp386$variant,_hh$temp386$hideCloseButton=_hh$temp386.hideCloseButton,y=_hh$temp386$hideCloseButton===void 0?!1:_hh$temp386$hideCloseButton,_hh$temp387=Y(),C=_hh$temp387.t,S=u.useId(),_hh$temp388=iA({trapFocus:h,legacyTrapFocus:h,alwaysFocusable:h}),b=_hh$temp388.modalAttributes,I=h?b:{},x=li()?-1:1,E=u.useRef(null),_hh$temp389=yoe(),k=_hh$temp389.captureFocus,w=_hh$temp389.restoreFocus; u.useEffect(()=>{n?k():w()},[n,k,w]),f0(E,n),u.useEffect(()=>{const F=K=>{K.key==="Escape"&&n&&r&&(K.stopPropagation(),K.preventDefault(),r())};return n&&document.addEventListener("keydown",F),()=>{document.removeEventListener("keydown",F)}},[n,r]);const _=F=>{(d??!r)||F.target===F.currentTarget&&r()},N=F=>{F.stopPropagation()},L=v==="drawer",B=L?{initial:{x:`${x*100}%`},animate:{x:0,transition:foe},exit:{x:`${x*100}%`,transition:{duration:kp}}}:void 0;return i.jsx(Dt,{id:String(n),mode:"sync",duration:kp,exitDuration:kp,className:O("fixed inset-0",at.modal),children:n&&i.jsxs("div",{...I,role:"dialog","aria-modal":"true","aria-labelledby":s?S:void 0,children:[i.jsx("div",{className:O("fixed inset-0 bg-background-850/30 dark:bg-background-150/70",at.modalBackground)}),i.jsx("div",{className:O("fixed inset-0 flex",L?"items-start justify-end":"items-center justify-center",at.modal),onClick:_,children:i.jsxs(Ce.div,{...B,className:O("t-custom-scrollbar flex flex-col gap-3 border border-white/10 bg-background-150 p-6 shadow-xl dark:bg-background-250",L?"h-full w-96":"min-h-[150px] rounded-4xl",c),onClick:N,tabIndex:-1,ref:F=>{E.current!==F&&(E.current=F),typeof t=="function"?t(F):t&&(t.current=F)},children:[i.jsxs("div",{className:O("flex items-center justify-between gap-2",p),children:[o&&i.jsx(X,{variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:C("common.backText"),"aria-label":C("common.backText"),onClick:o,children:i.jsx(ci,{className:"size-5 -rotate-90"})}),s&&i.jsx("h2",{id:S,className:O("text-foreground-800 text-lg-strong",m),children:s}),r&&!y&&i.jsx(X,{className:!o&&!s?"ms-auto":"",variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:C("common.closeText"),"aria-label":C("common.closeText"),onClick:r,children:i.jsx(sn,{className:"size-5"})})]}),a]})})]})})});pm.displayName="Modal";const s_="cf-turnstile",Coe=`#${s_}`;function qke(){const e=M(ga),t=M(fs);return rt("kill-cf-turnstile")?null:i.jsx(pm,{isOpen:e,className:"w-3/4 sm:w-[350px]",children:i.jsx("div",{id:s_,className:"flex flex-1 items-center justify-center","data-theme":t})})}const Soe=new zs(()=>new Promise((e,t)=>{const n=setTimeout(()=>{t(new Error("CF Turnstile script took too long to load"))},15e3),o=document.createElement("script");o.type="text/javascript",o.defer=!0,o.src="https://challenges.cloudflare.com/turnstile/v0/api.js",o.onload=()=>{clearTimeout(n),e()},o.onerror=()=>{clearTimeout(n),t(new Error("Failed to load turnstile script"))},document.body.appendChild(o)}));async function a_(e){ const _hh$temp390=e,t=_hh$temp390.onToken,n=_hh$temp390.onFinish; if(et("kill-cf-turnstile")||j(ga))return;const s=_e();R.trackEvent({name:"system",data:{eventName:"copilotTurnstileEvent",eventInfo_stage:"attempt"}}),Hh.flushSync(()=>{s.set(ga,!0),s.set(Z$,!0)});try{await Soe.get()}catch{s.set(Or,"cf-turnstile"),n?.();return}try{window.turnstile?.render(Coe,{sitekey:"0x4AAAAAAAg146IpY3lPNWte",callback:async a=>{t(a),Ie.emit("challenge:success"),window.turnstile?.remove(),s.set(ga,!1),R.trackEvent({name:"system",data:{eventName:"copilotTurnstileEvent",eventInfo_stage:"success"}})},"error-callback":a=>{Ie.emit("challenge:error",a),R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"turnstileRenderErrorCallback",eventInfo_details:"Error rendering CF Turnstile.",eventInfo_errorMessage:a}})}})}catch(a){Ie.emit("challenge:error",a),R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"turnstileRender",eventInfo_details:"Error rendering CF Turnstile",eventInfo_errorMessage:a instanceof Error?a.message:""}}),s.set(Or,"cf-turnstile")}finally{n?.()}}function boe(e){const t=e.match(/^\*\*(.*?)\*\*\n\n$/);if(t){ const _hh$temp391=__arrayFrom$(t),n=_hh$temp391[1]; return{title:n?.trim()??"",text:""}}return{title:"",text:e}}function Xf(e){if(window.clarity)for(const _hh$temp392 of Object.entries(e)) {const _hh$temp393=__arrayFrom$(_hh$temp392),t=_hh$temp393[0],n=_hh$temp393[1];window.clarity("set",t,n);} }function TS(e){if(window.clarity)for(const t of e)window.clarity("event",t)}function Ioe(){typeof document<"u"&&document.body.setAttribute("data-clarity-mask","true")}function Eoe(){typeof document<"u"&&document.body.removeAttribute("data-clarity-mask")}const eh=Dc(new Map),th=_e();function woe(e,t,n){($("shell-command-execution")||n.type==="requestBrowserInteraction"||n.type==="requestUserAutofill")&&Toe(e,t,n)}function Toe(e,t,n){th.set(eh,o=>{const s=o.get(e)??[];o.set(e,[...s,{partId:t,command:n}])})}async function Kke(e){return e.length===0?[]:(await eZ.run({commands:e})).results??[]}function xoe(e){const t=e.results.map(n=>({type:O5.value,commandMessageId:e.messageId,commandPartId:n.partId,result:n.resultContent}));return{event:"send",conversationId:e.conversationId,content:t,mode:"chat"}}function Aoe(e){ const _hh$temp394=e,t=_hh$temp394.conversationId,n=_hh$temp394.messageId,s=th.get(eh).get(n)??[]; s.length>0&&(Le(t,a=>{const r=ot({history:a,messageId:n});if(r){r.content=r.content.filter(d=>!(d.type==="card"&&d.card.type==="command"));const c=s.map(d=>{if(d.command.type==="shell")return{type:"shell",shell:d.command.shell,command:d.command.command,description:d.command.purpose||"",partId:d.partId};if(d.command.type==="requestUserAutofill")return{type:"requestUserAutofill",partId:d.partId,taskId:d.command.taskId,reason:d.command.reason,instruction:d.command.instruction,environment:d.command.environment??null};const m=d.command.environment?.type==="remoteBrowser"?d.command.environment.browserCookiesDefaultConsent:void 0;return{type:"requestBrowserInteraction",partId:d.partId,taskId:d.command.taskId,reason:d.command.reason,instruction:d.command.instruction,rememberData:m,environment:d.command.environment??null}});r.content.push({type:"card",partId:n,card:{type:"command",commands:c,conversationId:t,status:"active"}})}}),th.set(eh,a=>{a.delete(n)}))}function Yke(e){ const _hh$temp395=e,t=_hh$temp395.conversationId,n=_hh$temp395.messageId,o=_hh$temp395.status; Le(t,s=>{const a=ot({history:s,messageId:n});if(a){for(const r of a.content)if(r.type==="card"&&r.card.type==="command"){r.card.status=o;break}}})}function Zke(e){ const _hh$temp396=e,t=_hh$temp396.conversationId,n=_hh$temp396.messageId,o=_hh$temp396.rememberData; Le(t,s=>{const a=ot({history:s,messageId:n});if(a){for(const r of a.content)if(r.type==="card"&&r.card.type==="command"){for(const c of r.card.commands)if(c.type==="requestBrowserInteraction"){c.rememberData=o;break}break}}})}const _oe=J([g(!0),g(!1)]);f({enabled:_oe.optional()});function r_(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function i_(e){const t=Object.entries(e).filter( _hh$temp397=>{var _hh$temp398=__arrayFrom$(_hh$temp397),n=_hh$temp398[1];return n!==null;} ).map( _hh$temp399=>{var _hh$temp400=__arrayFrom$(_hh$temp399),n=_hh$temp400[0],o=_hh$temp400[1];return[n,c_(o)];} );return Object.fromEntries(t)}function koe(e){return e.map(c_)}function c_(e){return e==null?e:Array.isArray(e)?koe(e):r_(e)?i_(e):e}function Poe(e){return i_(e)}function nh(e,t){if(!r_(e))return null; const _hh$temp401=e,n=_hh$temp401.type,o=__rest$Object(_hh$temp401,["type"]),s=Poe(o),a={type:n,props:s},r=t.safeParse(a); return r.success?r.data:null}function fm(e,t){let n=e;for(const o of t){if(!n||!("children"in n))return;n= __get$(n.children,o) }return n}class zu{static createRootTree(t,n){const o=nh(n,Ud);return o===null?{success:!1,error:{errorType:"parseRootNodeFailed",errorMessage:"Failed to parse root node from component"}}:{success:!0,value:{type:"generativeUI",partId:t,rootNode:o,partIdToPath:{[t]:[]},completed:!1}}}static addChildNode(t,n,o,s){const a=s??nh(o,Kg);if(a===null)return{success:!1,error:{errorType:"parseChildNodeFailed",errorMessage:"Failed to parse child node from component"}};const r=t.rootNode&& __get$(t.partIdToPath,n) &&fm(t.rootNode, __get$(t.partIdToPath,n) );if(!r)return{success:!1,error:{errorType:"addChildInvalidParentPath",errorMessage:`addNodeAsChild with invalid parentPartId path: ${n}`}};if(!("children"in r))return{success:!1,error:{errorType:"addChildParentCannotHaveChildren",errorMessage:"addNodeAsChild attempted on parent node that cannot have children"}};const c=this.addNodeToParent(r,a);return c.success?{success:!0,value:{path:( __get$(t.partIdToPath,n) ??[]).concat(r.children.length-1)}}:c}static addNodeToParent(t,n){return t.type==="Basic"?(t.children.push(n),{success:!0,value:void 0}):t.type==="ListView"?yC(n)?(t.children.push(n),{success:!0,value:void 0}):{success:!1,error:{errorType:"addChildRootNodeAsChild",errorMessage:"ListView can only accept ListViewItem as children"}}:BH(n)||yC(n)?{success:!1,error:{errorType:"addChildRootNodeAsChild",errorMessage:"addNodeAsChild: incompatible child node type"}}:(t.children.push(n),{success:!0,value:void 0})}}function An(e){ const _hh$temp402=e,t=_hh$temp402.errorType,n=_hh$temp402.errorMessage,o=_hh$temp402.messageId,a={eventName:"copilotError",eventInfo_conversationId:j(Se)??"",eventInfo_messageId:o??"",eventInfo_feature:"generativeUI",eventInfo_scenario:"GenUIRender",eventInfo_errorType:t,eventInfo_errorMessage:n}; R.trackEvent({name:"health",data:a})}function Moe(e,t,n){ const _hh$temp403=t,o=_hh$temp403.messageId,_hh$temp404=n,s=_hh$temp404.partId,a=_hh$temp404.parentPartId,r=_hh$temp404.component; Le(e,c=>{const d=ot({history:c,messageId:o});if(d){if(a===null){const p=zu.createRootTree(s,r);if(!p.success){An({...p.error,messageId:o});return}p.value.startTime=performance.now(),d.content.push(p.value);return}const m=hm(d.content,a);if(!m){An({errorType:"partStartUnknownParentPartId",errorMessage:"partStart event with unknown parentPartId",messageId:o});return}if(m.completed){An({errorType:"partStartItemAlreadyCompleted",errorMessage:"partStart event of uiComponent for generativeUI item that is already completed",messageId:o});return}if( __get$(m.partIdToPath,a) !==void 0){const p=zu.addChildNode(m,a,r);p.success? __set$(m.partIdToPath,s,p.value.path) :An({...p.error,messageId:o})}else An({errorType:"partStartNotFound",errorMessage:"part start not found",messageId:o})}})}function Roe(e,t,n){ const _hh$temp405=t,o=_hh$temp405.messageId,_hh$temp406=n,s=_hh$temp406.partId,a=_hh$temp406.parentPartId,r=_hh$temp406.text; a&&Le(e,c=>{const d=ot({history:c,messageId:o});if(d){const m=hm(d.content,a);if(!m){An({errorType:"textPartStartUnknownParentPartId",errorMessage:"text partStart event with unknown parentPartId",messageId:o});return}if(m.completed){An({errorType:"textPartStartItemAlreadyCompleted",errorMessage:"text partStart event for generativeUI item that is already completed",messageId:o});return}const p=m.rootNode&& __get$(m.partIdToPath,a) &&fm(m.rootNode, __get$(m.partIdToPath,a) );if(!p){An({errorType:"textPartStartInvalidParentPath",errorMessage:"text partStart event with invalid parentPartId path",messageId:o});return}if(p.type!=="Text"&&p.type!=="Markdown"){An({errorType:"textPartStartNonTextParent",errorMessage:"text partStart event for non-Text parent node",messageId:o});return}p.props.value=r, __set$(m.partIdToPath,s,__get$(m.partIdToPath,a)) }})}function Noe(e,t){ const _hh$temp407=t,n=_hh$temp407.messageId,o=_hh$temp407.text,s=_hh$temp407.partId; let a=!1;return Le(e,r=>{const c=ot({history:r,messageId:n});if(c){const d=hm(c.content,s);if(!d)return;if(a=!0,d.completed){An({errorType:"appendTextItemAlreadyCompleted",errorMessage:"appendText event for generativeUI item that is already completed",messageId:n});return}const m= __get$(d.partIdToPath,s) ;if(!m){An({errorType:"appendTextPartIdNotFound",errorMessage:"appendText event with partId not found in partIdToPath",messageId:n});return}const p=d.rootNode&&fm(d.rootNode,m);if(!p){An({errorType:"appendTextInvalidPath",errorMessage:"appendText event with invalid path",messageId:n});return}if(p.type!=="Text"&&p.type!=="Markdown"){An({errorType:"appendTextNonTextNode",errorMessage:"appendText event for non-Text node",messageId:n});return}if(p.props.streaming===!1){An({errorType:"appendTextNonStreamingTextNode",errorMessage:"appendText event for non-streaming Text node",messageId:n});return}p.props.value+=o}}),a}function Loe(e,t){ const _hh$temp408=t,n=_hh$temp408.messageId,o=_hh$temp408.text,s=_hh$temp408.partId; let a=!1;return Le(e,r=>{const c=ot({history:r,messageId:n});if(c){const d=hm(c.content,s);if(!d)return;a=!0;const m= __get$(d.partIdToPath,s) ;if(!m)return;const p=d.rootNode&&fm(d.rootNode,m);if(!p||p.type!=="Text")return;p.props.value=o}}),a}function Doe(e,t,n){if(e.completed=!0,e.startTime!==void 0){const o=Math.round(performance.now()-e.startTime);R.trackEvent({name:"system",data:{eventName:"copilotResponseRender",eventInfo_scenario:"GenUIRender",eventInfo_conversationId:t,eventInfo_messageId:n,eventInfo_duration:o}}),delete e.startTime}}function Ooe(e,t,n){t.partId===n&&(e.content=e.content.filter(s=>s!==t))}function hm(e,t){return e.find(n=>n.type==="generativeUI"&&(n.partId===t|| __get$(n.partIdToPath,t) !==void 0))}function Uoe(e){ const _hh$temp409=e,t=_hh$temp409.artifacts; return t.find(n=>n.type==="browser")} const Foe=(e,t,n)=>{const o=__get$(e,t);return o?typeof o=="function"?o():Promise.resolve(o):new Promise((s,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))));});},_hh$temp410=[],joe=_hh$temp410.slice,Boe=_hh$temp410.forEach; function Voe(e){return Boe.call(joe.call(arguments,1),t=>{if(t)for(const n in t) __get$(e,n) ===void 0&&( __set$(e,n,__get$(t,n)) )}),e}function Hoe(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const xS=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,zoe=function(e,t){const o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let a=`${e}=${s}`;if(o.maxAge>0){const r=o.maxAge-0;if(Number.isNaN(r))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(r)}`}if(o.domain){if(!xS.test(o.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${o.domain}`}if(o.path){if(!xS.test(o.path))throw new TypeError("option path is invalid");a+=`; Path=${o.path}`}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${o.expires.toUTCString()}`}if(o.httpOnly&&(a+="; HttpOnly"),o.secure&&(a+="; Secure"),o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o.partitioned&&(a+="; Partitioned"),a},AS={create(e,t,n,o){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),o&&(s.domain=o),document.cookie=zoe(e,t,s)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let o=0;o<n.length;o++){let s= __get$(n,o) ;for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Goe={name:"cookie",lookup(e){ let _hh$temp411=e,t=_hh$temp411.lookupCookie; if(t&&typeof document<"u")return AS.read(t)||void 0},cacheUserLanguage(e,t){ let _hh$temp412=t,n=_hh$temp412.lookupCookie,o=_hh$temp412.cookieMinutes,s=_hh$temp412.cookieDomain,a=_hh$temp412.cookieOptions; n&&typeof document<"u"&&AS.create(n,e,o,s,a)}},Woe={name:"querystring",lookup(e){ let _hh$temp413=e,t=_hh$temp413.lookupQuerystring,n; if(typeof window<"u"){ let _hh$temp414=__get$(window,"location"),o=_hh$temp414.search; ! __get$(window,"location") .search&& __get$(window,"location") .hash?.indexOf("?")>-1&&(o= __get$(window,"location") .hash.substring( __get$(window,"location") .hash.indexOf("?")));const a=o.substring(1).split("&");for(let r=0;r<a.length;r++){const c= __get$(a,r) .indexOf("=");c>0&& __get$(a,r) .substring(0,c)===t&&(n= __get$(a,r) .substring(c+1))}}return n}},$oe={name:"hash",lookup(e){ let _hh$temp415=e,t=_hh$temp415.lookupHash,n=_hh$temp415.lookupFromHashIndex,o; if(typeof window<"u"){ const _hh$temp416=__get$(window,"location"),s=_hh$temp416.hash; if(s&&s.length>2){const a=s.substring(1);if(t){const r=a.split("&");for(let c=0;c<r.length;c++){const d= __get$(r,c) .indexOf("=");d>0&& __get$(r,c) .substring(0,d)===t&&(o= __get$(r,c) .substring(d+1))}}if(o)return o;if(!o&&n>-1){const r=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)? __call$(__get$(r,typeof n=="number"?n:0),"replace",["/",""]) :void 0}}}return o}};let mr=null;const _S=()=>{if(mr!==null)return mr;try{if(mr=typeof window<"u"&&window.localStorage!==null,!mr)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{mr=!1}return mr};var qoe={name:"localStorage",lookup(e){ let _hh$temp417=e,t=_hh$temp417.lookupLocalStorage; if(t&&_S())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){ let _hh$temp418=t,n=_hh$temp418.lookupLocalStorage; n&&_S()&&window.localStorage.setItem(n,e)}};let pr=null;const kS=()=>{if(pr!==null)return pr;try{if(pr=typeof window<"u"&&window.sessionStorage!==null,!pr)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{pr=!1}return pr};var Koe={name:"sessionStorage",lookup(e){ let _hh$temp419=e,t=_hh$temp419.lookupSessionStorage; if(t&&kS())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){ let _hh$temp420=t,n=_hh$temp420.lookupSessionStorage; n&&kS()&&window.sessionStorage.setItem(n,e)}},Yoe={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){ const _hh$temp421=navigator,n=_hh$temp421.languages,o=_hh$temp421.userLanguage,s=_hh$temp421.language; if(n)for(let a=0;a<n.length;a++)t.push( __get$(n,a) );o&&t.push(o),s&&t.push(s)}return t.length>0?t:void 0}},Zoe={name:"htmlTag",lookup(e){ let _hh$temp422=e,t=_hh$temp422.htmlTag,n; const o=t||(typeof document<"u"?document.documentElement:null);return o&&typeof o.getAttribute=="function"&&(n=o.getAttribute("lang")),n}},Joe={name:"path",lookup(e){ let _hh$temp423=e,t=_hh$temp423.lookupFromPathIndex; if(typeof window>"u")return;const n= __get$(window,"location") .pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)? __call$(__get$(n,typeof t=="number"?t:0),"replace",["/",""]) :void 0}},Qoe={name:"subdomain",lookup(e){ let _hh$temp424=e,t=_hh$temp424.lookupFromSubdomainIndex; const n=typeof t=="number"?t+1:1,o=typeof window<"u"&& __get$(window,"location") ?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(o)return  __get$(o,n) }};let l_=!1;try{document.cookie,l_=!0}catch{}const u_=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];l_||u_.splice(1,1);const Xoe=()=>({order:u_,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class d_{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=Voe(n,this.options||{},Xoe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=> __call$(s,"replace",["-","_"]) ),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(Goe),this.addDetector(Woe),this.addDetector(qoe),this.addDetector(Koe),this.addDetector(Yoe),this.addDetector(Zoe),this.addDetector(Joe),this.addDetector(Qoe),this.addDetector($oe)}addDetector(t){return  __set$(this.detectors,t.name,t) ,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(o=>{if( __get$(this.detectors,o) ){let s= __get$(this.detectors,o) .lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(n=n.concat(s))}}),n=n.filter(o=>o!=null&&!Hoe(o)).map(o=>this.options.convertDetectedLanguage(o)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(o=>{ __get$(this.detectors,o) && __get$(this.detectors,o) .cacheUserLanguage(t,this.options)}))}}d_.type="languageDetector";const m_="i18next";function ese(e){ls(m_,e,{expireDays:365,secure:!1})}function tse(e){return ig(e)[0]??e}let Hl=null;function p_(){return!!Z.instance().config().useI18nHttpApi}async function f_(e={}){const t=p_();return Hl&&!t||(Hl=(async()=>{const n=st.use(d_).use(W7);t&&D(()=>import( __get$ProxyUrl("./index-Cr51wrZA.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([442,1])).then(s=>{n.use(s.default)});const o=t?void 0:PR(_R,AR);return await n.init({lng:o?o.lng:void 0,resources:o?o.resources:void 0,supportedLngs:HI.map( _hh$temp425=>{var s=_hh$temp425.i18nCode;return s;} ),fallbackLng:ig,detection:o?void 0:{lookupLocalStorage:"BUST-LOCAL-STORAGE",lookupCookie:m_,caches:[],convertDetectedLanguage:tse,...e},interpolation:{escapeValue:!1}}),o?await nse(o.lng):(document.documentElement.dir=st.dir(st.language.toLowerCase()),document.documentElement.lang=st.language.toLowerCase(),await h_(st.language,!1)),st.on("languageChanged",s=>{typeof document<"u"&&(document.documentElement.dir=st.dir(s.toLowerCase()),document.documentElement.lang=s.toLowerCase())}),n.t})()),Hl}async function h_(e,t=!0,n=!1){if(!e)return;await Promise.all(ig(e).map(async s=>{if(!(st.hasResourceBundle(s,"translation")&&!p_()&&!n))try{const a=await Foe( __call$(Object,"assign",[{"../../../config/strings/af/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-hfT0AUmM.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/am/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-BqfoI3Ae.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ar/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CrWp32xa.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/as/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-C2zcr8od.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/az/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CjT_P4Br.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/bg/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CdA2rzHH.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/bn-IN/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DO_TEZcr.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/bs/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-V6C940FL.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ca-Es-VALENCIA/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CODdjXe1.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ca/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-BedsodaV.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/cs/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CyTHPaex.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/cy/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DjzJ9FET.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/da/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-Cvpf_bSX.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/de/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-sf1XT8ns.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/el/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-Cw9t-hNk.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/en-GB/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-YVU5mVuy.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/en-US/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-C-Rx2So8.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/es-MX/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-Brq6bQoE.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/es/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CDYSU12C.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/et/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DgaRyOCg.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/eu/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DT7ln9vZ.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/fa/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-BSt-AOAd.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/fi/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DLd-DcJr.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/fil/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-BDeEpmdD.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/fr-CA/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-BJgZZA04.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/fr/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-Cx80rHKR.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ga/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-C0pi79Kt.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/gd/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DcP1_ASW.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/gl/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-BcCwVfDV.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/gu/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DNj9Km0f.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/he/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-puddwK78.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/hi/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-Dov_gGo3.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/hr/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-C-M3S5dS.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/hu/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-B4gnQtov.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/hy/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CfVJ1gt7.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/id/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-C5fGGJLC.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/is/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CHIuedpO.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/it/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-BEAkF5XK.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ja/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-D2yP5O66.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ka/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-BnHsjDXz.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/kk/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DjnEDrm8.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/km-KH/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-D_ctaYah.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/kn/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DVfRnclG.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ko/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-B5YOC_rz.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/kok/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DGZS2xOH.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/lb/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-bMQoKteq.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/lo/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CFgaG3Z8.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/lt/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-Jw978Boi.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/lv/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DMbLWrjs.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/mi/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DD8fo6aB.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/mk/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CsUpJj6_.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ml/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-COeVky4T.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/mr/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-BeNv672q.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ms/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DoX7g_qM.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/mt/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DEPH2UZV.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/nb-NO/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-mSqGGZdn.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ne/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-BFQo_sHW.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/nl/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DOGdCOQ_.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/nn-NO/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-Cf0U95LK.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/or/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CW9AefBE.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/pa/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-BklK2shE.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/pl/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CQTqrUt3.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/pt-BR/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DzDQg9Lx.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/pt-PT/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-gWJu_2mv.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/quz/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-aMgEIjKN.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ro/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-Dfz-4sB2.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ru/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-IcGMvo6O.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/sk/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-Aik8HyUx.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/sl/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-Cr0E-yW8.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/sq/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-BzTt1vPk.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/sr-Cyrl-BA/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DDQEUtYD.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/sr-Cyrl-RS/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-Dy1nuffR.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/sr-Latn-RS/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-Pwk9xEG1.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/sv/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-NVp_V6uC.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ta/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DL0hwO6j.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/te/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-B5qs5buF.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/th/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-B5cdltNk.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/tr/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-SBvUjuU4.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/tt/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CEko-0Xd.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ug/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-C8Bl1FJ_.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/uk/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-DjlOHbTs.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/ur/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-D4LPtEHI.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/uz-Latn-UZ/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-1wTpH3XA.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/vi/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-BFFY78kQ.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/zh-Hans/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-Cg75gnfp.js","https://copilot.microsoft.com/static/cmc/assets/")),[]),"../../../config/strings/zh-Hant/strings.json":()=>D(()=>import(__get$ProxyUrl("./strings-CLiTjaW_.js","https://copilot.microsoft.com/static/cmc/assets/")),[])}]) ,`../../../config/strings/${s}/strings.json`,7);st.addResourceBundle(s,"translation",a,!0,!0)}catch{console.warn(`Translation file for '${s}' not found.`)}}));const o=!st.resolvedLanguage||st.resolvedLanguage!==e;(st.language!==e||o)&&await st.changeLanguage(e),t&&ese(e)}async function nse(e){await h_(e,!1,!0)}function Jke(){return st.resolvedLanguage?st.resolvedLanguage.split("-")[0]==="en":!1}const ose=100,sse=30,ase=70,rse=4,Ns=_e(),oh=P(null),g_=P("");let as=null,Fi=0;function ise(e){Ns.set(g_,e)}function Gu(){return Ns.get(g_)}function cse(e){Ns.set(K1,e)}function lse(){return j(K1)}function ya(e){Ns.set(tl,e)}function v_(){const e=Ns.get(oh);e&&(e.abort(),Ns.set(oh,null))}function use(){v_();const e=new AbortController;return Ns.set(oh,e),e}function dse(e,t){const n=new URL("https://www.bing.com/AS/Suggestions/V2?pt=page.chat"),o=st.resolvedLanguage,s=j(Ut);return n.searchParams.set("setlang",o?.toLowerCase()??"en"),n.searchParams.set("cc",s?.toLowerCase()??"us"),n.searchParams.set("qry",e.toLowerCase()),n.searchParams.set("cvid",t),$("encacsc")&&n.searchParams.set("ascopilot1","1"),$("enblsuggrndmzn")&&n.searchParams.set("ascopilot2","1"),$("encpsrchdata")&&n.searchParams.set("ascopilot3","1"),$("zi-autosuggest")&&n.searchParams.set("ascopilot4","1"),n.toString()}async function mse(e){ const _hh$temp426=e,t=_hh$temp426.query,n=_hh$temp426.conversationId,o=_hh$temp426.abortController,s={query:t.toLowerCase()}; return(await ut(`/conversations/${n}/autosuggest`,RW,{query:s,options:{method:"GET",...o&&{signal:o.signal}}})).data}async function pse(e){ const _hh$temp427=e,t=_hh$temp427.query,n=_hh$temp427.conversationId,o=_hh$temp427.abortController,s=dse(t,n); return fetch(s,o?{signal:o.signal}:{}).then(a=>a.json())}async function y_(e){return $("autosuggest-picasso")?mse(e):pse(e)}function fse(e,t){const n=t.text??t.st??"",o=e.toLowerCase().split(/\s+/),s=n.toLowerCase().split(/\s+/);let a=0;for(let m=0;m<Math.min(o.length,s.length)&& __get$(o,m) === __get$(s,m) ;m+=1)a+=1;const r=n.split(/\s+/),c=r.slice(0,a).join(" "),d=r.slice(a).join(" ");return{original:n,sliced:d,prefill:c+(c?" ":"")}}function C_(e,t,n,o){const s="suggestions"in n?n.suggestions:n.s;let a=e;if("qc"in n&&typeof n.qc.q=="string"&&(a=n.qc.q),!s.length){ya(null),tt({feature:"fetchChatAutoComplete",errorType:"NoSuggestions",customData:JSON.stringify({conversationId:t})});return}const r=s.filter(c=>"st"in c&&"t"in c?typeof c.st=="string"&&typeof c.t=="string":"text"in c&&"source"in c?typeof c.text=="string"&&typeof c.source=="string":!1).map(c=>fse(a,c));if(!r.length){ya(null),tt({feature:"fetchChatAutoComplete",errorType:"NoSuggestions",customData:JSON.stringify({conversationId:t})});return}ya({originalQuery:e,conversationId:t,type:"BCT",suggestions:r.slice(0,rse)}),jo({feature:"fetchChatAutoComplete",duration:performance.now()-o})}function S_(e,t){t&&e instanceof DOMException&&e.name==="AbortError"||R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"autosuggest",eventInfo_errorMessage:String(e),eventInfo_details:"Autosuggest API error"}})}async function hse(e){const t=j(Se);if(t)try{const n=use(),o=performance.now(),s=await y_({query:e,conversationId:t,abortController:n});e===Gu()&&C_(e,t,s,o)}catch(n){S_(n,!0),e===Gu()&&ya(null)}}function gse(e){as&&clearTimeout(as);const t=$("autosuggest-debounce")?sse:ose,n=$("autosuggest-no-cancellation")?vse:hse;as=setTimeout(()=>{n(e)},t)}async function vse(e){const t=j(Se);if(!t)return;Fi+=1;const n=Fi;try{const o=performance.now(),s=await y_({query:e,conversationId:t});if(n!==Fi||e!==Gu())return;C_(e,t,s,o)}catch(o){S_(o,!1),n===Fi&&e===Gu()&&ya(null)}}function sh(e){as&&(clearTimeout(as),as=null);let t=Z.instance().config().landingPage?.regexForAutoSuggest;const n=$("zi-autosuggest");n&&(t=/\S*/);const o=$("autosuggest")||$("edge-autosuggest"),s=j(Se);if(!o||!t||!t.test(e)||e.length>=ase){ya(null);return}ise(e),!s||e===""&&!n?ya(null):gse(e)}function Gr(){cse({type:"idle"}),as&&(clearTimeout(as),as=null),$("autosuggest-no-cancellation")?Fi+=1:v_(),Ns.set(tl,null)}function yse(){const e=W("pages-anonymous"),t=kt();return{canCreatePageForSignedOut:e,canCreatePage:t||e}}const Cse=2500,Sse=255,Qke=["pdf","docx"],gm=Dc(new Map),Xke=P(null),bse=P(TN),Ise=P(Sse),Ese=P(Cse),wse=P([]),So=P(e=>e(wse).filter(t=>t.uploadStatus==="success").length),b_= _hh$temp428=>{var e=_hh$temp428.title,t=_hh$temp428.titleId,n=__rest$Object(_hh$temp428,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M5.25 4H18.75C20.483 4 21.8992 5.35645 21.9949 7.06558L22 7.25V16.75C22 18.483 20.6435 19.8992 18.9344 19.9949L18.75 20H5.25C3.51697 20 2.10075 18.6435 2.00514 16.9344L2 16.75V7.25C2 5.51697 3.35645 4.10075 5.06558 4.00514L5.25 4H18.75H5.25ZM20.5 9.373L12.3493 13.6637C12.1619 13.7623 11.9431 13.7764 11.7468 13.706L11.6507 13.6637L3.5 9.374V16.75C3.5 17.6682 4.20711 18.4212 5.10647 18.4942L5.25 18.5H18.75C19.6682 18.5 20.4212 17.7929 20.4942 16.8935L20.5 16.75V9.373ZM18.75 5.5H5.25C4.33183 5.5 3.57881 6.20711 3.5058 7.10647L3.5 7.25V7.679L12 12.1525L20.5 7.678V7.25C20.5 6.33183 19.7929 5.57881 18.8935 5.5058L18.75 5.5Z"}));} ,e4e=Object.freeze(Object.defineProperty({__proto__:null,default:b_},Symbol.toStringTag,{value:"Module"})),Tse= _hh$temp429=>{var e=_hh$temp429.title,t=_hh$temp429.titleId,n=__rest$Object(_hh$temp429,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 28 28",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M27.9994 14.0514C27.9994 6.29111 21.7315 0 13.9997 0C6.26795 0 0 6.29111 0 14.0514C0 20.641 4.52023 26.1705 10.6179 27.6892V18.3455H7.73121V14.0514H10.6179V12.2011C10.6179 7.41859 12.7745 5.20184 17.4526 5.20184C18.3396 5.20184 19.8701 5.37664 20.4962 5.55088V9.44312C20.1658 9.40828 19.5918 9.39085 18.8789 9.39085C16.5835 9.39085 15.6965 10.2637 15.6965 12.5328V14.0514H20.2694L19.4837 18.3455H15.6965V28C22.6286 27.1597 28 21.2356 28 14.0514H27.9994Z"}));} ,xse=( _hh$temp430 )=>{ var e=_hh$temp430.title,t=_hh$temp430.titleId,n=__rest$Object(_hh$temp430,["title","titleId"]);  const _hh$temp431=__arrayFrom$(u.useState("")),o=_hh$temp431[0],s=_hh$temp431[1]; return u.useEffect(()=>{s(Math.random().toString(36).slice(2,10))},[]),u.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("g",{id:o+"-Linkedin"},u.createElement("path",{id:o+"-Shape",d:"M23.6999 2.75909C23.6999 1.39872 22.5971 0.295929 21.2368 0.295929H2.76308C1.40272 0.295929 0.299927 1.39872 0.299927 2.75909V21.2328C0.299927 22.5931 1.40272 23.6959 2.76308 23.6959H21.2368C22.5971 23.6959 23.6999 22.5931 23.6999 21.2328V2.75909ZM3.63848 9.12156H7.24935V20.6943H3.63848V9.12156ZM16.4313 8.83425C19.8921 8.83425 20.6797 10.9844 20.753 13.861L20.7589 14.3469V20.6942H17.1519L17.1517 14.9161C17.1477 13.5985 17.0603 11.9984 15.278 11.9984C13.4002 11.9984 13.1135 13.4611 13.1135 14.971V20.6942H9.51161V9.12143H12.9689V10.7028H13.0188L13.1052 10.5509C13.6314 9.68925 14.7739 8.83425 16.4313 8.83425ZM3.35125 5.45367C3.35125 4.30239 4.28565 3.36809 5.44404 3.36809C6.59732 3.36809 7.53556 4.30239 7.53556 5.45367C7.53556 6.60623 6.59732 7.54053 5.44404 7.54053C4.28565 7.54053 3.35125 6.60623 3.35125 5.45367Z",fill:"currentColor"})))},Ase=( _hh$temp432 )=>{ var e=_hh$temp432.title,t=_hh$temp432.titleId,n=__rest$Object(_hh$temp432,["title","titleId"]);  const _hh$temp433=__arrayFrom$(u.useState("")),o=_hh$temp433[0],s=_hh$temp433[1]; return u.useEffect(()=>{s(Math.random().toString(36).slice(2,10))},[]),u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("g",{clipPath:`url(#${o}-clip0_9013_4638)`},u.createElement("path",{d:"M14 0C6.26828 0 0 6.26828 0 14C0 17.8664 1.56734 21.3664 4.10047 23.8995L1.43391 26.5661C0.904531 27.0955 1.27969 28 2.02781 28H14C21.7317 28 28 21.7317 28 14C28 6.26828 21.7317 0 14 0Z",className:"fill-foreground-650"}),u.createElement("path",{d:"M16.8481 6.60187C17.091 7.63109 18.0152 8.39781 19.1188 8.39781C20.4072 8.39781 21.4517 7.35328 21.4517 6.06484C21.4517 4.7764 20.4072 3.73187 19.1188 3.73187C17.9922 3.73187 17.0527 4.53031 16.8339 5.59234C14.9472 5.79469 13.4739 7.39484 13.4739 9.33406C13.4739 9.33843 13.4739 9.34172 13.4739 9.34609C11.4221 9.4325 9.54846 10.0166 8.06096 10.9386C7.50861 10.5109 6.81518 10.2561 6.06268 10.2561C4.25689 10.2561 2.79346 11.7195 2.79346 13.5253C2.79346 14.8356 3.56346 15.9644 4.6758 16.4861C4.78408 20.2814 8.91955 23.3341 14.0066 23.3341C19.0936 23.3341 23.2346 20.2781 23.3374 16.4795C24.441 15.9545 25.2044 14.8291 25.2044 13.5264C25.2044 11.7206 23.741 10.2572 21.9352 10.2572C21.186 10.2572 20.4958 10.5098 19.9446 10.9342C18.4439 10.0056 16.5496 9.42156 14.4769 9.3439C14.4769 9.34062 14.4769 9.33844 14.4769 9.33515C14.4769 7.94609 15.5094 6.79328 16.8481 6.60406V6.60187ZM7.92971 15.6002C7.98439 14.4145 8.77189 13.5045 9.68736 13.5045C10.6028 13.5045 11.3028 14.4659 11.2481 15.6516C11.1935 16.8372 10.5099 17.2681 9.5933 17.2681C8.67674 17.2681 7.87502 16.7858 7.92971 15.6002ZM18.3269 13.5045C19.2435 13.5045 20.031 14.4145 20.0846 15.6002C20.1392 16.7858 19.3364 17.2681 18.421 17.2681C17.5055 17.2681 16.8208 16.8383 16.7661 15.6516C16.7114 14.4659 17.4103 13.5045 18.3269 13.5045ZM17.2375 18.3433C17.4092 18.3608 17.5186 18.5391 17.4519 18.6987C16.8886 20.0452 15.5586 20.9912 14.0066 20.9912C12.4546 20.9912 11.1256 20.0452 10.5613 18.6987C10.4946 18.5391 10.6039 18.3608 10.7756 18.3433C11.7819 18.2416 12.8702 18.1858 14.0066 18.1858C15.143 18.1858 16.2302 18.2416 17.2375 18.3433Z",style:{fill:"rgb(var(--color-foreground-100))"}})),u.createElement("defs",null,u.createElement("clipPath",{id:o+"-clip0_9013_4638"},u.createElement("rect",{width:28,height:28,fill:"white"}))))},_se= _hh$temp434=>{var e=_hh$temp434.title,t=_hh$temp434.titleId,n=__rest$Object(_hh$temp434,["title","titleId"]);return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",fill:"currentColor","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("g",null,u.createElement("path",{d:"M16.6638 11.85L27.0874 0H24.6174L15.5665 10.2892L8.33765 0H0L10.9315 15.5591L0 27.9856H2.47021L12.0281 17.1199L19.6623 27.9856H28L16.6632 11.85H16.6638ZM13.2805 15.6962L12.1729 14.1468L3.36026 1.81862H7.15435L14.2663 11.7679L15.3739 13.3172L24.6185 26.2497H20.8244L13.2805 15.6967V15.6962Z",fill:"currentColor"})));} ,kse= _hh$temp435=>{var e=_hh$temp435.title,t=_hh$temp435.titleId,n=__rest$Object(_hh$temp435,["title","titleId"]);return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28",fill:"currentColor","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M23.9202 4.06584C21.2885 1.44525 17.7882 0.00132957 14.0588 0C6.37397 0 0.119658 6.21909 0.116984 13.8635C0.115647 16.3072 0.758058 18.6925 1.97804 20.7946L0 27.9796L7.39072 26.0517C9.4269 27.1566 11.7198 27.7383 14.0528 27.739H14.0588C21.7423 27.739 27.9974 21.5192 28 13.8748C28.0013 10.17 26.5527 6.6871 23.9202 4.0665V4.06584ZM14.0588 25.3975H14.0541C11.9751 25.3969 9.93564 24.8411 8.15617 23.7914L7.73299 23.5415L3.34709 24.6856L4.5176 20.4329L4.24218 19.9968C3.08236 18.162 2.46937 16.0413 2.4707 13.8642C2.47338 7.51078 7.67149 2.34138 14.0635 2.34138C17.1586 2.34271 20.0678 3.54266 22.2557 5.72117C24.4437 7.89902 25.6476 10.7949 25.6463 13.8735C25.6436 20.2275 20.4455 25.3969 14.0588 25.3969V25.3975ZM20.4147 16.7673C20.0664 16.5938 18.3538 15.7561 18.0343 15.6405C17.7147 15.5248 17.4828 15.467 17.2508 15.814C17.0189 16.161 16.3511 16.9415 16.1478 17.1721C15.9446 17.4035 15.7414 17.4321 15.3931 17.2585C15.0449 17.085 13.9225 16.7194 12.5915 15.5394C11.5561 14.6206 10.8568 13.4866 10.6536 13.1395C10.4504 12.7925 10.6322 12.605 10.806 12.4329C10.9624 12.2773 11.1543 12.028 11.3287 11.8259C11.5033 11.6238 11.5607 11.4789 11.677 11.2482C11.7934 11.0168 11.7352 10.8148 11.6483 10.6412C11.5614 10.4677 10.8649 8.76253 10.574 8.06918C10.2912 7.39377 10.0039 7.48551 9.79059 7.47421C9.58736 7.46424 9.35542 7.46225 9.12279 7.46225C8.89016 7.46225 8.51309 7.54867 8.19358 7.89569C7.87407 8.24267 6.97426 9.08097 6.97426 10.7855C6.97426 12.49 8.22236 14.1381 8.39681 14.3694C8.57127 14.6008 10.8534 18.0995 14.3476 19.6006C15.1786 19.9576 15.8276 20.171 16.3336 20.3306C17.168 20.5945 17.9273 20.5573 18.5276 20.4682C19.1968 20.3685 20.5886 19.6299 20.8787 18.8208C21.1688 18.0117 21.1688 17.3177 21.0819 17.1734C20.995 17.0292 20.7624 16.9421 20.4141 16.7686L20.4147 16.7673Z"}));} ;function ui(e,t={}){ const _hh$temp436=t,_hh$temp436$preventReferrer=_hh$temp436.preventReferrer,n=_hh$temp436$preventReferrer===void 0?!1:_hh$temp436$preventReferrer,o=mA(e),s=n?"noopener,noreferrer":"noopener"; return window.open(o,"_blank",s)}const ah="../../assets/lottie";function Pse(e){return e.startsWith(`${ah}/`)?e.slice(ah.length+1):e}function I_(){const e= __call$(Object,"assign",[{"../../assets/lottie/chain-of-thought-dark.json":()=>D(()=>import(__get$ProxyUrl("./chain-of-thought-dark-BPjK_j-x.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/chain-of-thought-light.json":()=>D(()=>import(__get$ProxyUrl("./chain-of-thought-light-D5erdeOr.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/character-thinking-cloud-animation.json":()=>D(()=>import(__get$ProxyUrl("./character-thinking-cloud-animation-Bu4j70Rh.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/image-gen-dark.json":()=>D(()=>import(__get$ProxyUrl("./image-gen-dark-DTw6tnD0.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/image-gen-light.json":()=>D(()=>import(__get$ProxyUrl("./image-gen-light-C_x12-59.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/loader-gradient.json":()=>D(()=>import(__get$ProxyUrl("./loader-gradient-7hu2fPzp.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/loader-image-generating.json":()=>D(()=>import(__get$ProxyUrl("./loader-image-generating-BZL4nXqF.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/loader-reasoning-dark.json":()=>D(()=>import(__get$ProxyUrl("./loader-reasoning-dark-Dh23ceSo.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/loader-reasoning-light.json":()=>D(()=>import(__get$ProxyUrl("./loader-reasoning-light-BmcsjTTD.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/loader-spinner-dark.json":()=>D(()=>import(__get$ProxyUrl("./loader-spinner-dark-D_zqJrW7.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/loader-spinner-light.json":()=>D(()=>import(__get$ProxyUrl("./loader-spinner-light-CUlAhBGz.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/loader-spinner-white.json":()=>D(()=>import(__get$ProxyUrl("./loader-spinner-white-B2mzTARL.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/pages-welcome-dark.json":()=>D(()=>import(__get$ProxyUrl("./pages-welcome-dark-BxeF7F8z.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/pages-welcome-light.json":()=>D(()=>import(__get$ProxyUrl("./pages-welcome-light-BFwITHsU.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/read-aloud-on-dark.json":()=>D(()=>import(__get$ProxyUrl("./read-aloud-on-dark-BZFIQunI.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/read-aloud-on-light.json":()=>D(()=>import(__get$ProxyUrl("./read-aloud-on-light-B_f5dGr-.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/study-trophy.json":()=>D(()=>import(__get$ProxyUrl("./study-trophy-lRGPu10r.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/voicemail-dark.json":()=>D(()=>import(__get$ProxyUrl("./voicemail-dark-Bec3gjKS.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default),"../../assets/lottie/voicemail-light.json":()=>D(()=>import(__get$ProxyUrl("./voicemail-light-DmBzGtqk.js","https://copilot.microsoft.com/static/cmc/assets/")),[]).then(n=>n.default)}]) ;function t(n){return  __get$(e,n) ?n:`${ah}/${n}`}return{load:n=>{const o=t(n),s= __get$(e,o) ;return s?s():Promise.reject(new Error(`Lottie animation not found: ${n} (resolved: ${o})`))},exists:n=>{const o=t(n);return!! __get$(e,o) },getNames:()=>Object.keys(e).map(Pse),getFullPath:n=>t(n)}}const Mse=u.lazy(()=>D(()=>import( __get$ProxyUrl("./index.es-dK06k4Ie.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([443,1]))),Rse=I_();function At(e){ const _hh$temp437=e,t=_hh$temp437.type,n=_hh$temp437.className,o=_hh$temp437.rendererSettings,s=_hh$temp437.colorTheme,a=M(fs),r=s??a,_hh$temp438=__arrayFrom$(u.useState(null)),c=_hh$temp438[0],d=_hh$temp438[1],m=u.useMemo(()=>{switch(t){case"gradient":return"loader-gradient.json";case"reasoning":return r==="dark"?"loader-reasoning-dark.json":"loader-reasoning-light.json";case"chainOfThought":return r==="dark"?"chain-of-thought-dark.json":"chain-of-thought-light.json";case"spinnerWhite":return"loader-spinner-white.json";case"imageGen":return r==="dark"?"image-gen-dark.json":"image-gen-light.json";case"spinnerThemed":default:return r==="dark"?"loader-spinner-dark.json":"loader-spinner-light.json";}},[t,r]); return u.useEffect(()=>{Rse.load(m).then(d).catch(()=>d(null))},[m]),c?i.jsx(u.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(Mse,{animationData:c,loop:!0,className:n,rendererSettings:o})}):i.jsx("div",{})}const E_=Object.freeze(Object.defineProperty({__proto__:null,default:At},Symbol.toStringTag,{value:"Module"})),t4e=["facebook","twitter","whatsapp","linkedin","reddit","email"],Nse={facebook:"senderToFacebook",twitter:"senderToX",linkedin:"senderToLinkedIn",whatsapp:"senderToWhatsApp",reddit:"senderToReddit",email:"senderToEmail"},w_={facebook:{displayName:"Facebook",linkGenerator:e=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(e)}`,icon:i.jsx(Tse,{})},twitter:{displayName:"X",linkGenerator:(e,t)=>`https://twitter.com/intent/tweet?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`,icon:i.jsx(_se,{})},whatsapp:{displayName:"WhatsApp",linkGenerator:(e,t)=>`https://api.whatsapp.com/send?text=${encodeURIComponent(`${t} ${e}`)}`,icon:i.jsx(kse,{})},linkedin:{displayName:"LinkedIn",linkGenerator:(e,t)=>`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`,icon:i.jsx(xse,{})},reddit:{displayName:"Reddit",linkGenerator:(e,t)=>`https://www.reddit.com/submit?url=${encodeURIComponent(e)}&title=${encodeURIComponent(t)}`,icon:i.jsx(Ase,{})},email:{displayName:"Email",linkGenerator:(e,t)=>`mailto:?subject=${encodeURIComponent(t)}&body=${encodeURIComponent(e)}`,icon:i.jsx(b_,{})}};function n4e(e){ const _hh$temp439=e,t=_hh$temp439.socialMedia,n=_hh$temp439.className,o=_hh$temp439.loading,s=_hh$temp439.disabled,a=_hh$temp439.onClickSocialMedia,r=_hh$temp439.includeTitle,_hh$temp439$iconClassName=_hh$temp439.iconClassName,c=_hh$temp439$iconClassName===void 0?"size-6":_hh$temp439$iconClassName,d=__get$(w_,t),m=d.displayNameKey?U(d.displayNameKey):d.displayName,p=i.jsx("div",{className:c,children:d.icon}),h="56-xl",v="subtle-dimmed-inverted",y=O("flex-1 py-2",n); return i.jsxs(X,{size:h,color:v,title:m,className:y,onClick:C=>a(t,C),disabled:s,children:[o?i.jsx(At,{className:"size-8"}):p,r&&i.jsx("span",{className:"font-medium text-foreground-650 text-2xs",children:m})]})}function o4e(e,t,n,o){if(!t)return;let s;if(e==="email"){const a=o?`${o}

${t}`:t;s=`mailto:?subject=${encodeURIComponent(n)}&body=${encodeURIComponent(a)}`}else s= __get$(w_,e) .linkGenerator(t,o??n);ui(s)}function PS(e){ const _hh$temp440=e,t=_hh$temp440.scenario,n=_hh$temp440.pageName,o=_hh$temp440.sectionName,s=_hh$temp440.customData; fe({source:"shareMenu",scenario:t,pageName:n,sectionName:o,customData:s})}function s4e(e){ const _hh$temp441=e,t=_hh$temp441.conversationId,n=_hh$temp441.messageId; R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"sharePreview",eventInfo_impressionElement:"shareBlockedBanner",eventInfo_conversationId:t,eventInfo_messageId:n}})}function a4e(e){ const _hh$temp442=e,t=_hh$temp442.conversationId,n=_hh$temp442.messageId,o=_hh$temp442.uploadedFileType; R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"sharePreview",eventInfo_conversationId:t,eventInfo_messageId:n,eventInfo_uploadFileType:o}})}function r4e(e){ const _hh$temp443=e,t=_hh$temp443.scenario,n=_hh$temp443.uploadedFileType,o=_hh$temp443.conversationId,s=_hh$temp443.customData,_hh$temp443$clickDestination=_hh$temp443.clickDestination,a=_hh$temp443$clickDestination===void 0?"copyLink":_hh$temp443$clickDestination,r={eventName:"copilotClick",eventInfo_clickSource:"shareButton",eventInfo_clickScenario:t,eventInfo_uploadFileType:n,eventInfo_clickDestination:a,eventInfo_customData:s,eventInfo_conversationId:o}; R.trackEvent({name:"interaction",data:r})}function i4e(e){ const _hh$temp444=e,t=_hh$temp444.scenario,n=_hh$temp444.socialMedia,o=_hh$temp444.customData,s=_hh$temp444.conversationId,a={eventName:"copilotClick",eventInfo_clickSource:"shareButton",eventInfo_clickDestination:__get$(Nse,n),eventInfo_clickScenario:t,eventInfo_customData:o,eventInfo_conversationId:s}; R.trackEvent({name:"interaction",data:a})}function Lse(e){ const _hh$temp445=e,t=_hh$temp445.shareId,n=_hh$temp445.sharedLevel,o=_hh$temp445.sharedDataType,s=_hh$temp445.impressionScenario; R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"receivePreview",eventInfo_impressionScenario:s,eventInfo_customData:JSON.stringify({eventInfo_shareId:t,sharedLevel:n,sharedDataType:o})}})}function c4e(){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"talkToCopilot"}})}function l4e(e){ const _hh$temp446=e,t=_hh$temp446.cardType,n=_hh$temp446.messageId,o=_hh$temp446.conversationId,s=_hh$temp446.scenario; nn({source:"shareMenu",scenario:s,messageId:n,conversationId:o,cardType:t})}function Dse(e){ const _hh$temp447=e,t=_hh$temp447.conversationId,n=_hh$temp447.messageId,o=_hh$temp447.errorName,s=_hh$temp447.errorMessage,a=_hh$temp447.errorStack; R.trackEvent({name:"system",data:{eventName:"shareMessagesFailed",eventInfo_conversationId:t,eventInfo_messageId:n??"",eventInfo_error:o,eventInfo_errorMessage:s,eventInfo_errorStack:a}})}function Ose(){fe({source:"continueClicked"})}function Use(e){ const _hh$temp448=e,t=_hh$temp448.shareId,n=_hh$temp448.error,o=_hh$temp448.conversationId; tt({feature:"share",scenario:"continueClickFailed",errorType:n?.name,errorMessage:n?.message,customData:JSON.stringify({eventInfo_shareId:t,eventInfo_conversationId:o})})}function u4e(){fe({source:"sharedLinkManagement"})}function d4e(e){fe({source:"delete",scenario:"deleteSingleSharedLink",customData:JSON.stringify({eventInfo_shareId:e})})}function m4e(e){ const _hh$temp449=e,t=_hh$temp449.details,n=_hh$temp449.errorMessage; R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"CopyError",eventInfo_details:t,eventInfo_errorMessage:n}})}function p4e(){fe({pageName:"chatPage",sectionName:"chatResponse",source:"addToPage"})}function f4e(e){fe({pageName:"addToPage",source:e})}function Fse(){fe({sectionName:"actionMenu",source:"createNewPage"})}function jse(e){fe({pageName:e,source:"openPage"})}function h4e(){fe({pageName:"pages",sectionName:"editBar",source:"askCopilot"})}function g4e(e){ const _hh$temp450=e,t=_hh$temp450.action,n=_hh$temp450.pageId,o=_hh$temp450.conversationId,s=_hh$temp450.messageId,a=_hh$temp450.suggestionId; fe({pageName:"pages",sectionName:"suggestions",source:t==="accept"?"applyRevision":"reject",conversationId:o,customData:JSON.stringify({eventInfo_pageId:n,eventInfo_messageId:s,eventInfo_suggestionId:a,eventInfo_sourcesCount:j(So)})})}function v4e(e){ const _hh$temp451=e,t=_hh$temp451.reaction,n=_hh$temp451.pageId,o=_hh$temp451.suggestionId,s=_hh$temp451.messageId,a=_hh$temp451.startIndex,r=_hh$temp451.endIndex,c=_hh$temp451.oldText,d=_hh$temp451.replacement,m=_hh$temp451.conversationId; fe({pageName:"pages",sectionName:"suggestions",source:"pagesFeedback",scenario:t,conversationId:m,customData:JSON.stringify({eventInfo_pageId:n,eventInfo_reaction:t,eventInfo_suggestionId:o,eventInfo_messageId:s,eventInfo_startIndex:a,eventInfo_endIndex:r,eventInfo_oldText:c,eventInfo_replacement:d})})}function Bse(e){tt({feature:"pages",...e})}const y4e=["createPage","addToExistingPage","openPageOnChat","openPageOnHistory","openPageOnLibrary","copyPage","openPageOnProjectCreation"];function C4e(e,t,n){jo({feature:"pages",scenario:e,duration:Math.round(t),customData:JSON.stringify({eventInfo_pageId:n})})}function S4e(){fe({pageName:"pages",source:"hyperlinkInPages"})}function b4e( _hh$temp452 ){ var e=_hh$temp452.sectionName,t=_hh$temp452.pageId; fe({sectionName:e,source:"deletePage",customData:JSON.stringify({eventInfo_pageId:t})})}function I4e( _hh$temp453 ){ var e=_hh$temp453.sectionName,t=_hh$temp453.pageId; fe({sectionName:e,source:"renamePage",customData:JSON.stringify({eventInfo_pageId:t})})}function E4e(e){R.trackEvent({name:"interaction",data:{eventName:"copilotPagesEdited",eventInfo_customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:j(So)})}})}function w4e(e){ const _hh$temp454=e,t=_hh$temp454.pageName,n=_hh$temp454.sectionName,o=_hh$temp454.pageId; fe({pageName:t,sectionName:n,source:"pagesSharing",customData:JSON.stringify({eventInfo_pageId:o})})}function T4e(e){ const _hh$temp455=e,t=_hh$temp455.pageName,n=_hh$temp455.sectionName,o=_hh$temp455.pageId,s=_hh$temp455.source; fe({pageName:t,sectionName:n,source:s,customData:JSON.stringify({eventInfo_pageId:o})})}function x4e(e){ const _hh$temp456=e,t=_hh$temp456.sectionName,n=_hh$temp456.pageId; fe({sectionName:t,source:"removePagesSharing",customData:JSON.stringify({eventInfo_pageId:n})})}const A4e=["pagesHistory","direct"];function _4e(e,t){R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"pagesSharing",eventInfo_impressionScenario:e}}),Lse({shareId:t,sharedLevel:"singleAr",sharedDataType:"page",impressionScenario:"pages"})}const k4e=["responsePreviewedPage","chatCreateNewPage","chatAddToExistingPage","chatDirectToNewPage","pagesHistory","actionMenuCreateNewPage","featureDiscoveryCreateNewPage","libraryMenuCreateNewPage","makeACopyViewerPage","makeACopyOwnerPage","makeACopyViewOnly","makeACopyPagesHistory","libraryPageItem","chatWidgetCreatePage","projectPageCreationItem"];function P4e(e,t){R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"pages",eventInfo_impressionScenario:t,eventInfo_customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:j(So)})}})}function M4e(e){ const _hh$temp457=e,t=_hh$temp457.pageName,n=_hh$temp457.sectionName,o=_hh$temp457.pageId; fe({pageName:t,sectionName:n,source:"makePagesCopy",customData:JSON.stringify({eventInfo_pageId:o})})}function R4e(){fe({pageName:"pages",source:"printPage"})}function Vse(e){R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"threePages",eventInfo_impressionScenario:e}})}function N4e(e,t){fe({pageName:"pages",sectionName:"titleBar",source:t,customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:j(So)})})}function L4e(e){_t({page:"sourcesManagement",scenario:"showSources",customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:j(So)})})}function D4e(e,t){fe({pageName:"pages",sectionName:"sourcesManagement",source:t,customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:j(So)})})}function T_( _hh$temp458 ){ var e=_hh$temp458.pageId,t=_hh$temp458.uploadStatus,n=_hh$temp458.format; _t({scenario:"uploadPageSourceFile",page:"sourcesManagement",element:"sourcesFileItem",customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:j(So),eventInfo_sourcesFileFormat:n,eventInfo_uploadStatus:t})})}function O4e(e,t){jo({feature:"pages",scenario:"uploadSourceFile",customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:j(So)})}),T_({pageId:e,uploadStatus:"Success",format:t})}function U4e(e){fe({pageName:"pages",sectionName:"sourcesManagement",source:"deleteFile",customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:j(So)})})}function F4e(e){fe({pageName:"pages",sectionName:"sourcesFileDeleteModal",source:"confirmDeleteFile",customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:j(So)})})}function j4e( _hh$temp459 ){ var e=_hh$temp459.pageId,t=_hh$temp459.isSaving,n=_hh$temp459.errorMessage,o=_hh$temp459.exception,s=_hh$temp459.fileExtension; Bse({scenario:"uploadSourceFile",errorType:t?"SavePageMappingFailed":"UploadSourceFileFailed",errorMessage:n,exception:o,customData:JSON.stringify({eventInfo_pageId:e,eventInfo_sourcesCount:j(So)})}),T_({pageId:e,uploadStatus:t?"SavePageMappingFailed":"UploadSourceFileFailed",format:s})}async function x_( _hh$temp460 ){ var e=_hh$temp460.pageId,t=_hh$temp460.pageType,n=_hh$temp460.closeSidebar,o=_hh$temp460.sourcePage,s=_hh$temp460.impressionScenario,a=_hh$temp460.featureLatencyInfo; if(jse(o),n&&_e().set(Lo,!1),t==="sharedPage"){await kn({to:"/shares/pages/$shareId",params:{shareId:e},from: __get$(Un().state,"location") .pathname,state:{...a,impressionScenario:s}});return}await kn({to:"/pages/$pageId",params:{pageId:e},from: __get$(Un().state,"location") .pathname,state:{...a,impressionScenario:s}})}function B4e(){return u.useCallback(async e=>{await x_(e)},[])}const Hse=_e();function Jo(e){e&&Hse.set(Ct,{title:e.title,subtitle:e.message,dismissable:!0,dismissAfter:10*1e3})}function al(){return!!Z.instance().config().enableMultiAuthProviders}function zse(){const e=zh();return u.useCallback(n=>{n?e.removeQueries({queryKey:n}):e.clear()},[e])}const h0="shouldPerformUserMerge";function Gse(e){cc(h0,String(e))}function Wse(){XN(h0)}function $se(){return Lr(h0)!=="false"}function V4e(){ const e=M(G$),t=kt(),_hh$temp461=__arrayFrom$(Re(gN)),n=_hh$temp461[0],o=_hh$temp461[1],s=!t&&e; return u.useEffect(()=>{Gse(n)},[n]),{shouldShowMergeCheckbox:s,shouldMerge:n,setShouldMerge:o}}function A_(){ft(Cf),ft(Nr),ft(Cd)}function qse(){ft(ZI),ft(Pu),A_()}function Kse(){uo("sticky-conversation-mode")}function Yse(){Kse()}function H4e(e){ const _hh$temp462=e,t=_hh$temp462.key,n=_hh$temp462.name; t&&ls(GI,t,{expireDays:365}),n?ls(yf,n,{expireDays:365}):Rr(yf)}function Zse(){Rr(GI),Rr(yf)}function rl(){const e=zse(),t=async s=>{ const _hh$temp463=s,a=_hh$temp463.provider,r=_hh$temp463.scenario,_hh$temp463$opts=_hh$temp463.opts,c=_hh$temp463$opts===void 0?{}:_hh$temp463$opts,d=_hh$temp463.onAuthComplete,m=_hh$temp463.onAuthError; A_(),await Dn.instance().logIn(a,c).catch(p=>{console.error(p),m?.()})},n=async(s=!0)=>{e(),qse(),Yse(),Zse(),Wse(),await Dn.instance().logOut().then(async()=>{s&&ix("/")})};return{login:t,logout:n,switchAccount:async s=>{await n(),await t(s)}}}function Jse(e){ const _hh$temp464=e,_hh$temp464$provider=_hh$temp464.provider,t=_hh$temp464$provider===void 0?"microsoft":_hh$temp464$provider,n=_hh$temp464.scenario,o=_hh$temp464.loginScenario,s=_hh$temp464.from,a=al(),r=si(),_hh$temp465=rl(),c=_hh$temp465.login; return u.useCallback(async()=>{if(n&&nn({source:"signin",scenario:n}),a){await r({from:s,to:"/login",search:{back: __get$(__get$(window,"location"),"href") }});return}await c({provider:t,scenario:o})},[s,r,a,c,t,n,o])}const MS="/pages";async function RS(e,t){const n=await Nt({path:"/pages",args:{body:e,analytics:{anonymousPath:MS},options:{signal:t}}}),o=await n.json(),s=XH.safeParse(o);if(!n.ok&&s.success)throw new Error(s.data.errorCode);try{return qH.parse(o)}catch(a){throw a instanceof ec&&Tr(a,MS,!1),a}}async function Qse(e,t,n,o,s){return RS(n==="conversationSummary"&&o!==void 0?{source:n,conversationId:o}:{title:e??"",content:t??""},s)}function Xse(e){ const _hh$temp466=yse(),t=_hh$temp466.canCreatePage,n=_hh$temp466.canCreatePageForSignedOut,_hh$temp467=__arrayFrom$(u.useState(!1)),o=_hh$temp467[0],s=_hh$temp467[1],a=ln(),r=Jse({from:a,scenario:"sidebarActionCreatePage",loginScenario:"generalPageCreate"}),c=e?.autoNavigate??!0; return{creatingPage:o,createPage:t?async( _hh$temp468 )=>{ var m=_hh$temp468.title,p=_hh$temp468.content,h=_hh$temp468.sourcePage,v=_hh$temp468.impressionScenario,y=_hh$temp468.featureLatencyInfo,C=_hh$temp468.source,S=_hh$temp468.conversationId,b=_hh$temp468.abortSignal; s(!0);try{return await __({sourcePage:h,impressionScenario:v,featureLatencyInfo:y,title:m,content:p,source:C,conversationId:S,abortSignal:b,autoNavigate:c,closeSidebar:!0})}catch(I){I instanceof Error&&I.message==="page-count-exceeded"&&n?(Vse(h),await r()):Jo({title:U("common.somethingWrong"),message:U("pages.errorCreatingMessage")});return}finally{s(!1)}}:null}}async function __( _hh$temp469 ){ var e=_hh$temp469.sourcePage,t=_hh$temp469.impressionScenario,n=_hh$temp469.featureLatencyInfo,o=_hh$temp469.title,s=_hh$temp469.content,a=_hh$temp469.source,r=_hh$temp469.conversationId,c=_hh$temp469.abortSignal,d=_hh$temp469.autoNavigate,_hh$temp469$closeSidebar=_hh$temp469.closeSidebar,m=_hh$temp469$closeSidebar===void 0?!0:_hh$temp469$closeSidebar;  const _hh$temp470=await Qse(o,s,a,r,c),p=_hh$temp470.id; return d!==!1&&await x_({pageId:p,closeSidebar:m,sourcePage:e,impressionScenario:t,featureLatencyInfo:n}),{id:p}}async function eae( _hh$temp471 ){ var e=_hh$temp471.sourcePage,t=_hh$temp471.impressionScenario,n=_hh$temp471.featureLatencyInfo,o=_hh$temp471.title,s=_hh$temp471.content,a=_hh$temp471.source,r=_hh$temp471.conversationId,c=_hh$temp471.abortSignal,d=_hh$temp471.autoNavigate,_hh$temp471$closeSidebar=_hh$temp471.closeSidebar,m=_hh$temp471$closeSidebar===void 0?!0:_hh$temp471$closeSidebar; try{return await __({sourcePage:e,impressionScenario:t,featureLatencyInfo:n,title:o,content:s,source:a,conversationId:r,abortSignal:c,autoNavigate:d,closeSidebar:m})}catch{Jo({title:U("common.somethingWrong"),message:U("pages.errorCreatingMessage")});return}}const bo=f({id:l(),conversationId:l().nullish(),messageId:l().nullish(),createdAt:l().nullish()}),tae=bo.extend({type:g("image"),thumbnailBaseUrl:l()}),nae=bo.extend({type:g("page"),title:l().nullish(),updatedAt:l(),pageType:H(["page","sharedPage"]).optional(),previewContent:l().nullish()}),oae=bo.extend({type:g("podcast"),podcastId:l(),title:l().nullish(),durationInSeconds:A(),thumbnail:f({name:l(),url:l(),foregroundColor:l(),backgroundColor:l(),altText:l()})}),sae=bo.extend({type:g("research"),taskId:l(),title:l().nullish(),finalResponse:l().nullish()});bo.extend({type:g("quiz")});const aae=bo.extend({type:g("video"),thumbnailUrl:l(),videoUrl:l()}),rae=bo.extend({type:g("document"),artifactId:l().nullish(),title:l().nullish(),thumbnailUrl:l().nullish()}),iae=bo.extend({type:g("presentation"),artifactId:l().nullish(),title:l().nullish(),thumbnailUrl:l().nullish()}),cae=bo.extend({type:g("spreadsheet"),artifactId:l().nullish(),title:l().nullish(),thumbnailUrl:l().nullish()}),lae=de("type",[tae,aae,nae,sae,oae,rae,iae,cae]),uae=H(["image","video","page","research","podcast","onedrive","document","presentation","spreadsheet"]),z4e=uae.options;f({type:l().optional()});const G4e=f({results:T(lae),next:l().nullable()}),W4e=f({id:l(),title:l().nullish()}),dae=f({id:l(),title:l().nullish()}),mae=f({id:l(),title:l().nullish()}),$4e=f({results:T(mae),next:l().nullish()}),pae=H(["in-progress","ready","blocked","invalid-content","too-large","failed"]);H(["inProgress","failed","ready"]);const fae=f({attachmentId:l(),fileName:l(),contentType:l(),createdAt:l().optional(),status:pae.optional(),url:l().nullish()}),q4e=f({results:T(fae),next:l().nullable()});H(["page","podcast"]);const hae=bo.extend({type:g("page"),title:l().nullish(),pageId:l()}),gae=bo.extend({type:g("podcast"),podcastId:l(),title:l().nullish(),durationInSeconds:A(),thumbnail:f({name:l(),url:l(),foregroundColor:l(),backgroundColor:l(),altText:l()}).nullish()}),vae=de("type",[hae,gae]),K4e=f({results:T(vae),next:l().nullable()}),Y4e=f({id:l()}),Z4e=f({projectImpressionScenario:J([g("projectChatHeader"),g("projectCreateModal"),g("projectHistoryItem"),g("projectSeeMoreItem")])}),yae="/projects";async function k_(e){ const _hh$temp472=e??{},t=_hh$temp472.title,n=_hh$temp472.sources; return(await ut(yae,dae,{options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,...n&&n.length>0&&{sources:n}})}})).data}function J4e(){const e=cd({mutationKey:["createProject"],mutationFn:k_}),t=async n=>!!await P_(n,e.mutateAsync);return{isCreating:e.isPending,createProject:t}}async function P_(e,t){try{ const _hh$temp473=t?await t(e):await k_(e),n=_hh$temp473.id; return await kn({from: __get$(window,"location") .pathname,to:`/projects/${n}`,state:{projectImpressionScenario:"projectCreateModal"}}),await hd.invalidateQueries({queryKey:["projects"]}),{id:n}}catch{Jo({title:U("common.somethingWrong"),message:U("projects.errors.errorCreatingMessage")});return}}const Cae=_e();function M_(e){Cae.set(ha,e)}function Sae(){ const e=ri(),t=M(RT),_hh$temp474=__arrayFrom$(Re(Jc)),n=_hh$temp474[0],o=_hh$temp474[1]; u.useEffect(()=>{e&&!n&&o(t)},[e,t,n,o])}function rh(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID(): __call$("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx","replace",[/[xy]/g,e=>{const t=Math.floor(Math.random()*16);return(e==="x"?t:Math.floor(Math.random()*4+8)).toString(16);}]) }const R_=7e3;function po(e={}){return bae(e),null}function bae(e={}){ const _hh$temp475=e,t=_hh$temp475.msg,n=_hh$temp475.id,_hh$temp475$type=_hh$temp475.type,o=_hh$temp475$type===void 0?"polite":_hh$temp475$type,_hh$temp475$timeout=_hh$temp475.timeout,s=_hh$temp475$timeout===void 0?R_:_hh$temp475$timeout,a=q(Hu),r=u.useRef(n??rh()); u.useEffect(()=>{t&&a(c=>{if(c.some(m=>m.id===r.current&&m.msg===t&&m.type===o))return c;r.current=n??rh();const d={msg:t,id:r.current,type:o};return window.setTimeout(()=>{a(m=>m.filter(p=>p.id!==d.id))},s),[...c,d]})},[n,t,o,a,s])}function Qn(e){ const _hh$temp476=e,t=_hh$temp476.msg,n=_hh$temp476.id,_hh$temp476$type=_hh$temp476.type,o=_hh$temp476$type===void 0?"polite":_hh$temp476$type,_hh$temp476$timeout=_hh$temp476.timeout,s=_hh$temp476$timeout===void 0?R_:_hh$temp476$timeout; if(!t)return;const a=_e();a.set(Hu,r=>{const c={msg:t,id:n??rh(),type:o};return window.setTimeout(()=>{a.set(Hu,d=>d.filter(m=>m.id!==c.id))},s),[...r,c]})}const Iae=10*1024*1024,Eae=5*1024*1024,wae=50*1024*1024,Tae=3,Xn={"image/png":["png"],"image/jpeg":["jpg","jpeg"],"image/webp":["webp"],"image/svg+xml":["svg"],"application/pdf":["pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/msword":["doc"],"application/vnd.ms-excel":["xls"],"application/vnd.ms-powerpoint":["ppt"],"application/json":["json"],"text/xml":["xml"],"application/x-sql":["sql"],"text/csv":["csv"],"text/markdown":["md"],"text/plain":["txt"],"text/html":["html","htm"],"text/javascript":["js"],"text/css":["css"],"application/xml":["xml"]},xae={"image/png":["png"],"image/jpeg":["jpg","jpeg"]},Aae={"application/pdf":["pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/json":["json"],"text/csv":["csv"],"text/markdown":["md"],"text/plain":["txt"]},NS=P(null),N_=P(e=>{const t=e(Jr("fileasyncprocessing"));return{maxFilesPerMessage:Tae,image:{maxBytes:Iae,mimeTypes:xae},document:{maxBytes:t?wae:Eae,mimeTypes:Aae}}}),Io=P(e=>e(NS)??e(N_),(e,t,n)=>{t(NS,n)}),Za=P(e=>{const t=e(Io);return{...t.image.mimeTypes,...t.document.mimeTypes}});function il(e){const t=j(Io).document.mimeTypes;return e in t}function g0(e,t){if(!e)return!1;const n=Oo(e);return L_(n,t)}function L_(e,t){if(!e||e==="")return!1; const n=j(Za),_hh$temp477=t??{},_hh$temp477$supportedMimeTypes=_hh$temp477.supportedMimeTypes,o=_hh$temp477$supportedMimeTypes===void 0?n:_hh$temp477$supportedMimeTypes; return e in o}function Q4e(e){const t=j(Io).image.mimeTypes;return L_(e,{supportedMimeTypes:t})}function X4e(){const e=j(Za);return Object.keys(e).map(t=>t in Xn&& __get$(Xn,t) ?[t,... __get$(Xn,t) .map(n=>`.${n}`)]:[]).flat()}function e6e(){const e=j(Io).document.mimeTypes;return Object.keys(e).map(t=>t in Xn&& __get$(Xn,t) ?[t,... __get$(Xn,t) .map(n=>`.${n}`)]:[]).flat()}function t6e(){const e=j(Io).image.mimeTypes;return Object.keys(e).map(t=>t in Xn&& __get$(Xn,t) ?[t,... __get$(Xn,t) .map(n=>`.${n}`)]:[]).flat()}function vm(e){return Object.values(e).flat().map(t=>`.${t}`)}function _ae(){const e=j(Io).document.mimeTypes;return vm(e)}function kae(){const e=j(Io).image.mimeTypes;return vm(e)}function D_(){const e=j(Io);return{documentMaxSize:e.document.maxBytes,imageMaxSize:e.image.maxBytes}}function v0(e){const t=Wae(e),n=j(Za),o=Object.entries(n).find( _hh$temp478=>{var _hh$temp479=__arrayFrom$(_hh$temp478),s=_hh$temp479[1];return s.includes(t??"");} );return o?o[0]:""}function Oo(e){return e?e.type!==""?e.type:v0(e.name):""}function O_(e,t){ const n=j(Za),_hh$temp480=t??{},_hh$temp480$supportedMimeTypes=_hh$temp480.supportedMimeTypes,o=_hh$temp480$supportedMimeTypes===void 0?n:_hh$temp480$supportedMimeTypes,s=_hh$temp480.scenario; let a,r=null;const c=D_();if(!g0(e,{supportedMimeTypes:o}))a={title:U("composer.errors.unsupportedAttachmentTypeV2.title"),message:U("composer.errors.unsupportedAttachmentTypeV2.message")},r="fileType";else if(!U_(e)){const d=Oo(e);a={title:U("composer.errors.multi.attachmentTooLarge.title"),message:U("composer.errors.multi.attachmentTooLarge.message",{limit:il(d)?c.documentMaxSize/1024/1024:c.imageMaxSize/1024/1024})},r="fileSize"}return R.trackEvent({name:"system",data:{eventName:"clientFileValidation",eventInfo_errorType:r,eventInfo_fileType:Oo(e),eventInfo_fileSize:e.size,eventInfo_customData:s?JSON.stringify({uploadFileScenario:s}):void 0}}),a}function Pae(e){return e.type==="text/x-markdown"?new File([e],e.name,{type:"text/markdown"}):e}function U_(e){const t=D_(),n=Oo(e),o=il(n)?t.documentMaxSize:t.imageMaxSize;return e.size<=o}function Mae(e){const t=e.clipboardData?.items;if(t)for(let n=0;n<t.length;n+=1){const o= __get$(t,n) ;if(o?.kind==="file"){const s=o.getAsFile();if(!g0(s))continue;const a=Oo(s);if(s!==null)return U_(s)?{file:s,error:void 0}:(R.trackEvent({name:"system",data:{eventName:"clientFileValidation",eventInfo_errorType:"fileType",eventInfo_fileSize:s.size,eventInfo_fileType:a,eventInfo_errorMessage:"File size too large in paste"}}),{file:void 0,error:{title:U("composer.errors.attachmentTooLargeV2.title"),message:U("composer.errors.attachmentTooLargeV2.message")}})}}return{file:void 0,error:void 0}}function F_(e){switch(e){case"unsupported-content-type":return{title:U("composer.errors.unsupportedAttachmentTypeV2.title"),message:U("composer.errors.unsupportedAttachmentTypeV2.message")};case"attachment-too-large":return{title:U("composer.errors.attachmentTooLargeV2.title"),message:U("composer.errors.attachmentTooLargeV2.message")};case"empty-attachment":return{title:U("composer.errors.emptyAttachmentV2.title"),message:U("composer.errors.emptyAttachmentV2.message")};case"content-blocked":return{title:U("composer.errors.attachmentContentBlockedV2.title"),message:U("composer.errors.attachmentContentBlockedV2.message")};case"rate-limit-exceeded":return{title:U("composer.errors.attachmentRateLimitExceededV2.title"),message:U("composer.errors.attachmentRateLimitExceededV2.message")};default:return{title:U("composer.errors.attachmentDefault.title"),message:U("composer.errors.attachmentDefault.message")}}}function j_(e,t){const n=window.URL.createObjectURL(e),o=document.createElement("a");o.style.display="none", __set$(o,"href",n) ,o.download=t,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(n),o.remove()}function n6e(e,t,n){const o=new Blob([n],{type:t});j_(o,e)}function Rae(e){const t=e.headers.get("Content-Disposition");if(!t)return;const n=t.match(/filename\*=UTF-8''([^;]+)/);if(n&&n[1])return decodeURIComponent(n[1]);const o=t.match(/filename=([^;]+)/);if(o&&o[1])return  __call$(o[1],"replace",[/^"(.*)"$/,"$1"]) }async function Nae(e){ const _hh$temp481=e,t=_hh$temp481.url,n=_hh$temp481.fileName,o=_hh$temp481.preferResponseFileName,s=_hh$temp481.args,a=rm(t)?await fetch(t,s?.options):await vo(t,s); if(!a.ok)throw new Error(`Failed to fetch file: ${n} from ${t} (status: ${a.status})`);const r=await a.blob();let c=n;if(o){const d=Rae(a);d&&(c=d)}j_(r,c)}function Lae( _hh$temp482 ){ var e=_hh$temp482.name,t=_hh$temp482.size,n=_hh$temp482.message,o=_hh$temp482.kind; R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitMessage",eventInfo_errorMessage:n,eventInfo_details:`Error uploading ${o} attachment`,eventInfo_uploadFileSize:t,eventInfo_uploadFileType:e,eventInfo_numDocumentsUploaded:1}})}function Dae(){return`file-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}function o6e(e,t){for(const n of e){const o=O_(n,{supportedMimeTypes:t});if(o)return o}return null}function Oae(e){const t=jae(e);return new File([e],t,{type:"text/plain"})}function Uae(e){return  __call$(e,"replace",[/[\\/:*?"<>|]/g,"_"]) .trim()}function Fae(e){return e.length>0&&!/^[_\s]+$/.test(e)}function jae(e){const n=`${U("fileUpload.pastedTextDefaultFilename")}.txt`;if(!e||e.trim().length===0)return n;const s=e.split(`
`).find(r=>r.trim().length>0);if(!s)return n;let a=s.trim().slice(0,50);return a=Uae(a),Fae(a)?`${a}.txt`:n}const Bae=2e3,Vae=500*1024,Hae=1*1024*1024,zae=.05,Gae=.15;function s6e(e){ const _hh$temp483=e,t=_hh$temp483.fileSizeBytes,_hh$temp483$minUploadFileTimeMs=_hh$temp483.minUploadFileTimeMs,n=_hh$temp483$minUploadFileTimeMs===void 0?Bae:_hh$temp483$minUploadFileTimeMs,_hh$temp483$minUploadSpeedBytesPerSec=_hh$temp483.minUploadSpeedBytesPerSec,o=_hh$temp483$minUploadSpeedBytesPerSec===void 0?Vae:_hh$temp483$minUploadSpeedBytesPerSec,_hh$temp483$maxUploadSpeedBytesPerSec=_hh$temp483.maxUploadSpeedBytesPerSec,s=_hh$temp483$maxUploadSpeedBytesPerSec===void 0?Hae:_hh$temp483$maxUploadSpeedBytesPerSec,_hh$temp483$minBufferRatio=_hh$temp483.minBufferRatio,a=_hh$temp483$minBufferRatio===void 0?zae:_hh$temp483$minBufferRatio,_hh$temp483$maxBufferRatio=_hh$temp483.maxBufferRatio,r=_hh$temp483$maxBufferRatio===void 0?Gae:_hh$temp483$maxBufferRatio,c=o+Math.random()*(s-o),d=t/c*1e3,m=n+d,p=a+Math.random()*(r-a),h=m*p; return m+h}function Wae(e){return e?.split(".").pop()?.toLowerCase()}function y0(e){switch(e.kind){case"local-file":{ const _hh$temp484=e,t=_hh$temp484.file; return{name:t.name,contentType:Oo(t),size:t.size}}case"onedrive":{ const _hh$temp485=e,t=_hh$temp485.item; return{name:t.name,contentType:v0(t.name),size:t.size}}default:{const t=e;throw new Error(`Unhandled upload kind: ${t}`)}}}function C0(e){return Au(e,Date.now())}function Wu(e){const t=Ro(e);return t.setHours(0,0,0,0),t}function di(e,t){const n=Wu(e),o=Wu(t);return+n==+o}function S0(e){return di(e,C0(e))}function $ae(e){return di(e,Nc(C0(e),1))}function gn(e,t,n="en-US"){let o;if(e instanceof Date)o=e;else if(typeof e=="number")o=new Date(e<1e12?e*1e3:e);else if(typeof e=="string")o=new Date(e);else throw new Error(`Invalid date input: ${e}`);if(Number.isNaN(o.getTime()))throw new Error(`Invalid date: ${String(e)}`);switch(t){case"yyyyMMdd":{const s=o.getFullYear(),a=(o.getMonth()+1).toString().padStart(2,"0"),r=o.getDate().toString().padStart(2,"0");return`${s}${a}${r}`}case"yyyyMMdd_HHmmss":{const s=o.getFullYear(),a=(o.getMonth()+1).toString().padStart(2,"0"),r=o.getDate().toString().padStart(2,"0"),c=o.getHours().toString().padStart(2,"0"),d=o.getMinutes().toString().padStart(2,"0"),m=o.getSeconds().toString().padStart(2,"0");return`${s}${a}${r}_${c}${d}${m}`}case"h:mm aa":case"h:mm a":return new Intl.DateTimeFormat(n,{hour:"numeric",minute:"2-digit",hour12:!0}).format(o);case"h":return new Intl.DateTimeFormat(n,{hour:"numeric",hour12:!0}).formatToParts(o).find(r=>r.type==="hour")?.value??"";case"mm":return new Intl.DateTimeFormat(n,{minute:"2-digit"}).format(o).padStart(2,"0");case"a":return new Intl.DateTimeFormat(n,{hour:"numeric",hour12:!0}).formatToParts(o).find(r=>r.type==="dayPeriod")?.value??"";case"h a":return new Intl.DateTimeFormat(n,{hour:"numeric",hour12:!0}).format(o);case"PP":return new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"}).format(o);case"EEEE":return new Intl.DateTimeFormat(n,{weekday:"long"}).format(o);case"eeee":return new Intl.DateTimeFormat(n,{weekday:"long"}).format(o);case"MMMM":return new Intl.DateTimeFormat(n,{month:"long"}).format(o);case"d":return o.getDate().toString();case"MM/dd":{const s=(o.getMonth()+1).toString().padStart(2,"0"),a=o.getDate().toString().padStart(2,"0");return`${s}/${a}`}case"MMM d":return new Intl.DateTimeFormat(n,{month:"short",day:"numeric"}).format(o);case"MMM":return new Intl.DateTimeFormat(n,{month:"short"}).format(o);case"eee, MMM d":return new Intl.DateTimeFormat(n,{weekday:"short",month:"short",day:"numeric"}).format(o);case"eee":return new Intl.DateTimeFormat(n,{weekday:"short"}).format(o);case"EE":return new Intl.DateTimeFormat(n,{weekday:"short"}).format(o);case"h:mma":return  __call$(new Intl.DateTimeFormat(n,{hour:"numeric",minute:"2-digit",hour12:!0}).format(o),"replace",[" ",""]) ;case"haaa":return  __call$(new Intl.DateTimeFormat(n,{hour:"numeric",hour12:!0}).format(o),"replace",[/\s+/g,""]) .toLowerCase();case"yyyy":return o.getFullYear().toString();case"MM":return(o.getMonth()+1).toString().padStart(2,"0");case"dd":return o.getDate().toString().padStart(2,"0");case"HH":return o.getHours().toString().padStart(2,"0");case"HH:mm":{const s=o.getHours().toString().padStart(2,"0"),a=o.getMinutes().toString().padStart(2,"0");return`${s}:${a}`}case"HH:mm:ss":{const s=o.getHours().toString().padStart(2,"0"),a=o.getMinutes().toString().padStart(2,"0"),r=o.getSeconds().toString().padStart(2,"0");return`${s}:${a}:${r}`}case"ss":return o.getSeconds().toString().padStart(2,"0");case"xD":{const a=Math.floor((new Date().getTime()-o.getTime())/(1e3*3600*24));return U("dates.time.dayAbbrCapitalized",{dayNumber:a})}case"xh":{const a=Math.floor((new Date().getTime()-o.getTime())/(1e3*3600));return U("dates.time.hourAbbr",{hourNumber:Math.max(1,a)})}case"xw":{const a=Math.floor((new Date().getTime()-o.getTime())/(1e3*3600*24*7));return U("dates.time.weekAbbr",{weekNumber:a})}case"yyyy-MM-dd":{const s=o.getFullYear(),a=(o.getMonth()+1).toString().padStart(2,"0"),r=o.getDate().toString().padStart(2,"0");return`${s}-${a}-${r}`}case"yyyy-MM-dd, h:mm aa":{const s=o.getFullYear(),a=(o.getMonth()+1).toString().padStart(2,"0"),r=o.getDate().toString().padStart(2,"0"),c=new Intl.DateTimeFormat(n,{hour:"numeric",minute:"2-digit",hour12:!0}).format(o);return`${s}-${a}-${r}, ${c}`}case"MMM d, yyyy":return new Intl.DateTimeFormat(n,{month:"short",day:"numeric",year:"numeric"}).format(o);default:return o.toLocaleString(n)}}function a6e(e,t="en-US"){const n=new Date(e),s=n.getMinutes()===0?gn(n,"h a",t):gn(n,"h:mm a",t);return S0(n)?U("dates.time.dayAtTimeFormat",{day:U("dates.time.today"),time:s}):$ae(n)?U("dates.time.dayAtTimeFormat",{day:U("dates.time.tomorrow"),time:s}):U("dates.time.dayAtTimeFormat",{day:gn(e,"MMM d, yyyy",t),time:s})}function B_(){return`Copilot_${gn(new Date,"yyyyMMdd_HHmmss")}`}function ih(e){e.target instanceof HTMLImageElement&&URL.revokeObjectURL(e.target.src)}async function qae(e,t=!1){try{const n=await vo(e,{analytics:{anonymousPath:"/attachments/*.png"}});return t&&n.status!==200?null:await n.blob()}catch{return null}}async function Kae(e,t=!1){try{const n=await qae(e,t);return n?URL.createObjectURL(n):null}catch{return null}}const V_={jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",webp:"image/webp"},Pp="image";function Yae(e){ const _hh$temp486=new URL(e,"https://example.com"),t=_hh$temp486.pathname; return t.split("/").pop()??"image.jpg"}function Zae(e){ const _hh$temp487=new URL(e,"https://example.com"),t=_hh$temp487.pathname,n=t.split("."),o=n.length>1?(n.pop()?.toLowerCase())??"":""; return Object.keys(V_).includes(o)?o:""}function Jae(e){const t=Zae(e);return  __get$(V_,t) ??"image/jpeg"}const Qae=async(e,t="image.jpg")=>{const o=await(await vo(e)).blob(),s=o.type||Jae(e);return{file:new File([o],t,{type:s}),type:s}};function r6e(e){const t=e.naturalWidth/e.naturalHeight;return t>1.1?"landscape":t<.9?"portrait":"square"}async function Xae( _hh$temp488 ){ var e=_hh$temp488.file,t=_hh$temp488.signal,_hh$temp488$pathBase=_hh$temp488.pathBase,n=_hh$temp488$pathBase===void 0?"/attachments":_hh$temp488$pathBase; try{const o=$("file-upload-card-v2");let s,a;if(o){const c=new FormData;e.type!==""?c.append("file",e):c.append("file",new File([e],e.name,{type:Oo(e)}),e.name),s=c}else{const c=await e.arrayBuffer(),d=new Uint8Array(c);s=new Blob([d]),a={"Content-Type":Oo(e)}}const r=await ut(n,Xz,{options:{method:"POST",headers:a,body:s,signal:t}}).then(c=>c.data);if("errorCode"in r)throw new Error(r.errorCode);return r.url}catch(o){throw console.error("Error uploading image",o),o}}async function ere( _hh$temp489 ){ var e=_hh$temp489.file,t=_hh$temp489.signal,_hh$temp489$pathBase=_hh$temp489.pathBase,n=_hh$temp489$pathBase===void 0?"/attachments":_hh$temp489$pathBase; try{const o=new FormData;e.type!==""?o.append("file",e):o.append("file",new File([e],e.name,{type:Oo(e)}),e.name);const s=await ut(n,eG,{options:{method:"POST",body:o,signal:t}}).then(a=>a.data);if("errorCode"in s)throw new Error(s.errorCode);return s.id}catch(o){throw console.error("Error uploading document",o),o}}async function H_( _hh$temp490 ){ var e=_hh$temp490.id,t=_hh$temp490.connectorId,n=_hh$temp490.signal,o=_hh$temp490.type; try{const s=await ut(`/connections/${t}/upload`,tG,{options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({externalIds:[e]}),signal:n}}).then(r=>r.data);if("errorCode"in s)throw new Error(s.errorCode);const a=s.results[0];if(!a||!a.isSuccessful)throw new Error("empty-attachment");return o==="image"?a.url??"":a.attachmentId}catch(s){throw console.error("Error uploading Cloud Drive file",s),s}}function z_(){const t=j(Fr).find(n=>n.type==="one-drive");if(!t)throw new Error("OneDrive connector not found");return t.id}async function tre(e,t,n="/attachments"){switch(e.kind){case"local-file":return ere({file:e.file,signal:t,pathBase:n});case"onedrive":return H_({id:e.item.id,connectorId:z_(),signal:t,type:"document"});default:{const o=e;throw new Error(`Unhandled upload kind: ${o}`)}}}async function nre(e,t,n="/attachments"){switch(e.kind){case"local-file":return Xae({file:e.file,signal:t,pathBase:n});case"onedrive":return H_({id:e.item.id,connectorId:z_(),signal:t,type:"image"});default:{const o=e;throw new Error(`Unhandled upload kind: ${o}`)}}}async function ore(e){ const _hh$temp491=e,t=_hh$temp491.uploadTasks,n=_hh$temp491.signal,o=_hh$temp491.onSuccess,s=_hh$temp491.onError,a=_hh$temp491.onFinish,r=t.map(async c=>{const d=c.upload,m=c.uploadEndpointOverride??"/attachments";try{if(c.type==="document"){const h={content:{type:"document",attachmentId:await tre(c.upload,n,m)},item:{type:"document",partId:c.partId,fileName:c.metadata.name,contentType:c.metadata.contentType},size:c.metadata.size,type:c.metadata.contentType},v={id:c.id,file:c.upload.file,scenario:c.scenario,processing:!1,attachment:h,type:"file"};o(v);}else{const p=await nre(c.upload,n,m);let h;c.uploadEndpointOverride&&(h=URL.createObjectURL(c.upload.file));const v={content:{type:"image",url:p,fileName:c.metadata.name},item:{type:"image",url:p,fileName:c.metadata.name,localUrl:h},size:c.metadata.size,type:c.metadata.contentType},y={id:c.id,file:d.file,scenario:c.scenario,processing:!1,attachment:v,type:"image"};o(y);}}catch(p){s&&s(p,c);}finally{a();}return null;}); return Promise.all(r)}function i6e(e,t){const n=t.split(".").pop()??"";return`/attachments/${e}.${n}`}async function c6e(e){ const _hh$temp492=await Qae(e,Yae(e)),t=_hh$temp492.file,n=_hh$temp492.type; return{id:`file-${Date.now()}-${crypto.randomUUID()}`,file:t,processing:!1,attachment:{content:{type:Pp,url:e},item:{type:Pp,url:e},size:t.size,type:n},type:Pp}}const G_=_e();let ch=0;const $u=new Set;function qi(e){G_.set(sl,e)}function W_(e){return e instanceof Error&&e.message==="not-signed-in"}function sre(){G_.set(Ws,{isOpen:!0,scenario:null,reason:"fileUpload"})}async function $_(e){ const _hh$temp493=e,t=_hh$temp493.uploads,n=_hh$temp493.scenario,o=_hh$temp493.onError,s=_hh$temp493.onSuccess,_hh$temp493$replaceExisting=_hh$temp493.replaceExisting,a=_hh$temp493$replaceExisting===void 0?!1:_hh$temp493$replaceExisting,r=_hh$temp493.shouldUploadImageAsDocument,c=_hh$temp493.uploadEndpointOverride; a&&qu();const d=[],m=[];for(const h of t){const v=y0(h),y=il(v.contentType),C=Dae();if(y||r){const S=String(ch);ch+=1,d.push({id:C,upload:h,partId:S,metadata:v,type:"document",uploadEndpointOverride:c}),m.push({id:C,file:h.file,scenario:n,processing:!0,type:"file"})}else d.push({id:C,upload:h,metadata:v,type:"image",uploadEndpointOverride:c}),m.push({id:C,file:h.file,scenario:n,processing:!0,type:"image"})}qi(h=>[...h,...m]);const p=new AbortController;$u.add(p),await ore({signal:p.signal,uploadTasks:d,onSuccess:h=>{qi(v=>v.map(y=>y.id===h.id?h:y)),s?.(h)},onError:(h,v)=>{if(W_(h))throw qu(),sre(),h;const y={id:v.id,file:v.upload.file,scenario:n,processing:!1,error:h};qi(C=>C.map(S=>S.id===v.id?y:S)),o&&o(h,v.upload)},onFinish:()=>{$u.delete(p)}}),_t({scenario:n??"fileUpload",page:"uploadAttachmentVanilla"})}function qu(){qi([]),K_(),ch=0}function q_(e){qi(t=>{const n=[...t];return n.splice(e,1),n})}function K_(){for(const e of $u)e.abort();$u.clear()}function are(){ const _hh$temp494=__arrayFrom$(Re(sl)),e=_hh$temp494[0],t=_hh$temp494[1],_hh$temp495=Y(),n=_hh$temp495.t; return u.useEffect(()=>()=>{K_()},[]),{uploadedAttachments:e,isUploadingAttachments:e.some(o=>o.processing===!0),getUploadMetadata:y0,setUploadedAttachments:t,removeAttachmentByIndex:q_,clearAttachments:qu,uploadAttachments: async _hh$temp496=>{var o=_hh$temp496.uploads,s=_hh$temp496.scenario,a=_hh$temp496.onError,r=_hh$temp496.onSuccess,c=_hh$temp496.replaceExisting,d=_hh$temp496.shouldUploadImageAsDocument,m=_hh$temp496.uploadEndpointOverride;return $_({uploads:o,scenario:s,onError:a,replaceExisting:c,shouldUploadImageAsDocument:d,uploadEndpointOverride:m,onSuccess:p=>{if(r)r(p);else if(p.attachment?.item){const _hh$temp497=p.attachment.item,h=_hh$temp497.type;Qn({msg:n(h==="image"?"fileUpload.uploadedImage":"fileUpload.uploadedFile")});}}});} }}function rre(e={}){return  new Promise(t=>{const n=document.createElement("input");n.type="file",n.accept=e.accept??"*",n.multiple=e.multiple??!1,n.onchange=o=>{const _hh$temp498=o.target,s=_hh$temp498.files;t(s),n.remove();},n.oncancel=()=>{t(null),n.remove();},n.click();}) }class ire{constructor(t,n,o,s){this.clearuploadedFile=t,this.onFileUpload=n,this.setSystemError=o,this.onRequiredSignIn=s}get uploadedAttachments(){return j(sl)}get ALL_ALLOWED_MIME_TYPES(){return j(Za)}get existingValidFiles(){return this.uploadedAttachments.filter( _hh$temp499=>{var t=_hh$temp499.error;return!t;} )}get existingFileKeys(){return  new Set(this.existingValidFiles.filter(_hh$temp500=>{var t=_hh$temp500.file;return!!t;}).map(_hh$temp501=>{var t=_hh$temp501.file;return`${t?.name}-${t?.size}-${t?.type}-${t?.lastModified}`;})) }get maxFilesPerMessage(){return j(Io).maxFilesPerMessage}get existingFilesLength(){return this.existingValidFiles.length}async processUploadedFiles(t){ const _hh$temp502=t,n=_hh$temp502.uploads,o=_hh$temp502.scenario,_hh$temp502$supportedMimeTypes=_hh$temp502.supportedMimeTypes,s=_hh$temp502$supportedMimeTypes===void 0?this.ALL_ALLOWED_MIME_TYPES:_hh$temp502$supportedMimeTypes,a=_hh$temp502.uploadEndpointOverride,r=n.filter(_hh$temp503=>{var c=_hh$temp503.file;return!this.existingFileKeys.has(`${c.name}-${c.size}-${c.type}-${c.lastModified}`);}); if(r.length===0){this.clearuploadedFile();return}if(this.existingFilesLength+r.length>this.maxFilesPerMessage){this.setSystemError({title:st.t("composer.errors.multi.tooManyFiles.title",{maxFiles:this.maxFilesPerMessage}),message:st.t("composer.errors.multi.tooManyFiles.message")});return}for(const c of r){const d=O_(c.file,{supportedMimeTypes:s,scenario:o});if(d){this.setSystemError(d),this.clearuploadedFile();return}}this.onFileUpload();try{await $_({uploads:r,uploadEndpointOverride:a,scenario:o,onError:(c,d)=>{if(c instanceof Error){this.setSystemError(F_(c.message)); const _hh$temp504=y0(d),m=_hh$temp504.name,p=_hh$temp504.size; Lae({name:m,size:p,message:c.message,kind:d.kind})}else this.setSystemError({title:st.t("composer.errors.default.title"),message:st.t("composer.errors.default.message")})}})}catch(c){W_(c)?this.onRequiredSignIn():this.setSystemError({title:st.t("composer.errors.default.title"),message:st.t("composer.errors.default.message")})}}async processUploadedLocalFiles(t){ const _hh$temp505=t,n=_hh$temp505.rawFiles,o=_hh$temp505.scenario,_hh$temp505$supportedMimeTypes=_hh$temp505.supportedMimeTypes,s=_hh$temp505$supportedMimeTypes===void 0?this.ALL_ALLOWED_MIME_TYPES:_hh$temp505$supportedMimeTypes,a=_hh$temp505.uploadEndpointOverride; if(n.length===0)return;const r=[];for(const c of n)r.push({file:Pae(c),kind:"local-file"});await this.processUploadedFiles({uploadEndpointOverride:a,uploads:r,scenario:o,supportedMimeTypes:s})}resetFileUpload(){qu(),this.clearuploadedFile()}removeAttachment(t){this.uploadedAttachments.length===1?this.resetFileUpload():q_(t)}}function cre(e,t,n,o){const s=u.useRef(null);s.current??=new ire(n,e,t,o); const _hh$temp506=are(),a=_hh$temp506.isUploadingAttachments,r=_hh$temp506.uploadedAttachments,c=s.current.processUploadedFiles.bind(s.current),d=s.current.processUploadedLocalFiles.bind(s.current),m=s.current.resetFileUpload.bind(s.current),p=s.current.removeAttachment.bind(s.current); return{processUploadedFiles:c,processUploadedLocalFiles:d,isUploadingAttachments:a,uploadedAttachments:r,resetFileUpload:m,removeAttachment:p}}async function lre(){const e=_e(),t=e.get(Za),n=vm(t),o=await rre({accept:n.join(","),multiple:!0});o&&o.length>0&&e.set(Fx,Array.from(o))}function ure(){return $("autosuggest")||$("edge-autosuggest")}function Y_(){return!!Z.instance().config().landingPage?.enableAutoSuggest}function dre(e){return ure()&&Y_()&&e}function Z_(e){const t=W("autosuggest"),n=W("edge-autosuggest");return(t||n)&&Y_()&&e}const mre={study:"conversation-starter-study-and-learn"},pre=P(0),J_=P(void 0),ym=P(!1),b0=P(e=>{const t=e(sq),n=e(dT),o=e(J_),s=e(ym);if(t)return t;if(!(s||n))return o}),fre=P(e=>{const t=e(Br);return  __get$(mre,t) }),Q_=P(e=>{const n=e(b0)?.widgets,o=e(fre);if(o){const s=n?.find(a=>a.id===o);if(s)return{widget:s,isModeSpecific:!0}}return{widget:n?.[0],isModeSpecific:!1}}),X_=P(e=>e(Q_).widget),hre=P(e=>e(Q_).isModeSpecific),I0=P(e=>{const t=e(b0);return e(ym)||!t?null:t.greetingOptions[0]?.text??null}),e3=P(!1),gre=P(e=>e(b0)?.widgets?.find(o=>o.type==="banner")),l6e=[6,3,1],u6e=[20,10],d6e="_all",m6e=6,p6e=20,f6e=1e4,h6e={ChartHeight:250,Colors:{stroke:"white",gray:"#999",highPrice:"#D8001D",mediumHighPrice:"#F85900",mediumPrice:"#F8B200",mediumLowPrice:"#B4B400",lowPrice:"#56A503",label:"rgb(var(--color-background-900))"},GradientStopIndex:{Low:0,MediumLow:1,Medium:2,MediumHigh:3,High:4},GradientStepMultipliers:[.8,.9,1,1.1,1.2],LabelPositionThreshold:.85},g6e={initial:{height:0,opacity:0,overflow:"hidden"},animate:{height:"auto",opacity:1,transition:{height:{duration:.4},opacity:{duration:.25,delay:.15}}},exit:{height:0,opacity:0,transition:{height:{duration:.4},opacity:{duration:.25}}}},v6e="https://www.microsoft.com/microsoft-copilot/learn/#faqs8",y6e="https://www.bing.com/rebates/history",C6e=30;function vre(){return{hasMinimumMetadata:!1,hasRichMetadata:!1,canShowGenInsights:!1,breakdown:{hasProductTitle:!1,hasProductImage:!1,hasBuyingOptions:!1,hasReviews:!1,hasPriceHistory:!1,hasConversationStarters:!1,conversationStartersLength:0}}}const S6e={"lowest-price":{stringKey:"product.tags.lowestPrice",rank:1},"free-shipping":{stringKey:"product.tags.freeShipping",rank:2},"marketplace-free-shipping":{stringKey:"product.freeDelivery",rank:2}},yre=P(void 0),b6e=P(!1),Cre=P(void 0),Sre=P(vre()),bre=P(void 0),t3=P(!1);P(void 0);const Ire=Dc(new Map),I6e=P(e=>{const t=e(Ire);return Array.from(t.values()).some(n=>n.isTracked)});P(void 0);const E6e=P(null),w6e=Dc(void 0),T6e=P(null);P(zF.parse({}));const x6e=P(null),Ere=P(void 0);function wre(e){ const _hh$temp507=e,t=_hh$temp507.offer,n=kt(),o=M(Ere)?.isRebatesActive===!0; return u.useMemo(()=>!t||!n?!1:t.type==="affiliate"?o:!n3(t),[t,n,o])}function n3(e){if(!e||!e.expiresAt)return!0;const t=new Date(e.expiresAt).getTime();return Number.isNaN(t)?!0:t<Date.now()}function Tre(e){ const _hh$temp508=e,t=_hh$temp508.cashbackOffers,n=_hh$temp508.shoppingInsights,o=t??[],s=o.filter(d=>d.type==="productAd"||d.type==="storewideAd"),a=s.length>0?s.reduce((d,m)=>{const p=new Date(d.expiresAt);return new Date(m.expiresAt)>p?m:d;}):null,r=o.find(d=>d.type==="affiliate")??null,c=a?!n3(a):!1; return n?.scenario==="cashback"?{selectedOffer:n.cashbackData.isAdOffer?a:r}:c?{selectedOffer:a}:r?{selectedOffer:r}:{selectedOffer:null}}function xre(e){ const _hh$temp509=e,t=_hh$temp509.cashbackOffers,n=_hh$temp509.shoppingInsights,o=_hh$temp509.hasProductMetaData,_hh$temp510=Tre({cashbackOffers:t,shoppingInsights:n}),s=_hh$temp510.selectedOffer,a=W("edge-shopping-enable-product-ads-cashback"),r=(t?.find(m=>m.type==="affiliate"))??null; return{overriddenCashbackOffer:!o&&s?.type==="productAd"&&!a?r:s}}const Are=[{offerType:"affiliate",isActivated:!0,isAuthenticated:!0,scenario:"affiliateActivated"},{offerType:"affiliate",isActivated:!1,isAuthenticated:!1,scenario:"affiliateUnauthenticated"},{offerType:"productAd",isActivated:!0,isAuthenticated:!0,scenario:"productAdsActivatedMultipleOffers"},{offerType:"storewideAd",isActivated:!0,isAuthenticated:!0,scenario:"storewideActivated"},{offerType:"storewideAd",isActivated:!1,isAuthenticated:!1,scenario:"storewideUnauthenticated"}];function _re(e){const t=Are.find(n=>n.offerType===e.offerType&&n.isActivated===e.isActivated&&n.isAuthenticated===e.isAuthenticated);return t?t.scenario:null}function kre(e){ const _hh$temp511=e,t=_hh$temp511.cashbackOffer,n=kt(),o=wre({offer:t}); return t?!!_re({offerType:t.type,isActivated:o,isAuthenticated:n}):!1}function mi(){const e=M(Hs),t=M(Lt);return e.length===0&&!!t?.isNew}function Pre(e,t){ const _hh$temp512=e,n=_hh$temp512.hasMinimumMetadata; if(n)return"shoppingCard";if(t)return"cashbackCard"}function Ja(){ const e=M(t3),t=M(Sre),n=M(Cre),o=M(bre)?.offers,_hh$temp513=xre({cashbackOffers:o,shoppingInsights:n?.insights??void 0,hasProductMetaData:!!n}),s=_hh$temp513.overriddenCashbackOffer,a=mi(),r=!rt("kill-contextual-shopping"),c=(a&&r)&&(!!n||!!s),d=c?Pre(t,!!s):void 0,m=c&&!!n?.insights,p=kre({cashbackOffer:s})&&d==="cashbackCard"; return{isContextualShoppingCardExpanded:e,showShoppingCardInNewChat:c,shoppingScenario:d,cashbackOffer:s,shoppingProductMetadata:n,isCopilotOpenedViaEdgeCTAs:m,hasInsightsSummary:c&&(m||p)}}function Mre(e){if(!e.length)return;const t=Lr("greetingIndex"),n=e.length,o=t?(parseInt(t,10)+1)%n:0;return cc("greetingIndex",o.toString()), __get$(e,o) }const E0=P(!1),Rre=P(!1),o3=_e(),Nre=["chat.launchMessage.authenticatedV3Type1","chat.launchMessage.authenticatedV3Type2","chat.launchMessage.authenticatedV3Type3"],Lre=["chat.launchMessage.unauthenticatedV3Type1","chat.launchMessage.unauthenticatedV3Type2","chat.launchMessage.unauthenticatedV3Type3"],Mp={study:["chat.launchMessage.studyModeLaunchMessage"],search:["chat.launchMessage.searchModeLaunchMessage"]};function Dre(){o3.set(E0,!0)}function Ore(){o3.set(E0,!1)}function s3(){ const e=M(E0),t=M(PT),n=M(I0),o=Kt(),s=W("feature-discovery"),r=M(Hf)==="banner",c=(s&&r)&&o in Mp,_hh$temp514=Ja(),d=_hh$temp514.showShoppingCardInNewChat,m=_hh$temp514.shoppingScenario,h=u.useCallback(()=>d?t?m==="cashbackCard"?["chat.launchMessage.authenticatedShoppingCashback"]:["chat.launchMessage.authenticatedShoppingType1"]:m==="cashbackCard"?["chat.launchMessage.unauthenticatedShoppingCashback"]:["chat.launchMessage.unauthenticatedShoppingType1"]:c&&__get$(Mp,o)?__get$(Mp,o):t?Nre:Lre,[d,c,o,t,m])(),v=u.useMemo(()=>Mre(h),[h]),y=Number(Lr("greetingIndex"))||0; return{launchGreetingShown:e,greetingKey:v,widgetGreeting:n,greetingIndex:y,shouldAnimateGreeting:c}}function a3(e,t){switch(e){case"image":return t("composer.create.image.prompt");case"podcast":return t("composer.create.podcast.prompt");case"researchReport":return t("composer.create.researchReport.prompt");case"quiz":return t("composer.create.quiz.prompt");case"practiceTest":return t("composer.create.practiceTest.prompt");case"actions":return t("composer.create.actions.prompt");case"video":return t("composer.create.video.prompt");case"page":return t("composer.create.page.prompt");case null:default:return""}}function A6e(e){_t({page:"chat",scenario:e})}function Ure(e){_t({page:"chat",element:"mentionPopup",customData:JSON.stringify({conversationId:e})})}function Fre(e,t){fe({source:"mentionPopup",scenario:"selectMention",conversationId:e,customData:JSON.stringify({mentionedCopilot:t,mentionedUser:!t})})}function jre(e){const t=e.textWithReferences.filter(o=>o.type==="reference"&&o.reference.type==="copilot").length,n=e.textWithReferences.filter(o=>o.type==="reference"&&o.reference.type==="user").length;return t===0&&n===0?{}:{mentionedCopilot:t,mentionedUser:n}}const r3=_e(),w0=P(null),T0=P(null);function i3(e){r3.set(w0,e)}function x0(e){r3.set(T0,e)}function Bre(e,t){const n={eventInfo_inputLength:typeof e=="string"?e.length:e.plainText.length};let o=n;const s=j(w0);if(s){ const _hh$temp515=s,r=_hh$temp515.source,c=_hh$temp515.type,d=_hh$temp515.prompt; r==="widgets"?o={...n,widget:c,widgetPromptLength:d.length}:r==="guideLink"?o={...n,guideLinkLength:d.length,guideLinkText:d}:o={...n,pill:c,pillPromptLength:d.length}}const a=j(T0);return a&&(o={...o,autoCompleteLength:a.prompt.length}),t?.length!==0&&t?.[0]?.scenario&&(o={...o,uploadFileScenario:t[0].scenario}),typeof e!="string"&&(o={...o,...jre(e)}),JSON.stringify(o)}function Vre(e){const t=j(w0),n=j(T0),o=t?.prompt.trim(),s=e.trim(),a=n?.prompt.trim(),r=n?.prefix.trim(),c=s.toLowerCase()===a?.toLowerCase();return!c&&!t?null:c?!o||!s.toLowerCase().includes(o.toLowerCase())?"autoComplete":r&&r.length>o.length?t?.source==="widgets"?"widgetWithTextAndAutoComplete":"pillWithTextAndAutoComplete":r?.length===o.length?t?.source==="widgets"?"widgetWithAutoComplete":"pillWithAutoComplete":"autoComplete":!o||!s.toLowerCase().includes(o.toLowerCase())?null:s.length>o.length?t?.source==="widgets"?"widgetWithText":t?.source==="guideLink"?"guideLinkWithText":"pillWithText":t?.source==="widgets"?"widget":t?.source==="guideLink"?"guideLink":"pill"}function Hre(){i3(null),x0(null)}const c3=_e();function l3(e){ const _hh$temp516=e,t=_hh$temp516.text,n=_hh$temp516.attachments,o=_hh$temp516.inputMethod,s=_hh$temp516.isLandingRoute,a=sJ(),r=Yf(),c=lg({breakpoint:"sm"}),d=yo(),m=j(en),p=!et("kill-chat-message-preview"),h=d==="computerUse",v=$("long-term-memory"),y=$("conversation-drift-detection"),C=((!h&&p)&&(d==="smart"||v||y))&&Jw(),b=(dre(s)&&!m)&&!h; if(t||Oi("starter-prompts"),Gi(a.length<=0||t.length===0),Lx(void 0),c3.set(G1,void 0),dJ(o??"user"),r&&M_("typing"),c&&Dre(),b&&sh(t),C)try{Mo.sendMessagePreview({text:t,inputMethod:"text",filesWithAttachment:n??[]})}catch{}}function fc(e,t){ const _hh$temp517=e,n=_hh$temp517.prompt,o=_hh$temp517.prefillSource; document.querySelector(`#${Kr}`)&&(Gr(),mc(n),l3({text:n,inputMethod:o,isLandingRoute:t}),lh("end"))}function lh(e=null){const t=document.querySelector(`#${Kr}`);if(!t)return;requestAnimationFrame(()=>{if(t.focus(),e===null)return;const o=t.value.length;if(e==="selectAll"){t.setSelectionRange(0,o);return}let s;e==="start"?s=0:s=o,t.setSelectionRange(s,s)})}async function Ku(e,t){ const _hh$temp518=e,n=_hh$temp518.actionType,o=_hh$temp518.id,s=_hh$temp518.prompt,a=_hh$temp518.source,r=_hh$temp518.chatMode,c=_hh$temp518.composerCreateMode; let d="starterPill";switch(a==="widgets"?d="widget":a==="guideLink"?d="guideLink":a==="banner"?d="featureDiscoveryBanner":a==="hub"&&(d="hub"),n){case"prefillComposer":{s&&(o&&i3({prompt:s,type:o,source:a}),fc({prompt:s,prefillSource:d},t));break}case"sendMessage":{if(s)try{const m=performance.now();Fu(!0),await io(),await Mo.submitMessage({text:s,inputMethod:"text",messageStartTime:m,connectionType:lm()?"temporary":"regular"})}finally{Fu(!1)}break}case"changeChatMode":{r&&yn(r,a);break}case"changeComposerCreateMode":{if(c){const m=a3(c,U);fc({prompt:m,prefillSource:d},t),Vr(c)}break}case"tutoringCall":{await io({talkType:"talk"});break}case"createPage":{let m,p;a==="banner"?(m="createNewPage",p="featureDiscoveryCreateNewPage"):(m="chatPage",p="chatWidgetCreatePage"),await eae({sourcePage:m,impressionScenario:p,featureLatencyInfo:{scenario:"createPage",startTimestamp:Date.now()},autoNavigate:!0});break}case"createProject":{await P_();break}case"openHomeworkHelper":c3.set(hT,!0);break;case"uploadFile":await lre();break}}const zre="copilot-action://",u3={"composer-prefill":f({text:l().min(1)}),"composer-send":f({text:l().min(1)})};function Gre(e){return e in u3}function d3(e){return e.startsWith(zre)}function Wre(e,t){const o= __get$(u3,e) .safeParse(Object.fromEntries(t));if(!o.success)throw new Error(`Invalid params for action '${e}': ${o.error.message}`);return o.data}function $re(e){try{if(!d3(e))throw new Error(`Not a conversation action link - ${e}`);const t=new URL(e),n=t.hostname;if(!Gre(n))throw new Error(`Invalid conversation action type - ${n}`);if(!uh(n))throw new Error(`Conversation action type is not enabled - ${n}`);const o=Wre(n,t.searchParams);return{action:n,params:o}}catch{return null}}function uh(e){if(et("kill-conversation-actions"))return!1;switch(e){case"composer-prefill":return $("conversation-action-composer-prefill");case"composer-send":return $("conversation-action-composer-send");default:return!1}}async function _6e(e,t,n){const o=e.action;switch(fe({source:"ConversationAction",scenario:o,messageId:n.messageId,conversationId:n.conversationId,customData:JSON.stringify({linkText:n.linkText,composerPrompt:e.params.text})}),o){case"composer-prefill":await Ku({actionType:"prefillComposer",source:"guideLink",prompt:e.params.text,id:"conversation-action-composer-prefill"},t);break;case"composer-send":{j(Yc)&&await Mo.stopMessage(),await Ku({actionType:"sendMessage",source:"guideLink",prompt:e.params.text,id:"conversation-action-composer-send"},t);break}}}const k6e=e=>{if(!(d3(e)&&!$re(e)))return e};function P6e(e){const t=/\[([^\]]+)\]\(copilot-action:\/\/[^)]*\)/g;return  __call$(e,"replace",[t,"$1"]) }const qre="guide://action",Kre="prefill";function gu(){return Kc(["guided-conversations-black","guided-conversations-cocoa","guided-conversations-caramel","edu-guided-conversations-black"],"any")}function Yre(e){ const _hh$temp519=e,t=_hh$temp519.parameters,_hh$temp520=t,n=_hh$temp520.Prefill,o=_hh$temp520.Phrase; return{prefill:n,targetText:o}}function M6e(e,t){const n=gn(e,"h:mm a",t);return S0(e)?n:`${gn(e,"MMM d",t)}, ${n}`}function Zre(e){return e==="/tasks"||e==="/tasks/"}function Jre(e){return/^\/tasks\/[^/]+\/?$/.test(e)}function Qre(e){return Jre(e)||Zre(e)}const m3={Badge:"1.2",Basic:"1.2",Box:"1.2",Button:"1.2",Card:"1.2",Caption:"1.2",Col:"1.2",DatePicker:"1.2",Divider:"1.2",Icon:"1.2",Image:"1.2",Label:"1.2",ListView:"1.2",ListViewItem:"1.2",Markdown:"1.2",Pressable:"1.3",RadioGroup:"1.2",Row:"1.2",Text:"1.2",Title:"1.2",Spacer:"1.2",Checkbox:"1.2"};function Xre(){return $("media-spotlight-card")||$("media-spotlight-card-v2")}async function eie(){ const e=!et("kill-weather-cards"),t=!et("kill-image-cards"),n=!et("kill-local-cards"),o=!et("kill-sports-cards"),s=!et("kill-video-cards"),a=!et("kill-searchhealthcareinfo"),r=!et("kill-searchhealthcareprovider"),c=$("healthcare-wearables-card"),d=$("shopping-card"),m=$("shopping-curated"),p=Xre(),h=$("job-cards"),v=!et("kill-safetycards"),y=!et("kill-quiz-cards"),C=$("generateads"),S=$("generateadsint"),b=$("adsparity"),I=!et("kill-finance-cards"),x=$("adstagsonline"),E=$("product-ads-dynamic-filter"),k=$("property-promotion-ads-dynamic-filter"),w=$("tour-activity-ads-dynamic-filter"),_=$("adsshowroombrandagent"),N=$("emoji-reactions"),L=!et("kill-recipe-cards"),B=$("file-cards"),F=$("side-by-side-comparison"),K=$("inline-image"),G=$("inline-video"),_hh$temp521=Z.instance().config(),te=_hh$temp521.adsEnabled,ne=_hh$temp521.adsShowroomEnabled,ae=_hh$temp521.disableAnswerCards,Te=_hh$temp521.enforceAdsOptOutOfPersonalization,he=_hh$temp521.answerCardOverrides,Ee=!!_e().get(PK),Ae=((C||S||b)&&te)&&!Ee,Ue=$("ppt-generation"),Fe=p&&he?.shouldEnableMediaSpotlightCard,ke=$("news-card"),Ve=$("media-carousel-card"),De=!et("kill-personal-data-card"),le=$("m365-cards"),oe=!et("kill-nav-links"),we=$("practice-tests"),se=!et("kill-flash-cards"),z=$("person-cards"),Q=gu(),me=!et("kill-connector-consent-v2"),pe=uh("composer-prefill"),We=uh("composer-send"),be=$("calendar-create"),ge=$("calendar-modify"),Ne=$("calendar-delete"),Ke=!et("kill-compose-email"),Me=$("session-duration-nudge"),Ye=$("genuimvp"),re=$("homework-helper"),He=$("windowslocalfilesearch"),nt=$("voice-summary-card"),ve=[]; ae||(e&&ve.push("weather"),n&&ve.push("local"),t&&ve.push("image"),K&&ve.push("inlineImage"),o&&ve.push("sports"),s&&ve.push("video"),G&&ve.push("inlineVideo"),r&&ve.push("healthcareEntity"),a&&ve.push("healthcareInfo"),c&&ve.push("chart"),d&&ve.push("shopping"),h&&ve.push("job"),Ae&&ve.push("ads"),v&&ve.push("safetyHelpline"),y&&ve.push("quiz"),I&&ve.push("finance"),m&&ve.push("shoppingCurated"),L&&ve.push("recipe"),B&&ve.push("file"),Fe&&ve.push("mediaSpotlight"),ke&&ve.push("newsCarousel"),Ve&&ve.push("mediaCarousel"),De&&ve.push("personalArtifacts"),le&&ve.push("m365"),se&&ve.push("flashcard"),oe&&ve.push("navigation"),z&&ve.push("person"),Ue&&ve.push("powerPointCreator"),me&&ve.push("consentV2"),Ke&&ve.push("composeEmail"),be&&ve.push("createCalendarEvent"),we&&ve.push("practiceTest"),ge&&ve.push("modifyCalendarEvent"),Ne&&ve.push("deleteCalendarEvent"),re&&ve.push("tapToReveal"),Qre( __get$(window,"location") .pathname)&&ve.push("elicitation"),He&&ve.push("filesearch"),nt&&ve.push("audioCallSummary"));const je={supportedTypes:["text","product","multimedia","tourActivity","propertyPromotion"]};Te&&(je.optOutOfPersonalization=!0),_&&te&&ne&&je.supportedTypes.push("showroom"),(E||x)&&(je.product={tagsSupported:!0}),k&&(je.propertyPromotion={tagsSupported:!0}),w&&(je.tourActivity={tagsSupported:!0});const it=["partial-generated-images"];N&&it.push("emoji-reactions"),Q&&it.push("guided-conversations"),pe&&it.push("composer-prefill-conversation-action"),We&&it.push("composer-send-conversation-action");const In=!lg({breakpoint:"lg"});F&&In&&it.push("side-by-side-comparison"),Me&&it.push("session-duration-nudge");const jn=$("suggesthangup"),Bn=[];jn&&Bn.push("suggest_hang_up");const un={supportedFeatures:it,supportedCards:ve.length>0?ve:void 0,supportedUIComponents:Ye?m3:void 0,ads:Ae?je:null,supportedActions:Bn};return await HY.run(un)}async function tie(){return(await nZ.run({})).grantedConsents??[]}async function nie(e){try{ const _hh$temp522=n_.safeParse(e),t=_hh$temp522.success,n=_hh$temp522.data; if(!t)return!1;const o=j(Hr),s=o?.map;if(!s)return!1;switch(n.actionName){case"map_set_view":return await oie(s,n.parameters);case"map_add":return await sie(s,n.parameters,o);case"map_remove":return await aie(s,n.parameters,o);default:return!1}}catch{return!1}}async function oie(e,t){ const _hh$temp523=t,n=_hh$temp523.center,o=_hh$temp523.zoom,s=_hh$temp523.bearing,a=_hh$temp523.pitch,r=_hh$temp523.bounds,c={center:n?{latitude:n.lat,longitude:n.lon}:void 0,zoom:o,bearing:s,pitch:a,bounds:r}; return await e.setView(c),!0}async function sie(e,t,n){ const _hh$temp524=t,o=_hh$temp524.items,s=[...n.layers]; let a;for(const r of o)if(r.type==="geometry_layer"){const c=r.geometries.filter(d=>d.type==="point");if(c.length>0){const d=c.map(h=>({id:h.id,latitude:h.coordinate.lat,longitude:h.coordinate.lon,title:h.label??"",details:h.details??void 0})),m=s.findIndex(h=>h.id===r.id),p= __get$(s,m) ;if(m>=0&&p){const h=rie(p.pushpins??[],d); __set$(s,m,{...p,pushpins:h}) ,await e.addGeometryLayerItem(r.id,h,!0,p.name)}else await e.addGeometryLayerItem(r.id,d,!0,r.label),s.push({id:r.id,name:r.label,type:"geometry_layer",pushpins:d});a=r.id}}else r.type==="route"&&(await e.addRouteItem(r.id,{waypoints:r.waypoints.map(c=>({label:c.label,coordinate:{latitude:c.coordinate.lat,longitude:c.coordinate.lon}})),mode:r.mode,label:r.label},!0),s.push({id:r.id,name:r.label,type:"route"}),a=r.id);return a!==void 0&&ye(Hr,{...n,layers:s,activeLayerId:a}),!0}async function aie(e,t,n){return await iie(e,t.ids,n),!0}function rie(e,t){const n=new Set(e.map(s=>s.id)),o=t.filter(s=>!n.has(s.id));return[...e,...o]}async function iie(e,t,n){await e.removeItems(t);const o=new Set(t),s=n.layers.filter(r=>!o.has(r.id)).map(r=>({...r,pushpins:r.pushpins?.filter(c=>!o.has(c.id))})).filter(r=>r.type==="route"||(r.pushpins?.length??0)>0);if(s.length!==n.layers.length||s.some((r,c)=>r.pushpins?.length!== __get$(n.layers,c) ?.pushpins?.length)){let r=n.activeLayerId;n.activeLayerId!==void 0&&!s.some(d=>d.id===n.activeLayerId)&&(r= __get$(s,s.length-1) ?.id,r!==void 0&&e.setActiveItem(r,!0));const c={...n,layers:s,activeLayerId:r};return ye(Hr,c),c}return n}const p3="space-y-3 break-words",R6e="bg-accent-200 dark:bg-accent-250",N6e=`group/ai-message-item ${p3}`,A0="&#95;{{{CITATION{{{&#95;",dh="{";function f3(e,t){return`[${A0}${e}${dh}](${t})`}const cie=new RegExp(`\\[${A0}.*?\\)`,"g");function L6e(e){return  __call$(e,"replace",[cie,""]) }const lie=new RegExp(`\\[${A0}([^${dh}]+)${dh}\\]`,"g");function D6e(e,t,n){return  __call$(e,"replace",[lie,(o,s)=>{if(!n)return`  [${s}]`;const a=t.find(r=>r.index===s);return`  [${a?.publisher??(a?.url?uX(a.url):s)}]`;}]) }function uie(e){return e.type==="word"}function die(e){return uie(e)&&e.word.trim()==="."}function O6e(e,t){for(let n=t-1;n>=0;n-=1){if( __get$(e,n) ?.type==="citation"){const o=n+1;return o<e.length&&die( __get$(e,o) )?o+1:o}if( __get$(e,n) ?.type==="word"&& __get$(e,n) .word.includes(`
`))return n+1}return 0}function U6e(e,t,n){return t!==null&&n!==null&&e>=t&&e<n}const mie=m3;function LS(e,t){if(!t||!e)return!0;const n= __get$(t,e) ;if(!n)return!0;const o= __get$(mie,e) ;return o!==void 0&&fie(o,n)}function pie(e){return typeof e.author=="object"&&e.author.type==="ai"}function fie(e,t){const n=e.split(".").map(Number),o=t.split(".").map(Number),s=n[0]??0,a=o[0]??0;if(s!==a)return!1;const r=n[1]??0,c=o[1]??0;return r>=c}function hie(e){return e.map(t=>{if(!pie(t))return t; const _hh$temp525=t,n=_hh$temp525.content; if(!n.some(h=>typeof h=="object"&&h.type==="uiComponent"))return t;const s=[],a=new Map,r=new Map,c=new Set,d=h=>a.has(h)?h:r.get(h)??null,m=h=>{const v=zu.createRootTree(h.partId,h.component);if(!v.success)return; const _hh$temp526=v.value,y=_hh$temp526.rootNode; if(!y||!LS(y.type,h.requiredComponents)){c.add(h.partId);return}v.value.completed=!0,r.set(h.partId,h.partId),a.set(h.partId,{generativeUI:v.value,requiredComponents:h.requiredComponents}),s.push(v.value)},p=h=>{if(!h.parentPartId)return;const v=d(h.parentPartId);if(!v||c.has(v))return;const y=a.get(v);if(!y)return;const C=nh(h.component,Kg);if(!C||!LS(C.type,y.requiredComponents))return;const S=zu.addChildNode(y.generativeUI,h.parentPartId,h.component,C);S.success&&( __set$(y.generativeUI.partIdToPath,h.partId,S.value.path) ,r.set(h.partId,v))};for(const h of n){if(h.type!=="uiComponent"){s.push(h);continue}if(!h.parentPartId){m(h);continue}p(h)}return{...t,content:s}})}function h3(e){ const _hh$temp527=e,t=_hh$temp527.author; return t.type==="ai"?{...e,author:"ai",authorMetadata:t,streamingState:"idle"}:t.type==="human"?{...e,author:"human",authorMetadata:t}:{...e,author:"groupParticipant",authorMetadata:t}}function gie(e){return(vie(e)?hie(e):e).map(h3)}function vie(e){return $("genuimvp")?e.some(t=>t.author.type==="ai"&&Array.isArray(t.content)&&t.content.some(n=>"type"in n&&n.type==="uiComponent")):!1}function yie(e){ const _hh$temp528=e,t=_hh$temp528.conversationId,n=_hh$temp528.id; R.trackEvent({name:"system",data:{eventName:"receivedSessionDurationNudgeEvent",eventInfo_conversationId:t,eventInfo_messageId:n}})}function Cie(e){ const _hh$temp529=e,t=_hh$temp529.conversationId,n=_hh$temp529.id; R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionElement:"sessionDurationNudgeToast",eventInfo_conversationId:t,eventInfo_messageId:n}})}function Sie(e){ const _hh$temp530=e,t=_hh$temp530.conversationId,n=_hh$temp530.id; R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"sessionDurationNudgeToast",eventInfo_clickScenario:"sessionDurationNudgeDismissal",eventInfo_conversationId:t,eventInfo_messageId:n}})}function bie(e,t,n){return`${e}_${t}_${n}`}function Iie(e,t){_e().set(gm,o=>{const s=o.get(e)??[],a=[];for(const r of t.editTargets){const c={id:bie(t.id,r.startIndex,r.endIndex),pageSuggestionId:t.id,startIndex:r.startIndex,endIndex:r.endIndex,text:t.text};a.push(c)}o.set(e,[...s,...a])})}function F6e(e,t){_e().set(gm,o=>{const s=o.get(e);s&&o.set(e,s.filter(a=>a.id!==t))})}function j6e(e){_e().set(gm,n=>{n.delete(e)})}function Eie(e,t,n){_e().set(gm,s=>{const a=s.get(e);if(a){const r=a.filter(c=>c.pageSuggestionId===t);for(const c of r)c.text??="",c.text+=n}})}function wie(e){ye(fT,e)}function Tie(e){ const _hh$temp531=e,t=_hh$temp531.text,n=_hh$temp531.conversationId,o=_hh$temp531.id; Cie({conversationId:n,id:o}),ye(Ct,{title:U("durationNudge.title"),subtitle:t,dismissable:!0,onDismiss:()=>{Sie({conversationId:n,id:o})}})}function xie(e){ const _hh$temp532=e,t=_hh$temp532.card,n=_hh$temp532.messageId,o=_hh$temp532.conversationId,s={eventName:"copilotImpression",eventInfo_impressionPage:"chat",eventInfo_impressionScenario:"answerCardReceived",eventInfo_answerCardType:t.type,eventInfo_messageId:n,eventInfo_conversationId:o}; switch(t.type){case"image":s.eventInfo_answerCardContentLength=t.images.length;break;case"localEntity":s.eventInfo_answerCardContentLength=t.entities.length;break;case"financeChart":s.eventInfo_answerCardScenario=t.instrument.securityType;break}R.trackEvent({name:"system",data:s})}function Aie(e){ const _hh$temp533=e,t=_hh$temp533.card,n=_hh$temp533.messageId,o=_hh$temp533.conversationId,s=performance.now(),a=j(eT); if(!a)return;const r={eventName:"copilotAnswerCardReceived",eventInfo_messageId:n,eventInfo_conversationId:o,eventInfo_cardType:t.type,eventInfo_duration:s-a};R.trackEvent({name:"system",data:r})}function _ie(e){ const _hh$temp534=e,t=_hh$temp534.message,n=_hh$temp534.conversationId; for(const o of t.content)switch(o.type){case"card":xie({card:o.card,messageId:t.id,conversationId:n}),Aie({card:o.card,messageId:t.id,conversationId:n});break}}function DS(e){sm(e,t=>{($("groups-unread-indicator")&&t.group||$("supersonic-task")&&t.type==="task")&&(t.hasUnreadMessages=!0)})}function kie(e){return t=>{const o=(e? __get$(Math,e) :Math.trunc)(t);return o===0?0:o}}const B6e=6048e5,Pie=864e5,V6e=6e4,Mie=36e5,H6e=1e3,z6e=43200,G6e=1440,W6e=60;function Rie(e,t){return+Ro(e)-+Ro(t)}function Nie(e,t,n){const o=Rie(e,t)/Mie;return kie(n?.roundingMethod)(o)}function _0(e){if(!e)return null;let t=null;const n=new Date(e).toISOString(),o=new Date().toISOString(),s=Nie(n,o,{roundingMethod:"ceil"});return s>24?t="permanent":s>1&&s<=24?t="24-hr":s>0&&s<=1&&(t="1-hr"),t}function k0(e,t,n){if(!e){ft(Sf);return}const o=_e();R.trackEvent({name:"system",data:{eventName:"copilotUserBan",eventInfo_banDuration:e,eventInfo_banSource:t,eventInfo_banExpiryTimestamp:n}}),o.set(jT,e),o.set(Or,"user-banned")}const hc=P(new Set),Yu=P(new Map);function Lie(e,t){const n=j(Se);fe({source:"collaboratorSuggestion",scenario:"collaboratorComplete",conversationId:n??void 0,customData:JSON.stringify({pageId:e,...t&&{suggestionId:t}})})}function Die(e){const t=j(hc),n=new Set(t);n.add(e),ye(hc,n)}function Oie(e){const t=j(hc),n=new Set(t);n.delete(e),ye(hc,n)}function Rp(e){return j(hc).has(e)}function Uie(e,t){const n=t.endPosition-t.startPosition;return t.startPosition>=0&&t.endPosition<=e.length&&n<=e.length&&n>=0}function Fie(e,t,n,o){const s=e.substring(0,t),a=e.substring(n);return s+o+a}function jie(e){const t=e.beforeEditText??"";let n=t;for(let o=e.textRanges.length-1;o>=0;o-=1){const s= __get$(e.textRanges,o) ;s&&Uie(n,s)&&(n=Fie(n,s.startPosition,s.endPosition,e.replacementText))}return[t,n]}function Bie(e){ const _hh$temp535=e,t=_hh$temp535.pageId,n=_hh$temp535.suggestionId,o=j(Yu),s=new Map(o),a={id:`${t}_${n}`,suggestionId:n,state:"generating",replacementText:"",beforeEditText:null,textRanges:[]}; s.set(t,a),ye(Yu,s)}function OS(e){const t=j(Yu),n=t.get(e);if(n&&n.state!=="stopped"){const o=new Map(t);o.set(e,{...n,state:"completed"}),ye(Yu,o),jie(n),Lie(e,n.suggestionId)}}const lt=_e();function US(e,t){return{chatMode:Vt(),timing:new JZ(e,t),citationCount:0,imageCount:0,chainOfThoughtCount:0,inputMethod:"text",pendingGuidedActions:[],processedGuidedLinksCount:0,uploadImageCount:0,uploadFileCount:0}}let FS=null;async function Np(){return FS??=D(()=>import( __get$ProxyUrl("./index-DS1hydBz.js","https://copilot.microsoft.com/static/cmc/assets/") ),[]).then(e=>e.applyPatch),FS}function Vie(e,t){for(const n of e.content)if(n.type==="image"&&n.localUrl){const o=n.url.startsWith("/")?n.url:`/${n.url}`;n.url=`/conversations/${t}/messages/${e.id}${o}`; const _hh$temp536=n,s=_hh$temp536.localUrl; n.localUrl=void 0,URL.revokeObjectURL(s)}}class Hie{ws;conversationMetadata=new Map;conversationIdByMessageId=new Map;messageIdByTaskId=new Map;latestMessagePartIdentifier=null;pendingSideBySideMessages=new Map;constructor(t){this.ws=t,this.send=this.send.bind(this),this.regenerate=this.regenerate.bind(this),this.sendChallengeResponse=this.sendChallengeResponse.bind(this),this.resetConversationState=this.resetConversationState.bind(this),this.resetConversationTiming=this.resetConversationTiming.bind(this),this.setConversationIdByMessageId=this.setConversationIdByMessageId.bind(this),this.setMessageIdByTaskId=this.setMessageIdByTaskId.bind(this),this.onSubmitMessageBlocked=this.onSubmitMessageBlocked.bind(this),this.callBeforeSendForConversation=this.callBeforeSendForConversation.bind(this),this.callOnSentForConversation=this.callOnSentForConversation.bind(this),this.setChatModeForConversation=this.setChatModeForConversation.bind(this),this.setInputMethodForConversation=this.setInputMethodForConversation.bind(this),this.setUploadCountsForConversation=this.setUploadCountsForConversation.bind(this),this.setUserMessageForConversation=this.setUserMessageForConversation.bind(this),this.processEvent=this.processEvent.bind(this),this.sendMessagePreview=this.sendMessagePreview.bind(this),this.sendActionResult=this.sendActionResult.bind(this),this.updateChatOptions=this.updateChatOptions.bind(this),this.reportLocalConsents=this.reportLocalConsents.bind(this),this.sendAudioClick=this.sendAudioClick.bind(this)}getConversationState(t){return this.conversationMetadata.has(t)||this.conversationMetadata.set(t,US(performance.now(),performance.now())),this.conversationMetadata.get(t)}get latestMessagePartId(){return this.latestMessagePartIdentifier}resetConversationState(t,n,o){this.conversationMetadata.set(t,US(n,o))}resetConversationTiming(t,n,o){const s=this.getConversationState(t);s.timing.resetMessageStartTime(n),s.timing.resetMessageSentTime(o)}setConversationIdByMessageId(t){ const _hh$temp537=t,n=_hh$temp537.messageId,o=_hh$temp537.conversationId; this.conversationIdByMessageId.set(n,o)}setMessageIdByTaskId(t){ const _hh$temp538=t,n=_hh$temp538.taskId,o=_hh$temp538.messageId; this.messageIdByTaskId.set(n,o)}onStop(t){ const _hh$temp539=this.getConversationState(t),n=_hh$temp539.timing; n.onStop(t)}onSubmitMessageBlocked(t){ const _hh$temp540=this.getConversationState(t),n=_hh$temp540.timing,o=_hh$temp540.chatMode,s=_hh$temp540.inputMethod; n.onSubmitMessageBlocked(o,s,t)}callBeforeSendForConversation(t,n){this.getConversationState(t).timing.onBeforeSend(n)}callOnSentForConversation(t,n){const o=this.getConversationState(t);o.timing.onSent({additionalData:n,chatMode:o.chatMode,conversationId:t,inputMethod:o.inputMethod})}setChatModeForConversation(t,n){const o=this.getConversationState(t);o.chatMode=n}setInputMethodForConversation(t,n){const o=this.getConversationState(t);o.inputMethod=n}setUploadCountsForConversation(t,n,o){const s=this.getConversationState(t);s.uploadImageCount=n,s.uploadFileCount=o}setUserMessageForConversation(t,n){const o=this.getConversationState(t);o.lastUserMessage=n}send(t){ const _hh$temp541=t,n=_hh$temp541.content,o=_hh$temp541.conversationId,s=_hh$temp541.data,a=_hh$temp541.mode,r=_hh$temp541.context,c={event:"send",conversationId:o,content:Array.isArray(n)?n:[n],mode:a,context:r,...s}; this.ws.send(JSON.stringify(c))}sendChallengeResponse(t){this.ws.send(JSON.stringify({event:"challengeResponse",token:t.token,method:t.method}))}regenerate(t){ const _hh$temp542=t,n=_hh$temp542.messageId,o=_hh$temp542.mode,s=_hh$temp542.allowedConsents,a=_hh$temp542.context,r={event:"regenerate",messageId:n,mode:o,...a?{context:a}:{},...s?.length?{allowedConsents:s}:{}}; this.ws.send(JSON.stringify(r))}sendMessagePreview(t){ const _hh$temp543=t,n=_hh$temp543.content,o=_hh$temp543.conversationId,s=_hh$temp543.data,a=_hh$temp543.mode,r=_hh$temp543.context,c={event:"messagePreview",conversationId:o,content:Array.isArray(n)?n:[n],mode:a,context:r,...s}; this.ws.send(JSON.stringify(c),"ignore")}sendActionResult(t){this.ws.send(JSON.stringify({event:"actionResult",actionId:t.actionId,result:t.result}))}sendAudioClick(t,n){if(!n)return; const _hh$temp544=this.getConversationState(n),o=_hh$temp544.chatMode; this.send({conversationId:n,content:[{type:"command",command:{type:"topicClick",topic:t}}],mode:o})}setCharacterAppearance(t,n){const o=lt.get(Lt)?.id;if(!o)return; const _hh$temp545=this.getConversationState(o),s=_hh$temp545.chatMode; this.send({conversationId:o,content:[{type:"command",command:{type:"setCharacterAppearance",body:t,accessories:n}}],mode:s})}sendCommandResults(t){const n=xoe(t);this.ws.send(JSON.stringify(n))}async updateChatOptions(){const n={event:"setOptions",...await eie()};this.ws.send(JSON.stringify(n))}async reportLocalConsents(){const t=await tie();if(t.length===0)return;const n={event:"reportLocalConsents",grantedConsents:t};this.ws.send(JSON.stringify(n))}processEvent(t){switch("id"in t&&(this.latestMessagePartIdentifier=t.id??null),jZ.dispatch(t),this.logInboundMessageTelemetry(t),t.event){case"received":this.handleReceived(t);break;case"newMessage":this.handleNewMessage(t);break;case"connected":this.handleConnected(t);break;case"emojiReaction":this.handleEmojiReaction(t);break;case"startMessage":this.handleStartMessage(t);break;case"appendText":this.handleAppendText(t);break;case"replaceText":this.handleReplaceText(t);break;case"invokeAction":this.handleInvokeAction(t);break;case"browserAutomate":this.handleBrowserAutomate(t);break;case"chainOfThought":this.handleChainOfThought(t);break;case"citation":this.handleCitation(t);break;case"modelStatement":this.handleModelStatement(t);break;case"generatingImage":this.handleGeneratingImage(t);break;case"imageGenerated":this.handleImageGenerated(t);break;case"partialImageGenerated":this.handlePartialImageGenerated(t);break;case"imageGenerationFailed":this.handleImageGenerationFailed(t);break;case"generatingCard":this.handleGeneratingCard(t);break;case"cardGenerationFailed":this.handleCardGenerationFailed(t);break;case"page":this.handlePage(t);break;case"titleUpdate":this.handleTitleUpdate(t);break;case"challenge":this.handleChallenge(t);break;case"card":this.handleCard(t);break;case"document":this.handleDocument(t);break;case"taskStart":this.handleTaskStart(t);break;case"taskUpdate":this.handleTaskUpdate(t);break;case"error":this.handleError(t);break;case"banned":this.handleBanned(t);break;case"done":this.handleDone(t);break;case"startSuggestion":this.handleStartSuggestion(t);break;case"appendSuggestion":this.handleAppendSuggestion(t);break;case"suggestionCompleted":this.handleSuggestionCompleted(t);break;case"activityStart":this.handleActivityStart(t);break;case"activityUpdate":this.handleActivityUpdate(t);break;case"memorySignal":this.handleMemorySignal(t);break;case"sideBySideComparison":this.handleSideBySideComparison(t);break;case"suggestVision":this.addSuggestionCard("suggestVision",t.conversationId);break;case"modeSelected":this.handleModeSelected(t);break;case"pong":break;case"audio":case"interruptAudio":case"speechEndDetected":case"callTerminated":case"characterAnimation":case"characterAnimationEnd":case"characterAppearance":case"characterEmotion":case"callUI":case"callUIUpdate":break;case"consentRequired":this.handleConsentRequired(t);break;case"relatedSearchResultsAvailable":this.handleRelatedSearchResultsAvailable(t);break;case"participantUpdate":this.handleParticipantUpdate(t);break;case"featureSuggestion":this.handleFeatureSuggestion(t);break;case"turnTelemetry":break;case"nudge":this.handleNudge(t);break;case"partStart":this.handlePartStart(t);break;case"partCompleted":this.handlePartCompleted(t);break;case"partUpdate":this.handlePartUpdate(t);break;case"toolExecuting":this.handleToolExecuting(t);break;case"partDeleted":this.handlePartDeleted(t);break;case"conversationDeleted":this.handleConversationDeleted(t);break}}logInboundMessageTelemetry(t){let n;if("conversationId"in t?n=t.conversationId:"messageId"in t&&(n=this.conversationIdByMessageId.get(t.messageId)),n){const o=this.getConversationState(n);o.timing.onMessageInbound(t.event,o.inputMethod,n,o.chatMode)}}handlePartStart(t){ const _hh$temp546=t,n=_hh$temp546.messageId,o=_hh$temp546.part,s=this.conversationIdByMessageId.get(n); if(!s){tt({feature:"activity",errorType:"handlePartStart",errorMessage:"conversationId not found for messageId",customData:JSON.stringify({messageId:n,partId:o.partId})});return}switch(o.type){case"uiComponent":$("genuimvp")&&Moe(s,t,o);break;case"text":$("genuimvp")&&Roe(s,t,o);break;case"command":woe(n,o.partId,o.command);break;case"shellCommandExecution":case"webSearch":case"textFile":case"step":case"computerUse":Le(s,a=>{const r=ot({history:a,messageId:n});r&&(ia(s,r.id),r.content.push(o))});break}jY.run({event:t,conversationId:s})}handlePartCompleted(t){ const _hh$temp547=t,n=_hh$temp547.messageId,o=_hh$temp547.partId,s=this.conversationIdByMessageId.get(n); if(!s){tt({feature:"activity",errorType:"handlePartCompleted",errorMessage:"conversationId not found for messageId",customData:JSON.stringify({messageId:n,partId:o})});return}Le(s,a=>{const r=ot({history:a,messageId:n});if(r){const c=wn(r.content,o);if(!c)return;switch(c.type){case"generativeUI":$("genuimvp")&&Doe(c,s,n);break}}})}handlePartDeleted(t){ const _hh$temp548=t,n=_hh$temp548.messageId,o=_hh$temp548.partId,s=this.conversationIdByMessageId.get(n); if(!s){tt({feature:"activity",errorType:"handlePartDeleted",errorMessage:"conversationId not found for messageId",customData:JSON.stringify({messageId:n,partId:o})});return}Le(s,a=>{const r=ot({history:a,messageId:n});if(r){const c=wn(r.content,o);if(!c){tt({feature:"activity",errorType:"handlePartDeleted",errorMessage:"partDeleted event with unknown partId",customData:JSON.stringify({messageId:n,partId:o})});return}switch(c.type){case"generativeUI":$("genuimvp")&&Ooe(r,c,o);break;default:tt({feature:"activity",errorType:"handlePartDeleted",errorMessage:`partDeleted event with partId that is not a supported item. Item is of type ${c.type}`,customData:JSON.stringify({messageId:n,partId:o})});break}}})}handleTurnTelemetry(t){}handleNudge(t){ const _hh$temp549=t,n=_hh$temp549.nudgeType,o=_hh$temp549.text,s=_hh$temp549.conversationId,a=_hh$temp549.id; switch(yie({conversationId:s,id:a}),n){case"session-duration":Tie({conversationId:s,id:a,text:o});break}}handleMemorySignal(t){if(et("kill-memory-edf-basic"))return; const _hh$temp550=t,n=_hh$temp550.messageId,o=_hh$temp550.partId,s=_hh$temp550.text,a=_hh$temp550.signalType,r=this.conversationIdByMessageId.get(n); if(!r)return;this.getConversationState(r).timing.onMemorySignalReceived({messageId:n,conversationId:r}),Le(r,d=>{const m=ot({history:d,messageId:n});m&&m.content.push({type:"memorySignal",partId:o,text:s,signalType:a})})}handleSideBySideComparison(t){if(!$("side-by-side-comparison"))return; const _hh$temp551=t,n=_hh$temp551.sideBySideComparisonId,o=_hh$temp551.conversationId,s=_hh$temp551.options,a=_hh$temp551.defaultMessageId; cee(n),sm(o,r=>{r.sideBySideComparisonId=n});for(const _hh$temp552 of s) {const r=_hh$temp552.messageId,c=_hh$temp552.position;this.pendingSideBySideMessages.set(r,{position:c,isDefault:r===a});} }handleModeSelected(t){ const _hh$temp553=t,n=_hh$temp553.messageId,o=_hh$temp553.mode,s=this.conversationIdByMessageId.get(n),a=yo(); s&&(R.trackEvent({name:"system",data:{eventName:"modeSelectedEvent",eventInfo_conversationId:s,eventInfo_messageId:n,eventInfo_customData:JSON.stringify({eventInfo_selectedMode:o})}}),a==="smart"&&o==="reasoning"&&Le(s,r=>{const c=ot({history:r,messageId:n});c&&c.content.push({type:"chainOfThought",text:U("chat.reasoningLoading.emptyCoTText"),partId:"-1"})}))}clearAllStreamingStates(){const t=lt.get(gt);for(const n of t.values())Le(n.id,o=>{for(const s of o)s.author==="ai"&&s.streamingState==="streaming"&&(s.streamingState="idle")})}handleReceived(t){ const _hh$temp554=t,n=_hh$temp554.messageId,o=_hh$temp554.conversationId; this.conversationIdByMessageId.set(n,o);const s=this.getConversationState(o);s.timing.onReceived({messageId:n,conversationId:o,chatMode:s.chatMode,inputMethod:s.inputMethod}),TS([`humanMessage_${n}`,`conversation_${o}`]),lt.set(Ia,a=>a&&!M1()?a-1:a),Le(o,a=>{const r=a.at(-1);r?.author==="human"&&(r.id=n,Vie(r,o))})}handleNewMessage(t){ const _hh$temp555=t,n=_hh$temp555.message,o=_hh$temp555.conversationId,s=h3(n); this.conversationIdByMessageId.set(s.id,o),Le(o,a=>{a.push(s)}),DS(o)}handleConnected(t){ic.trackLatestChatConnectedAssignment(t)}handleEmojiReaction(t){ const _hh$temp556=t,n=_hh$temp556.messageId,o=_hh$temp556.emoji,s=this.conversationIdByMessageId.get(n); s&&Le(s,a=>{const r=hQ(a,n);r&&(r.emojiReaction=o)})}handleStartMessage(t){ const _hh$temp557=t,n=_hh$temp557.messageId,o=_hh$temp557.conversationId,s=_hh$temp557.createdAt; this.conversationIdByMessageId.set(n,o); const a=this.getConversationState(o),_hh$temp558=a,r=_hh$temp558.chatMode,c=_hh$temp558.inputMethod; a.citationCount=0,a.processedGuidedLinksCount=0,a.timing.onStartMessage({messageId:n,conversationId:o,chatMode:r,inputMethod:c}),Yf()&&lt.set(ha,"responding"),TS([`aiMesssage_${n}`,`conversation_${o}`]);const d=this.pendingSideBySideMessages.get(n),m={id:n,createdAt:s,author:"ai",content:[],mode:r,sideBySideConfig:d,streamingState:"streaming"};Le(o,p=>{p.push(m)})}handleAppendText(t){ const _hh$temp559=t,n=_hh$temp559.text,o=_hh$temp559.messageId,s=_hh$temp559.partId,a=this.conversationIdByMessageId.get(o); if(!a||$("genuimvp")&&Noe(a,t))return;const r=this.getConversationState(a);r.timing.onFirstToken({messageId:o,conversationId:a,chatMode:r.chatMode,inputMethod:r.inputMethod}),Le(a,c=>{const d=ot({history:c,messageId:o});if(d){ia(a,d.id);let m=wn(d.content,s);if(!m)m={type:"text",text:"",partId:s},d.content.push(m);else if(m.type!=="text"){console.error(`appendText event with partId that is not a text item. Item is of type ${m.type}`,t);return}m.text=m.text.concat(n),CQ(d)}}),NY.run(n),gu()&&this.applyPendingGuidedActions(a)}handleReplaceText(t){ const _hh$temp560=t,n=_hh$temp560.text,o=_hh$temp560.messageId,s=_hh$temp560.partId,a=this.conversationIdByMessageId.get(o); if(!a||$("genuimvp")&&Loe(a,t))return;const c=lt.get(Lt)?.sideBySideComparisonId;c&&(lee({sideBySideComparisonId:c,reason:"replacedText"}),e0(a)),Le(a,d=>{const m=ot({history:d,messageId:o});if(m){ia(a,m.id);let p=wn(m.content,s);if(!p)p={type:"text",text:"",partId:s},m.content.push(p);else if(p.type!=="text"){console.error("replaceText event with partId that is not a text item",t);return}p.text=n,p.citations=void 0}})}handleCitation(t){ const _hh$temp561=t,n=_hh$temp561.title,o=_hh$temp561.url,s=_hh$temp561.messageId,a=_hh$temp561.publisher,r=_hh$temp561.iconUrl,c=_hh$temp561.snippet,d=_hh$temp561.label,m=this.conversationIdByMessageId.get(s); if(!m)return;const p=this.getConversationState(m);x$(o,m,s),Le(m,h=>{const v=ot({history:h,messageId:s});if(v){ia(m,v.id);const y=ZC(v.content);if(y){y.citations??=[];const C=y.citations.find(b=>b.url===o);let S;if(C?S=C.index:(p.citationCount+=1,S=`${p.citationCount}`,y.citations.push({index:S,url:o,iconUrl:r,title:n,publisher:a,snippet:c,label:d})),y.text=y.text.concat(f3(S,o)),p.citationCount===1){const b=tA();b?.type==="citations"&&b.data.conversationId===m&&b.data.messageId!==s&&t0({type:"citations",data:{conversationId:m,messageId:s}})}}}})}handleModelStatement(t){ const _hh$temp562=t,n=_hh$temp562.partId,o=_hh$temp562.messageId,s=_hh$temp562.modelName,a=_hh$temp562.correlationPartId,r=this.conversationIdByMessageId.get(o); r&&Le(r,c=>{const d=ot({history:c,messageId:o});if(!d)return;let m=wn(d.content,n);m||(m={type:"modelStatement",models:[],partId:n},d.content.push(m)),m.type==="modelStatement"&&m.models.push({modelName:s,correlationPartId:a})})}handleGeneratingImage(t){ const _hh$temp563=t,n=_hh$temp563.prompt,o=_hh$temp563.messageId,s=_hh$temp563.partId,a=_hh$temp563.progressionText,r=this.conversationIdByMessageId.get(o); if(!r)return;const c=this.getConversationState(r);c.timing.onImageGenerationStart({messageId:o,conversationId:r,chatMode:c.chatMode}),Le(r,d=>{const m=ot({history:d,messageId:o});m&&m.content.push({type:"image",prompt:n,partId:s,partialGenerationStep:0,status:"generating",progressionText:a})})}handleImageGenerated(t){ const _hh$temp564=t,n=_hh$temp564.url,o=_hh$temp564.partId,s=_hh$temp564.messageId,a=this.conversationIdByMessageId.get(s); if(!a)return;const r=this.getConversationState(a);r.imageCount+=1,r.timing.onImageReceived({messageId:s,conversationId:a,chatMode:r.chatMode}),Le(a,c=>{const d=ot({history:c,messageId:s});if(d){const m=wn(d.content,o);m?.type==="image"&&(m.isPartiallyLoading=!1,m.url=n,m.partialGenerationStep=void 0,m.status="generated",m.progressionText=void 0)}})}handlePartialImageGenerated(t){ const _hh$temp565=t,n=_hh$temp565.content,o=_hh$temp565.messageId,s=_hh$temp565.partId,a=this.conversationIdByMessageId.get(o); if(!a)return;const r=this.getConversationState(a);Le(a,c=>{const d=ot({history:c,messageId:o});if(d){const m=wn(d.content,s);if(m?.type==="image"){m.isPartiallyLoading=!0,m.url=`data:image/png;base64,${n}`;const p=(m.partialGenerationStep??0)+1;m.partialGenerationStep=p,m.status="generating",r.timing.onPartialImageReceived({messageId:o,conversationId:a,chatMode:r.chatMode,imageGenPhase:p})}}})}getImageGenerationErrorMessage(t){switch(t){case"not-signed-in":return;case"throttled":return;case"blocked":return;default:return U("error.imageGenerationFailed")}}handleImageGenerationFailed(t){ const _hh$temp566=t,n=_hh$temp566.messageId,o=_hh$temp566.partId,s=_hh$temp566.errorCode,a=this.conversationIdByMessageId.get(n); if(UX({errorType:s,errorMessage:`Image generation ${s}`,messageId:n,conversationId:a,customData:JSON.stringify({partId:o})}),!a)return;Le(a,c=>{const d=ot({history:c,messageId:n});d&&(d.content=d.content.filter(m=>m.type!=="image"||m.partId!==o))});const r=this.getImageGenerationErrorMessage(s);s==="not-signed-in"&&lt.set(Ws,{isOpen:!0,scenario:null,reason:"imageGeneration"}),r&&fu(r,a)}handleCardGenerationFailed(t){const n=lt.get(Li);if(n&&this.isGeneratedCards(n)){lt.set(Li,void 0);const o=this.conversationIdByMessageId.get(t.messageId);if(!o)return;n==="quiz"&&fu(U("quizCard.generatedQuizFailed"),o)}}handleGeneratingCard(t){ const _hh$temp567=t,n=_hh$temp567.type; this.isGeneratedCards(n)&&lt.set(Li,n)}isGeneratedCards(t){return xT.safeParse(t).success}handleTitleUpdate(t){ const _hh$temp568=t,n=_hh$temp568.conversationId,o=_hh$temp568.title; lt.set(gt,s=>tn(s,a=>{const r=a.get(n);r&&(r.title=o)}))}handleConversationDeleted(t){ const _hh$temp569=t,n=_hh$temp569.conversationId; lt.get(Se)===n&&wA(),lt.set(gt,s=>tn(s,a=>{a.delete(n)})),this.conversationMetadata.delete(n),this.conversationIdByMessageId= new Map(Array.from(this.conversationIdByMessageId.entries()).filter(_hh$temp570=>{var _hh$temp571=__arrayFrom$(_hh$temp570),s=_hh$temp571[1];return s!==n;})) }handleCard(t){ const _hh$temp572=t,n=_hh$temp572.messageId,o=_hh$temp572.partId,s=_hh$temp572.card,a=this.conversationIdByMessageId.get(n); if(!a)return;const r=this.getConversationState(a);if(s.type==="ads"){KQ({card:s,messageId:n,partId:o,conversationState:r,conversationId:a});return}s.type==="audioCallSummary"&&vte(n),Le(a,c=>{const d=ot({history:c,messageId:n});d&&d.content.push({type:"card",partId:o,card:s})}),Ie.emit("card:created",{type:s.type,partId:o})}handleDocument(t){ const _hh$temp573=t,n=_hh$temp573.messageId,o=_hh$temp573.partId,s=_hh$temp573.attachmentId,a=_hh$temp573.fileName,r=_hh$temp573.contentType,c=this.conversationIdByMessageId.get(n); c&&Le(c,d=>{const m=ot({history:d,messageId:n});m&&m.content.push({type:"document",partId:o,attachmentId:s,fileName:a,contentType:r})})}handleBanned(t){ const _hh$temp574=t,n=_hh$temp574.expiresAt,o=_0(n); o&&k0(o,"chat",n)}handlePage(t){ const _hh$temp575=t,n=_hh$temp575.messageId,o=_hh$temp575.page,s=_hh$temp575.partId,a=this.conversationIdByMessageId.get(n); a&&(Le(a,r=>{const c=ot({history:r,messageId:n});c&&c.content.push({type:"page",partId:s,page:o})}),Ie.emit("pages:page-created",o))}handleStartSuggestion(t){ const _hh$temp576=t,n=_hh$temp576.pageId,o=_hh$temp576.suggestionId,s=_hh$temp576.editTargets; if(Rp(n)){Bie({pageId:n,suggestionId:o});return}Iie(n,{id:o,text:void 0,editTargets:s})}applyPendingGuidedActions(t){ const n=this.getConversationState(t),_hh$temp577=n,o=_hh$temp577.pendingGuidedActions; o.length!==0&&Le(t,s=>{const a=_r(s);if(!a)return;const r=ZC(a.content);if(!r||!r.text)return; const _hh$temp578=r,c=_hh$temp578.text,d=n.pendingGuidedActions[0]; if(!d)return; const _hh$temp579=d,m=_hh$temp579.targetText,p=_hh$temp579.prefill; if(!m||!p)return;const h=c.lastIndexOf(m);if(h!==-1){const v=c.substring(0,h),y=c.substring(h+m.length),C=`[${m}](${qre}?${Kre}=${encodeURIComponent(p)})`,S=v+C+y;r.text=S,n.processedGuidedLinksCount+=1,n.pendingGuidedActions.shift()}})}handleGuidedConversationAction(t,n){if(!gu())return;const o=Yre(t);this.getConversationState(n).pendingGuidedActions.push(o)}handleAppendSuggestion(t){ const _hh$temp580=t,n=_hh$temp580.pageId,o=_hh$temp580.text; Rp(n)||Eie(n,t.suggestionId,o)}handleSuggestionCompleted(t){ const _hh$temp581=t,n=_hh$temp581.pageId; Rp(n)&&OS(n)}handleCollaboratorStartAction(t,n){ const _hh$temp582=t.parameters,o=_hh$temp582.pageId; t.parameters.conversationId,Die(o)}handleCollaboratorUndoAction(t,n){ const _hh$temp583=t.parameters,o=_hh$temp583.pageId,s=_hh$temp583.conversationId; o&&Oie(o)}handleCollaboratorSuggestionCompleteAction(t,n){ const _hh$temp584=t.parameters,o=_hh$temp584.pageId,s=_hh$temp584.conversationId; OS(o)}handleActivityStart(t){ const _hh$temp585=t,n=_hh$temp585.messageId,o=_hh$temp585.partId,s=_hh$temp585.activity,a=this.conversationIdByMessageId.get(n); a&&Le(a,r=>{const c=ot({history:r,messageId:n});c?(ia(a,c.id),c.content.push({activity:s,type:"activity",partId:o})):tt({feature:"activity",errorType:"handleActivityStart",errorMessage:"Could not find message with messageId to start activity",customData:JSON.stringify({messageId:n})})})}async handleActivityUpdate(t){ const _hh$temp586=t,n=_hh$temp586.messageId,o=_hh$temp586.partId,s=_hh$temp586.update,a=this.conversationIdByMessageId.get(n); if(a)try{const r=await Np();Le(a,c=>{const d=ot({history:c,messageId:n});if(!d)return;const m=wn(d.content,o);if(!m||m.type!=="activity"){tt({feature:"activity",errorType:"handleActivityUpdate",errorMessage:"Could not find activity message with partId in message with messageId",customData:JSON.stringify({messageId:n,partId:o})});return}r(m.activity,s),zC.run({conversationId:a,partId:o,activity:m.activity})})}catch(r){tt({feature:"activity",errorType:"handleActivityUpdate",errorMessage:"Error updating activity",exception:JSON.stringify({error:r})})}}async handlePartUpdate(t){ const _hh$temp587=t,n=_hh$temp587.messageId,o=_hh$temp587.partId,s=_hh$temp587.update,a=this.conversationIdByMessageId.get(n); if(a)try{const r=await Np();Le(a,c=>{const d=ot({history:c,messageId:n});if(!d){tt({feature:"partUpdate",errorType:"handlePartUpdate",errorMessage:"Could not find message with messageId for partUpdate",customData:JSON.stringify({messageId:n,partId:o})});return}const m=wn(d.content,o);if(!m){tt({feature:"partUpdate",errorType:"handlePartUpdate",errorMessage:"Could not find message item with partId for partUpdate",customData:JSON.stringify({messageId:n,partId:o})});return} const _hh$temp588=s,p=_hh$temp588.patches; r(m,p),BY.run({event:t,conversationId:a})})}catch(r){tt({feature:"partUpdate",errorType:"handlePartUpdate",errorMessage:"Error applying part update patch",exception:JSON.stringify({error:r})})}}async processInvokeAction(t){const n=lt.get(Se);if(n)switch(t.actionName){case"phone_send_message":{Le(n,o=>{const s=_r(o);s&&s.content.push({type:"card",partId:Math.random().toString(),card:{type:"phoneSendMessage",actionId:t.actionId,contactName:t.parameters.contactName,text:t.parameters.text,phoneNumber:t.parameters.phoneNumber}})});break}case"edge_get_page_content":{const o=t.parameters.map(s=>({tabId:s.tabId,windowId:s.windowId,pageUrl:s.pageUrl??"",pageTitle:s.pageTitle??""}));DY.run({actionId:t.actionId,tabs:o,inputMethod:this.getConversationState(n).inputMethod});break}case"edge_get_tabs_list":{XY.run({actionId:t.actionId,count:t.parameters.maxCount});break}case"windows_collaborator_start":{this.handleCollaboratorStartAction(t,n);break}case"windows_collaborator_undo":{this.handleCollaboratorUndoAction(t,n);break}case"windows_collaborator_suggestion_complete":{this.handleCollaboratorSuggestionCompleteAction(t,n);break}case"windows_search_files":{$("windowslocalfilesearch")&&await UY.run({event:t,handled:!1});break}case"windows_get_known_directories":case"windows_copy_files":case"windows_move_files":case"windows_create_directories":{$("windowsfileoperations")&&await FY.run({event:t,handled:!1});break}case"browser_search":{const o=!$("edge-history-chain-of-thought"),s=o?bQ(n,U("chat.multiTabsSearchIndicatorForHistory")):void 0;VY.run({actionId:t.actionId,queries:t.parameters.queries,startTime:t.parameters.startTime?ES(t.parameters.startTime):void 0,endTime:t.parameters.endTime?ES(t.parameters.endTime):void 0,maxResults:t.parameters.maxResults,states:aoe(t.parameters.states),inputMethod:this.getConversationState(n).inputMethod}).then(()=>{o&&JC(n,s,"success")}).catch(a=>{tt({feature:"multiTabsSearch",errorType:"fetchTabsContent",errorMessage:a instanceof Error?a.message:"unknown"}),o&&JC(n,s,"failed")});break}case"guided_conversation":{this.handleGuidedConversationAction(t,n);break}case"map_add":case"map_remove":case"map_set_view":{const o=await nie(t),s={version:"v1",response:{responseParts:[],isError:!o}};this.sendActionResult({actionId:t.actionId,result:s});break}default:{ const _hh$temp589=await OY.run({event:t,handled:!1}),o=_hh$temp589.handled; if(o)break}}}handleInvokeAction(t){ const _hh$temp590=Kne.safeParse(t),n=_hh$temp590.success,o=_hh$temp590.data; n&&this.processInvokeAction(o).catch(s=>{})}handleBrowserAutomate(t){ const _hh$temp591=t,n=_hh$temp591.partId,o=_hh$temp591.tabIds,s=_hh$temp591.activeTabId,a=_hh$temp591.messageId,r=this.conversationIdByMessageId.get(a); r&&(R.trackEvent({name:"system",data:{eventName:"browserAutomate",eventInfo_conversationId:r,eventInfo_messageId:a}}),Le(r,c=>{const d=ot({history:c,messageId:a});if(d){const m=wn(d.content,n);if(m&&m.type==="activity"){const p=m.activity.artifacts.find(h=>h.type==="browser");p?(p.tabIds=o,p.activeTabId=s):m.activity.artifacts.push({type:"browser",tabIds:o,activeTabId:s}),zC.run({conversationId:r,partId:n,activity:m.activity})}}}))}trackVideoGenerationStart(t,n,o){const s=this.getConversationState(o);s.timing.onVideoGenerationStart({messageId:n,conversationId:o,chatMode:s.chatMode,taskId:t})}trackVideoGenerationCompletion(t,n,o){if(o&&n&&t.status==="completed"&&t.result?.type==="success"){const s=this.getConversationState(o);s.timing.onVideoGenerationReceived({messageId:n,conversationId:o,chatMode:s.chatMode,taskId:t.id})}}trackThreeDGenerationStart(t,n,o){const s=this.getConversationState(o);s.timing.onThreeDGenerationStart({messageId:n,conversationId:o,chatMode:s.chatMode,taskId:t})}trackThreeDGenerationCompletion(t,n,o){if(o&&n&&t.status==="completed"&&t.result?.type==="success"){const s=this.getConversationState(o);s.timing.onThreeDGenerationReceived({messageId:n,conversationId:o,chatMode:s.chatMode,taskId:t.id})}}handleTaskStart(t){ const _hh$temp592=t,n=_hh$temp592.messageId,o=_hh$temp592.task,s=_hh$temp592.partId,a=this.conversationIdByMessageId.get(n); this.messageIdByTaskId.set(o.id,n);const r=new Date().toISOString();a&&(loe([o],a,r),lt.set(lu,!1),Le(a,c=>{const d=ot({history:c,messageId:n});if(d){const m=yJ(o,s,r);m&&d.content.push(m)}}),LY.run({task:o,action:"startTask"}),Ie.emit("tasks:task-start",o),(o.type==="podcast"||o.type==="research"||o.type==="videoGeneration")&&Mee(),o.type==="videoGeneration"&&this.trackVideoGenerationStart(o.id,n,a),o.type==="threeDGeneration"&&this.trackThreeDGenerationStart(o.id,n,a))}async handleTaskUpdate(t){ const _hh$temp593=t,n=_hh$temp593.taskId,o=_hh$temp593.update; if(NQ(n,o))return;let s=!1;const a=this.messageIdByTaskId.get(n),r=a?this.conversationIdByMessageId.get(a):void 0;try{const c=await Np();a&&r&&Le(r,d=>{const m=ot({history:d,messageId:a});if(m){const h=SJ(m.content)?.task;h&&h.type==="research"&&(c(h,o),IQ(h,r))}}),X1(n,d=>{if(d.type==="computerUse"||d.type==="videoGeneration"||d.type==="planning"||d.type==="threeDGeneration")c(d,o);else if(d.type==="podcast"){const m=d.podcast?.id??"";c(d,o),d.podcast&&(d.podcast.id=m)}}),s=!0}catch(c){console.error("Error applying task update patch:",c)}if(s){const c=lt.get(Vs).get(n);switch(c?.type){case"computerUse":OQ(n,o);break;case"podcast":dQ(c);break;case"videoGeneration":this.trackVideoGenerationCompletion(c,a,r),VQ(c);break;case"threeDGeneration":this.trackThreeDGenerationCompletion(c,a,r),kQ(c);break}Ie.emit("tasks:task-update",c)}}handleError(t){ const _hh$temp594=t,n=_hh$temp594.errorCode; if(n==="over-turn-limit")lt.set(Ia,0);else if(n==="over-task-quota"||n==="over-lifetime-task-quota")lt.set(eq,n),lt.set(en,"over-task-quota");else if(n==="unknown-error")for(const _hh$temp595 of this.conversationMetadata.entries()) {const _hh$temp596=__arrayFrom$(_hh$temp595),o=_hh$temp596[0];Le(o,s=>{for(const a of s)(a.author==="ai"&&a.streamingState==="streaming")&&(a.streamingState="idle");});} else if(n==="page-content-length-exceeded"||n==="page-count-exceeded"){Ie.emit("page:message-error",n);for(const _hh$temp597 of this.conversationMetadata.entries()) {const _hh$temp598=__arrayFrom$(_hh$temp597),o=_hh$temp598[0];Le(o,s=>{for(const a of s)(a.author==="ai"&&a.streamingState==="streaming")&&(a.streamingState="idle");});} }else for(const _hh$temp599 of this.conversationMetadata.entries()) {const _hh$temp600=__arrayFrom$(_hh$temp599),o=_hh$temp600[0];fu(U("error.eventNotRecognized"),o);} lt.set(lu,!1)}handleChainOfThought(t){ const _hh$temp601=t,n=_hh$temp601.messageId,o=_hh$temp601.partId,s=_hh$temp601.text,a=this.conversationIdByMessageId.get(n); a&&Le(a,r=>{const c=ot({history:r,messageId:n});if(c){ia(a,c.id);let d=wn(c.content,o);const m=this.getConversationState(a);if(d)d.type!=="chainOfThought"?console.error(`chainOfThought event with partId that is not a chainOfThought item. Item is of type ${d.type}`,t):d.text=d.text.concat(s);else{d={type:"chainOfThought",text:"",title:"",partId:o},c.content.push(d); const _hh$temp602=boe(s),p=_hh$temp602.title,h=_hh$temp602.text; d.title=p,d.text=h,m.timing.onChainOfThoughtReceived({messageId:n,conversationId:a,chatMode:m.chatMode}),m.chainOfThoughtCount+=1}}})}async handleHashcashChallenge(t){if(!t)return;const n=lt.get(Se);R.trackEvent({name:"system",data:{eventName:"challengeRequest",eventInfo_method:"hashcash",eventInfo_customData:JSON.stringify({conversationId:n,parameter:t})}}); const _hh$temp603=__arrayFrom$(t.split(":")),o=_hh$temp603[0],s=_hh$temp603[1],a=Number(s); if(!o||Number.isNaN(a)||a<=0)return;const r=await vJ({token:o,difficulty:a});this.sendChallengeResponse({method:"hashcash",token:r.nonce.toString()}),R.trackEvent({name:"system",data:{eventName:"challengeResponse",eventInfo_method:"hashcash",eventInfo_duration:r.timeElapsed,eventInfo_customData:JSON.stringify({difficulty:a,numberOfTries:r.nonce,totalHashes:r.totalHashes,method:r.method,numberOfWorkers:r.numberOfWorkers})}})}async handleChallenge(t){const n=()=>{const o=lt.get(Se);if(!o)return; const _hh$temp604=this.getConversationState(o),s=_hh$temp604.lastUserMessage; s&&this.send(s)};if(t.method==="copilot"){ const _hh$temp605=t,o=_hh$temp605.parameter,s=Number(o),a=Math.round((s**3/100+s*25)%22).toString(); this.sendChallengeResponse({method:"copilot",token:a}),n(),Ie.emit("challenge:success");return}if(t.method==="hashcash"){await this.handleHashcashChallenge(t.parameter),n(),Ie.emit("challenge:success");return}et("kill-cf-turnstile")||(this.ws.pauseAutoReconnect(),a_({onToken:o=>{this.sendChallengeResponse({token:o,method:"cloudflare"}),n(),this.ws.resumeAutoReconnect()},onFinish:()=>{this.ws.resumeAutoReconnect()}}))}handleConsentRequired(t){ const _hh$temp606=t,n=_hh$temp606.type; wie(n)}handleRelatedSearchResultsAvailable(t){ const _hh$temp607=t,n=_hh$temp607.messageId; vQ(n)}handleParticipantUpdate(t){ const _hh$temp608=t,n=_hh$temp608.conversationId,o=_hh$temp608.participant,s=_hh$temp608.updateType,a=_hh$temp608.id,r={id:a,createdAt:new Date().toISOString(),author:"system",participant:o,updateType:s}; Le(n,d=>{d.push(r)});const c=j(yt);if(o.userId===c?.id&&s==="kicked"){Gs();return}FX(n)}addSuggestionCard(t,n){Le(n,o=>{const s=_r(o);s&&s.content.push({type:"card",partId:Math.random().toString(),card:{type:t}})})}handleFeatureSuggestion(t){this.addSuggestionCard("suggestResearch",t.conversationId)}handleDone(t){Yf()&&lt.get(ha)==="responding"&&lt.set(ha,"idle"); const _hh$temp609=t,n=_hh$temp609.messageId,o=this.conversationIdByMessageId.get(n); if(!o)return;Aoe({conversationId:o,messageId:n}),gu()&&this.applyPendingGuidedActions(o);const s=this.getConversationState(o);s.timing.onLastToken({messageId:n,conversationId:o,citationCount:s.citationCount,imageCount:s.imageCount,chainOfThoughtCount:s.chainOfThoughtCount,chatMode:s.chatMode,inputMethod:s.inputMethod,uploadImageCount:s.uploadImageCount,uploadFileCount:s.uploadFileCount,guidedLinksCount:s.processedGuidedLinksCount});const r=lt.get(gt).get(o)?.history??[],c=ot({history:r,messageId:n});Le(o,m=>{if(!c)return;const p=ot({history:m,messageId:c.id}),h=c.content.find(v=>v.type==="image"&&v.partialGenerationStep!==void 0);if(p&&h){const v=wn(p.content,h.partId);v&&(v.partialGenerationStep===0?v.type="deleted":v.type==="image"&&(v.isPartiallyLoading=!1,v.partialGenerationStep=void 0,v.status="non-complete"))}if(p){p.streamingState="idle";const v=p.content.filter(y=>y.type==="activity");for(const y of v)if(Uoe(y.activity)){y.activity.status==="running"&&(y.activity.status="failed");for(const S of y.activity.steps)S.status==="running"&&(S.status="completed")}}});const d=this.pendingSideBySideMessages.get(n);d&&(this.pendingSideBySideMessages.delete(n),Le(o,m=>{const p=ot({history:m,messageId:n});p&&(p.streamingState="idle",p.sideBySideConfig={...d,isStreamingComplete:!0})})),lt.set(Li,void 0),lt.set(lu,!1),window.setTimeout(()=>{lt.set(Gd,m=>tn(m,p=>{const h=p.get(o);h?.has(n)&&(h.delete(n),h.size===0&&p.delete(o))}))},3e3),lt.set(rT,!0),c&&_ie({message:c,conversationId:o}),DS(o),zY.run({conversationMessages:r,messageId:n,inputMethod:s.inputMethod})}async handleToolExecuting(t){const n=lt.get(Se);if(!n)return; const _hh$temp610=t.tool,o=_hh$temp610.type; switch(o){case"browserPageContext":{JY.run({conversationId:n});break}}}}let zl=!1,Gl=!1;async function zie(e,t){if(e.stage==="start"||e.stage==="created"){if(zl||Gl)return;zl=!0;try{const n=await vo("/user/settings",{query:{"api-version":"2"}});zl=!1; const _hh$temp611=n,o=_hh$temp611.status,s={stage:e.stage,code:e.code,reason:e.reason,wasClean:e.wasClean,online:e.online,statusCode:o}; Gl=o===403||o===rc,(Gl||o===401)&&R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"WebSocketFailureCode",eventInfo_details:JSON.stringify(s)}}),Gl&&(ye(Or,o===rc?"age-verification":"socket-failure-code"),t())}catch{zl=!1}}}async function Gie(){try{ const _hh$temp612=await D(async ()=>{const _hh$temp614=await import(__get$ProxyUrl("./botd.esm-CqBqtDMb.js","https://copilot.microsoft.com/static/cmc/assets/")),o=_hh$temp614.load;return{load:o};},__vite__mapDeps([444,10])),e=_hh$temp612.load,t=await e({monitoring:!1}),_hh$temp613=t.detect(),n=_hh$temp613.bot; return n}catch(e){return R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"BotDetectionError",eventInfo_details:"Failed on bot detection",eventInfo_errorMessage:e instanceof Error?e.message:"Unknown bot detection error"}}),!1}}async function Wie(){return  new Promise((e,t)=>{a_({onToken:async n=>{try{const o=await Nt({path:"/challenges/verify",args:{body:{token:n,method:"cloudflare"}}}),_hh$temp615=await o.json(),s=_hh$temp615.isValid;e(s);}catch(o){R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"CloudflareChallengeVerificationError",eventInfo_details:"Error verifying Cloudflare challenge",eventInfo_errorMessage:o instanceof Error?o.message:""}});}t();}});}) }const $ie="eval/chat",g3=e=>import( __get$ProxyUrl(e,"https://copilot.microsoft.com/static/cmc/assets/") ),mh=new Map,Wl=new Map,qie=/(['"])((\w+:(\/?\/?))?[^\s,]+)\1/,bn={maxRetries:2,initialDelayMs:200,backoffFactor:2,jitterFactor:.1},Kie=(e,t)=>async()=>{const n=Date.now();let o;o=`${e}?t=${n}`;let s,a;try{const c=await fetch( __get$(new URL(o,import.meta.url),"href") );c.ok||(s=`Fetch failed: ${c.status} ${c.statusText} for ${o}`,a=new Error(s))}catch(c){c instanceof Error?(s=`Fetch error: ${c.message} for ${o}`,a=c):(s=`Unknown error for ${o}`,a=new Error(s))}if(a)throw tt({feature:"lazyWithRetry",scenario:t,errorType:"lazyLoadAttemptFailure",errorMessage:s}),a;const r=await g3(o);return mh.set(e,o),r};async function Yie(e,t,n,o){try{let s;const a=e?mh.get(e):void 0;return a?s=await g3(a):s=await t(),s}catch(s){if(e&&mh.delete(e),et("kill-lazy-retry")||(o.maxRetries??0)<=0)throw s;if(!e)throw tt({feature:"lazyWithRetry",scenario:n,errorType:"lazyLoadModulePathParsingFailure",errorMessage:"Could not resolve path from importer function",customData:String(t)}),s;const r=Kie(e,n),m={...o,onSuccess:p=>{jo({feature:"lazyWithRetry",scenario:n,customData:JSON.stringify({attempts:p.attemptCount})})},onFailure:p=>{tt({feature:"lazyWithRetry",scenario:n,errorType:"lazyLoadRetryFailure",errorMessage:`Lazy import failed after ${p.attemptCount} attempt(s). Reason: ${p.exitReason??"unknown"}`,customData:JSON.stringify(p.errors)})}};return Aa(r,m)}}function Zie(e){const n=String(e).match(qie);if(n)return n[2]}function v3(e,t){return async n=>{const o=Zie(n);if(o&&Wl.has(o))return Wl.get(o);const s=Yie(o,n,e,t);o&&Wl.set(o,s);try{return await s}finally{o&&Wl.delete(o)}}}class P0{static instance;static getInstance(){return this.instance??=new P0,this.instance}attemptingCount=0;isFirstTimeToReconnect=!0;constructor(){this.attemptingCount=0,this.isFirstTimeToReconnect=!0}trackAttempting(t){this.attemptingCount+=1,this.attemptingCount>1&&(this.isFirstTimeToReconnect&&(this.isFirstTimeToReconnect=!1,this.trackReconnectEvent("started",this.getDuration(t))),this.trackReconnectEvent("attempting",this.getDuration(t)))}trackSuccess(t){this.attemptingCount>1?this.trackReconnectEvent("connected",this.getDuration(t)):this.trackConnectionEvent("connected",this.getDuration(t)),this.isFirstTimeToReconnect=!0}trackDisconnected(t){this.trackConnectionEvent("disconnected",this.getDuration(t))}trackError(t){this.attemptingCount>1&&this.trackReconnectEvent("failed",this.getDuration(t))}getDuration(t){return t?performance.now()-t:void 0}trackConnectionEvent(t,n){R.trackEvent({name:"system",data:{eventName:"webSocketConnectionEvent",eventInfo_connectionStatus:t,eventInfo_duration:n}})}trackReconnectEvent(t,n){R.trackEvent({name:"system",data:{eventName:"webSocketReconnectEvent",eventInfo_reconnectStatus:t,eventInfo_duration:n}})}}const $l=P0.getInstance(),jS=[1e3,2e3,4e3,8e3,16e3,3e4],Jie=5e3,Qie=1e4,Xie=3e4,ece=1e4,tce=3,nce=6e4;function oce(e){if(!e||e.length===0)return jS;const t=e.filter(n=>Number.isFinite(n)&&n>=0);return t.length>0?t:jS}const BS=100;class sce{connection;socketStage="start";autoReconnect;reconnectIntervals;reconnectIntervalIndex;reconnectTimeout;sendQueue=[];connecting=!1;state=null;cachedSendData=null;pongTimeout=null;pingOnSend=!1;periodicPingInterval=null;windowStartTime=null;connectionCount=0;cooldownStart=null;reconnectPausedValue=!1;get reconnectPaused(){return this.reconnectPausedValue}set reconnectPaused(t){t&&et("kill-pause-auto-reconnect")||(this.reconnectPausedValue=t)}boundVisibilityChange;boundOnlineHandler;getUrl=null;onopen;onmessage;onclose;onerror;constructor( _hh$temp616 ={}){ var _hh$temp616$autoReconnect=_hh$temp616.autoReconnect,t=_hh$temp616$autoReconnect===void 0?!1:_hh$temp616$autoReconnect,n=_hh$temp616.reconnectIntervals,_hh$temp616$pingOnSend=_hh$temp616.pingOnSend,o=_hh$temp616$pingOnSend===void 0?!1:_hh$temp616$pingOnSend; this.connection=null,this.autoReconnect=t,this.reconnectIntervals=t?oce(n):[0],this.reconnectIntervalIndex=0,this.pingOnSend=o,this.reconnectTimeout=null,this.onopen=null,this.onmessage=null,this.onclose=null,this.onerror=null}async initialize(){this.state=null,await this.connect(!0),this.autoReconnect&&(this.boundVisibilityChange=()=>{document.visibilityState==="visible"&&this.reconnectIfNeeded()},this.boundOnlineHandler=()=>{$("chat-connect-window")&&this.state!=="destroyed"&&(this.state=null),this.reconnectIfNeeded()},window.addEventListener("online",this.boundOnlineHandler),window.addEventListener("offline",this.disconnect),document.addEventListener("visibilitychange",this.boundVisibilityChange))}connect=async t=>{if(!(this.connection?.readyState===WebSocket.CONNECTING||this.connecting||this.pongTimeout)){if(!this.getUrl)throw new Error("getUrl function is not set");$l.trackAttempting(this.windowStartTime),this.connecting=!0,this.socketStage="start";try{const n=await this.getUrl();this.connection=new WebSocket(n)}catch(n){if(this.connecting=!1,t)throw n;this.reconnectIfNeeded();return}this.connecting=!1,this.socketStage="created",this.connection.onopen=n=>{if(this.state=null,this.socketStage="opened",!et("kill-rapid-reconnect-detect")){const o=performance.now();!this.windowStartTime||o-this.windowStartTime>=ece?(this.windowStartTime=o,this.connectionCount=1):this.connectionCount+=1,this.connectionCount>=tce&&(this.cooldownStart=o,this.windowStartTime=null,this.connectionCount=0,this.sendQueue=[])}this.onopen&&this.onopen(n),this.processSendQueue(),$("web-30s-ping")&&(this.clearPeriodicPingInterval(),this.periodicPingInterval=window.setInterval(()=>{this.autoReconnect?this.reconnectIfNeeded():this.connection&&this.connection.readyState===WebSocket.OPEN&&this.connection.send(JSON.stringify({event:"ping"}))},Xie)),this.reconnectIntervalIndex=0,this.reconnectTimeout&&(window.clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),$l.trackSuccess(this.windowStartTime)},this.connection.onmessage=n=>{if(this.socketStage="received",this.state!=="destroyed"){this.pingOnSend&&this.removePongTimeout();try{const o=JSON.parse(n.data);this.onmessage&&this.onmessage(o),o.event==="pong"&&(this.pingOnSend||this.removePongTimeout(),this.processSendQueue())}catch{}}},this.connection.onclose=n=>{this.connection&&this.connection.bufferedAmount>0&&this.cachedSendData&&(this.enqueueMessage(this.cachedSendData),this.cachedSendData=null),this.clearPeriodicPingInterval(),this.onclose&&this.onclose(n,this.socketStage),this.autoReconnect&&this.state===null&&!this.reconnectPaused&&this.reconnect(),this.removePongTimeout(),$l.trackDisconnected(this.windowStartTime)},this.connection.onerror=n=>{this.onerror&&this.onerror(n),this.connection&&this.connection.close(),this.removePongTimeout(),$l.trackError(this.windowStartTime)}}};reconnect=()=>{this.reconnectTimeout&&window.clearTimeout(this.reconnectTimeout);const t=this.getCooldownLeft();if(!et("kill-rapid-reconnect-detect")&&t!==null){if(t>0){this.reconnectTimeout=window.setTimeout(this.connect,t);return}this.cooldownStart=null,this.reconnectIntervalIndex=0}const n= __get$(this.reconnectIntervals,this.reconnectIntervalIndex) ;this.reconnectTimeout=window.setTimeout(this.connect,n),this.reconnectIntervalIndex=Math.min(this.reconnectIntervalIndex+1,this.reconnectIntervals.length-1)};processSendQueue=()=>{if(this.sendQueue.length>0){const t=this.sendQueue;this.sendQueue=[];for(const n of t)this.send(n.data,n.resendPolicy)}};enqueueMessage=t=>{if($("optimize-msg-queue")){if(t.resendPolicy==="ignore")return;if(this.sendQueue.length>=BS){const n=this.sendQueue.length-BS+1;this.sendQueue.splice(0,n)}}this.sendQueue.push(t)};reconnectIfNeeded=t=>{const n=t?Qie:Jie;if(!(this.state==="destroyed"||this.reconnectPaused)){if(!this.connection||this.connection.readyState!==WebSocket.OPEN){this.reconnect();return}this.pongTimeout===null&&(this.connection.send(JSON.stringify({event:"ping"})),this.pongTimeout=window.setTimeout(()=>{this.pongTimeout=null,this.connection?.close(),this.reconnect()},n))}};removePongTimeout(){this.pongTimeout!==null&&(window.clearTimeout(this.pongTimeout),this.pongTimeout=null)}clearPeriodicPingInterval(){this.periodicPingInterval!==null&&(window.clearInterval(this.periodicPingInterval),this.periodicPingInterval=null)}getCooldownLeft(){if(this.cooldownStart===null)return null;const t=performance.now()-this.cooldownStart;return Math.max(0,nce-t)}status(){return{connecting:this.connecting,readyState:this.connection?.readyState??-1,state:this.state,cooldownLeft:this.getCooldownLeft(),connectionCount:this.connectionCount,online:navigator.onLine,stage:this.socketStage}}send(t,n){if(this.state==="destroyed")return;const o={data:t,resendPolicy:n};if(this.connection&&this.connection.readyState===WebSocket.OPEN&&this.pongTimeout===null)try{this.cachedSendData=o,this.connection.send(t)}catch{this.enqueueMessage(o),this.connect()}else this.enqueueMessage(o),this.connect()}cleanup(){this.boundOnlineHandler&&window.removeEventListener("online",this.boundOnlineHandler),window.removeEventListener("offline",this.disconnect),this.boundVisibilityChange&&document.removeEventListener("visibilitychange",this.boundVisibilityChange),this.clearPeriodicPingInterval()}disconnect=()=>{this.connection&&(this.state="disconnected",this.connection.close())};destroy(){this.connection&&(this.state="destroyed",this.cleanup(),this.connection.close(),this.connection=null,this.windowStartTime=null,this.connectionCount=0,this.cooldownStart=null,this.reconnectPaused=!1)}pauseAutoReconnect(){this.reconnectPaused=!0}resumeAutoReconnect(){this.reconnectPaused=!1,this.autoReconnect&&this.reconnectIfNeeded()}sendPing(){this.reconnectIfNeeded(!0)}}async function ace( _hh$temp617 ={}){ var e=_hh$temp617.useMockConnection; const t=async( _hh$temp618 )=>{ var n=_hh$temp618.cursor; const s=!!dx()||!!mx()?$ie:"chat";return n?Vf(s,{cursor:n}):Vf(s)};try{return await Ki.get({getUrl:t})}catch(n){throw Ki.reset(),n}}async function _n( _hh$temp619 ={}){ var e=_hh$temp619.useMockConnection,t=_hh$temp619.connectionType; return Aa(()=>t==="temporary"?rce({useMockConnection:e}):ace({useMockConnection:e}),bn)}async function y3( _hh$temp620 ){ var e=_hh$temp620.getUrl; if(typeof WebSocket>"u")return{destroy:()=>{},send:()=>{},regenerate:()=>{},sendContext:()=>{},sendAudioStart:()=>{},sendAudio:()=>{},sendAudioEnd:()=>{},sendAudioClick:()=>{},setCharacterAppearance:()=>{},setCallType:()=>{},stop:()=>{},setOnEvent:()=>()=>{},setOnOpen:()=>{},setOnClose:()=>{},sendChallengeResponse:()=>{},sendActionResult:()=>{},sendMessagePreview:()=>{},updateChatOptions:()=>Promise.resolve(),reportLocalConsents:()=>Promise.resolve(),selectSxSMessage:()=>{},status:()=>({connecting:!1,readyState:-1,state:null,cooldownLeft:0,connectionCount:0,online:!1,stage:"start"}),resetConversationState:()=>{},resetConversationTiming:()=>{},setConversationIdByMessageId:()=>{},setMessageIdByTaskId:()=>{},setChatModeForConversation:()=>{},setInputMethodForConversation:()=>{},setUploadCountsForConversation:()=>{},callBeforeSendForConversation:()=>{},callOnSentForConversation:()=>{},setUserMessageForConversation:()=>{},onSubmitMessageBlocked:()=>{},sendCommandResults:()=>{},sendPing:()=>{}};const t=M1(),n=!!Z.instance().config().isBotDetectionEnabled;if($("client-side-request-challenge")&&!et("kill-client-side-request-challenge")&&n&&!t){const o=await Gie(),s=!o||await Wie();if(R.trackEvent({name:"system",data:{eventName:"botDetectionTriggered",eventInfo_result:s?"success":"failed",eventInfo_isBot:o}}),!s)return Promise.reject()}return  new Promise((o,s)=>{let a=!1;const r=et("kill-chat-auto-reconnect"),c=$("ping-on-send"),d=performance.now(),m=$("chat-connect-window")?[500,1e3,1500,2e3,5e3,1e4,2e4,3e4]:void 0,p=new sce({autoReconnect:!r,reconnectIntervals:m,pingOnSend:c}),h=new Hie(p);let v=null,y=null;p.getUrl=()=>e({cursor:h.latestMessagePartId}),p.onopen=async ()=>{const C=performance.now();p.onmessage=S=>{try{NC.parse(S);}catch(b){b instanceof ec&&Tr(b,"/chat");}h.processEvent(S);},await h.updateChatOptions(),await h.reportLocalConsents(),v&&v(),a=!0,o({destroy:()=>{p.destroy(),h.clearAllStreamingStates();},stop:(S={})=>{const _hh$temp621=S,b=_hh$temp621.conversationId,I=_hh$temp621.taskId;b&&h.onStop(b),p.send(JSON.stringify({event:"stop",conversationId:b})),I&&p.send(JSON.stringify({event:"send",conversationId:b,content:[{type:"command",command:{type:"cancelTask",taskId:I}}],mode:"research"})),b&&Le(b,x=>{for(const E of x)(E.author==="ai"&&E.streamingState==="streaming")&&(E.streamingState="idle");});},send:h.send,regenerate:h.regenerate,sendContext:(S,b)=>{p.send(JSON.stringify({event:"sendContext",conversationId:b,context:S}));},sendAudioStart:S=>{const b=lx.run(S),_hh$temp622=b,I=_hh$temp622.conversationId,x=_hh$temp622.options,E=_hh$temp622.clientType,k=_hh$temp622.mode,w=_hh$temp622.context,_={event:"audioStart",conversationId:I,mode:k,options:x,clientType:E,context:w};p.send(JSON.stringify(_));},sendAudio:S=>{const b={event:"audio",audio:S};p.send(JSON.stringify(b));},sendAudioEnd:()=>{const S={event:"audioEnd"};p.send(JSON.stringify(S));},sendAudioClick:(S,b)=>{h.sendAudioClick(S,b);},setCharacterAppearance:(S,b)=>{h.setCharacterAppearance(S,b);},setCallType:S=>{const b={event:"setCallType",callType:S};p.send(JSON.stringify(b));},sendChallengeResponse:h.sendChallengeResponse,setOnEvent:S=>{p.onmessage=b=>{try{NC.parse(b),h.processEvent(b);}catch(I){I instanceof ec&&Tr(I,"/chat");}S(b);};},setOnOpen:S=>{v=S;},setOnClose:S=>{y=S;},sendActionResult:h.sendActionResult,selectSxSMessage:S=>{const _hh$temp623=S,b=_hh$temp623.sideBySideComparisonId,I=_hh$temp623.selectedMessageId,x={event:"selectMessage",sideBySideComparisonId:b,selectedMessageId:I};p.send(JSON.stringify(x));},resetConversationState:h.resetConversationState,resetConversationTiming:h.resetConversationTiming,setConversationIdByMessageId:h.setConversationIdByMessageId,setMessageIdByTaskId:h.setMessageIdByTaskId,setChatModeForConversation:h.setChatModeForConversation,setInputMethodForConversation:h.setInputMethodForConversation,setUploadCountsForConversation:h.setUploadCountsForConversation,callBeforeSendForConversation:h.callBeforeSendForConversation,callOnSentForConversation:h.callOnSentForConversation,setUserMessageForConversation:h.setUserMessageForConversation,onSubmitMessageBlocked:h.onSubmitMessageBlocked,sendMessagePreview:h.sendMessagePreview.bind(h),updateChatOptions:h.updateChatOptions.bind(h),reportLocalConsents:h.reportLocalConsents.bind(h),status:()=>p.status(),sendCommandResults:h.sendCommandResults.bind(h),sendPing:()=>p.sendPing()}),R.trackEvent({name:"system",data:{eventName:"chatWebSocketOpened",eventInfo_duration:C-d}});},p.onclose=(C,S)=>{if(C.code!==1e3){const b={stage:S,code:C.code,reason:C.reason,wasClean:C.wasClean,online:navigator.onLine};R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"WebSocketUnexpectedClose",eventInfo_details:JSON.stringify(b)}}),$("socket-close-track")&&zie(b,Cm).catch(()=>{});}y&&y();},p.onerror=C=>{const S=C instanceof ErrorEvent?C.message:"Unknown WebSocket error";R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ChatWebsocketError",eventInfo_errorMessage:S,eventInfo_details:JSON.stringify(C)}}),a||(p.destroy(),s(new Error(`WebSocket connection error: ${S}`)));},p.initialize().catch(C=>{p.destroy();const S=C instanceof Error?C.message:"Unknown WebSocket error";R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ChatWebsocketInitializationError",eventInfo_errorMessage:S,eventInfo_details:C instanceof Error?C.stack??"":""}}),s(new Error(`WebSocket initialization error: ${S}`));});}) }async function Cm(){if(Ki.isInstantiated){const e=j(Lt),t=j(Yc),n=await Ki.get();n.stop(),n.destroy(),n.stop({conversationId:e?.id}),Ki.reset();try{R.trackEvent({name:"system",data:{eventName:"chatClientReset",eventInfo_isMessageStreaming:t}})}catch{}}}const Ki=new zs(e=>y3(e)),VS=new zs(e=>y3(e));async function rce( _hh$temp624 ={}){ var e=_hh$temp624.useMockConnection;  const _hh$temp625=await D(async ()=>{const _hh$temp626=await import(__get$ProxyUrl("./temporary-conversation-ChJ3QkFR.js","https://copilot.microsoft.com/static/cmc/assets/")),s=_hh$temp626.acquireSessionKey;return{acquireSessionKey:s};},__vite__mapDeps([445,1,7])),t=_hh$temp625.acquireSessionKey,n=await t(),o=async _hh$temp627=>{var s=_hh$temp627.cursor;const a={...s?{cursor:s}:{},temporarySessionKey:n};return Vf("chat",a);}; try{return await VS.get({getUrl:o})}catch(s){throw VS.reset(),s}}function ice(){const e=M(mt),t=W("account-change-chat-reset");u.useEffect(()=>{t&&Cm()},[e,t])}function C3(e){ const _hh$temp628=e,t=_hh$temp628.onStartComplete; u.useEffect(()=>{const n=()=>{t(),Ie.off("app:start-complete",n)};return Ie.on("app:start-complete",n),()=>{Ie.off("app:start-complete",n)}},[t])}function cce(){C3({onStartComplete:()=>{e()}});const e=()=>{try{const n="n59ae4ieqq";if(et("kill-clarity")||!t(n))return()=>{};window.clarity??=function(...r){window.clarity&&(window.clarity.q??=[]).push(r)};const s=document.createElement("script");return s.type="text/javascript",s.async=!0,s.src=`/cl/tag/${n}`,document.body.appendChild(s),window.clarity("signal",async a=>{if(a.type==="cl_dtrs"&&a.value){const r=j(Se);try{await Nt({path:"/clarity/signal",args:{body:{token:a.value,conversationId:r}}}),R.trackEvent({name:"system",data:{eventName:"copilotFeatureSuccess",eventInfo_feature:"Clarity",eventInfo_scenario:"Clarity signal event sent via API",eventInfo_customData:JSON.stringify(a)}})}catch(c){R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ClaritySignalError",eventInfo_details:"Failed to send clarity via API",eventInfo_errorMessage:c instanceof Error?c.message:"Unknown clarity signal error"}})}}}),window.clarity("metadata",()=>{Xf({surface:"cmc"});const a=j(T1);a!==null&&Xf({isNewUser:a.toString()})},!1,!0),()=>{delete window.clarity,s.remove()}}catch(n){return R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"useClarity",eventInfo_details:"Error loading Clarity",eventInfo_errorMessage:String(n)}}),()=>{}}},t=n=>n.trim()!==""}async function Lp(e,t){if(!(t==="user"&&(await ZY.run({theme:e})).intercepted)){if(Z.instance().config().persistThemeChoice){const o=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e!==o?(qt(ws,e),ls(ws,e,{expireDays:365*10})):(ft(ws),Rr(ws))}document.documentElement.setAttribute("data-theme",e),Ie.emit("theme:color-applied",e)}}function lce(){const e=cs(ws),t=vd()==="ssr"?null:Mt(ws);return e??t??null}function uce(){ const _hh$temp629=Z.instance().config(),e=_hh$temp629.persistThemeChoice,t=_hh$temp629.enforceTheme,_hh$temp630=__arrayFrom$(Re(fs)),n=_hh$temp630[0],o=_hh$temp630[1]; u.useEffect(()=>{const s=window.matchMedia("(prefers-color-scheme: dark)"),a=c=>{const d=c.matches?"dark":"light";o(d),Lp(d,"system"),e&&(ft(ws),Rr(ws))};let r=e?lce():"";return r!=="dark"&&r!=="light"&&(r=s.matches?"dark":"light"),t&&(r=t),o(r),Lp(r,"system"),s.addEventListener("change",a),()=>{s.removeEventListener("change",a)}},[o,e,t]),u.useEffect(()=>{n&&Lp(n,"user")},[n])}const M0=new Set;function dce(e=!1){return Mt(Cf)!==null&&!e?!1:(ft(Cd),ft(Nr),gce(),qt(Cf,"true"),!0)}function S3(){return parseInt(Mt(Cd)??"0",10)}function mce(){return new Date(Mt(Nr)??new Date().toISOString())}function pce(e){Mt(Nr)||qt(Nr,e)}function fce(e){let t;try{t=S3()}catch{t=0}t<xf&&(t+=1,qt(Cd,`${t}`),M0.add(e),t===xf&&pce(new Date().toISOString()))}function hce(e){e&&(M0.has(e)||fce(e))}function gce(){M0.clear()}function vce(){const e=kt(),t=q(BT);u.useEffect(()=>{e&&dce()&&t(!0)},[e,t])}function yce(){u.useEffect(()=>{if(window.ReportingObserver===void 0)return()=>{};const e= new ReportingObserver(t=>{for(const n of t){if(n.type!=="csp-violation"||!n.body)continue;const _hh$temp631=n,o=_hh$temp631.body,_hh$temp632=o,s=_hh$temp632.blockedURL,a=_hh$temp632.documentURL,r=_hh$temp632.effectiveDirective,c=_hh$temp632.disposition;console.error("Reporting CSP violation",{blockedURL:s,documentURL:a,effectiveDirective:r,disposition:c}),R.trackEvent({name:"system",data:{eventName:"copilotCSPViolation",eventInfo_blockedURL:s,eventInfo_documentURL:a,eventInfo_effectiveDirective:r,eventInfo_disposition:c}});}},{buffered:!0,types:["csp-violation"]}) ;return e.observe(),()=>{e.disconnect()}},[])}function Cce(){const e=W("custom-1ds"),t=M(Ut);u.useEffect(()=>{if(!e||!Z.instance().config().enableCustom1DS)return Hw(),()=>{};if(!t)return()=>{};const n=()=>{if(window.oneDS){ const _hh$temp633=window.oneDS,a=_hh$temp633.ApplicationInsights; return new a}},o=()=>{window.OneDsAzureAnalytics=window.OneDsAzureAnalytics??n();function a(){return!!!window.OneDsAzureAnalytics?.getCookieMgr().get("MSCC")}const r={adobe:a(),google:a()},c={instrumentationKey:"c72e6b24df604532a6282edd268b4ba4-9cdee1fe-5d2f-4626-9620-dbad9b53a8e5-8065",channelConfiguration:{eventsLimitInMem:50,autoFlushEventsLimit:1},propertyConfiguration:{userConsentCookieName:gd.name,gpcDataSharingOptIn:KI(),callback:{userConsentDetails:()=>{if(!bd.includes(t))return{Required:!0,Analytics:!0,SocialMedia:!0,Advertising:!0};const d=Ma();return{Required:Object.values(d).includes(!0),Analytics:d.analytics,SocialMedia:d.socialMedia,Advertising:d.advertising}}}},webAnalyticsConfiguration:{coreData:{appId:"JS:Copilot_microsoft_com"},cookiesToCollect:["_mkto_trk"],urlCollectQuery:!0,syncMuid:a()},extensionConfig:{IdSyncPlugin:r}};window.postConsAzure1DSInit||(window.OneDsAzureAnalytics?.initialize(c,[]),window.postConsAzure1DSInit=!0)},s=document.createElement("script");return s.src="https://az416426.vo.msecnd.net/scripts/c/ms.analytics-web-4.min.js",s.async=!0,s.onload=o,document.head.appendChild(s),()=>{document.head.removeChild(s)}},[e,t])}function Sm(){ const _hh$temp634=__arrayFrom$(Re(Y$)),e=_hh$temp634[0],t=_hh$temp634[1],n=ln(); return u.useEffect(()=>{n.endsWith("/chats/new/talk")&&(R.setLandingPage("deepLinkVoiceCall"),t("audioCall"))},[n,t]),[e,()=>t(null)]}function b3(e){ const _hh$temp635=e??{},_hh$temp635$deferred=_hh$temp635.deferred,t=_hh$temp635$deferred===void 0?!1:_hh$temp635$deferred,n=O2(),_hh$temp636=__arrayFrom$(Re(v1)),o=_hh$temp636[0],s=_hh$temp636[1],a=q(el); u.useEffect(()=>{const d=o$();d&&s(d)},[n.search,s]);const r=u.useCallback(()=>{s(null)},[s]),c=u.useCallback(d=>{d&&a({source:"promptInUrl",prompt:d})},[a]);return u.useEffect(()=>{o&&!t&&c(o)},[t,c,o]),{prompt:o,handler:t?c:void 0,clear:r}}function Sce(){const e=W("prompt-pt-learn-partial"),t=W("prompt-pt-learn-full"),n=W("prompt-pt-learn-fill"),o=W("prompt-pt-advice-partial"),s=W("prompt-pt-advice-full"),a=W("prompt-pt-advice-fill"),r=W("prompt-pt-ideas-partial"),c=W("prompt-pt-ideas-full"),d=W("prompt-pt-ideas-fill"),m=W("prompt-pt-msn-answers"),p=W("prompt-pt-msn-headlines"),h=W("prompt-pt-msn-events"),v=W("prompt-pt-msn-answers-full"),y=W("prompt-pt-msn-headlines-full"),C=W("prompt-pt-msn-events-full"),S=R.getFormCode();let b=null,I=!1,x=!1,E=!1;switch(S){case"NTPCHB":{e||t||n?b="teach":o||s||a?b="advice":(r||c||d)&&(b="ideas"),I=e||o||r,x=t||s||c,E=n||a||d;break}case"MSNCHB":{m||v?b="answers":p||y?b="headlines":(h||C)&&(b="events"),x=v||y||C,E=m||p||h;break}default:b=null}let k=null;I?k="prefix":(x||E)&&(k="complete");let w=null;return I||E?w="partial":x&&(w="full"),{formCode:S,treatment:b,lengthVariant:k,passthroughType:w}}function I3(e){ const _hh$temp637=__arrayFrom$(u.useState(!1)),t=_hh$temp637[0],n=_hh$temp637[1],o=M(uu),s=u.useRef(e); return u.useEffect(()=>{s.current=e},[e]),u.useEffect(()=>{async function a(){if(!o)return;await(s.current??(()=>Promise.resolve(!1)))()&&n(!0)}a().catch(()=>{})},[o]),t}function bce(){return!1}function Ice(){const e=kt(),t=!!M(Jd),o=M(Ut)==="US";return M(J$)&&e&&!t&&o}function Ece(){return I3(Z.instance().config().actions?.enableActionsModeDropdown)}function E3(){const e=Ece(),t=Ice();return e&&t}function wce(){return I3(Z.instance().config().actions?.enableActionsV2Model)}function $6e(){return wce()}function R0(){const e=W("coco-mode"),t=M(yt)?.ageGroup==="adult";return e&&t}function Tce(e,t){ const _hh$temp638=t??{},_hh$temp638$isBrowserActionsModeEnabled=_hh$temp638.isBrowserActionsModeEnabled,n=_hh$temp638$isBrowserActionsModeEnabled===void 0?!1:_hh$temp638$isBrowserActionsModeEnabled,_hh$temp638$isCocoModeEnabled=_hh$temp638.isCocoModeEnabled,o=_hh$temp638$isCocoModeEnabled===void 0?!1:_hh$temp638$isCocoModeEnabled; switch(e){case"td":return"reasoning";case"sm":return"smart";case"cs":return"search";case"st":return"study";case"co":return o?"coco":null;case"ba":return n?"browserAction":null;case"ac":return"computerUse";default:return null}}let ph=null;function xce(){const e=q(Qw),t=E3(),n=R0();u.useEffect(()=>{const o=t$(),s=r$();ph??=o;const a=o??ph,r=a?Tce(a,{isBrowserActionsModeEnabled:t,isCocoModeEnabled:n}):null;r&&yn(r),s&&e(!0)},[t,n,e])}function Ace(){return ph}function w3(e){ const _hh$temp639=e??{},_hh$temp639$deferred=_hh$temp639.deferred,t=_hh$temp639$deferred===void 0?!1:_hh$temp639$deferred,n=!!M(Se),o=M(Qr),_hh$temp640=__arrayFrom$(Re(g1)),s=_hh$temp640[0],a=_hh$temp640[1],r=q(el),c=ln(),d=c.startsWith("/chats")&&c!=="/chats/new",m=hs(); u.useEffect(()=>{const y=Ace()==="ac"||d?null:n$();if(y){const C=p$();a({prompt:y,inputMethod:C}),r({source:"queryInUrl",prompt:y})}},[r,a,d]);const p=u.useCallback(()=>{a(null)},[a]),h=u.useCallback(v=>{v&&(r({source:"queryInUrl",prompt:v}),(async()=>{if(n&&o&&v){const C=performance.now(),S=s?.inputMethod??"queryParam";await io(),await Mo.submitMessage({text:v,inputMethod:S,messageStartTime:C,connectionType:m?"temporary":"regular"}),p()}})().catch(console.error))},[r,n,o,p,s,m]);return u.useEffect(()=>{!t&&s&&h(s.prompt)},[t,h,s]),{prompt:s?.prompt??null,handler:t?h:void 0,clear:p}}function T3(){const e=_ce(),t=kce();return e.prompt?e:t}function _ce(){ const _hh$temp641=Y(),e=_hh$temp641.t,_hh$temp642=Sce(),t=_hh$temp642.formCode,n=_hh$temp642.lengthVariant,o=_hh$temp642.treatment,s=_hh$temp642.passthroughType; if(t&&n&&o){const a=e(`promptsByFormCode.${t}.${o}.${n}`,"");return{passthroughType:s,prompt:a,source:a?{type:"formCode",formCode:t}:void 0}}return{passthroughType:null}}function kce(){ const _hh$temp643=b3({deferred:!0}),e=_hh$temp643.prompt,_hh$temp644=w3({deferred:!0}),t=_hh$temp644.prompt; let n=null,o;return e?(n="partial",o=e):t&&(n="full",o=t),{passthroughType:n,prompt:o,source:o?{type:"query"}:void 0}}function Pce(e){ const _hh$temp645=b3({deferred:!0}),t=_hh$temp645.handler,_hh$temp646=w3({deferred:!0}),n=_hh$temp646.handler,_hh$temp647=T3(),o=_hh$temp647.passthroughType,s=_hh$temp647.prompt,a=u.useCallback(d=>{R.setLandingPage("chatWithPartialPromptPassthrough"),t(d);},[t]),r=u.useCallback(d=>{R.setLandingPage("chatWithFullPromptPassthrough"),n(d);},[n]),c=u.useCallback(()=>{if(s&&o)switch(o){case"partial":a(s);break;case"full":r(s);break;}},[r,a,o,s]); u.useEffect(()=>{e&&c()},[e,c])}function Mce(){ const e=ln(),t=u.useRef(!1),n=M(yt),_hh$temp648=__arrayFrom$(Re(go)),o=_hh$temp648[0],s=_hh$temp648[1],a=$s(); u.useEffect(()=>{e.startsWith("/chats")&&Rt("appearance-talk")==="1"&&(t.current=!0)},[e]),u.useEffect(()=>{a&&n&&t.current&&(t.current=!1,s($a))},[n,t,o,s,a])}function Yt(){return U2({select:t=>t.at(-1)?.pathname??"/"})}function q6e(){return W("edu-discovery-cross-sell")}function Rce(){return qc(["study-mode-lumi","study-mode-summary"],"any")}function Nce(){return!!M(go)}function K6e(){const e=Rce(),t=Nce();return e&&t}function x3(){return W("study-mode-homepage")}function A3(e){u.useEffect(()=>{const t=()=>{e()};return st.on("languageChanged",t),()=>{st.off("languageChanged",t)}},[e])}function N0(){const e=c$()??l$();if(e&&u$(e))return e}async function Lce(e,t){const n="/activation/homepage";return(await ut(n,BW,{query:{supportedWidgets:e.join(","),...t?{intent:t}:{}},options:{method:"GET",headers:{"Content-Type":"application/json"}},analytics:{anonymousPath:n}})).data}const Y6e=1e3*15,fh=1e3*60*60,Z6e=1e3*60,Dce={refetchInterval:fh,refetchOnWindowFocus:!1,staleTime:fh};function HS(e,t){if(e)return["conversation-starter"];const n=["conversation-starter","conversation-starter-prompted-greeting","categorized-conversation-starter","conversation-starter-send-message"];return $("feature-discovery")&&n.push("banner"),t&&n.push("study-and-learn"),n}function Oce(){ const e=q(J_),_hh$temp649=__arrayFrom$(u.useState(!1)),t=_hh$temp649[0],n=_hh$temp649[1],o=N0(),s=q(ym),a=rt("kill-landing-widgets"),r=x3(),c=!!Z.instance().config().landingPage?.shouldFetchWidgetsData; C3({onStartComplete:()=>{n(!0)}}); const d=t&&c,_hh$temp650=Fo({queryKey:["homepage",HS(a,r),o],enabled:d,queryFn:()=>Lce(HS(a,r),o),...Dce}),m=_hh$temp650.data,p=_hh$temp650.isLoading,h=_hh$temp650.error,v=_hh$temp650.refetch; u.useEffect(()=>{s(p)},[p,s]),A3(()=>d&&v()),u.useEffect(()=>{if(m?.pages){const y=m.pages[0];y&&e(y)}},[m,e]),u.useEffect(()=>{h&&(R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"homepage",eventInfo_errorMessage:String(h),eventInfo_details:"Homepage API error"}}),s(!1),e(void 0))},[h,e,s])}function Uce(){const e=M(I0),t=mi(),o=Yt()==="/",s=e&&t&&o;return u.useMemo(()=>{if(s)return{type:"greeting",greetingMessage:e}},[e,s])}function Fce(e=5){const t=M(Se),n=M(qd),o=M(Ut),s=kt(),a=um(o),r=M(C1),c=hs(),d=et("kill-id-sync");u.useEffect(()=>{ const _hh$temp651=Z.instance().config(),m=_hh$temp651.enforceAdsOptOutOfPersonalization; if(t&&n){const p=ug(),v=Ma().advertising;if(R.trackEvent({name:"system",data:{eventName:"copilotAdsSignal",eventInfo_scenario:"syncAdvertisingId",eventInfo_conversationId:t,eventInfo_additionalData:JSON.stringify({isIdSyncDisabled:d,isTemporaryConversation:c,isAuthenticated:s,isAdPersonalizationEnabled:v,enforceAdsOptOutOfPersonalization:m,isGdprPlusRegion:a,isChoiceCookieEmpty:!p})}}),c||d)return;const y=new URLSearchParams;if(y.append("cpid",n),y.append("cvid",t),s&&y.append("cp","1"),p){if(a&&!v)return;v&&!m?y.append("ps","1"):y.append("ps","0")}else{if(a)return;y.append("ps","1")}const C=`https://c.bing.com/cp?${y}`,S=performance.now();Aa(async()=>{const b=await fetch(C,{method:"GET",mode:"no-cors",credentials:"include"}),I=performance.now();gT(C,"GET",I-S,b.clone())},{maxRetries:e,initialDelayMs:1e3,backoffFactor:2,maxDelayMs:6e4,jitterFactor:0,onFailure:( _hh$temp652 )=>{ var b=_hh$temp652.attemptCount,I=_hh$temp652.errors,x=_hh$temp652.exitReason; const E= __get$(I,I.length-1) ,k={errorType:E?.errorType??"Unknown",errorMessage:E?.errorMessage??"Unknown error",attemptNumber:b,maxRetries:e,url:C,userAgent:navigator.userAgent,onlineStatus:navigator.onLine,exitReason:x};R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"AdsError",eventInfo_errorMessage:"Ads Id Sync failed with error",eventInfo_details:JSON.stringify(k)}})}}).catch(()=>{})}},[r,t,o,e,d,a,n,s,c])}function jce( _hh$temp653 ){ var e=_hh$temp653.upsellEligibleSubscription,t=_hh$temp653.requiresPremium; const n=M(ei);return u.useMemo(()=>{const o=_q(n,e);return o||Aq(n,t)},[e,t,n])}const zS="cmmipliy5qj";function Bce(e){ const _hh$temp654=e,t=_hh$temp654.ocid,n=new URL("https://aka.ms/AA84f4p"); return n.searchParams.append("ocid",t),n.toString()}function Vce(e){ const _hh$temp655=Z.instance().config().proSubscription,t=_hh$temp655.urlParams; if(!t)return zS; const _hh$temp656=t,n=_hh$temp656.ocids; return  __get$(n,e) ?.buy??zS}const Hce="https://account.microsoft.com/services/copilot/details",zce="https://account.microsoft.com/services/microsoft365/details",J6e="https://account.microsoft.com/";function Q6e( _hh$temp657 ){ var e=_hh$temp657.entryPoint,t=_hh$temp657.isPro;  const _hh$temp658=Z.instance().config().proSubscription,n=_hh$temp658.manageRefId,o=`copilot.${n}.${e}`,s=new URL(t?Hce:zce); return s.searchParams.append("ref",o),s.hash="billing",s.toString()}function Gce(e){Z.instance().config().subscribeInNewWindow?ui(e):O1(e)}function Wce(e){ const _hh$temp659=e,t=_hh$temp659.instanceId,n=_hh$temp659.payflowEntryPoint,o=_hh$temp659.requiresPremium,s=_hh$temp659.userProfileId,a=new URL("/subscription/start",__get$(window,"location").origin),_hh$temp660=Z.instance().config().proSubscription,r=_hh$temp660.sourceIdentifier,c=_hh$temp660.manageRefId; if(a.searchParams.set("pfcid",t),a.searchParams.set("pff",r??c),s){const d=s.slice(-10);a.searchParams.set("pfah",d)}return a.searchParams.set("pfe",n),a.searchParams.set("pfrp",o?"1":"0"),a}function $ce(e){return u.useCallback(()=>{const t=Bce({ocid:e});to({scenario:"redirectToExternalUpsell",customData:{url:t}}),Gce(t)},[e])}const qce="https://content.lifecycle.office.net/dime/v1/dime.js";function Kce(){return new Promise((e,t)=>{const n=performance.now(),o=document.createElement("script");o.src=qce,o.type="text/javascript",o.async=!0,o.onload=()=>{to({scenario:"loadDimeScript",duration:performance.now()-n}),e()},o.onerror=()=>{const s=new Error("Failed to load Dime script");co({...Ea(s),scenario:"loadDimeScript",customData:{duration:performance.now()-n}}),t(s)},document.head.appendChild(o)})}const GS=new zs(Kce);async function Yce( _hh$temp661 ){ var e=_hh$temp661.language,t=_hh$temp661.market,n=_hh$temp661.sessionId; const o={language:e,market:t,sessionId:n},s=performance.now();try{ const _hh$temp662=__arrayFrom$(await Promise.all([aZ(),GS.get()])),a=_hh$temp662[0]; to({scenario:"prepareDimeInitialization",duration:performance.now()-s,customData:o}),a||co({scenario:"initializeDime",errorCode:"noUserInfo",customData:o}),a?.username||co({scenario:"initializeDime",errorCode:"NoMSAAuthHint",customData:o}),a?.idTokenClaims?.puid||co({scenario:"initializeDime",errorCode:"NoMSAPuid",customData:o});const r=new window.Dime({language:e,market:t,sessionId:n,partnerId:"cmc",authHint:a?.username,userInfo:{puid:a?.idTokenClaims?.puid}});return to({scenario:"initializeDime",duration:performance.now()-s,customData:o}),r}catch(a){return GS.reset(),co({...Ea(a),scenario:"initializeDime",customData:{...o,duration:performance.now()-s}}),null}}const WS=new zs(e=>Yce(e));class Zce{#e=Xt("payflowCorrelationId")??crypto.randomUUID();#t;#n=!1;ensureDime=async( _hh$temp663 )=>{ var t=_hh$temp663.language,n=_hh$temp663.market; const o=performance.now(),s={language:t,market:n,sessionId: __get$(this,"e") }; __get$(this,"t") &&t!== __get$(this,"t") &&(this.reset(),to({scenario:"resetDimeForLanguageChange",customData:s})),this.#t=t;const a=await WS.get({language:t,market:n,sessionId: __get$(this,"e") });return to({scenario:"ensureDime",duration:performance.now()-o,customData:s}),a};get sessionId(){return  __get$(this,"e") }get preloaded(){return  __get$(this,"n") }overrideSessionId=t=>{this.reset(),this.#e=t};setPreloaded=()=>{this.#n=!0};reset=()=>{WS.reset(),this.#n=!1}}const Ir=new Zce,$S="ms-copilot://chat",Jce="ms-copilot://subscription",Qce=1e3;function Xce(e){if(typeof window>"u")return new URLSearchParams;const t=new URLSearchParams,n=R.getFormCode();n&&t.set("form",n);const o=zw();return o&&t.set("ocid",o),e?.prompt&&t.set("q",e.prompt),t}function ele(e){return e?`${$S}?${e.toString()}`:$S}function tle(e){const t=new URLSearchParams({pfcid:e});return`${Jce}?${t.toString()}`}async function _3(e){if(!d5()||!e)return!1;try{const t=document.createElement("iframe");return t.style.display="none",t.src=e,document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},Qce),!0}catch{return!1}}async function nle(e){const t=Xce(e),n=ele(t);return _3(n)}function ole(e){const t=W("subs-return-wcp");return u.useCallback(async n=>{if(t&&e.includes("FromWinChromium"))try{const o=tle(n);if(!await _3(o))throw new Error("Protocol launch failed");to({scenario:"launchCopilotSubscriptionProtocol",customData:{payflowInstanceId:n}})}catch(o){co({...Ea(o),scenario:"launchCopilotSubscriptionProtocolFailed",customData:{payflowInstanceId:n}})}},[t,e])}function sle( _hh$temp664 ){ var e=_hh$temp664.payflowEntryPoint,t=_hh$temp664.upsellReason,n=_hh$temp664.entryStyle,o=_hh$temp664.dimeExperience,s=_hh$temp664.shouldTrackPayflowEnter;  const a=M(Ut),_hh$temp665=Y(),_hh$temp665$i18n=_hh$temp665.i18n,r=_hh$temp665$i18n.resolvedLanguage,c=M(fs),d=M(mt),m=M(qa),p=W("subs-hot-reload"),h=u.useMemo(()=>Vce(e),[e]),v=$ce(h),y=ole(e),C=u.useMemo(()=>({payflowEntryPoint:e,upsellReason:t??"unknown",loginProvider:d?.accountType??"unknown",curatedSubscription:m?.tier??b1,campaignId:h,dimeMarket:a??"unknown",correlationId:Ir.sessionId,dimeExperienceId:o??"",upsellEntryStyle:n}),[e,t,d?.accountType,m?.tier,h,a,o,n]); return{launchDime:u.useCallback(async b=>{const I={...C,payflowInstanceId:b};s&&vT({...I});try{if(!o)throw new Error("No dime experience available");const x=await Ir.ensureDime({language:Pq(r??"en-US"),market:a});if(!x)throw new Error("Dime not a valid instance");vq({...I,dimeExperienceId:o});let E=!1,k;if((await x.launch({experience:o,theme:c??"light",campaignId:h},async()=>{if(yq({...I,dimeExperienceId:o}),p){const _=performance.now();try{await Dee(),E=!0;const N=performance.now()-_;to({scenario:"dimeCheckoutHotReloadSucceeded",duration:N,customData:{payflowInstanceId:b}})}catch(N){k=N}}})).status==="Success"){if(await y(b),E)return;k&&co({...Ea(k),scenario:"dimeCheckoutHotReloadFailed",customData:{payflowInstanceId:b}}),Gs()}else Cq({...I,dimeExperienceId:o})}catch(x){Sq({...C,...Ea(x),payflowInstanceId:b,dimeExperienceId:o??""}),v()}},[r,a,c,o,h,C,s,v,p,y]),openDimeFallbackPage:v}}function ale(e){ const t=u.useRef(null),n=M(mt),o=M(xK),_hh$temp666=e,s=_hh$temp666.upsellEntryStyle,a=_hh$temp666.payflowEntryPoint,r=_hh$temp666.upsellReason,c=_hh$temp666.payflowType,d=n?.accountType??"unknown",m=u.useCallback(h=>{const v=Iq({upsellEntryStyle:s,payflowEntryPoint:a,upsellReason:r,loginProvider:d,payflowType:c,actionButton:h?.actionButton,curatedSubscription:o});t.current=v;},[o,s,a,r,c,d]),p=u.useCallback(h=>{const _hh$temp667=h,v=_hh$temp667.payflowInstanceId,y=_hh$temp667.actionButton,C=t.current;C||co({errorCode:"InvalidImpressionId",errorDetails:"trackClick called before trackImpression - impression ID is missing",scenario:"unknownPayflowEntryPointInSubscriptionStart",customData:{payflowEntryPoint:a,payflowInstanceId:h.payflowInstanceId}}),Eq({payflowEntryImpressionId:C??"",loginProvider:d,upsellEntryStyle:s,payflowEntryPoint:a,upsellReason:r,payflowType:c,payflowInstanceId:v,actionButton:y});},[s,a,r,c,d]); return{trackImpression:m,trackClick:p}}function rle(){const e=W("subs-inline-checkout"),t=M(ei);return e&&t.length===0&&Z.instance().config().proSubscription.enabled}function ile(){const e=rt("kill-subs-dime"),t=rle(),n=Z.instance().config().proSubscription.redirectSubscriptionToCMC??!1,o=!e&&!t&&!n;return{payflowType:u.useMemo(()=>n?"CMC-DIME":t?"ProSubPaywall":o?"DIME":"UniPux",[o,t,n]),shouldUseDime:o,isInlineCheckoutEnabled:t,shouldRedirectToCMC:n,killSubsDime:e,willStayInApp:!!(o||t)}}function cle( _hh$temp668 ){ var e=_hh$temp668.shouldUseDime,t=_hh$temp668.enableDimePreload,n=_hh$temp668.dimeExperience;  const o=M(Ut),_hh$temp669=Y(),_hh$temp669$i18n=_hh$temp669.i18n,s=_hh$temp669$i18n.resolvedLanguage,a=M(mt),r=M(Qr); u.useEffect(()=>{e&&t&&n&&a?.accountType==="MSA"&&r&&!Ir.preloaded&&(async()=>{const d=await Ir.ensureDime({language:s??"en-US",market:o}),m={language:s,market:o,sessionId:Ir.sessionId,experiences:n};if(d){const p=performance.now();try{await d.preload({experiences:[n]}),to({scenario:"preloadDime",duration:performance.now()-p,customData:m})}catch(h){co({scenario:"preloadDime",...Ea(h),customData:{...m,duration:performance.now()-p}})}finally{Ir.setPreloaded()}}else co({scenario:"preloadDime",...Ea(new Error("Dime not a valid instance")),customData:m})})()},[e,t,n,a?.accountType,r,s,o])}function lle( _hh$temp670 ){ var e=_hh$temp670.payflowEntryPoint,t=_hh$temp670.upsellReason,n=_hh$temp670.entryStyle,o=_hh$temp670.isInlineCheckoutEnabled,s=_hh$temp670.shouldUseDime;  const a=M(Ut),r=M(Jd),c=M(mt),d=M(qa),m=M(yt),p=q(aq),h=q(oq),v=q(rq),y=rt("kill-subs-user-mismatched-dialog"),_hh$temp671=kq(d??null),C=_hh$temp671.shouldRedirectMobile,S=_hh$temp671.redirectMobileSource; return u.useCallback(()=>{if(a&&i5.includes(a))return to({scenario:"subscriptionRegionRestricted",customData:{region:a}}),null;if(r)return to({scenario:"subscriptionUserAgeRestricted"}),null;if(C&&S!==null)return p({source:S,entryStyle:n,upsellReason:t,payflowEntryPoint:e}),null;if((o||s)&&c?.provider==="auth0")return j(cT)?(lo("shouldStartSubscription",!0),lo("parsedPayflowEntryPoint",e),Gs(),null):(lo("parsedPayflowEntryPoint",e),h({source:"Composer"}),null);let b=Xt("payflowInstanceId");b||(b=crypto.randomUUID(),lo("payflowInstanceId",b),co({scenario:"missingPayflowInstanceId",errorCode:"payflowInstanceIdMissing",customData:{generatedPayflowInstanceId:b}}));const I=Xt("payflowAuthHint"),x=m?.id.toLowerCase()??"";if(typeof m?.id=="string"&&typeof I=="string"&&I.length>0&&!x.endsWith(I.toLowerCase())&&!x.startsWith(I.toLowerCase()))if(y)bq({correlationId:Xt("payflowCorrelationId")??"",payflowInstanceId:b});else return v({correlationId:Xt("payflowCorrelationId")??"",payflowInstanceId:b,payflowEntryPoint:e}),null;return b},[a,r,C,S,o,s,c?.provider,e,m?.id,y,p,n,t,h,v])}const ule=e=>{ const _hh$temp672=e,t=_hh$temp672.beforeNavigate,n=_hh$temp672.payflowEntryPoint,o=_hh$temp672.upsellReason,s=_hh$temp672.upsellEntryStyle,a=_hh$temp672.requiresPremium,r=si(),c=Yt(),d=M(mt),m=M(qa); return u.useCallback(async p=>{vT({payflowEntryPoint:n,upsellReason:o??"unknown",loginProvider:d?.accountType??"unknown",curatedSubscription:m?.tier??b1,upsellEntryStyle:s,correlationId:p,payflowInstanceId:p}),t?.(),await r({to:"/subscription/pricing",from:c,search:{"payflow-correlationId":p,"entry-point":n,pfrp:JSON.stringify(a)}})},[s,c,n,o,d?.accountType,t,r,m?.tier,a])};async function dle(e){ const _hh$temp673=e,t=_hh$temp673.payflowEntryPoint,n=_hh$temp673.requiresPremium,o=_hh$temp673.instanceId,s=j(yt),a=Wce({instanceId:o,payflowEntryPoint:t,requiresPremium:n,userProfileId:s?.id}); await tZ.run({url:a})}function mle(e){ const _hh$temp674=e,t=_hh$temp674.payflowEntryPoint,n=_hh$temp674.upsellReason,o=_hh$temp674.entryStyle,_hh$temp674$requiresPremium=_hh$temp674.requiresPremium,s=_hh$temp674$requiresPremium===void 0?!1:_hh$temp674$requiresPremium,_hh$temp674$enableDimePreload=_hh$temp674.enableDimePreload,a=_hh$temp674$enableDimePreload===void 0?!1:_hh$temp674$enableDimePreload,r=_hh$temp674.upsellEligibleSubscription,_hh$temp674$shouldTrackPayflowEnter=_hh$temp674.shouldTrackPayflowEnter,c=_hh$temp674$shouldTrackPayflowEnter===void 0?!0:_hh$temp674$shouldTrackPayflowEnter,d=_hh$temp674.beforeNavigate,_hh$temp675=ile(),m=_hh$temp675.payflowType,p=_hh$temp675.shouldUseDime,h=_hh$temp675.isInlineCheckoutEnabled,v=_hh$temp675.shouldRedirectToCMC,y=_hh$temp675.killSubsDime,C=_hh$temp675.willStayInApp,_hh$temp676=ale({upsellEntryStyle:o,payflowEntryPoint:t,upsellReason:n??"",payflowType:m}),S=_hh$temp676.trackClick,b=_hh$temp676.trackImpression,I=M(Qr),x=lle({payflowEntryPoint:t,upsellReason:n,entryStyle:o,isInlineCheckoutEnabled:h,shouldUseDime:p}),E=u.useRef(!1),k=jce({upsellEligibleSubscription:r,requiresPremium:s}); cle({shouldUseDime:p,enableDimePreload:a,dimeExperience:k}); const w=ule({beforeNavigate:d,payflowEntryPoint:t,upsellReason:n,upsellEntryStyle:o,requiresPremium:s}),_hh$temp677=sle({payflowEntryPoint:t,upsellReason:n,entryStyle:o,dimeExperience:k,shouldTrackPayflowEnter:c}),_=_hh$temp677.launchDime,N=_hh$temp677.openDimeFallbackPage,L=u.useCallback(async ()=>{if(!I){to({scenario:"subscriptionUserNotFetched"}),E.current=!0;return;}E.current=!1;const F=x();if(F){if(uo("payflowRequiresPremium"),uo("payflowCorrelationId"),uo("payflowAuthHint"),v){await dle({instanceId:F,payflowEntryPoint:t,requiresPremium:s});return;}if(h&&!Mq(t)){await w(F);return;}if(y){N();return;}await _(F);}},[y,h,t,_,N,I,w,v,x,s]); return u.useEffect(()=>{I&&E.current&&(E.current=!1,L())},[I,L]),{handleSubscription:u.useCallback(async F=>{const K=crypto.randomUUID();return lo("payflowInstanceId",K),S({payflowInstanceId:K,actionButton:F?.actionButton}),L()},[S,L]),handleResumeSubscriptionWithCurrentInstanceId:L,willStayInApp:C,payflowType:m,trackImpression:b}}function cl(){const e=M(yt),t=M(UT),n=M(qa),o=M(ei),s=M(Jd),a=M(Ut);return u.useMemo(()=>Z.instance().config().proSubscription.enabled?e?n?.tier==="m365-premium-admin"||t?{eligibleSubscriptionUpgrades:[],disabledReason:"AlreadyPurchased"}:s?{eligibleSubscriptionUpgrades:[],disabledReason:"RestrictedAgeGroup"}:!a||i5.includes(a)?{eligibleSubscriptionUpgrades:[],disabledReason:"RestrictedRegion"}:n?.tier==="m365-family-guest"||n?.tier==="m365-premium-guest"||n?.tier==="m365-family-classic-guest"?{eligibleSubscriptionUpgrades:[],disabledReason:"Guest"}:o.length===0?{eligibleSubscriptionUpgrades:["m365-personal","m365-premium"]}:o.some(r=>r.tier==="pro")?{eligibleSubscriptionUpgrades:["m365-premium"]}:o.some(r=>CT.includes(r.tier))?{eligibleSubscriptionUpgrades:[]}:o.some(r=>ST.includes(r.tier))?{eligibleSubscriptionUpgrades:["m365-premium"]}:{eligibleSubscriptionUpgrades:["m365-personal","m365-premium"]}:{eligibleSubscriptionUpgrades:[],disabledReason:"UserProfileUnavailable"}:{eligibleSubscriptionUpgrades:[],disabledReason:"SurfaceNotSupported"},[e,t,n?.tier,s,a,o])}function ple(e){ const t=M(mt),n=M(Qr),o=M(Jd),_hh$temp678=Z.instance().config().proSubscription,s=_hh$temp678.upsellFromAuth0,r=kt()&&t?.provider==="microsoft",c=cl(),d=M(ei),m=Xt("shouldStartSubscription"),p=Xt("parsedPayflowEntryPoint")??"Unknown",h=Xt("payflowRequiresPremium")??!1,v=ln(),y=u.useRef(!1),_hh$temp679=mle({payflowEntryPoint:p,upsellReason:"",entryStyle:"Redirect",requiresPremium:h}),C=_hh$temp679.handleResumeSubscriptionWithCurrentInstanceId; u.useEffect(()=>{if(m&&r&&!v.startsWith("/subscription/start")){uo("shouldStartSubscription"),setTimeout(()=>{C()},0);return}if(!s?.navigateToProSubPageAfterLogin)return;const S=sessionStorage.getItem(FC);if(!S)return;async function b(I){ const _hh$temp680=__arrayFrom$(I.split("-")),x=_hh$temp680[1]; if(x==="link"){ const E=performance.now(),_hh$temp681=await Po.get(),k=_hh$temp681.getAuth0AccessToken,w=_hh$temp681.auth0,_=await k(em()); if(!_){tt({feature:"accountLinkAuth0WithMSA",errorType:"LinkStartedWithoutAuth0Token"});return}try{await Nt({path:"/user/link",args:{body:{token:_}}})}catch(N){N instanceof Error&&tt({feature:"accountLinkAuth0WithMSA",errorType:N.name,errorMessage:N.message,exception:N.stack})}finally{w.logout({openUrl:!1}),jo({feature:"accountLinkAuth0WithMSA",duration:performance.now()-E}),(c.eligibleSubscriptionUpgrades.length!==0||I1(d).isEligible)&&await C()}}}if(e&&!y.current&&n){if(y.current=!0,sessionStorage.removeItem(FC),uo("parsedPayflowEntryPoint"),t?.accountType!=="MSA"||o)return;b(S)}},[e,C,s,t,o,n,v,r,m,c,d])}function fle(e){ const _hh$temp682=e,t=_hh$temp682.isEnabled,n=_hh$temp682.onIntercept,o=_hh$temp682.shouldIntercept,s=_hh$temp682.clickSource; u.useEffect(()=>{if(!t)return()=>{};const a=d=>o(d)?(n(d.toString()),!0):!1,r=d=>{const m=d.target.closest("a");m&&m instanceof HTMLAnchorElement&&a( __get$(m,"href") )&&(s&&fe({source:s}),d.preventDefault())},c=window.open;return window.open=function(...m){return m[0]&&!a(m[0])?c.apply(window,m):null},document.addEventListener("click",r),()=>{window.open=c,document.removeEventListener("click",r)}},[t,n,o,s])}function hle(){u.useEffect(()=>{const e=Mt(nC),t=Date.now();e||qt(nC,t.toString())},[])}const qS=(e,t)=>e.matchRoutes(t).at(-1)?.routeId;function gle(){const e=id(),t=qS(e, __get$(e.state,"location") .pathname),n=u.useRef(null),o=u.useRef(null),s=u.useRef(new Set(t?[t]:[]));u.useEffect(()=>{function a(S){if(!S.pathChanged)return;const b=qS(e,S.toLocation.pathname);if(b)return b}function r(S){const b=a(S);if(b&&!s.current.has(b))return b}const c=S=>{const b=a(S);b&&(n.current={routeId:b,pathname:S.toLocation.pathname,startTime:performance.now(),isLoaded:s.current.has(b)})},d=S=>{const b=a(S);if(!b||!n.current||n.current.pathname!==S.toLocation.pathname)return;const I=performance.now()-n.current.startTime,x=JSON.stringify({routeId:b,pathname:n.current.pathname,isLoaded:n.current.isLoaded,defaultPreload:Un().options.defaultPreload??!1});R.trackEvent({name:"system",data:{eventName:"timeToNavigate",eventInfo_customData:x,eventInfo_duration:I}})},m=S=>{const b=r(S);b&&(o.current={routeId:b,startTime:performance.now()})},p=S=>{const b=r(S);if(!b||!o.current||o.current.routeId!==b)return;const I=performance.now()-o.current.startTime,x=JSON.stringify({routeId:b,defaultPreload:Un().options.defaultPreload??!1,isSidebarNavLinkEnabled:!et("kill-sidebar-nav-item-router-links")});R.trackEvent({name:"system",data:{eventName:"routeNavigationLoadTime",eventInfo_customData:x,eventInfo_duration:I}}),s.current.add(b),o.current=null},h=e.subscribe("onBeforeNavigate",c),v=e.subscribe("onResolved",d),y=e.subscribe("onBeforeLoad",m),C=e.subscribe("onLoad",p);return()=>{h(),v(),y(),C()}},[e])}function vle(){const e=Bs(),t=W("router-default-preload-intent");u.useEffect(()=>{e&&Un().update({defaultPreload:t?"intent":!1})},[e,t])}function yle(){ const _hh$temp683=__arrayFrom$(Re(Wa)),e=_hh$temp683[0],t=_hh$temp683[1]; return u.useEffect(()=>{t(n=>n||s$())},[t]),e}function Cle(e){ const _hh$temp684=__arrayFrom$(u.useState(!1)),t=_hh$temp684[0],n=_hh$temp684[1],o=Kt(),s=W("remove-qr"); u.useEffect(()=>{!e||t||(s&&o==="chat"&&yn("smart"),n(!0))},[e,s,o,t,n])}function Sle(){u.useEffect(()=>{},[])}function hh( _hh$temp685 ={}){ var e=_hh$temp685.arg; const t=e?.characterId,n=e?.type??"chat",o=e?.discoveryCard;let s;t?s={type:"character",characterId:t}:n==="group"?s={type:"group"}:o&&(s={type:"discovery",feedId:o.feedId,cardId:o.cardId});const a=s?{headers:{"content-type":"application/json"},body:JSON.stringify(s)}:void 0;return ut("/conversations",iG,{options:{method:"POST",...a}}).then(r=>r.data)}function pi(){ const e=M(p1),t=ri(),_hh$temp686=cd({mutationKey:["create-conversation"],mutationFn:async p=>hh({arg:p}),retry:!1}),n=_hh$temp686.mutateAsync,o=M(gt),s=hg(gt),a=q(zd),r=q(Xw),c=wQ(),_hh$temp687=__arrayFrom$(u.useState(!1)),d=_hh$temp687[0],m=_hh$temp687[1]; return{createConversation:u.useCallback(async p=>{ const _hh$temp688=p??{},_hh$temp688$shouldNavigateToChat=_hh$temp688.shouldNavigateToChat,h=_hh$temp688$shouldNavigateToChat===void 0?!0:_hh$temp688$shouldNavigateToChat,v=_hh$temp688.characterId,_hh$temp688$isTemporary=_hh$temp688.isTemporary,y=_hh$temp688$isTemporary===void 0?!1:_hh$temp688$isTemporary,_hh$temp688$type=_hh$temp688.type,C=_hh$temp688$type===void 0?"chat":_hh$temp688$type,S=_hh$temp688.discoveryCard,b=C==="group"; if(e&&o.get(e)?.characterId===v)return c({id:e,shouldNavigateToChat:h}),e;if(!d)try{m(!0);let I;t&&v?I={isTemporary:!1,characterId:v}:S?I={isTemporary:!1,discoveryCard:S}:y?I={isTemporary:!0}:I={isTemporary:!1},b&&!y&&(I.type="group"); const _hh$temp689=await n(I),x=_hh$temp689.id,E={id:x,updatedAt:new Date().toISOString(),history:[],isNew:!0,characterId:v,continuedAt:null,group:b?{}:null}; return y&&r(x),s(w=>{w.set(x,E)}),c({id:x,shouldNavigateToChat:!y&&h}),a(!0),Ore(),x}catch(I){console.error(I)}finally{m(!1)}},[e,d,o,c,n,s,r,a,t])}}async function ble(){const e=performance.now();$t({apiName:On.ACQUIRE_ASSERTION_TOKEN_START});try{ const _hh$temp690=await ut("/auth/assertion",Qz,{options:{method:"GET"}}),t=_hh$temp690.data; if(!t.assertion)throw new Error("No assertion token received");return $t({apiName:On.ACQUIRE_ASSERTION_TOKEN_SUCCESS,duration:performance.now()-e}),t.assertion}catch(t){throw vn({apiName:On.ACQUIRE_ASSERTION_TOKEN_FAILURE,errorMessage:t instanceof Error?t.message:"Unknown error",errorExtraInfo:{stack:t instanceof Error?t.stack:void 0},extraInfo:{duration:performance.now()-e}}),t}}async function Ile(e){ const _hh$temp691=await Bt.get(),t=_hh$temp691.msal,n=performance.now(); $t({apiName:On.SILENT_MIGRATION_START}); const _hh$temp692=await Sa(),o=_hh$temp692.InteractionRequiredAuthError,s=_hh$temp692.AuthError; try{const a=await t.ssoSilent(zK(e));return $t({apiName:On.SILENT_MIGRATION_SUCCESS,duration:performance.now()-n,extraInfo:{eventInfo_homeAccountId:a.account.homeAccountId,eventInfo_localAccountId:a.account.localAccountId,eventInfo_environment:a.account.environment,eventInfo_tenantId:a.account.tenantId,eventInfo_authority:a.authority,eventInfo_correlationId:a.correlationId}}),a}catch(a){const r=a instanceof o;r&&qt(dg,"true");const c=a instanceof s?a:void 0;throw vn({apiName:On.SILENT_MIGRATION_FAILURE,errorMessage:a instanceof Error?a.message:"Unknown error",errorExtraInfo:{stack:a instanceof Error?a.stack:void 0,name:a instanceof Error?a.name:void 0,eventInfo_errorCode:c?.errorCode,eventInfo_errorMessage:c?.errorMessage,eventInfo_subError:c?.subError,eventInfo_correlationId:c?.correlationId},extraInfo:{duration:performance.now()-n,eventInfo_isInteractionRequired:r}}),a}}const Ele="Link failed with status";async function wle(e){ const _hh$temp693=await Bt.get(),t=_hh$temp693.msal,n=performance.now(); $t({apiName:On.LINK_START});let o;try{if(o=await Nt({path:"/user/link",args:{body:{token:e.accessToken}}}),!o.ok)throw o.status===403?qt(yd,"true"):qt(_u,"true"),new Error(`${Ele} ${o.status}`);ft(_u),$t({apiName:On.LINK_SUCCESS,duration:performance.now()-n})}catch(s){throw vn({apiName:On.LINK_FAILURE,errorMessage:s instanceof Error?s.message:"Unknown error",errorExtraInfo:{stack:s instanceof Error?s.stack:void 0},extraInfo:{duration:performance.now()-n}}),await t.logoutRedirect({account:e.account,onRedirectNavigate:()=>!1}),s}}async function Tle(){const e=performance.now();if(!(j(mt)?.provider!=="auth0"||Mt(dg)==="true"||Mt(yd)==="true")){$t({apiName:On.MIGRATION_START});try{const n=await ble(),o=await Ile(n);await wle(o),ye(cT,!0),$t({apiName:On.MIGRATION_SUCCESS,duration:performance.now()-e})}catch(n){vn({apiName:On.MIGRATION_FAILURE,errorMessage:n instanceof Error?n.message:"Unknown error",errorExtraInfo:{stack:n instanceof Error?n.stack:void 0},extraInfo:{duration:performance.now()-e}})}}}async function xle(){return new Promise(e=>{try{const t=window.chrome;t?.authPrivate?.getPrimaryAccountInfo?t.authPrivate.getPrimaryAccountInfo(n=>{e(n??null)}):e(null)}catch{e(null)}})}async function Ale(){try{const e=await xle();return e?{hasAccount:!0,accountType:e.account_type,isInGoodState:e.is_in_good_state}:void 0}catch{return}}const _le=7*24*60*60*1e3;function kle(e){return Xo(e)?"AAD":"MSA"}function Ple(){return Ht(zR,V().nullable())===!0}function Mle(){if(Ple())return!1;const t=Ht(JI,A().nullable());return!(t&&Date.now()-t<_le)}async function Rle(){performance.mark("cmc-msal-sso-silent-start",{detail:{category:"auth",operation:"sso-silent"}});const e=Ale();try{ const _hh$temp694=await Bt.get(),t=_hh$temp694.msal,n=await t.ssoSilent(zT()),o=await e; if(!(kle(n.account.tenantId)==="MSA")){BC({message:"SSO Silent returned an AAD account",errorCode:"unexpected_account_type",edgeProfileData:o}),await t.logoutRedirect({account:n.account,onRedirectNavigate:()=>!1});return}t.setActiveAccount(n.account),performance.mark("cmc-msal-sso-silent-end",{detail:{category:"auth",operation:"sso-silent",result:"success",accountType:"MSA"}});const a=performance.measure("cmc-msal-sso-silent-success","cmc-msal-sso-silent-start","cmc-msal-sso-silent-end").duration;j(T1)===!0?(ye(mt,{id:n.account.idTokenClaims?.oid??"",tenantId:n.account.tenantId,provider:"microsoft",accountType:"MSA"}),R.setUserAccountType("MSA"),jC({accountUpdate:!0,accountType:"MSA",message:"New user account created via MSAL silent SSO",duration:a,edgeProfileData:o})):(ye(uq,{email:n.account.username}),jC({accountUpdate:!1,accountType:"MSA",message:"MSAL account detected for returning user, showing prompt",duration:a,edgeProfileData:o}))}catch(t){ const n=await e,_hh$temp695=await Sa(),o=_hh$temp695.AuthError,s=t instanceof o?t.errorCode:""; performance.mark("cmc-msal-sso-silent-end",{detail:{category:"auth",operation:"sso-silent",result:"failure",errorCode:s,errorMessage:t instanceof Error?t.message:"Unknown error"}}),performance.measure("cmc-msal-sso-silent-failure","cmc-msal-sso-silent-start","cmc-msal-sso-silent-end"),BC({message:t instanceof Error?t.message:"Unknown error",errorCode:s,edgeProfileData:n})}No(JI,A(),Date.now())}async function Nle(){j(mt)!==null||!Mle()||await Rle()}const k3=P([]),Lle={"connector-detail":"connector-list","delete-account":"account",name:"account","memory-management":"memory-overview"};function gs(){ const _hh$temp696=__arrayFrom$(Re(k3)),e=_hh$temp696[0],t=_hh$temp696[1],n=u.useRef([]); u.useEffect(()=>{const d=n.current,m=e;if(d.length>m.length){const p=d.filter((v,y)=>y>=m.length),h=p.length;for(let v=h-1;v>=0;v-=1){const y= __get$(p,v) ;y?.onPopPage&&y.onPopPage()}}n.current=e},[e]);const o=e.length>0? __get$(e,e.length-1) ?.page:void 0,s=d=>a([d]),a=d=>{const m=d.map(p=>({page:p,onPopPage:void 0}));t(p=>[...p,...m])};return{currentPage:o,pushPage:s,pushPages:a,goBackOrClose:()=>{t(d=>d.length<=0?d:d.slice(0,-1))},closeSettings:()=>{t([])},parentPageOf:Lle}}function P3(e,t){const n={page:e,onPopPage:t?.onPopPageCallback};_e().set(k3,o=>[...o,n])}function bm(e){ const _hh$temp697=e,t=_hh$temp697.pages,n=_hh$temp697.className,o=_hh$temp697.children,s=_hh$temp697.disableLink,a=_hh$temp697.clickSource,r=_hh$temp697.onClick,_hh$temp697$pushPagesDelay=_hh$temp697.pushPagesDelay,c=_hh$temp697$pushPagesDelay===void 0?0:_hh$temp697$pushPagesDelay,d=_hh$temp697.feature,_hh$temp698=gs(),m=_hh$temp698.pushPages,p=q(Lo),h=vt({breakpoint:"sm"}),v=u.useCallback(()=>{setTimeout(()=>{Ie.emit("disclaimer:open-settings"),m(t),h&&p(!0);},c),(r?.()),fe({source:a??"settingsLink",destination:__get$(t,t.length-1),...d&&{pageName:d}});},[m,t,p,r,a,c,h,d]); return s?i.jsx("span",{children:o}):i.jsx("button",{className:n,type:"button",title:"",onClick:v,children:o})}function Dle(){const e=q(Ct);return i.jsx("p",{children:i.jsx(fn,{i18nKey:"settings.copilotBeta.announcementSubtitle",components:{settingsLink:i.jsx(bm,{pages:["menu","copilot-beta"],className:"underline",clickSource:"disclaimerSettingsLink",onClick:()=>e(null)})}})})}function Ole(){if(!$("copilot-beta-automatic-opt-in"))return;const e=j(Dr);if(e===void 0)ye(mp,!0),ye(Dr,!0),Gs();else if(e){ const t=j(mp),_hh$temp699=Z.instance().config(),n=_hh$temp699.disableCopilotBetaAnnouncement; if(t&&!n){const o={title:U("settings.copilotBeta.announcementTitle"),subtitle:i.jsx(Dle,{})};ye(Ct,o),ye(mp,void 0)}}}function L0(e,t={includeFullHrefChanges:!1}){ const _hh$temp700=t,n=_hh$temp700.includeFullHrefChanges,o=id(),s=u.useRef(e); s.current=e,u.useEffect(()=>{const a=o.subscribe("onBeforeNavigate",r=>{ const _hh$temp701=r,c=_hh$temp701.pathChanged,d=_hh$temp701.hrefChanged; (c||n&&d)&&s.current(r)});return()=>a()},[o,n])}let M3=!0,R3=!0;function Ule(e){R3=e}function ll(){return M3}function Fle(){L0(()=>{R3||(M3=!1)})}function X6e(e){lo("redirectPathOnNextStart",e)}function jle(){const e=Xt("redirectPathOnNextStart");return uo("redirectPathOnNextStart"),e?.startsWith("/")?e:null}const gc=1e4,D0={maxRetries:3,initialDelayMs:100,maxDelayMs:500,backoffFactor:2,jitterFactor:.1};async function Ble(e){try{return(await ut(`/conversations/${e}/history`,Dw,{analytics:{anonymousPath:"/conversations/*/history"},query:{"api-version":"2"},parseOptions:{safe:!0}}).then(n=>n.data)).results.length>0}catch{return!1}}function fo(e){return e.endsWith("/talk")||e.endsWith("/vision")}function e9e(){return!et("kill-student-offer")}function Dp(e){return!e.includes("kill-student-offer")}function O0(e){ const _hh$temp702=e,t=_hh$temp702.id,n=_hh$temp702.type,o=_hh$temp702.source,s=_hh$temp702.destination,a=_hh$temp702.scenario; fe({source:o,scenario:a,destination:s,customData:JSON.stringify({eventInfo_galleryArtifactId:t,eventInfo_galleryArtifactType:n})})}function t9e(e){O0({...e,scenario:"galleryHomePage"})}function n9e(e){O0({...e,scenario:"galleryDetailPage"})}function o9e(e){ const _hh$temp703=e,t=_hh$temp703.id,n=_hh$temp703.type; R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"galleryDetailPage",eventInfo_impressionElement:"creatorGallery",eventInfo_customData:JSON.stringify({eventInfo_galleryArtifactId:t,eventInfo_galleryArtifactType:n})}})}function s9e(e){ const _hh$temp704=e,t=_hh$temp704.galleryItemId,n=_hh$temp704.url,o=_hh$temp704.thumbnailUrl,s=_hh$temp704.errorMessage,_hh$temp704$page=_hh$temp704.page,a=_hh$temp704$page===void 0?"galleryHomePage":_hh$temp704$page,_hh$temp704$type=_hh$temp704.type,r=_hh$temp704$type===void 0?"image":_hh$temp704$type; tt({feature:"creatorGallery",scenario:"mediaLoad",errorType:"load",errorMessage:s??`Failed to load ${r}`,customData:JSON.stringify({galleryItemId:t,url:n,thumbnailUrl:o,page:a})})}const Vle=P(null),a9e=P(new Map),U0="/imagine";function Hle(e){return/\/imagine\/\w+/.test(e)}function F0(e){return e.startsWith(U0)}async function zle(e){ const _hh$temp705=e,t=_hh$temp705.id,n=_hh$temp705.isLiked,o=await vo(`/gallery/${t}/react/like`,{options:{method:n?"POST":"DELETE"},analytics:{anonymousPath:"/gallery/*"}}); if(!o.ok)throw new Error("Failed to fetch Gallery Like data");return o}async function r9e(e){try{ const _hh$temp706=e,t=_hh$temp706.isLiked; O0({...e,source:t?"like":"unlike"}),await zle(e)}catch{}}async function i9e(e){ const _hh$temp707=e,t=_hh$temp707.index,n=_hh$temp707.data,o=_hh$temp707.basePath,s=_hh$temp707.from; _e().set(Vle,t); const _hh$temp708=n,r=_hh$temp708.id; await kn({from:s,to:`${o}/${r}`})}function c9e(){qt(sN,"true")}function l9e(e){return{eventInfo_galleryLoadNumber:e.maxIndex+1,eventInfo_galleryArtifactTypes:Array.from(e.viewedTypes).join(",")}}function N3(){const e=ln();return L3(e)}function L3(e){return/^\/shares\/[a-zA-Z0-9_-]+$/.test(e)}async function Gle(e){ const _hh$temp709=e,t=_hh$temp709.conversationIdFromUrl,n=_hh$temp709.conversationIdFromStart; return t&&t!=="new"&&await Ble(t)?{conversationId:t,isNew:!1}:n?{conversationId:n,isNew:!0}:{conversationId:null,isNew:!0}}async function Wle(e){ const _hh$temp710=e,t=_hh$temp710.pathname,n=_hh$temp710.conversationIdFromUrl,o=_hh$temp710.conversationFromUrlExists,s=_hh$temp710.urlPrompt,a=_hh$temp710.features,r=_hh$temp710.isBanned,c=_hh$temp710.enablePageRedirect,d=_hh$temp710.deepLinkTarget,m=_hh$temp710.search,p=_hh$temp710.redirectTargetFromStorage,h=_hh$temp710.userAccount; if(!c||r||lm(a)||navigator.userAgent.toLowerCase().includes("googlebot")&&t==="/")return null;if(s||n==="new")return{to:d==="audioCall"?"/chats/$conversationId/talk":"/",from:t,needsConversationId:d==="audioCall"};if(t.startsWith("/shares"))return t.startsWith("/shares/pages")?!a.includes("kill-shared-page")?null:Ft(t):t.startsWith("/shares/podcasts")||t.startsWith("/shares/3d-generations")||t.startsWith("/shares/artifacts")||t.startsWith("/shares/tasks")?null:a.includes("kill-share-conversation")||!L3(t)?Ft(t):null;if(t.startsWith("/campaigns"))return!a.includes("kill-share-campaign")?null:Ft(t);if(t==="/subscription/pricing")return a.includes("subs-inline-checkout")?null:Ft(t);if(t==="/subscription/redeem/enel")return a.includes("enel-subscription")?null:Ft(t);if(t==="/fang")return null;if(fo(t))return t.startsWith("/labs/portrait/talk")&&a.includes("labs-portrait-enabled")?{from:t,to:"/labs/portrait",needsConversationId:!1}:Ft(t);if(t.startsWith("/chats")&&!o)return Ft(t);if(t.startsWith("/pages"))return null;if(t.startsWith("/projects"))return a.includes("projects")?null:{to:"/",from:t};if(t.startsWith("/labs")){if(t.startsWith("/labs/portrait")){const y=a.includes("labs-portrait-enabled"),C=a.includes("labs-portrait-v2");if(!y)return Ft(t);if(!C&&["/labs/portrait/gallery","/labs/portrait/future-self"].some(S=>t.startsWith(S)))return{from:t,to:"/labs/portrait",needsConversationId:!1};if(t.startsWith("/labs/portrait/future-self/create"))return{from:t,to:"/labs/portrait/future-self",needsConversationId:!1}}if(t.startsWith("/labs/career-coach")&&!a.includes("labs-career-coach")||t.startsWith("/labs/team-of-advisers")&&!a.includes("labs-team-of-advisers")||!Z.instance().config().enableLabs)return Ft(t)}if(t.startsWith("/login"))return Ft(t);if(t.startsWith("/shopping"))return a.includes("shopping-homepage")?null:{to:"/",from:t};if(t.startsWith("/podcasts"))return t.startsWith("/podcasts/user")||t.startsWith("/podcasts/public")?null:Ft(t);if(["/e/so","/e/sol"].includes(t)&&!Dp(a))return Ft(t);if(t==="/e/so"&&Dp(a)&&h?.accountType!=="MSA")return{from:t,to:"/e/sol"};if(t==="/e/sol"&&Dp(a)&&h?.accountType==="MSA")return{from:t,to:"/e/so"};if(t.startsWith("/library")&&Z.instance().config().disableLibrary)return Ft(t);if(p)return{from:t,to:p,needsConversationId:!1};if(t==="/"){if(a.includes("start-in-voice"))return null;const v=m?.get("back");return $le(v)&&Z.instance().config().redirectBackEnabled?{from:"/login",to:new URL(v).pathname,needsConversationId:!1}:Ft(t)}return Hle(t)?a.includes("kill-imagine-detail")?Ft(t):null:t.startsWith(U0)?a.includes("kill-creator-gallery")?Ft(t):null:t.startsWith("/tasks")?a.includes("supersonic-task")?null:Ft(t):null}function $le(e){if(!e)return!1;try{if(new URL(e).origin=== __get$(window,"location") .origin)return!0;throw new Error("Invalid redirect URL: not from same origin")}catch{throw new Error("Invalid redirect URL, malformed URL")}}function Ft(e){return{from:e,to:"/"}}function qle(){try{ const _hh$temp711=Intl.DateTimeFormat().resolvedOptions(),e=_hh$temp711.timeZone; return e}catch{return}}const Kle=a$();function Yle(){return setTimeout(()=>{tt({feature:"start",scenario:"callStartTimeout",errorType:"timeout",errorMessage:`Start call exceeded ${gc}ms timeout`})},gc)}async function Zle(){const e=$se(),t={timeZone:qle(),startNewConversation:!0,teenSupportEnabled:!0,correctPersonalizationSetting:!0,performUserMerge:e,deferredDataUseCapable:!0},n={};Kle&&(n.overrideFeatures="1"); const o=QY.run({}),_hh$temp712=await ut("/start",Sz,{options:{method:"POST",headers:{"Content-Type":"application/json",...o.headers},body:JSON.stringify(t)},parseOptions:{safe:!0},returnResponseWithData:!0,query:n,retry:D0,requestTimeoutMs:gc,onFailedRequest:c=>{throw c.status===rc?new Error(vg):new Id(`Start api failure with status ${c.status}`,{route:"/start",statusCode:c.status});}}),s=_hh$temp712.data,a=_hh$temp712.response,r=_hh$temp712.zodError; if(ic.trackClientExperimentationAssignment(a.headers),ic.trackLatestApiAssignment(a.headers),r)throw r;return s}function Jle(){ const _hh$temp713=Y(),e=_hh$temp713.i18n,_hh$temp714=n5(),t=_hh$temp714.showBoundary,n=q(Or),o=q(V$),s=q(m1),a=q(gt),r=q(Xw),c=q(Ia),d=q(Se),m=q(T1),p=q(Vd),h=q(AK),v=si(),_hh$temp715=__arrayFrom$(Sm()),y=_hh$temp715[0],C=ln(),S=u.useRef(C); S.current=C;const b=ld({strict:!1}),I=u.useRef(b);I.current=b;const x=u.useRef(QW()),E=M(el),k=u.useRef(E);k.current=E; const w=u.useRef(!0),_=u.useRef(!1),_hh$temp716=cd({mutationKey:["start"],mutationFn:Zle,retry:!1}),N=_hh$temp716.mutateAsync,L=id(); return u.useCallback(async B=>{const F=performance.now();if(!e.language||_.current)return!1;_.current=!0; const K=cZ(),_hh$temp717=B,G=_hh$temp717.enablePageRedirect,te=_hh$temp717.overwriteData; o(!0);let ne=!1,ae,Te,he;try{ const Ee=Yle(),_hh$temp718=await N(),Ae=_hh$temp718.isNewUser,Ue=_hh$temp718.banExpiresAt,Fe=_hh$temp718.remainingTurns,ke=_hh$temp718.features,Ve=_hh$temp718.currentConversationId,De=_hh$temp718.allowBeta,le=_hh$temp718.userId,oe=_hh$temp718.inDataUseWaitingPeriod,we=_hh$temp718.isBlocked; clearTimeout(Ee),await f_(),Ie.emit("app:start-complete");const se=R.getPicassoId();se!==null&&le!==null&&se!==le&&R.trackEvent({name:"health",data:{eventName:"userIdMismatch",eventInfo_customData:JSON.stringify({existingPicassoId:se,newPicassoId:le??"",origin:"start"})}}),R.setFeatures(ke),R.setIsNewUser(Ae),Xf({isNewUser:Ae.toString()});const z=px({featureOverrides:[],localFeatureOverrides:fx(),localFeaturesToDisable:hx(),serverFeatures:ke,surfaceConfig:Z.instance().config()});if(z.includes("studio-sdk")){await D(()=>import( __get$ProxyUrl("./init-CtXbh1Xc.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([446,1,447,448,7])); const _hh$temp719=await D(async ()=>{const _hh$temp720=await import(__get$ProxyUrl("./index-BhGCC1CQ.js","https://copilot.microsoft.com/static/cmc/assets/")),Ye=_hh$temp720.FeatureManager;return{FeatureManager:Ye};},__vite__mapDeps([448,1,7])),Me=_hh$temp719.FeatureManager; Me.activate(z)}z.includes("kill-picasso-id-on-start")||R.setPicassoId(le??null),ft(XR),z.includes("msal-silent-sso")&&Nle(),z.includes("3p-migration-phase-1")?(No(wf,V(),!0),Tle()):ft(wf),z.includes("test-3rd-party-cookie")?No(Tf,V(),!0):ft(Tf);const Q=_0(Ue),me=lm(z),pe=Gw(),be=!me&&pe&&(Me=>Kw.includes(Me))(pe);let ge,Ne;if(be){ const _hh$temp721=await hh({arg:{characterId:pe}}),Me=_hh$temp721.id; ge=Me,Ne=!0}else{const Me=await Gle({conversationIdFromUrl:me?void 0:I.current.conversationId,conversationIdFromStart:me?void 0:Ve});if(ge=Me.conversationId??"",Ne=Me.isNew,!ge){ const _hh$temp722=await hh({arg:me?{isTemporary:!0}:void 0}),Ye=_hh$temp722.id; ge=Ye,me&&r(Ye)}}const Ke=await Wle({pathname:S.current,conversationIdFromUrl:I.current.conversationId,conversationFromUrlExists:I.current.conversationId===ge,urlPrompt:k.current?.prompt??null,features:z,enablePageRedirect:G,isBanned:!!Q,deepLinkTarget:y,search: new URLSearchParams(__get$(window,"location").search) ,redirectTargetFromStorage:jle(),userAccount:j(mt)});a(Me=>{if(!te&&Me.size>0)return Me;const Ye=be?pe:null,re=new Map([[ge,{id:ge,updatedAt:new Date().toISOString(),history:[],isNew:Ne,characterId:Ye,continuedAt:null}]]);return!Ne&&Ve&&re.set(Ve,{id:Ve,updatedAt:new Date().toISOString(),history:[],isNew:!0,characterId:null,continuedAt:null}),re}),d(Me=>Me&&!te?Me:ge),s(Me=>Me.length>0&&!te?Me:z),c(Fe),m(Ae),h(oe??null),p(De??!1),we&&n("tier-4-region-block"),De&&Ole(),k0(Q,"start",Ue),await L.invalidate(),w.current&&(w.current=!1,Ke&&await v({...Ke,params:Ke.needsConversationId?{conversationId:ge}:{},search:x.current})),ne=!0}catch(Ee){Ee instanceof Id&&(ae=Ee.statusCode);let Ae;if(Ee instanceof Error&&(Te=Ee.name,he=Ee.message,Ae=Ee.stack),R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"StartEndpointError",eventInfo_errorName:Te??"UnknownError",eventInfo_errorMessage:he??"",eventInfo_details:Ae??"",...ae!==void 0&&{eventInfo_statusCode:ae}}}),Ee instanceof Error){if(Ee.message===vg)return n("age-verification"),!0;GN(Ee,"/start")}console.error(Ee),t(Ee)}finally{o(!1),Ule(!1),R.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"UseStartLatency",eventInfo_duration:performance.now()-F,eventInfo_customData:JSON.stringify({success:ne,statusCode:ae,errorName:Te,errorMessage:he})}}),R.flush()}return!0},[N,a,d,r,n,o,s,c,m,p,h,v,e.language,t,y,L])}function Qle(){ const e=M(fg),_hh$temp723=__arrayFrom$(Re(d1)),t=_hh$temp723[0],n=_hh$temp723[1],o=Jle(); return u.useEffect(()=>{t||!e||o({enablePageRedirect:!0,overwriteData:!1}).then(s=>{s&&n(!0)}).catch(console.error)},[o,t,n,e]),{appInitialized:t}}let D3=-1;const ul=e=>{addEventListener("pageshow",t=>{t.persisted&&(D3=t.timeStamp,e(t))},!0)},Ls=(e,t,n,o)=>{let s,a;return r=>{t.value>=0&&(r||o)&&(a=t.value-(s??0),(a||s===void 0)&&(s=t.value,t.delta=a,t.rating=((c,d)=>c>d[1]?"poor":c>d[0]?"needs-improvement":"good")(t.value,n),e(t)))}},O3=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},j0=()=>{const e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},Im=()=>j0()?.activationStart??0,Ds=(e,t=-1)=>{const n=j0();let o="navigate";return D3>=0?o="back-forward-cache":n&&(document.prerendering||Im()>0?o="prerender":document.wasDiscarded?o="restore":n.type&&(o= __call$(n.type,"replace",[/_/g,"-"]) )),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:o}},Op=new WeakMap;function U3(e,t){return Op.get(e)||Op.set(e,new t),Op.get(e)}const Em=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const o=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return o.observe({type:e,buffered:!0,...n}),o}}catch{}},F3=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Er=-1;const KS=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,Zu=e=>{document.visibilityState==="hidden"&&Er>-1&&(Er=e.type==="visibilitychange"?e.timeStamp:0,Xle())},YS=()=>{addEventListener("visibilitychange",Zu,!0),addEventListener("prerenderingchange",Zu,!0)},Xle=()=>{removeEventListener("visibilitychange",Zu,!0),removeEventListener("prerenderingchange",Zu,!0)},j3=()=>(Er<0&&(Er=(document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>t.name==="hidden")[0]?.startTime)??KS(),YS(),ul(()=>{setTimeout(()=>{Er=KS(),YS()})})),{get firstHiddenTime(){return Er}}),wm=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},ZS=[1800,3e3],eue=(e,t={})=>{wm(()=>{const n=j3();let o,s=Ds("FCP");const a=Em("paint",r=>{for(const c of r)c.name==="first-contentful-paint"&&(a.disconnect(),c.startTime<n.firstHiddenTime&&(s.value=Math.max(c.startTime-Im(),0),s.entries.push(c),o(!0)))});a&&(o=Ls(e,s,ZS,t.reportAllChanges),ul(r=>{s=Ds("FCP"),o=Ls(e,s,ZS,t.reportAllChanges),O3(()=>{s.value=performance.now()-r.timeStamp,o(!0)})}))})};let B3=0,Up=1/0,ql=0;const tue=e=>{for(const t of e)t.interactionId&&(Up=Math.min(Up,t.interactionId),ql=Math.max(ql,t.interactionId),B3=ql?(ql-Up)/7+1:0)};let gh;const JS=()=>gh?B3:performance.interactionCount??0,nue=()=>{"interactionCount"in performance||gh||(gh=Em("event",tue,{type:"event",buffered:!0,durationThreshold:0}))};let QS=0;class oue{u=[];l=new Map;m;p;v(){QS=JS(),this.u.length=0,this.l.clear()}P(){const t=Math.min(this.u.length-1,Math.floor((JS()-QS)/50));return  __get$(this.u,t) }h(t){if(this.m?.(t),!t.interactionId&&t.entryType!=="first-input")return;const n=this.u.at(-1);let o=this.l.get(t.interactionId);if(o||this.u.length<10||t.duration>n.T){if(o?t.duration>o.T?(o.entries=[t],o.T=t.duration):t.duration===o.T&&t.startTime===o.entries[0].startTime&&o.entries.push(t):(o={id:t.interactionId,entries:[t],T:t.duration},this.l.set(o.id,o),this.u.push(o)),this.u.sort((s,a)=>a.T-s.T),this.u.length>10){const s=this.u.splice(10);for(const a of s)this.l.delete(a.id)}this.p?.(o)}}}const V3=e=>{const t=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?e():(t(e=F3(e)),document.addEventListener("visibilitychange",e,{once:!0}))},XS=[200,500],sue=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&wm(()=>{nue();let n,o=Ds("INP");const s=U3(t,oue),a=c=>{V3(()=>{for(const m of c)s.h(m);const d=s.P();d&&d.T!==o.value&&(o.value=d.T,o.entries=d.entries,n())})},r=Em("event",a,{durationThreshold:t.durationThreshold??40});n=Ls(e,o,XS,t.reportAllChanges),r&&(r.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(a(r.takeRecords()),n(!0))}),ul(()=>{s.v(),o=Ds("INP"),n=Ls(e,o,XS,t.reportAllChanges)}))})};class aue{m;h(t){this.m?.(t)}}const eb=[2500,4e3],rue=(e,t={})=>{wm(()=>{const n=j3();let o,s=Ds("LCP");const a=U3(t,aue),r=d=>{t.reportAllChanges||(d=d.slice(-1));for(const m of d)a.h(m),m.startTime<n.firstHiddenTime&&(s.value=Math.max(m.startTime-Im(),0),s.entries=[m],o())},c=Em("largest-contentful-paint",r);if(c){o=Ls(e,s,eb,t.reportAllChanges);const d=F3(()=>{r(c.takeRecords()),c.disconnect(),o(!0)});for(const m of["keydown","click","visibilitychange"])addEventListener(m,()=>V3(d),{capture:!0,once:!0});ul(m=>{s=Ds("LCP"),o=Ls(e,s,eb,t.reportAllChanges),O3(()=>{s.value=performance.now()-m.timeStamp,o(!0)})})}})},tb=[800,1800],vh=e=>{document.prerendering?wm(()=>vh(e)):document.readyState!=="complete"?addEventListener("load",()=>vh(e),!0):setTimeout(e)},iue=(e,t={})=>{let n=Ds("TTFB"),o=Ls(e,n,tb,t.reportAllChanges);vh(()=>{const s=j0();s&&(n.value=Math.max(s.responseStart-Im(),0),n.entries=[s],o(!0),ul(()=>{n=Ds("TTFB",0),o=Ls(e,n,tb,t.reportAllChanges),o(!0)}))})},cue=e=>{const o=performance.getEntriesByType("navigation")[0]?.type;let s;const a=navigator;a.connection&&typeof a.connection.effectiveType=="string"&&(s=a.connection.effectiveType);const r={eventName:e.name,eventInfo_duration:e.value,eventInfo_navigationType:o,eventInfo_connectionType:s};R.trackEvent({name:"system",data:r});try{if(e.name==="INP")return;const c=`web-vitals-measure-${e.name}`;performance.measure(c,{start:0,duration:e.value})}catch{}};let nb=!1;function lue(){const e=q(mT);if(typeof window>"u"||nb)return;nb=!0;let t=!1;const n=s=>{cue(s),e(a=>({...a,[s.name.toLowerCase()]:s.value}))},o=s=>{t||(t=!0,n(s))};iue(n),eue(n),rue(o,{reportAllChanges:!0}),sue(n)}function uue(){u.useEffect(()=>(window.addEventListener("unhandledrejection",TC),()=>{window.removeEventListener("unhandledrejection",TC)}),[])}function due(e={}){ const _hh$temp724=e,_hh$temp724$isAppInitialized=_hh$temp724.isAppInitialized,t=_hh$temp724$isAppInitialized===void 0?!1:_hh$temp724$isAppInitialized,n=window.appStart; return u.useEffect(()=>!t||!n?()=>{}:(window.addEventListener("beforeunload",_C),()=>{window.removeEventListener("beforeunload",_C)}),[t,n]),{startTime:n}}function mue( _hh$temp725 ){ var e=_hh$temp725.reason,t=_hh$temp725.onReload;  const _hh$temp726=Y(),n=_hh$temp726.t; return i.jsxs(Rs,{isOpen:!0,hideDismissButton:!0,preventClose:!0,children:[i.jsx("h1",{className:"pb-3 text-xl",children:n("authentication.accountChanged")}),i.jsx("p",{className:"pb-7",children:n(e==="login"?"authentication.signedInOtherTab":"authentication.signedOutOtherTab")}),i.jsx(X,{onClick:t,title:n("authentication.reloadToContinue"),variant:"pill",size:"48-lg",className:"w-full",children:n("authentication.reloadToContinue")})]})}function pue(){const e=u.useRef(null),t=(o,s)=>{e.current&&clearTimeout(e.current),e.current=setTimeout(o,s)},n=()=>{e.current&&(clearTimeout(e.current),e.current=null)};return u.useEffect(()=>()=>{n()},[]),{setSafeTimeout:t,clearSafeTimeout:n}}function H3(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}const B0= _hh$temp727=>{var e=_hh$temp727.title,t=_hh$temp727.titleId,n=__rest$Object(_hh$temp727,["title","titleId"]);return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M6,12c3.3,0,6-2.7,6-6S9.3,0,6,0S0,2.7,0,6S2.7,12,6,12z M5,3c0-0.6,0.4-1,1-1s1,0.4,1,1v3c0,0.6-0.4,1-1,1  S5,6.6,5,6V3z M5.2,8.2C5.4,8,5.7,7.9,6,7.9S6.6,8,6.8,8.2C7,8.4,7.1,8.7,7.1,9c0,0.3-0.1,0.6-0.3,0.8C6.6,10,6.3,10.1,6,10.1  S5.4,10,5.2,9.8C5,9.6,4.9,9.3,4.9,9C4.9,8.7,5,8.4,5.2,8.2z",fill:"currentColor"}),u.createElement("rect",{fill:"none"}));} ,u9e=Object.freeze(Object.defineProperty({__proto__:null,default:B0},Symbol.toStringTag,{value:"Module"}));function fue(e){ const _hh$temp728=e,t=_hh$temp728.type,n=_hh$temp728.title,_hh$temp728$subTitle=_hh$temp728.subTitle,o=_hh$temp728$subTitle===void 0?"":_hh$temp728$subTitle,s=_hh$temp728.className,a=`${n} ${o}`; return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:Je(t==="error"&&"border-system-red-450 bg-system-red-300/20 text-system-red-550 dark:bg-system-red-600/20",t==="default"&&"border-neutral-350","w-full rounded-2xl border-2 p-4",s),children:[i.jsxs("div",{className:"flex text-base",children:[t==="error"&&i.jsx("div",{className:"me-1 flex items-center",children:i.jsx(B0,{className:"size-4"})}),i.jsx("h3",{children:i.jsx("strong",{children:n})})]}),i.jsx("p",{className:"text-sm",children:o})]}),i.jsx(po,{msg:a})]})}function hue(e){ const _hh$temp729=e,t=_hh$temp729.accountActionRequired,_hh$temp730=__arrayFrom$(u.useState(!1)),n=_hh$temp730[0],o=_hh$temp730[1],_hh$temp731=pue(),s=_hh$temp731.setSafeTimeout,_hh$temp732=t,a=_hh$temp732.loginHint,r=_hh$temp732.correlationId,c=async ()=>{if(!a)return;const _hh$temp733=await Bt.get(),m=_hh$temp733.msal,p={...k1(),loginHint:a,account:m.getAccountByUsername(a)??void 0,prompt:void 0,correlationId:r,extraQueryParameters:{sus:"2"},tokenBodyParameters:{sus:"2"},tokenQueryParameters:{sus:"2"}};if(sY({authWorkflowAccountType:"microsoft",apiName:"msal:reauthStart"}),H3()){await m.acquireTokenRedirect(p);return;}try{const h=await m.acquireTokenPopup({...p,redirectUri:`${__get$(window,"location").origin}/auth/popup-redirect`});h.accessToken&&(ye(Ts,null),Ie.emit("auth:reauth-popup-success",{accessToken:h.accessToken}));}catch(h){(h instanceof Error&&h.message.includes("popup"))&&await m.acquireTokenRedirect(p),o(!0),s(()=>{o(!1);},3e3);}},d=async ()=>{F1();}; return i.jsxs(i.Fragment,{children:[i.jsx(pm,{className:"gap-0 border-none p-0",headerClassName:"hidden",isOpen:!0,children:i.jsxs("div",{className:"flex w-[448px] min-w-[280px] max-w-[90vw] flex-col items-center p-8 pt-12 text-center",children:[i.jsx("h1",{className:"font-bold text-lg sm:text-2xl",children:U("signInPrompt.makeSureYou")}),i.jsx("p",{className:"mt-3 text-start text-sm sm:text-base",children:U("signInPrompt.confirmYourAccount")}),i.jsx(X,{className:"mt-6 w-full text-sm sm:mt-9 sm:text-base",color:"strong",onClick:c,title:U("signInPrompt.continueAs",{name:a}),"aria-label":U("signInPrompt.continueAs",{name:a}),variant:"square",size:"56-xl",children:U("signInPrompt.continueAs",{name:a})}),i.jsx(X,{onClick:d,className:"mt-3 w-full text-sm sm:text-base",title:U("signInPrompt.continueWithoutSignIn"),"aria-label":U("signInPrompt.continueWithoutSignIn"),variant:"square",size:"56-xl",children:U("signInPrompt.continueWithoutSignIn")})]})}),n&&i.jsx("div",{className:"fixed start-1/2 top-[1.5rem] z-50 w-[400px] min-w-[280px] max-w-[90vw] -translate-x-1/2 rounded-2xl bg-white sm:w-[500px] md:w-[600px]",children:i.jsx(fue,{type:"error",title:U("signInPrompt.couldntReconnect"),subTitle:U("signInPrompt.tryAgain")})})]})}const V0= _hh$temp734=>{var e=_hh$temp734.title,t=_hh$temp734.titleId,n=__rest$Object(_hh$temp734,["title","titleId"]);return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{fill:"#F25022",d:"M12.05 3H3.5v8.55h8.55V3Z"}),u.createElement("path",{fill:"#7FBA00",d:"M21.5 3h-8.55v8.55h8.55V3Z"}),u.createElement("path",{fill:"#00A4EF",d:"M12.05 12.45H3.5V21h8.55v-8.55Z"}),u.createElement("path",{fill:"#FFB900",d:"M21.5 12.45h-8.55V21h8.55v-8.55Z"}));} ,H0= _hh$temp735=>{var e=_hh$temp735.title,t=_hh$temp735.titleId,n=__rest$Object(_hh$temp735,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 32 32",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M16.289 7.53846C17.3723 7.53846 18.7302 6.8061 19.5389 5.82962C20.2712 4.94469 20.8053 3.70884 20.8053 2.47298C20.8053 2.30515 20.79 2.13732 20.7595 2C19.5541 2.04577 18.1047 2.80865 17.235 3.8309C16.5484 4.60903 15.9229 5.82963 15.9229 7.08074C15.9229 7.26383 15.9534 7.44692 15.9686 7.50795C16.0449 7.5232 16.167 7.53846 16.289 7.53846ZM12.4747 26C13.9547 26 14.6107 25.0083 16.4569 25.0083C18.3335 25.0083 18.7455 25.9695 20.3933 25.9695C22.0106 25.9695 23.0939 24.4743 24.1161 23.0095C25.2604 21.3312 25.7334 19.6834 25.7639 19.6071C25.6571 19.5766 22.5599 18.3102 22.5599 14.7552C22.5599 11.6732 25.0011 10.2848 25.1384 10.178C23.5211 7.85887 21.0646 7.79784 20.3933 7.79784C18.5777 7.79784 17.0977 8.89638 16.167 8.89638C15.16 8.89638 13.8326 7.85887 12.2611 7.85887C9.27061 7.85887 6.23438 10.3306 6.23438 14.9994C6.23438 17.8983 7.36343 20.965 8.75186 22.9485C9.94194 24.6268 10.9794 26 12.4747 26Z"}));} ,dl= _hh$temp736=>{var e=_hh$temp736.title,t=_hh$temp736.titleId,n=__rest$Object(_hh$temp736,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M29.546 13.667H16.6074V19.1073H24.0425C23.6865 20.781 22.7411 22.2039 21.3419 23.1773V26.6204H25.6809C28.2662 24.1829 29.754 20.5792 29.754 16.3183C29.754 15.4014 29.6798 14.5178 29.546 13.667Z",fill:"#4285F4"}),u.createElement("path",{d:"M25.6811 26.6202L24.1728 25.4233L21.3422 23.1771C20.0963 24.0439 18.4918 24.5553 16.6077 24.5553C13.0066 24.5553 9.94929 22.0813 8.84297 18.7412H4.37549V22.2862C6.62805 26.8602 11.2579 29.9995 16.6077 29.9995C20.3024 29.9995 23.4137 28.7583 25.6811 26.6202Z",fill:"#34A853"}),u.createElement("path",{d:"M8.84338 18.7412C8.55701 17.8759 8.39918 16.9539 8.39918 16C8.39918 15.0465 8.55701 14.1245 8.84338 13.2592V9.71387H4.37549C3.44448 11.6046 2.91699 13.7387 2.91699 16C2.91699 18.2617 3.44448 20.3958 4.37549 22.2865L8.84338 18.7412Z",fill:"#FBBC05"}),u.createElement("path",{d:"M21.9211 9.56791L25.7683 5.64882C23.3952 3.38751 20.301 2 16.6078 2C11.258 2 6.62807 5.13939 4.37549 9.71335L8.843 13.2583C9.94932 9.91789 13.0066 7.44426 16.6078 7.44426C18.6489 7.44426 20.4778 8.1629 21.9211 9.56791Z",fill:"#EA4335"}));} ;function gue( _hh$temp737 ){ var e=_hh$temp737.accountActionRequired,t=_hh$temp737.onReload;  const _hh$temp738=Y(),n=_hh$temp738.t,o=al(),_hh$temp739=rl(),s=_hh$temp739.login,_hh$temp740=e,a=_hh$temp740.reason,r=async ()=>{(a==="token-expired"&&e.provider==="microsoft")&&F1(!1);},c=async (m,p)=>{await r();let h="";switch(m==="microsoft"?h="MSA":m==="auth0"&&(h=p?.connection==="apple"?"Apple":"Google"),fe({source:"sessionExpired",scenario:`continueWith${h}`,destination:`continueWith${h}Redirect`}),m){case"microsoft":s({provider:m,scenario:"sessionExpired"});break;case"auth0":s({provider:m,scenario:"sessionExpired",opts:p});break;}},d=async ()=>{nn({source:"signin",scenario:"sessionExpired"}),await r(),s({provider:"microsoft"});}; return i.jsxs(i.Fragment,{children:[i.jsx("h1",{className:"pb-3 text-xl",children:n("authentication.sessionExpired")}),i.jsx("p",{className:"pb-7",children:n("authentication.sessionExpiredMessage")}),o?i.jsxs(i.Fragment,{children:[i.jsxs(X,{onClick:()=>c("microsoft"),title:n("signInPrompt.continueWithMicrosoft"),variant:"pill",size:"48-lg",className:"mt-3 w-full",children:[i.jsx(V0,{className:"size-6"}),n("signInPrompt.continueWithMicrosoft")]}),i.jsxs(X,{onClick:()=>c("auth0",{connection:"apple"}),title:n("signInPrompt.continueWithApple"),variant:"pill",size:"48-lg",className:"mt-3 w-full",children:[i.jsx(H0,{className:"size-6 text-black dark:text-white"}),n("signInPrompt.continueWithApple")]}),i.jsxs(X,{onClick:()=>c("auth0",{connection:"google"}),title:n("signInPrompt.continueWithGoogle"),variant:"pill",size:"48-lg",className:"mt-3 w-full",children:[i.jsx(dl,{className:"size-6"}),n("signInPrompt.continueWithGoogle")]})]}):i.jsx(X,{onClick:d,title:n("common.loginText"),variant:"pill",size:"48-lg",className:"mt-3 w-full",children:n("common.loginText")}),i.jsx(X,{onClick:t,title:n("signInPrompt.continueWithoutSignIn"),variant:"pill",color:"subtle-dimmed-inverted",size:"48-lg",className:"mt-3 w-full",children:n("signInPrompt.continueWithoutSignIn")})]})}function vue(e){ const _hh$temp741=e,t=_hh$temp741.accountActionRequired; return i.jsx(yue,{accountActionRequired:t})}function yue(e){ const _hh$temp742=e,t=_hh$temp742.accountActionRequired,_hh$temp743=t,n=_hh$temp743.reason,o=_hh$temp743.errorMessage; u.useEffect(()=>{R.trackEvent({name:"system",data:{eventName:"copilotWebBackgroundAccountChange",eventInfo_action:"shown",eventInfo_reason:n}}),n==="token-expired"&&t.provider==="microsoft"&&rY(o)},[n,o,t.provider]);const s=async()=>{R.trackEvent({name:"system",data:{eventName:"copilotWebBackgroundAccountChange",eventInfo_action:"reload",eventInfo_reason:n}}),n==="token-expired"&&t.provider==="microsoft"&&await F1(),Gs()};return n==="login"||n==="logout"?i.jsx("div",{className:"flex max-w-72 flex-col items-center p-1 text-center",children:i.jsx(mue,{reason:n,onReload:s})}):t.provider==="microsoft"?i.jsx(hue,{accountActionRequired:t}):i.jsx(pm,{isOpen:!0,children:i.jsx("div",{className:"flex max-w-96 flex-col items-center p-1 text-center",children:i.jsx(gue,{accountActionRequired:t,onReload:s})})})}function Cue(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Sue(e){if(!Cue(e)&&typeof e!="number")return!1;const t=Ro(e);return!isNaN(Number(t))}function z3(e,t){const n=Ro(e);if(isNaN(t))return Au(e,NaN);if(!t)return n;const o=n.getDate(),s=Au(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const a=s.getDate();return o>=a?s:(n.setFullYear(s.getFullYear(),s.getMonth(),o),n)}function bue(e,t){return z3(e,t*12)}function Iue(e,t){return bue(e,-13)}const Tm= _hh$temp744=>{var e=_hh$temp744.title,t=_hh$temp744.titleId,n=__rest$Object(_hh$temp744,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M4.53033 12.9697C4.23744 12.6768 3.76256 12.6768 3.46967 12.9697C3.17678 13.2626 3.17678 13.7374 3.46967 14.0303L7.96967 18.5303C8.26256 18.8232 8.73744 18.8232 9.03033 18.5303L20.0303 7.53033C20.3232 7.23744 20.3232 6.76256 20.0303 6.46967C19.7374 6.17678 19.2626 6.17678 18.9697 6.46967L8.5 16.9393L4.53033 12.9697Z"}));} ,d9e=Object.freeze(Object.defineProperty({__proto__:null,default:Tm},Symbol.toStringTag,{value:"Module"})),Eue="p-2 -m-2 bg-slate-200 rounded-xl text-stroke-350";function G3(e){ const _hh$temp745=e,t=_hh$temp745.disabled,n=_hh$temp745.required,o=_hh$temp745.checked,s=_hh$temp745.label,a=_hh$temp745.className,r=_hh$temp745.labelClassName,c=_hh$temp745.setChecked,d=_hh$temp745["aria-label"],m=_hh$temp745["aria-expanded"],_hh$temp745$spatialNavigationAutofocus=_hh$temp745.spatialNavigationAutofocus,p=_hh$temp745$spatialNavigationAutofocus===void 0?!1:_hh$temp745$spatialNavigationAutofocus,h=u.useId(),_hh$temp746=cm({autoRestoreFocus:!0,forceFocus:!0}),v=_hh$temp746.focusable,y=_hh$temp746.refCallback; return i.jsxs("label",{"aria-label":d,className:O("relative flex cursor-pointer items-center",a,v.focused&&Eue),ref:y,htmlFor:h,"data-spatial-focus-key":v.focusKey,"data-spatial-navigation-autofocus":p,children:[i.jsx("input",{checked:o,type:"checkbox",id:h,className:"peer sr-only",onChange:C=>c(C.target.checked),disabled:t,required:n,"aria-expanded":m}),i.jsx("span",{className:O("flex aspect-square size-5 items-center justify-center rounded-full border transition-colors duration-200 peer-focus-visible:ring-1 peer-focus-visible:ring-black peer-focus-visible:ring-offset-2 peer-disabled:pointer-events-none peer-disabled:opacity-40 dark:peer-focus-visible:ring-white","contrast-more:peer-focus-visible:outline contrast-more:peer-focus-visible:outline-2 contrast-more:peer-focus-visible:outline-offset-2",o&&"bg-black contrast-more:bg-white dark:bg-white"),children:i.jsx(Tm,{className:O("size-3 text-white transition-opacity duration-200 contrast-more:text-current dark:text-black contrast-more:dark:text-current",o?"opacity-100":"opacity-0")})}),i.jsx("span",{className:O("mt-px ps-4 peer-disabled:pointer-events-none peer-disabled:opacity-40",r),children:s})]})}const Eo= _hh$temp747=>{var e=_hh$temp747.title,t=_hh$temp747.titleId,n=__rest$Object(_hh$temp747,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M8.46967 4.21967C8.17678 4.51256 8.17678 4.98744 8.46967 5.28033L15.1893 12L8.46967 18.7197C8.17678 19.0126 8.17678 19.4874 8.46967 19.7803C8.76256 20.0732 9.23744 20.0732 9.53033 19.7803L16.7803 12.5303C17.0732 12.2374 17.0732 11.7626 16.7803 11.4697L9.53033 4.21967C9.23744 3.92678 8.76256 3.92678 8.46967 4.21967Z"}));} ,m9e=Object.freeze(Object.defineProperty({__proto__:null,default:Eo},Symbol.toStringTag,{value:"Module"})),wue={top:36,bottom:36,left:24,right:24};function Kl(e){ const _hh$temp748=e,t=_hh$temp748.ariaLabelId,n=_hh$temp748.options,o=_hh$temp748.renderOption,s=_hh$temp748.onSelect,a=_hh$temp748.onOpen,r=_hh$temp748.onClose,c=_hh$temp748.value,d=_hh$temp748.id,m=_hh$temp748.actionLabel,p=_hh$temp748.placeholder,h=_hh$temp748.className,v=_hh$temp748.menuClassName,y=_hh$temp748.expandIconClassName,_hh$temp748$disabled=_hh$temp748.disabled,C=_hh$temp748$disabled===void 0?!1:_hh$temp748$disabled,_hh$temp748$isValid=_hh$temp748.isValid,S=_hh$temp748$isValid===void 0?!0:_hh$temp748$isValid,b=_hh$temp748.supportsBrowserAutofill,_hh$temp748$supportsTypeahead=_hh$temp748.supportsTypeahead,I=_hh$temp748$supportsTypeahead===void 0?!1:_hh$temp748$supportsTypeahead,x=_hh$temp748.autoComplete,E=_hh$temp748.boundary,_hh$temp748$padding=_hh$temp748.padding,k=_hh$temp748$padding===void 0?wue:_hh$temp748$padding,_hh$temp748$useFloatingContainer=_hh$temp748.useFloatingContainer,w=_hh$temp748$useFloatingContainer===void 0?!0:_hh$temp748$useFloatingContainer,_hh$temp748$multiSelect=_hh$temp748.multiSelect,_=_hh$temp748$multiSelect===void 0?!1:_hh$temp748$multiSelect,_hh$temp748$multiSelectedValues=_hh$temp748.multiSelectedValues,N=_hh$temp748$multiSelectedValues===void 0?[]:_hh$temp748$multiSelectedValues,L=_hh$temp748.onMultiSelectionChange,_hh$temp748$returnFocusOnClose=_hh$temp748.returnFocusOnClose,B=_hh$temp748$returnFocusOnClose===void 0?!1:_hh$temp748$returnFocusOnClose,_hh$temp749=Y(),F=_hh$temp749.t,_hh$temp750=__arrayFrom$(u.useState(!1)),K=_hh$temp750[0],G=_hh$temp750[1],_hh$temp751=__arrayFrom$(u.useState(null)),te=_hh$temp751[0],ne=_hh$temp751[1],ae=n.findIndex(be=>be.key===c),Te=u.useRef([]),he=u.useRef([]); u.useEffect(()=>{K&&ne(ae>=0?ae:0)},[K,ae]); const Ee=u.useCallback(be=>{const ge=__get$(n,be)?.key;ge&&s(ge);},[s,n]),_hh$temp752=Tc({placement:"bottom-start",strategy:"absolute",open:K,onOpenChange:be=>{G(be),be?(a?.()):(r?.());},whileElementsMounted:qr,middleware:[Ec({padding:k}),Gh({boundary:E,apply(_hh$temp754){var be=_hh$temp754.rects,ge=_hh$temp754.elements,Ne=_hh$temp754.availableHeight;__call$(Object,"assign",[ge.floating.style,{maxHeight:`${Ne}px`,minWidth:`${be.reference.width}px`}]);},padding:k})]}),Ae=_hh$temp752.refs,Ue=_hh$temp752.floatingStyles,Fe=_hh$temp752.context,ke=Wh(Fe,{event:"mousedown",enabled:!C}),Ve=xc(Fe),De=ad(Fe,{role:"listbox"}),le=$7(Fe,{listRef:Te,activeIndex:te,selectedIndex:ae,onNavigate:ne,loop:!0,focusItemOnHover:!1,openOnArrowKeyDown:!C}),oe=q7(Fe,{enabled:I,listRef:he,activeIndex:te,onMatch:K?ne:Ee}),_hh$temp753=rd([Ve,De,le,ke,oe]),we=_hh$temp753.getReferenceProps,se=_hh$temp753.getFloatingProps,z=_hh$temp753.getItemProps,Q=u.useCallback(be=>{if(_){if(!L)return;const ge=N.includes(be);L(ge?N.filter(Ne=>Ne!==be):[...N,be]);}else s(be),G(!1),(r?.());},[_,s,r,L,N]); let me;_?N.length>0?me=i.jsx("div",{className:"truncate",children:F("dropdown.multiselect.itemsSelected",{count:N.length})}):me=i.jsx("div",{className:"truncate text-foreground-550 dark:text-foreground-600",children:p}):ae>-1?me=o( __get$(n,ae) ):me=i.jsx("div",{className:"truncate text-foreground-550 dark:text-foreground-600",children:p});const pe=u.useCallback(be=>{C||s(be.currentTarget.value)},[s,C]),We=u.useRef(null);return u.useEffect(()=>{const be=ge=>{if(ge.key==="Escape"&&K){const Ne=Ae.floating.current,Ke=Ae.reference.current;(Ne instanceof HTMLElement&&Ne.contains(document.activeElement)||Ke instanceof HTMLElement&&Ke.contains(document.activeElement))&&(ge.preventDefault(),ge.stopPropagation(),G(!1),r?.())}};return window.addEventListener("keydown",be,!0),()=>{window.removeEventListener("keydown",be,!0)}},[K,r,Ae.floating,Ae.reference]),i.jsxs(i.Fragment,{children:[b&&i.jsx("select",{"aria-hidden":!0,className:"hidden",onChange:pe,autoComplete:x,disabled:C,children:n.map(be=>i.jsx("option",{value:be.key,children:be.text},be.key))}),i.jsxs("button",{role:"combobox",type:"button",id:d,ref:Ae.setReference,"aria-labelledby":t,"aria-expanded":K,"aria-haspopup":"listbox","aria-autocomplete":"none","aria-invalid":!S,"aria-disabled":C,className:O("flex w-full cursor-pointer items-center justify-between gap-2 rounded-2xl bg-black/5 px-[1.125rem] py-4 dark:bg-background-450/25",h,C&&"pointer-events-none opacity-50"),...we(),children:[i.jsx("div",{className:"min-w-0",children:me}),i.jsxs("div",{className:O("flex min-h-[26px] shrink-0 grow items-center justify-end gap-2",y),children:[m&&i.jsx("span",{children:m}),i.jsx(Eo,{className:"size-6 rotate-90"})]})]}),w&&i.jsx("div",{ref:We}),K&&i.jsx(sd,{root:w?We.current:void 0,children:i.jsx($h,{context:Fe,modal:!1,initialFocus:-1,returnFocus:B,children:i.jsx("div",{ref:Ae.setFloating,style:Ue,className:O("flex overflow-hidden rounded-2xl shadow-md",v),...se(),children:i.jsx("div",{className:O("flex w-full flex-col overflow-hidden rounded-2xl border-2 border-black/10 p-2 dark:border-white/10",FJ),children:i.jsx("div",{className:O("t-custom-scrollbar vertical-scrollbar overflow-y-auto py-1 pe-1"),children:n.map((be,ge)=>i.jsx("div",{ref:Ne=>{ __set$(Te.current,ge,Ne) , __set$(he.current,ge,be.text) },role:"option",tabIndex:ge===te?0:-1,"aria-selected":_?N.includes(be.key):ge===ae&&ge===te,className:"relative cursor-pointer rounded-xl px-3 py-2 -outline-offset-2 hover:bg-black/5 dark:hover:bg-white/8",...z({onClick(){_||Q(be.key)},onKeyDown(Ne){Ne.key==="Enter"&&(Ne.preventDefault(),Q(be.key))}}),children:_?i.jsx(G3,{label:be.text,checked:N.includes(be.key),setChecked:()=>Q(be.key)}):o(be)},be.key))})})})})})]})}function ob(e){ const _hh$temp755=e,t=_hh$temp755.htmlFor,n=_hh$temp755.content,o=_hh$temp755.required,s=_hh$temp755.className,a=_hh$temp755.afterContent; return i.jsxs("div",{className:"flex items-center",children:[i.jsxs("label",{htmlFor:t,className:O("flex items-center gap-0.5 text-foreground-900",s),children:[n,o&&i.jsx("span",{className:"text-system-red-550 dark:text-system-red-350",children:"*"})]}),a]})}const sb="absolute size-full",Tue="bg-gradient-discover-light dark:bg-gradient-discover-dark",xue="bg-gradient-authentication-light dark:bg-gradient-authentication-dark";function qs(e){ const _hh$temp756=e,t=_hh$temp756.isBottomFade,n=_hh$temp756.forceGradient,o=_hh$temp756.isFixed,s=_hh$temp756.overrideGradientType,a=_hh$temp756.customColor,r=_hh$temp756.customImage,c=_hh$temp756.cover,d=_hh$temp756.noRepeat,m=_hh$temp756.center,p=ln(),h=p==="/login",v=n===!0||h,C=(s??(h?"authentication":"default"))==="authentication"?xue:Tue; return i.jsxs("div",{className:O(o?"fixed":"absolute",t?"-inset-x-4 bottom-0 h-dvh":"inset-0","overflow-hidden"),children:[i.jsx("div",{className:O(sb,a??"bg-background-150",c&&"bg-cover",d&&"bg-no-repeat",m&&"bg-center"),style:r?{backgroundImage:r}:void 0}),i.jsx(bt,{children:v&&i.jsx(Ce.div,{className:O(sb,C),initial:"initial",animate:"animate",exit:"exit",variants:{initial:Be,animate:ct,exit:Be},transition:p0},p)})]})}const W3=P(void 0);function Aue(e){ const _hh$temp757=e,t=_hh$temp757.buttonClassName,_hh$temp758=Y(),n=_hh$temp758.t,_hh$temp759=gs(),o=_hh$temp759.closeSettings,s=q(W3),a=M(Se); function r(){nn({source:"complianceLinks",scenario:"cookies",conversationId:a,destination:"#"}),s("more-options"),o()}return i.jsx(X,{role:"menuitem",variant:"rect",size:"28-xxs",color:"subtle-dimmed-inverted",className:t,title:n("settings.cookies"),onClick:()=>r(),testId:"cookies-compliance-button",children:i.jsx("span",{children:n("settings.cookies")})})}const vc="https://www.bing.com/new/termsofuse",jt="https://go.microsoft.com/fwlink/?LinkId=521839",Ju="https://www.microsoft.com/microsoft-copilot/learn/?form=MG0AUO&OCID=MG0AUO#faqs",vu="hover:underline focus:underline";function ab(e){return Z.instance().config().textOverrides?.(e)??e}function p9e(e){ const _hh$temp760=e,_hh$temp760$component=_hh$temp760.component,t=_hh$temp760$component===void 0?"link":_hh$temp760$component,n=_hh$temp760.buttonClassName,o=M(Se),_hh$temp761=gs(),s=_hh$temp761.pushPage,a=M(Ut),r=um(a),c=(d,m)=>{nn({source:"complianceLinks",scenario:d,conversationId:o,destination:m});}; return i.jsxs("div",{role:"menuitem",className:O("flex w-full flex-wrap justify-center gap-x-3 gap-y-1 text-black/80 text-xs dark:text-white/80",t==="button"?"flex-col p-0":"px-5 py-2"),children:[t==="link"?i.jsx(_ue,{handleAnalytics:c}):i.jsx(kue,{handleAnalytics:c,className:n??"",setPage:s}),r&&i.jsx(Aue,{buttonClassName:O(vu,{"text-xs p-0 min-h-0 mx-0 min-w-0 gap-x-0 safe-hover:bg-transparent dark:safe-hover:bg-transparent dark:text-white/80":t==="link",[n??""]:t==="button"})})]})}function _ue(e){ const _hh$temp762=e,t=_hh$temp762.handleAnalytics; return i.jsxs(i.Fragment,{children:[i.jsx(ss,{href:jt,title:U(ab("settings.privacyLink")),className:vu,onClick:()=>t("privacy",jt),children:U(ab("settings.privacyLink"))}),i.jsx(ss,{href:vc,title:U("settings.termsOfServiceLink"),className:vu,onClick:()=>t("terms",vc),children:U("settings.termsOfServiceLink")}),i.jsx(ss,{href:Ju,title:U("settings.faqLink"),className:vu,onClick:()=>t("faq",Ju),children:U("settings.faqLink")})]})}function kue(e){ const _hh$temp763=e,t=_hh$temp763.handleAnalytics,n=_hh$temp763.className,o=_hh$temp763.setPage,s=(a,r)=>{t(a,r);const d=Z.instance().config().settingsOverrides?.shouldShowPolicyTermsQRCodes,m={privacy:"privacyStatement",terms:"terms",faq:"faq",cookies:void 0};d&&a in m?(o?.(__get$(m,a))):ui(r);}; return i.jsxs(i.Fragment,{children:[i.jsx(X,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",className:n,title:U("settings.privacyLink"),onClick:()=>s("privacy",jt),children:i.jsx("span",{children:U("settings.privacyLink")})}),i.jsx(X,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",className:n,title:U("settings.termsOfServiceLink"),onClick:()=>s("terms",vc),children:i.jsx("span",{children:U("settings.termsOfServiceLink")})}),i.jsx(X,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",className:n,title:U("settings.faqLink"),onClick:()=>s("faq",Ju),children:i.jsx("span",{children:U("settings.faqLink")})})]})}const rb={...Oc,"United Kingdom":"UK"};function Pue(e,t,n){const o=new Date(n,t-1,e);return Sue(o)&&o.getFullYear()===n&&o.getMonth()===t-1&&o.getDate()===e}function Mue(e,t,n){const o=new Date(n,t-1,e),s=Iue(new Date);return o<=s}const Fp="border-2 border-system-red-550/50 bg-system-red-550/10 text-system-red-550 dark:text-system-red-350",ib={termsLink:i.jsx(cb,{link:vc}),privacyLink:i.jsx(cb,{link:jt})};function cb(e){ const _hh$temp764=e,t=_hh$temp764.children,n=_hh$temp764.link; return i.jsx(ss,{className:"underline",href:n,title:"",children:t})}function Rue(e){ const _hh$temp765=e,t=_hh$temp765.onSubmit,_hh$temp766=__arrayFrom$(u.useState(void 0)),n=_hh$temp766[0],o=_hh$temp766[1],_hh$temp767=__arrayFrom$(u.useState("")),s=_hh$temp767[0],a=_hh$temp767[1],_hh$temp768=__arrayFrom$(u.useState("")),r=_hh$temp768[0],c=_hh$temp768[1],_hh$temp769=__arrayFrom$(u.useState("")),d=_hh$temp769[0],m=_hh$temp769[1],_hh$temp770=__arrayFrom$(u.useState(rb["United States"])),p=_hh$temp770[0],h=_hh$temp770[1],_hh$temp771=__arrayFrom$(u.useState(!1)),v=_hh$temp771[0],y=_hh$temp771[1],_hh$temp772=Y(),C=_hh$temp772.i18n,S=C.resolvedLanguage??"en-US",b=new Intl.NumberFormat(S,{minimumIntegerDigits:2,useGrouping:!1}),I=new Intl.NumberFormat(S,{minimumIntegerDigits:4,useGrouping:!1}); u.useEffect(()=>{y(!!!(r&&d&&s&&p))},[r,d,s,p]);const x=[{key:"01",text:U("common.date.month.january")},{key:"02",text:U("common.date.month.february")},{key:"03",text:U("common.date.month.march")},{key:"04",text:U("common.date.month.april")},{key:"05",text:U("common.date.month.may")},{key:"06",text:U("common.date.month.june")},{key:"07",text:U("common.date.month.july")},{key:"08",text:U("common.date.month.august")},{key:"09",text:U("common.date.month.september")},{key:"10",text:U("common.date.month.october")},{key:"11",text:U("common.date.month.november")},{key:"12",text:U("common.date.month.december")}],E=Object.entries(rb).sort().map( _hh$temp773=>{var _hh$temp774=__arrayFrom$(_hh$temp773),L=_hh$temp774[0],B=_hh$temp774[1];return{key:B,text:L};} ),k=Array.from({length:31},(L,B)=>{const F=B+1,K=b.format(F);return{key:F.toString(),text:K}}),w=Array.from({length:125},(L,B)=>{const F=new Date().getFullYear()-B,K=I.format(F);return{key:`${new Date().getFullYear()-B}`,text:K}}),_=L=>i.jsx("p",{children:L.text}),N=async()=>{const L=parseInt(s,10),B=parseInt(r,10),F=parseInt(d,10);if(!Pue(F,B,L)){fe({source:"auth0AccountVerificationPage",scenario:"auth0VerificationInvalidDate",destination:"auth0AccountVerificationPage",customData:JSON.stringify({})}),o(!1);return}if(!Mue(F,B,L)){fe({source:"auth0AccountVerificationPage",scenario:"auth0VerificationNotAdult",destination:"auth0AccountVerificationPage",customData:JSON.stringify({})}),o(!1);return}const te=gn(new Date(L,B-1,F),"yyyy-MM-dd"),ne=await t(te,p);o(ne)};return i.jsxs(i.Fragment,{children:[i.jsx(qs,{forceGradient:!0,overrideGradientType:"authentication"}),i.jsxs("section",{className:"relative m-auto flex min-h-dvh max-w-[500px] flex-col items-center justify-center gap-3 overflow-y-auto px-5 py-12 text-center",children:[i.jsx("h1",{className:"mb-4 text-center font-semibold text-2xl sm:text-4xl",children:U("error.auth0VerificationTitle")}),i.jsx("p",{children:U("error.auth0VerificationDescription")}),i.jsxs("div",{className:"mt-12 w-full",children:[i.jsx(ob,{className:"mb-2 text-base",htmlFor:"birthdate-month",content:U("error.auth0VerificationBirthdate"),required:!0}),i.jsxs("div",{id:"birthdate-group",className:"flex gap-2",children:[i.jsx("span",{id:"month-label",className:"sr-only",children:r||U("dates.month")}),i.jsx("span",{id:"day-label",className:"sr-only",children:d||U("dates.day")}),i.jsx("span",{id:"year-label",className:"sr-only",children:s||U("dates.year")}),i.jsx(Kl,{renderOption:_,options:x,onSelect:c,id:"birthdate-month",ariaLabelId:"month-label",placeholder:U("dates.month"),className:O("flex-1",ma,n===!1&&Fp),value:r,isValid:n,menuClassName:at.dropdownMenuOverModal}),i.jsx(Kl,{renderOption:_,options:k,onSelect:m,id:"birthdate-day",ariaLabelId:"day-label",placeholder:U("dates.day"),className:O("flex-1",ma,n===!1&&Fp),value:d,menuClassName:at.dropdownMenuOverModal}),i.jsx(Kl,{renderOption:_,options:w,onSelect:a,id:"birthdate-year",ariaLabelId:"year-label",placeholder:U("dates.year"),className:O("flex-1",ma,n===!1&&Fp),value:s,menuClassName:at.dropdownMenuOverModal})]}),n===!1&&i.jsx("div",{className:O("mt-2 text-start text-system-red-550 text-sm dark:text-system-red-350"),children:U("error.authh0VerificationAgeError")})]}),i.jsxs("div",{className:"mt-12 w-full",children:[i.jsx(ob,{className:"mb-2 text-base",htmlFor:"country",content:U("error.auth0VerificationCountryRegion"),required:!0}),i.jsx(Kl,{renderOption:_,options:E,onSelect:h,id:"country","aria-labelledby":"country-group",placeholder:U("error.auth0VerificationCountryRegion"),className:O("flex-1",ma),value:p,menuClassName:at.dropdownMenuOverModal})]}),i.jsxs("div",{className:"mt-12 w-full text-black text-xs dark:text-white/90",children:[i.jsx(fn,{i18nKey:U("error.auth0VerificationDisclaimer"),components:{termsLink:ib.termsLink,privacyLink:ib.privacyLink}}),i.jsx(X,{className:"mt-4 w-full",color:"strong",size:"56-xl",variant:"rect",onClick:N,title:U("common.continue"),disabled:v,children:U("common.continue")})]})]})]})}function Nue(){ const _hh$temp775=__arrayFrom$(u.useState(void 0)),e=_hh$temp775[0],t=_hh$temp775[1]; u.useEffect(()=>{async function o(){const s=await CY();t(s)}o()},[]),u.useEffect(()=>{const o= new URLSearchParams(__get$(window,"location").search) ;o.delete("code"),o.delete("state"),o.delete("error"),window.history.replaceState({},document.title,`${ __get$(window,"location") .pathname}?${o}`)},[]),u.useEffect(()=>{e&&_t({page:"auth0AccountVerificationPage",scenario:"auth0Verification",customData:JSON.stringify({accountType:e})})},[e]);const n=async(o,s)=>{const a=await yY(o,s);if(!a)return!1; const _hh$temp776=a,r=_hh$temp776.ageGroup,c=r===la.NOT_ADULT,d=r===la.ADULT; return c||d?(Gs(),!0):!1};return i.jsx(Rue,{onSubmit:n})}function lb(e){return Z.instance().config().textOverrides?.(e)??e}const jp="w-full";function Lue(){ const _hh$temp777=rl(),e=_hh$temp777.switchAccount,_hh$temp778=Y(),t=_hh$temp778.t,n=al(),o=async (r,c)=>{await e({provider:r,scenario:"ageVerification",...c&&{opts:{connection:c}}});},s=Z.instance().config().hideAgeVerificationButton!==!0,a=Z.instance().config().hideAgeVerificationSwitchAccountButton!==!0; return i.jsxs(i.Fragment,{children:[i.jsx(qs,{forceGradient:!0}),i.jsxs("section",{className:"relative z-10 m-auto flex h-dvh max-w-96 flex-col items-center justify-center gap-3 px-5 text-center",children:[i.jsx("h1",{className:"text-4xl",children:t(lb("error.ageVerificationTitle"))}),i.jsx("h2",{className:"text-foreground-600",children:t(lb("error.ageVerification"))}),s&&i.jsx(X,{className:"mt-6 w-full",color:"default",size:"56-xl",variant:"rect",testId:"age-verification",title:t("error.ageVerificationVerifyAge"),onClick:()=>{O1(DN)},children:t("error.ageVerificationVerifyAge")}),s&&i.jsx("div",{className:"text-balance text-foreground-600",children:t("error.ageVerificationOr")}),n?i.jsxs(i.Fragment,{children:[i.jsxs(X,{onClick:()=>o("microsoft"),color:"default",title:t("signInPrompt.continueWithMicrosoft"),variant:"pill",size:"56-xl",className:Je(jp),children:[i.jsx(V0,{className:"size-6"}),t("signInPrompt.continueWithMicrosoft")]}),i.jsxs(X,{onClick:()=>o("auth0","apple"),color:"default",variant:"pill",size:"56-xl",title:t("signInPrompt.continueWithApple"),className:Je(jp),children:[i.jsx(H0,{className:"size-6 text-black dark:text-white"}),t("signInPrompt.continueWithApple")]}),i.jsxs(X,{onClick:()=>o("auth0","google"),color:"default",variant:"pill",size:"56-xl",title:t("signInPrompt.continueWithGoogle"),className:Je(jp),children:[i.jsx(dl,{className:"size-6"}),t("signInPrompt.continueWithGoogle")]})]}):a&&i.jsx(X,{className:"w-full",color:"default",size:"56-xl",variant:"rect",title:t("error.ageVerificationSwitchAccount"),onClick:()=>o("microsoft"),children:t("error.ageVerificationSwitchAccount")})]})]})}function Due(){return M(mt)?.provider==="auth0"?i.jsx(Nue,{}):i.jsx(Lue,{})}function Oue(e){ const _hh$temp779=e,t=_hh$temp779.title,n=_hh$temp779.subtitle,o=_hh$temp779.link,s=_hh$temp779.onClick,a=_hh$temp779.Icon,_hh$temp779$iconSize=_hh$temp779.iconSize,r=_hh$temp779$iconSize===void 0?"regular":_hh$temp779$iconSize,c=_hh$temp779.iconClassName,d=_hh$temp779.removeIconBorder,_hh$temp779$dismissable=_hh$temp779.dismissable,m=_hh$temp779$dismissable===void 0?!0:_hh$temp779$dismissable,p=_hh$temp779.ctaLabel,_hh$temp779$intent=_hh$temp779.intent,h=_hh$temp779$intent===void 0?"info":_hh$temp779$intent,v=_hh$temp779.contentClassName,y=li(),C=b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),(s?.()));},S=n??o?i.jsxs(i.Fragment,{children:[typeof n=="string"?`${n} `:n,o&&i.jsx("span",{className:"text-accent-450 underline text-sm dark:text-accent-600",role:"button",tabIndex:0,"aria-label":o,onKeyDown:C,children:o})]}):null; return i.jsx("div",{className:O("flex","flex-col","items-center","justify-center","py-2","ps-2","pe-1.5",{"w-[min(381px,100vw)]":!!S},v),children:i.jsxs("div",{className:O("relative flex w-full items-center p-0",{"gap-x-3":a,"flex-row-reverse":a&&y}),children:[a&&i.jsx("div",{"aria-hidden":"true",className:O("flex shrink-0 items-center justify-center rounded-xl",r==="small"?"ms-2 size-5":"size-16",!d&&"border border-black/10 dark:border-white/10"),children:i.jsx(a,{className:c})}),i.jsxs("div",{className:O("flex flex-1 flex-col justify-center py-1",!a&&"ps-4",m&&(S??t)&&!p?"pe-10":"pe-4"),children:[i.jsx("header",{className:O("flex w-full overflow-hidden",{"items-center":!!S,"items-center justify-center":!S}),children:i.jsx("h2",{className:O("text-foreground-750 text-sm-strong",{"text-base-strong":!!S,"text-sm":!S},h==="error"&&"text-system-red-550"),children:t})}),S&&i.jsx("p",{className:"w-full text-foreground-700 text-sm",children:S}),i.jsx(po,{msg:`${t??""} ${typeof n=="string"?n:""}`,type:"assertive"})]}),p&&i.jsx("div",{className:O("flex shrink-0 items-center","me-4",m&&"me-10"),children:i.jsx(X,{variant:"rect",size:"40-base",className:"border border-black/8",title:p,onClick:b=>{b.stopPropagation(),s?.()},children:p})})]})})}function Uue(e){ const _hh$temp780=e,t=_hh$temp780.title,n=_hh$temp780.subtitle,o=_hh$temp780.link,s=_hh$temp780.onClick,a=_hh$temp780.Icon,_hh$temp780$iconSize=_hh$temp780.iconSize,r=_hh$temp780$iconSize===void 0?"regular":_hh$temp780$iconSize,c=_hh$temp780.iconClassName,d=_hh$temp780.removeIconBorder,m=_hh$temp780.ctaLabel,_hh$temp780$intent=_hh$temp780.intent,p=_hh$temp780$intent===void 0?"info":_hh$temp780$intent,h=_hh$temp780.contentClassName,v=_hh$temp780.onDismiss,y=li(),C=b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),(s?.()));},S=n??o?i.jsxs(i.Fragment,{children:[typeof n=="string"?`${n} `:n,o&&i.jsx("span",{className:"text-accent-450 underline text-xs dark:text-accent-600",role:"button",tabIndex:0,"aria-label":o,onKeyDown:C,children:o})]}):null; return i.jsx("div",{className:O("flex","flex-col","items-center","justify-center","p-1","w-[min(353px,100vw)]",h),children:i.jsxs("div",{className:O("relative flex w-full items-center p-0",{"flex-row-reverse":a&&y}),children:[a&&i.jsx("div",{"aria-hidden":"true",className:O("flex shrink-0 items-center justify-center rounded-xl",r==="small"?"ms-2 size-4":"ms-1.5 size-14",!d&&"border border-black/10 dark:border-white/10"),children:i.jsx(a,{className:c})}),!a&&p==="error"&&i.jsx("div",{"aria-hidden":"true",className:"ms-2 flex size-4 shrink-0 items-center justify-center",children:i.jsx(B0,{})}),i.jsxs("div",{className:"flex flex-1 flex-col justify-center px-2 py-2.5",children:[i.jsx("header",{className:"flex w-full items-center overflow-hidden",children:i.jsx("h2",{className:"truncate text-foreground-750 text-sm-medium",children:t})}),S&&i.jsx("p",{className:"w-full text-foreground-550 text-xs",children:S}),i.jsx(po,{msg:`${t??""} ${typeof n=="string"?n:""}`,type:"assertive"})]}),m&&i.jsx("div",{className:"flex shrink-0 items-center pe-1",children:i.jsx(X,{variant:"rect",color:"overlay-dimmed",size:"36-sm",title:m,onClick:b=>{b.stopPropagation(),s?.(),v?.()},children:m})}),i.jsx("div",{className:"flex shrink-0 items-center",children:i.jsx(X,{title:U("product.dismiss"),"aria-label":U("product.dismiss"),variant:"rect",color:"subtle-dimmed-inverted",size:"36-sm",onClick:()=>{v?.()},className:"flex-col items-center justify-center",children:i.jsx(sn,{className:"size-3"})})})]})})}function $3(e){ const _hh$temp781=e,t=_hh$temp781.title,n=_hh$temp781.subtitle,o=_hh$temp781.link,s=_hh$temp781.onClick,a=_hh$temp781.Icon,r=_hh$temp781.iconSize,c=_hh$temp781.iconClassName,d=_hh$temp781.removeIconBorder,m=_hh$temp781.dismissable,p=_hh$temp781.ctaLabel,h=_hh$temp781.intent,v=_hh$temp781.contentClassName,y=_hh$temp781.onDismiss; return W("toast-v2")?i.jsx(Uue,{title:t,subtitle:n,link:o,onClick:s,Icon:a,iconSize:r,iconClassName:c,removeIconBorder:d,dismissable:m,ctaLabel:p,intent:h,contentClassName:v,onDismiss:y}):i.jsx(Oue,{title:t,subtitle:n,link:o,onClick:s,Icon:a,iconSize:r,iconClassName:c,removeIconBorder:d,dismissable:m,ctaLabel:p,intent:h,contentClassName:v})}function Fue(e,t,n={}){ const _hh$temp782=n,_hh$temp782$leading=_hh$temp782.leading,o=_hh$temp782$leading===void 0?!0:_hh$temp782$leading,_hh$temp782$trailing=_hh$temp782.trailing,s=_hh$temp782$trailing===void 0?!1:_hh$temp782$trailing; let a=!1,r=null;const c=d=>{e(...d)};return!o&&!s?()=>{}:(...d)=>{a?r=d:(o?c(d):s&&(r=d),a=!0,setTimeout(()=>{a=!1,s&&r&&(c(r),r=null,a=!0,setTimeout(()=>{a=!1},t))},t))}}function yh(e,t=1e3){const n=u.useRef(null);return u.useEffect(()=>{n.current=e},[e]),u.useMemo(()=>Fue((...a)=>{n.current?.(...a)},t),[t])}const ki=typeof HTMLElement<"u"&&"showPopover"in HTMLElement.prototype&&typeof HTMLElement.prototype.showPopover=="function";function jue(e=!0){const t=u.useRef(null),n=u.useCallback(()=>{const a=t.current;if(a&&ki)try{a.showPopover()}catch(r){tt({feature:"toast",scenario:"showPopoverToast",errorMessage:r instanceof Error?r.message:void 0})}},[]),o=u.useCallback(()=>{const a=t.current;if(a&&ki)try{a.hidePopover()}catch(r){tt({feature:"toast",scenario:"hidePopoverToast",errorMessage:r instanceof Error?r.message:void 0})}},[]),s=yh(()=>{o(),n()},50);return u.useEffect(()=>{if(n(),ki&&e){const a=requestAnimationFrame(s);return()=>cancelAnimationFrame(a)}return()=>{}},[n,s,e]),u.useEffect(()=>{if(!ki||!e)return()=>{};const a=new MutationObserver(()=>{document.querySelectorAll("dialog[open]").length>0&&requestAnimationFrame(s)});return a.observe(document.documentElement,{childList:!0,subtree:!0,attributeFilter:["open"]}),()=>a.disconnect()},[s,e]),{toastRef:t,supportsPopover:ki}}function Bue( _hh$temp783 ){ var e=_hh$temp783.onClick; return i.jsx("div",{className:"absolute end-0 top-0 z-10 cursor-pointer p-1 rtl:right-auto",children:i.jsx(X,{title:U("product.dismiss"),"aria-label":U("product.dismiss"),variant:"rect",color:"subtle-bright-inverted",size:"32-xs",onClick:e,children:i.jsx(sn,{className:"size-4"})})})}const Vue="overflow-hidden rounded-3xl border border-solid border-white/20 shadow-lg backdrop-blur-[30px] bg-acrylic-default-tint-light/95 dark:bg-acrylic-default-tint-dark/95",Hue="overflow-hidden rounded-3xl border border-solid border-white shadow-lg backdrop-blur-2xl backdrop-saturate-200 bg-acrylic-thin-tint-light/60 dark:bg-acrylic-thin-tint-dark/60";function zue(e){ const _hh$temp784=e,t=_hh$temp784.children,n=_hh$temp784.dismiss,_hh$temp784$dismissable=_hh$temp784.dismissable,o=_hh$temp784$dismissable===void 0?!0:_hh$temp784$dismissable,s=_hh$temp784.className,a=_hh$temp784.onClick,r=_hh$temp784.onActiveChange,c=_hh$temp784.customColorTheme,_hh$temp784$bringToFrontOnDialog=_hh$temp784.bringToFrontOnDialog,d=_hh$temp784$bringToFrontOnDialog===void 0?!0:_hh$temp784$bringToFrontOnDialog,m=M(fs),p=c??m,_hh$temp785=__arrayFrom$(u.useState(!1)),h=_hh$temp785[0],v=_hh$temp785[1],_hh$temp786=__arrayFrom$(u.useState(!1)),y=_hh$temp786[0],C=_hh$temp786[1],S=h||y,_hh$temp787=jue(d),b=_hh$temp787.toastRef,I=_hh$temp787.supportsPopover,x=W("toast-v2"); u.useEffect(()=>{r?.(S)},[S,r]);const E=x?"top-5 end-5 bottom-auto start-auto":"top-5 start-1/2 -translate-x-1/2 rtl:translate-x-1/2",k=Z.instance().config(),w=(I?k.toastPopoverNotificationPositioning:k.toastNotificationPositioning)??E,_=I?{popover:"manual"}:{};return i.jsx("div",{"data-theme":p,className:O("pointer-events-none",I?"fixed m-0 overflow-visible bg-transparent":"absolute",at.toastNotification,w,s),onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),onFocus:()=>C(!0),onBlur:()=>C(!1),ref:b,..._,children:i.jsx(bt,{children:i.jsxs(Ce.div,{className:O("pointer-events-auto","relative",x?Hue:Vue,a&&"cursor-pointer"),initial:{opacity:0,y:-40,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-40,scale:.98},transition:{type:"spring",stiffness:400,damping:30},onClick:a,children:[!x&&o&&i.jsx(Bue,{onClick:n}),t]})})})}function q3(){ const _hh$temp788=__arrayFrom$(Re(Ct)),e=_hh$temp788[0],t=_hh$temp788[1],_hh$temp789=__arrayFrom$(u.useState(!1)),n=_hh$temp789[0],o=_hh$temp789[1],_hh$temp790=__arrayFrom$(u.useState(!1)),s=_hh$temp790[0],a=_hh$temp790[1],r=u.useCallback(()=>{e?.trackingArgs&&fe({source:"toastNotification",scenario:e.trackingArgs.scenario,customData:e.trackingArgs.customData});},[e]),c=u.useCallback(()=>{t(null);},[t]),d=u.useCallback(()=>{if(!e?.action)return;r();const _hh$temp791=e,p=_hh$temp791.action;p(),c(),(e.onClick?.());},[e,r,c]); if(u.useEffect(()=>{let p;return a(!1),o(!1),e?.dismissAfter&&(p=window.setTimeout(()=>a(!0),e.dismissAfter)),()=>clearTimeout(p)},[e]),u.useEffect(()=>{s&&!n&&c()},[s,n,c]),!e)return null;const m=e.title?i.jsx($3,{title:e.title,subtitle:e.subtitle,link:e.link,onClick:e.onClick,Icon:e.Icon,iconSize:e.iconSize,iconClassName:e.iconClassName,removeIconBorder:e.removeIconBorder,dismissable:e.dismissable,ctaLabel:e.ctaLabel,intent:e.intent,contentClassName:e.contentClassName,onDismiss:()=>{e.onDismiss?.(),c()}}):e.children;return i.jsx(zue,{dismissable:e.dismissable,className:e.className,dismiss:p=>{p?.stopPropagation(),e.onDismiss?.(),c()},onClick:e.action?d:void 0,onActiveChange:o,customColorTheme:e.customColorTheme,bringToFrontOnDialog:e.bringToFrontOnDialog,children:m})}function f9e(e){ const t=_e(),_hh$temp792=e,n=_hh$temp792.title,o=_hh$temp792.subtitle,s=__rest$Object(_hh$temp792,["title","subtitle"]),a={...s,children:i.jsx($3,{title:n,subtitle:o,link:e.link,onClick:e.onClick,Icon:e.Icon,iconSize:e.iconSize,iconClassName:e.iconClassName,removeIconBorder:e.removeIconBorder,dismissable:e.dismissable,ctaLabel:e.ctaLabel,intent:e.intent,contentClassName:e.contentClassName,onDismiss:()=>{(e.onDismiss?.()),t.set(Ct,null);}})}; t.set(Ct,a)}const Gue=e=>{R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:e}})},Ch=e=>{ const _hh$temp793=e,t=_hh$temp793.source,n=_hh$temp793.destination,o=_hh$temp793.pageName,s=_hh$temp793.customData; R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:t,eventInfo_clickDestination:n,eventInfo_pageName:o,eventInfo_customData:s}})};function Bp(e){ const _hh$temp794=e,t=_hh$temp794.children,n=__get$(_hh$temp794,"href"),o=_hh$temp794.source; return i.jsx(ss,{className:"underline",href:n,title:t,onClick:()=>Ch({source:o,pageName:"UnderAgeDisclaimerPage"}),children:t})}const Wue=["error.under18Compliance.disclaimer1","error.under18Compliance.disclaimer2","error.under18Compliance.disclaimer3","error.under18Compliance.disclaimer4"],$ue="https://www.microsoft.com/microsoft-copilot/for-individuals/privacy",que="https://support.microsoft.com/topic/microsoft-copilot-age-limits-and-parental-controls-f79b47a6-288a-4513-8c01-afe4d16db900",Kue="https://www.microsoft.com/microsoft-copilot/for-individuals/termsofuse";function Yue(){ const _hh$temp795=Y(),e=_hh$temp795.t,_hh$temp796=__arrayFrom$(Re(x1)),t=_hh$temp796[0],n=_hh$temp796[1],o=q(Ct); u.useEffect(()=>{Gue("underAgeDisclaimerPage")},[]); const _hh$temp797=cd({mutationKey:["underage-compliance-consent"],mutationFn:async ()=>{if(!t?.compliance)return;const r=await Nt({path:"/user/consents",args:{options:{method:"POST"},body:{consentType:"teen",version:t.compliance.version}}});if(!r.ok)throw new Error(`Failed to submit teen compliance consent, ${r.status}: ${r.statusText}`);},onSuccess:()=>{Ch({source:"continueButton",pageName:"UnderAgeDisclaimerPage",customData:"success"}),n(r=>r&&{...r,compliance:null});},onError:r=>{Ch({source:"continueButton",pageName:"UnderAgeDisclaimerPage",customData:r.message}),o({title:e("common.somethingWrong"),subtitle:e("common.somethingWrongDescription"),dismissAfter:5e3,dismissable:!0});},retry:!1}),s=_hh$temp797.mutate,a=_hh$temp797.isPending; return i.jsxs(i.Fragment,{children:[i.jsx(qs,{}),i.jsx(q3,{}),i.jsxs("section",{className:"relative m-auto flex h-full max-w-2xl flex-col gap-2 px-6 py-10 sm:justify-center sm:gap-4",children:[i.jsx("h1",{className:"self-start text-lg-medium",children:e("error.under18Compliance.title")}),i.jsx("ul",{className:"mb-10 flex flex-col gap-2 ps-6 sm:mb-24 sm:gap-3",children:Wue.map(r=>i.jsx("li",{className:"ps-2",children:i.jsx(fn,{i18nKey:r,components:{bold:i.jsx("span",{className:"text-base-strong"})}})},r))}),i.jsxs("div",{className:"mt-auto flex flex-col items-center gap-2 sm:mt-0",children:[i.jsx(X,{color:"strong",size:"56-xl",variant:"pill",title:e("common.continue"),onClick:()=>s(),disabled:a,className:"w-80 max-md:mt-auto",children:a?i.jsx(At,{className:"size-8"}):i.jsx("span",{className:"px-1.5",children:e("common.continue")})}),i.jsx("span",{className:"px-6 py-2 text-foreground-450 text-xs",children:i.jsx(fn,{i18nKey:"error.under18Compliance.legalLinks",components:{PrivacyLink:i.jsx(Bp,{href:$ue,source:"privacyStatementLink"}),LearnMoreLink:i.jsx(Bp,{href:que,source:"learnMoreLink"}),TermsLink:i.jsx(Bp,{href:Kue,source:"termsOfUseLink"})}})})]})]})]})}function Vp( _hh$temp798 ){ var e=_hh$temp798.title,t=_hh$temp798.icon,n=_hh$temp798.onClick; return i.jsxs(X,{onClick:n,title:e,variant:"pill",size:"56-xl",className:"min-w-64 py-5 min-[400px]:min-w-80 sm:min-w-[374px]",children:[t,e]})}const Zue="/static/cmc/assets/anonymous-block-background-UKvFEnCv.avif",K3="/static/cmc/assets/copilot-wordmark-DvWA6bVb.svg";function pt(e){ const _hh$temp799=e,t=_hh$temp799.url,n=_hh$temp799.className; return i.jsx("div",{className:O("bg-current forced-color-adjust-none forced-colors:bg-[ButtonText]",n),style:{WebkitMaskImage:`url(${t})`,maskImage:`url(${t})`,WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain"}})}function Jue(){return i.jsxs("div",{className:"flex size-full","aria-hidden":"true",children:[i.jsx("img",{src:Zue,alt:"",className:"absolute size-full object-cover object-center"}),i.jsx(pt,{url:K3,className:"mx-auto w-[377px] text-[#FFF6F0]"})]})}function Que(e){ const _hh$temp800=rl(),t=_hh$temp800.login; return(o,s)=>{const a=Xue(o,s);switch(fe({source:e,scenario:`continueWith${a}`,destination:`continueWith${a}Redirect`}),o){case"microsoft":t({provider:o,scenario:"swagLogin"});break;case"auth0":t({provider:o,scenario:"swagLogin",opts:s});break}}}const Xue=(e,t)=>{switch(e){case"microsoft":return"MSA";case"auth0":return t?.connection==="apple"?"Apple":"Google";default:return""}};function ede(){const e=Que("anonymousBlockPage");return u.useEffect(()=>{_t({page:"anonymousBlockPage"})},[]),i.jsxs("main",{className:"relative grid size-full grid-cols-1 overflow-hidden md:grid-cols-2",children:[i.jsxs("div",{className:"relative m-auto flex h-full max-w-96 flex-col items-center justify-center gap-6 px-5 text-center",children:[i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx("h1",{className:"font-semibold text-foreground-900 text-2xl","data-testid":"anonymous-block-page-title",children:U("anonymousBlockPage.title")}),i.jsx("p",{className:"text-foreground-600 text-base",children:U("anonymousBlockPage.description")})]}),i.jsxs("ul",{className:"flex list-none flex-col items-center justify-center gap-4",role:"list",children:[i.jsx("li",{children:i.jsx(Vp,{onClick:()=>e("microsoft"),title:U("anonymousBlockPage.microsoft"),icon:i.jsx(V0,{className:"size-6"})})}),i.jsx("li",{children:i.jsx(Vp,{onClick:()=>e("auth0",{connection:"apple"}),title:U("anonymousBlockPage.apple"),icon:i.jsx(H0,{className:"size-6 text-black dark:text-white"})})}),i.jsx("li",{children:i.jsx(Vp,{onClick:()=>e("auth0",{connection:"google"}),title:U("anonymousBlockPage.google"),icon:i.jsx(dl,{className:"size-6"})})})]})]}),i.jsx("div",{className:"hidden size-full md:block",inert:!0,"aria-hidden":"true",children:i.jsx(Jue,{})})]})}const Y3= _hh$temp801=>{var e=_hh$temp801.title,t=_hh$temp801.titleId,n=__rest$Object(_hh$temp801,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M12 4.5C7.85786 4.5 4.5 7.85786 4.5 12C4.5 16.1421 7.85786 19.5 12 19.5C16.1421 19.5 19.5 16.1421 19.5 12C19.5 11.6236 19.4723 11.2538 19.4188 10.8923C19.3515 10.4382 19.6839 10 20.1429 10C20.5138 10 20.839 10.2562 20.8953 10.6228C20.9642 11.0718 21 11.5317 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C14.3051 3 16.4077 3.86656 18 5.29168V4.25C18 3.83579 18.3358 3.5 18.75 3.5C19.1642 3.5 19.5 3.83579 19.5 4.25V7.25C19.5 7.66421 19.1642 8 18.75 8H15.75C15.3358 8 15 7.66421 15 7.25C15 6.83579 15.3358 6.5 15.75 6.5H17.0991C15.7609 5.25883 13.9691 4.5 12 4.5Z"}));} ,h9e=Object.freeze(Object.defineProperty({__proto__:null,default:Y3},Symbol.toStringTag,{value:"Module"}));function tde(e){ const _hh$temp802=Y(),t=_hh$temp802.t,_hh$temp803=e,n=_hh$temp803.btnTitle,_hh$temp803$onBtnClick=_hh$temp803.onBtnClick,o=_hh$temp803$onBtnClick===void 0?()=>{}:_hh$temp803$onBtnClick,_hh$temp803$loading=_hh$temp803.loading,s=_hh$temp803$loading===void 0?!1:_hh$temp803$loading; return i.jsxs("section",{className:"relative z-10 m-auto flex h-full max-w-96 flex-col items-center justify-center gap-3 px-5 text-center",children:[i.jsx("h1",{className:"text-4xl","data-testid":"unhandled-error-title",children:t("error.unhandledErrorTitle")}),i.jsx("h2",{className:"text-foreground-600",children:t("error.unhandledError")}),i.jsx(X,{className:"mt-6 w-full",color:"default",size:"56-xl",variant:"rect",title:t("error.unhandledErrorReload"),onClick:o,testId:"unhandled-error-reload",disabled:s,children:n??i.jsxs(i.Fragment,{children:[i.jsx(Y3,{className:"size-6"}),t("error.unhandledErrorReload")]})})]})}function z0(){return i.jsxs("main",{className:"relative size-full overflow-hidden",children:[i.jsx(qs,{forceGradient:!0}),i.jsx(tde,{onBtnClick:()=>{Gs()}})]})}function nde(){ const _hh$temp804=Y(),e=_hh$temp804.t; return i.jsxs("section",{className:"relative z-10 m-auto flex h-full max-w-96 flex-col items-center justify-center gap-3 px-5 text-center",children:[i.jsx("h1",{className:"text-4xl","data-testid":"unhandled-error-title",children:e("error.unhandledErrorTitle")}),i.jsx("h2",{className:"text-foreground-600",children:e("error.regionUnavailable")})]})}function ode(){return i.jsxs("main",{className:"relative size-full overflow-hidden",children:[i.jsx(qs,{forceGradient:!0}),i.jsx(nde,{})]})}function sde(){ const _hh$temp805=Y(),e=_hh$temp805.t,t=M(jT); let n="main";Mt(Sf)&&t==="permanent"&&(n="confirm-submission"); const _hh$temp806=__arrayFrom$(u.useState(n)),o=_hh$temp806[0],s=_hh$temp806[1],_hh$temp807=__arrayFrom$(u.useState("")),a=_hh$temp807[0],r=_hh$temp807[1],_hh$temp808=__arrayFrom$(u.useState(!1)),c=_hh$temp808[0],d=_hh$temp808[1],m=!a||a.trim().length===0||c,p=t==="permanent"?e("composer.userBan.permanent"):e("composer.userBan.temporary",{duration:e(t==="1-hr"?"composer.userBan.duration1Hr":"composer.userBan.duration24Hr")}),h=e(t==="permanent"?"composer.userBan.banMessagePermanent":"composer.userBan.banMessageTemporary"),v=async ()=>{if(!m){nn({source:"submitBanAppeal"}),d(!0);try{await Nt({path:"/user/bans/appeal",args:{body:{appealText:`APPEAL: ${a}`}}}),s("confirm-submission"),qt(Sf,new Date().toISOString());}catch(y){R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitBanAppeal",eventInfo_errorMessage:String(y),eventInfo_details:"Error submitting ban appeal"}});}d(!1);}}; return i.jsxs("main",{className:"relative size-full",children:[i.jsx(qs,{forceGradient:!0}),i.jsxs(Dt,{id:o,className:"relative z-10 m-auto flex h-dvh max-w-[540px] flex-col items-center justify-center gap-3 p-12 text-center",children:[o==="main"&&i.jsxs(i.Fragment,{children:[i.jsx("h1",{className:"text-4xl",children:p}),i.jsx("p",{children:h}),t==="permanent"&&i.jsx(X,{color:"strong",size:"56-xl",className:"mt-6 w-full",title:e("composer.userBan.submitAppeal"),onClick:()=>s("submit-appeal"),children:e("composer.userBan.submitAppeal")}),i.jsx(po,{msg:`${p}. ${h}`})]}),o==="submit-appeal"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex w-full items-center pb-4",children:[i.jsx(X,{variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:e("common.backText"),onClick:()=>s("main"),children:i.jsx(ci,{className:"size-5 -rotate-90"})}),i.jsx("h2",{className:"grow pe-8",children:e("composer.userBan.submitAppeal")})]}),i.jsx("textarea",{className:"h-[240px] w-full resize-none rounded-xl bg-background-100 p-4 placeholder:text-foreground-650 contrast-more:border-2 dark:text-white",onChange:y=>r(y.target.value),disabled:c,placeholder:e("composer.userBan.submitAppealPlaceholder")}),i.jsx(X,{color:"strong",className:"w-full",size:"56-xl",title:e("common.submitText"),onClick:v,disabled:m,children:e("common.submitText")})]}),o==="confirm-submission"&&i.jsxs(i.Fragment,{children:[i.jsx("h1",{className:"text-4xl",children:e("composer.userBan.appealSubmitted")}),i.jsx("p",{children:e("composer.userBan.appealSubmittedDescription")}),i.jsx(po,{msg:`${e("composer.userBan.appealSubmitted")}, ${e("composer.userBan.appealSubmittedDescription")}`})]})]})]})}function ade(e){const t=M(Ts);M(fg);const n=M(x1),o=M(Or),s=!rt("kill-underage-compliance"),a=M(hN),r=W("anonymous-block-page"),c=Z.instance().config();return o==="user-banned"?{type:"user-banned"}:o==="age-verification"?{type:"age-verification"}:o==="tier-4-region-block"?{type:"tier-4-region-block"}:o?{type:"error"}:!e&&t?{type:"account-action-required",action:t}:!a&&r&&c.anonymousBlockPageEnabled?{type:"anonymous-block-page"}:s&&n?.compliance?{type:"underage-compliance"}:{type:"ready"}}function rde(e){ const _hh$temp809=e,t=_hh$temp809.children,n=_hh$temp809.appInitialized,o=ade(n); switch(o.type){case"user-banned":return i.jsx(sde,{});case"age-verification":return i.jsx(Due,{});case"tier-4-region-block":return i.jsx(ode,{});case"anonymous-block-page":return i.jsx(ede,{});case"error":return i.jsx(z0,{});case"account-action-required":return i.jsx(vue,{accountActionRequired:o.action});case"initializing":return null;case"underage-compliance":return i.jsx(Yue,{});case"ready":default:return t}}function ide(e){ const _hh$temp810=e,t=_hh$temp810.children; vce(),hle(),Sm(),UZ(),xce(),Fle(); const _hh$temp811=Qle(),n=_hh$temp811.appInitialized; Oce(),Pce(n),uce(),uue();const o=yle(),s=q(y1);return fle({isEnabled:o,onIntercept:s,shouldIntercept:a=>D1(a)}),due({isAppInitialized:n}),kZ(),nee(),TZ(n),AZ({appInitialized:n}),Cle(n),Cce(),Mce(),lue(),ice(),ple(n),Sle(),cce(),yce(),Fce(),gle(),vle(),i.jsx(rde,{appInitialized:n,children:t})}const ub="errorReloadTimestamp",cde=1e4;function lde(){const e=Xt(ub);if(e===null)return!1;uo(ub);const t=Date.now()-e;return t>=0&&t<cde}function ude(){const e=M(qd),t=u.useRef(!1);u.useEffect(()=>{if(e&&!t.current){const n=lde();R.trackEvent({name:"system",data:{eventName:"copilotStart",eventInfo_duration:window.appEnd-window.appStart,eventInfo_landingPage:R.getLandingPage(),...n&&{eventInfo_customData:JSON.stringify({errorReload:!0})}}}),R.flush(),t.current=!0}},[e])}function Z3(e,t){if(e){if(e.indexOf("-")!==-1)return e;if(t)return`${e}-${t}`}else if(t)return t;return"en-US"}function g9e(){const e=j(Ut);return Z3(st.resolvedLanguage,e)}function J3(){ const _hh$temp812=Y(),e=_hh$temp812.i18n,t=M(Ut); return Z3(e.resolvedLanguage,t)}const dde={"shopping-homepage":["en-US"]};function Q3(e,t){const n=J3(),o=M(Ut),s=rt(t),a=W(e),r= __get$(dde,e) ,c=r?r.some(d=>{if(n.toLowerCase()!==d.toLowerCase())return!1;const m=d.split("-")[1];return!m||!o?!1:m.toLowerCase()===o.toLowerCase()}):!1;return s?!1:a?!0:c}function X3(e){if(e.length===0)throw new Error("Array must have at least one element");return Math.floor(Math.random()*e.length)}function v9e(e,t){if(e.length===1)throw new Error("Array must have at least two elements");let n;do n=X3(e);while(n===t);return n}function mde(e){if(e.length!==0)return  __get$(e,X3(e)) }function pde(e){const t=[...e];for(let n=e.length-1;n>0;n-=1){const o=Math.floor(Math.random()*(n+1)),s= __get$(t,n) ;s&& __get$(t,o) &&( __set$(t,n,__get$(t,o)) , __set$(t,o,s) )}return t}function y9e(e,t){if(e.length!==t.length)return!1;const n=[...e].sort(),o=[...t].sort();return n.every((s,a)=>s=== __get$(o,a) )}function C9e(e,t){for(let n=e.length-1;n>=0;n-=1){const o= __get$(e,n) ;if(o!==void 0&&t(o,n,e))return o}}const fde={refetchOnWindowFocus:!1,refetchOnReconnect:!1,staleTime:1/0,refetchInterval:fh};function hde(e,t){return ut(e,Nz,t?{query:{"api-version":"2"}}:void 0).then(n=>n.data)}function mn(e){return Array.isArray(e)?xn(e):{positive:xn(e.positive),negative:xn(e.negative)}}function xn(e){const t=e,n=t.slice(0,-1),o=t.slice(-1);return[...pde(n),...o]}function gde(e){return{newsArticle:xn(e.newsArticle),newsVideo:xn(e.newsVideo),newsGem:xn(e.newsGem),chat:xn(e.chat),dailyBriefing:xn(e.dailyBriefing),podcast:xn(e.podcast),default:xn(e.default)}}function vde(e){return{journey:xn(e.journey),product:xn(e.product)}}function yde(){ const e=W("adspositivefeedbacksurvey"),t=W("speech-language-setting"),n=Q3("shopping-homepage","kill-shopping-homepage"),o=W("map-panel"),s=e||t||n||o,a=s?"v2":"v1",_hh$temp813=Fo({queryKey:["config",a],queryFn:()=>hde("/config",s),...fde}),r=_hh$temp813.data,c=_hh$temp813.refetch,d=q(Zc),m=q(f1),p=q(oT),h=q(iT),v=q(bse),y=q(Ise),C=q(Ese),S=q(Wd),b=q(h1),I=q(sT),x=q(Io),E=q(q$),k=q(K$); A3(c),u.useEffect(()=>{if(r){d(r.voices),r.voiceLanguages&&m(r.voiceLanguages),p(r.signInPrompts),h(r.maxTextMessageLength),v(r.maxPageContentLength),C(r.pageLimit),y(r.maxPageTitleLength),r.characters&&b(r.characters),r.feedbackOptions.text=xn(r.feedbackOptions.text),r.feedbackOptions.image=xn(r.feedbackOptions.image),r.feedbackOptions.discover&&(r.feedbackOptions.discover=gde(r.feedbackOptions.discover)),r.feedbackOptions.shoppingHome&&(r.feedbackOptions.shoppingHome=vde(r.feedbackOptions.shoppingHome)),r.feedbackOptions.card.local=mn(r.feedbackOptions.card.local),r.feedbackOptions.card.ads=mn(r.feedbackOptions.card.ads),r.feedbackOptions.card.video=mn(r.feedbackOptions.card.video),r.feedbackOptions.card.image=mn(r.feedbackOptions.card.image),r.feedbackOptions.card.shopping=mn(r.feedbackOptions.card.shopping),r.feedbackOptions.card.recipe=mn(r.feedbackOptions.card.recipe),r.feedbackOptions.card.sports=mn(r.feedbackOptions.card.sports),r.feedbackOptions.card.finance=mn(r.feedbackOptions.card.finance),r.feedbackOptions.card.quiz=mn(r.feedbackOptions.card.quiz),r.feedbackOptions.card.weather=mn(r.feedbackOptions.card.weather),r.feedbackOptions.card.personalArtifacts=mn(r.feedbackOptions.card.personalArtifacts),r.feedbackOptions.card.healthcareInfo=mn(r.feedbackOptions.card.healthcareInfo),r.feedbackOptions.card.navigation=mn(r.feedbackOptions.card.navigation),r.feedbackOptions.card.healthcareEntity=mn(r.feedbackOptions.card.healthcareEntity),r.feedbackOptions.card.audioCallSummary=mn(r.feedbackOptions.card.audioCallSummary),S(r.feedbackOptions),I(r.messagePreview);const w=F=>{const K={};for(const G of F)G in Xn&& __get$(Xn,G) &&( __set$(K,G,__get$(Xn,G)) );return K},_=w(r.attachments.image.mimeTypes),N=w(r.attachments.document.mimeTypes),L=j(N_),B=(F,K)=>({maxBytes:F.maxBytes??K.maxBytes,mimeTypes:Object.keys(F.mimeTypes??{}).length?F.mimeTypes??{}:K.mimeTypes});x({maxFilesPerMessage:r.attachments.maxFilesPerMessage||L.maxFilesPerMessage,image:B({maxBytes:r.attachments.image.maxBytes,mimeTypes:_},L.image),document:B({maxBytes:r.attachments.document.maxBytes,mimeTypes:N},L.document)}),E(r.portraits??[]),k(r.characterAppearance??null)}},[r,p,d,h,v,y,S,b,C,I,x,E,k,m])}const ek=f({locale:l(),etag:l().nullable(),connectors:T(jw)});let Wr=Ht(QI,ek);function Cde(){return Wr?.connectors??null}function Sde(){return Wr?.etag??null}function bde(){return Wr?.locale??null}function Ide(e){return Wr?.connectors.find(t=>t.type===e)??null}function Ede(e,t,n){Wr={locale:e,etag:t,connectors:n},No(QI,ek,Wr)}const kr={getAllCachedConnectorMetadata:Cde,getCachedConnectorMetadataByConnectorType:Ide,getCachedEtag:Sde,getCachedLocale:bde,setCache:Ede},wde="connectorMetadata",Tde="/connectors";async function xde(e){const t={"Content-Type":"application/json"};e&&(t["If-None-Match"]=e); const _hh$temp814=await ut(Tde,WW,{options:{method:"GET",headers:t},onFailedRequest:a=>a.status!==304}),n=_hh$temp814.data,o=_hh$temp814.response; if(o.status===304)return{connectors:kr.getAllCachedConnectorMetadata()??[],etag:e};const s=o.headers.get("ETag");return{connectors:n?.connectors??[],etag:s}}function tk(){const e=kt(),t=W("connector-metadata");return e&&t}function Ade(){ const e=zh(),t=tk(),_hh$temp815=Y(),n=_hh$temp815.i18n,o=n.resolvedLanguage; return u.useCallback(async()=>{if(!t)return null;const s=kr.getCachedLocale(),a=o===s?kr.getCachedEtag():null,r=await e.fetchQuery({queryKey:[wde],queryFn:()=>xde(a)});return r.connectors.length>0&&o&&kr.setCache(o,r.etag,r.connectors),r},[t,e,o])}function _de(){ const e=tk(),t=Ade(),_hh$temp816=Y(),n=_hh$temp816.i18n; u.useEffect(()=>{e&&t()},[e,t,n.resolvedLanguage])}function kde(){const e=hg(gt);return u.useCallback(n=>{e(o=>{for(const _hh$temp817 of n){ const s=_hh$temp817.id,a=_hh$temp817.title,r=_hh$temp817.updatedAt,c=_hh$temp817.characterId,d=_hh$temp817.continuedAt,m=_hh$temp817.group,p=_hh$temp817.isPinned,h=_hh$temp817.type,v=_hh$temp817.conversationType,y=_hh$temp817.source,C=_hh$temp817.url,S=_hh$temp817.taskId,b=_hh$temp817.status; const I=o.get(s);I?(a&&(I.title=a),I.updatedAt=r,I.characterId=c??null,I.continuedAt=d,I.group=m??null,I.isPinned=p??!1,I.type=h,v&&(I.conversationType=v),I.source=y,I.url=C,I.taskId=S,I.status=b):o.set(s,{id:s,title:a,updatedAt:r,characterId:c??null,history:[],continuedAt:null,group:m??null,isPinned:p??!1,type:h,conversationType:v,source:y,url:C,taskId:S,status:b})}})},[e])}function nk(){const e=W("m365-wxp-history-sync"),t=M(MK);return e&&t}function Pde(e,t){if(!e&&!t)return;const n=new Set(["chat","character","xbox"]);return e&&n.add("group"),t&&n.add("m365"),Array.from(n).join(",")}function Mde(){const e=kde(),t=q(zd),n=W("group-conversations"),o=nk();return u.useCallback(async( _hh$temp818 )=>{ var a=_hh$temp818.url,r=_hh$temp818.args,c=_hh$temp818.isFirstPage; const d=Pde(n,o),m=await ut(a,rG,{query:{...r,...d?{types:d}:{}}}).then(p=>p.data);if(m.results.length>0){const p=m.results.map(h=>({...h,history:[]}));e(p),t(!0)}else c&&t(!1);return m},[n,o,e,t])}function G0(e){ const _hh$temp819=K7({staleTime:6048e5,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,...e}),t=_hh$temp819.data,n=_hh$temp819.error,o=_hh$temp819.isPending,s=_hh$temp819.isFetchingNextPage,a=_hh$temp819.hasNextPage,r=_hh$temp819.fetchNextPage,c=_hh$temp819.refetch,d=u.useCallback(async ()=>{a&&await r();},[r,a]),m=t?.pages,p=o||s,h=u.useCallback(async ()=>{await c({cancelRefetch:!1});},[c]); return{loader:{loading:p,hasNextPage:a,error:n??void 0,onLoadMore:d,data:m},refetch:h}}function Rde(){const e=Mde(),t=nk();return G0({queryKey:["conversations",{m365Sync:t}],queryFn: _hh$temp820=>{var n=_hh$temp820.pageParam;return e(n);} ,initialPageParam:{url:"/conversations",isFirstPage:!0},getNextPageParam:n=>n.next?{url:"/conversations",args:{cursor:n.next}}:null})}const W0=P("default");async function Nde( _hh$temp821 ){ var e=_hh$temp821.imgSrc,t=_hh$temp821.givenName; const n=$("3p-migration-phase-1"),o=await Dn.instance().hasBothMsalAndAuth0Accounts();let s=e,a=t;const r=Mt(ac),c=Mt(ku);return n&&o?(c&&(s=c),r&&(a=r)):n||(ft(ku),ft(ac)),{imgSrc:s,givenName:a}}async function Lde(e){const t=$("3p-migration-phase-1"),n=await Dn.instance().hasBothMsalAndAuth0Accounts();let o=e;const s=Mt(ac);return t&&n&&s&&e&&e!==s&&(o=s,vn({apiName:On.NAME_INCONSISTENT})),o}const Dde="aster";function Ode(){return Z.instance().config().defaultVoiceId??Dde}function Ude(){const e=q(Ut),t=q(IK),n=!rt("kill-picasso-id-on-start");return u.useCallback(async()=>{ const o=await ut("/user",iw,{parseOptions:{safe:!0},returnResponseWithData:!0,query:{"api-version":VA},retry:D0,requestTimeoutMs:gc}).then(d=>d.data),_hh$temp822=o,s=_hh$temp822.id,a=_hh$temp822.anid,r=_hh$temp822.isHistoryMigrationPending; R.setAnid(a);const c=R.getPicassoId();return c!==null&&c!==s&&R.trackEvent({name:"health",data:{eventName:"userIdMismatch",eventInfo_customData:JSON.stringify({existingPicassoId:c,newPicassoId:s,origin:"user"})}}),n||R.setPicassoId(s),t(r),e(o.regionCode),o},[n,t,e])}function Fde(){ const e=M(mt),t=M(Lc),_hh$temp823=Rde(),n=_hh$temp823.refetch,o=Ude(),s=q(yt),a=q(H$),r=q(Ia),c=q(Xr),d=q(w1),m=q(RT),p=q(W0),h=q(LT),v=q(jr),y=q(DT),C=q(hK),S=q(tq),b=q(Uf),I=q(SK),x=q(gK),E=q(vK),k=q(yK),w=q(CK),_=q(bK),N=q(kT),L=q(Kd),B=q(Yd),F=q(Zd),K=q(OT),G=q(x1),te=ri(),ne=W("account-change-chat-reset"),ae=Sm()[0]==="audioCall"; u.useEffect(()=>{(async()=>{a(!0);try{ const he=Promise.all([o(),ut("/user/settings",Jz,{query:{"api-version":"2"},returnResponseWithData:!0,retry:D0,requestTimeoutMs:gc}).then(It=>It.data),n()]),Ee=Dn.instance().getUserInfo(),_hh$temp824=__arrayFrom$(await he),_hh$temp824$i0=_hh$temp824[0],Ae=_hh$temp824$i0.id,Ue=_hh$temp824$i0.preferredName,Fe=_hh$temp824$i0.firstName,ke=_hh$temp824$i0.isPro,Ve=_hh$temp824$i0.inEeaPlusRegion,De=_hh$temp824$i0.isEligibleForFreeTrial,le=_hh$temp824$i0.phoneLink,oe=_hh$temp824$i0.ageGroup,we=_hh$temp824$i0.allowedToggles,se=_hh$temp824$i0.remainingUsage,z=_hh$temp824$i0.subscriptions,Q=_hh$temp824$i0.accountTier,me=_hh$temp824$i0.requiredConsents,_hh$temp824$i1=_hh$temp824[1],pe=_hh$temp824$i1.preferredVoice,We=_hh$temp824$i1.preferredCharacter,be=_hh$temp824$i1.preferredVoiceLanguage,ge=_hh$temp824$i1.personality,Ne=_hh$temp824$i1.toggles,Ke=!Ne.training,Me=!Ne.personalization,Ye=!Ne["phone-connection"],re=Ne["voice-training"],He=Ne["biometric-data-use"],nt=Ne["browser-cookies"],ve=Ne["microsoft-profile-access"],je=Ne["one-drive-access"],it=Ne["computer-use-actions"],_hh$temp825=Ne,In=_hh$temp825.allowOutlookAccess,jn=_hh$temp825.allowEdgePasswordsAccess,Bn=_hh$temp825.optInToGenerativeUI; R.setIsAad(t);const un=await Lde(Fe);if(s({id:Ae,preferredName:Ue,firstName:un,isPro:ke&&!t,inEeaPlusRegion:Ve,isEligibleForFreeTrial:De,phoneLink:le,ageGroup:oe,allowedToggles:we,subscriptions:z,accountTier:Q,isStudent:void 0,requiredConsents:me}),N(Ue??un??void 0),!ne&&!ae&&await Cm(),c(pe||Ode()),d(be??""),te&&We){const It=Yw(We);m(It)}h(Ke),v(re),y(Me),C(!!Ye),S(!!Bn),b(!!He),I(nt),x(!!ve),E(!!je),k(!!In),w(!!jn),_(it),G(me),p(ge?.traits[0]??"default"),se&&(L(se.podcastGenerations),B(se.researchCalls),F(se.videoGenerations),K(se.taskCreations)),R.setSettings({userSettingVoiceType:pe??void 0,userConsentPersonalization:!Me,userConsentModelTraining:!Ke,userSettingComputerUseActions:it??void 0,userSubscription:ke?"pro":"free",accountTier:Q??"free",activeSubscriptions:z?.map(It=>It.tier).join(",")??""});const Vn=await Ee;if(Vn){ const _hh$temp826=Vn,It=_hh$temp826.mail,dn=_hh$temp826.isStudent,Vo=_hh$temp826.givenName,Ho=_hh$temp826.imgSrc,zo=await Nde({imgSrc:Ho,givenName:Vo}); s(vs=>vs&&{...vs,givenName:zo.givenName,email:It,imgSrc:zo.imgSrc,isStudent:dn}),zo.givenName&&!Ue&&!Fe&&N(zo.givenName),t||r(null)}}finally{a(!1)}})().catch(console.error)},[e,ne,s,a,r,n,h,c,te,C,S,v,y,b,I,x,E,_,o,t,m,ae,N,L,B,F,K,G,k,w,d,p])}function ml(){ const e=Z.instance().config().connectorPlatform?.additionalGoogleAuthCheck,_hh$temp827=__arrayFrom$(u.useState(e===void 0)),t=_hh$temp827[0],n=_hh$temp827[1]; return u.useEffect(()=>{if(typeof e!="function")return;const o=e;async function s(){await o()&&n(!0)}s().catch(()=>{})},[e]),t}const ok=()=>{ const e=rt("kill-google-drive-connector"),_hh$temp828=Z.instance().config().connectorPlatform??{},_hh$temp828$isGoogleDriveEnabled=_hh$temp828.isGoogleDriveEnabled,t=_hh$temp828$isGoogleDriveEnabled===void 0?!1:_hh$temp828$isGoogleDriveEnabled,n=ml(); return!e&&t&&n},jde=()=>{ const e=rt("kill-google-calendar-connector"),_hh$temp829=Z.instance().config().connectorPlatform??{},_hh$temp829$isGoogleCalendarEnabled=_hh$temp829.isGoogleCalendarEnabled,t=_hh$temp829$isGoogleCalendarEnabled===void 0?!1:_hh$temp829$isGoogleCalendarEnabled,n=ml(); return!e&&t&&n},sk=()=>{ const e=M(Sd),t=rt("kill-outlook-connector"),_hh$temp830=Z.instance().config().connectorPlatform??{},_hh$temp830$isOutlookEnabled=_hh$temp830.isOutlookEnabled,n=_hh$temp830$isOutlookEnabled===void 0?!1:_hh$temp830$isOutlookEnabled; return!t&&e&&n},ak=()=>{ const e=M(Sd),t=rt("kill-onedrive-connector"),_hh$temp831=Z.instance().config().connectorPlatform??{},_hh$temp831$isOneDriveEnabled=_hh$temp831.isOneDriveEnabled,n=_hh$temp831$isOneDriveEnabled===void 0?!1:_hh$temp831$isOneDriveEnabled; return!t&&e&&n},rk=()=>{ const e=rt("kill-google-mail-connector"),_hh$temp832=Z.instance().config().connectorPlatform??{},_hh$temp832$isGmailEnabled=_hh$temp832.isGmailEnabled,t=_hh$temp832$isGmailEnabled===void 0?!1:_hh$temp832$isGmailEnabled,n=ml(); return!e&&t&&n},ik=()=>{ const e=rt("kill-google-contacts-connector"),_hh$temp833=Z.instance().config().connectorPlatform??{},_hh$temp833$isGoogleContactsEnabled=_hh$temp833.isGoogleContactsEnabled,t=_hh$temp833$isGoogleContactsEnabled===void 0?!1:_hh$temp833$isGoogleContactsEnabled,n=ml(); return!e&&t&&n},ck=()=>{ const e=W("google-tasks-connector"),_hh$temp834=Z.instance().config().connectorPlatform??{},_hh$temp834$isGoogleTasksEnabled=_hh$temp834.isGoogleTasksEnabled,t=_hh$temp834$isGoogleTasksEnabled===void 0?!1:_hh$temp834$isGoogleTasksEnabled,n=ml(); return e&&t&&n},lk=()=>{ const e=M(Sd),t=W("edge-browser-connector"),_hh$temp835=Z.instance().config().connectorPlatform??{},_hh$temp835$isEdgeBrowserEnabled=_hh$temp835.isEdgeBrowserEnabled,n=_hh$temp835$isEdgeBrowserEnabled===void 0?!1:_hh$temp835$isEdgeBrowserEnabled; return e&&t&&!!n},Sh="userConnectors",Bde="/connections",Vde=["one-drive","outlook","edge-browser","gmail","google-calendar","google-contacts","google-tasks","google-drive","apple-health","health-ex","fitbit","oura","garmin"];async function Hde(){ const _hh$temp836=await ut(Bde,HW,{options:{method:"GET",headers:{"Content-Type":"application/json"}}}),e=_hh$temp836.data; return e.connections}function zde(){ const e=kt(),t=ok(),n=jde(),o=sk(),s=ak(),a=rk(),r=ik(),c=ck(),d=lk(),m=W("connector-health-wearables"),p=W("connector-health-ex"),h=e&&(t||n||o||s||a||r||c||d||m||p),v=q(Fr),y=et("kill-google-drive-connector"),C=u.useMemo(()=>{let x=[...Vde];if((y||!t)&&(x=x.filter(E=>E!=="google-drive")),o||(x=x.filter(E=>E!=="outlook")),n||(x=x.filter(E=>E!=="google-calendar")),s||(x=x.filter(E=>E!=="one-drive")),a||(x=x.filter(E=>E!=="gmail")),r||(x=x.filter(E=>E!=="google-contacts")),c||(x=x.filter(E=>E!=="google-tasks")),d||(x=x.filter(E=>E!=="edge-browser")),p||(x=x.filter(E=>E!=="health-ex")),!m){const E=["apple-health","oura","garmin","fitbit"];x=x.filter(k=>!E.includes(k));}return x;},[y,o,n,s,a,r,c,t,d,p,m]),_hh$temp837=Fo({queryKey:["userConnectors"],queryFn:Hde,enabled:h}),S=_hh$temp837.data,b=_hh$temp837.error,I=_hh$temp837.isLoading; return u.useEffect(()=>{if(S!==void 0){const x=C.map(E=>{const k=S.find(w=>w.type===E);return{type:E,status:k?.status??"disconnected",id:k?.id??`${E}-${crypto.randomUUID()}`,scopes:k?.scopes??[]}});v(x)}},[S,v,C]),{isLoading:I,error:!!b,data:I||!S?null:S}}const Gde=f({isMobileAppInstalled:V()}),Wde="/user/install-status",$de={refetchOnWindowFocus:!1,refetchOnReconnect:!1,staleTime:6e4};async function qde(){try{return(await ut(Wde,Gde,{options:{method:"GET"}})).data.isMobileAppInstalled}catch(e){throw console.error("Failed to fetch mobile app install status:",e),e}}function Kde(){ const e=q(nq),_hh$temp838=Fo({queryKey:["mobileAppInstallStatus"],queryFn:qde,...$de}),t=_hh$temp838.data,n=_hh$temp838.error,o=_hh$temp838.isLoading,s=_hh$temp838.refetch; return u.useEffect(()=>{t!==void 0&&e(t)},[t,e]),{isMobileAppInstalled:t,isLoading:o,error:n,refetch:s}}function Yde(){const e=rt("kill-windows-protocol-launcher"),t=M(v1),n=M(Qw);u.useEffect(()=>{if(e||!d5()||!n)return;(async()=>{try{await nle({prompt:t??void 0})}catch(s){console.error(s)}})()},[n,e,t])}const bh="composer-visible",uk="composer-input";function Zde(e){return e.entryType==="element"&&"identifier"in e}function Jde(){performance.getEntriesByName("startupTime-begin").length||performance.mark("startupTime-begin",{startTime:window.appStart});const e=performance.measure("measure-TTC","startupTime-begin",bh);jo({feature:"composer",scenario:"measure-TTC",duration:e.duration})}function Qde(){const e=ll();if(typeof window>"u"||!e)return()=>{};const t= new PerformanceObserver(n=>{try{if(performance.getEntriesByName(bh).length>0){t.disconnect();return;}for(const o of n.getEntries()){if(!Zde(o))continue;const _hh$temp839=o,s=_hh$temp839.startTime,a=_hh$temp839.entryType,r=_hh$temp839.identifier;if(a==="element"&&r===uk){performance.mark(bh,{startTime:s}),Jde(),t.disconnect();break;}}}catch{}}) ;return t.observe({type:"element",buffered:!0}),()=>t.disconnect()}function Xde(){u.useEffect(()=>Qde(),[])}function eme(){return Fde(),zde(),_de(),Kde(),yde(),Sae(),ude(),Yde(),Xde(),null}async function tme(){const e=_e();async function t(){try{Z.instance().config().enableAuth0&&await Po.get(); const _hh$temp840=await Bt.get(),n=_hh$temp840.msal; R.trackEvent({name:"system",data:{eventName:"copilotMsalInit",eventInfo_initTrigger:"DCL",eventInfo_timing:performance.now()-window.appStart}}),n.addEventCallback(async r=>{vY(r); const _hh$temp841=await Sa(),c=_hh$temp841.EventType; r.eventType===c.ACCOUNT_ADDED?e.set(Ts,{reason:"login"}):r.eventType===c.ACCOUNT_REMOVED&&e.set(Ts,{reason:"logout"})}),await Dn.instance().initAuthAccount(),e.set(fg,!0); const _hh$temp842=Z.instance().config(),s=_hh$temp842.monitorAccountChangesAcrossTabs,a=_hh$temp842.enableAuth0; s&&n.enableAccountStorageEvents(),a&&s&&Bf.addEventListener("message",r=>{const c=KW.safeParse(r.data);if(!c.success)return; const _hh$temp843=c.data,d=_hh$temp843.eventName; d==="auth0.accountAdded"?e.set(Ts,{reason:"login"}):d==="auth0.accountRemoved"&&e.set(Ts,{reason:"logout"})})}catch(n){R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"MsalInitError",eventInfo_details:"DCL",eventInfo_errorMessage:n instanceof Error?n.message:""}})}}return t()}function nme(){if(typeof document>"u")return;const e=()=>{setTimeout(()=>tme(),0)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e,{once:!0}):e()}const ome={"wchromium-home":"pt-0 md:pt-0","wchromium-default":"pt-10 md:pt-10"},sme={wchromium:{"header-top-padding":"pt-0","content-top-padding":"pt-[44px]"}};function dk(e,t){if(e)return  __get$(__get$(sme,e),t) }const mk={LAYOUT:"layout-ttvr-element",SIDEBAR:"sidebar-ttvr-element"};function fi(){return Z.instance().config().alwaysShowSidebar??!1}function pk(){const e=vt({breakpoint:"sm"});return(Z.instance().config().responsiveFullWidthSidebarEnabled??!1)&&e}function ame(e){return["/login","/e/so","/e/sol","/fang","/subscription/ewallet/return","/subscription/redeem/enel"].includes(e)}function Ks(){const e=Yt(),t=M(dN);return(Z.instance().config().sidebarNavigation??!1)&&t&&!ame(e)}function hi(){const e=Ks(),t=W("sidebar-narrow"),n=Z.instance().config().useCompactSidebarHeader??!1;return e&&t&&!n}function pl(){const e=Ks(),t=hi(),n=M(Lo),o=vt({breakpoint:"md"}),s=fi();return e&&t&&!n&&(!o||s)}function fl( _hh$temp844 ={}){ var _hh$temp844$endDelay=_hh$temp844.endDelay,e=_hh$temp844$endDelay===void 0?200:_hh$temp844$endDelay;  const _hh$temp845=__arrayFrom$(u.useState(!1)),t=_hh$temp845[0],n=_hh$temp845[1],o=u.useRef(null); return u.useEffect(()=>{if(typeof window>"u")return()=>{};const s=()=>{n(!0),o.current!==null&&window.clearTimeout(o.current),o.current=window.setTimeout(()=>{n(!1)},e)};return window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s),o.current!==null&&window.clearTimeout(o.current)}},[e]),t}const rme="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";function $0(e){ const _hh$temp846=e,t=_hh$temp846.elementTiming; return i.jsx("img",{elementtiming:t,src:rme,alt:"","aria-hidden":"true",className:"pointer-events-none absolute size-px"})}const ime="secondary",cme=!1,lme="2xs",ume=!0,dme="outline",mme="regular",pme={"2xs":"h-min text-2xs px-0.5",sm:"h-5 text-xs px-2",md:"h-6 text-xs px-2.5"},fme={secondary:{soft:"bg-background-200 text-foreground-800",solid:"bg-foreground-800 text-background-100",outline:"bg-transparent text-foreground-800 border border-foreground-450"},success:{soft:"bg-system-green-250 text-system-green-550 dark:bg-system-green-750 dark:text-system-green-350",solid:"bg-system-green-550 text-foreground-100 dark:bg-system-green-400 dark:text-foreground-900",outline:"bg-transparent text-system-green-550 border border-system-green-550 dark:text-system-green-350 dark:border-system-green-350"},danger:{soft:"bg-system-red-200 text-system-red-550 dark:bg-system-red-650 dark:text-system-red-350",solid:"bg-system-red-550 text-foreground-100 dark:bg-system-red-400 dark:text-foreground-900",outline:"bg-transparent text-system-red-550 border border-system-red-550 dark:text-system-red-350 dark:border-system-red-350"},warning:{soft:"bg-system-orange-100 text-system-orange-300 dark:bg-system-orange-650 dark:text-system-orange-400",solid:"bg-system-orange-400 text-foreground-100 dark:text-foreground-900",outline:"bg-transparent text-system-orange-300 border border-system-orange-300 dark:text-system-orange-400 dark:border-system-orange-400"}},hme={regular:"font-normal",light:"font-[450] [font-variation-settings:'wght'_450]"};function Qu(e){ const _hh$temp847=e,t=_hh$temp847.baseClassName,n=_hh$temp847.children,o=_hh$temp847.className,s=_hh$temp847.color,_hh$temp847$colorVariantClassNameMap=_hh$temp847.colorVariantClassNameMap,a=_hh$temp847$colorVariantClassNameMap===void 0?fme:_hh$temp847$colorVariantClassNameMap,r=_hh$temp847.fontWeight,_hh$temp847$fontWeightClassNameMap=_hh$temp847.fontWeightClassNameMap,c=_hh$temp847$fontWeightClassNameMap===void 0?hme:_hh$temp847$fontWeightClassNameMap,d=_hh$temp847.pill,m=_hh$temp847.size,_hh$temp847$sizeClassNameMap=_hh$temp847.sizeClassNameMap,p=_hh$temp847$sizeClassNameMap===void 0?pme:_hh$temp847$sizeClassNameMap,h=_hh$temp847.text,v=_hh$temp847.uppercase,y=_hh$temp847.variant,C=_hh$temp847.ariaLabel; return i.jsxs("span",{"aria-label":C,className:O(t??"inline flex-none rounded", __get$(__get$(a,s??ime),y??dme) ,(d??cme)&&"rounded-full", __get$(p,m??lme) ,(v??ume)&&"uppercase", __get$(c,r??mme) ,o),children:[n,h]})}function fk( _hh$temp848 ){ var e=_hh$temp848.defaultValue,t=_hh$temp848.controlledValue,n=_hh$temp848.onChange;  const o=t!==void 0,_hh$temp849=__arrayFrom$(u.useState(e)),s=_hh$temp849[0],a=_hh$temp849[1]; return u.useEffect(()=>{o&&a(t)},[t,o]),{state:o?t:s,setState:d=>{o||a(d),n?.(d)}}}function hk(e){ const _hh$temp850=e,t=_hh$temp850.renderTrigger,n=_hh$temp850.triggerClick,o=_hh$temp850.children,s=_hh$temp850.className,a=_hh$temp850.options,r=_hh$temp850.isOpen,c=_hh$temp850.trapFocus,d=_hh$temp850.onIsOpenChange,_hh$temp851=fk({controlledValue:r,defaultValue:!1,onChange:d}),m=_hh$temp851.state,p=_hh$temp851.setState,_hh$temp852=a??{},_hh$temp852$disableFocusManager=_hh$temp852.disableFocusManager,h=_hh$temp852$disableFocusManager===void 0?!1:_hh$temp852$disableFocusManager,v=li(),_hh$temp853=Tc({open:m,placement:a?.placement??"bottom-end",onOpenChange:p,middleware:[Ic(a?.offset??1),Ec({fallbackAxisSideDirection:"end"}),wc(),Y7()],whileElementsMounted:qr}),y=_hh$temp853.refs,C=_hh$temp853.x,S=_hh$temp853.y,b=_hh$temp853.strategy,I=_hh$temp853.context,x=_hh$temp853.middlewareData,E=Wh(I),k=xc(I,{escapeKey:!1}),w=ad(I,{role:a?.roleType??"dialog"}),_hh$temp854=rd([E,k,w]),_=_hh$temp854.getReferenceProps,N=_hh$temp854.getFloatingProps; u.useEffect(()=>{if(!m)return;const B=F=>{F.key==="Escape"&&(F.preventDefault(),F.stopPropagation(),F.stopImmediatePropagation(),p(!1))};return document.addEventListener("keydown",B,{capture:!0}),()=>{document.removeEventListener("keydown",B,{capture:!0})}},[m,p]);const L=B=>{a?.stopReferencePropagation&&B.stopPropagation(),n?.(B)};return i.jsxs(i.Fragment,{children:[t?.({ref:y.setReference,..._({onClick:L})},m),m&&i.jsx(sd,{root:a?.rootRef,children:i.jsx($h,{context:I,modal:c,disabled:h,returnFocus:a?.returnFocus??!0,children:i.jsx("div",{ref:B=>{y.setFloating(B),a?.menuRef&&(a.menuRef.current=B)},style:{position:b,top:`${S}px`,[v?"insetInlineEnd":"insetInlineStart"]:`${C}px`,visibility:x.hide?.referenceHidden?"hidden":"visible"},"data-outside-events-ignore":a?.ignoreOutsideEvents?"":void 0,...N({onClick:B=>{a?.stopFloatingPropagation&&B.stopPropagation(),a?.hideOnMenuClick&&p(!1)}}),className:O("flex rounded-2xl p-1.5 shadow-xl",a?.overrideZIndex??at.modal,s),children:o})})})]})}function gme(e={}){ const _hh$temp855=e,_hh$temp855$disabled=_hh$temp855.disabled,t=_hh$temp855$disabled===void 0?!1:_hh$temp855$disabled,n=rt("kill-shared-page"),o=u.useCallback(async s=>{const _hh$temp856=s,a=_hh$temp856.pageParam,_hh$temp857=a,r=_hh$temp857.url,c=_hh$temp857.args,d={...c,...n?{}:{"api-version":"2"}};return await ut(r,JH,{query:d,analytics:{anonymousPath:"/pages"}}).then(p=>p.data);},[n]); return G0({queryKey:["pages"],queryFn:o,enabled:!t,initialPageParam:{url:"/pages",isFirstPage:!0},getNextPageParam:s=>s.next?{url:"/pages",args:{cursor:s.next}}:null})}function gk(e){ const _hh$temp858=e,t=_hh$temp858.callback,n=_hh$temp858.signInScenario,o=_hh$temp858.onShowSignIn,s=_hh$temp858.signInReason,a=kt(),r=q(Ws); return(...c)=>{if(!a){r({isOpen:!0,scenario:n,reason:s}),o&&typeof o=="function"&&o();return}t(...c)}}function Qa(){ const _hh$temp859=pi(),e=_hh$temp859.createConversation; return u.useCallback(async()=>{vk(),await e({shouldNavigateToChat:!1}),await wA()},[e])}function vk(){ye(en,null),ye(el,null),ye(Zf,null)}const q0=(e={})=>{ const _hh$temp860=e,t=_hh$temp860.circular,n=_hh$temp860.axis,_hh$temp860$memorizeCurrent=_hh$temp860.memorizeCurrent,o=_hh$temp860$memorizeCurrent===void 0?!0:_hh$temp860$memorizeCurrent,s=_hh$temp860.tabbable,a=_hh$temp860.ignoreDefaultKeydown,r=_hh$temp860.unstable_hasDefault; am(Z7);const c=Bu({mover:{cyclic:!!t,direction:vme(n??"vertical"),memorizeCurrent:o,tabbable:s,hasDefault:r},...a&&{focusable:{ignoreKeydown:a}}});return im()?{}:c};function vme(e){switch(e){case"horizontal":return Ti.Horizontal;case"grid":return Ti.Grid;case"grid-linear":return Ti.GridLinear;case"both":return Ti.Both;case"vertical":default:return Ti.Vertical}}function yme(e){const t=e.children[0];return t instanceof HTMLElement?t:null}function Cme(e,t=!0){u.useEffect(()=>{if(t&&e.current){const n=yme(e.current);n&&n.focus()}},[e,t])}const wo=e=>i.jsx(bme,{...e});wo.Motion=u.forwardRef(Sme);function Sme(e,t){ const _hh$temp861=e,n=_hh$temp861.children,_hh$temp861$axis=_hh$temp861.axis,o=_hh$temp861$axis===void 0?"vertical":_hh$temp861$axis,_hh$temp861$circular=_hh$temp861.circular,s=_hh$temp861$circular===void 0?!0:_hh$temp861$circular,a=_hh$temp861.tabbable,_hh$temp861$autoFocus=_hh$temp861.autoFocus,r=_hh$temp861$autoFocus===void 0?!1:_hh$temp861$autoFocus,c=__rest$Object(_hh$temp861,["children","axis","circular","tabbable","autoFocus"]),d=q0({axis:o,circular:s,tabbable:a}),m=u.useRef(null); return u.useImperativeHandle(t,()=>m.current,[]),f0(m,r),i.jsx(Ce.div,{ref:m,...d,...c,children:n})}function bme(e){ const _hh$temp862=e,t=_hh$temp862.children,_hh$temp862$axis=_hh$temp862.axis,n=_hh$temp862$axis===void 0?"vertical":_hh$temp862$axis,o=_hh$temp862.circular,s=_hh$temp862.tabbable,_hh$temp862$autoFocus=_hh$temp862.autoFocus,a=_hh$temp862$autoFocus===void 0?!1:_hh$temp862$autoFocus,r=__rest$Object(_hh$temp862,["children","axis","circular","tabbable","autoFocus"]),c=q0({axis:n,circular:o,tabbable:s}),d=u.useRef(null); return Cme(d,a),i.jsx("div",{ref:d,...c,...r,children:t})}function Ime(){ const _hh$temp863=Y(),e=_hh$temp863.t,t=Qa(),_hh$temp864=Xse(),n=_hh$temp864.createPage,o=kt(),s=W("pages-anonymous"),_hh$temp865=gme({disabled:!o&&!s}),a=_hh$temp865.refetch,r=async ()=>{Fse(),await (n?.({content:"",sourcePage:"createNewPage",impressionScenario:"actionMenuCreateNewPage",featureLatencyInfo:{scenario:"createPage",startTimestamp:Date.now()}})),await a();},c=gk({callback:r,signInScenario:"sidebarActionCreatePage",signInReason:"createPage"}),d=async ()=>{!o&&s?r():c();},m=()=>{setTimeout(()=>{d();},0);}; return i.jsxs(wo,{axis:"vertical",circular:!0,autoFocus:!0,tabbable:!0,role:"presentation",className:"flex flex-col",children:[i.jsx(X,{color:"subtle-dimmed-inverted",size:"40-base",variant:"rect",alignment:"start",title:e("sidebar.actions.newChat"),role:"menuitem",onClick:()=>{t()},children:e("sidebar.actions.newChat")}),i.jsx(X,{color:"subtle-dimmed-inverted",size:"40-base",alignment:"start",variant:"rect",title:e("sidebar.actions.newPage"),role:"menuitem",testId:"create-new-page-button",onClick:m,children:e("sidebar.actions.newPage")})]})}function yk(e){ const _hh$temp866=e,t=_hh$temp866.buttonSize,_hh$temp867=Y(),n=_hh$temp867.t,o=Bs(); return i.jsx(hk,{options:{placement:"bottom-end",hideOnMenuClick:!0,roleType:"menu"},className:Co,renderTrigger: (_hh$temp868,r)=>{var s=_hh$temp868.onClick,a=__rest$Object(_hh$temp868,["onClick"]);return i.jsx(X,{...a,testId:"sidebar-action-menu-button",title:n("sidebar.actions.menuTitle"),tooltip:{placement:"bottom",disabled:r},color:"subtle-dimmed-inverted",variant:"rect",size:t,className:"min-w-6 rounded-sm rounded-e-xl px-0",onClick:c=>{o&&(fe({source:"sidebarActionsMenu",customData:JSON.stringify({buttonSize:t})}),s(c));},id:"sidebar-new-action-menu-button",children:i.jsx(Eo,{className:"size-3.5 rotate-90"})});} ,children:i.jsx(Ime,{})})}const Ck= _hh$temp869=>{var e=_hh$temp869.title,t=_hh$temp869.titleId,n=__rest$Object(_hh$temp869,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M10.7327 19.7905C11.0326 20.0762 11.5074 20.0646 11.7931 19.7647C12.0788 19.4648 12.0672 18.99 11.7673 18.7043L5.51587 12.7497L20.25 12.7497C20.6642 12.7497 21 12.4139 21 11.9997C21 11.5855 20.6642 11.2497 20.25 11.2497L5.51577 11.2497L11.7673 5.29502C12.0672 5.00933 12.0787 4.5346 11.7931 4.23467C11.5074 3.93475 11.0326 3.9232 10.7327 4.20889L3.31379 11.2756C3.14486 11.4365 3.04491 11.6417 3.01393 11.8551C3.00479 11.9019 3 11.9503 3 11.9997C3 12.0493 3.00481 12.0977 3.01398 12.1446C3.04502 12.3579 3.14496 12.563 3.31379 12.7238L10.7327 19.7905Z"}));} ,S9e=Object.freeze(Object.defineProperty({__proto__:null,default:Ck},Symbol.toStringTag,{value:"Module"})),hl= _hh$temp870=>{var e=_hh$temp870.title,t=_hh$temp870.titleId,n=__rest$Object(_hh$temp870,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M21.7803 3.28033C22.0732 2.98744 22.0732 2.51256 21.7803 2.21967C21.4874 1.92678 21.0125 1.92678 20.7196 2.21967L10.7197 12.2197L10.25 13.75L11.7803 13.2803L21.7803 3.28033ZM6.25 3C4.45507 3 3 4.45508 3 6.25V17.75C3 19.5449 4.45507 21 6.25 21H17.75C19.5449 21 21 19.5449 21 17.75V9.75C21 9.33579 20.6642 9 20.25 9C19.8358 9 19.5 9.33579 19.5 9.75V17.75C19.5 18.7165 18.7165 19.5 17.75 19.5H6.25C5.2835 19.5 4.5 18.7165 4.5 17.75V6.25C4.5 5.2835 5.2835 4.5 6.25 4.5H14.25C14.6642 4.5 15 4.16421 15 3.75C15 3.33579 14.6642 3 14.25 3H6.25Z"}));} ,b9e=Object.freeze(Object.defineProperty({__proto__:null,default:hl},Symbol.toStringTag,{value:"Module"})),xm= _hh$temp871=>{var e=_hh$temp871.title,t=_hh$temp871.titleId,n=__rest$Object(_hh$temp871,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M3.75 8.5C3.75 8.08579 4.08579 7.75 4.5 7.75H5.75C6.16421 7.75 6.5 8.08579 6.5 8.5C6.5 8.91421 6.16421 9.25 5.75 9.25H4.5C4.08579 9.25 3.75 8.91421 3.75 8.5ZM3.75 12C3.75 11.5858 4.08579 11.25 4.5 11.25H5.75C6.16421 11.25 6.5 11.5858 6.5 12C6.5 12.4142 6.16421 12.75 5.75 12.75H4.5C4.08579 12.75 3.75 12.4142 3.75 12ZM3.75 15.5C3.75 15.0858 4.08579 14.75 4.5 14.75H5.75C6.16421 14.75 6.5 15.0858 6.5 15.5C6.5 15.9142 6.16421 16.25 5.75 16.25H4.5C4.08579 16.25 3.75 15.9142 3.75 15.5ZM4.25 3C2.45507 3 1 4.45507 1 6.25V17.75C1 19.5449 2.45508 21 4.25 21H19.75C21.5449 21 23 19.5449 23 17.75V6.25C23 4.45507 21.5449 3 19.75 3H4.25ZM19.75 19.5H9V4.5H19.75C20.7165 4.5 21.5 5.2835 21.5 6.25V17.75C21.5 18.7165 20.7165 19.5 19.75 19.5ZM4.25 4.5H7.5V19.5H4.25C3.2835 19.5 2.5 18.7165 2.5 17.75V6.25C2.5 5.2835 3.2835 4.5 4.25 4.5Z"}));} ,I9e=Object.freeze(Object.defineProperty({__proto__:null,default:xm},Symbol.toStringTag,{value:"Module"})),Eme=P(!0),wme=P(!0),Tme=P(!1),xme=P(!1),Sk=P(!1);function K0(){const e=M(Vd),t=M(Dr);return e&&!!t}function gl(){const e=Yt();return e.startsWith("/podcasts")||e.startsWith("/shares/podcasts")}function Ys(e,t={},n){ const _hh$temp872=t,_hh$temp872$initialize=_hh$temp872.initialize,o=_hh$temp872$initialize===void 0?!1:_hh$temp872$initialize,s=u.useRef(null); return u.useEffect(()=>{const a=n??s.current,r= new ResizeObserver(_hh$temp873=>{var _hh$temp874=__arrayFrom$(_hh$temp873),c=_hh$temp874[0];c&&e(c.contentRect);}) ;return a&&(r.observe(a),o&&e(a.getBoundingClientRect())),()=>r.disconnect()},[e,o,n]),s}function Am(){return U2().map(t=>t.context)}function bk(){const e=Am();return!! __get$(e,e.length-1) ?.customLayout}function Ame(){const e=Am();return!! __get$(e,e.length-1) ?.standalonePage}function _me(){const e=Am();return!! __get$(e,e.length-1) ?.supportsBackgroundImage}function Ik(){const e=Am();return!! __get$(e,e.length-1) ?.showSidebarHeaderAcrylicBackplate}function kme(e){ const _hh$temp875=e,t=_hh$temp875.isSidebarOpen,n=_hh$temp875.toggle,o=Qa(),s=M(Zn),_hh$temp876=Y(),a=_hh$temp876.t,r=Yt(),c=gl(),d=K0(),m=M(Sk),p=fl(),h=Ik(),v=!t&&(h||fo(r)||c||F0(r)),y=u.useRef(null),C=Ys(()=>{const S=document.getElementById("app");if(S){const b=!t&&y.current?y.current.clientWidth:0;S.style.setProperty("--header-controls-inline-start-width",`${b}px`);}}); return i.jsx("div",{className:O("pointer-events-none absolute start-0 top-0 w-full p-1 pe-3.5",at.sidebar),ref:C,children:i.jsx("div",{className:"relative",children:i.jsxs("div",{className:"absolute flex min-w-full items-center justify-between gap-1 p-1",children:[i.jsx(bt,{children:v&&i.jsx(Ce.div,{className:O("pointer-events-auto absolute inset-0 rounded-2xl border border-stroke-100 shadow-md dark:border-stroke-300",Co),initial:"initial",animate:"animate",exit:"exit",variants:{initial:Be,animate:ct,exit:Be},transition:p?{duration:0}:Jn})}),i.jsxs("div",{className:"pointer-events-auto flex shrink-0 items-center gap-1","data-theme":s&&!t?s.theme:void 0,ref:y,children:[(m||t)&&i.jsxs(i.Fragment,{children:[i.jsx(X,{title:a(t?"sidebar.close":"sidebar.open"),className:"after:absolute after:inset-0 after:rounded-lg hover:after:bg-black/3 dark:hover:after:bg-white/5",color:"subtle-dimmed-inverted",variant:"square",size:"28-xxs",onClick:()=>{fe({source:"sidebarToggle",pageName:r,customData:JSON.stringify({isOpen:t})}),n()},testId:"sidebar-toggle-button",children:t?i.jsx(Ck,{className:"size-4"}):i.jsx(xm,{className:"size-5"})}),d&&!m&&i.jsx(Qu,{text:a("settings.copilotBeta.beta"),className:"relative me-2 ms-1 uppercase"})]}),(m||!t)&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center rounded-lg hover:bg-black/3 dark:hover:bg-white/5",children:[i.jsx(X,{title:a("composer.startNewChat"),color:"subtle-dimmed-inverted",variant:"square",size:"28-xxs",onClick:async()=>{fe({source:"sidebarNewConversation",destination:"/chat",pageName:r,customData:JSON.stringify({isOpen:t})}),await o()},children:i.jsx(hl,{className:"size-5"})}),i.jsx(yk,{buttonSize:"28-xxs"})]}),d&&i.jsx(Qu,{text:a("settings.copilotBeta.beta"),className:"relative me-2 ms-1 uppercase"})]})]})]})})})}function db(e){return Object.entries(e).sort( (_hh$temp877,_hh$temp878)=>{var _hh$temp879=__arrayFrom$(_hh$temp877),t=_hh$temp879[0],_hh$temp880=__arrayFrom$(_hh$temp878),n=_hh$temp880[0];return t.localeCompare(n);} ).map( _hh$temp881=>{var _hh$temp882=__arrayFrom$(_hh$temp881),t=_hh$temp882[0],n=_hh$temp882[1];return`${t}=${n}`;} ).join("&")}function Pme(e){return typeof e=="object"&&e!==null}function Mme(e,t){let n=e;for(const o of t.split(".")){if(!Pme(n))return;n= __get$(n,o) }return n}function Rme(e,t){return typeof e!="object"||e===null?!1:Object.entries(t).every( _hh$temp883=>{var _hh$temp884=__arrayFrom$(_hh$temp883),n=_hh$temp884[0],o=_hh$temp884[1];return Mme(e,n)===o;} )}function mb(e,t){return Object.entries(e).every( _hh$temp885=>{var _hh$temp886=__arrayFrom$(_hh$temp885),n=_hh$temp886[0],o=_hh$temp886[1];return __get$(t,n)===o;} )}const Nme={"chat:ai-message-item":"discriminated","sidebar:content-sections":"render-all","sidebar:nav-items":"render-all","placeholder-discriminated":"discriminated","placeholder-exclusive":"exclusive",placeholder:"render-all"},Lme=tm("SlotRegistry"),Yo=P({contributions:new Map}),Ih=new Map;function Dme(e){let t=Ih.get(e);return t||(t=bc(Yo,n=>[...n.contributions.get(e)??[]].sort((s,a)=>a.priority!==s.priority?a.priority-s.priority:s.featureName.localeCompare(a.featureName)),(n,o)=>n.length!==o.length?!1:n.every((s,a)=>s=== __get$(o,a) )),Ih.set(e,t)),t}class Ome{store=_e();registerContribution(t,n){const o=this.store.get(Yo),s=new Map(o.contributions),a= __get$(Nme,t) ;if(a==="exclusive")s.set(t,[n]);else if(a==="discriminated"){const r=s.get(t)??[];if(n.discriminant){const c=db(n.discriminant);for(const d of r){if(!d.discriminant)continue;const m=db(d.discriminant);if(c===m)throw new Error(`Slot "${t}": discriminant {${c}} is already registered by "${d.featureName}". "${n.featureName}" cannot register it again.`);if(mb(n.discriminant,d.discriminant)||mb(d.discriminant,n.discriminant))throw new Error(`Slot "${t}": discriminant {${c}} overlaps with {${m}} (registered by "${d.featureName}"). "${n.featureName}" cannot register an overlapping pattern.`)}}s.set(t,[...r,n])}else{const r=s.get(t)??[];s.set(t,[...r,n])}this.store.set(Yo,{contributions:s}),Lme.info(`Registered contribution to ${t} from ${n.featureName} (mode: ${a})`)}getContributions(t){return[...this.store.get(Yo).contributions.get(t)??[]].sort((s,a)=>a.priority!==s.priority?a.priority-s.priority:s.featureName.localeCompare(a.featureName))}removeContribution(t,n){const o=this.store.get(Yo),s=o.contributions.get(t);if(!s||s.length===0)return;const a=s.filter(c=>c.featureName!==n);if(a.length===s.length)return;const r=new Map(o.contributions);a.length===0?r.delete(t):r.set(t,a),this.store.set(Yo,{contributions:r})}removeAllContributions(t){const n=this.store.get(Yo),o=new Map;let s=0;for(const _hh$temp887 of n.contributions){ const _hh$temp888=__arrayFrom$(_hh$temp887),a=_hh$temp888[0],r=_hh$temp888[1]; const c=r.filter(m=>m.featureName!==t),d=r.length-c.length;s+=d,c.length>0&&o.set(a,c)}s!==0&&this.store.set(Yo,{contributions:o})}_reset(){this.store.set(Yo,{contributions:new Map}),Ih.clear()}}const E9e=new Ome,Ume=tm("SDK");function Fme( _hh$temp889 ){ var e=_hh$temp889.featureName,t=_hh$temp889.slotId,n=_hh$temp889.children; const o=(a,r)=>{Ume.error(`Feature "${e}" crashed in slot "${t}"`,a,r.componentStack)},s= _hh$temp890=>{var a=_hh$temp890.error;return i.jsx(jme,{featureName:e,slotId:t,error:a});} ;return i.jsx(pg,{fallbackRender:s,onError:o,children:n})}function jme( _hh$temp891 ){ var e=_hh$temp891.featureName,t=_hh$temp891.slotId,n=_hh$temp891.error; return null}const Hp=tm("FeatureManager");class Bme{features=new Map;register(t){this.features.has(t.name),this.features.set(t.name,{contract:t,status:"registered"}),Hp.info(`Registered feature: ${t.name}`)}activate(t){const n=new Set(t);for(const _hh$temp892 of this.features){ const _hh$temp893=__arrayFrom$(_hh$temp892),o=_hh$temp893[0],s=_hh$temp893[1];  const _hh$temp894=s,a=_hh$temp894.contract; if(n.has(a.killSwitch)){s.status="disabled";continue}if(a.flagKey&&!n.has(a.flagKey)){s.status="disabled";continue}try{a.setup&&a.setup(),s.status="active",Hp.info(`Feature "${o}" activated`)}catch(r){Hp.error(`Failed to activate feature "${o}":`,r),s.status="failed"}}}isActive(t){return this.features.get(t)?.status==="active"}getActiveFeatures(){return Array.from(this.features.entries()).filter( _hh$temp895=>{var _hh$temp896=__arrayFrom$(_hh$temp895),t=_hh$temp896[1];return t.status==="active";} ).map( _hh$temp897=>{var _hh$temp898=__arrayFrom$(_hh$temp897),t=_hh$temp898[0];return t;} )}getAllFeatures(){return new Map(this.features)}_reset(){this.features.clear()}}const Vme=new Bme;function Hme(e){const t=Dme(e),n=M(t);return u.useMemo(()=>n.filter(o=>Vme.isActive(o.featureName)),[n])}function pb( _hh$temp899 ){ var e=_hh$temp899.id,t=_hh$temp899.props,_hh$temp899$fallback=_hh$temp899.fallback,n=_hh$temp899$fallback===void 0?null:_hh$temp899$fallback,_hh$temp899$loadingFallback=_hh$temp899.loadingFallback,o=_hh$temp899$loadingFallback===void 0?null:_hh$temp899$loadingFallback,s=_hh$temp899.match; const a=Hme(e),r=u.useMemo(()=>(s!==void 0?a.filter(d=>d.discriminant!==void 0&&Rme(s,d.discriminant)):a).map(d=>({featureName:d.featureName,Component:u.lazy(()=>d.loader().then(m=>({default:m})))})),[a,s]);return r.length===0?n:i.jsx(i.Fragment,{children:r.map( _hh$temp900=>{var c=_hh$temp900.featureName,d=_hh$temp900.Component;return i.jsx(Fme,{featureName:c,slotId:e,children:i.jsx(u.Suspense,{fallback:o,children:i.jsx(d,{...t})})},c);} )})}const w9e={button:"button"},vl={CallTypeChanged:"callTypeChanged",LabsTryButton:"labsTryButton",CharacterTalkToggleButton:"characterTalkToggleButton",SidebarBanner:"appearanceCtaSidebarBanner",DiscoverySidebarBanner:"appearanceCtaDiscoverySidebarBanner",EducationModal:"appearanceEducationModal"},zme="/static/cmc/assets/lumi-square-B1_IY09F.webm",Gme="data:image/webp;base64,UklGRuAGAABXRUJQVlA4WAoAAAAQAAAAPwAAPwAAQUxQSPABAAABkCQAkCFJMZ61bdu2rZNt27Zt27Zt27ZttOKSiogPRMQEAMeQRGlTRAOxUSuMP3jryYOzi+onFJG059UAau/2S8YuRq+HaH6tdgivmlfR+t/EBIxSrPChy43JuATXf4GOdyflEWe2B52vic4h3wWkHBtCV+c9knoaU4UO9SDxqzw0cVcj/b5oFGlPIsd+BDluIcsP2Z0VeoZMVwY7yvMMuf4v5ybdXeS7PchF/FPI+H9FB+FrkfXGYLuByPtXEasKf5nhNJtkd5H7y2QWy5B/c7OGKHBrsEny+xJeZjCZjiIbGuT6IWO2wVyUeS5ck/qxkI9pNPVQqKeMZoYUbKwKPi2mryrBGzHjVTn+iJmtKucVM09V3S9mlqqqT8xoVcn/YrqoMv0QU1sV9Z6Un1lUsFHKzQhNOymTQZv9swxPSV3QNhm7w3RQOyDBUwEMo1yWMAWMGwnYGcMs6lF2OxKCZcX/vLyTY4D1VFbnq4LD+Ff53GkfHZwW+8HkXsc44LoNiw+D4gLhWAa7cwNp6EqqT4PjAHGsvTR36kYB8oRHKQ6ViQIMEx9y5t9QJAawjLvW0Z/puaMB09B+f1y86ZkpOvAtccIqcKh8vHDgHL3jPbMXfVKEBgHzWC32fVZ57w7PBCLDc7SYvnn/2lG1EgM1VlA4IMoEAABQGgCdASpAAEAAPikQhkIhoQoFA34MAUJZgCdMoSEH61+MfsY1T+2fibjkTK9nX6/7jO2B5gHPi3GW8wehn0qflVZgB1gOXQ9ZuWgsxxM66H5AZL7/C/Y7rEv91/J3ZEP63/s/yA9bTzW/RP+9/Kr6Av4l/Kv8H+Zn+F///gl9DX9TlBP4/u5lnqSxFS9F7sD8mqxrREFHwUlkm6bkl3BUp3dXytXljlJLfMn5z+FZCS6lMviAWjwKqkiqz1Xy8kharhmOS1MgUfy/eOZ6gelEO6hsGqJ/gw7RVAAA/v7spf/3Z7/+7Cv//doYIoq5IRecW9KGbtgXQyQn2TgjuovYXnDnncdyY+R9kyVdkZLpdIz8SW7VHDyHDrT7sLm4ac30adnLLsaftHJ7xezOXxRNY0RXMcoxMovA3zTPvq8t7hjxYhHzldhhfTW+U4cThCjbGtlp/vhz0WSNOYdokdPZ//jr2OlfB0IO72/kswbAJqjS147MZJXRDeFIC1s20oYpIN9HA/shgxPJmyMHn6y6ihngKA9SaJ9dHhtR2EY3i4elMvo3L6wE7s4XcZupxF3wYCQz+rRBRiyPGdQTyfLwuMl9pxl1As6e/eu3IyaTd2Ie9VCXVls4d//hcC94pvnml5SxycJDnsm7kQj1PqWDh/pQ+yc3ACFGZ3V516Hv47tbeurTRCIo1VcrqQHxDkCrkiabw95wHTHsHYxGkEi/53r/ixamTbiESmHIGgiAj94RAibdzh+F0Jg56aKeFljUEAipxLxmmIe11/iNGSRN/ZPenrUPpU8L0v/wj/xqbFGAVHORQDAfQ6DAJUj52PpsOijf+kE6B0YO8jciXXEbdil5WzM+qBwQpwAMb/RuUC4qBfZOroG+VfspPagyx/aB7eh/4yaN4/8JSZbiI6sonTdgC9289rk8UTWj8hMT/UPleL4+TSMv2K7N/z5GOTXVjPpagklsdgGkxOfrn5oW+NWIh5M/6XQjizzjny4MB9pfn6r/WAjuTK/xGT+aNC2FD3YujomeqgoF73qZq1EUnj8qtwwUBpGa0KHdVchC0/J78/izwEmlT0MNlf8kFYLT4LglZ3bN+z2qQSB5Cv1/5ia33+vXWV3OWt9ac5JKI8PPFu41gTV7v/mkSDYyC5DP7dTjn9GqvfCiFR5HrdTNnhClUjcLaDRHY0gwJGXkchezt1K5SJhzt6zDpcvo0yXRtf/Yka3U34ixGZa91McoxzIB9/0MeQR0FinLFZvKu3++KgeBu0H/nTpChOyl7Ee4UVHZa4TyiLGtSlkQb2IQePPro155VZ/5LZM9eid/j/njBTn8BxE8femtFkMnZ0IKd2Z+nz2pGCmGzlBGwtHasVAO7OAFNGGe6nta6AWBBAnbQT/rQSDgfZZ3F4sNxVvIPSEL+dz/sZurs65Zx9IWPS0Lyr5bzE70w0zGU5pFcuMlm6OUJw6aQxFoaSxnlgFlJmR472YOJapiJyJl3wEbdOpaigaGhUCf/4zZ7P1hJrqHbTqDLQsvaKER8OYwrOtEOLCRtjeRErWX42YASvAfWt2+8IA4m4bVvKD+Xew0gtkJb96JneNR0gIfszUod84oXj/wGBnf9mP+f8IEzVwQet5ZacFvQTgAAA==";function Y0(e){ const _hh$temp901=e,t=_hh$temp901.className,_hh$temp902=Y(),n=_hh$temp902.t; return H3()?i.jsx("img",{src:Gme,alt:n("settings.appearanceIconAlt"),className:O("size-6")}):i.jsx("video",{src:zme,title:n("settings.appearanceIconAlt"),className:O("size-8 rounded-xl",t),autoPlay:!0,loop:!0,muted:!0,playsInline:!0})}const fb="Sidebar";function Wme(){ const _hh$temp903=Y(),e=_hh$temp903.t,t=q(go),n=u.useRef(!1); u.useEffect(()=>{n.current||(n.current=!0,_t({page:fb,scenario:"Displayed",element:"appearanceCtaSidebarBanner"}))},[]);const o=async()=>{t($a),xa.onUserInteract(vl.SidebarBanner),await io({talkType:"talk"}),fe({pageName:fb,source:"appearanceCtaSidebarBanner",scenario:"open",destination:"AudioCallWithAppearance"})};return i.jsxs(X,{title:e("settings.appearanceSidebarBannerAltText"),"aria-label":e("settings.appearanceSidebarBannerAltText"),className:"my-4 flex w-full gap-2 p-2",onClick:o,color:"subtle-dimmed-inverted",alignment:"start",children:[i.jsx(Y0,{}),i.jsx("div",{className:"text-start text-sm",children:e("settings.appearanceSidebarStartVoiceBannerText")})]})}const zp="Sidebar";function $me(e){ const _hh$temp904=e,t=_hh$temp904.onDismiss,_hh$temp905=Y(),n=_hh$temp905.t,o=q(go),s=q(wx),a=u.useRef(!1),r=q(RZ); u.useEffect(()=>{a.current||(a.current=!0,_t({page:zp,scenario:"Displayed",element:"appearanceCtaDiscoverySidebarBanner"}))},[]);const c=async()=>{s(VE),r(!0),o($a),xa.onUserInteract(vl.DiscoverySidebarBanner),await io({talkType:"talk"}),t(),fe({pageName:zp,source:"appearanceCtaDiscoverySidebarBanner",scenario:"open",destination:"AudioCallWithAppearance"})},d=m=>{m.stopPropagation(),s(Gg),t(),fe({pageName:zp,source:"appearanceCtaDiscoverySidebarBanner",scenario:"dismiss"})};return i.jsx("div",{className:"my-2 flex w-full px-1",children:i.jsxs("div",{className:"flex cursor-pointer flex-row items-center justify-center gap-1 rounded-2xl bg-foreground-100 p-3 dark:bg-background-650/10",role:"button",tabIndex:0,title:n("settings.appearanceSidebarBannerText"),"aria-label":n("settings.appearanceSidebarBannerText"),onClick:c,onKeyDown:async m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),await c())},children:[i.jsx(Y0,{}),i.jsxs("div",{className:"mx-1 flex flex-1 flex-col gap-2",children:[i.jsx("div",{className:"text-start text-xs",children:n("settings.appearanceSidebarBannerText")}),i.jsxs("div",{className:"flex flex-row items-center gap-1 text-accent-550",children:[i.jsx("div",{className:"text-start text-xs",children:n("settings.appearanceSidebarBannerTryItText")}),i.jsx(Eo,{className:"size-3"})]})]}),i.jsx("div",{className:"flex h-full flex-col justify-start self-stretch",children:i.jsx(X,{title:n("product.dismiss"),"aria-label":n("product.dismiss"),variant:"rect",color:"subtle-dimmed-inverted",size:"28-xxs",onClick:d,children:i.jsx(sn,{className:"size-3"})})})]})})}function Ek(e){ const _hh$temp906=e,t=_hh$temp906.children,_hh$temp906$color=_hh$temp906.color,n=_hh$temp906$color===void 0?"neutral":_hh$temp906$color,o=_hh$temp906.className; return i.jsx("div",{className:O("flex h-4 shrink-0 items-center rounded px-1.5 text-2xs",n==="neutral"?"bg-black/8 text-foreground-550 dark:bg-white/8 dark:text-foreground-650":"bg-accent-350/30 text-accent-650 dark:bg-accent-450/30",o),children:t})}const qme="relative flex shrink-0 items-center justify-center";function $o(e){ const _hh$temp907=e,t=_hh$temp907.titleString,n=_hh$temp907.badgeString,o=_hh$temp907.isSelected,s=_hh$temp907.isIconOnly,a=_hh$temp907.children,r=_hh$temp907.testId,c=_hh$temp907.buttonClassName,d=_hh$temp907.onClick,m=_hh$temp907.to,p=pl(),h=i.jsx("span",{className:"flex w-full items-center justify-between",children:i.jsxs("span",{className:O("flex min-w-0 gap-1.5"),children:[i.jsx("span",{className:O(qme,"size-6"),children:a}),i.jsx(bt,{mode:"popLayout",children:!s&&i.jsx(Ce.span,{className:"flex min-w-0 flex-1 flex-col",animate:"animate",exit:"exit",variants:{animate:ct,exit:Be},transition:Jn,children:i.jsxs("span",{className:"flex min-h-6 w-full items-center gap-1.5 text-start text-sm-medium",children:[t,n&&i.jsx(Ek,{color:"accent",children:n})]})})})]})}),v=O("pointer-events-auto w-full flex-col px-2 py-1.5",s&&"h-9 w-10",o&&"bg-black/5 before:contrast-more:border-[4px] dark:bg-white/8",c),y={placement:"right",gap:12,disabled:!p},C="36-sm",S=o?"page":void 0; let b;if("to"in e&&m){ const _hh$temp908=e,I=_hh$temp908.params,x=_hh$temp908.search,E=_hh$temp908.hash,k=_hh$temp908.preload,w=_hh$temp908.resetScroll,_=_hh$temp908.onPointerDown; b=i.jsx(X,{className:v,title:t+(n?` (${n})`:""),tooltip:y,size:C,color:"subtle-dimmed-inverted",testId:r,"aria-current":S,onClick:d,to:m,params:I,search:x,hash:E,preload:k,resetScroll:w,onPointerDown:_,children:h})}else b=i.jsx(X,{className:v,title:t+(n?` (${n})`:""),tooltip:y,size:C,color:"subtle-dimmed-inverted",onClick:d,testId:r,"aria-current":S,children:h});return i.jsx(Ce.div,{className:"relative w-full",layout:"position",transition:Jn,children:b})}const hb=65,Kme=100;function gb( _hh$temp909 ){ var _hh$temp909$count=_hh$temp909.count,e=_hh$temp909$count===void 0?1:_hh$temp909$count; const t=CR(),n=u.useMemo(()=>{let o=t??Math.floor(Math.random()*4294967295);const s=4294967296,a=1664525,r=1013904223;function c(){return o=(a*o+r)%s,o/s}return Array.from({length:e},()=>{const d=c();return`${Math.floor(d*(Kme-hb+1))+hb}%`})},[e,t]);return i.jsx("div",{className:"flex flex-col gap-5 px-3 py-1",children:n.map((o,s)=>i.jsx("div",{style:{width:o},className:Je("relative h-5 overflow-hidden rounded-lg bg-background-300 opacity-30 dark:bg-background-250 dark:opacity-40","border border-background-300 dark:border-background-250","after:absolute after:inset-0 after:h-full","after:opacity-50 dark:after:opacity-5","after:bg-gradient-to-r after:from-transparent after:via-white after:to-transparent","after:bg-[length:80%_100%] after:bg-no-repeat","after:animate-[shimmer-translate-x_2s_infinite]","rtl:after:animate-[shimmer-translate-x-reverse_2s_infinite]")},s))})}const wk= _hh$temp910=>{var e=_hh$temp910.title,t=_hh$temp910.titleId,n=__rest$Object(_hh$temp910,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M8 4.5H8.99998V10.7382C8.99998 11.1132 8.90628 11.4822 8.72739 11.8117L5.14269 18.415C4.50968 19.5811 5.35388 20.9999 6.68068 20.9999H17.3193C18.6461 20.9999 19.4903 19.5811 18.8573 18.415L15.2726 11.8117C15.0937 11.4822 15 11.1132 15 10.7382V4.5H16C16.4142 4.5 16.75 4.16421 16.75 3.75C16.75 3.33579 16.4142 3 16 3H8C7.58579 3 7.25 3.33579 7.25 3.75C7.25 4.16421 7.58579 4.5 8 4.5ZM10.5 10.7382V4.5H13.5V10.7382C13.5 11.3631 13.6561 11.9781 13.9543 12.5273L14.7537 14H9.24621L10.0457 12.5273C10.3438 11.9781 10.5 11.3631 10.5 10.7382ZM8.43192 15.5H15.568L17.539 19.1307C17.6294 19.2973 17.5088 19.4999 17.3193 19.4999H6.68068C6.49114 19.4999 6.37054 19.2973 6.46097 19.1307L8.43192 15.5Z"}));} ,T9e=Object.freeze(Object.defineProperty({__proto__:null,default:wk},Symbol.toStringTag,{value:"Module"})),Tk= _hh$temp911=>{var e=_hh$temp911.title,t=_hh$temp911.titleId,n=__rest$Object(_hh$temp911,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M11.0656 8.00389L11.25 7.99875H18.75C20.483 7.99875 21.8992 9.3552 21.9949 11.0643L22 11.2487V18.7487C22 20.4818 20.6435 21.898 18.9344 21.9936L18.75 21.9987H11.25C9.51697 21.9987 8.10075 20.6423 8.00515 18.9332L8 18.7487V11.2487C8 9.51571 9.35646 8.0995 11.0656 8.00389ZM18.75 9.49875H11.25C10.3318 9.49875 9.57881 10.2059 9.5058 11.1052L9.5 11.2487V18.7487C9.5 19.6669 10.2071 20.4199 11.1065 20.4929L11.25 20.4987H18.75C19.6682 20.4987 20.4212 19.7916 20.4942 18.8923L20.5 18.7487V11.2487C20.5 10.2822 19.7165 9.49875 18.75 9.49875ZM15.5818 4.23284L15.6345 4.40964L16.327 6.998H14.774L14.1856 4.79787C13.9355 3.86431 12.9759 3.31029 12.0423 3.56044L4.79787 5.50158C3.91344 5.73856 3.36966 6.61227 3.52756 7.49737L3.56044 7.64488L5.50158 14.8893C5.69372 15.6064 6.30445 16.0996 7.00045 16.1764L7.00056 17.6816C5.69932 17.6051 4.52962 16.7445 4.10539 15.4544L4.05269 15.2776L2.11155 8.03311C1.66301 6.35913 2.6067 4.6401 4.23284 4.10539L4.40964 4.05269L11.6541 2.11155C13.3281 1.66301 15.0471 2.6067 15.5818 4.23284Z"}));} ,x9e=Object.freeze(Object.defineProperty({__proto__:null,default:Tk},Symbol.toStringTag,{value:"Module"})),xk= _hh$temp912=>{var e=_hh$temp912.title,t=_hh$temp912.titleId,n=__rest$Object(_hh$temp912,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M3.5 12C3.5 7.30558 7.30558 3.5 12 3.5C16.6944 3.5 20.5 7.30558 20.5 12C20.5 16.6944 16.6944 20.5 12 20.5C7.30558 20.5 3.5 16.6944 3.5 12ZM12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM7.08349 8.70767C6.67722 7.6882 7.68791 6.67747 8.7074 7.08372L12.7356 8.68888C13.9078 9.15602 14.8461 10.0704 15.3431 11.2303L17.1969 15.5557C17.6414 16.5929 16.5927 17.6415 15.5555 17.197L11.2301 15.3433C10.0703 14.8462 9.15587 13.908 8.68872 12.7358L7.08349 8.70767ZM8.69209 8.69233L10.0822 12.1805C10.4018 12.9825 11.0274 13.6245 11.821 13.9646L15.572 15.5721L13.9644 11.8212C13.6243 11.0276 12.9824 10.4019 12.1803 10.0823L8.69209 8.69233Z"}));} ,A9e=Object.freeze(Object.defineProperty({__proto__:null,default:xk},Symbol.toStringTag,{value:"Module"})),Ak= _hh$temp913=>{var e=_hh$temp913.title,t=_hh$temp913.titleId,n=__rest$Object(_hh$temp913,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M2 5.25C2 3.45507 3.45507 2 5.25 2H14.75C16.5449 2 18 3.45507 18 5.25V8H16.5V5.25C16.5 4.2835 15.7165 3.5 14.75 3.5H5.25C4.2835 3.5 3.5 4.2835 3.5 5.25V12.75C3.5 13.7165 4.2835 14.5 5.25 14.5H8V16H5.25C3.45507 16 2 14.5449 2 12.75V5.25ZM19 13.25C19 13.9404 18.4404 14.5 17.75 14.5C17.0596 14.5 16.5 13.9404 16.5 13.25C16.5 12.5596 17.0596 12 17.75 12C18.4404 12 19 12.5596 19 13.25ZM9 12.25C9 10.4551 10.4551 9 12.25 9H18.75C20.5449 9 22 10.4551 22 12.25V18.75C22 20.5449 20.5449 22 18.75 22H12.25C10.4551 22 9 20.5449 9 18.75V12.25ZM12.25 10.5C11.2835 10.5 10.5 11.2835 10.5 12.25V18.75C10.5 18.9393 10.5301 19.1216 10.5856 19.2923L13.98 16.1069C14.845 15.2977 16.1892 15.2977 17.0542 16.1069L20.4246 19.2598C20.4736 19.0985 20.5 18.9273 20.5 18.75V12.25C20.5 11.2835 19.7165 10.5 18.75 10.5H12.25ZM12.25 20.5H18.75C18.9854 20.5 19.2099 20.4535 19.4149 20.3693L16.0295 17.2023C15.7411 16.9326 15.2931 16.9326 15.0047 17.2023L11.6167 20.3819C11.8131 20.4582 12.0267 20.5 12.25 20.5ZM5.75 5C6.16421 5 6.5 5.33579 6.5 5.75V6.25C6.5 6.66421 6.16421 7 5.75 7C5.33579 7 5 6.66421 5 6.25V5.75C5 5.33579 5.33579 5 5.75 5ZM6.5 8.75C6.5 8.33579 6.16421 8 5.75 8C5.33579 8 5 8.33579 5 8.75V9.25C5 9.66421 5.33579 10 5.75 10C6.16421 10 6.5 9.66421 6.5 9.25V8.75ZM14.25 5C14.6642 5 15 5.33579 15 5.75V6.25C15 6.66421 14.6642 7 14.25 7C13.8358 7 13.5 6.66421 13.5 6.25V5.75C13.5 5.33579 13.8358 5 14.25 5ZM6.5 11.75C6.5 11.3358 6.16421 11 5.75 11C5.33579 11 5 11.3358 5 11.75V12.25C5 12.6642 5.33579 13 5.75 13C6.16421 13 6.5 12.6642 6.5 12.25V11.75Z"}));} ,_9e=Object.freeze(Object.defineProperty({__proto__:null,default:Ak},Symbol.toStringTag,{value:"Module"})),Yme= _hh$temp914=>{var e=_hh$temp914.title,t=_hh$temp914.titleId,n=__rest$Object(_hh$temp914,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M12.8199 5.57912L11.9992 6.40163L11.1759 5.57838C9.07688 3.47931 5.67361 3.47931 3.57455 5.57838C2.10768 7.04524 1.66588 9.14901 2.24917 10.9995H3.85417C3.19569 9.56827 3.45603 7.81821 4.63521 6.63904C6.14849 5.12575 8.602 5.12575 10.1153 6.63904L11.4727 7.99648C11.7706 8.29435 12.2553 8.28854 12.5459 7.98363L13.8806 6.63978C15.3977 5.12268 17.8528 5.12268 19.3699 6.63978C20.5498 7.81969 20.8084 9.56628 20.1486 10.9995H21.7539C22.3385 9.14845 21.8988 7.04731 20.4306 5.57912C18.3277 3.47623 14.9228 3.47623 12.8199 5.57912ZM11.4699 21.0751L4.8943 14.4995H6.85723C6.90822 14.4995 6.95886 14.4973 7.00904 14.493L12.0002 19.4842L16.988 14.4995H19.1101L12.5306 21.0751C12.2377 21.368 11.7628 21.368 11.4699 21.0751ZM9.42082 8.4141C9.29247 8.15739 9.02887 7.99645 8.74188 7.99956C8.45489 8.00266 8.19484 8.16928 8.07207 8.42871L6.38232 11.9995H2.75C2.33579 11.9995 2 12.3353 2 12.7495C2 13.1637 2.33579 13.4995 2.75 13.4995H6.85714C7.14708 13.4995 7.41105 13.3324 7.53507 13.0703L8.76856 10.4637L11.3292 15.5849C11.4465 15.8196 11.6779 15.9759 11.9394 15.9971C12.2009 16.0183 12.4544 15.9013 12.608 15.6886L15.3062 11.9527L16.4356 13.2434C16.578 13.4062 16.7837 13.4995 17 13.4995H21.25C21.6642 13.4995 22 13.1637 22 12.7495C22 12.3353 21.6642 11.9995 21.25 11.9995H17.3403L15.8144 10.2556C15.664 10.0837 15.4433 9.98967 15.215 10.0003C14.9867 10.011 14.7758 10.1251 14.642 10.3104L12.117 13.8065L9.42082 8.4141Z"}));} ,Z0= _hh$temp915=>{var e=_hh$temp915.title,t=_hh$temp915.titleId,n=__rest$Object(_hh$temp915,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M15.1017 16.1624C13.717 17.3101 11.9391 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 11.9391 17.3101 13.717 16.1624 15.1018L20.7803 19.7197C21.0732 20.0126 21.0732 20.4874 20.7803 20.7803C20.4874 21.0732 20.0125 21.0732 19.7196 20.7803L15.1017 16.1624ZM16.5 10C16.5 6.41015 13.5899 3.5 10 3.5C6.41015 3.5 3.5 6.41015 3.5 10C3.5 13.5899 6.41015 16.5 10 16.5C13.5899 16.5 16.5 13.5899 16.5 10Z"}));} ,k9e=Object.freeze(Object.defineProperty({__proto__:null,default:Z0},Symbol.toStringTag,{value:"Module"})),_k= _hh$temp916=>{var e=_hh$temp916.title,t=_hh$temp916.titleId,n=__rest$Object(_hh$temp916,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M7 7V5a3 3 0 0 1 5-2.236A3 3 0 0 1 17 5v2h1.5A1.5 1.5 0 0 1 20 8.5v10.005A3.495 3.495 0 0 1 16.505 22H8a4 4 0 0 1-4-4V8.5A1.5 1.5 0 0 1 5.5 7H7Zm6.635 13.5a3.479 3.479 0 0 1-.625-1.995V8.5H5.5V18A2.5 2.5 0 0 0 8 20.5h5.635ZM11.5 7V5a1.5 1.5 0 0 0-3 0v2h3ZM13 7h2.5V5a1.5 1.5 0 0 0-2.656-.956c.101.3.156.622.156.956v2Zm1.51 11.505a1.995 1.995 0 0 0 3.99 0V8.5h-3.99v10.005Z"}));} ,P9e=Object.freeze(Object.defineProperty({__proto__:null,default:_k},Symbol.toStringTag,{value:"Module"})),Zme="discover",Jme="chat",Qme={CHAT:"chat"},M9e={SMALL:"small",LARGE:"large",EXTRA_LARGE_V2:"extraLargeV2"},kk={ADDRESS_BAR_SEARCH:"addressBarSearch",DRAWER:"drawer"};function R9e(e){return e===Qme.CHAT?Jme:Zme}const Xme=P(kk.ADDRESS_BAR_SEARCH),epe="/discover";function tpe(e){return e.startsWith(epe)}function _m(){const e=ln();return tpe(e)}function npe(){const e=Bs(),t=kt();return W("groups-sidebar")&&e&&t}const vb="/health";function ope(e){return e===vb||e.startsWith(`${vb}/`)}function Pk(){const e=Yt();return ope(e)}function yb(e){return e?{x:e.scrollLeft,y:e.scrollTop}:{x:0,y:0}}function spe(e,t={}){ const _hh$temp917=t,_hh$temp917$checkIsScrolling=_hh$temp917.checkIsScrolling,n=_hh$temp917$checkIsScrolling===void 0?!0:_hh$temp917$checkIsScrolling,_hh$temp917$scrollEndDelay=_hh$temp917.scrollEndDelay,o=_hh$temp917$scrollEndDelay===void 0?150:_hh$temp917$scrollEndDelay,_hh$temp918=__arrayFrom$(u.useState(yb(e.current))),s=_hh$temp918[0],a=_hh$temp918[1],_hh$temp919=__arrayFrom$(u.useState(!1)),r=_hh$temp919[0],c=_hh$temp919[1],d=u.useRef(void 0); return u.useEffect(()=>{const m=e.current;let p=null;if(m===null)return()=>{};function h(){p??=window.requestAnimationFrame(()=>{u.startTransition(()=>{a(yb(m)),n&&c(!0)}),n&&(d.current&&window.clearTimeout(d.current),d.current=window.setTimeout(()=>{u.startTransition(()=>{c(!1)})},o)),p=null})}return m.addEventListener("scroll",h),()=>{m.removeEventListener("scroll",h),d.current&&clearTimeout(d.current)}},[n,e,o]),t.checkIsScrolling?{...s,isScrolling:r}:s}function ape( _hh$temp920 ){ var e=_hh$temp920.onScrollStart,t=_hh$temp920.onScrollEnd,n=_hh$temp920.scrollRefs; const o=u.useRef({}),s=yh(r=>{ const _hh$temp921=r,c=_hh$temp921.target; c instanceof Window?o.current={scrollSource:"window",scrollStartTime:Date.now(),scrollStartX:c.scrollX,scrollStartY:c.scrollY,scrollWidth:document.documentElement.scrollWidth,scrollHeight:document.documentElement.scrollHeight}:c instanceof HTMLElement&&(o.current={scrollSource:c.id,scrollStartTime:Date.now(),scrollStartX:c.scrollLeft,scrollStartY:c.scrollTop,scrollWidth:c.scrollWidth,scrollHeight:c.scrollHeight}),e?.(o.current)}),a=yh(r=>{ const _hh$temp922=r,c=_hh$temp922.target; c instanceof Window?(o.current={...o.current,scrollEndX:c.scrollX,scrollEndY:c.scrollY,scrollDuration:Date.now()-(o.current.scrollStartTime??0)},t?.(o.current)):c instanceof HTMLElement?(o.current={...o.current,scrollEndX:c.scrollLeft,scrollEndY:c.scrollTop,scrollDuration:Date.now()-(o.current.scrollStartTime??0)},t?.(o.current)):o.current={}});u.useEffect(()=>{const r={passive:!0};for(const c of n)c.current?.addEventListener("scroll",s,r),c.current?.addEventListener("scrollend",a,r);return()=>{for(const c of n)c.current?.removeEventListener("scroll",s),c.current?.removeEventListener("scrollend",a)}},[n,s,a])}function Mk(e){ const _hh$temp923=e,t=_hh$temp923.scrollableRef,n=_hh$temp923.customData,o=_hh$temp923.customTrackCallback,s=u.useCallback(a=>{window.requestAnimationFrame(()=>{if(o)o(a);else{const r=JSON.stringify(typeof n=="object"||n===void 0?{scrollWidth:a.scrollWidth,scrollHeight:a.scrollHeight,...n??{}}:n);gq({...a,scrollSource:e.source??a.scrollSource,customData:r});}});},[n,o,e.source]); ape({onScrollEnd:s,scrollRefs:t?[t]:[]})}function rpe(){ const _hh$temp924=Y(),e=_hh$temp924.t; return u.useEffect(()=>{ye(Ct,{title:e("common.somethingWrong"),subtitle:e("common.somethingWrongDescription"),dismissable:!0,dismissAfter:1500})},[e]),null}function ipe(){return null}function Fn(e,t){return u.lazy(async()=>{try{const n=t.retryStrategy??{maxRetries:0},o=await v3(t.moduleName,n)(e);if(o.default)return o; const _hh$temp925=t,s=_hh$temp925.exportName; if(s&& __get$(o,s) )return{default: __get$(o,s) };throw new Error(`Exported module not found "${t.moduleName}"`)}catch(n){let o,s;if(n instanceof Error&&(o=n.message,s=n.stack),R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"LazyModuleLoadError",eventInfo_errorName:t.moduleName,eventInfo_errorMessage:o,eventInfo_errorStack:s}}),t.throwError)throw n;return t.errorFallback?{default:t.errorFallback}:t.showErrorToast?{default:rpe}:{default:ipe}}})}function ks(e){return  __get$(Z.instance().config().settingsOverrides,e.key,true) ??e.default}const To={document:"DocsTab",image:"ImagesTab",onedrive:"OneDriveTab",page:"PagesTab",presentation:"SlidesTab",research:"ResearchTab",podcast:"PodcastsTab",spreadsheet:"SheetsTab",video:"VideosTab"},cpe={document:"DocsList",image:"ImagesList",onedrive:"OneDriveList",page:"PagesList",presentation:"SlidesList",research:"ResearchList",podcast:"PodcastsList",spreadsheet:"SheetsList",video:"VideosList"},lpe={document:"DocsItem",image:"ImageItem",onedrive:"OneDriveItem",page:"PageItem",presentation:"SlidesItem",research:"ResearchItem",podcast:"PodcastItem",spreadsheet:"SheetsItem",video:"VideoItem"};function upe(e){fe({pageName:e,source:"LibraryNavItem",destination:"library"})}function N9e(e){const t= __get$(To,e) ;fe({pageName:"library",source:t})}function L9e(e){_t({page:"library",scenario: __get$(To,e) ,element: __get$(cpe,e) })}function D9e(e){ const _hh$temp926=e,t=_hh$temp926.type,n=_hh$temp926.index; fe({pageName:"library",source: __get$(lpe,t) ,scenario: __get$(To,t) ,customData:JSON.stringify({itemIndex:n})})}function O9e(e){ const _hh$temp927=e,t=_hh$temp927.type,n=_hh$temp927.index; fe({pageName:"library",source:"Share",scenario: __get$(To,t) ,customData:JSON.stringify({itemIndex:n})})}function U9e(e){ const _hh$temp928=e,t=_hh$temp928.type,n=_hh$temp928.index; fe({pageName:"library",source:"Delete",scenario: __get$(To,t) ,customData:JSON.stringify({itemIndex:n})})}function F9e(e){ const _hh$temp929=e,t=_hh$temp929.type,n=_hh$temp929.index,o=_hh$temp929.format; let s="Download";o==="pdf"?s="ExportAsPdf":s="ExportAsDocx",fe({pageName:"library",source:s,scenario: __get$(To,t) ,customData:JSON.stringify({itemIndex:n})})}function j9e(e){ const _hh$temp930=e,t=_hh$temp930.type,n=_hh$temp930.isEmpty; fe({pageName:"library",source:"CreateButton",scenario: __get$(To,t) ,customData:JSON.stringify({isEmpty:n})})}function B9e(e){fe({pageName:"library",source:"SignInButton",scenario: __get$(To,e) })}function V9e(){_t({page:"library",element:"LibrarySignInPromotion"})}function H9e(){_t({page:"library"})}function z9e(e){_t({page:"library",scenario: __get$(To,e) ,element:"EmptyState"})}function G9e(e){_t({page:"library",scenario: __get$(To,e) ,element:"ErrorPage"})}function W9e(e){fe({pageName:"library",source:"retryButton",scenario: __get$(To,e) })}function ao(e){ const _hh$temp931=e,t=_hh$temp931.fallback,n=_hh$temp931.children; return i.jsx(WI,{serverFallback:t,children:i.jsx(u.Suspense,{fallback:t,children:n})})}function dpe(){return!1}const mpe=Fn(()=>D(()=>import( __get$ProxyUrl("./sidebar-settings-dmZXloKS.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([449,1,450,451,452,453,454,455,456,457,458,459,460,461,462,7,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490])),{moduleName:"sidebar-settings",retryStrategy:bn}),Gp="bg-sidebar-light dark:bg-sidebar-dark",Cb="before:pointer-events-none before:absolute before:h-10 before:w-full before:from-sidebar-light before:to-transparent dark:before:from-sidebar-dark",ppe=Fn(()=>D(()=>import( __get$ProxyUrl("./sidebar-pages-BbQuu96O.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([491,1,7])),{moduleName:"sidebar-pages",exportName:"SidebarPages",retryStrategy:bn}),fpe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./sidebar-projects-CHMtgeoO.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([492,1,493,494,495,457,496,7])).then(e=>({default:e.SidebarProjects}))),hpe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./sidebar-tasks-D-Eiv7ER.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([497,1,457,498,499,500,501,7])).then(e=>({default:e.SidebarTasks}))),gpe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./sidebar-groups-tyvCtdjI.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([502,1,503,7])).then(e=>({default:e.SidebarGroups}))),vpe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./conversations-BnWZwkuq.js","https://copilot.microsoft.com/static/cmc/assets/") ).then(e=>e.c),__vite__mapDeps([504,1,505,457,506,507,503,496,508,509,510,511,512,513,514,515,516,517])));function ype(e){ const _hh$temp932=e,t=_hh$temp932.toggle,n=_hh$temp932.isSidebarTranslucent,o=_hh$temp932.onOpenConversationSearch,s=_hh$temp932.sidebarPadding,_hh$temp933=Y(),a=_hh$temp933.t,r=Yt(),c=si(),d=Qa(),m=M(Lo),p=fl(),h=q(Xme),v=u.useRef(!0); u.useEffect(()=>{v.current=!1},[]); const y=kt(),C=Bs(),S=W("pages-sidebar-empty-cta"),b=W("pages-anonymous"),I=!Z.instance().config().disableLibrary,x=(!I&&(y||S||b))&&C,E=W("projects"),k=$s(),w=W("appearance-discoverability-sidebar-banner"),_=M(wx),N=M(go),L=M(z1),B=M(NZ),F=Z.instance().config().enableLabs,K=!Z.instance().config().disableDiscoverTab,G=!rt("kill-creator-gallery"),te=Q3("shopping-homepage","kill-shopping-homepage"),ne=r==="/shopping",ae=W("healthcare-space"),Te=Pk(),he=_m(),Ee=he||r==="/daily",_hh$temp934=ld({strict:!1}),Ae=_hh$temp934.modalType,Ue=r.startsWith("/library"),Fe=r.startsWith("/labs"),ke=F0(r),Ve=U0,De=npe(),_hh$temp935=__arrayFrom$(u.useState(((k&&w)&&!L)&&!_)),le=_hh$temp935[0],oe=_hh$temp935[1]; u.useEffect(()=>{(_||B)&&oe(!1)},[_,B]); const we=u.useMemo(()=>((((k&&w)&&N)&&L)&&_!==Gg)&&!B,[k,_,w,N,L,B]),se=M(Qr),z=u.useRef(null),_hh$temp936=spe(z),Q=_hh$temp936.y,me=Q>0,pe=pk(),We=q(Lo); Mk({scrollableRef:z,source:"sidebar"});const be=ks({key:"shouldUseFlyoutSettings",default:!1}),Ne=W("sidebar-settings")&&!be&&C,Ke=hi(),Me=pl(),Ye=Ke&&!pe&&!m,re=!rt("kill-sidebar-nav-item-router-links"),He=W("hide-conversation-dates"),nt=W("studio-sdk"),ve=u.useCallback(async(...je)=>{re||await c(...je)},[re,c]);return i.jsx("div",{className:O("flex h-dvh flex-col px-0.5 pb-0.5",dk(s,"content-top-padding")??"pt-[56px]",pe?"w-full":"w-sidebar"),children:i.jsx("div",{className:O("t-custom-scrollbar min-h-0 flex-1 overflow-x-hidden",m?"overflow-y-auto":"overflow-y-hidden"),ref:z,children:i.jsxs("div",{className:O("flex min-h-full w-full flex-col px-1",{"justify-between":Ne}),children:[i.jsx(Ce.div,{className:O(!n&&Gp,!n&&Cb,"pointer-events-none sticky top-0 z-10 pb-3",me&&"before:bottom-0 before:top-full before:bg-gradient-to-b before:opacity-90",me&&"after:absolute after:bottom-0 after:mx-1 after:w-[calc(100%-8px)] after:border-b after:border-black/8 dark:after:border-white/10",pe&&"whitespace-nowrap"),layout:!0,transition:Jn,children:i.jsxs("div",{className:O(!n&&Gp,"pointer-events-auto relative flex flex-col items-start gap-0.5",Me?"pt-0":"pt-1"),"data-theme":n?"dark":void 0,children:[i.jsx(bt,{mode:"popLayout",children:Me&&i.jsxs(Ce.div,{className:"flex flex-col gap-0.5",animate:"animate",exit:"exit",variants:{animate:{scale:1,...ct},exit:{scale:.6,...Be}},transition:p||v.current?{duration:0}:Jn,children:[i.jsx($o,{buttonClassName:"cursor-e-resize",titleString:a("sidebar.open"),isIconOnly:!0,onClick:()=>{fe({source:"sidebarToggle",pageName:r,customData:JSON.stringify({isOpen:m})}),t()},testId:"sidebar-toggle-button",children:i.jsx(xm,{className:"size-5"})}),i.jsx($o,{titleString:a("composer.startNewChat"),isIconOnly:!0,onClick:async()=>{C&&(fe({source:"sidebarNewConversation",destination:"/",pageName:r,customData:JSON.stringify({isOpen:m})}),await d())},children:i.jsx(hl,{className:"size-5"})})]})}),!Me&&o&&y&&i.jsx($o,{titleString:a("sidebar.conversationSearch.search"),isIconOnly:Ye,onClick:()=>{fe({source:"searchIcon",pageName:r,scenario:"conversationSearch"}),o()},children:i.jsx(Z0,{className:"size-5"})}),K&&i.jsx($o,{titleString:a("sidebar.discover"),isSelected:Ee,isIconOnly:Ye,testId:"sidebar-discover-button",onClick:async()=>{if(!C)return;!he||he&&!!Ae?(h(kk.DRAWER),fe({source:"sidebarDiscoverButton",destination:"/discover",pageName:r}),await ve({to:"/discover",from:r,search:{modalUrl:void 0}})):pe&&We(!1)},to:re?"/discover":void 0,children:i.jsx(xk,{className:"size-5"})}),te&&i.jsx($o,{titleString:a("sidebar.shopping.title"),isSelected:ne,isIconOnly:Ye,testId:"sidebar-shopping-button",onClick:async()=>{C&&(fe({source:"sidebarShoppingButton",destination:"/shopping",pageName:r}),await ve({to:"/shopping",from:r}),pe&&ne&&We(!1))},to:re?"/shopping":void 0,children:i.jsx(_k,{className:"size-5"})}),G&&i.jsx($o,{titleString:a("sidebar.gallery.titleV2"),isSelected:ke,isIconOnly:Ye,onClick:async()=>{C&&(fe({source:"sidebarGalleryButton",destination:Ve,pageName:r}),await ve({to:Ve,from:r}),pe&&ke&&We(!1))},to:re?Ve:void 0,children:i.jsx(Ak,{className:"size-5"})}),I&&i.jsx($o,{titleString:a("sidebar.library"),isSelected:Ue,isIconOnly:Ye,onClick:()=>{C&&(ve({to:"/library",from:r}),upe(r))},to:re?"/library":void 0,children:i.jsx(Tk,{className:"size-5"})}),ae&&i.jsx($o,{titleString:a("sidebar.health.title"),isSelected:Te,isIconOnly:Ye,testId:"sidebar-health-button",onClick:async()=>{C&&(await ve({to:"/health",from:r}),pe&&Te&&We(!1))},to:re?"/health":void 0,children:i.jsx(Yme,{className:"size-5"})}),F&&i.jsx($o,{titleString:a("sidebar.labs"),isSelected:Fe,isIconOnly:Ye,onClick:async()=>{C&&(fe({source:"sidebarLabsButton",destination:"/labs",pageName:r}),await ve({to:"/labs",from:r}),pe&&Fe&&We(!1))},to:re?"/labs":void 0,children:i.jsx(wk,{className:"size-5"})}),nt&&i.jsx(pb,{id:"sidebar:nav-items",props:{isIconOnly:Ye}})]})}),i.jsx(bt,{children:m&&i.jsxs(Ce.div,{className:"grow",animate:"animate",exit:"exit",variants:{animate:ct,exit:Be},layout:"position",transition:Jn,children:[we&&C&&i.jsx(Wme,{}),le&&!we&&C&&i.jsx($me,{onDismiss:()=>oe(!1)}),i.jsxs("div",{className:"relative flex grow flex-col py-4",children:[x&&i.jsx(ao,{fallback:null,children:i.jsx(ppe,{isCompact:!pe})}),E&&i.jsx(ao,{fallback:null,children:i.jsx(fpe,{isCompact:!pe})}),dpe()&&i.jsx(ao,{fallback:null,children:i.jsx(hpe,{isCompact:!pe})}),De&&i.jsx(ao,{fallback:null,children:i.jsx(gpe,{isCompact:!pe})}),nt&&i.jsx(pb,{id:"sidebar:content-sections",props:{isCompact:!pe}}),i.jsx("h2",{className:O("mb-2 flex gap-2 px-2.5 align-middle text-sm-medium",{"mb-6":!He&&C}),"data-testid":"sidebar-conversations-header",children:a("sidebar.conversations")}),se&&C?i.jsx(ao,{fallback:i.jsx(gb,{count:16}),children:i.jsx(vpe,{isCompact:!pe})}):i.jsx(gb,{count:16})]})]})}),!Ne&&i.jsx("div",{className:O(!n&&Gp,!n&&Cb,"sticky bottom-0 py-1",!n&&"before:bottom-full before:bg-gradient-to-t")}),i.jsx(ao,{fallback:null,children:Ne&&i.jsx(mpe,{isSidebarTranslucent:n})})]})})})}const Rk=( _hh$temp937 )=>{ var e=_hh$temp937.title,t=_hh$temp937.titleId,n=__rest$Object(_hh$temp937,["title","titleId"]);  const _hh$temp938=__arrayFrom$(u.useState("")),o=_hh$temp938[0],s=_hh$temp938[1]; return u.useEffect(()=>{s(Math.random().toString(36).slice(2,10))},[]),u.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M22.9253 4.97196C22.5214 3.79244 21.4126 3 20.1658 3L18.774 3C17.3622 3 16.1532 4.01106 15.9033 5.40051L14.4509 13.4782L15.0163 11.5829C15.3849 10.347 16.5215 9.5 17.8112 9.5L23.0593 9.5L25.3054 10.809L27.4705 9.5H26.5598C25.313 9.5 24.2042 8.70756 23.8003 7.52804L22.9253 4.97196Z",fill:`url(#${o}-paint0_radial_262034_2117)`}),u.createElement("path",{d:"M9.39637 27.0147C9.79613 28.2011 10.9084 29 12.1604 29H14.5727C16.1772 29 17.4805 27.704 17.4893 26.0995L17.5315 18.4862L16.9699 20.4033C16.6058 21.6461 15.4659 22.5 14.1708 22.5H8.88959L6.96437 21.0214L4.88007 22.5H5.78013C7.03206 22.5 8.14435 23.299 8.54411 24.4853L9.39637 27.0147Z",fill:`url(#${o}-paint1_radial_262034_2117)`}),u.createElement("path",{d:"M19.7501 3H8.81266C5.68767 3 3.81268 7.08916 2.56269 11.1783C1.08177 16.0229 -0.856044 22.5021 4.75017 22.5021H9.66051C10.9615 22.5021 12.105 21.6415 12.4657 20.3915C13.2784 17.5759 14.7501 12.4993 15.9014 8.65192C16.4758 6.73249 16.9543 5.08404 17.6886 4.05749C18.1003 3.48196 18.7864 3 19.7501 3Z",fill:`url(#${o}-paint2_radial_262034_2117)`}),u.createElement("path",{d:"M19.7501 3H8.81266C5.68767 3 3.81268 7.08916 2.56269 11.1783C1.08177 16.0229 -0.856044 22.5021 4.75017 22.5021H9.66051C10.9615 22.5021 12.105 21.6415 12.4657 20.3915C13.2784 17.5759 14.7501 12.4993 15.9014 8.65192C16.4758 6.73249 16.9543 5.08404 17.6886 4.05749C18.1003 3.48196 18.7864 3 19.7501 3Z",fill:`url(#${o}-paint3_linear_262034_2117)`}),u.createElement("path",{d:"M12.2478 29H23.1852C26.3102 29 28.1852 24.9103 29.4352 20.8207C30.9161 15.9755 32.854 9.49548 27.2477 9.49548H22.3375C21.0364 9.49548 19.893 10.3562 19.5322 11.6062C18.7196 14.4221 17.2479 19.4994 16.0965 23.3474C15.5221 25.2671 15.0436 26.9157 14.3093 27.9424C13.8976 28.518 13.2115 29 12.2478 29Z",fill:`url(#${o}-paint4_radial_262034_2117)`}),u.createElement("path",{d:"M12.2478 29H23.1852C26.3102 29 28.1852 24.9103 29.4352 20.8207C30.9161 15.9755 32.854 9.49548 27.2477 9.49548H22.3375C21.0364 9.49548 19.893 10.3562 19.5322 11.6062C18.7196 14.4221 17.2479 19.4994 16.0965 23.3474C15.5221 25.2671 15.0436 26.9157 14.3093 27.9424C13.8976 28.518 13.2115 29 12.2478 29Z",fill:`url(#${o}-paint5_linear_262034_2117)`}),u.createElement("defs",null,u.createElement("radialGradient",{id:o+"-paint0_radial_262034_2117",cx:0,cy:0,r:1,gradientTransform:"matrix(-7.37821 -8.55084 -7.96607 7.17216 25.5747 13.5466)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{offset:.0955758,stopColor:"#00AEFF"}),u.createElement("stop",{offset:.773185,stopColor:"#2253CE"}),u.createElement("stop",{offset:1,stopColor:"#0736C4"})),u.createElement("radialGradient",{id:o+"-paint1_radial_262034_2117",cx:0,cy:0,r:1,gradientTransform:"matrix(6.61516 7.92888 7.80904 -6.47171 7.1753 21.9482)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#FFB657"}),u.createElement("stop",{offset:.633728,stopColor:"#FF5F3D"}),u.createElement("stop",{offset:.923392,stopColor:"#C02B3C"})),u.createElement("radialGradient",{id:o+"-paint2_radial_262034_2117",cx:0,cy:0,r:1,gradientTransform:"matrix(-0.990905 -17.2799 98.0282 -5.51056 8.54161 22.4952)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{offset:.03,stopColor:"#FFC800"}),u.createElement("stop",{offset:.31,stopColor:"#98BD42"}),u.createElement("stop",{offset:.49,stopColor:"#52B471"}),u.createElement("stop",{offset:.843838,stopColor:"#0D91E1"})),u.createElement("linearGradient",{id:o+"-paint3_linear_262034_2117",x1:9.52186,y1:3,x2:10.3572,y2:22.5029,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#3DCBFF"}),u.createElement("stop",{offset:.246674,stopColor:"#0588F7",stopOpacity:0})),u.createElement("radialGradient",{id:o+"-paint4_radial_262034_2117",cx:0,cy:0,r:1,gradientTransform:"matrix(-8.64067 24.4636 -29.4075 -10.797 27.8096 7.58585)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{offset:.0661714,stopColor:"#8C48FF"}),u.createElement("stop",{offset:.5,stopColor:"#F2598A"}),u.createElement("stop",{offset:.895833,stopColor:"#FFB152"})),u.createElement("linearGradient",{id:o+"-paint5_linear_262034_2117",x1:28.6736,y1:8.30469,x2:28.6627,y2:13.617,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{offset:.0581535,stopColor:"#F8ADFA"}),u.createElement("stop",{offset:.708063,stopColor:"#A86EDD",stopOpacity:0}))))};function J0(e){const t=u.useRef(null),n=u.useCallback(o=>{t.current!==o&&(t.current!==null&&Ie.emit("ref:unregistered",{name:e,ref:t}),t.current=o,o!==null&&Ie.emit("ref:registered",{name:e,ref:t}))},[e]);return u.useEffect(()=>()=>{t.current!==null&&Ie.emit("ref:unregistered",{name:e,ref:t})},[e]),n}const Sb={placement:"bottom"};function Cpe(e){ const _hh$temp939=e,t=_hh$temp939.isSidebarOpen,n=_hh$temp939.toggle,o=_hh$temp939.isSidebarAtomSynced,s=_hh$temp939.sidebarPadding,a=Qa(),r=u.useRef(!0); u.useEffect(()=>{r.current=!1},[]); const c=M(Zn),_hh$temp940=Y(),d=_hh$temp940.t,m=fl(),p=Yt(),h=p==="/",v=gl(),y=vt({breakpoint:"md"}),C=K0(),S=hi(),b=pl(),I=fi(),x=Bs(),E=Ik(),k=!t&&(E||fo(p)||v),w=u.useRef(null),_=J0("sidebar-header-container"),N=Ys(()=>{const B=document.getElementById("app");if(B){const F=y&&w.current?w.current.clientWidth:0;B.style.setProperty("--sidebar-header-secondary-buttons-collapsed-width",`${F}px`),B.style.setProperty("--header-controls-inline-start-width",`${F}px`);}}),L=tc([_,N]); return i.jsx("div",{className:O("pointer-events-none absolute start-0 top-0 w-full pe-2.5",dk(s,"header-top-padding")??"pt-1.5 md:pt-3",!S&&(!t||!o)?"ps-2":"ps-0.5",at.sidebar),children:i.jsx("div",{className:"relative",children:i.jsxs("div",{className:O("absolute flex min-w-full items-end justify-between p-1",b?"gap-3":"gap-0.5"),ref:L,children:[(t||S)&&i.jsx("div",{className:O("flex w-0 items-center",(!o||S&&!t&&!I)&&"max-md:hidden"),children:i.jsxs(X,{role:"link",title:d("sidebar.homepageLink"),className:O("pointer-events-auto absolute start-1 top-1 flex items-center gap-2 pe-2.5 ps-2.5",b&&"gap-0"),size:"36-sm",color:"subtle-dimmed-inverted",testId:"sidebar-copilot-brand-button",onClick:async()=>{!h&&x&&(fe({source:"sidebarBrandButton",destination:"/chat",pageName:p}),await a())},children:[i.jsx(Rk,{className:"size-5"}),i.jsx(Dt,{className:"flex items-center",mode:"popLayout",initial:r.current?!1:"initial",delay:m?0:eo.default,duration:m?0:eo.slow,children:i.jsxs("span",{className:O("flex items-center text-lg-strong",!o&&S&&"max-md:hidden",!t&&S&&"hidden"),children:[i.jsx(pt,{url:K3,className:"h-[18px] w-[58px]"}),C&&i.jsx(Qu,{text:"BETA",className:"ms-2 uppercase"})]})})]})}),i.jsxs("div",{className:O("pointer-events-auto relative mx-1 flex shrink-0 items-center gap-0.5",b&&"hidden"),"data-theme":c&&!t?c.theme:void 0,ref:w,children:[i.jsx(bt,{children:k&&i.jsx(Ce.div,{className:O("pointer-events-auto absolute border border-stroke-100 shadow-md dark:border-stroke-300","-inset-1 rounded-2xl",Co),initial:"initial",animate:"animate",exit:"exit",variants:{initial:Be,animate:ct,exit:Be},transition:m?{duration:0}:Jn})}),i.jsx(X,{title:d(t?"sidebar.close":"sidebar.open"),tooltip:Sb,className:O("after:absolute after:inset-0 after:rounded-xl max-md:hover:after:bg-black/3 max-md:dark:after:hover:bg-white/5",!S&&"hover:after:bg-black/3 dark:after:hover:bg-white/5",S&&t&&"md:cursor-w-resize",S&&!t&&"md:cursor-e-resize"),color:"subtle-dimmed-inverted",variant:"square",size:"36-sm",onClick:()=>{fe({source:"sidebarToggle",pageName:p,customData:JSON.stringify({isOpen:t})}),n()},testId:"sidebar-toggle-button",children:i.jsx(xm,{className:"size-5"})}),i.jsxs("div",{className:"flex rounded-xl safe-hover:bg-black/3 dark:safe-hover:bg-white/5 max-md:active:bg-black/3 max-md:dark:active:bg-white/5",children:[i.jsx(X,{title:d("composer.startNewChat"),tooltip:Sb,color:"subtle-dimmed-inverted",variant:"square",size:"36-sm",className:O("rounded-sm rounded-s-xl max-md:w-[34px]",b?"md:w-10":"w-[34px]"),onClick:async()=>{x&&(fe({source:"sidebarNewConversation",destination:"/chat",pageName:p,customData:JSON.stringify({isOpen:t})}),await a())},testId:"sidebar-new-conversation-button",children:i.jsx(hl,{className:"size-5"})}),i.jsx(yk,{buttonSize:"36-sm"})]}),C&&i.jsx(Qu,{text:d("settings.copilotBeta.beta"),className:O("relative m-2 uppercase",t&&o&&"max-md:hidden",(t||S)&&"md:hidden")})]})]})})})}const Spe="/conversations/search/status",bpe={refetchOnWindowFocus:!1,refetchOnReconnect:!1};async function Ipe(){try{return(await ut(Spe,Zz,{options:{method:"POST"}})).data.searchable??!1}catch(e){throw e}}function Epe(){ const e=W("conversation-search"),_hh$temp941=Fo({queryKey:["conversationSearchStatus"],queryFn:Ipe,enabled:e,...bpe}),t=_hh$temp941.data; return e&&(t??!1)}const wpe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./sidebar-search-content-FrC4yQyi.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([518,1,504,505,457,506,507,503,496,508,509,510,511,512,513,514,515,516,517,7])).then(e=>({default:e.SidebarSearchContent})));function Tpe(e){ const _hh$temp942=e,_hh$temp942$isSidebarAtomSynced=_hh$temp942.isSidebarAtomSynced,t=_hh$temp942$isSidebarAtomSynced===void 0?!0:_hh$temp942$isSidebarAtomSynced,n=_hh$temp942.isSidebarTranslucent,o=_hh$temp942.sidebarPadding,_hh$temp943=Y(),s=_hh$temp943.t,_hh$temp944=__arrayFrom$(Re(Lo)),a=_hh$temp944[0],r=_hh$temp944[1],_hh$temp945=__arrayFrom$(u.useState(!1)),c=_hh$temp945[0],d=_hh$temp945[1],m=fl(),p=vt({breakpoint:"md"}),_hh$temp946=__arrayFrom$(u.useState(p)),h=_hh$temp946[0],v=_hh$temp946[1],y=u.useRef(p),C=u.useRef(null),S=Z.instance().config().useCompactSidebarHeader??!1,b=Z.instance().config().isSidebarSmokeLayerVisible??!0; L0(()=>{p&&r(!1)});const I=pl(),x=Epe(),E=c&&a&&x,k=!E;u.useEffect(()=>{y.current===!1&&p&&r(!1),y.current===!0&&!p&&r(e5()==="open"),y.current=p,v(p)},[p,r]),ds({onOutsideEvent:()=>r(!1),elements:[C],shouldAttachListeners:a&&!b&&p,includeScroll:!1,invokeOnce:!1,includeFocus:!1});const w=()=>{r(!a),p||iN(a?"close":"open")};return i.jsxs(i.Fragment,{children:[i.jsx(bt,{children:h&&a&&b&&i.jsx(Ce.div,{className:O("fixed inset-0 bg-black/30",!t&&"hidden"),onClick:()=>r(!1),initial:"initial",animate:"animate",exit:"exit",variants:{initial:Be,animate:ct,exit:Be},transition:Jn})}),i.jsxs(Ce.div,{ref:C,className:O("relative w-full",n?"bg-white/10 backdrop-blur-md":"bg-sidebar-light dark:bg-sidebar-dark",!b&&"shadow-lg"),layout:"position",role:"navigation","data-testid":"sidebar-container",children:[i.jsx($0,{elementTiming:mk.SIDEBAR}),!a&&i.jsx("button",{onClick:w,type:"button",className:"absolute size-full cursor-e-resize outline-none max-md:hidden","aria-label":s("sidebar.open")}),k&&(S?i.jsx(kme,{isSidebarOpen:a,toggle:w}):i.jsx("div",{"data-theme":n?"dark":void 0,children:i.jsx(Cpe,{isSidebarOpen:a,toggle:w,isSidebarAtomSynced:t,sidebarPadding:o})})),i.jsx(bt,{children:i.jsx(Ce.div,{className:O("overflow-hidden",!a&&!I&&"hidden",a&&!t&&"max-md:hidden"),animate:"animate",exit:"exit",variants:{animate:ct,exit:Be},transition:m?{duration:0}:Jn,children:E?i.jsx(ao,{fallback:i.jsx("div",{className:"h-screen w-sidebar"}),children:i.jsx(wpe,{onCancel:()=>d(!1)})}):i.jsx(ype,{toggle:w,isSidebarTranslucent:n,onOpenConversationSearch:x?()=>d(!0):void 0,sidebarPadding:o})})})]})]})}const xpe=260,Ape=52,_pe=()=>{const e=hi(),t=vt({breakpoint:"md"}),n=fi();return e&&(!t||n)?Ape:0},kpe="bg-sidebar-light dark:bg-sidebar-dark";function Ppe(e){ const _hh$temp947=e,t=_hh$temp947.children,n=_hh$temp947.background,o=_hh$temp947.borderless,s=_hh$temp947.paddingTop,a=_hh$temp947.sidebarPadding,r=vt({breakpoint:"md"}),c=Ks(),m=M(Lo)&&c,_hh$temp948=__arrayFrom$(u.useState(!1)),p=_hh$temp948[0],h=_hh$temp948[1],v=M(ga),y=M(y1),C=pk(),S=hi(),b=fl(),I=Pa(),x=q(Lo),_hh$temp949=__arrayFrom$(u.useState(!1)),E=_hh$temp949[0],k=_hh$temp949[1]; u.useEffect(()=>{I&&!E&&(r&&x(!1),k(!0))},[I,r,x,E]);const w=c&&(m||S),_=pl(),N=fi(),L=C?"100%":xpe,B=_pe(),F=v||!!y,K=E?{width:m?L:B}:{},G=n&&(!m||_);return i.jsxs("div",{className:O("flex h-full overflow-hidden",kpe),inert:F?!0:void 0,children:[n,c&&i.jsx(Ce.div,{className:O("h-full w-0 will-change-auto max-md:bg-sidebar-light max-md:dark:bg-sidebar-dark",_&&N?"relative":"absolute md:relative",m?"md:w-sidebar":"md:w-sidebar-narrow",at.sidebar),animate:K,transition:b?{duration:0}:Jn,onAnimationStart:()=>h(!0),onAnimationComplete:()=>h(!1),children:i.jsx(Tpe,{isSidebarAtomSynced:E,isSidebarTranslucent:!!G,sidebarPadding:a})}),i.jsx("main",{className:O("relative flex w-full min-w-0 will-change-auto",!G&&"after:pointer-events-none after:fixed after:inset-2 after:z-30 after:rounded-container after:border after:border-transparent after:opacity-0 after:transition-opacity after:duration-0",w&&!p&&"md:after:opacity-100 md:after:duration-1000",_?"after:start-sidebar-narrow":"after:start-sidebar",!o&&["dark:after:border-white/12 dark:after:border-s-white/8",w&&"md:py-1.5 md:pe-1.5"],s&& __get$(ome,s) ),children:t}),i.jsx($0,{elementTiming:mk.LAYOUT})]})}function km(e){ const _hh$temp950=e,t=_hh$temp950.children,n=_hh$temp950.className,o=_hh$temp950.backgroundColor,_hh$temp950$showBackground=_hh$temp950.showBackground,s=_hh$temp950$showBackground===void 0?!0:_hh$temp950$showBackground,a=Ks(),r=hi(),c=ln(),d=fo(c); return i.jsxs("div",{className:O("relative h-full overflow-hidden",n),children:[i.jsx("div",{className:O("absolute size-full",a&&"md:t-main-clip-path"),children:s&&i.jsx(qs,{customColor:o,isFixed:!0})}),i.jsx("div",{className:O("relative size-full",!d&&"overflow-hidden",a&&r&&"md:rounded-container"),children:t})]})}const Mpe=2;function Nk(){const e=M(PZ),t=$s(),n=c0(),o=M(MZ),s=M(z1);let a=!1;return(t||n)&&!o&&!s&&(ete()===vl.LabsTryButton?a=!0:a=(Ht(Pu,A())??0)>=Mpe),{noModalToShow:!a&&!e,shouldShowEducationModal:a,isAppearanceEducationModalDisplayed:e,isAppearanceEducationModalClicked:o}}function Q0(){ const e=M(g1),_hh$temp951=T3(),t=_hh$temp951.passthroughType; return!!e?.prompt&&t==="full"}const Ps={CLOSE_BUTTON:"closeButton",COMPOSER:"composer",IMAGE_VIEWER:"imageViewer",NONE:"none"},gi=P(),Rpe=P(e=>{const t=e(gi);if(!(!t||!Array.isArray(t.media)||typeof t.currentMediaIndex!="number"))return  __get$(t.media,t.currentMediaIndex) });function Npe(){return M(Rpe)}function Lpe(e){const t=j(Se);nn({source:e.source??"defaultMediaViewerSource",scenario:"mediaViewerOpen",messageId:e.messageId,conversationId:t})}function Dpe(){const e=j(gi),t=j(Se);e&&nn({source:"mediaViewer",scenario:"mediaViewerNext",messageId:e.messageId,conversationId:t})}function Ope(){const e=j(gi),t=j(Se);e&&nn({source:"mediaViewer",scenario:"mediaViewerPrevious",messageId:e.messageId,conversationId:t})}function bb(){const e=j(gi),t=j(Se);e&&nn({source:"mediaViewer",scenario:"mediaViewerClose",messageId:e.messageId,conversationId:t})}async function Upe(e,t){const n=t??B_(),s=await(await fetch(e)).blob(),a=URL.createObjectURL(s),r=document.createElement("a"); __set$(r,"href",a) ,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a)}const Fpe=P();function Lk(){ const _hh$temp952=__arrayFrom$(Re(Fpe)),e=_hh$temp952[0],t=_hh$temp952[1],n=u.useCallback(a=>{t(a),fe({source:"mediaViewer",scenario:"PictureInPictureOpen"});},[t]),o=u.useCallback(()=>{t(void 0);},[t]); return{isPictureInPictureOpen:e!==void 0,openPictureInPicture:n,closePictureInPicture:o}}function jpe(e){const t=gn(new Date,"yyyyMMdd_HHmmss");return{filename:`${e}_${t}.mp4`}}function xo(){ const _hh$temp953=__arrayFrom$(Re(gi)),e=_hh$temp953[0],t=_hh$temp953[1],_hh$temp954=Lk(),n=_hh$temp954.openPictureInPicture,_hh$temp955=Y(),o=_hh$temp955.t,s=W("viewer-inner-action-buttons"),a=u.useCallback(()=>{const _hh$temp956=e??{},I=_hh$temp956.onClose;bb(),t(void 0),(I?.());},[t,e]),r=u.useCallback(()=>{Dpe(),t(I=>{if(!I)return I;if(I.currentMediaIndex<I.media.length-1){const x=I.currentMediaIndex+1;return{...I,currentMediaIndex:x,isCurrentMediaLoading:Wp(__get$(I.media,x))};}return I;});},[t]),c=u.useCallback(()=>{Ope(),t(I=>{if(!I)return I;if(I.currentMediaIndex>0){const x=I.currentMediaIndex-1;return{...I,currentMediaIndex:x,isCurrentMediaLoading:Wp(__get$(I.media,x))};}return I;});},[t]),d=u.useCallback(I=>{const x=s&&I.contentComposerType===void 0?{showInnerActionButtons:!0,contentComposerType:Ps.NONE}:{},E={...I,...x,isCurrentMediaLoading:Wp(__get$(I.media,I.currentMediaIndex))};Lpe(E),t(E);},[t,s]),m=(__get$(e?.media,e.currentMediaIndex,true)),p=m?.type==="video",h=e?.source==="videoActionCard"||e?.source==="library",v=p&&h,y=p&&!v,C=u.useCallback(()=>{if(m&&m.type==="video"){const _hh$temp957=m,I=_hh$temp957.player;n({url:m.url,title:m.source?.title??"",startTime:(I?.getCurrentTime())??0}),bb(),t(void 0);}},[n,t,m]),S=u.useCallback(()=>{if(!v)return;const _hh$temp958=jpe(o("video.downloadFileName")),I=_hh$temp958.filename;Upe(m.url,I);},[v,m,o]),b=e?.contentComposerType??Ps.CLOSE_BUTTON; return u.useMemo(()=>({openMediaViewer:d,closeMediaViewer:a,isMediaViewerOpen:e!==void 0,next:r,previous:c,isPictureInPictureSupported:y,triggerPictureInPicture:C,contentComposerType:b,showComposerWhenMediaViewerOpen:b===Ps.COMPOSER,contentPageType:e?.contentPageType,triggerVideoDownload:v?S:void 0}),[d,a,e,r,c,y,C,b,v,S])}function Wp(e){if(e&&"initLoading"in e)return e.initLoading}function Bpe(){ const e=W("discover-hide-composer-with-pick"),t=_m(),n=M(dq),o=W("discover-feed-v3"),_hh$temp959=xo(),s=_hh$temp959.isMediaViewerOpen; return!e||!t?!1:s?!!(o&&n===!0):n===null&&o?!0:n===!0}function Vpe(){ const e=ln(),_hh$temp960=Nk(),t=_hh$temp960.isAppearanceEducationModalDisplayed,_hh$temp961=xo(),n=_hh$temp961.isMediaViewerOpen,o=Bpe(),s=["/subscription/pricing","/subscription/ewallet/return","/subscription/manage","/subscription/start","/connector/callback"],a=Q0(),r=!e.startsWith("/labs")||e==="/labs/portrait/talk"; return!s.includes(e)&&!e.startsWith("/topic-selection")&&(!e.startsWith("/fang")||n)&&!e.startsWith("/login")&&e!=="/e/so"&&e!=="/e/sol"&&!e.startsWith("/gaming")&&(!e.startsWith("/library")||n)&&!e.startsWith("/conversations")&&!e.startsWith("/campaigns")&&!e.startsWith("/pages")&&!e.startsWith("/shares/pages")&&!e.startsWith("/research")&&!e.startsWith("/shares/3d-generations")&&!F0(e)&&r&&!t&&!a&&!e.startsWith("/shares/tasks")&&!e.startsWith("/tasks")&&!o}function Hpe(){ const _hh$temp962=__arrayFrom$(Re(xme)),e=_hh$temp962[0],t=_hh$temp962[1]; return u.useEffect(()=>{async function n(){const s=await(Z.instance().config().isCommandHeaderSupported??(()=>Promise.resolve(!1)))();t(s)}n().catch(()=>{})},[t]),e}const zpe=16/9,Gpe=48,Dk=296,Wpe=Dk/zpe,$pe=Wpe+Gpe;function qpe(){return i.jsx("div",{className:"pointer-events-none absolute inset-0 me-4 ms-2 mt-[72px]",children:i.jsx("div",{className:"absolute bottom-0 end-4",style:{width:`${Dk}px`,height:`${$pe}px`},children:i.jsx("div",{className:O("relative flex h-full flex-col overflow-hidden rounded-4xl","bg-acrylic-default-fallback-light/[98] dark:bg-acrylic-default-fallback-dark/[98]"),style:{boxShadow:"0px 16px 24px -2px rgba(0, 0, 0, 0.12)"},children:i.jsx("div",{className:"flex h-full items-center justify-center",children:i.jsx(At,{className:"size-12"})})})})})}const Kpe=Fn(()=>D(()=>import( __get$ProxyUrl("./composer-auto-complete-MCQsXa2i.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([519,1,7])),{moduleName:"composer-auto-complete",retryStrategy:bn});function Ype(e){ const _hh$temp963=e,t=_hh$temp963.content,n=_hh$temp963.handleSubmit,o=_hh$temp963.focusInputHandler,s=_hh$temp963.autoSuggestResponse,a=_hh$temp963.autoSuggestRef,r=_hh$temp963.autoSuggestId; switch(t){case"contextual-autosuggest":return i.jsx(Zpe,{handleSubmit:n,focusInputHandler:o,autoSuggestResponse:s,autoSuggestRef:a,autoSuggestId:r});default:return null}}function Zpe(e){ const _hh$temp964=e,t=_hh$temp964.handleSubmit,n=_hh$temp964.focusInputHandler,o=_hh$temp964.autoSuggestResponse,s=_hh$temp964.autoSuggestRef,a=_hh$temp964.autoSuggestId,r=(d,m)=>{x0({prompt:d,prefix:m}),t(d);},c=u.useCallback(()=>{Gr(),n();},[n]); return i.jsx(Kpe,{id:a,dataResponse:o,onClick:(d,m)=>r(d,m),onHighlight:d=>mc(d),onDismiss:c,className:"pointer-events-auto mb-3 sm:mb-0 sm:mt-3",ref:s})}const Jpe=1e3;class Qpe{chunks=[];cumulativeSampleCount=0;recordSentChunk(t,n){const o=Math.ceil(t/lS),s=this.cumulativeSampleCount;this.chunks.push({startSampleIndex:s,timestamp:n}),this.cumulativeSampleCount+=o,this.chunks.length>Jpe&&this.chunks.shift()}findTimestampForSampleIndex(t){if(t<0||t>=this.cumulativeSampleCount)return null;for(let n=0;n<this.chunks.length;n++){const o= __get$(this.chunks,n) ;if(!o)continue;const s= __get$(this.chunks,n+1) ;if(t>=o.startSampleIndex&&(!s||t<s.startSampleIndex)){const r=(t-o.startSampleIndex)/zr*1e3;return o.timestamp+r}}return null}startNewSession(){this.chunks=[],this.cumulativeSampleCount=0}clear(){this.chunks=[],this.cumulativeSampleCount=0}getCumulativeSampleCount(){return this.cumulativeSampleCount}getChunkCount(){return this.chunks.length}static getSampleRate(){return zr}static getBytesPerSample(){return lS}}class Ok{audioContext;audioAnalyser;destinationNode;destinationCleanup;get isInitialized(){return this.audioContext!==void 0&&this.audioContext.state!=="closed"}async initialize( _hh$temp965 ){ var t=_hh$temp965.sampleRate,n=_hh$temp965.reuseAudioContextDuringCall,_hh$temp965$audioCategory=_hh$temp965.audioCategory,o=_hh$temp965$audioCategory===void 0?"ambient":_hh$temp965$audioCategory; if(this.audioContext){if(n){if(this.audioAnalyser)try{this.audioAnalyser.disconnect()}catch{}this.audioAnalyser=this.audioContext.createAnalyser();return}await this.cleanup()}try{this.audioContext=new AudioContext({sampleRate:t}); const _hh$temp966=this.getDestination(this.audioContext,o),s=_hh$temp966.destination,a=_hh$temp966.cleanup; this.destinationNode=s,this.destinationCleanup=a,this.audioAnalyser=this.audioContext.createAnalyser()}catch(s){const a=s instanceof Error?s.message:String(s);throw new Error(`Failed to initialize audio context: ${a}`)}}async cleanup(){if(this.destinationCleanup?.(),this.destinationCleanup=void 0,this.destinationNode=void 0,this.audioContext&&this.audioContext.state!=="closed")try{await this.audioContext.close()}catch(t){t instanceof DOMException&&t.name==="InvalidStateError"||tt({feature:"AudioContextManager",scenario:"cleanup",errorType:"AudioContextCloseError",errorMessage:t instanceof Error?t.message:String(t)})}this.audioContext=void 0,this.audioAnalyser=void 0}getDestination(t,n){if(n==="ambient"||!t.createMediaStreamDestination)return{destination:t.destination,cleanup:()=>{}};const o=t.createMediaStreamDestination(),s=new Audio;return s.srcObject=o.stream,s.play().catch(a=>{tt({feature:"AudioContextManager",scenario:"playback",errorType:"playMediaStreamDestination",errorMessage:a instanceof Error?a.message:String(a)})}),{destination:o,cleanup:()=>{s.pause(),s.srcObject=null,o.disconnect()}}}}class Uk{mode;volumeUpdateRaf=-1;audioAnalyser;volume=yr(0);constructor(t){this.mode=t}startTracking(t){this.audioAnalyser&&this.stopTracking(),this.audioAnalyser=t,this.trackVolume()}trackVolume(){if(!this.audioAnalyser){this.stopTracking();return}const t=new Uint8Array(this.audioAnalyser.frequencyBinCount);this.audioAnalyser.getByteTimeDomainData(t);const n=fee(t);Math.abs(n-this.volume.get())>dee&&(this.volume.set(n),uS(n,this.mode)),this.volumeUpdateRaf=requestAnimationFrame(()=>{this.trackVolume()})}stopTracking(){this.volumeUpdateRaf!==-1&&(cancelAnimationFrame(this.volumeUpdateRaf),this.volumeUpdateRaf=-1),this.audioAnalyser=void 0,this.volume.set(0),uS(0,this.mode)}}const Xpe=2,efe=300;class tfe extends EventTarget{audioContextManager=new Ok;volumeTracker=new Uk("output");get audioContext(){return this.audioContextManager.audioContext}outputGainNode=null;outputSourceNodes=new Set;audioDuration=0;nextBufferTime=0;audioOffset=0;currentPlaybackRate=1;audioStarted=!1;audioChunksLoadDone=!1;preBufferedDuration=0;get isReusingAudioContext(){return $("reuse-audio-context-for-voice-output")}get audioPlaying(){return this.audioContext?.state==="running"}get audioEnded(){return this.audioChunksLoadDone&&this.outputSourceNodes.size===0}get playbackTime(){if(!this.audioStarted||!this.audioContext||this.audioContext.state==="closed")return 1/0; const _hh$temp967=this.audioContext,t=_hh$temp967.currentTime,n=_hh$temp967.outputLatency; return(t-(n||0)-this.audioOffset)*this.currentPlaybackRate}hasEnoughBufferToPlay(){return this.audioChunksLoadDone?!0:this.outputSourceNodes.size>=Xpe||this.preBufferedDuration*1e3>=efe}get volume(){return this.volumeTracker.volume}async initialize(t,n,o){this.audioContextManager.isInitialized&&await this.stopAudioPlayback(),this.currentPlaybackRate=DA(t);try{await this.audioContextManager.initialize({sampleRate:n,reuseAudioContextDuringCall:this.isReusingAudioContext,audioCategory:o}),this.audioContext?.suspend()}catch(s){throw this.onAudioError(s),s}this.audioDuration=0,this.nextBufferTime=0,this.audioOffset=0,this.audioStarted=!1,this.audioChunksLoadDone=!1,this.preBufferedDuration=0,this.setUpOutputVolumeTracking()}setUpOutputVolumeTracking(){ const _hh$temp968=this.audioContextManager,t=_hh$temp968.audioContext,n=_hh$temp968.audioAnalyser,o=_hh$temp968.destinationNode; !t||!n||!o||(this.outputGainNode=t.createGain(),this.outputGainNode.connect(n),n.connect(o),this.volumeTracker.startTracking(n))}appendAudioSource(t){if(!this.audioContext||!this.outputGainNode||!t.buffer)return;this.outputSourceNodes.add(t),t.connect(this.outputGainNode);const n=()=>{if(this.outputSourceNodes.delete(t),t.buffer){const a=t.buffer.length/t.buffer.sampleRate;this.preBufferedDuration=Math.max(0,this.preBufferedDuration-a)}this.outputSourceNodes.size===0&&(this.audioChunksLoadDone?this.stopAudioPlayback():(this.audioContext?.suspend(),this.dispatchEvent(new CustomEvent("audioSuspend")),this.onAudioSuspend()))};t.addEventListener("ended",n,{once:!0}),this.nextBufferTime<this.audioContext.currentTime&&(this.audioOffset+=this.audioContext.currentTime-this.nextBufferTime,this.nextBufferTime=this.audioContext.currentTime),t.start(this.nextBufferTime);const o=t.buffer.length/t.buffer.sampleRate;this.nextBufferTime+=o,this.audioDuration+=o,this.preBufferedDuration+=o,(!$("enable-audio-out-pre-buffering")||this.hasEnoughBufferToPlay())&&this.startPlayback()}async startPlayback(){if(this.audioContext&&this.audioContext.state!=="closed")try{await this.audioContext.resume(),this.audioStarted||(this.audioStarted=!0,this.dispatchEvent(new CustomEvent("audioStart")),void 0),this.onAudioResume()}catch(t){this.onAudioError(t)}}setAudioDone(){this.setAudioChunksLoadDone(),this.outputSourceNodes.size>0&&this.startPlayback()}setAudioChunksLoadDone(){this.audioChunksLoadDone=!0}async stopAudioPlayback(){for(const t of this.outputSourceNodes)t.stop();if(this.outputSourceNodes.clear(),this.setAudioChunksLoadDone(),this.volumeTracker.stopTracking(),!this.isReusingAudioContext)await this.audioContextManager.cleanup();else try{await this.audioContext?.suspend()}catch{}this.audioStarted&&(this.audioStarted=!1,this.onAudioEnd(),this.dispatchEvent(new CustomEvent("audioEnd")))}async cleanUpAudioContextAfterCallIfNeeded(){this.isReusingAudioContext&&await this.audioContextManager.cleanup()}onAudioError(t){this.dispatchEvent(new CustomEvent("error",{detail:t}))}onAudioSuspend(){}onAudioEnd(){}onAudioResume(){}}class nfe{ENERGY_THRESHOLD_MULTIPLIER=3;SILENCE_DURATION=500;MIN_SPEECH_DURATION=300;ZERO_CROSSING_MIN=.01;ZERO_CROSSING_MAX=.5;MAX_VALID_LATENCY_MS=2e3;AUDIO_SAMPLE_OFFSET=128;audioAnalyser;voiceDetectionRaf=-1;voiceDetectionActive=!1;energyHistory=[];noiseFloor=.01;isSpeaking=!1;silenceStartTime=0;lastVoiceDetectionTime=0;lastClientSideVoiceEndTime=null;serverVADLatencyMeasurements=[];onClientSideVoiceStartDetectedListeners=new Set;onClientSideVoiceEndDetectedListeners=new Set;startVoiceDetection(t){this.voiceDetectionActive&&this.stopVoiceDetection(),!(typeof window>"u")&&(this.audioAnalyser=t,this.voiceDetectionActive=!0,this.energyHistory=[],this.noiseFloor=.01,this.isSpeaking=!1,this.silenceStartTime=0,this.lastVoiceDetectionTime=Date.now(),this.lastClientSideVoiceEndTime=null,this.serverVADLatencyMeasurements=[],this.performVoiceDetection())}stopVoiceDetection(){this.voiceDetectionRaf!==-1&&(cancelAnimationFrame(this.voiceDetectionRaf),this.voiceDetectionRaf=-1),this.voiceDetectionActive=!1,this.audioAnalyser=void 0,this.displayServerVADLatencyStatistics()}addOnClientSideVoiceStartDetectedListener(t){return this.onClientSideVoiceStartDetectedListeners.add(t),()=>{this.onClientSideVoiceStartDetectedListeners.delete(t)}}addOnClientSideVoiceEndDetectedListener(t){return this.onClientSideVoiceEndDetectedListeners.add(t),()=>{this.onClientSideVoiceEndDetectedListeners.delete(t)}}getLastClientVoiceEndTime(){return this.lastClientSideVoiceEndTime?this.lastClientSideVoiceEndTime-this.SILENCE_DURATION:null}onServerSpeechEndDetected(){if(`${this.lastClientSideVoiceEndTime}`,`${this.voiceDetectionActive}${this.isSpeaking}`,!this.lastClientSideVoiceEndTime)return null;const t=Date.now(),n=this.lastClientSideVoiceEndTime-this.SILENCE_DURATION,o=t-n;return`${t}${this.lastClientSideVoiceEndTime}${n}${o}`,o>=0&&o<=this.MAX_VALID_LATENCY_MS?(this.serverVADLatencyMeasurements.push(o),o):null}getLastServerVADLatency(){return  __get$(this.serverVADLatencyMeasurements,this.serverVADLatencyMeasurements.length-1) ??null}performVoiceDetection(){if(!this.voiceDetectionActive||!this.audioAnalyser){`${this.voiceDetectionActive}`,this.audioAnalyser;return}try{const t=this.audioAnalyser.frequencyBinCount,n=new Uint8Array(t);this.audioAnalyser.getByteTimeDomainData(n);const o=new Float32Array(t);for(let r=0;r<t;r+=1){const c= __get$(n,r) ;c!==void 0&&( __set$(o,r,(c-this.AUDIO_SAMPLE_OFFSET)/this.AUDIO_SAMPLE_OFFSET) )}const s=this.advancedVoiceDetection(o),a=Date.now();s?(this.isSpeaking||a-this.lastVoiceDetectionTime>this.MIN_SPEECH_DURATION&&(this.isSpeaking=!0,this.invokeListeners(this.onClientSideVoiceStartDetectedListeners,"Voice start")),this.silenceStartTime=0,this.lastVoiceDetectionTime=a):this.isSpeaking&&(this.silenceStartTime===0?this.silenceStartTime=a:a-this.silenceStartTime>this.SILENCE_DURATION&&(this.isSpeaking=!1,this.lastClientSideVoiceEndTime=a,this.invokeListeners(this.onClientSideVoiceEndDetectedListeners,"Voice end")))}catch{}this.voiceDetectionRaf=requestAnimationFrame(()=>{this.performVoiceDetection()})}invokeListeners(t,n){for(const o of[...t])try{o()}catch{}}advancedVoiceDetection(t){let n=0,o=0;for(let p=0;p<t.length;p+=1){const h= __get$(t,p) ;if(h!==void 0&&(n+=h*h,p>0)){const v= __get$(t,p-1) ;v!==void 0&&v>=0!=h>=0&&(o+=1)}}n=Math.sqrt(n/t.length);const s=o/t.length;if(this.energyHistory.push(n),this.energyHistory.length>100){this.energyHistory.shift();const p=[...this.energyHistory].sort((v,y)=>v-y),h= __get$(p,Math.floor(p.length*.1)) ;h!==void 0&&(this.noiseFloor=h)}const a=this.noiseFloor*this.ENERGY_THRESHOLD_MULTIPLIER,c=n-this.noiseFloor>a,d=s>this.ZERO_CROSSING_MIN&&s<this.ZERO_CROSSING_MAX;return c&&d}displayServerVADLatencyStatistics(){if(this.serverVADLatencyMeasurements.length===0)return;const t=this.serverVADLatencyMeasurements,n=t.length,o=t.reduce((s,a)=>s+a,0)/n;[...t].sort((s,a)=>s-a),Math.min(...t),Math.max(...t),`${o.toFixed(1)}`,`${t.join(", ")}`}}const ofe="/static/cmc/assets/call_ending-BxIIadI4.mp3",sfe="/static/cmc/assets/call_opening-CKuCznU5.mp3";function afe(){const e=Kt(),t=$s(),n=qc(["study-mode-lumi","study-mode-summary"],"any"),o=W("tv-new-lumi");return t||e==="study"&&n||o}function rfe(){const e=ite(),t=$("tv-new-lumi");return e||t||yo()==="study"&&Kc(["study-mode-lumi","study-mode-summary"],"any")}const $9e={lmks_rest:"lmksRest",frames:"frames",expr:"expr",neck_pose:"neckPose",jaw_pose:"jawPose",eyes_pose:"eyesPose",eyes_open_ratio:"eyesOpenRatio",rotation:"rotation",translation:"translation",lmks:"lmks"};class ife{lmksRest;frames;constructor(t,n){this.lmksRest=t,this.frames=n}}class cfe{exp;pose;constructor(t,n){this.exp=t,this.pose=n}isValid(){return this.exp.dtype!==""&&this.exp.data.length>0||this.pose.dtype!==""&&this.pose.data.length>0}} const _hh$temp969=Number,Eh=_hh$temp969.EPSILON,lfe=["Viseme_Neutral","Viseme_AI","Viseme_E","Viseme_U","Viseme_CDG","Viseme_WQ","Viseme_O","Viseme_L","Viseme_ShCh","Viseme_FV","Viseme_MBP"],ufe=[0,1,1,6,2,3,4,5,6,1,6,1,2,5,7,4,8,7,9,4,4,10],As={enablePose:!1,enableNeck:!1,enableEye:!1,enableEyebrow:!1}; function q9e(e){As.enablePose=e,As.enableNeck=e,As.enableEye=e,As.enableEyebrow=e}function dfe(e,t=null){ const _hh$temp970=St.getCore(),n=_hh$temp970.Quaternion,o=_hh$temp970.Vector3,s=.3,a=.5,r=30/360*Math.PI,c=1,d=.01,m=["eye_BlinkUp","eye_Squint","eye_RSquare"],p=[.5,.2,.2],h=.5,v=.3,y=n.RotationAxis(o.Right(),Math.PI/4),C=y.conjugate(),S=new o(c,c,c),b=new o(-1,-1,-1),I={pose:{translation:new o(0,0,0),rotation:n.Identity()},expression:{eyes_open_ratio:0,eye_BlinkUp:0,eye_Squint:0,eye_RSquare:0,eyebrow_value:0,eyebrow_height:0,eyebrow_bend:0,viseme:new Array(11).fill(0),viseme22_idx:0,viseme11_idx:0},offset:e.offset??null}; if(As.enablePose){let E=Ib(e.rotation);if(As.enableNeck){const N=Ib(e.neckPose);E.multiplyInPlace(N)}E=y.multiplyToRef(E,E).multiplyToRef(C,E); let _hh$temp971=__arrayFrom$(pfe(E)),k=_hh$temp971[0],w=_hh$temp971[1]; w>r&&(w=r),I.pose.rotation=n.RotationAxis(k,w);const _=o.FromArray(e.translation);o.ClampToRef(_,b,S,_),I.pose.translation=_}const x=e.eyesOpenRatio[0]??0;if(I.expression.eyes_open_ratio=x,As.enableEye&&t!==null){let E=0,k=0,w=0;if(t.expression.eye_BlinkUp>0)x<.9&&(E=1,k=0,w=0);else if(t.expression.eye_Squint>0)x<.9&&(E=0,k=h,w=0);else if(t.expression.eye_RSquare>0)x>1.1&&(E=0,k=0,w=v);else{const _=t.expression.eyes_open_ratio;x<.75&&_<.8?(E=1,k=0,w=0):x<.8&&_<.85?(E=0,k=h,w=0):x>1.1&&(E=0,k=0,w=v)}I.expression.eye_BlinkUp=E,I.expression.eye_Squint=k,I.expression.eye_RSquare=w}if(As.enableEyebrow){const E=e.viseme.slice(1,4);I.expression.eyebrow_value=e.viseme[2]??0,I.expression.eyebrow_height=CS(((E[1]??0)-0)*2)*d,I.expression.eyebrow_bend=CS((0-(E[1]??0))*3)}{const E=Math.round(e.viseme[0]??0),k= __get$(ufe,E) ??0; __set$(I.expression.viseme,k,1) ,t!==null&&t.expression.viseme22_idx!==E&&( __set$(I.expression.viseme,k,.9) ),I.expression.viseme22_idx=E,I.expression.viseme11_idx=k}if(t!==null){for(const _hh$temp972 of m.entries()){ const _hh$temp973=__arrayFrom$(_hh$temp972),L=_hh$temp973[0],B=_hh$temp973[1]; const F= __get$(p,L) ??0; __set$(I.expression,B,Eb(__get$(t.expression,B),__get$(I.expression,B),0,F)) }const E=I.expression.viseme,k=t.expression.viseme;if((E[10]??0)<1e-6)for(let L=0;L<lfe.length;L+=1) __set$(E,L,Eb(__get$(k,L)??0,__get$(E,L)??0,0,s)) ;const _=I.pose.translation,N=t.pose.translation;I.pose.translation=new o(_.x*a+N.x*(1-a),_.y*a+N.y*(1-a),_.z*a+N.z*(1-a))}return I}function mfe(e){ const _hh$temp974=St.getCore(),t=_hh$temp974.TmpVectors,n=_hh$temp974.Vector3,o=t.Vector3[0]; o.fromArray(e);const s=o.length();return s<Eh?[n.Up(),0]:[o.scale(1/s),s]}function Ib(e){ const _hh$temp975=St.getCore(),t=_hh$temp975.Quaternion,_hh$temp976=__arrayFrom$(mfe(e)),n=_hh$temp976[0],o=_hh$temp976[1]; return t.RotationAxis(n,o)}function pfe(e){ const _hh$temp977=St.getCore(),t=_hh$temp977.Vector3,n=e.lengthSquared(); Math.abs(n-1)>Eh&&e.normalize();const o=Math.acos(e.w),s=o*2,a=Math.sin(o),r=Math.abs(a)<5e-4?1:a,c=new t(e.x/r,e.y/r,e.z/r);return c.lengthSquared()<Eh&&(c.y=1),[c,s]}function Eb(e,t,n,o){return Math.abs(t-e)<n?e:e<t?Math.min(e+o,t):Math.max(e-o,t)}function ffe(e,t,n){ const _hh$temp978=St.getCore(),o=_hh$temp978.Vector3,s=_hh$temp978.Quaternion,_hh$temp979=St.getMath(),a=_hh$temp979.Lerp; return{pose:{translation:o.Lerp(e.pose.translation,t.pose.translation,n),rotation:s.Slerp(e.pose.rotation,t.pose.rotation,n)},expression:{eyes_open_ratio:0,eye_BlinkUp:a(e.expression.eye_BlinkUp,t.expression.eye_BlinkUp,n),eye_Squint:a(e.expression.eye_Squint,t.expression.eye_Squint,n),eye_RSquare:a(e.expression.eye_RSquare,t.expression.eye_RSquare,n),eyebrow_value:0,eyebrow_height:a(e.expression.eyebrow_height,t.expression.eyebrow_height,n),eyebrow_bend:a(e.expression.eyebrow_bend,t.expression.eyebrow_bend,n),viseme:new Array(11).fill(0).map((c,d)=>a( __get$(e.expression.viseme,d) ??0, __get$(t.expression.viseme,d) ??0,n)),viseme22_idx:0,viseme11_idx:0}}}const hfe=3.141592653589793,wb="System.Single, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089";function gfe(e){const t=[],n=[],o=(c,d)=>{if(d>=c.length)throw new Error("index out of range");return  __get$(c,d) ===void 0?0: __get$(c,d) };for(const _hh$temp980 of e){ const c=_hh$temp980.frame,d=_hh$temp980.offset; if(c.length<97)return console.log("Invalid frame length"),null;const m=new Array(28).fill(0);m[12]=o(c,78),m[16]=o(c,43),m[17]=o(c,43),m[21]=o(c,72),m[23]=.5*o(c,52)+.5*o(c,53),m[24]=.75*o(c,76),m[26]=.75*o(c,76),t.push({exp:m,offset:d});const p=[[-1*o(c,88)+hfe,-1*o(c,89),o(c,90)],[0,o(c,92),-1*o(c,91)],[0,o(c,95),-1*o(c,94)]];n.push(p)}const s={dtype:wb,shape:[t.length,16],data:t,isColumnMajor:!1},a={dtype:wb,shape:[n.length,3,3],data:n,isColumnMajor:!1};return new cfe(s,a)}class vfe{constructor(t){this.getPlayTime=t}activeModel=null;a2eAnimationData=null;vasaAnimationData=null;vasaExpFrames=[];frameOffsetTimeAvailable=!1;currentFrameIndex=0;get fps(){return this.activeModel==="spda2e"?_$:this.activeModel==="vasa"?k$:25}get frameCount(){return this.activeModel==="spda2e"&&this.a2eAnimationData?this.a2eAnimationData.exp.data.length:this.activeModel==="vasa"&&this.vasaAnimationData?this.vasaAnimationData.frames.length:0}get playbackTime(){return this.getPlayTime()}reset(){this.activeModel=null,this.a2eAnimationData=null,this.vasaAnimationData=null,this.vasaExpFrames=[],this.frameOffsetTimeAvailable=!1,this.currentFrameIndex=0}setFrameData( _hh$temp981 ){ var t=_hh$temp981.frame,n=_hh$temp981.offsetInMilliseconds; t&&(this.activeModel=t.model,t.model==="spda2e"&&this.setA2EFrame(t.poseDiffusion,n),t.model==="vasa"&&this.setVasaFrameData(t,n))}setA2EFrame(t,n){if(!t?.length)return;const o=gfe([{frame:t,offset:n}]);if(o){if(!this.a2eAnimationData){this.a2eAnimationData=o;return}this.a2eAnimationData.exp.data.push(...o.exp.data),this.a2eAnimationData.pose.data.push(...o.pose.data),this.frameOffsetTimeAvailable=this.a2eAnimationData.exp.data.every( _hh$temp982=>{var s=_hh$temp982.offset;return!Number.isNaN(s);} )}}setVasaFrameData(t,n){if(!t)return;const o={...t,offset:n};if(!this.vasaAnimationData){this.vasaAnimationData=new ife([],[o]);return}this.vasaExpFrames.push(dfe(o,this.vasaExpFrames.at(-1))),this.vasaAnimationData.frames.push(o),this.frameOffsetTimeAvailable=this.vasaAnimationData.frames.every( _hh$temp983=>{var s=_hh$temp983.offset;return!Number.isNaN(s);} )}getCurrentFrameIndex(t){if(this.frameOffsetTimeAvailable){let n=this.currentFrameIndex;for(;n<t.length;n+=1){this.currentFrameIndex=n;const o= __get$(t,n) ;if(o?.offset!==void 0&&o.offset!==null&&o.offset/1e3>=this.playbackTime)break}return n}return Math.round(this.playbackTime/(1/this.fps))}getCurrentA2EFrame(){if(!this.a2eAnimationData)return null;const t=this.a2eAnimationData.exp.data;return this.currentFrameIndex=this.getCurrentFrameIndex(t), __get$(t,this.currentFrameIndex) ??null}getCurrentVasaFrame(){if(!this.vasaAnimationData)return null; const _hh$temp984=this.vasaAnimationData,t=_hh$temp984.frames,n=_hh$temp984.lmksRest; this.currentFrameIndex=this.getCurrentFrameIndex(t);const o= __get$(t,this.currentFrameIndex) ;return o?{frame:o,lmksRest:n}:null}getCurrentVasaExpFrame(){if(!this.vasaAnimationData)return null;this.currentFrameIndex=this.getCurrentFrameIndex(this.vasaExpFrames);const t= __get$(this.vasaExpFrames,this.currentFrameIndex-1) ,n= __get$(this.vasaExpFrames,this.currentFrameIndex) ;if(t&&n&&this.playbackTime<(n.offset??1/0)/1e3){const o=this.playbackTime-(t.offset??0)/1e3;return ffe(t,n,o)}return n??null}}const Fk=d0.getInstance(),ro=qA.getInstance(),yfe=100;class Cfe extends EventTarget{audioContextManager=new Ok;volumeTracker=new Uk("input");clientVADTracker=new nfe;audioChunkTimestampTracker=new Qpe;audioStream=null;isMuted=!1;audioCaptureCleanup=void 0;get volume(){return this.volumeTracker.volume}get audioContext(){return this.audioContextManager.audioContext}startVoiceDetection(){if(!$("enable-vad-latency-measure"))return;const t=this.audioContextManager.audioAnalyser;t&&this.clientVADTracker.startVoiceDetection(t)}stopVoiceDetection(){$("enable-vad-latency-measure")&&this.clientVADTracker.stopVoiceDetection()}addOnClientSideVoiceStartDetectedListener(t){return this.clientVADTracker.addOnClientSideVoiceStartDetectedListener(t)}addOnClientSideVoiceEndDetectedListener(t){return this.clientVADTracker.addOnClientSideVoiceEndDetectedListener(t)}onServerSpeechEndDetected(){return $("enable-vad-latency-measure")?this.clientVADTracker.onServerSpeechEndDetected():null}getLastClientVoiceEndTime(){return $("enable-vad-latency-measure")?this.clientVADTracker.getLastClientVoiceEndTime():null}getLastServerVADLatency(){return $("enable-vad-latency-measure")?this.clientVADTracker.getLastServerVADLatency():null}recordSentAudioChunk(t,n){this.audioChunkTimestampTracker.recordSentChunk(t,n)}findTimestampForSampleIndex(t){return this.audioChunkTimestampTracker.findTimestampForSampleIndex(t)}clearAudioChunkTimestamps(){this.audioChunkTimestampTracker.clear()}startNewFtrSession(){this.audioChunkTimestampTracker.startNewSession()}get isInputMuted(){return this.isMuted}set isInputMuted(t){this.toggleMute(t)}async startAudioCapture(t,n){this.audioContextManager.isInitialized&&await this.stopAudioCapture();try{await this.audioContextManager.initialize({sampleRate:dm()?void 0:zr})}catch(c){throw this.dispatchEvent(new CustomEvent("error",{detail:c})),c} const o=()=>{this.stopAudioCapture(),this.dispatchEvent(new CustomEvent("audioTrackEnded"));},s=c=>{this.dispatchEvent(new CustomEvent("audioData",{detail:c}));},_hh$temp985=this.audioContextManager,a=_hh$temp985.audioContext,r=_hh$temp985.audioAnalyser; if(a&&r){ const _hh$temp986=await wee(s,a,r,t,o,n),c=_hh$temp986.stream,d=_hh$temp986.cleanup; this.audioStream=c,this.audioCaptureCleanup=d,this.isInputMuted&&this.toggleMute(!0),this.volumeTracker.startTracking(r),this.startVoiceDetection()}}async stopAudioCapture(){if(this.audioCaptureCleanup&&(this.audioCaptureCleanup(),this.audioCaptureCleanup=void 0),this.audioStream){for(const t of this.audioStream.getTracks())t.stop();this.audioStream=null}this.volumeTracker.stopTracking(),this.stopVoiceDetection(),this.clearAudioChunkTimestamps(),await this.audioContextManager.cleanup()}toggleMute(t=!this.isMuted){if(this.audioStream)for(const n of this.audioStream.getTracks())n.enabled=!t;this.isMuted!==t&&(this.isMuted=t,this.dispatchEvent(new CustomEvent("muteStateChanged",{detail:t})))}}class Sfe extends tfe{startJinglePromise=void 0;animationSyncPromise=void 0;audioDelayPromise=void 0;async initialize(t=Uc,n=LA){await super.initialize(t,n),this.animationSyncPromise=void 0,ro.reset()}appendAudioData(t){if(ro.onAudioReceived(),!this.audioContext||!this.outputGainNode)return; const _hh$temp987=Xe,n=_hh$temp987.Animation; !this.audioStarted&&!this.animationSyncPromise&&(this.animationSyncPromise=n.getAnimationSyncPromise()?.finally(()=>{this.animationSyncPromise=void 0}));const o=Eee(t,this.audioContext);this.appendAudioSource(o),ro.setAudioDuration(this.audioDuration)}async startPlayback(){if(this.startJinglePromise??this.animationSyncPromise??this.audioDelayPromise){const t=Xe.currentTurnIndex,n=Promise.all([this.startJinglePromise,this.animationSyncPromise,this.audioDelayPromise]);try{await n}catch(o){o instanceof Error&&(`${o.message}`,void 0)}if(t!==Xe.currentTurnIndex)return}await super.startPlayback()}async playCallStartJingle(){this.startJinglePromise??=dS(sfe,3e3).finally(()=>{this.startJinglePromise=void 0}),await this.startJinglePromise}async playCallEndJingle(){await dS(ofe,3e3)}setAudioDelayPromise(t){this.audioDelayPromise=ud(t).finally(()=>{this.audioDelayPromise=void 0})}onAudioSuspend(){ro.onAudioSuspend()}onAudioResume(){ro.onAudioResume()}onAudioEnd(){ro.onAudioEnd()}onAudioError(t){super.onAudioError(t),Fk.onAudioError()}}class bfe extends EventTarget{isAnimationEnabled=!1;frameManager=new vfe(()=>Xe.AudioOut.playbackTime);syncHandler;isUseAppearanceComponent=!1;get currentA2EFrame(){return this.shouldAnimationPlay?this.frameManager.getCurrentA2EFrame():null}get currentVasaFrame(){return this.shouldAnimationPlay?this.frameManager.getCurrentVasaFrame():null}get currentVasaExpFrame(){return this.shouldAnimationPlay?this.frameManager.getCurrentVasaExpFrame():null}hasAudioStuttered=!1;get initialAnimationWaitingTime(){return $("voice-unified-ui")?0:this.hasAudioStuttered?yfe:0}animationSyncDeferred;appearanceReady=!1;get animationEnded(){return Xe.AudioOut.audioEnded}get shouldAnimationPlay(){return this.isAnimationEnabled&&!this.animationEnded&&Xe.AudioOut.audioStarted}emotionData=null;characterAppearance=null;async initSyncHandler(){if(this.isUseAppearanceComponent=rfe(),!!this.isUseAppearanceComponent&&!this.syncHandler){ const _hh$temp988=await D(async ()=>{const _hh$temp989=await import(__get$ProxyUrl("./index-D4vkuPZs.js","https://copilot.microsoft.com/static/cmc/assets/")),n=_hh$temp989.AudioAnimationSyncHandler;return{AudioAnimationSyncHandler:n};},__vite__mapDeps([520,521,1,16,14,15,17,18,65,66,25,26,20,21,27,28,29,30,31,67,37,32,68,69,70,71,22,72,23,73,74,75,76,77,43,40,42,52,78,45,44,41,79,80,81,82,83,84,85,86,87,88,250,268,94,100,50,98,96,51,201,39,230,228,48,49,176,173,174,183,59,180,203,200,198,202,192,210,212,206,211,189,207,209,396,58,60,47,53,403,395,393,394,397,35,269,425,398,165,95,97,99,101,164,289,288,170,169,306,305,304,163,162,287,286,167,166,303,302,301,522])),t=_hh$temp988.AudioAnimationSyncHandler; this.syncHandler=new t("spda2e","volume-based"),this.syncHandler.setInitialAnimationTimeout(this.initialAnimationWaitingTime),this.syncHandler.setAudioInfoProvider({getCurrentTime:()=>Xe.AudioOut.playbackTime,getOutputVolume:()=>Xe.AudioOut.volume.get()}),this.syncHandler.onFrameMissedInCache(()=>{ro.onCharacterAnimationMissedInCache()}),this.syncHandler.onResume(()=>{ro.onCharacterAnimationResume()}),this.syncHandler.onFrame(n=>{ro.onAnimationFrame(n)}),Xe.AudioOut.addEventListener("audioSuspend",()=>{this.hasAudioStuttered=!0,this.syncHandler?.setInitialAnimationTimeout(this.initialAnimationWaitingTime)})}}async initialize(t=!1){this.stopAnimation(),this.isAnimationEnabled=t,this.isUseAppearanceComponent&&this.syncHandler?.startTurn()}stopAnimation(){if(this.isUseAppearanceComponent){this.syncHandler?.interruptTurn();return}this.frameManager.reset(),this.emotionData=null,this.isAnimationEnabled=!1,this.animationSyncDeferred&&this.animationSyncDeferred.reject()}getAnimationSyncPromise(){if(this.isAnimationEnabled)return this.isUseAppearanceComponent?this.syncHandler?.getAnimationPreparedPromise().then(t=>{t==="timeout"&&Fk.onCharacterAnimationTimeout()}):(this.animationSyncDeferred||(this.initializeAnimationSync(),this.checkAnimationSyncPromise()),this.animationSyncDeferred?.promise)}initializeAnimationSync(){let t,n;const o=new Promise((r,c)=>{t=r,n=c}),s=ud(P$),a=Promise.race([o,s]).finally(()=>{this.animationSyncDeferred=void 0});this.animationSyncDeferred={promise:a,resolve:t,reject:n}}checkAnimationSyncPromise(){this.appearanceReady&&this.frameManager.frameCount>M$&&this.animationSyncDeferred?.resolve()}setAnimationDone(){this.isUseAppearanceComponent?this.syncHandler?.finishTurn():this.appearanceReady&&this.animationSyncDeferred?.resolve()}setAppearanceReady(){this.appearanceReady=!0,this.checkAnimationSyncPromise()}setFrameData(t){ro.onCharacterAnimationReceived(),!(!this.isAnimationEnabled||!t.frame)&&(this.isUseAppearanceComponent?(this.syncHandler?.addFrame(t),ro.setAnimationDuration(this.syncHandler?.animationDuration??-1)):(this.frameManager.setFrameData(t),this.checkAnimationSyncPromise()))}setEmotionData(t){this.isUseAppearanceComponent?this.dispatchEvent(new CustomEvent("set-emotion",{detail:t})):this.emotionData=t}setCharacterAppearance(t){this.characterAppearance=t,this.dispatchEvent(new CustomEvent("set-character-appearance"))}}class Yi{static instance=null;AudioIn=new Cfe;AudioOut=new Sfe;Animation=new bfe;currentTurnIndex=0;static getInstance(){return Yi.instance??=new Yi,Yi.instance}}const Xe=Yi.getInstance(),Tb=48,xb=50;function Ab(e){ const _hh$temp990=e,t=_hh$temp990.isNested,n=_hh$temp990.hideNestedBackground,_hh$temp991=__arrayFrom$(u.useState(1)),o=_hh$temp991[0],s=_hh$temp991[1],_hh$temp992=__arrayFrom$(u.useState(1)),a=_hh$temp992[0],r=_hh$temp992[1],c=u.useRef(void 0),d=u.useRef(void 0),m=Ys(C=>{c.current=C.width,d.current=C.height,s((c.current+Tb)/c.current),r((d.current+Tb)/d.current);},{initialize:!0}),_hh$temp993=Xe.AudioOut,p=_hh$temp993.volume,h=mR(p,hoe),v=Tu(h,[0,xb],[1,o]),y=Tu(h,[0,xb],[1,a]); return t&&n?null:i.jsx(Ce.div,{className:O("absolute inset-0",{[at.behindContent]:n}),ref:m,initial:Be,animate:{...ct,transition:{delay:voe}},exit:Be,children:i.jsx(Ce.div,{className:O("absolute inset-0 flex items-center justify-center overflow-hidden rounded-6xl",t?"-scale-x-100 rounded-5xl blur-lg":"bg-background-100/30 bg-blend-luminosity backdrop-blur-xl after:absolute after:inset-px after:rounded-6xl after:border after:border-transparent dark:bg-background-200/30"),layout:!0,style:{scaleX:v,scaleY:y},children:i.jsx(Ce.div,{className:O("absolute -inset-16 aspect-square bg-gradient-audio-output-light bg-blend-saturation saturate-150 dark:bg-gradient-audio-output-dark dark:saturate-100",t?"animate-spin-slower opacity-20 dark:opacity-30":"animate-spin-slow opacity-40 dark:opacity-50")})})})}function Ife(e){ const _hh$temp994=e,t=_hh$temp994.dynamicHeight; return i.jsx(Ce.div,{className:O("t-bottom-fade pointer-events-none absolute bottom-0 mx-4 box-content w-bottom-fade rounded-lg pt-bottom-fade",t?"h-bottom-fade":"h-composer","[transform:translateZ(0)]"),initial:Be,animate:ct,exit:Be,transition:p0,children:i.jsx(qs,{isBottomFade:!0})})}function Efe(e){ const _hh$temp995=e,t=_hh$temp995.categories,n=_hh$temp995.onClose,o=_hh$temp995.selectedCategoryIndex,s=_hh$temp995.handleCategoryClick,_hh$temp996=Y(),a=_hh$temp996.t,r=u.useRef(null),c=rg(r,{amount:"all"}); return u.useEffect(()=>{c&&_t({page:"chatPage",element:"chatStarterPillCategory",customData:JSON.stringify({visibleItems:t.map(d=>d.id)})})},[c,t]),i.jsx(cA,{onClose:n,className:"px-3",children:i.jsxs("div",{className:"flex w-full flex-col items-center gap-4",ref:r,children:[i.jsx("h1",{className:"mt-2 px-3 text-lg-strong",children:a("widgets.categorySelectorModalHeader")}),i.jsx("ul",{className:"flex w-full list-none flex-col items-center",role:"list",children:t.map((d,m)=>i.jsx("li",{className:"w-full",children:i.jsx(X,{className:"w-full",variant:"rect",color:"subtle-dimmed-inverted",title:d.label,onClick:()=>s(m),children:i.jsxs("span",{className:"flex w-full items-center justify-between",children:[i.jsx("span",{className:"truncate text-start",children:d.label}),o===m&&i.jsx(Tm,{className:"ms-2 size-4 shrink-0 text-foreground-600 contrast-more:text-current"})]})})},d.id))})]})})}const wfe="contrast-more:outline contrast-more:after:border-2 contrast-more:after:absolute contrast-more:after:pointer-events-none contrast-more:after:w-2/3 contrast-more:after:h-2/3",Tfe="text-foreground-550 active:text-foreground-350 dark:text-foreground-600 active:dark:text-foreground-550",xfe="bg-white/30 safe-hover:bg-black/3 active:bg-black/2 dark:bg-black/3 dark:safe-hover:bg-white/5 dark:active:bg-white/3",Afe="border-[1px] border-black/8 dark:border-white/8",_fe=`${Tfe} ${xfe} ${Afe}`;function jk(e){ const _hh$temp997=e,t=_hh$temp997.children,n=_hh$temp997.isSelected,o=_hh$temp997.className,s=_hh$temp997.onClick,a=_hh$temp997.disabled,r=_hh$temp997.unselectedColorClass,_hh$temp997$variant=_hh$temp997.variant,c=_hh$temp997$variant===void 0?"standard":_hh$temp997$variant,d=_hh$temp997.testId,m=_hh$temp997.ariaLabel,p=_hh$temp997.ariaSetSize,h=_hh$temp997.ariaPosInSet,v=_hh$temp997.dataItemId,y=_hh$temp997.tabIndex,_hh$temp998=cm({autoRestoreFocus:!0,forceFocus:!0}),C=_hh$temp998.focusable; let S;return n?S=Vu.strong:c==="flat"?S=_fe:S= __get$(Vu,r??"overlay-dimmed-inverted") ,i.jsx("button",{disabled:a,type:"button",ref:C.ref,className:O("shadow-none dark:shadow-none",$f,vA["40-base"],yA["40-base"],qf["40-base"],SA,S,o,n&&wfe),onClick:s,role:p?"radio":void 0,tabIndex:y,"aria-checked":p?n:void 0,"aria-pressed":p?void 0:n,"aria-label":m,"aria-setsize":p,"aria-posinset":h,"data-spatial-focus-key":C.focusKey,"data-testid":d,"data-item-id":v,children:t})}function kfe(e){ const _hh$temp999=e,t=_hh$temp999.text,n=_hh$temp999.onClick,o=_hh$temp999.className,s=_hh$temp999.testId,a=_hh$temp999.ariaLabel,r=_hh$temp999.dataItemId; return i.jsx(jk,{isSelected:!1,variant:"flat",className:O("min-w-fit",o),onClick:n,testId:s,ariaLabel:a,dataItemId:r,children:i.jsx("span",{className:"px-1 text-sm",children:t})})}function X0(){return!j(tT)}function Pfe(){ const e=X0(),_hh$temp1000=Ja(),t=_hh$temp1000.showShoppingCardInNewChat,n=!vt({breakpoint:"sm"}),o=!!Z.instance().config().landingPage?.enableCentralComposer; return e&&!(t&&n)&&o}function Mfe(e){const t=X0(),n=!!Z.instance().config().landingPage?.enableStarterPrompts;return t&&e&&n}function Rfe(e){const t=X0(),n=$("appr-home");return t&&e&&n}function Nfe(){ const _hh$temp1001=s3(),e=_hh$temp1001.launchGreetingShown,_hh$temp1002=Ja(),t=_hh$temp1002.hasInsightsSummary,n=M(Rre),o=Q0(); return!t&&!n&&!e&&!o}function Xa(){const t=Yt()==="/",n=Rfe(t),o=Pfe(),s=Nfe(),a=N0();return{isAutoSuggestEnabled:Z_(t),isCentralComposerEnabled:o,isStarterPromptsEnabled:Mfe(t),isAppearanceOnHomeEnabled:n,isGreetingCentered:n||!a&&$("categorized-conversation-starter-widget"),showLaunchGreeting:s}}const Lfe=1e3;function ev(){const e=!!Z.instance().config().landingPage?.enablePromptedGreetings,t=N0(),n=W("personalizedgreetings");return e&&(!!t||n)}function Dfe(){ const _hh$temp1003=__arrayFrom$(Re(e3)),e=_hh$temp1003[0],t=_hh$temp1003[1],n=ev(); return u.useEffect(()=>{let o;return n?(t(!1),o=window.setTimeout(()=>{t(!0)},Lfe)):t(!1),()=>{o&&clearTimeout(o)}},[t,n]),e}function Ofe(e,t="data-item-id"){const n=e.current;if(!n)return[];const o=n.getBoundingClientRect(),s=n.querySelectorAll(`[${t}]`),a=[];for(const r of s){const c=r.getBoundingClientRect(),d=r.getAttribute(t),m=Math.max(0,Math.min(c.right,o.right)-Math.max(c.left,o.left)),p=c.width>0?m/c.width:0;d&&p>=.5&&a.push(d)}return a}const Ufe=300;function Ffe(e){ const _hh$temp1004=e,t=_hh$temp1004.promptsRef,n=_hh$temp1004.pageName,o=_hh$temp1004.widgetSource,s=_hh$temp1004.starterPromptsData,a=_hh$temp1004.selectedCategory,r=rg(t,{once:!0,amount:"all"}),c=u.useRef(new Set()); u.useEffect(()=>{const d=a?.id??"default";if(r&&t.current&&!c.current.has(d)){c.current.add(d);const m=setTimeout(()=>{requestAnimationFrame(()=>{const p=Ofe(t);_t({page:n,scenario:o,element:"chatStarterPills",customData:JSON.stringify({visibleItems:p,totalItems:p.length,category:a?.id})})})},Ufe);return()=>clearTimeout(m)}return()=>{}},[n,r,t,a?.id,s,o])}function Bk(e,t){const n={...t,actionType:e.type};switch(e.type){case"sendMessage":case"prefillComposer":return{...n,prompt:e.prompt};case"changeChatMode":return{...n,chatMode:e.key};case"changeComposerCreateMode":return{...n,composerCreateMode:e.key};case"uploadFile":case"tutoringCall":case"createPage":case"createProject":case"openHomeworkHelper":return n;default:{const o=e;throw new Error(`Unhandled action type: ${JSON.stringify(o)}`)}}}function jfe( _hh$temp1005 ){ var e=_hh$temp1005.pageName,t=_hh$temp1005.widgetSource,n=_hh$temp1005.categoryId,o=_hh$temp1005.onWidgetClick; return async s=>{ const _hh$temp1006=s,a=_hh$temp1006.action,r=_hh$temp1006.id,c=_hh$temp1006.source,d=_hh$temp1006.text,m=_hh$temp1006.index,p=Bk(a,{id:r,source:c,text:d,index:m}); fe({pageName:e,source:t,scenario:r,customData:JSON.stringify({prompt:p.prompt,text:d,index:m,category:n})}),await o(p)}}const Bfe=(e,t)=>{if(!e||t===void 0)return null; const _hh$temp1007=e,n=_hh$temp1007.type; switch(n){case"categories":return  __get$(e.categories,t) ?.items??[];case"text":return e.items;case"banner":case"card":return null;default:throw new Error(`Unhandled action type: ${n}`)}};function Vfe(e){ const _hh$temp1008=e,t=_hh$temp1008.className,n=_hh$temp1008.onWidgetClick,_hh$temp1008$pageName=_hh$temp1008.pageName,o=_hh$temp1008$pageName===void 0?"chatPage":_hh$temp1008$pageName,s=_hh$temp1008.widgetSource,a=_hh$temp1008.starterPromptsData,r=_hh$temp1008.shouldStackChips,c=_hh$temp1008.shouldCenterChips,_hh$temp1008$containerId=_hh$temp1008.containerId,d=_hh$temp1008$containerId===void 0?"":_hh$temp1008$containerId,m=_hh$temp1008.selectedCategory,p=_hh$temp1008.onCategoryClick,h=u.useRef(null),_hh$temp1009=Y(),v=_hh$temp1009.t,y=vt({breakpoint:"sm"}),C=W("feature-discovery"); Ffe({promptsRef:h,pageName:o,widgetSource:s,starterPromptsData:a,selectedCategory:m});const S=jfe({pageName:o,widgetSource:s,categoryId:m?.id,onWidgetClick:n});return i.jsxs(Dt,{role:"list",className:O("flex w-full gap-2 px-1 py-1 sm:flex-wrap sm:py-4",r?"mb-3 flex-col items-end space-y-1 sm:flex-row":O("scrollbar-container overflow-x-auto overflow-y-hidden",C?"max-h-[60px]":"max-h-[110px]"),c?"sm:justify-center":"sm:justify-start",t),id:d,ref:h,children:[m&&y&&i.jsx(X,{onClick:p,title:m.label,className:"min-w-fit",color:"overlay-dimmed-inverted",children:i.jsxs("span",{className:"flex items-center gap-2",children:[m.label,i.jsx(Eo,{className:"size-4 -rotate-90"})]})}),a.map((b,I)=>{ const _hh$temp1010=b,x=_hh$temp1010.id,E=_hh$temp1010.text,k=_hh$temp1010.action,w=v("composer.starterPromptAriaLabel",{text:E,index:I+1,total:a.length}); return i.jsx(kfe,{text:E,onClick:()=>S({action:k,id:x,source:"pills",text:E,index:I}),className:O(r&&"w-auto min-w-min max-w-[80%] text-start"),testId:`starter-prompt-${x}`,ariaLabel:w,dataItemId:x},x)})]})}function Hfe(e){ const _hh$temp1011=e,t=_hh$temp1011.className,n=_hh$temp1011.onWidgetClick,_hh$temp1011$pageName=_hh$temp1011.pageName,o=_hh$temp1011$pageName===void 0?"chatPage":_hh$temp1011$pageName,s=_hh$temp1011.selectedCategory,a=_hh$temp1011.selectedCategoryIndex,r=_hh$temp1011.onCategoryClick,c=M(X_),d=ev(),m=M(e3),_hh$temp1012=Xa(),p=_hh$temp1012.isAppearanceOnHomeEnabled,h=p||c?.type==="categories",v=M(I0),y=Z.instance().config().landingPage?.stackStarterChipsForSmallScreens; let C="";v?C=v:s&&(C=s.id);const S=Bfe(c,a);return d&&!m||!S?null:i.jsx(Vfe,{onWidgetClick:n,className:t,pageName:o,starterPromptsData:S,widgetSource:c?.source??"chatStarterPills",shouldStackChips:y,shouldCenterChips:h,containerId:C,selectedCategory:s,onCategoryClick:r})}const zfe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./starter-prompt-category-DtCu6Jjj.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([523,1,7]))),Gfe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./mode-specific-card-widget-section-CSEPhQe6.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([524,1,7])));function Wfe(e){ const _hh$temp1013=e,t=_hh$temp1013.className,n=_hh$temp1013.onWidgetClick,_hh$temp1013$pageName=_hh$temp1013.pageName,o=_hh$temp1013$pageName===void 0?"chatPage":_hh$temp1013$pageName,s=M(X_),a=vt({breakpoint:"sm"}),_hh$temp1014=__arrayFrom$(Re(pre)),r=_hh$temp1014[0],c=_hh$temp1014[1],_hh$temp1015=__arrayFrom$(u.useState(!1)),d=_hh$temp1015[0],m=_hh$temp1015[1],p=async b=>{n(b);},h=b=>{b!==r&&(c(b),fe({source:"chatStarterPillCategory",pageName:"chatPage",destination:v?__get$(v,b)?.id:void 0})),m(!1);},v=s&&s.type==="categories"?s.categories.map(b=>({id:b.id,label:b.label})):void 0,y=v&&!a,C=(d&&v)&&a; return M(hre)&&s?.type==="card"?i.jsx("div",{className:O("mx-auto w-full",t),children:i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"h-32 w-full"}),children:i.jsx(Gfe,{onWidgetClick:p})})}):!s||!["text","categories"].includes(s.type)?null:i.jsxs("div",{className:O("mx-auto flex w-full flex-col gap-3 px-2",t),children:[y&&i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"mt-2 h-8 w-full"}),children:i.jsx(zfe,{categories:v,handleCategoryClick:h,selectedCategoryIndex:r,className:"mt-2"})}),i.jsx(Hfe,{onWidgetClick:p,pageName:o,selectedCategory:v? __get$(v,r) :void 0,selectedCategoryIndex:r,onCategoryClick:v?()=>m(!0):void 0}),C&&i.jsx(Efe,{categories:v,handleCategoryClick:h,selectedCategoryIndex:r,onClose:()=>m(!1)})]})}const $fe=Fn(()=>D(()=>import( __get$ProxyUrl("./composer-auto-complete-MCQsXa2i.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([519,1,7])),{moduleName:"composer-auto-complete",retryStrategy:bn}),qfe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./composer-actions-prompt-suggestions-BSb99AfC.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([525,1,526,7])).then(e=>({default:e.ComposerActionsPromptSuggestions}))),Kfe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./composer-file-upload-prompt-suggestions-MO3pU4TL.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([527,1,526,7])).then(e=>({default:e.ComposerFileUploadPromptSuggestions})));function Yfe(e){ const _hh$temp1016=e,t=_hh$temp1016.composerBottomSection,n=_hh$temp1016.handleSubmit,o=_hh$temp1016.focusInputHandler,s=_hh$temp1016.uploadedAttachments,a=_hh$temp1016.showAutoSuggest,r=_hh$temp1016.autoSuggestResponse,c=_hh$temp1016.autoSuggestRef,d=_hh$temp1016.autoSuggestId,m=_hh$temp1016.isLanding,p=_hh$temp1016.shouldShowStarterPrompts,h=(y,C)=>{x0({prompt:y,prefix:C}),n(y);},v=u.useCallback(()=>{Gr(),o();},[o]); return i.jsxs(i.Fragment,{children:[a&&i.jsx(u.Suspense,{fallback:null,children:i.jsx($fe,{id:d,dataResponse:r,onClick:(y,C)=>h(y,C),onHighlight:y=>mc(y),onDismiss:v,className:"pointer-events-auto mb-3 sm:mb-0 sm:mt-3",ref:c})}),t==="actions-autosuggest"&&i.jsx(u.Suspense,{fallback:null,children:i.jsx(qfe,{className:"pointer-events-auto mb-3 sm:mb-0 sm:mt-3",onClick:y=>fc({prompt:y,prefillSource:"action"},m)})}),t==="file-upload-autosuggest"&&i.jsx(u.Suspense,{fallback:null,children:i.jsx(Kfe,{className:"pointer-events-auto mb-3 sm:mb-0 sm:mt-3",isMultiple:s.length>1,variant:s[0]?.type??"file",onClick:y=>{n(y)}})}),t==="starter-prompts"&&p&&i.jsx(Wfe,{className:"pointer-events-auto sm:mt-8",onWidgetClick:y=>Ku(y,m)})]})}function Zfe(){return M(h1).map(t=>t.id)}const Jfe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./character-CiEsLcwC.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([528,1,529,7])).then(e=>({default:e.Character})));function Qfe(){ const _hh$temp1017=__arrayFrom$(Re(Jc)),e=_hh$temp1017[0],t=_hh$temp1017[1],_hh$temp1018=pi(),n=_hh$temp1018.createConversation,_hh$temp1019=__arrayFrom$(u.useState(!1)),o=_hh$temp1019[0],s=_hh$temp1019[1],a=q(nT),r=q(ha),c=Zfe(),d=u.useRef(null),m=M(Hs); u.useEffect(()=>{if(d.current===null){const S=mde(c);S&&(d.current=S)}},[c]); const _hh$temp1020=Y(),p=_hh$temp1020.t; u.useEffect(()=>{o&&d.current&&R.trackEvent({name:"system",data:{eventName:"characterPromotionShown",eventInfo_characterId:d.current}})},[o]),u.useEffect(()=>{const S=localStorage.getItem(GR);s(!S&&m.length>=10&&m.length<14)},[e,m.length]);function h(S){switch(S){case"mica":return"mica-head";case"aqua":return"aqua-head";case"erin":return"erin-head";default:return"mica-head"}}async function v(){d.current&&(r("clicking"),R.trackEvent({name:"interaction",data:{eventName:"characterPromotionClicked",eventInfo_characterId:d.current}}),a(!0),S1({settingName:"characterId",oldValue:"",newValue:d.current}),R.setSettings({userSettingCharacterId:d.current}),await Promise.all([Nt({path:"/user/settings",args:{options:{method:"PATCH"},query:{"api-version":"2"},body:{preferredCharacter:d.current}}})]))}const y=u.useCallback(async()=>{s(!1)},[]),C=u.useCallback(async()=>{d.current&&(s(!1),a(!0),t(d.current),await n())},[a,t,n]);return o?i.jsx("div",{className:"pointer-events-auto absolute -top-40 end-4 size-56 pb-2",onClick:v,onKeyDown:async S=>{S.key==="Enter"&&await v()},role:"button",tabIndex:0,"aria-label":p("characterAnimation.characterOptInAriaLabelText"),children:i.jsx(Jfe,{className:"outline-none",characterId:h(d.current),onCharacterDismissed:y,onCharacterClicked:C})}):null}const tv="0px 0px 0px 1px rgb(255, 255, 255) inset",nv="0px 0px 0px 1px rgba(255, 255, 255, 0.08) inset",Xfe="0px 10px 24px 0px rgba(0, 0, 0, 0.18)",ehe="0px 42px 30px 0px rgba(0, 0, 0, 0.06)",the="0px 16px 48px 0 rgba(248, 188, 140, 0.18)",nhe="0px 16px 48px 0 rgba(0, 0, 0, 0.12)",Vk="rgba(0, 0, 0, 0.08)",Hk="rgba(0, 0, 0, 0.16)",ohe=`0px 16px 24px 0 ${Vk}`,she=`0px 16px 24px 0 ${Hk}`,_b={boxShadow:{duration:1.5,ease:"easeInOut",type:"tween"}},ahe=28,rhe=32,ihe=24,che=26,lhe="relative flex grow flex-col overflow-hidden before:absolute before:inset-0 before:rounded-3xl before:border-2 before:border-stroke-350",uhe="w-auto rounded-3xl contrast-more:border-2",K9e="bg-gradient-to-b from-white/90 to-white/0 dark:from-black/30 dark:to-background-200/10",dhe="bg-white/90 dark:bg-background-100/45",Pi="size-6";function kb(e){ const _hh$temp1021=e,t=_hh$temp1021.children,n=_hh$temp1021.className; return i.jsx(Ce.div,{className:n,initial:Be,animate:ct,exit:Be,transition:{delay:o_},children:t})}const mhe={initial:Be,animate:ct};function phe(e){ const _hh$temp1022=e,t=_hh$temp1022.titleKey,n=_hh$temp1022.buttonTextKey,o=_hh$temp1022.button,s=_hh$temp1022.cancelButton,a=_hh$temp1022.onClick,r=_hh$temp1022.closeDialogCallback,c=_hh$temp1022.textKey,d=_hh$temp1022.textComponents,_hh$temp1023=Y(),m=_hh$temp1023.t,p=m(t),h=m(o.textKey),v=u.useRef(null); return f0(v),i.jsxs(i.Fragment,{children:[i.jsx(Ce.div,{ref:v,layout:!0,variants:mhe,initial:"initial",animate:"animate",role:"dialog","aria-label":p,tabIndex:-1,children:i.jsxs("div",{className:"m-3 text-center text-foreground-800",children:[i.jsx("h2",{className:"py-3",children:p}),i.jsx("p",{className:"text-sm",children:i.jsx(fn,{i18nKey:c,components:d})}),n&&i.jsx("div",{className:"mx-auto flex w-full max-w-xs justify-around px-5 py-3 text-accent-600",children:i.jsx("button",{onClick:a,type:"button",className:"text-sm",children:m(n)})})]})}),i.jsxs(Ce.div,{className:"relative mx-0.5 my-1 flex w-full items-center justify-center gap-2 px-2 align-middle",children:[s&&i.jsx(X,{variant:"rect",title:m(s.textKey),className:"relative my-3 flex h-10 max-w-40 items-center justify-center py-3 dark:bg-black/40 dark:hover:bg-black/40",onClick:()=>{r(),s.onClick()},children:m(s.textKey)}),i.jsx(X,{variant:"rect",title:h,className:"relative my-3 flex h-10 max-w-40 items-center justify-center py-3 dark:bg-black/40 dark:hover:bg-black/40",onClick:()=>{r(),o.onClick()},children:h})]})]})}function fhe(){const e=rt("kill-domain-referrer");return u.useCallback(t=>ui(t,{preventReferrer:e}),[e])}function ov( _hh$temp1024 ){ var e=_hh$temp1024.className,t=_hh$temp1024.style; return i.jsx("div",{className:Je("animate-[shimmer_2s_infinite] bg-black/5 bg-gradient-to-r dark:bg-white/5","from-transparent via-background-150 to-transparent","bg-[length:50%_100%] bg-no-repeat",e),style:t})}const hhe=new Set(["ads","tapToReveal"]);function ghe(e){ const _hh$temp1025=e,t=_hh$temp1025.isImageOrVideo,n=_hh$temp1025.isInlineImageOrVideo; let o="h-[300px]";return n?o="h-[150px]":t&&(o="h-[144px] sm:h-[176px]"),i.jsx("div",{className:"flex flex-col gap-3 px-4",children:i.jsx(ov,{className:O("w-full",o),style:{clipPath:"var(--clip-path-squircle-36)"}})})}function Pb(e){ const _hh$temp1026=e,t=_hh$temp1026.type,n=_hh$temp1026.length; if(t&&hhe.has(t))return i.jsx("div",{});const o=t==="image"||t==="video",s=t==="inlineImage"||t==="inlineVideo",a=o&&n===1;return i.jsx(Z1,{size:"md",stroke:!0,className:O("relative flex",a?"w-[300px]":"w-full","flex-col py-3 transition-opacity duration-300 ease-in-out"),children:i.jsx(ghe,{isImageOrVideo:o,isInlineImageOrVideo:s})})}function Y9e(e){if(e.type==="image")return e.images.length;if(e.type==="video")return e.videos.length}const vhe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./upsell-block-t7OLquaQ.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([530,1,7]))),yhe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./price-tracking-block-C7GhvYod.js","https://copilot.microsoft.com/static/cmc/assets/") ).then(e=>e.p),__vite__mapDeps([531,1,477,474,532,533,480,479])).then(e=>({default:e.PriceTrackingBlock}))),Che=u.lazy(()=>D(()=>Promise.resolve().then(()=>pSe),void 0)),She=u.lazy(()=>D(()=>import( __get$ProxyUrl("./over-task-quota-Dy2dYoAt.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([534,1,535,536,7])).then(e=>({default:e.OverTaskQuota}))),bhe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./computer-use-task-closed-BUvU8VhS.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([537,1,7,538,539,540,541,542,543,544,545,546,547,535,536])).then(e=>({default:e.ComputerUseTaskClosed}))),Ihe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./safety-risk-card-CH8PdnzE.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([548,1,535,536,7])).then(e=>({default:e.SafetyRiskCard}))),Ehe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./add-to-page-j1GPM558.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([549,1,7])).then(e=>({default:e.AddToPage}))),whe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./composer-prompt-review-Ljcu9GDF.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([550,1,482,7]))),Mb=u.lazy(()=>D(()=>import( __get$ProxyUrl("./composer-action-DFtP-4lY.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([535,1,536,7]))),The=u.lazy(()=>D(()=>import( __get$ProxyUrl("./biometric-consent-CukC-0oy.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([551,1,7])).then(e=>({default:e.BiometricConsent}))),xhe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./composer-sign-in-C81PaTaW.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([552,1,553,7])));function Ahe(e){ const _hh$temp1027=e,t=_hh$temp1027.expandedSection,n=_hh$temp1027.isDialogShown,o=_hh$temp1027.expandedSectionPromptAction,s=_hh$temp1027.chatModalRef,a=_hh$temp1027.biometricConsentCallbacks,r=_hh$temp1027.turnLimitReached,c=_hh$temp1027.closeExpandedSection,d=_hh$temp1027.onVoiceSettingChanged,m=_hh$temp1027.toggleAudioSettingsVisibility,p=_hh$temp1027.isCompact,_hh$temp1028=Y(),h=_hh$temp1028.t,v=q(Ct),y=q(en),_hh$temp1029=rl(),C=_hh$temp1029.login,S=al(),_hh$temp1030=__arrayFrom$(Re(Ws)),b=_hh$temp1030[0],I=_hh$temp1030[1],_hh$temp1031=__arrayFrom$(u.useMemo(()=>{const _hh$temp1034=b,ne=_hh$temp1034.reason;return ne?[h(`signInPrompt.${ne}Header`,h("signInPrompt.header")),h(`signInPrompt.${ne}Text`,h("signInPrompt.text"))]:[h("signInPrompt.header"),h("signInPrompt.textV2")];},[b,h])),x=_hh$temp1031[0],E=_hh$temp1031[1],k=async ()=>{b.scenario&&(nn({source:"signin",scenario:b.scenario}),I({isOpen:!1,scenario:null})),S?await kn({from:"/conversations",to:"/login"}):await C({provider:"microsoft",scenario:"composer"});},w=M(IJ),_=M(Ux),_hh$temp1032=__arrayFrom$(Re(EJ)),N=_hh$temp1032[0],L=_hh$temp1032[1],B=fhe(),F=W("shopping-card"),_hh$temp1033=__arrayFrom$(Re(yre)),K=_hh$temp1033[0],G=_hh$temp1033[1],te=()=>{c(),G(void 0);}; return i.jsxs(Ce.div,{layoutId:"composer-expanded-section-container",className:O(!n&&!o&&"border-b border-black/10 dark:border-white/10",t==="audioSettings"&&!p&&"w-settings",t==="audioSettings"&&"py-5",o&&"w-prompt-sign-in",o&&(t==="computer-use-task-closed"||t==="safety-risk-card")&&"max-w-single-image"),layout:!0,children:[t!=="dialog"&&i.jsxs(Ce.div,{"data-testid":"audio-settings-dialog",className:O("t-custom-scrollbar overflow-auto",p?"max-h-expanded-section-compact":"max-h-expanded-section",t==="audioSettings"&&"px-2"),layout:!0,initial:Be,animate:{...ct,transition:{delay:eo.default}},ref:s,children:[i.jsx(bt,{children:o&&i.jsxs(kb,{children:[t==="biometric-consent"&&i.jsx(u.Suspense,{fallback:i.jsx("div",{"aria-hidden":!0}),children:i.jsx(The,{onSubmit:a.onSubmitCallback,onCancel:a.onCancelCallback})}),t==="prompt-sign-in"&&i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:i.jsx(At,{className:"size-12"})}),children:i.jsx(Mb,{header:x,text:E,primaryAction:{title:h("common.loginText"),onClick:k},testid:"prompt-sign-in-composer-action",secondaryAction:r?void 0:{onClick:c,title:h("common.maybeLater"),testid:"maybe-later-button"},onClose:c})}),t==="prompt-3p-sign-in"&&i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:i.jsx(At,{className:"size-12"})}),children:i.jsx(xhe,{dismiss:c})}),t==="confirm-link-navigation"&&N?.url&&i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:i.jsx(At,{className:"size-12"})}),children:i.jsx(Mb,{showImage:!1,header:h("composer.linkConfirmation.header"),text:h("composer.linkConfirmation.text",{url:N.url}),primaryAction:{title:h("common.continue"),onClick:()=>{if(N.url){nn({source:"linkNavigationConfirmButton",conversationId:N.conversationId,messageId:N.messageId,destination:Wf(N.url)});try{B(Ed(Wf(N.url)))}catch{v({intent:"error",title:h("composer.link.openFailed.title"),subtitle:h("composer.link.openFailed.message",{link:N.url}),dismissAfter:3e3})}c(),L(void 0)}}},secondaryAction:{onClick:()=>{c(),L(void 0)},title:h("common.cancel")},onClose:c,restoreFocusOnUnmount:!0})}),t==="prompt-review"&&i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:i.jsx(At,{className:"size-12"})}),children:i.jsx(whe,{})}),F&&t==="shopping-upsell-card"&&i.jsx(u.Suspense,{fallback:i.jsx(Pb,{}),children:i.jsx(vhe,{onDismiss:()=>y(null)})}),t==="shopping-price-tracking"&&K&&i.jsx(u.Suspense,{fallback:i.jsx(Pb,{}),children:i.jsx(yhe,{content:K.data,messageId:K.messageId,cardType:K.cardType,onConfirm:()=>y("shopping-upsell-card"),onCancel:te})}),t==="add-to-page"&&i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:i.jsx(At,{className:"size-12"})}),children:i.jsx(Ehe,{onClose:c})}),t==="safety-risk-card"&&i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:i.jsx(At,{className:"size-12"})}),children:i.jsx(Ihe,{})}),t==="computer-use-task-closed"&&i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:i.jsx(At,{className:"size-12"})}),children:i.jsx(bhe,{})}),t==="over-task-quota"&&i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:i.jsx(At,{className:"size-12"})}),children:i.jsx(She,{})})]})}),t==="audioSettings"&&i.jsx(kb,{children:i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:i.jsx(At,{className:"size-12"})}),children:i.jsx(Che,{onVoiceSettingChanged:d,onAppearanceEnabled:m})})})]}),n&&w&&_&&i.jsx(phe,{titleKey:w.titleKey,textKey:w.textKey,buttonTextKey:w.buttonTextKey,onClick:w.onClick,button:_.button,cancelButton:_.cancelButton,closeDialogCallback:_.closeDialogCallback,textComponents:w.textComponents})]})}const _he={large:"h-12",regular:"h-10",small:"h-9"},Rb={large:"size-12",regular:"size-10",small:"size-9"},khe={large:"rounded-full p-3",regular:"rounded-xl p-2",small:"rounded-xl p-1"};function Phe(e,t){ const _hh$temp1035=e,n=_hh$temp1035.children,o=_hh$temp1035.className,s=_hh$temp1035.margins,a=_hh$temp1035.data,_hh$temp1035$size=_hh$temp1035.size,r=_hh$temp1035$size===void 0?"regular":_hh$temp1035$size,c=_hh$temp1035.onButtonRef,d=a.isDisabled?"":a.title; return i.jsx(Ce.div,{className:O("relative shrink-0",s??"my-1", __get$(_he,r) ,a.isVisible&& __get$(Rb,r) ,!a.isVisible&&"overflow-hidden"),layout:!0,initial:!1,ref:t,children:i.jsx(Ce.button,{type:"button",className:O("absolute flex items-center justify-center fill-foreground-750", __get$(Rb,r) , __get$(khe,r) ,Vu["subtle-dimmed"],"disabled:active:bg-transparent disabled:active:bg-none",a.isDisabled&&CA,o),layout:"position",disabled:!a.isVisible||a.isDisabled,"aria-hidden":!a.isVisible,"aria-label":d,title:d,onClick:a.onClick,"data-testid":a.testId,"aria-expanded":typeof a.ariaExpanded=="boolean"?a.ariaExpanded:void 0,ref:c,children:n})})}const ca=u.forwardRef(Phe),zk= _hh$temp1036=>{var e=_hh$temp1036.title,t=_hh$temp1036.titleId,n=__rest$Object(_hh$temp1036,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M2 6.25C2 4.45507 3.45507 3 5.25 3H18.75C20.5449 3 22 4.45507 22 6.25V12H20.5V6.25C20.5 5.2835 19.7165 4.5 18.75 4.5H5.25C4.2835 4.5 3.5 5.2835 3.5 6.25V15.75C3.5 16.7165 4.2835 17.5 5.25 17.5H11V19H5.25C3.45507 19 2 17.5449 2 15.75V6.25ZM14 13C12.8954 13 12 13.8954 12 15V20C12 21.1046 12.8954 22 14 22H21C22.1046 22 23 21.1046 23 20V15C23 13.8954 22.1046 13 21 13H14Z"}));} ,Z9e=Object.freeze(Object.defineProperty({__proto__:null,default:zk},Symbol.toStringTag,{value:"Module"}));function Mhe(e){ const _hh$temp1037=e,t=_hh$temp1037.onClick,_hh$temp1038=Y(),n=_hh$temp1038.t; return i.jsx(ca,{data:{title:n("videoCard.pictureInPicture.miniPlayer"),testId:"trigger-picture-in-picture",isVisible:!0,onClick:t},children:i.jsx(zk,{className:"size-6","aria-hidden":!0})})}const wh= _hh$temp1039=>{var e=_hh$temp1039.title,t=_hh$temp1039.titleId,n=__rest$Object(_hh$temp1039,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M18.2498 20.5009C18.664 20.5008 19 20.8365 19 21.2507C19 21.6649 18.6644 22.0008 18.2502 22.0009L5.25022 22.0047C4.836 22.0048 4.5 21.6691 4.5 21.2549C4.5 20.8407 4.83557 20.5048 5.24978 20.5047L18.2498 20.5009ZM11.6482 2.01271L11.75 2.00586C12.1297 2.00586 12.4435 2.28801 12.4932 2.65409L12.5 2.75586L12.499 16.4409L16.2208 12.7205C16.4871 12.4543 16.9038 12.4301 17.1974 12.648L17.2815 12.7206C17.5477 12.9869 17.5719 13.4036 17.354 13.6972L17.2814 13.7813L12.2837 18.7779C12.0176 19.044 11.6012 19.0683 11.3076 18.8507L11.2235 18.7782L6.22003 13.7816C5.92694 13.4889 5.92661 13.014 6.21931 12.7209C6.48539 12.4545 6.90204 12.43 7.1958 12.6477L7.27997 12.7202L10.999 16.4339L11 2.75586C11 2.37616 11.2822 2.06237 11.6482 2.01271L11.75 2.00586L11.6482 2.01271Z",fill:"currentColor"}));} ,J9e=Object.freeze(Object.defineProperty({__proto__:null,default:wh},Symbol.toStringTag,{value:"Module"})),Th= _hh$temp1040=>{var e=_hh$temp1040.title,t=_hh$temp1040.titleId,n=__rest$Object(_hh$temp1040,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M10.25 3.00011C10.6642 3.00011 10.9999 3.33596 11 3.75011C11 4.16432 10.6642 4.50011 10.25 4.50011H6.75C5.50741 4.50011 4.50008 5.50753 4.5 6.75011V17.2501L4.51172 17.4806C4.62714 18.6149 5.58517 19.5001 6.75 19.5001H17.25C18.4926 19.5001 19.5 18.4927 19.5 17.2501V15.2501C19.5001 14.836 19.8358 14.5001 20.25 14.5001C20.6642 14.5001 20.9999 14.836 21 15.2501V17.2501C21 19.3212 19.3211 21.0001 17.25 21.0001H6.75C4.74378 21.0001 3.10551 19.4247 3.00488 17.4435L3 17.2501V6.75011C3.00008 4.6791 4.67898 3.00011 6.75 3.00011H10.25ZM14.9365 2.06847C15.2026 1.94614 15.5159 1.99023 15.7383 2.18077L22.7383 8.18077C22.8986 8.31823 22.9938 8.51756 23 8.72862C23.006 8.9396 22.9224 9.14361 22.7705 9.29015L15.7705 16.0401C15.554 16.2488 15.2338 16.308 14.957 16.1905C14.6802 16.0729 14.5 15.801 14.5 15.5001V12.5245C13.4857 12.5881 12.5295 12.7973 11.5605 13.2931C10.4241 13.8745 9.21642 14.8746 7.87109 16.5958L7.59961 16.9503C7.40588 17.2083 7.06883 17.3141 6.7627 17.212C6.45646 17.1099 6.25 16.8229 6.25 16.5001C6.25002 13.6428 6.93659 10.911 8.41797 8.87218C9.7938 6.97888 11.8288 5.72554 14.5 5.52843V2.75011L14.5078 2.64171C14.5441 2.39296 14.7037 2.17553 14.9365 2.06847ZM16 6.25011C16 6.66432 15.6642 7.00011 15.25 7.00011C12.6933 7.00011 10.855 8.07008 9.63184 9.75304C8.75387 10.9612 8.17794 12.5102 7.91504 14.2462C8.91534 13.1988 9.89198 12.4611 10.877 11.9571C12.3601 11.1983 13.801 11.0001 15.25 11.0001C15.4489 11.0001 15.6396 11.0792 15.7803 11.2198C15.9209 11.3605 16 11.5512 16 11.7501V13.7345L21.1348 8.78233L16 4.37999V6.25011Z"}));} ,Q9e=Object.freeze(Object.defineProperty({__proto__:null,default:Th},Symbol.toStringTag,{value:"Module"}));function Rhe(){return!rt("kill-anonymous-user-share")}const Nhe=P(void 0);function Nb( _hh$temp1041 ){ var e=_hh$temp1041.conversationId,t=_hh$temp1041.messageId,n=_hh$temp1041.scenario,_hh$temp1041$trackShareClick=_hh$temp1041.trackShareClick,o=_hh$temp1041$trackShareClick===void 0?()=>{}:_hh$temp1041$trackShareClick; const s=M(Se),a=e??s,r=Rhe(),c=q(Nhe),d=u.useRef(null),m=u.useCallback(()=>{if(!a){Dse({conversationId:"",messageId:t,errorName:"conversationNotFound",errorMessage:"Conversation ID is missing"});return}c({conversationId:a,action:"share",messageId:t,scenario:n,onClose:()=>{setTimeout(()=>{d.current?.focus()},0)}}),o()},[a,t,n,c,o]),p=gk({callback:m,onShowSignIn:o,signInScenario:"loggedOutSharing",signInReason:"shareMessage"});return{shareClickHandler:u.useMemo(()=>r?m:p,[r,m,p]),shareRef:d}}function Lhe(e){tt({feature:"fileDownload",errorType:"DownloadFileError",errorMessage:e})}function Dhe(e){ const _hh$temp1042=e,t=_hh$temp1042.expandedSection,n=_hh$temp1042.isDialogShown,_hh$temp1043=Y(),o=_hh$temp1043.t,_hh$temp1044=xo(),s=_hh$temp1044.closeMediaViewer,a=_hh$temp1044.isPictureInPictureSupported,r=_hh$temp1044.triggerPictureInPicture,c=_hh$temp1044.contentComposerType,d=_hh$temp1044.triggerVideoDownload,m=M(gi),p=Npe(),h=W("video-sharing"),_hh$temp1045=Nb({messageId:m?.messageId,scenario:"shareAsLinkSingleImage",trackShareClick:()=>PS({scenario:"shareAsLinkSingleImage",pageName:"imageDetailPage"})}),v=_hh$temp1045.shareClickHandler,_hh$temp1046=Nb({messageId:m?.messageId,scenario:"shareAsLinkSingleVideo",trackShareClick:()=>PS({scenario:"shareAsLinkSingleVideo",pageName:"videoDetailPage"})}),y=_hh$temp1046.shareClickHandler,C={title:o("imageCard.composer.closeImageViewer"),icon:i.jsx(sn,{className:Pi,"aria-hidden":!0}),isVisible:!0,onClick:s},S={title:o("common.share"),icon:i.jsx(Th,{className:Pi,"aria-hidden":!0}),isVisible:!0,onClick:v},b={title:o("imageCard.composer.downloadImage"),icon:i.jsx(wh,{className:Pi,"aria-hidden":!0}),isVisible:!0,onClick:async ()=>{if(p?.type==="image")try{await Nae({url:p.url,fileName:B_()});}catch(_){const N=_ instanceof Error?_.message:"unknown error on downloading image";Lhe(N);}}},I={title:o("video.downloadVideoViewer"),icon:i.jsx(wh,{className:Pi,"aria-hidden":!0}),isVisible:!0,onClick:d},x={title:o("common.share"),icon:i.jsx(Th,{className:Pi,"aria-hidden":!0}),isVisible:!0,onClick:y},E=c===Ps.IMAGE_VIEWER,k=c===Ps.CLOSE_BUTTON,w=Z.instance().config().uiOverrides?.hideImageDownloadButton; return k?i.jsxs(Ce.div,{className:O("relative flex max-h-full max-w-chat justify-center",!t&&"p-2",!n&&"h-composer"),layout:!0,children:[i.jsx(ca,{data:C,children:C.icon}),a&&i.jsx(Mhe,{onClick:r}),h&&p?.type==="video"&&p.shareable&&i.jsx(ca,{data:x,children:x.icon}),d&&i.jsx(ca,{data:I,children:I.icon})]}):E?i.jsxs(Ce.div,{className:O("relative flex max-h-full max-w-chat justify-center",!t&&"p-2",!n&&"h-composer"),layout:!0,children:[i.jsx(ca,{data:C,children:C.icon}),p?.type==="image"&&p.shareable&&i.jsx(ca,{data:S,children:S.icon}),p?.type==="image"&&p.downloadable&&!w&&i.jsx(ca,{data:b,children:b.icon})]}):null}function er(e){u.useEffect(()=>(window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}),[e])}const Gk= _hh$temp1047=>{var e=_hh$temp1047.title,t=_hh$temp1047.titleId,n=__rest$Object(_hh$temp1047,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M17.7545 14.0002C18.9966 14.0002 20.0034 15.007 20.0034 16.2491V16.8245C20.0034 17.7188 19.6838 18.5836 19.1023 19.263C17.5329 21.0965 15.1457 22.0013 12.0004 22.0013C8.8545 22.0013 6.46849 21.0962 4.90219 19.2619C4.32242 18.583 4.00391 17.7195 4.00391 16.8267V16.2491C4.00391 15.007 5.01076 14.0002 6.25278 14.0002H17.7545ZM17.7545 15.5002H6.25278C5.83919 15.5002 5.50391 15.8355 5.50391 16.2491V16.8267C5.50391 17.3624 5.69502 17.8805 6.04287 18.2878C7.29618 19.7555 9.26206 20.5013 12.0004 20.5013C14.7387 20.5013 16.7063 19.7555 17.9627 18.2876C18.3117 17.8799 18.5034 17.361 18.5034 16.8245V16.2491C18.5034 15.8355 18.1681 15.5002 17.7545 15.5002ZM12.0004 2.00488C14.7618 2.00488 17.0004 4.24346 17.0004 7.00488C17.0004 9.76631 14.7618 12.0049 12.0004 12.0049C9.23894 12.0049 7.00036 9.76631 7.00036 7.00488C7.00036 4.24346 9.23894 2.00488 12.0004 2.00488ZM12.0004 3.50488C10.0674 3.50488 8.50036 5.07189 8.50036 7.00488C8.50036 8.93788 10.0674 10.5049 12.0004 10.5049C13.9334 10.5049 15.5004 8.93788 15.5004 7.00488C15.5004 5.07189 13.9334 3.50488 12.0004 3.50488Z"}));} ,X9e=Object.freeze(Object.defineProperty({__proto__:null,default:Gk},Symbol.toStringTag,{value:"Module"})),Lb=new Map;function Ohe(e){const t=e.trim();if(!t)return Uhe;const n=Lb.get(t);if(n)return n;const o=Vhe(t);return Lb.set(t,o),o}const Uhe="#3a3a3a",Fhe=4.5,Mi=.18,jhe=.62,Yl=.03,Bhe=.25;function Vhe(e){const t=zhe(e.normalize("NFC")),n=qp(t,360),o=Bhe-Yl,s=qp(Xu(t,2**8),256),a=Yl+s/255*o,r=qp(Xu(t,2**16),256);let d=Mi+r/255*(jhe-Mi),m=a;for(let h=0;h<40;h+=1){const v=Db({l:d,c:m,h:n});if(Hhe(v.luminance)>=Fhe)return Ob(v.r,v.g,v.b);if(d-=.015,d<Mi){if(m*=.9,m<Yl*.6)break;d=Mi}}const p=Db({l:Mi,c:Yl,h:n});return Ob(p.r,p.g,p.b)}function Hhe(e){return(1+.05)/(e+.05)}function zhe(e){let t=2166136261;const n=16777619;for(let o=0;o<e.length;o+=1){const s=e.charCodeAt(o);t=Khe(t,s),t=Yhe(t,n)}return sv(t)}function Ghe( _hh$temp1048 ){ var e=_hh$temp1048.l,t=_hh$temp1048.c,n=_hh$temp1048.h; const o=n*Math.PI/180;return{L:e,a:Math.cos(o)*t,b:Math.sin(o)*t}}function Whe(e,t,n){const o=e+.3963377774*t+.2158037573*n,s=e-.1055613458*t-.0638541728*n,a=e-.0894841775*t-1.291485548*n,r=o**3,c=s**3,d=a**3;return{r:4.0767416621*r-3.3077115913*c+.2309699292*d,g:-1.2684380046*r+2.6097574011*c-.3413193965*d,b:-.0041960863*r-.7034186147*c+1.707614701*d}}function $p(e){return e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055}function so(e){return e<0?0:e>1?1:e}function $he(e,t,n){return .2126*e+.7152*t+.0722*n}function Db(e){ const _hh$temp1049=e,t=_hh$temp1049.l,n=_hh$temp1049.h;  let _hh$temp1050=e,o=_hh$temp1050.c; for(let a=0;a<12;a+=1){ const _hh$temp1051=Ghe({l:t,c:o,h:n}),r=_hh$temp1051.L,c=_hh$temp1051.a,d=_hh$temp1051.b,m=Whe(r,c,d); if(qhe(m)){const p=$he(so(m.r),so(m.g),so(m.b));return{r:so($p(so(m.r))),g:so($p(so(m.g))),b:so($p(so(m.b))),luminance:p}}o*=.85}const s=so(t**3);return{r:s,g:s,b:s,luminance:s}}function qhe( _hh$temp1052 ){ var e=_hh$temp1052.r,t=_hh$temp1052.g,n=_hh$temp1052.b; return e>=0&&e<=1&&t>=0&&t<=1&&n>=0&&n<=1}function sv(e){return(e%4294967296+4294967296)%4294967296}function Khe(e,t){let n=0;for(let o=0;o<32;o+=1){const s=Xu(e,2**o)%2,a=Xu(t,2**o)%2;s!==a&&(n+=2**o)}return sv(n)}function Yhe(e,t){return sv(Math.imul(e,t))}function qp(e,t){return(e%t+t)%t}function Xu(e,t){return Math.floor(e/t)}function Kp(e){return Math.round(so(e)*255).toString(16).padStart(2,"0")}function Ob(e,t,n){return`#${Kp(e)}${Kp(t)}${Kp(n)}`}const Yp="relative size-full rounded-full aspect-square",Ub="flex items-center justify-center uppercase",Zp="after:absolute after:-inset-px after:rounded-full after:border-[0.5px] after:border-black/10 dark:after:border-white/20";function Wk(e){ const _hh$temp1053=e,t=_hh$temp1053.firstName,n=_hh$temp1053.imgSrc,o=_hh$temp1053.nameSizeClass,s=_hh$temp1053.altText,_hh$temp1053$showTwoCharacters=_hh$temp1053.showTwoCharacters,a=_hh$temp1053$showTwoCharacters===void 0?!1:_hh$temp1053$showTwoCharacters,_hh$temp1053$showBorder=_hh$temp1053.showBorder,r=_hh$temp1053$showBorder===void 0?!0:_hh$temp1053$showBorder; if(n)return i.jsx("img",{className:O("overflow-hidden object-cover",Yp,r&&Zp),src:n,alt:s??U("common.profileImage")});if(t){let c={},d=t[0];if(a){const m=t.trim().split(/\s+/).filter(Boolean);m.length>=2&&(d=m.slice(0,2).map(p=>p[0]).join("")),c={backgroundColor:Ohe(t)}}return i.jsx("div",{className:O(Yp,Ub,r&&Zp,o??"text-lg",a&&"text-white"),style:c,children:i.jsx("div",{children:d})})}return i.jsx("div",{className:O(Yp,Ub,r&&Zp),children:i.jsx(Gk,{className:O("size-6 fill-foreground-800",LX),"alt-text":s??U("common.profileImage")})})}const Zhe=Object.freeze(Object.defineProperty({__proto__:null,default:Wk},Symbol.toStringTag,{value:"Module"}));function Jhe( _hh$temp1054 ){ var e=_hh$temp1054.participants,t=_hh$temp1054.onSelect,n=_hh$temp1054.onClose,o=_hh$temp1054.position,_hh$temp1054$selectedIndex=_hh$temp1054.selectedIndex,s=_hh$temp1054$selectedIndex===void 0?-1:_hh$temp1054$selectedIndex;  const _hh$temp1055=Y(),a=_hh$temp1055.t,r=u.useRef(null),c=s>=0?`mention-option-${s}`:void 0; u.useEffect(()=>{if(c){const m=document.getElementById(c);m&&m.scrollIntoView({block:"nearest",behavior:"smooth"})}},[c]),ds({onOutsideEvent:n,elements:[r],includeScroll:!1,includeFocus:!1}),er(m=>{m.key==="Escape"&&n()});const d=u.useMemo(()=>({position:"fixed",left:`${o.x}px`,top:`${o.y-12}px`,transform:o.isRtl?"translateY(-100%) translateX(-100%)":"translateY(-100%)"}),[o.x,o.y,o.isRtl]);return e.length===0?null:i.jsx(Ce.div,{ref:r,initial:Be,animate:ct,exit:Be,transition:poe,"data-testid":"composer-mention-list",style:d,role:"listbox","aria-label":a("userInput.mentionSuggestions"),"aria-activedescendant":c,className:O("pointer-events-auto z-50","flex w-56 flex-col items-center gap-1.5 p-2","max-h-dvh-0.5","rounded-2xl border border-white/90 shadow-lg",Co,"dark:border-white/10"),children:i.jsx("div",{className:"flex w-full flex-col gap-1.5 overflow-y-auto",children:e.map((m,p)=>i.jsxs(X,{color:"subtle-dimmed",title:m.userDisplayName??m.userId,className:O("justify-start",p===s&&"bg-background-300 dark:bg-background-600"),id:`mention-option-${p}`,role:"option","aria-selected":p===s,onClick:()=>t(m),onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&t(m)},children:[i.jsx("div",{className:"size-8 shrink-0 overflow-hidden rounded-full",children:m.userId==="copilot"?i.jsx("div",{className:"flex size-full items-center justify-center bg-white",children:i.jsx(Rk,{className:"size-full"})}):i.jsx(Wk,{firstName:m.userDisplayName??"",nameSizeClass:"text-base-medium",showTwoCharacters:!0})}),i.jsx("span",{className:"truncate text-foreground-800 text-sm",children:m.userDisplayName??m.userId})]},m.userId))})})}function Zi(e){const t=_e(),o={...t.get(Of),[e]:new Date().toISOString()};t.set(Of,o)}const Fb=new Map;function Qhe(e){let t=Fb.get(e);return t||(t=bc(Of,n=>!! __get$(n,e) ),Fb.set(e,t)),t}function av(e){const t=M(Qhe(e)),n=u.useCallback(()=>{Zi(e)},[e]);return u.useMemo(()=>({alreadyShown:t,dismissCoachmark:n}),[t,n])}const $k="appearanceColorShuffler",Xhe="appearanceSetting",e7e="appearanceVoiceCustomization",t7e="pagesEditThisResponse",n7e="pageSourcesFirstRun",o7e="pageSourcesFirstAdd",s7e="galleryDetailPrompt",a7e="GalleryComposerFileUpload",qk="vision",r7e="audioExpressionModeSelector",ege="studyLive",tge="inlineBrowsingPreviousConversations",i7e="inviteTooltip",c7e="flashcardReviewMissed",l7e="mapPanel",u7e="mapLayerDropdown",nge=1e3,jb=2;function oge(){ const e=c0(),_hh$temp1056=av(ege),t=_hh$temp1056.alreadyShown,n=_hh$temp1056.dismissCoachmark,_hh$temp1057=__arrayFrom$(Re(HX)),o=_hh$temp1057[0],s=_hh$temp1057[1],_hh$temp1058=__arrayFrom$(u.useState(!1)),a=_hh$temp1058[0],r=_hh$temp1058[1],c=u.useRef(null),d=(e&&!t)&&o<jb,m=u.useCallback(()=>{o>=jb&&n(),c.current=setTimeout(()=>{r(!1),c.current=null;},nge);},[n,o]); return u.useEffect(()=>()=>{c.current&&(clearTimeout(c.current),c.current=null)},[]),u.useEffect(()=>{d&&(s(p=>p+1),setTimeout(()=>{r(!0)},1e3))},[d,s]),{showStudyLiveCoachmark:a,dismissStudyLiveCoachmark:m}}function sge(){ const e=W("vision-coachmark"),_hh$temp1059=av(qk),t=_hh$temp1059.alreadyShown,n=_hh$temp1059.dismissCoachmark; if(!e)return{shouldShowVisionCoachmark:!1,dismissVisionCoachmark:()=>{}};const o=Ht(oN,A()),s=24*60*60*1e3*60,a=!o||Date.now()-o>s;return{shouldShowVisionCoachmark:!t&&a,dismissVisionCoachmark:n}}function Kk(e){ const _hh$temp1060=e,t=_hh$temp1060.renderReferenceElement,n=_hh$temp1060.children,o=_hh$temp1060.className,s=_hh$temp1060.placement,a=_hh$temp1060.offset,_hh$temp1060$isOpen=_hh$temp1060.isOpen,r=_hh$temp1060$isOpen===void 0?!0:_hh$temp1060$isOpen,c=_hh$temp1060.onOpenChange,d=_hh$temp1060.portalId,_hh$temp1060$withArrow=_hh$temp1060.withArrow,m=_hh$temp1060$withArrow===void 0?!1:_hh$temp1060$withArrow,_hh$temp1060$arrowClassName=_hh$temp1060.arrowClassName,p=_hh$temp1060$arrowClassName===void 0?"dark:fill-black fill-white":_hh$temp1060$arrowClassName,_hh$temp1060$animation=_hh$temp1060.animation,h=_hh$temp1060$animation===void 0?"none":_hh$temp1060$animation,v=_hh$temp1060.onOutsideEvent,y=_hh$temp1060.onInsideEvent,_hh$temp1060$invokeOnce=_hh$temp1060.invokeOnce,C=_hh$temp1060$invokeOnce===void 0?!0:_hh$temp1060$invokeOnce,_hh$temp1060$includeScroll=_hh$temp1060.includeScroll,S=_hh$temp1060$includeScroll===void 0?!0:_hh$temp1060$includeScroll,b=u.useRef(null),_hh$temp1061=Tc({open:r,onOpenChange:c,placement:s??"right",middleware:[Ic(a??1),Ec({fallbackAxisSideDirection:"end"}),wc(),J7({element:b})],whileElementsMounted:qr}),I=_hh$temp1061.refs,x=_hh$temp1061.x,E=_hh$temp1061.y,k=_hh$temp1061.strategy,w=_hh$temp1061.context,_=_hh$temp1061.placement; ds({onOutsideEvent:()=>{v?.()},invokeOnce:C,elements:[I.floating],includeScroll:S}); const N=Wh(w),L=xc(w),B=ad(w),F=li(),_hh$temp1062=rd([N,L,B]),K=_hh$temp1062.getReferenceProps,G=_hh$temp1062.getFloatingProps,te=M(fs),ne=age(h,_); return i.jsxs(i.Fragment,{children:[t?.({ref:I.setReference,...K()},r),r&&i.jsx(sd,{id:d,children:i.jsxs(Ce.div,{ref:I.setFloating,style:{position:k,top:`${E}px`,[F?"insetInlineEnd":"insetInlineStart"]:`${x}px`,boxShadow:te==="dark"?"0px 0px 0px 1px rgba(255, 255, 255, 0.08) inset":void 0},...ne,...G({}),className:Je("flex rounded-2xl p-4 shadow-xl",at.coachmark,UJ,m&&"!overflow-visible",o),onClick:y,children:[n,m?i.jsx(Q7,{ref:b,context:w,tipRadius:3,strokeWidth:2,className:p}):null]})})]})}function age(e,t){switch(e){case"bounce":return rge(t);case"none":return{};default:return{}}}function rge(e){const n=e.startsWith("top")||e.startsWith("bottom"),o=e.startsWith("top")||e.startsWith("left")?-1:1;return n?{animate:{y:`${o*10}px`,transition:wS}}:{animate:{x:`${o*10}px`,transition:wS}}}function ige( _hh$temp1063 ){ var e=_hh$temp1063.triggerComponent;  const _hh$temp1064=Y(),t=_hh$temp1064.t,_hh$temp1065=cge(),n=_hh$temp1065.isOpen,o=_hh$temp1065.title,s=_hh$temp1065.description,a=_hh$temp1065.dismiss,r=c=>{c.stopPropagation(),a();}; return i.jsx(Kk,{className:"max-w-48 cursor-pointer bg-black dark:bg-background-850",arrowClassName:"dark:fill-background-850 fill-black",isOpen:n,placement:"top-end",withArrow:!0,renderReferenceElement:c=>i.jsx("div",{ref:c.ref,className:"relative",children:e}),portalId:"composer-container",onInsideEvent:()=>{a()},onOutsideEvent:a,children:i.jsxs("div",{className:"flex max-w-[160px] flex-col gap-0.5 bg-black text-white dark:bg-background-850 dark:text-black",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-xs-strong",children:o}),i.jsx("button",{onClick:r,type:"button","aria-label":t("common.dismiss"),children:i.jsx(sn,{className:"size-4"})})]}),i.jsx("div",{className:"text-xs",children:s})]})})}function cge(){ const _hh$temp1066=Y(),e=_hh$temp1066.t,_hh$temp1067=sge(),t=_hh$temp1067.shouldShowVisionCoachmark,n=_hh$temp1067.dismissVisionCoachmark,_hh$temp1068=oge(),o=_hh$temp1068.showStudyLiveCoachmark,s=_hh$temp1068.dismissStudyLiveCoachmark,a=W("feature-discovery"); return t?{isOpen:!0,title:e("composer.chatModes.vision.coachmarkTitle"),description:e("composer.chatModes.vision.description"),dismiss:n}:o&&!a?{isOpen:!0,title:e("composer.chatModes.study.live.coachmarkTitle"),description:e("composer.chatModes.study.live.coachmarkDescription"),dismiss:s}:{isOpen:!1,title:"",description:"",dismiss:()=>{}}}const lge= _hh$temp1069=>{var e=_hh$temp1069.title,t=_hh$temp1069.titleId,n=__rest$Object(_hh$temp1069,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M12.0001 3C12.3798 3 12.6936 3.28215 12.7433 3.64823L12.7501 3.75V20.25C12.7501 20.6642 12.4143 21 12.0001 21C11.6204 21 11.3066 20.7178 11.257 20.3518L11.2501 20.25V3.75C11.2501 3.33579 11.5859 3 12.0001 3ZM8.25505 6C8.63475 6 8.94854 6.28215 8.99821 6.64823L9.00505 6.75V17.25C9.00505 17.6642 8.66927 18 8.25505 18C7.87536 18 7.56156 17.7178 7.5119 17.3518L7.50505 17.25V6.75C7.50505 6.33579 7.84084 6 8.25505 6ZM15.7452 6C16.1249 6 16.4387 6.28215 16.4883 6.64823L16.4952 6.75V17.25C16.4952 17.6642 16.1594 18 15.7452 18C15.3655 18 15.0517 17.7178 15.002 17.3518L14.9952 17.25V6.75C14.9952 6.33579 15.3309 6 15.7452 6ZM4.75122 9C5.13092 9 5.44471 9.28215 5.49437 9.64823L5.50122 9.75V14.25C5.50122 14.6642 5.16543 15 4.75122 15C4.37152 15 4.05773 14.7178 4.00807 14.3518L4.00122 14.25V9.75C4.00122 9.33579 4.33701 9 4.75122 9ZM19.2523 9C19.632 9 19.9458 9.28215 19.9955 9.64823L20.0023 9.75V14.2487C20.0023 14.6629 19.6665 14.9987 19.2523 14.9987C18.8726 14.9987 18.5588 14.7165 18.5091 14.3504L18.5023 14.2487V9.75C18.5023 9.33579 18.8381 9 19.2523 9Z"}));} ,Yk= _hh$temp1070=>{var e=_hh$temp1070.title,t=_hh$temp1070.titleId,n=__rest$Object(_hh$temp1070,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.7673 6.54284C16.7673 3.91128 14.634 1.77799 12.0024 1.77799C9.37089 1.77799 7.2376 3.91129 7.2376 6.54284L7.2376 13.5647C7.2376 16.1963 9.37089 18.3296 12.0024 18.3296C14.634 18.3296 16.7673 16.1963 16.7673 13.5647L16.7673 6.54284ZM12.0024 3.28268C13.803 3.28268 15.2626 4.7423 15.2626 6.54284L15.2626 13.5647C15.2626 15.3652 13.803 16.8249 12.0024 16.8249C10.2019 16.8249 8.74229 15.3652 8.74229 13.5647L8.74229 6.54284C8.74229 4.7423 10.2019 3.28268 12.0024 3.28268Z",fill:"currentColor"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.0274 8.79987C19.6119 8.79987 19.2751 9.1367 19.2751 9.55221V13.5647C19.2751 17.5813 16.019 20.8374 12.0024 20.8374C7.98587 20.8374 4.72979 17.5813 4.72979 13.5647L4.72979 9.55221C4.72979 9.1367 4.39295 8.79987 3.97744 8.79987C3.56193 8.79987 3.2251 9.1367 3.2251 9.55221L3.2251 13.5647C3.2251 18.4123 7.15485 22.3421 12.0024 22.3421C16.85 22.3421 20.7798 18.4123 20.7798 13.5647V9.55221C20.7798 9.1367 20.443 8.79987 20.0274 8.79987Z",fill:"currentColor"}));} ,d7e=Object.freeze(Object.defineProperty({__proto__:null,default:Yk},Symbol.toStringTag,{value:"Module"}));let Zl=null;async function Zk(){return Zl||(Zl=Promise.all([D(()=>import( __get$ProxyUrl("./character-talk-XDvmj8A7.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([554,1,555,556,7])),D(()=>import( __get$ProxyUrl("./appearance-component-wrapper-DTtW5Xap.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([557,1,558,555,521,16,14,15,17,18,65,66,25,26,20,21,27,28,29,30,31,67,37,32,68,69,70,71,22,72,23,73,74,75,76,77,43,40,42,52,78,45,44,41,79,80,81,82,83,84,85,86,87,88,250,268,94,100,50,98,96,51,201,39,230,228,48,49,176,173,174,183,59,180,203,200,198,202,192,210,212,206,211,189,207,209,396,58,60,47,53,403,395,393,394,397,35,269,425,398,165,95,97,99,101,164,289,288,170,169,306,305,304,163,162,287,286,167,166,303,302,301,559,7]))]).then(()=>{}),Zl)}function uge(e){ const _hh$temp1071=e,t=_hh$temp1071.onClick; if(!hs())return i.jsx(ige,{triggerComponent:i.jsx(dge,{onClick:t})})}function dge(e){ const _hh$temp1072=e,t=_hh$temp1072.onClick,_hh$temp1073=Y(),n=_hh$temp1073.t,o=$s(),s=W("appr-preload-onhover"),a=W("voice-enable-new-audio-icon"),r=u.useCallback(()=>{(o&&s)&&Zk();},[o,s]); return i.jsx(X,{title:n("composer.startAudioCall"),"aria-label":n("composer.startAudioCall"),variant:"rect",size:"36-sm",color:"subtle-dimmed",className:O("h-9 select-none gap-1 rounded-2xl p-0"),onClick:t,onFocus:r,onMouseEnter:r,onTouchStart:r,testId:"audio-call-button",children:a?i.jsx(lge,{className:"size-6","aria-hidden":!0}):i.jsx(Yk,{className:"size-6","aria-hidden":!0})})}const Jk= _hh$temp1074=>{var e=_hh$temp1074.title,t=_hh$temp1074.titleId,n=__rest$Object(_hh$temp1074,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M10.0585 3.97266C10.4313 3.97266 10.7343 4.27467 10.7343 4.64747C10.7341 5.02007 10.4312 5.32227 10.0585 5.32227H8.79092C8.16618 5.3224 7.57586 5.61134 7.19229 6.1045L5.26456 8.58204C5.56062 8.52971 5.86559 8.50196 6.17667 8.50196C8.61742 8.50215 10.6643 10.1823 11.2265 12.4492C11.7204 12.2453 12.2784 12.2455 12.7724 12.4492C13.3345 10.1822 15.3823 8.50207 17.8232 8.50196C18.134 8.50196 18.4384 8.5298 18.7343 8.58204L16.8075 6.1045C16.4239 5.61131 15.8337 5.32236 15.2089 5.32227H13.9413C13.5687 5.32224 13.2658 5.02005 13.2655 4.64747C13.2655 4.27469 13.5686 3.97269 13.9413 3.97266H15.2089C16.2503 3.97275 17.2336 4.45337 17.873 5.2754L21.5917 10.0566C21.6288 10.1044 21.6553 10.1568 21.6776 10.21C22.516 11.1338 23.0272 12.3602 23.0273 13.7061C23.0271 16.5802 20.6973 18.9102 17.8232 18.9102C15.0454 18.91 12.776 16.7337 12.6269 13.9932L12.4774 13.8438C12.2138 13.5802 11.7859 13.5802 11.5224 13.8438L11.372 13.9941C11.2223 16.7341 8.95399 18.9099 6.17667 18.9102C3.30252 18.9101 0.972747 16.5802 0.972566 13.7061C0.972585 12.3604 1.48301 11.1338 2.3212 10.21C2.3436 10.1567 2.37099 10.1045 2.40811 10.0566L6.12686 5.2754C6.76619 4.4534 7.74958 3.97279 8.79092 3.97266H10.0585ZM6.17667 9.85157C4.04802 9.85161 2.32222 11.5774 2.32217 13.7061C2.32236 15.8346 4.0481 17.5605 6.17667 17.5606C8.30508 17.5603 10.031 15.8345 10.0312 13.7061C10.0311 11.5775 8.30517 9.85179 6.17667 9.85157ZM17.8232 9.85157C15.6946 9.85169 13.9687 11.5775 13.9687 13.7061C13.9688 15.8345 15.6947 17.5604 17.8232 17.5606C19.9518 17.5606 21.6775 15.8346 21.6776 13.7061C21.6776 11.5774 19.9518 9.85157 17.8232 9.85157Z"}));} ,m7e=Object.freeze(Object.defineProperty({__proto__:null,default:Jk},Symbol.toStringTag,{value:"Module"}));function mge(e){ const _hh$temp1075=e,t=_hh$temp1075.onClick,n=hs(),_hh$temp1076=Y(),o=_hh$temp1076.t; if(!n)return i.jsx(X,{title:o("composer.startVisionCall"),"aria-label":o("composer.startVisionCall"),variant:"rect",size:"36-sm",color:"subtle-dimmed",className:O("h-9 select-none gap-1 rounded-2xl p-0"),onClick:t,testId:"vision-call-button",children:i.jsx(Jk,{className:"size-6","aria-hidden":!0})})}function Jp( _hh$temp1077 ){ var e=_hh$temp1077.config;  const _hh$temp1078=Y(),t=_hh$temp1078.t; if(e)switch(e.mode){case"stop":return i.jsx(X,{testId:"stop-button",color:"accent",variant:"circle",size:"36-sm","aria-label":t("composer.stopButton"),title:t("composer.stopButton"),onClick:e.onClick,children:i.jsx("div",{className:"size-3.5 rounded bg-accent-550 contrast-more:border-2 dark:bg-accent-150"})});case"submit":return i.jsx(X,{testId:"submit-button",color:"strong",variant:"square",size:"36-sm",className:"rounded-2xl","aria-label":t("userInput.submitButtonText"),title:t("userInput.submitButtonText"),onClick:e.onClick,disabled:e.disabled,children:i.jsx(ci,{className:"size-6"})});case"microphone":return i.jsx(uge,{onClick:e.onClick});case"vision":return i.jsx(mge,{onClick:e.onClick});default:return}}const Qk= _hh$temp1079=>{var e=_hh$temp1079.title,t=_hh$temp1079.titleId,n=__rest$Object(_hh$temp1079,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM12 7C12.4142 7 12.75 7.33579 12.75 7.75V11.25H16.25C16.6642 11.25 17 11.5858 17 12C17 12.4142 16.6642 12.75 16.25 12.75H12.75V16.25C12.75 16.6642 12.4142 17 12 17C11.5858 17 11.25 16.6642 11.25 16.25V12.75H7.75C7.33579 12.75 7 12.4142 7 12C7 11.5858 7.33579 11.25 7.75 11.25H11.25V7.75C11.25 7.33579 11.5858 7 12 7Z"}));} ,p7e=Object.freeze(Object.defineProperty({__proto__:null,default:Qk},Symbol.toStringTag,{value:"Module"})),Xk= _hh$temp1080=>{var e=_hh$temp1080.title,t=_hh$temp1080.titleId,n=__rest$Object(_hh$temp1080,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM15.2197 8.96967L10.75 13.4393L8.78033 11.4697C8.48744 11.1768 8.01256 11.1768 7.71967 11.4697C7.42678 11.7626 7.42678 12.2374 7.71967 12.5303L10.2197 15.0303C10.5126 15.3232 10.9874 15.3232 11.2803 15.0303L16.2803 10.0303C16.5732 9.73744 16.5732 9.26256 16.2803 8.96967C15.9874 8.67678 15.5126 8.67678 15.2197 8.96967Z"}));} ,f7e=Object.freeze(Object.defineProperty({__proto__:null,default:Xk},Symbol.toStringTag,{value:"Module"})),rv= _hh$temp1081=>{var e=_hh$temp1081.title,t=_hh$temp1081.titleId,n=__rest$Object(_hh$temp1081,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M17.75 3C19.5449 3 21 4.45507 21 6.25V17.75C21 19.5449 19.5449 21 17.75 21H6.25C4.45507 21 3 19.5449 3 17.75V6.25C3 4.45507 4.45507 3 6.25 3H17.75ZM18.3305 19.4014L12.5247 13.7148C12.2596 13.4553 11.8501 13.4316 11.5588 13.644L11.4752 13.7148L5.66845 19.4011C5.8504 19.4651 6.04613 19.5 6.25 19.5H17.75C17.9535 19.5 18.1489 19.4653 18.3305 19.4014L12.5247 13.7148L18.3305 19.4014ZM17.75 4.5H6.25C5.2835 4.5 4.5 5.2835 4.5 6.25V17.75C4.5 17.9584 4.53643 18.1583 4.60326 18.3437L10.4258 12.643C11.2589 11.8273 12.5675 11.7885 13.4458 12.5266L13.5742 12.6431L19.3964 18.3447C19.4634 18.159 19.5 17.9588 19.5 17.75V6.25C19.5 5.2835 18.7165 4.5 17.75 4.5ZM15.2521 6.5C16.4959 6.5 17.5042 7.50831 17.5042 8.75212C17.5042 9.99592 16.4959 11.0042 15.2521 11.0042C14.0083 11.0042 13 9.99592 13 8.75212C13 7.50831 14.0083 6.5 15.2521 6.5ZM15.2521 8C14.8367 8 14.5 8.33673 14.5 8.75212C14.5 9.1675 14.8367 9.50423 15.2521 9.50423C15.6675 9.50423 16.0042 9.1675 16.0042 8.75212C16.0042 8.33673 15.6675 8 15.2521 8Z"}));} ,h7e=Object.freeze(Object.defineProperty({__proto__:null,default:rv},Symbol.toStringTag,{value:"Module"}));function iv(e){return u.useCallback(t=>{if(t.key==="Enter"&&!t.shiftKey||t.key===" "){t.preventDefault();try{const n=e(t);n instanceof Promise&&n.catch(console.error)}catch(n){console.error("Error in useEnterOrSpaceKeyDown:",n)}}},[e])}const Bb="ms-auto me-[2px] size-6 flex-none";function pge(e,t){ const _hh$temp1082=e,n=_hh$temp1082.tab,o=_hh$temp1082.onClick,s=_hh$temp1082.showHighlight,_hh$temp1082$showActionIcon=_hh$temp1082.showActionIcon,a=_hh$temp1082$showActionIcon===void 0?!0:_hh$temp1082$showActionIcon,r=_hh$temp1082.onFocus,c=_hh$temp1082.className,d=_hh$temp1082.fallbackIcon,m=_hh$temp1082.titleExtra,p=_hh$temp1082.testId,_hh$temp1082$role=_hh$temp1082.role,h=_hh$temp1082$role===void 0?"checkbox":_hh$temp1082$role,_hh$temp1083=__arrayFrom$(u.useState(!1)),v=_hh$temp1083[0],y=_hh$temp1083[1],_hh$temp1084=Y(),C=_hh$temp1084.t,S=u.useCallback(()=>{(o?.({...n,addedToTabSelection:!n.addedToTabSelection}));},[o,n]),b=iv(S),I=v||!n.favIconUrl,x=d??rv,E=n.addedToTabSelection?"true":"false",k=h==="checkbox"?E:void 0; return i.jsxs(wo.Motion,{className:O(" box-border flex w-full cursor-pointer flex-row items-center rounded-lg p-1.5 active:bg-black/3 safe-hover:bg-black/5 dark:active:bg-white/5 dark:safe-hover:bg-black/30",s&&"bg-black/5 dark:bg-white/8","forced-colors:focus:outline forced-colors:focus:outline-2 forced-colors:focus:outline-black dark:forced-colors:focus:outline-white","contrast-more:focus:outline contrast-more:focus:outline-2 contrast-more:focus:outline-black dark:contrast-more:focus:outline-white",c),onClick:S,tabIndex:0,onKeyDown:b,ref:t,onFocus:r,role:h,tabbable:!0,"aria-label":n.title,"data-testid":p,"aria-checked":k,children:[i.jsx("div",{className:"relative flex size-4 flex-none flex-row items-center rounded-lg bg-black/5","aria-hidden":"true",children:I?i.jsx(x,{className:"size-full"}):i.jsx("img",{src:n.favIconUrl,alt:C("composer.multiTabs.tabFavIconAltText"),className:"size-full rounded-[1px] object-cover",onError:()=>{y(!0)}})}),i.jsxs("span",{className:"font-ligatures-none me-7 ms-2 max-h-full truncate text-foreground-850 text-sm",children:[m??n.title,i.jsx("span",{})]}),a&&(n.addedToTabSelection?i.jsx(Xk,{className:Bb}):i.jsx(Qk,{className:Bb}))]})}const fge=u.forwardRef(pge);function hge(e,t){ const _hh$temp1085=e,n=_hh$temp1085.groupTitle,o=_hh$temp1085.tab,s=_hh$temp1085.onClick,a=_hh$temp1085.showHighlight,r=_hh$temp1085.showActionIcon,c=_hh$temp1085.onFocus,d=_hh$temp1085.className,m=_hh$temp1085.fallbackIcon,p=_hh$temp1085.titleExtra,h=_hh$temp1085.testId,v=_hh$temp1085.role; return i.jsxs(i.Fragment,{children:[n?i.jsx("span",{className:"font-semibold text-foreground-850 text-sm",children:n}):null,i.jsx(fge,{ref:t,tab:o,onClick:s,showHighlight:a,showActionIcon:r,onFocus:c,className:d,fallbackIcon:m,titleExtra:p,testId:h,role:v})]})}const gge=u.forwardRef(hge),e4= _hh$temp1086=>{var e=_hh$temp1086.title,t=_hh$temp1086.titleId,n=__rest$Object(_hh$temp1086,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M2 9.25C2 5.24594 5.24594 2 9.25 2H12.75C14.102 2 15.2611 2.82552 15.7509 4L13.9747 4C13.6591 3.6907 13.2268 3.5 12.75 3.5H9.25C6.07436 3.5 3.5 6.07436 3.5 9.25V12.75C3.5 13.2268 3.6907 13.6591 4 13.9747V15.75C2.82552 15.2602 2 14.102 2 12.75V9.25ZM5 10.25C5 7.35051 7.35051 5 10.25 5H15.75C17.102 5 18.2611 5.82552 18.7509 7L16.9747 7C16.6591 6.6907 16.2268 6.5 15.75 6.5H10.25C8.17893 6.5 6.5 8.17893 6.5 10.25V15.75C6.5 16.2268 6.6907 16.6591 7 16.9747V18.75C5.82552 18.2602 5 17.102 5 15.75V10.25ZM11.25 8C9.45507 8 8 9.45507 8 11.25V18.75C8 20.5449 9.45507 22 11.25 22H18.75C20.5449 22 22 20.5449 22 18.75V11.25C22 9.45507 20.5449 8 18.75 8H11.25ZM9.5 11.25C9.5 10.2835 10.2835 9.5 11.25 9.5H18.75C19.7165 9.5 20.5 10.2835 20.5 11.25V18.75C20.5 19.7165 19.7165 20.5 18.75 20.5H11.25C10.2835 20.5 9.5 19.7165 9.5 18.75V11.25Z"}));} ,g7e=Object.freeze(Object.defineProperty({__proto__:null,default:e4},Symbol.toStringTag,{value:"Module"})),t4= _hh$temp1087=>{var e=_hh$temp1087.title,t=_hh$temp1087.titleId,n=__rest$Object(_hh$temp1087,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M12 4.5C16.1421 4.5 19.5 7.85786 19.5 12C19.5 16.1421 16.1421 19.5 12 19.5C7.85786 19.5 4.5 16.1421 4.5 12C4.5 11.6236 4.52772 11.2538 4.58123 10.8923C4.64845 10.4382 4.31609 10 3.85708 10C3.48623 10 3.161 10.2562 3.10471 10.6228C3.03576 11.0718 3 11.5317 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C9.69494 3 7.59227 3.86656 6 5.29168V4.25C6 3.83579 5.66421 3.5 5.25 3.5C4.83579 3.5 4.5 3.83579 4.5 4.25V7.25C4.5 7.66421 4.83579 8 5.25 8H8.25C8.66421 8 9 7.66421 9 7.25C9 6.83579 8.66421 6.5 8.25 6.5H6.90093C8.23907 5.25883 10.0309 4.5 12 4.5ZM12.5 7.75C12.5 7.33579 12.1642 7 11.75 7C11.3358 7 11 7.33579 11 7.75V12.25C11 12.6642 11.3358 13 11.75 13H14.75C15.1642 13 15.5 12.6642 15.5 12.25C15.5 11.8358 15.1642 11.5 14.75 11.5H12.5V7.75Z"}));} ,v7e=Object.freeze(Object.defineProperty({__proto__:null,default:t4},Symbol.toStringTag,{value:"Module"}));function yl(){const e=M(AJ),t=W("edge-multi-tabs-history");return e&&t}const vge=4,yge=10,Cge=20,yc={ADD:"add"};function cv(e){return e.sourceType==="history"}function lv(e){return e.sourceType==="opened"}function ho(e){return lv(e)?(e.id??0).toString():e.url??""}function uv(e){return e.sourceType===void 0||e.sourceType===null}function n4(e,t){const n=new Set(e.map(s=>s.id)),o=new Set(t.map(s=>s.id));if(n.size!==o.size)return!0;for(const s of n)if(!o.has(s))return!0;return!1}function o4(e,t=""){const n=t.trim().toLocaleLowerCase();return n===""||!e.title||e.title.toLocaleLowerCase().includes(n)}function s4(e,t=new Map){return t.has(ho(e))}function a4(e,t){ const _hh$temp1088=t??{},n=_hh$temp1088.selectedTabsSnapshot,_hh$temp1088$keyword=_hh$temp1088.keyword,o=_hh$temp1088$keyword===void 0?"":_hh$temp1088$keyword; return{...e,isInSearchResult:o4(e,o),addedToTabSelection:s4(e,n)}}async function r4(e){ const _hh$temp1089=await $Y.run(e),t=_hh$temp1089.tabs; return t?.map(n=>({...n,sourceType:"history",isInSearchResult:!0}))??[]}async function i4(){const e={maxResults:yge,states:[xs.RECENT],queries:[]};return(await r4(e)).slice(0,vge)}async function Sge(){ const _hh$temp1090=await ux.run({}),e=_hh$temp1090.tabs; return e?.map(t=>({...t,sourceType:"opened",isInSearchResult:!0}))??[]}async function bge( _hh$temp1091 ){ var _hh$temp1091$isEdgeHistoryEnabled=_hh$temp1091.isEdgeHistoryEnabled,e=_hh$temp1091$isEdgeHistoryEnabled===void 0?!1:_hh$temp1091$isEdgeHistoryEnabled,_hh$temp1091$triggeredByMention=_hh$temp1091.triggeredByMention,t=_hh$temp1091$triggeredByMention===void 0?!1:_hh$temp1091$triggeredByMention,n=_hh$temp1091.setUserOpenedTabs,o=_hh$temp1091.setUserHistoryTabs,_hh$temp1091$initialSelectedTabsSnapshot=_hh$temp1091.initialSelectedTabsSnapshot,s=_hh$temp1091$initialSelectedTabsSnapshot===void 0?new Map():_hh$temp1091$initialSelectedTabsSnapshot;  const _hh$temp1092=__arrayFrom$(await Promise.all([Sge(),e?i4():Promise.resolve([])])),a=_hh$temp1092[0],r=_hh$temp1092[1]; n?.(a.map(m=>a4(m,{selectedTabsSnapshot:s})));const c=a.length===0;return o?.(c?r:[]),t&&c}function Ige(e){return new Map(e.map(n=>[ho(n),{...n,addedToTabSelection:!0}]))}function c4(e,t){const n=Ige(e);return Array.from(t.values()).reduce((o,s)=>{const a=ho(s);return o.set(a,{...o.get(a),...s}),o},new Map(n))}async function Ege(e,t){let n=[];return e===""?n=t?await i4():[]:n=await r4({queries:[e],states:[xs.RECENT,xs.HISTORY],maxResults:Cge}),n}async function wge(e,t){let n=[];const o=e.trim(),s=o==="";t.historyTabs&&t.historyTabs.length>0&&(n=t.historyTabs.map(c=>({...c,isInSearchResult:!0,addedToTabSelection:s4(c,t.userAddedTabs)})));const a=new Map([...t.userAddedTabs.values()].map(c=>[ho(c),{...c,isInSearchResult:o4(c,o)}])),r=t.userOpenedTabs.map(c=>a4(c,{selectedTabsSnapshot:t.userAddedTabs,keyword:o}));return{userAddedTabsFiltered:a,userOpenedTabsFiltered:r,historyTabsFiltered:n,isEmptyKeyword:s}}function Tge(e,t){switch(t.type){case"SET_DRAFT_SELECTED_TABS":return{...e,userDraftSelectedTabs:t.payload};case"SET_TABS_INITIALIZED":return{...e,isTabsInitialized:t.payload};case"SET_USE_RECENT_HISTORY":return{...e,isUseRecentHistoryEnabled:t.payload};case"MERGE_DRAFT_SELECTION":return{...e,userDraftSelectedTabs:c4(t.payload,e.userDraftSelectedTabs)};default:return e}}function xge(e){ const _hh$temp1093=e,t=_hh$temp1093.text; return t?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"-ms-0.5 h-8 leading-8 text-foreground-850 text-sm",children:t}),i.jsx(po,{msg:t})]}):null}function Age(e){if(uv(e))return e4;if(cv(e))return t4}function Vb(e,t=!1){const n=U("composer.multiTabs.openTabs");if(cv(e)){const o=U("composer.multiTabs.recentlyClosedTabs"),s=U("composer.multiTabs.historyTabs");return t?o:s}return lv(e)?n:""}function _ge(e,t){let n=!1,o=!1;return s=>{if(e){if(cv(s)&&!n)return n=!0,Vb(s,t);if(lv(s)&&!o)return o=!0,Vb(s,t)}}}function kge(e){ const _hh$temp1094=e,t=_hh$temp1094.tabs,n=_hh$temp1094.onItemClick,o=_hh$temp1094.highlightedIndex,s=_hh$temp1094.activeMenuItemRef,a=_hh$temp1094.onItemFocus,r=_hh$temp1094.emptyStateText,_hh$temp1094$isUseRecentHistoryEnabled=_hh$temp1094.isUseRecentHistoryEnabled,c=_hh$temp1094$isUseRecentHistoryEnabled===void 0?!1:_hh$temp1094$isUseRecentHistoryEnabled,d=yl(),m=M(Ka); if(t.length===0)return i.jsx(xge,{text:r});const p=_ge(d,c);return i.jsx(i.Fragment,{children:t.map((h,v)=>i.jsx(gge,{tab:h,onClick:n,showHighlight:o===v,onFocus:()=>a?.(v),showActionIcon:!m,className:O(!m&&"py-2"),ref:v===o?s:null,groupTitle:p(h),fallbackIcon:Age(h),testId:`multi-tabs-menu-item-${v}`,role:m?"option":"checkbox"},ho(h)))})}function l4(e){ const _hh$temp1095=e,t=_hh$temp1095.highlightedIndex,n=_hh$temp1095.activeMenuItemRef,o=_hh$temp1095.onMenuItemClick,s=_hh$temp1095.onFocus,a=_hh$temp1095.tabs,r=_hh$temp1095.emptyStateText,_hh$temp1095$isUseRecentHistoryEnabled=_hh$temp1095.isUseRecentHistoryEnabled,c=_hh$temp1095$isUseRecentHistoryEnabled===void 0?!1:_hh$temp1095$isUseRecentHistoryEnabled,d=M(Ka); return i.jsxs("div",{className:O("relative flex w-full overflow-hidden",d?"mb-0 mt-3":"my-3"),children:[i.jsx("div",{className:O("t-custom-scrollbar flex w-full flex-col gap-y-1 overflow-y-auto overflow-x-hidden p-1"),"data-testid":"multi-tabs-menu-items-container",children:i.jsx(kge,{tabs:a,onItemClick:o,highlightedIndex:t,activeMenuItemRef:n,onItemFocus:s,emptyStateText:r,isUseRecentHistoryEnabled:c})}),a.length>=4&&d&&i.jsx("div",{className:O("pointer-events-none absolute inset-x-0 bottom-0 h-8 rounded-b-lg px-4","bg-gradient-composer-tabs-menu-mask-light dark:bg-gradient-composer-tabs-menu-mask-dark")})]})}function u4(e){ const _hh$temp1096=e,t=_hh$temp1096.mode,n=_hh$temp1096.disabled,o=_hh$temp1096.onClick,_hh$temp1097=Y(),s=_hh$temp1097.t,a=s("composer.multiTabs.browserTabMenuShareButton"),r=s("composer.multiTabs.browserTabMenuShareButtonForUpdate"),c=t===yc.ADD?a:r; return i.jsx(X,{title:c,className:"mx-auto mt-auto w-full flex-none",disabled:n,testId:"multi-tabs-share-button",onClick:o,color:"strong",size:"48-lg","aria-label":c,children:c})}function d4(e){ const _hh$temp1098=e,t=_hh$temp1098.mode,n=_hh$temp1098.onClose,o=_hh$temp1098.id,s=M(Ka),_hh$temp1099=Y(),a=_hh$temp1099.t,r=yl(),c=a("common.closeText"),d=u.useMemo(()=>r?t===yc.ADD?a("composer.multiTabs.browserTabMenuTitleWithHistory"):a("composer.multiTabs.browserTabMenuTitleForUpdateWithHistory"):t===yc.ADD?a("composer.multiTabs.browserTabMenuTitle"):a("composer.multiTabs.browserTabMenuTitleForUpdate"),[r,t,a]); return i.jsxs("div",{className:"flex w-full items-center justify-between pt-2",children:[i.jsx("span",{className:"text-foreground-900 text-sm",role:"heading","aria-level":2,id:o,children:d}),!s&&i.jsx(X,{color:"subtle-dimmed",title:c,size:"32-xs",onClick:n,"aria-label":c,children:i.jsx(sn,{className:"size-5 cursor-pointer"})})]})}const Hb="";function m4(e){ const _hh$temp1100=e,t=_hh$temp1100.onChange,n=_hh$temp1100.defaultValue,_hh$temp1101=Y(),o=_hh$temp1101.t,_hh$temp1102=__arrayFrom$(u.useState(n??Hb)),s=_hh$temp1102[0],a=_hh$temp1102[1],r=u.useRef(null),c=yl(),d=()=>{(r.current?.focus()),a(Hb);},m=iv(d),p=u.useCallback(y=>{a(y.target.value);},[]); u.useEffect(()=>{t?.(s)},[t,s]),u.useEffect(()=>{r.current&&requestAnimationFrame(()=>{r.current?.focus()})},[r]);const h=o(c?"composer.multiTabs.browserTabMenuSearchPlaceholderWithHistory":"composer.multiTabs.browserTabMenuSearchPlaceholder"),v=o("composer.multiTabs.browserTabMenuSearchClear");return i.jsxs("div",{className:"mt-3 flex h-8 w-full flex-row items-center rounded-3xl bg-white/60 dark:bg-black/60",children:[i.jsx(Z0,{className:"mx-2 size-4"}),i.jsx("input",{type:"text",id:"browser-tab-search",autoComplete:"off",spellCheck:!1,autoCorrect:"off",className:"w-full flex-1 rounded-lg bg-transparent py-2 text-sm placeholder:text-foreground-450 focus:outline-none dark:placeholder:text-foreground-600",placeholder:h,"aria-label":h,onChange:p,value:s,maxLength:100,ref:r}),s&&i.jsx("div",{role:"button",tabIndex:0,className:"me-1 ms-auto h-6 cursor-pointer rounded-xl border border-midnight-250 bg-midnight-200 px-3 py-1 text-foreground-800 text-xs dark:border-white/50 dark:bg-white/5",onKeyDown:m,onClick:d,"aria-label":v,children:v})]})}function p4(e,t,n){return t.startsWith("top")?e.top-n:window.innerHeight-e.bottom-n}function f4(e,t=1e3){const n=u.useRef(null);return n.current=e,u.useMemo(()=>W1((...a)=>{n.current?.(...a)},t),[t])}const Pge={id:-1,title:"",addedToTabSelection:!1,isInSearchResult:!0,sourceType:null,active:!1,highlighted:!1,pinned:!1,selected:!1,incognito:!1,autoDiscardable:!0,discarded:!1,index:-1,windowId:-1,groupId:-1};function h4(e={}){return{...Pge,...e}}const yu=20,Mge=h4({sourceType:null});function Rge(e,t){ const _hh$temp1103=Y(),n=_hh$temp1103.t,o=u.useMemo(()=>e.filter(d=>d.isInSearchResult),[e]),s=u.useMemo(()=>{const c=Math.min(o.length,yu);return(t&&c>1)&&c<yu?{...Mge,title:n("composer.multiTabs.allTabs",{count:c}),isInSearchResult:!0}:null;},[o.length,n,t]),a=u.useCallback(()=>e.map(c=>({...c,addedToTabSelection:o.slice(0,yu).some(d=>d.id===c.id)})),[o,e]),r=u.useMemo(()=>s?[s,...o]:o,[o,s]); return{appearedTabs:o,getUpdatedTabsBySpecialTab:a,specialTab:s,appearedTabsWithSpecialTab:r}}function g4(e){const t=u.useRef(0),n=u.useCallback(async()=>{const o=window.innerHeight;o!==t.current&&(t.current=o,await e(o))},[e]);Ys(n,{initialize:!0},document.documentElement)}const Nge=.2,Lge=.2,Dge=50,Oge=594,Uge=46,Fge=360,jge=240;function Bge(){Ie.emit("edge:try-grow-content-height",Oge)}function Vge(e){const t=new Map;for(const n of e)n.id&&n.addedToTabSelection&&t.set(n.id.toString(),n);return t}function Hge(e){ const _hh$temp1104=e,t=_hh$temp1104.styles,n=_hh$temp1104.onRef,o=_hh$temp1104.onSave,_hh$temp1104$onClose=_hh$temp1104.onClose,s=_hh$temp1104$onClose===void 0?()=>{}:_hh$temp1104$onClose,_hh$temp1104$outsideClickElements=_hh$temp1104.outsideClickElements,a=_hh$temp1104$outsideClickElements===void 0?[]:_hh$temp1104$outsideClickElements,r=_hh$temp1104.originElement,_hh$temp1104$mode=_hh$temp1104.mode,c=_hh$temp1104$mode===void 0?yc.ADD:_hh$temp1104$mode,_hh$temp1104$menuPlacement=_hh$temp1104.menuPlacement,d=_hh$temp1104$menuPlacement===void 0?"top-start":_hh$temp1104$menuPlacement,m=_hh$temp1104.id,_hh$temp1105=__arrayFrom$(Re(Do)),p=_hh$temp1105[0],h=_hh$temp1105[1],v=u.useRef(new Map(p)),y=u.useRef(null),_hh$temp1106=__arrayFrom$(u.useState([])),C=_hh$temp1106[0],S=_hh$temp1106[1],_hh$temp1107=__arrayFrom$(u.useState(0)),b=_hh$temp1107[0],I=_hh$temp1107[1],x=u.useRef(null),_hh$temp1108=Y(),E=_hh$temp1108.t,k=u.useDeferredValue([...C]),w=M(Ka),_hh$temp1109=Rge(k,w),_=_hh$temp1109.appearedTabsWithSpecialTab,N=_hh$temp1109.getUpdatedTabsBySpecialTab,L=v.current,_hh$temp1110=__arrayFrom$(u.useState(0)),B=_hh$temp1110[0],F=_hh$temp1110[1],_hh$temp1111=__arrayFrom$(u.useState(!1)),K=_hh$temp1111[0],G=_hh$temp1111[1],te=u.useCallback(()=>{if((y.current&&r)&&r.current){const z=r.current.getBoundingClientRect(),Q=p4(z,d,Uge);F(Q);}},[r,d]); g4(()=>{Bge(),te()}),u.useEffect(()=>{G(!1);async function z(){ const _hh$temp1112=await ux.run({}),Q=_hh$temp1112.tabs; if(Q&&Q.length>0){const me=[];for(const pe of Q)pe.id&&me.push({...pe,addedToTabSelection:L.has(pe.id.toString()),isInSearchResult:!0,sourceType:"opened"});S(me)}}z().catch(console.error).finally(()=>{G(!0)})},[L]),u.useLayoutEffect(()=>{y.current&&K&&te()},[te,K]);const ne=u.useMemo(()=>C.filter(z=>z.addedToTabSelection),[C]),ae=u.useMemo(()=>ne.length>yu,[ne]),Te=u.useCallback(z=>{n?.(z),y.current=z},[n]),he=u.useCallback(z=>{const Q=Vge(z);h(Q);const me=Array.from(Q.values()),pe=n4(me,[...L.values()]);o?.(me,pe)},[L,o,h]),Ee=u.useCallback(()=>{ae||he(C)},[ae,he,C]),Ae=u.useCallback(z=>{S(Q=>Q.map(pe=>pe.id===z.id?z:pe))},[]),Ue=f4(u.useCallback(z=>{S(Q=>Q.map(me=>({...me,isInSearchResult:me.title?me.title.toLowerCase().includes(z.toLowerCase().trim()):!0})))},[]),_x),Fe=u.useCallback(z=>{I(Q=>z==="up"?Q>0?Q-1:_.length-1:Q<_.length-1?Q+1:0)},[I,_]);u.useEffect(()=>{x.current&&b>=0&&(x.current.scrollIntoView({block:"nearest"}),w||x.current.focus())},[b,x,w]),u.useEffect(()=>{if(b>=0&&w){const z= __get$(_,b) ?.title??"";z&&Qn({msg:z})}},[b,_,w]);const ke=u.useCallback(z=>{let Q=[];uv(z)?Q=N():Q=C.map(me=>me.id===z.id?{...z,addedToTabSelection:!0}:me),S(Q),he(Q)},[N,he,C]),Ve=u.useCallback(z=>{if(["ArrowUp","ArrowDown"].includes(z.code))z.preventDefault(),Fe(z.code==="ArrowUp"?"up":"down");else if(z.code==="Enter"){z.preventDefault();const Q= __get$(_,b) ;Q&&ke({...Q,addedToTabSelection:!0})}else z.code==="Tab"&&y.current?.focus()},[Fe,b,_,ke]),De=u.useMemo(()=>W1(Ve,Dge),[Ve]);u.useEffect(()=>(Ie.on("multi-tabs:search",Ue),Ie.on("multi-tabs:key-down",De),()=>{Ie.off("multi-tabs:search",Ue),Ie.off("multi-tabs:key-down",De)}),[De,Ue]),ds({onOutsideEvent:s,elements:[y,...a],invokeOnce:!1,shouldAttachListeners:!0,includeFocus:w});const le=u.useMemo(()=>w?jge:Fge,[w]),oe=u.useMemo(()=>({maxHeight:`${B>le?le:B}px`,...t}),[B,le,t]);er(z=>{z.key==="Escape"&&(z.stopPropagation(),z.preventDefault(),s())});const se=`${u.useId()}-composer-multi-tabs-menu-header-title`;return i.jsxs(wo.Motion,{className:O(at.modal,"pointer-events-auto relative z-40 box-border flex max-h-[400px] w-full flex-col rounded-b-6xl rounded-t-4xl border border-white p-4 shadow-lg backdrop-blur-2xl backdrop-saturate-150 contrast-more:border-2 dark:border-white/10","bg-gradient-composer-tabs-menu-light dark:bg-gradient-composer-tabs-menu-dark","bg-blend-normal","forced-colors:bg-stroke-150 dark:forced-colors:bg-background-150","contrast-more:bg-stroke-150 dark:contrast-more:bg-background-150",w?"px-4 pb-1.5 pt-4":"p-4"),style:oe,tabbable:!0,tabIndex:0,ref:Te,"data-testid":"composer-multi-tabs-menu",initial:"start",animate:"end",variants:{start:Be,end:{...ct,transition:{duration:Nge,delay:Lge}}},onKeyDown:w?void 0:Ve,"data-outside-events-ignore":w?"":void 0,role:w?"listbox":"dialog","aria-labelledby":se,id:m,children:[i.jsx(d4,{mode:c,onClose:s,id:se}),!w&&i.jsx(m4,{onChange:Ue}),i.jsx(l4,{highlightedIndex:b,onFocus:I,activeMenuItemRef:x,onMenuItemClick:w?ke:Ae,tabs:_,emptyStateText:C.length===0?E("composer.multiTabs.noTabsOpen"):E("composer.multiTabs.noTabsFound")}),!w&&i.jsx(u4,{mode:c,disabled:ae,onClick:Ee})]})}const v4=P([]),y4=P([]),zge=P(e=>{const t=e(v4),n=e(y4),o=new Map;for(const s of t)s.id&&o.set(ho(s),s);for(const s of n)s.url&&!t.some(a=>a.url===s.url)&&o.set(ho(s),s);return[...o.values()]}),Gge=P(e=>{const t=e(zge),n=e(Do),o=e(Ka),s=new Map;for(const a of t)a.isInSearchResult&&s.set(ho(a),a);if(!o)for(const _hh$temp1113 of n) {const _hh$temp1114=__arrayFrom$(_hh$temp1113),a=_hh$temp1114[0],r=_hh$temp1114[1];r.isInSearchResult&&s.set(a,r);} return[...s.values()]}),xh=20,zb={opened:0,history:1},Wge=h4({sourceType:null});function $ge(){ const _hh$temp1115=Y(),e=_hh$temp1115.t,t=M(Ka),n=yl(),_hh$temp1116=__arrayFrom$(Re(v4)),o=_hh$temp1116[0],s=_hh$temp1116[1],a=q(y4),_hh$temp1117=__arrayFrom$(Re(Do)),r=_hh$temp1117[0],c=_hh$temp1117[1],d=u.useRef(new Map(r)),m=M(Gge),_hh$temp1118=__arrayFrom$(u.useReducer(Tge,{isTabsInitialized:!1,isUseRecentHistoryEnabled:!1,userDraftSelectedTabs:d.current})),p=_hh$temp1118[0],h=_hh$temp1118[1],v=e("composer.multiTabs.noTabsOpen"),y=e("composer.multiTabs.noTabsFound"),C=u.useMemo(()=>m.map(w=>({...w,addedToTabSelection:p.userDraftSelectedTabs.has(ho(w))})),[m,p.userDraftSelectedTabs]),S=u.useMemo(()=>{const k=Math.min(C.length,xh);return(t&&k>1)&&k<xh?{...Wge,title:e("composer.multiTabs.allTabs",{count:k}),isInSearchResult:!0}:null;},[C.length,e,t]),b=u.useMemo(()=>{const k=[...C].sort((w,_)=>(w.lastAccessed??0)-(_.lastAccessed??0)).sort((w,_)=>(__get$(zb,w.sourceType)??0)-(__get$(zb,_.sourceType)??0));return!S||n?k:[S,...k];},[C,S,n]),I=u.useMemo(()=>n?y:m.length===0?v:y,[n,y,v,m.length]),x=u.useCallback(k=>n4(k,[...d.current.values()]),[]),E=u.useCallback(async k=>{const w=n?await Ege(k.trim(),o.length===0):[],_hh$temp1119=await wge(k,{userAddedTabs:r,userOpenedTabs:o,historyTabs:w}),_=_hh$temp1119.userAddedTabsFiltered,N=_hh$temp1119.userOpenedTabsFiltered,L=_hh$temp1119.historyTabsFiltered,B=_hh$temp1119.isEmptyKeyword;n&&(h({type:"SET_USE_RECENT_HISTORY",payload:B&&t}),a(L)),c(_),s(N);},[n,c,a,s,t,r,o]); return u.useEffect(()=>{h({type:"SET_USE_RECENT_HISTORY",payload:!1}),bge({isEdgeHistoryEnabled:n,triggeredByMention:t,setUserOpenedTabs:s,setUserHistoryTabs:a,initialSelectedTabsSnapshot:d.current}).then(k=>{h({type:"SET_USE_RECENT_HISTORY",payload:k})}).catch(k=>{}).finally(()=>{h({type:"SET_TABS_INITIALIZED",payload:!0})})},[n,a,s,t]),u.useEffect(()=>()=>{a([]),s([])},[a,s]),{triggeredByMention:t,isEdgeHistoryEnabled:n,checkSelectedTabsHaveChanged:x,appearedTabsWithSpecialTab:b,userOpenedTabs:o,menuContentEmptyStateText:I,setUserAddedTabs:c,searchTabs:E,appearedTabs:C,specialTab:S,isUseRecentHistoryEnabled:p.isUseRecentHistoryEnabled,isTabsInitialized:p.isTabsInitialized,userDraftSelectedTabs:p.userDraftSelectedTabs,setUserDraftSelectedTabs:k=>{h({type:"SET_DRAFT_SELECTED_TABS",payload:k})}}}const qge=.2,Kge=.2;function Yge(e){return Array.from(e.values()).map(t=>({...t,addedToTabSelection:!0,isInSearchResult:!0}))}const Zge=594,Jge=46,Qge=360,Xge=240;function e1e(){Ie.emit("edge:try-grow-content-height",Zge)}function t1e(e){ const _hh$temp1120=e,t=_hh$temp1120.styles,n=_hh$temp1120.onRef,o=_hh$temp1120.onSave,_hh$temp1120$onClose=_hh$temp1120.onClose,s=_hh$temp1120$onClose===void 0?()=>{}:_hh$temp1120$onClose,a=_hh$temp1120.originElement,_hh$temp1120$mode=_hh$temp1120.mode,r=_hh$temp1120$mode===void 0?yc.ADD:_hh$temp1120$mode,_hh$temp1120$outsideClickElements=_hh$temp1120.outsideClickElements,c=_hh$temp1120$outsideClickElements===void 0?[]:_hh$temp1120$outsideClickElements,_hh$temp1120$menuPlacement=_hh$temp1120.menuPlacement,d=_hh$temp1120$menuPlacement===void 0?"top-start":_hh$temp1120$menuPlacement,m=_hh$temp1120.id,p=u.useRef(null),_hh$temp1121=__arrayFrom$(u.useState(0)),h=_hh$temp1121[0],v=_hh$temp1121[1],y=u.useRef(null),_hh$temp1122=__arrayFrom$(u.useState(0)),C=_hh$temp1122[0],S=_hh$temp1122[1],_hh$temp1123=Y(),b=_hh$temp1123.t,_hh$temp1124=$ge(),I=_hh$temp1124.appearedTabsWithSpecialTab,x=_hh$temp1124.isUseRecentHistoryEnabled,E=_hh$temp1124.triggeredByMention,k=_hh$temp1124.menuContentEmptyStateText,w=_hh$temp1124.searchTabs,_=_hh$temp1124.setUserAddedTabs,N=_hh$temp1124.checkSelectedTabsHaveChanged,L=_hh$temp1124.userDraftSelectedTabs,B=_hh$temp1124.isTabsInitialized,F=_hh$temp1124.setUserDraftSelectedTabs,K=_hh$temp1124.appearedTabs,G=L.size>xh,te=u.useCallback(oe=>{(n?.(oe)),p.current=oe;},[n]),ne=u.useCallback(oe=>{const we=Yge(oe);_(new Map(we.map(z=>[ho(z),z])));const se=N(we);(o?.(we,se));},[N,o,_]),ae=u.useCallback(()=>{G||ne(L);},[G,ne,L]),Te=f4(w,_x),he=u.useCallback(()=>{if((p.current&&a)&&a.current){const oe=a.current.getBoundingClientRect(),we=p4(oe,d,Jge);S(we);}},[a,d]); g4(()=>{e1e(),he()}),u.useLayoutEffect(()=>{p.current&&B&&he()},[he,B]),u.useEffect(()=>{y.current&&h>=0&&y.current.scrollIntoView({block:"nearest"})},[h,y]),u.useEffect(()=>{if(h>=0&&E){const oe= __get$(I,h) ?.title??"";oe&&Qn({msg:oe})}},[h,I,E]);const Ee=u.useCallback(oe=>{v(we=>oe==="up"?we>0?we-1:I.length-1:we<I.length-1?we+1:0)},[v,I]),Ae=u.useCallback(oe=>{const we=ho(oe),se=L.has(we),z=oe.addedToTabSelection;if(se!==z){const Q=new Map(L);z?Q.set(we,oe):Q.delete(we),F(Q)}Qn({msg:b(z?"composer.multiTabs.tabStatus.added":"composer.multiTabs.tabStatus.removed")})},[F,b,L]),Ue=u.useCallback(oe=>{const we=uv(oe)?K:[oe],se=c4(we,L);F(se),ne(se),Qn({msg:b("composer.multiTabs.tabStatus.added")})},[K,F,b,ne,L]),Fe=u.useCallback(oe=>{if(["ArrowUp","ArrowDown"].includes(oe.code))oe.preventDefault(),Ee(oe.code==="ArrowUp"?"up":"down");else if(oe.code==="Enter"){oe.preventDefault();const we= __get$(I,h) ;we&&Ue({...we,addedToTabSelection:!0})}else oe.code==="Tab"&&p.current?.focus()},[Ee,h,I,Ue]);u.useEffect(()=>(Ie.on("multi-tabs:search",Te),Ie.on("multi-tabs:key-down",Fe),()=>{Ie.off("multi-tabs:search",Te),Ie.off("multi-tabs:key-down",Fe)}),[Fe,Te]);const ke=u.useMemo(()=>E?Xge:Qge,[E]),Ve=u.useMemo(()=>({maxHeight:`${C>ke?ke:C}px`,...t}),[C,ke,t]),le=`${u.useId()}-composer-multi-tabs-menu-header-title`;return ds({onOutsideEvent:s,elements:[p,...c],invokeOnce:!1,shouldAttachListeners:!0,includeFocus:E}),i.jsxs(wo.Motion,{className:O(at.modal,"pointer-events-auto relative z-40 box-border flex max-h-[400px] w-full flex-col rounded-b-6xl rounded-t-4xl border border-white bg-gradient-composer-tabs-menu-light p-4 bg-blend-normal shadow-lg backdrop-blur-2xl backdrop-saturate-150 contrast-more:border-2 contrast-more:bg-stroke-150 dark:border-white/10 dark:bg-gradient-composer-tabs-menu-dark dark:contrast-more:bg-background-150 forced-colors:bg-stroke-150 dark:forced-colors:bg-background-150",E?"px-4 pb-1.5 pt-4":"p-4"),style:Ve,tabbable:!0,tabIndex:0,"data-testid":"composer-multi-tabs-menu",initial:"start",animate:"end",ref:te,variants:{start:Be,end:{...ct,transition:{duration:qge,delay:Kge}}},onKeyDown:E?void 0:Fe,role:E?"listbox":"dialog","aria-labelledby":le,id:m,children:[i.jsx(d4,{mode:r,onClose:s,id:le}),!E&&i.jsx(m4,{onChange:Te}),i.jsx(l4,{highlightedIndex:h,onFocus:v,activeMenuItemRef:y,onMenuItemClick:E?Ue:Ae,tabs:I,emptyStateText:k,isUseRecentHistoryEnabled:x}),!E&&i.jsx(u4,{mode:r,disabled:G,onClick:ae})]})}function n1e(e){return yl()?i.jsx(t1e,{...e}):i.jsx(Hge,{...e})}const o1e=(e,t)=>{if(e==="light"){const n=Z.instance().config().composer?.shadowBoxStyleOverride?.outerLargeBoxShadowLight;if(n)return n;if(t)return the}else if(e==="dark"){const n=Z.instance().config().composer?.shadowBoxStyleOverride?.outerLargeBoxShadowDark;if(n)return n;if(t)return nhe}return Xfe},s1e=e=>{if(e==="light"){const t=Z.instance().config().composer?.shadowBoxStyleOverride?.outerSmallBoxShadowLight;return t?`${t.offset} ${t.color}`:ohe}if(e==="dark"){const t=Z.instance().config().composer?.shadowBoxStyleOverride?.outerSmallBoxShadowDark;return t?`${t.offset} ${t.color}`:she}return ehe},a1e=e=>e==="dark"?nv:tv;function Jl(e){return e?rhe:ahe}function r1e(e){return e?che:ihe}function i1e(e,t,n){const o=t?vz:yz;let s;if(e==="default"){const r=Z.instance().config().composer?.shadowBoxStyleOverride,c=n==="dark"?r?.outerSmallBoxShadowDark?.color:r?.outerSmallBoxShadowLight?.color;c?s=`${o} ${c}`:s=`${o} ${n==="dark"?Hk:Vk}`}else{const r=`rgba(${ __get$(CC,e) }, ${dp})`;s=`${o} ${r}`}let a;if(e==="default")a=n==="dark"?nv:tv;else{const r=t?dp*gz:dp;a=`0px 0px 0px 1px ${`rgba(${ __get$(CC,e) }, ${r})`} inset`}return{outerSmallBoxShadow:s,innerBoxShadow:a,shouldAnimateShadow:!0}}const c1e=new Set(["smart","smart-latest"]);function C4(){const e=W("personality-studio-v1"),t=Kt(),o=!!M(Lt)?.group,s=!c1e.has(t),a=Yt(),r=fo(a),c=a==="/",d=_m(),m=a.startsWith("/chats")&&!r;return e&&!o&&!s&&(m||c||d)}function l1e(e){ const t=M(fs),n=M(W0),o=C4(),s=Pa(),_hh$temp1125=o?i1e(n,e,t):{outerSmallBoxShadow:s1e(t),innerBoxShadow:a1e(t),shouldAnimateShadow:!1},a=_hh$temp1125.outerSmallBoxShadow,r=_hh$temp1125.innerBoxShadow,c=_hh$temp1125.shouldAnimateShadow; return c?{outerShadowStyle:{},outerShadowAnimate:{boxShadow:a},outerShadowTransition:_b,innerShadowStyle:{},innerShadowAnimate:{boxShadow:r},innerShadowTransition:_b}:{outerShadowStyle:{boxShadow:s?a:void 0},outerShadowAnimate:void 0,outerShadowTransition:void 0,innerShadowStyle:{boxShadow:s?r:void 0},innerShadowAnimate:void 0,innerShadowTransition:void 0}}function dv(){const e=M(xJ),t=rt("kill-edge-multi-tabs");return e&&!t}const u1e=_e();function d1e(){ const e=dv(),_hh$temp1126=__arrayFrom$(u.useState("add")),t=_hh$temp1126[0],n=_hh$temp1126[1],_hh$temp1127=__arrayFrom$(u.useState(!1)),o=_hh$temp1127[0],s=_hh$temp1127[1],_hh$temp1128=__arrayFrom$(Re(_J)),a=_hh$temp1128[0],r=_hh$temp1128[1],_hh$temp1129=__arrayFrom$(u.useState(!1)),c=_hh$temp1129[0],d=_hh$temp1129[1],_hh$temp1130=__arrayFrom$(Re(Ka)),m=_hh$temp1130[0],p=_hh$temp1130[1],h=q(Do),_hh$temp1131=X7({strategy:"absolute",whileElementsMounted:qr,middleware:[Ic(()=>({mainAxis:6,crossAxis:0})),e8({allowedPlacements:["bottom-start","top-start"]}),wc({padding:12}),Gh({apply(_hh$temp1132){var k=_hh$temp1132.rects,w=_hh$temp1132.elements;__call$(Object,"assign",[w.floating.style,{width:`${k.reference.width}px`}]);}})]}),v=_hh$temp1131.refs,y=_hh$temp1131.floatingStyles,C=_hh$temp1131.placement,S=u.useCallback(async k=>{const _hh$temp1133=k,w=_hh$temp1133.isTrigger,_=_hh$temp1133.keyword;p(w),w&&(Ie.emit("multi-tabs:search",_),n("add")),r(w);},[p,r]),b=u.useCallback(()=>{m&&(p(!1),Ie.emit("mention:cancel","ignore")),r(!1);},[m,p,r]),I=u.useCallback(()=>{m&&(Ie.emit("mention:cancel","remove"),p(!1)),r(!1),d(!0),s(!0),Ie.emit("edge:maybe-fetch-page-context","onSaveMultiTabs");},[m,p,r]),x=u.useCallback(k=>(e&&a)&&m?(Ie.emit("multi-tabs:key-down",k),!0):!1,[m,e,a]),E=()=>(m&&a)&&e; return u.useEffect(()=>{const k=u1e.sub(Se,()=>{r(!1),d(!1),p(!1),h(new Map)});return()=>{k()}},[h,p,r]),u.useEffect(()=>{const k=()=>{s(!1)};return Ie.on("edge:multi-tabs-context-fetched-complete",k),()=>{Ie.off("edge:multi-tabs-context-fetched-complete",k)}},[]),{isMultiTabsMenuExpanded:a,floatingStyles:y,edgeTabMenuRefs:v,setIsMultiTabsMenuExpanded:r,isShowMultiTabsPreviewCard:c,setIsShowMultiTabsPreviewCard:d,handleMentionEvent:S,isMentionTriggered:m,handleMultiTabsMenuSaveBtnEvent:I,handleMultiTabsMenuCloseBtnEvent:b,handleUserInputEnterEvent:E,handleUserInputKeydownEvent:x,multiTabsMenuMode:t,setMultiTabsMenuMode:n,isFetchingTabsPageContext:o,menuPlacement:C}}function m1e(e){const t=M(yt);if(!e?.group||!e.group.owner||!t)return!1; const n=t.id,_hh$temp1134=e,o=_hh$temp1134.group,s=o.participants??[]; return(n?s.filter(r=>r.userId!==n):s).length>=1}const mv="copilot";function S4(e,t){return{...e,start:e.start+t,end:e.end+t}}function p1e(e,t,n){if(e.start===e.end){const s=e.start;if(n>=0)return{changeStart:s,changeEnd:e.end};const a=Math.abs(n);if(t.start<e.start)return{changeStart:t.start,changeEnd:e.start};const r=Math.max(e.start+a,t.end);return{changeStart:e.start,changeEnd:r}}return{changeStart:e.start,changeEnd:e.end}}function f1e(e,t){ const _hh$temp1135=t,n=_hh$temp1135.changeStart,o=_hh$temp1135.changeEnd; return n>=e.end?"none":o<=e.start?"adjust":"remove"}function h1e(e,t,n){return e.length===0?e:e.map(o=>{const s=f1e(o,t);return s==="none"?o:s==="adjust"?S4(o,n):null}).filter(o=>o!==null)}function g1e(e){return`@${e.userDisplayName}`}function v1e(e){return e.userId===mv?{type:"reference",reference:{type:"copilot"}}:{type:"reference",reference:{type:"user",id:e.userId,displayName:e.userDisplayName??e.userId}}}function y1e(e){ const _hh$temp1136=__arrayFrom$(u.useState([])),t=_hh$temp1136[0],n=_hh$temp1136[1],o=u.useRef(""),s=u.useRef({start:0,end:0}),a=u.useCallback(m=>{const p=m.target;s.current={start:p.selectionStart,end:p.selectionEnd};},[]),r=u.useCallback(m=>{const p=m.target.value,h={start:m.target.selectionStart,end:m.target.selectionEnd},v=o.current;if(p===v){s.current=h;return;}const y=p.length-v.length,C=p1e(s.current,h,y);n(S=>h1e(S,C,y)),o.current=p,s.current=h;},[]); return{mentions:t,insertMentionIntoText:(m,p,h,v)=>{const y=g1e(v),C=m.slice(0,p),S=m.slice(p+h.length),b=`${C}${y} ${S}`,I={start:p,end:p+y.length,participant:v,displayText:y},x=y.length+1-h.length;n(k=>[...k.map(_=>_.start>=p?_.participant.userId===I.participant.userId&&_.start===I.start?void 0:S4(_,x):_).filter(_=>_!==void 0),I].sort((_,N)=>_.start-N.start)),o.current=b;const E=p+y.length+1;return s.current={start:E,end:E},e(b),E},getTextWithMentions:m=>{const p=o.current.trim();if(p!==m.trim())return{plainText:m,textWithReferences:[{type:"text",text:m}]};if(t.length===0)return{plainText:m,textWithReferences:[{type:"text",text:m}]};const h=[];let v=0;for(const y of t)y.start>v&&h.push({type:"text",text:p.slice(v,y.start)}),h.push(v1e(y.participant)),v=y.end;return v<p.length&&h.push({type:"text",text:p.slice(v)}),{plainText:m,textWithReferences:h}},handleTextareaChange:r,handleTextareaSelect:a}}function b4(e){const t=e.selectionStart;return e.value.substring(0,t).lastIndexOf("@")}function C1e(e){const t=b4(e),n=window.getComputedStyle(e),o=n.direction==="rtl";if(t===-1){const m=e.getBoundingClientRect();return{x:m.left,y:m.top,isRtl:o}}const s=e.value.substring(0,t),a=e.getBoundingClientRect(),r=document.createElement("div"); __call$(Object,"assign",[r.style,{position:"absolute",top:`${a.top+window.scrollY}px`,left:`${a.left+window.scrollX}px`,visibility:"hidden",whiteSpace:n.whiteSpace,overflowWrap:n.overflowWrap,width:`${e.clientWidth}px`,height:`${e.clientHeight}px`,font:n.font,fontSize:n.fontSize,fontFamily:n.fontFamily,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,lineHeight:n.lineHeight,padding:n.padding,border:n.border,boxSizing:n.boxSizing,direction:n.direction}]) ,r.textContent=s;const c=document.createElement("span");c.textContent="@",r.appendChild(c),document.body.appendChild(r);const d=c.getBoundingClientRect();return document.body.removeChild(r),{x:d.left,y:d.top,isRtl:o}}function S1e( _hh$temp1137 ){ var e=_hh$temp1137.participant,t=_hh$temp1137.mentionKeywordToReplace,n=_hh$temp1137.insertMentionIntoText,o=_hh$temp1137.userInputRef; const s=o.current?.getTextAreaRef().current;if(!s)return;const a=b4(s);if(a!==-1){const r=`@${t}`,c=n(s.value,a,r,e);requestAnimationFrame(()=>{o.current?.focus(),o.current?.updateSelectionRange(c,c)})}}function b1e(){ const e=M(Lt),t=M(yt),_hh$temp1138=Y(),n=_hh$temp1138.t; return u.useMemo(()=>{if(!t)return[];const s=(e?.group?.participants??[]).filter(r=>r.userId!==t.id);return[{userId:mv,userDisplayName:n("common.copilotText")},...s]},[e?.group?.participants,t,n])}function I1e(e,t){return e?t.filter(n=>(n.userDisplayName??n.userId).toLowerCase().includes(e.toLowerCase())):t}function E1e(e,t,n,o){ const _hh$temp1139=__arrayFrom$(u.useState(0)),s=_hh$temp1139[0],a=_hh$temp1139[1],r=u.useCallback(()=>{a(0);},[]),c=u.useCallback(d=>{if(!(!t||e.length===0)){if(d.key==="ArrowDown")d.preventDefault(),a(m=>m<e.length-1?m+1:0);else if(d.key==="ArrowUp")d.preventDefault(),a(m=>m>0?m-1:e.length-1);else if(d.key==="Escape")d.preventDefault(),r(),o();else if(d.key==="Enter"||d.key==="Tab"){d.preventDefault(),d.stopImmediatePropagation(),r();const m=__get$(e,s);m&&n(m);}}},[t,e,s,n,o,r]); return{selectedIndex:s,handleMentionKeydown:c,resetSelectionInPopup:r}}function w1e(e){ const _hh$temp1140=__arrayFrom$(u.useState({x:0,y:0,isRtl:!1})),t=_hh$temp1140[0],n=_hh$temp1140[1],o=u.useCallback(()=>{const a=e.userInputRef.current?.getTextAreaRef()?.current;if(a){const r=C1e(a);n(r);}},[e]); return{mentionPopupPosition:t,updateMentionPopupPosition:o}}function T1e(e,t,n,o){ const _hh$temp1141=__arrayFrom$(u.useState("")),s=_hh$temp1141[0],a=_hh$temp1141[1],_hh$temp1142=__arrayFrom$(u.useState([])),r=_hh$temp1142[0],c=_hh$temp1142[1],d=u.useCallback(m=>{if(m.isTrigger){const p=m.keyword??"";a(p);const h=I1e(p,e);h.length>0?(t(),n(!0),Ure(o)):n(!1),c(h);}else n(!1),a("");},[e,t,n,o]); return{mentionKeyword:s,filteredParticipants:r,handleMentionTrigger:d}}function x1e( _hh$temp1143 ){ var e=_hh$temp1143.setInputValue,t=_hh$temp1143.userInputRef;  const n=M(Lt),_hh$temp1144=y1e(e),o=_hh$temp1144.mentions,s=_hh$temp1144.insertMentionIntoText,a=_hh$temp1144.getTextWithMentions,r=_hh$temp1144.handleTextareaChange,c=_hh$temp1144.handleTextareaSelect,d=m1e(n),m=W("groups-mention")&&d,p=b1e(),_hh$temp1145=__arrayFrom$(u.useState(!1)),h=_hh$temp1145[0],v=_hh$temp1145[1],_hh$temp1146=w1e({userInputRef:t}),y=_hh$temp1146.mentionPopupPosition,C=_hh$temp1146.updateMentionPopupPosition,_hh$temp1147=T1e(p,C,v,n?.id),S=_hh$temp1147.handleMentionTrigger,b=_hh$temp1147.filteredParticipants,I=_hh$temp1147.mentionKeyword,x=u.useCallback(()=>{v(!1),requestAnimationFrame(()=>{(t.current?.focus());});},[v,t]),E=u.useCallback(L=>{S1e({participant:L,mentionKeywordToReplace:I,insertMentionIntoText:s,userInputRef:t}),Fre(n?.id,L.userId===mv),x();},[I,s,t,x,n?.id]),_hh$temp1148=E1e(b,h,E,x),k=_hh$temp1148.handleMentionKeydown,w=_hh$temp1148.selectedIndex,_=_hh$temp1148.resetSelectionInPopup,N=u.useCallback(L=>{S(L),_();},[S,_]); return{isGroupsMentionEnabled:m,mentionPopup:{isMentionPopupOpen:h,position:y,mentionPopupParticipants:b,mentionPopupSelectedIndex:w,closeMentionPopup:x,handleMentionSelect:E},handleMentionTriggerEvent:N,handleMentionKeydown:k,mentions:o,hasSelectedMentions:o.length>0,handleTextareaChange:r,handleTextareaSelect:c,getTextWithMentions:a}}function A1e(e){ const _hh$temp1149=__arrayFrom$(Re(K1)),t=_hh$temp1149[0],n=_hh$temp1149[1],s=Kt()==="computerUse",a=Z_(e),r=W("zi-autosuggest")&&a,c=M(en),d=M(AA),m=(a&&!c)&&!s; u.useEffect(()=>{const S=b=>{if(b.key!=="Tab")return;const I=document.getElementById(Kr);document.activeElement!==I&&n({type:"allow-focus-trigger"})};return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[n]);const p=u.useRef(d);u.useEffect(()=>{p.current&&!d&&n({type:"idle"}),p.current=d},[d,n]);const h=M(tl);return{autoSuggestOnInputClick:S=>{t.type==="triggered"||!m||d||S===""&&!r||(n({type:"triggered"}),sh(S))},autoSuggestOnInputFocus:S=>{!m||d||lse().type!=="allow-focus-trigger"||S===""&&!r||(n({type:"triggered"}),sh(S))},autoSuggestOnInputChange:S=>{!S&&h&&Gr()}}}const _1e=P(null);function k1e(){ const _hh$temp1150=xo(),e=_hh$temp1150.contentPageType,t=M(_1e)!==null,n=u.useCallback(()=>{fe({pageName:e,source:"streamlinedComposer",scenario:"clickComposer",customData:JSON.stringify({isChatSidePaneOpened:t})});},[e,t]),o=u.useCallback(()=>{fe({pageName:e,source:"newsComposerInput",scenario:"newsClickNavigateToChat",customData:JSON.stringify({isChatSidePaneOpened:t})});},[e,t]); return{trackConsumptionPageComposerClick:n,trackConsumptionPageComposerSubmit:o}}const P1e=["en"],M1e=["en-US","en-GB"];function R1e(){ const _hh$temp1151=Y(),e=_hh$temp1151.i18n,t=J3(),o=(e.resolvedLanguage??"").split("-")[0]??"",s=P1e.includes(o),a=M1e.includes(t); return s&&a}function N1e(){return Yt().startsWith("/daily")}const I4=P(0),E4=P(),w4=P();P({});const y7e=P({lastPosition:0,wasPlaying:!1}),vi="daily";function C7e(){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"personalizeButton",eventInfo_clickScenario:"",eventInfo_pageName:vi}})}function S7e(e){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"TopicSettings_Select",eventInfo_clickScenario:e,eventInfo_pageName:vi}})}function b7e(e){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"TopicSettings_UnSelect",eventInfo_clickScenario:e,eventInfo_pageName:vi}})}function I7e(e){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"TopicSettings_Save",eventInfo_clickScenario:e.join(","),eventInfo_pageName:vi}})}function E7e(){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"TopicSettings_Later",eventInfo_clickScenario:"",eventInfo_pageName:vi}})}const Ah={Podcast:"podcastPlayer",DailyBriefing:"dailyBriefingPlayer"},Ji={Daily:vi,Podcast:"podcast"},bs={Skip:"skip",Rewind:"rewind",Play:"play",Pause:"pause",Next:"next",Previous:"previous",Playback:"playback",Mute:"mute",Unmute:"unmute",Expand:"expand",Collapse:"collapse"};function ea(e,t,n){fe({source:e,pageName:e===Ah.Podcast?Ji.Podcast:Ji.Daily,scenario:t,customData:n})}function T4(e){ const _hh$temp1152=e,t=_hh$temp1152.url,n=_hh$temp1152.podcastId,o=_hh$temp1152.schema,_hh$temp1152$includeTranscripts=_hh$temp1152.includeTranscripts,s=_hh$temp1152$includeTranscripts===void 0?!1:_hh$temp1152$includeTranscripts,a={...n&&{podcastId:n},includeTranscripts:String(!!s)}; return ut(t,o,{query:a}).then(r=>r.data)}function L1e(e,t,n,o,s,a){if(o&&n)return{url:`/sharing/podcasts/${n}`,schema:Du};if(a){if(!s&&!o)return null}else if(!e)return null;return t?{url:`/podcasts/${t}/${e}`,schema:Du}:{url:"/daily-briefing",podcastId:e,includeTranscripts:!o,schema:aw}}function D1e(){ const _hh$temp1153=ld({strict:!1}),e=_hh$temp1153.podcastId,t=_hh$temp1153.podcastType,n=_hh$temp1153.shareId,o=M(E4),s=e??o,a=gl(),r=!!e||a,c=N1e(),d=W("1s-dbrief-fetchall"),m=R1e(),p=q(w4),h=L1e(s,t,n,r,c,d),v=u.useCallback(()=>{if(!h)throw new Error("Media key is not defined");return T4(h);},[h]),_hh$temp1154=Fo({queryKey:["dailyBriefingMedia",s,r,n,t,c,d],enabled:!!h&&m,queryFn:v,staleTime:4e3}),y=_hh$temp1154.data,C=_hh$temp1154.isLoading,S=_hh$temp1154.error; u.useEffect(()=>{if(y&&r){const x=Du.parse(y);p(x.podcastId)}},[y,r,p]);const b=()=>r?t?`${Ji.Podcast}.${t}`:Ji.Podcast:Ji.Daily;if(y&&r){ const x=Du.parse(y),_hh$temp1155=x,E=_hh$temp1155.isAvailable,k=_hh$temp1155.podcastId,w=_hh$temp1155.chapters,_hh$temp1155$playback=_hh$temp1155.playback,_=_hh$temp1155$playback.positionInSeconds,N=_hh$temp1155$playback.chapterId,L=n?`/sharing/podcasts/${n}/Files`:`/podcasts/${t}/${k}/Files`,B=w.map(_hh$temp1156=>{var G=_hh$temp1156.id,te=_hh$temp1156.title,ne=_hh$temp1156.image,ae=_hh$temp1156.audio;return{id:G,title:te,image:{landscape:{...ne.landscape,url:`${L}/${ne.landscape.name}`},portrait:{...ne.portrait,url:`${L}/${ne.portrait.name}`}},audio:ae};}),F={isAvailable:E,podcastId:k,chapters:B.map(G=>({...G,audio:{default:{url:`${L}/${G.audio.name}`,duration:G.audio.duration,transcript:null}},transitionMusic:null,sources:[]})),playback:{position:_,chapterId:N}},K={...x,chapters:B}; return{data:F,podcastData:K,isPodcast:r,isLoading:C,error:S,pageImpressionKey:b()}}return{data:!r&&y?aw.parse(y):void 0,isPodcast:r,isLoading:C,error:S,pageImpressionKey:b()}}function w7e(){ const _hh$temp1157=Fo({queryKey:["dailyBriefingTopics"],queryFn:()=>T4({url:"/daily-briefing/topics",schema:sw})}),e=_hh$temp1157.data; return{data:e}}async function T7e(e,t){await Nt({path:"/daily-briefing/topics/unfollow",args:{body:{ids:t}}}),await Nt({path:"/daily-briefing/topics/follow",args:{body:{ids:e}}})}const O1e=1;function U1e(){ const e=si(),t=q(en),n=q(E4),_hh$temp1158=__arrayFrom$(Re(I4)),o=_hh$temp1158[0],s=_hh$temp1158[1],a=W("1s-dbrief-fetchall"),_hh$temp1159=t8({strict:!1}),r=_hh$temp1159.firstStoryId,c=_hh$temp1159.formCode,d=u.useCallback(async ()=>{await e({from:"/daily",to:"/discover"}),n(void 0),t(null);},[n,t,e]),m=u.useCallback(async v=>{if(c&&R.setFormCode(c),r){const y=v.split(",");if(y.length>=2){__set$(y,O1e,r);const C=y.join(",");n(C);}else n(v);}else n(v);s(0),t("daily-briefing-player"),await e({from:"/",to:"/daily",search:{firstStoryId:r,...(a&&v)&&{chapterIds:v}}});},[c,r,s,t,e,a,n]),p=u.useCallback(async ()=>{s(o),await e({from:"/daily",to:"/topic-selection"}),t(null);},[t,s,o,e]),h=u.useCallback(async ()=>{s(o),t("daily-briefing-player"),await e({from:"/topic-selection",to:"/daily"});},[o,s,t,e]); return{navigateToDailyBriefing:m,navigateToTopicSelection:p,exitDailyBriefing:d,returnToDailyBriefing:h,currentChapterIndex:o}}function F1e( _hh$temp1160 ){ var e=_hh$temp1160.media,t=_hh$temp1160.thresholds,n=_hh$temp1160.key; const o=u.useRef(0),s=u.useRef([]),a=u.useRef(new Set);return u.useEffect(()=>{s.current=t?.sort((r,c)=>r.seconds-c.seconds)??[]},[t]),u.useEffect(()=>{o.current=0,a.current=new Set;let r=null;if(!e)return()=>{};function c(){r=performance.now()}function d(v){if(r!==null){const y=(performance.now()-r)/1e3;o.current+=y,r=v?performance.now():null,h()}}function m(){d(!1)}function p(){d(!0)}const h=()=>{for(let v=0;v<s.current.length;v+=1){const y= __get$(s.current,v) ;y&&o.current>=y.seconds&&!a.current.has(v)&&(a.current.add(v),y.callback())}};return e.addEventListener("playing",c),e.addEventListener("pause",m),e.addEventListener("ended",m),e.addEventListener("timeupdate",p),()=>{e.removeEventListener("playing",c),e.removeEventListener("pause",m),e.removeEventListener("ended",m),e.removeEventListener("timeupdate",p)}},[e,n]),{totalTimePlayedRef:o}}function Qi(e){if(!e)return NaN;const t=e.split(":");if(t.length!==2)return NaN; const _hh$temp1161=__arrayFrom$(t),n=_hh$temp1161[0],o=_hh$temp1161[1],s=Number(n),a=Number(o); return s<0||a<0||a>=60?NaN:s*60+a}function j1e(e,t,n,o){return e===n.length-1&&t===o.length-1?1/0:t===o.length-1?Qi( __get$(n,e+1) ?.startTime):Qi( __get$(o,t+1) ?.startTime)}function B1e(e){let t=-1;return e.map((o,s,a)=>({...o,startTime:Qi(o.startTime),endTime:s<a.length-1?Qi( __get$(a,s+1) ?.startTime):1/0,words:o.words.map((r,c,d)=>(t+=1,{...r,startTime:Qi(r.startTime),endTime:j1e(s,c,a,d),index:t}))}))}function x4(e,t,n){return __get$({DailyBriefing:`${t}|${n}`,Podcast:t},e) }function Gb(e,t,n){const o=x4(e,t,n);o&&Nt({path:`/media/${e}/${o}/playback/completed`,args:{}}).catch(s=>{qw(s)})}function V1e(e,t,n,o){const s=x4(e,n,o);s&&Nt({path:`/media/${e}/${s}/playback`,args:{options:{method:"PATCH"},body:{positionInSeconds:t}}}).catch(a=>{qw(a)})}function Qp(e,t){const n=Object.keys(t);if(n.length!==0)return typeof e<"u"&&n.includes(e)? __get$(t,e) :Object.values(t)[0]}const H1e=5,z1e=5e3;function A4(e){ const _hh$temp1162=e??{},t=_hh$temp1162.onSeeked,_hh$temp1163=U1e(),n=_hh$temp1163.exitDailyBriefing,_hh$temp1164=D1e(),o=_hh$temp1164.data,s=_hh$temp1164.isPodcast,a=_hh$temp1164.pageImpressionKey,r=s?Ah.Podcast:Ah.DailyBriefing,c=M(w4),d=M(Xr),m=u.useMemo(()=>o?s?o.chapters.map(re=>[re.audio.default?.duration??0]):o.chapters.map(re=>{const He=[Qp(d,re.audio)?.duration??0];return re.transitionMusic&&He.push(re.transitionMusic.duration),He;}):[],[o,s,d]),_hh$temp1165=__arrayFrom$(Re(I4)),p=_hh$temp1165[0],h=_hh$temp1165[1],v=u.useRef(null),_hh$temp1166=__arrayFrom$(u.useState(!1)),y=_hh$temp1166[0],C=_hh$temp1166[1],S=p<m.length-1,b=p>0,I=u.useRef(performance.now()),x=u.useRef(performance.now()),E=u.useMemo(()=>__get$(o?.chapters,p,true)?.id?__get$(o.chapters,p).id:c&&__get$(c.split(","),p),[o?.chapters,p,c]),k=u.useMemo(()=>o?s?o.chapters.map(re=>[re.audio.default?.url??""]):o.chapters.map(re=>{const He=[Qp(d,re.audio)?.url??""];return re.transitionMusic&&He.push(re.transitionMusic.url),He;}):[],[o,d,s]),_hh$temp1167=__arrayFrom$(u.useState(0)),w=_hh$temp1167[0],_=_hh$temp1167[1],N=u.useRef(null),L=u.useRef(!1),B=u.useRef(p),F=u.useRef(null),_hh$temp1168=__arrayFrom$(u.useState([])),K=_hh$temp1168[0],G=_hh$temp1168[1],_hh$temp1169=__arrayFrom$(u.useState(null)),te=_hh$temp1169[0],ne=_hh$temp1169[1]; u.useEffect(()=>{if(!te)return;const re=()=>{N.current!==null&&(te.currentTime=N.current,N.current=null),L.current&&(te.pause(),L.current=!1)},He=()=>{if(F.current){const nt=Math.round(F.current.direction==="forward"?te.currentTime-F.current.position:F.current.position-te.currentTime);nt>0&&t?.({direction:F.current.direction,seconds:nt}),F.current=null}};return te.addEventListener("loadedmetadata",re),te.addEventListener("seeked",He),()=>{te.removeEventListener("loadedmetadata",re),te.removeEventListener("seeked",He)}},[te,t]); const ae=JSON.stringify({podcastId:c,eventInfo_chapterId:__get$(o?.chapters,p,true)?.id,eventInfo_chapterPlayDuration:performance.now()-I.current}),_hh$temp1170=__arrayFrom$(Re(BX)),Te=_hh$temp1170[0],he=_hh$temp1170[1],Ee=u.useCallback(()=>{he(re=>{const He=!re,nt=He?bs.Mute:bs.Unmute;return ea(r,nt,ae),He;});},[ae,r,he]); F1e({media:te,key:E,thresholds:[{seconds:H1e,callback:()=>{if(E&&!K.includes(E)){try{Nt({path:`/daily-briefing/${E}/viewed`,args:{analytics:{anonymousPath:"/daily-briefing/*/viewed"}}})}catch{}G([...K,E])}}}]}),u.useEffect(()=>{if(!te||!y)return;const re=setInterval(()=>{const He=te.currentTime;V1e("DailyBriefing",He,c,E)},z1e);return()=>{clearInterval(re)}},[te,y,E,c]);function Ae(){C(!0),v.current?.playAnimation(),te?.play(),ea(r,bs.Play,ae)}function Ue(){C(!1),v.current?.pauseAnimation(),te?.pause(),ea(r,bs.Pause,ae)}function Fe(re){if(te){const He=te.currentTime+re,nt=te.duration,ve= __get$(k,p) ??[];if(He>nt&&w<ve.length-1){const je=He-nt;N.current=Math.max(je,0),L.current=!y,_(w+1)}else F.current={direction:"forward",position:te.currentTime},te.currentTime=Math.min(He,nt);ea(r,bs.Skip,JSON.stringify({seconds:re}))}}function ke(re){if(te){const He=te.currentTime-re;if(He<0&&w>0){const ve=( __get$(__get$(m,p),w-1,true) ??0)+He;N.current=Math.max(ve,0),L.current=!y,_(w-1)}else F.current={direction:"back",position:te.currentTime},te.currentTime=Math.max(He,0);ea(r,bs.Rewind,JSON.stringify({seconds:re}))}}function Ve(){Gb("DailyBriefing",c,E),o?.chapters&&R.trackEvent({name:"system",data:{eventName:"chapterPlayDuration",eventInfo_podcastId:c,eventInfo_chapterIndex:p,eventInfo_isCompleted:p===o.chapters.length-1,eventInfo_publisherName: __get$(o.chapters,p) ?.sources?.map(re=>re.publisherName).join(","),eventInfo_impressionElement:a,eventInfo_customData:JSON.stringify({eventInfo_chapterId: __get$(o.chapters,p) ?.id,eventInfo_chapterPlayDuration:performance.now()-I.current})}})}function De(){Gb("Podcast",c),R.trackEvent({name:"system",data:{eventName:"podcastPlayDuration",eventInfo_isCompleted:!0,eventInfo_podcastId:c,eventInfo_podcastPlayDuration:performance.now()-x.current,eventInfo_impressionElement:a}})}const le=u.useCallback(()=>{te&&(te.currentTime=0)},[te]);function oe(re){Ve(),I.current=performance.now(),le(),Ke(-1),_(0),h(re)}function we(){S&&(oe(p+1),ea(r,bs.Next,ae))}function se(){b&&(oe(p-1),ea(r,bs.Previous,ae))}function z(re){te&&(te.playbackRate=re/100)}function Q(re){const nt=(ip.indexOf(re)+1)%ip.length;return  __get$(ip,nt) ??Uc}function me(){C(!0);const re= __get$(k,p) ??[];w<re.length-1?_(He=>He+1):re.length-1===w&&S?we():(We(),n())}function pe(){I.current=performance.now(),x.current=performance.now()}function We(){s?De():Ve()}const be=u.useMemo(()=>{if(s)return[];const re= __get$(o?.chapters,p,true) ;if(!re)return[];const He=Qp(d,re.audio);return B1e(He?.transcript??[])},[s,d,o?.chapters,p]),ge=u.useMemo(()=>be.flatMap(re=>re.words),[be]),Ne=u.useMemo(()=> __get$(m,p) ??[],[m,p]),Ke=q(VX);u.useEffect(()=>{B.current!==p&&(_(0),N.current=null,L.current=!1,le(),Ke(-1),I.current=performance.now(),B.current=p)},[p,le,Ke]);const Me=u.useCallback(re=>ge.find(nt=>re>=nt.startTime&&re<nt.endTime)?.index??-1,[ge]),Ye=u.useCallback(re=>{const He=re.currentTarget; let _hh$temp1171=He,nt=_hh$temp1171.currentTime; for(let je=0;je<w;je+=1){const it= __get$(Ne,je) ;it&&(nt+=it)}if(nt===0)return;const ve=Me(nt);Ke(ve)},[Ne,w,Me,Ke]);return u.useEffect(()=>{if(!(s||!te))return te.addEventListener("timeupdate",Ye),()=>{te.removeEventListener("timeupdate",Ye)}},[te,Ye,s]),{isPlaying:y,currentChapterId:E,currentChapterIndex:p,chapterDurations:m,currentChapterPartIndex:w,audioElement:te,setAudioElement:ne,audioChaptersProgressBarRef:v,currentChapterAudioSrc: __get$(__get$(k,p),w,true) ??"",isPlayerMuted:Te,currentChapterTranscript:be,play:o?Ae:void 0,pause:o?Ue:void 0,skipForward:o?re=>Fe(re):()=>{},skipBack:o?re=>ke(re):()=>{},goToNextChapter:S?we:void 0,goToPreviousChapter:b?se:void 0,getNextPlaybackSpeed:o?re=>Q(re):void 0,applyPlaybackRate:o?re=>z(re):()=>{},onChapterEnded:me,resetAllTimers:pe,trackPlayerEndEvents:We,togglePlayerMuted:Ee}}function G1e(){ const _hh$temp1172=A4(),e=_hh$temp1172.currentChapterId; return u.useMemo(()=>{if(e)return{type:"dailyBriefing",chapterId:e}},[e])}function _4(e){return e instanceof HTMLElement&&e.closest("dialog")!==null}function W1e( _hh$temp1173 ){ var e=_hh$temp1173.enabled,t=_hh$temp1173.onDraggedFileDrop,n=_hh$temp1173.ignoreIfOverDialog;  const _hh$temp1174=__arrayFrom$(u.useState(0)),o=_hh$temp1174[0],s=_hh$temp1174[1]; return u.useEffect(()=>{if(!e)return()=>{};const a=h=>n===!0&&_4(h.target),r=h=>{a(h)||(h.preventDefault(),s(v=>v+1))},c=h=>{a(h)||(h.preventDefault(),s(v=>Math.max(0,v-1)))},d=h=>{s(0),!a(h)&&(h.preventDefault(),t?.(h))},m=()=>{document.hidden&&s(0)},p=h=>{a(h)||h.preventDefault()};return window.addEventListener("dragenter",r,!0),window.addEventListener("dragleave",c,!0),window.addEventListener("drop",d,!0),document.addEventListener("visibilitychange",m),t&&window.addEventListener("dragover",p),()=>{window.removeEventListener("dragenter",r,!0),window.removeEventListener("dragleave",c,!0),window.removeEventListener("drop",d,!0),document.removeEventListener("visibilitychange",m),t&&window.removeEventListener("dragover",p)}},[e,t,n]),o>0}function k4(e){function t(n,o){return!n||o.length===0?null:P4(n.text,o.sort((s,a)=>s.position-a.position))}return e.map(n=>{if(n.author!=="ai"||!n.content.find(c=>c.type==="citation"))return n;let s=null,a=[];for(const c of n.content)if(c.type==="text"){const d=t(s,a);d&&s&&(s.text=d.text,s.citations=d.citationMetadata),a=[],s=c}else c.type==="citation"&&a.push(c);const r=t(s,a);return r&&s&&(s.text=r.text,s.citations=r.citationMetadata),n})}function P4(e,t){if(!t)return{text:e,citationMetadata:[]};let n=e;const o=[];let s=0;const a=new Map;for(const c of t){const d=c.url;if(!a.has(d)){s+=1;const m=`${s}`;a.set(d,m),o.push({index:m,title:c.title,url:c.url,iconUrl:c.iconUrl??null,publisher:c.publisher??null,snippet:c.snippet??null,label:c.label??null})}}const r=t.map((c,d)=>({citation:c,originalIndex:d})).sort((c,d)=>{const m=d.citation.position-c.citation.position;return m!==0?m:d.originalIndex-c.originalIndex}).map(c=>c.citation);for(const c of r){const d=c.url,m=a.get(d);m!==void 0&&(n=sX(n,f3(m,c.url),c.position))}return{text:n,citationMetadata:o}}function x7e(e){if(!e.some(r=>r.type==="citation"))return e;const n=e.map(r=>({...r}));let o=null,s=[];function a(){if(o===null||s.length===0)return;const r= __get$(n,o) ;if(r?.type!=="text")return; const _hh$temp1175=P4(r.text,s.sort((m,p)=>m.position-p.position)),c=_hh$temp1175.text,d=_hh$temp1175.citationMetadata; r.text=c,r.citations=d}for(let r=0;r<n.length;r+=1){const c= __get$(n,r) ;c?.type==="text"?(a(),s=[],o=r):c?.type==="citation"&&s.push(c)}return a(),n.filter(r=>r.type!=="citation")}function $1e(){ const e=N3(),_hh$temp1176=ld({strict:!1}),t=_hh$temp1176.conversationId,_hh$temp1177=Fo({queryKey:["sharePage",t],queryFn:()=>q1e(`/conversations/shares/${t}`),staleTime:1/0,enabled:e&&!!t}),n=_hh$temp1177.data,o=_hh$temp1177.error,s=_hh$temp1177.isLoading; return{data:n,error:o,isLoading:s}}async function q1e(e){ const _hh$temp1178=await ut(e,ZW,{parseOptions:{safe:!0},analytics:{anonymousPath:"/conversations/shares/*"}}),t=_hh$temp1178.data,n=_hh$temp1178.response; if(n.status>=400&&n.status<500)throw new K1e(n.status.toString());return{...t,messages:k4(t.messages.reverse())}}class K1e extends Error{}function Y1e(){ const e=N3(),_hh$temp1179=xo(),t=_hh$temp1179.isMediaViewerOpen,n=M(en),o=!rt("kill-share-continue"),_hh$temp1180=$1e(),s=_hh$temp1180.error; return e?s?!1:o||t||!!n:!0}function pv(){return cg("(hover: hover) and (pointer: fine)")}function Z1e(){const e=W("deep-research"),t=W("deep-research-nano"),n=kt(),o=M(Qd);return e&&(o||!1||!o&&n&&t)&&!Z.instance().config().disableDeepResearch}const M4=()=>{const e=M(Fr);return kt()&&e.length>0},J1e=()=>{const e=M4(),t=ok(),n=ak(),o=rk(),s=ik(),a=ck(),r=sk(),c=lk();return(t||n||o||s||a||r||c)&&e};function Tn(e){const t=nm(),n=hs(),o=Kt(),s=bce(),a=Z1e(),r=W("page-in-create-drawer"),c=W("onedrive-file-upload"),d=W("homework-helper"),m=W("practice-tests"),p=J1e();if(n)switch(e){case"image":case"voice":case"podcast":case"researchReport":case"quiz":case"actions":case"video":case"page":case"uploadFile":case"oneDriveFileUpload":case"homeworkHelper":case"practiceTest":case"connector":return!1;default:return e}if(!t)switch(e){case"researchReport":return a;case"actions":return s;case"page":return r;case"oneDriveFileUpload":return c;case"homeworkHelper":return o==="study"&&d;case"practiceTest":return m;case"connector":return p;case"quiz":case"image":case"voice":case"uploadFile":default:return!0}switch(e){case"uploadFile":case"image":return!0;case"connector":case"podcast":case"researchReport":case"quiz":case"actions":case"voice":case"page":case"oneDriveFileUpload":case"homeworkHelper":case"practiceTest":default:return!1}}const Q1e={h550:"550",h600:"600",h700:"700",h760:"760",h840:"840"};function fv(e){ const _hh$temp1181=e,t=_hh$temp1181.breakpoint,n=__get$(Q1e,t); return!cg(`(min-height: ${n}px)`)}const R4=P(),A7e=P(!1),_7e=P(!1),X1e=/\/(?:.*\/)?(ar|vi|gm)-([a-zA-Z0-9]{6,10})/,e0e="gemSnapshotKey";function t0e(){ const e=M(R4),_hh$temp1182=xo(),t=_hh$temp1182.contentPageType; return u.useMemo(()=>{if(!(!e||!t))try{const o=e.pathname.match(X1e)?.[2]??null;if(!o)return;switch(t){case"newsGem":{const s=e.searchParams.get(e0e);return s?{type:"newsGem",gemId:o,snapshotKey:s}:void 0}case"newsArticle":return{type:"news",articleId:o};default:return}}catch{return}},[e,t])}function n0e(e){u.useEffect(()=>{ const _hh$temp1183=window,t=_hh$temp1183.visualViewport; if(!YN()||!t)return;const n=()=>{e.current?.contains(document.activeElement)&&t.height<window.innerHeight&&e.current.scrollIntoView({behavior:"smooth",block:"end"})};return t.addEventListener("resize",n),()=>t.removeEventListener("resize",n)},[e])}const Wb=new Map;function o0e(){ const _hh$temp1184=pi(),e=_hh$temp1184.createConversation,t=M(p1),_hh$temp1185=__arrayFrom$(Re(Se)),n=_hh$temp1185[0],o=_hh$temp1185[1],s=M(R4); return{switchMsnConversation:u.useCallback(async()=>{if(!s||!n)return;const r=s.toString();let c=Wb.get(r);if(!c){c=t,n!==t&&(c=await e({shouldNavigateToChat:!1})),c&&(o(c),Wb.set(r,c));return}c!==n&&ol({id:c,shouldNavigateToChat:!1})},[s,n,t,e,o])}}function s0e(){const e=Kt(),t=R0();return e==="coco"&&!t}function N4(e,t,n){const o=_e();return new Promise((s,a)=>{let r=null;t(o.get(e))&&s(o.get(e));const c=o.sub(e,()=>{const m=o.get(e);t(m)&&(c(),s(m))}),d=()=>{c(),r&&clearTimeout(r)};n&&(r=setTimeout(()=>{d(),a(new Error("Timeout waiting for atom to be ready"))},n))})}function a0e(e){return e.some(t=>t.author==="human"&&t.content.some(n=>n.type==="image"||n.type==="document"))}function k7e(e){const t=e.filter(n=>n.author==="human");if(t.length===1){const n=t[0]?.content.find(o=>o.type==="image"||o.type==="document")?.type;return n==="image"?"image":n==="document"?"file":void 0}return a0e(e)?"image|file":void 0}function r0e(e){const n=new URL(e).pathname.split("/").filter(Boolean);return  __get$(n,n.length-1) ??null}async function $b(){Ose();const e=_e(),t=r0e( __get$(__get$(window,"location"),"href") );let n;e.set(zf,!0);try{ const o=await i0e(`/conversations/shares/${t}/continue`),_hh$temp1186=o.conversation,s=_hh$temp1186.id,a=_hh$temp1186.title; n=s;const r=new Date().toISOString(),c={id:s,updatedAt:r,isNew:!1,title:a,history:[],continuedAt:r,group:null};e.set(gt,d=>{const m=new Map(d);return m.set(s,c),m}),e.set(Se,s),await l0e(s)}catch(o){throw Jo({title:st.t("composer.errors.continue.title"),message:st.t("composer.errors.continue.message")}),Use({shareId:t??"",conversationId:n,error:o instanceof Error?o:new Error(String(o))}),o}finally{e.set(zf,!1)}}async function i0e(e){return(await ut(e,MW,{options:{method:"POST"}})).data}const c0e=1e4;async function l0e(e){await N4(gt,t=>(t.get(e)?.history??[]).length>0,c0e)}function u0e(e,t,n){if(!e||!t)return!1;const o=e.getTime(),s=t.getTime(),a=n?n.getTime():null;return s<=o||a===null?!1:a<=o}function _h(e,t){const n=Ro(e),o=Ro(t);return n.getTime()>o.getTime()}function Cc(e,t){return Nc(e,-t)}const d0e=11,m0e=7,p0e=2,f0e=10,h0e=21,g0e=21,v0e=10,qb=f({daysActive:T(Ca())}),kh=f({result:H(["dismissed","positive","negative"]),date:Ca(),dismissCounter:A()});function y0e(e){const t=new Date;let n=e;return e.some(o=>di(o,t))||(n=[...e,t]),n.length>v0e?n.slice(-10):n}function C0e(){const t=Ht(oC,qb)?.daysActive??[],n=y0e(t),o=Cc(new Date,m0e),s=n.filter(a=>_h(a,o)||di(a,o)).length;return n!==t&&No(oC,qb,{daysActive:n}),s}function S0e(){const e=Ht(bf,kh);if(!e)return!1;const t=e.result==="positive",n=e.result==="negative"&&_h(e.date,Cc(new Date,g0e)),o=e.result==="dismissed"&&_h(e.date,Cc(new Date,e.dismissCounter>5?h0e:f0e));return t||n||o}function b0e(e,t){let n="popUpDismiss";t==="negative"?n="appThumbDown":t==="positive"&&(n="appThumbUp"),nn({source:n,conversationId:e});const o=Ht(bf,kh),s=o?.result==="dismissed"?o.dismissCounter:0,a={result:t,date:new Date,dismissCounter:t==="dismissed"?s+1:0};No(bf,kh,a)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n= __get$(arguments,t) ;for(var o in n)({}).hasOwnProperty.call(n,o)&&( __set$(e,o,__get$(n,o)) )}return e},Ph.apply(null,arguments)}function I0e(e,t){if(e==null)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.indexOf(o)!==-1)continue; __set$(n,o,__get$(e,o)) }return n}var E0e=u.useLayoutEffect,w0e=function(t){var n=af.useRef(t);return E0e(function(){n.current=t}),n},Kb=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},T0e=function(t,n){var o=af.useRef();return af.useCallback(function(s){t.current=s,o.current&&Kb(o.current,null),o.current=n,n&&Kb(n,s)},[n])},Yb={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},x0e=function(t){Object.keys(Yb).forEach(function(n){t.style.setProperty(n, __get$(Yb,n) ,"important")})},Zb=x0e,pn=null,Jb=function(t,n){var o=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?o+n.borderSize:o-n.paddingSize};function A0e(e,t,n,o){n===void 0&&(n=1),o===void 0&&(o=1/0),pn||(pn=document.createElement("textarea"),pn.setAttribute("tabindex","-1"),pn.setAttribute("aria-hidden","true"),Zb(pn)),pn.parentNode===null&&document.body.appendChild(pn);var s=e.paddingSize,a=e.borderSize,r=e.sizingStyle,c=r.boxSizing;Object.keys(r).forEach(function(v){var y=v; __set$(pn.style,y,__get$(r,y)) }),Zb(pn),pn.value=t;var d=Jb(pn,e);pn.value=t,d=Jb(pn,e),pn.value="x";var m=pn.scrollHeight-s,p=m*n;c==="border-box"&&(p=p+s+a),d=Math.max(p,d);var h=m*o;return c==="border-box"&&(h=h+s+a),d=Math.min(h,d),[d,m]}var Qb=function(){},_0e=function(t,n){return t.reduce(function(o,s){return  __set$(o,s,__get$(n,s)) ,o},{})},k0e=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],P0e=!!document.documentElement.currentStyle,M0e=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var o=_0e(k0e,n),s=o.boxSizing;if(s==="")return null;P0e&&s==="border-box"&&(o.width=parseFloat(o.width)+parseFloat(o.borderRightWidth)+parseFloat(o.borderLeftWidth)+parseFloat(o.paddingRight)+parseFloat(o.paddingLeft)+"px");var a=parseFloat(o.paddingBottom)+parseFloat(o.paddingTop),r=parseFloat(o.borderBottomWidth)+parseFloat(o.borderTopWidth);return{sizingStyle:o,paddingSize:a,borderSize:r}},R0e=M0e;function hv(e,t,n){var o=w0e(n);u.useLayoutEffect(function(){var s=function(r){return o.current(r)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var N0e=function(t,n){hv(document.body,"reset",function(o){t.current.form===o.target&&n(o)})},L0e=function(t){hv(window,"resize",t)},D0e=function(t){hv(document.fonts,"loadingdone",t)},O0e=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],U0e=function(t,n){var o=t.cacheMeasurements,s=t.maxRows,a=t.minRows,r=t.onChange,c=r===void 0?Qb:r,d=t.onHeightChange,m=d===void 0?Qb:d,p=I0e(t,O0e),h=p.value!==void 0,v=u.useRef(null),y=T0e(v,n),C=u.useRef(0),S=u.useRef(),b=function(){var E=v.current,k=o&&S.current?S.current:R0e(E);if(k){S.current=k;var w=A0e(k,E.value||E.placeholder||"x",a,s),_=w[0],N=w[1];C.current!==_&&(C.current=_,E.style.setProperty("height",_+"px","important"),m(_,{rowHeight:N}))}},I=function(E){h||b(),c(E)};return u.useLayoutEffect(b),N0e(v,function(){if(!h){var x=v.current.value;requestAnimationFrame(function(){var E=v.current;E&&x!==E.value&&b()})}}),L0e(b),D0e(b),u.createElement("textarea",Ph({},p,{onChange:I,ref:y}))},F0e=u.forwardRef(U0e);function j0e(e,t){const n=u.useRef(null);u.useEffect(()=>{const o=e?.current;if(!o)return;const s=r=>{const c=o.selectionStart,d=o.selectionEnd;if(c!==d&&r.key!=="Backspace"&&r.key!=="Delete")n.current={type:"replace",char:r.key,index:c};else if(r.key==="Backspace"&&c>0){const p= __get$(o.value,c-1) ;p!==void 0&&(n.current={char:p,index:c-1,type:"delete"})}else if(r.key==="Delete"&&c<o.value.length){const p= __get$(o.value,c) ;p!==void 0&&(n.current={char:p,index:c,type:"delete"})}else n.current=null},a=()=>{t&&t(n.current),n.current=null};return o.addEventListener("keydown",s),o.addEventListener("input",a),()=>{o.removeEventListener("keydown",s),o.removeEventListener("input",a)}},[e,t])}const Mh="@",B0e=new RegExp(`${Mh}([^${Mh}]*)`,"g");function V0e(e,t){return[...e.slice(0,t).matchAll(B0e)].map(o=>({keyword:o[1],start:o.index,end:o.index+o[0].length}))}function H0e(e,t){const n=V0e(e,t);if(n.length===0)return;const o= __get$(n,n.length-1) ;return o?.end===t?o:void 0}function z0e(e){ const _hh$temp1187=e,t=_hh$temp1187.className,n=_hh$temp1187.textAreaRef,o=_hh$temp1187.onMentionChange,s=_hh$temp1187.textAreaValue,a=_hh$temp1187.onCancelMention,r=_hh$temp1187.hideMentionPlaceholder,_hh$temp1188=__arrayFrom$(u.useState(void 0)),c=_hh$temp1188[0],d=_hh$temp1188[1],_hh$temp1189=Y(),m=_hh$temp1189.t,p=u.useRef(!1),h=u.useRef(o),v=u.useRef(null),y=u.useRef(new Set()),C=u.useCallback(E=>{((E&&E.char===Mh)&&E.type!=="insert")&&y.current.delete(E.index);},[]),S=u.useCallback(()=>{d(void 0),v.current=null;},[d]); j0e(n,C),u.useEffect(()=>{h.current=o},[o]);const b=u.useCallback(()=>{const E=n?.current;if(!E)return;const k=E.selectionStart,w=E.selectionEnd;if(k===w){const _=H0e(s,k);_?y.current.has(_.start)?S():(v.current=_,d(N=>N!==_.keyword?_.keyword:N)):S()}},[S,n,s]),I=u.useCallback((E="remove")=>{const k=v.current;if(!k)return;if(E==="ignore"){y.current.add(k.start),h.current?.({isTrigger:!1}),d(void 0);return}const w=s.slice(0,k.start),_=s.slice(k.end),N=w+_;v.current=null,h.current?.({isTrigger:!1}),a?.(N)},[a,s]);u.useEffect(()=>{s===""?(S(),y.current.clear()):b()},[b,s,d,S]),u.useEffect(()=>{if(!p.current){p.current=!0;return}c!==void 0?h.current?.({isTrigger:!0,keyword:c}):h.current?.({isTrigger:!1})},[c,h]),u.useEffect(()=>(Ie.on("mention:cancel",I),()=>{Ie.off("mention:cancel",I)}),[I]);const x=c===""&&!r;return i.jsxs("div",{className:O("pointer-events-none absolute z-0 overflow-auto contrast-more:-z-10 contrast-less:-z-10 forced-colors:-z-10",t),"aria-hidden":"true",children:[i.jsx("span",{className:"invisible select-none whitespace-pre-wrap break-words",children:s}),x&&i.jsx("span",{className:"text-foreground-550 dark:text-foreground-600",children:m("userInput.mentionPlaceholderText")})]})}function G0e(e,t){const n=u.useCallback(async o=>{o.key==="Enter"&&!o.shiftKey&&!t&&await e(o)},[e,t]);er(n)}function W0e(e,t,n){const o=u.useRef(!1),s=u.useCallback(()=>{o.current=!0},[]),a=u.useCallback(()=>{setTimeout(()=>{o.current=!1},100)},[]);return G0e(async r=>{e.current?.contains(document.activeElement)&&!o.current&&(r.preventDefault(),await t())},n),{handleCompositionStart:s,handleCompositionEnd:a}}function Rh(e){return  __get$(Z.instance().config().styleOverrides?.typography,e,true) }function ed(e){return  __get$(Z.instance().config().styleOverrides?.padding,e,true) }const $0e="pointer-events-none cursor-not-allowed select-none shadow-none",q0e="opacity-40",K0e=.25,gv=u.forwardRef((e,t)=>{ const _hh$temp1190=Y(),n=_hh$temp1190.t,_hh$temp1191=e,o=_hh$temp1191.inputValue,s=_hh$temp1191.errorMessage,a=_hh$temp1191.className,r=_hh$temp1191.inputBoxClassName,c=_hh$temp1191.characterLimit,d=_hh$temp1191.characterLimitErrorMessage,m=_hh$temp1191.disabled,_hh$temp1191$placeholder=_hh$temp1191.placeholder,p=_hh$temp1191$placeholder===void 0?n("userInput.placeholderText"):_hh$temp1191$placeholder,_hh$temp1191$autoFocus=_hh$temp1191.autoFocus,h=_hh$temp1191$autoFocus===void 0?!0:_hh$temp1191$autoFocus,_hh$temp1191$noDesktopAutoFocus=_hh$temp1191.noDesktopAutoFocus,v=_hh$temp1191$noDesktopAutoFocus===void 0?!1:_hh$temp1191$noDesktopAutoFocus,y=_hh$temp1191.testId,C=_hh$temp1191.setInput,S=_hh$temp1191.setError,b=_hh$temp1191.onBlur,I=_hh$temp1191.onTextChange,x=_hh$temp1191.onSelect,E=_hh$temp1191.onFocus,k=_hh$temp1191.onClick,w=_hh$temp1191.onEnter,_=_hh$temp1191.onKeyDown,N=_hh$temp1191.onPaste,L=_hh$temp1191.onMentionIfEnabled,B=_hh$temp1191.hideMentionPlaceholder,F=_hh$temp1191.rightButtons,K=_hh$temp1191.isMultiLines,G=_hh$temp1191["aria-autocomplete"],te=_hh$temp1191["aria-controls"],ne=_hh$temp1191.disabledClassName,ae=_hh$temp1191.inputContainerClassName,Te=ln(),he=u.useRef(null),Ee=u.useRef(null),Ae=pv()||Z.instance().config().enterKeyButtonEnabled,Ue=n("userInput.characterLimitText",{maxCharacters:c.toString()}); u.useEffect(()=>{Ae&&!v&&Ee.current?.focus()},[Te,Ae,v]);const Fe=u.useCallback(le=>{ const _hh$temp1192=le.target,oe=_hh$temp1192.value; C(oe),I&&I(le),oe.length>c?S(d??Ue):S(null)},[C,I,c,S,d,Ue]);u.useImperativeHandle(t,()=>({updateInputValue:le=>{const oe=le(o);C(oe)},focus:()=>{Ee.current?.focus()},blur:()=>{Ee.current?.blur()},contains:le=>Ee.current?.contains(le)??!1,updateSelectionRange:(le,oe)=>{Ee.current?.setSelectionRange(le,oe)},getTextAreaRef(){return Ee}}),[o,C]),er(le=>{le.key==="Escape"&&he.current?.contains(document.activeElement)&&Ee.current?.blur(),_?.(le)}); const _hh$temp1193=W0e(he,w,!Ae),ke=_hh$temp1193.handleCompositionStart,Ve=_hh$temp1193.handleCompositionEnd,De=m?ne??q0e:""; return i.jsxs(Ce.div,{className:O("flex grow items-end",m&&$0e,De,a),onClick:()=>{k?.(),Ee.current?.focus()},ref:he,onBlur:le=>b?.(le),layout:"preserve-aspect",children:[i.jsx(Ce.div,{className:"relative grow overflow-hidden",layout:!0,children:i.jsx(Ce.div,{className:"relative flex size-full cursor-text overflow-hidden text-black dark:text-white",layout:!0,children:i.jsxs(Ce.div,{className:"flex grow flex-col gap-4 py-user-input",layout:!0,transition:{duration:0},children:[i.jsx("div",{className:O("t-custom-scrollbar scrollbar-stable overflow-y-auto px-4",Z.instance().config().showScrollbarOnHover?"scrollbar-container":"",ae),children:i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:O(["invisible block h-0 w-0 overflow-hidden",{"whitespace-nowrap":!K}]),htmlFor:"userInput",children:p}),i.jsx(F0e,{className:O("font-ligatures-none inline-block h-user-input w-full resize-none overflow-y-hidden whitespace-pre-wrap bg-transparent align-top text-black outline-none placeholder:text-foreground-450 dark:text-white dark:placeholder:text-foreground-600/90",Rh("composer")??"text-base-dense",ed("composerVertical"),r),disabled:m,placeholder:p,ref:Ee,id:Kr,role:"textbox","aria-autocomplete":G,"aria-controls":te,spellCheck:!1,value:o,enterKeyHint:"enter",onChange:Fe,onSelect:x,onFocus:()=>{E?.(o)},onCompositionStart:ke,onCompositionEnd:Ve,onPaste:N,autoFocus:h,"data-testid":y}),L&&i.jsx(z0e,{className:O("font-ligatures-none inline-block min-h-user-input w-full resize-none overflow-y-hidden whitespace-pre-wrap bg-transparent align-top text-black outline-none placeholder:text-foreground-450 dark:text-white dark:placeholder:text-foreground-600",Rh("composer")??"text-base",ed("composerVertical"),"inset-0"),textAreaRef:Ee,textAreaValue:o,onMentionChange:L,hideMentionPlaceholder:B,onCancelMention:le=>{C(le),S(null)}})]})}),s&&i.jsx("div",{className:"flex min-h-6 select-none items-center px-4 text-foreground-600 text-sm",children:s})]})})}),i.jsx(Ce.div,{className:O("relative bottom-0 my-1.5 flex h-9 items-center",F?.length?"mx-1.5 w-auto gap-1":"w-0"),children:F?.map((le,oe)=>i.jsx(bt,{children:i.jsx(Ce.div,{initial:Be,animate:{...ct,transition:{delay:K0e}},transition:{duration:eo.default},children:le})},oe))})]})});gv.displayName="UserInput";const Y0e= _hh$temp1194=>{var e=_hh$temp1194.title,t=_hh$temp1194.titleId,n=__rest$Object(_hh$temp1194,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M12 8V2H6C4.89543 2 4 2.89543 4 4V20C4 21.1046 4.89543 22 6 22H18C19.1046 22 20 21.1046 20 20V10H14C12.8954 10 12 9.10457 12 8ZM8.25 11.5H15.75C16.1642 11.5 16.5 11.8358 16.5 12.25C16.5 12.6642 16.1642 13 15.75 13H8.25C7.83579 13 7.5 12.6642 7.5 12.25C7.5 11.8358 7.83579 11.5 8.25 11.5ZM8.25 14.25H15.75C16.1642 14.25 16.5 14.5858 16.5 15C16.5 15.4142 16.1642 15.75 15.75 15.75H8.25C7.83579 15.75 7.5 15.4142 7.5 15C7.5 14.5858 7.83579 14.25 8.25 14.25ZM8.25 17H15.75C16.1642 17 16.5 17.3358 16.5 17.75C16.5 18.1642 16.1642 18.5 15.75 18.5H8.25C7.83579 18.5 7.5 18.1642 7.5 17.75C7.5 17.3358 7.83579 17 8.25 17ZM13.5 8V2.5L19.5 8.5H14C13.7239 8.5 13.5 8.27614 13.5 8Z"}));} ,Z0e= _hh$temp1195=>{var e=_hh$temp1195.title,t=_hh$temp1195.titleId,n=__rest$Object(_hh$temp1195,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M12 2V8C12 9.10457 12.8954 10 14 10H20V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4C4 2.89543 4.89543 2 6 2H12ZM13.5 2.5V8C13.5 8.27614 13.7239 8.5 14 8.5H19.5L13.5 2.5Z"}));} ,J0e="/static/cmc/assets/pdf-CBlMXyWV.svg",Q0e= _hh$temp1196=>{var e=_hh$temp1196.title,t=_hh$temp1196.titleId,n=__rest$Object(_hh$temp1196,["title","titleId"]);return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M3 2.5C3 2.22386 3.22386 2 3.5 2H11.5C11.7761 2 12 2.22386 12 2.5V4.5C12 4.77614 11.7761 5 11.5 5C11.2238 5 11 4.77614 11 4.5V3H7.99997L7.99998 13H9C9.27614 13 9.5 13.2239 9.5 13.5C9.5 13.7761 9.27614 14 9 14H6C5.72386 14 5.5 13.7761 5.5 13.5C5.5 13.2239 5.72386 13 6 13H6.99998L6.99997 3H4V4.5C4 4.77614 3.77614 5 3.5 5C3.22386 5 3 4.77614 3 4.5V2.5Z",fill:"currentColor"}));} ;function X0e(e){ const _hh$temp1197=e,t=_hh$temp1197.fileType,n=_hh$temp1197.className; switch(t){case"application/pdf":return i.jsx(pt,{url:J0e,className:n});case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/msword":return i.jsx(Y0e,{className:n});case"text/plain":return i.jsx(Q0e,{className:n});case"application/json":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":case"application/vnd.ms-excel":case"application/vnd.openxmlformats-officedocument.presentationml.presentation":case"application/vnd.ms-powerpoint":case"text/csv":case"text/markdown":default:return i.jsx(Z0e,{className:n})}}const eve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-code-32-Cg76bsZ3.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([560,1]))),tve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-csv-32-Dj33eixE.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([561,1]))),nve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-dotx-32-CjSZxTbe.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([562,1]))),ove=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-excel-32-BH_sfT7Q.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([563,1]))),sve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-generic-32-Df19HED7.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([564,1]))),ave=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-html-32-BFS-Oe1f.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([565,1]))),rve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-onenote-32-BqCW8N6s.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([566,1]))),ive=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-pdf-32-SfwH3FEa.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([567,1]))),cve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-photo-32-23Dls2yS.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([568,1]))),lve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-potx-32-DHqZ9Ls_.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([569,1]))),uve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-ppsx-32-B732juiz.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([570,1]))),dve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-ppt-32-D0mfgCKu.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([571,1]))),mve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-project-32-Dp_Ebvu2.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([572,1]))),pve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-rtf-32-RkzJ2vTq.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([573,1]))),fve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-toc-32-BXvqwuiG.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([574,1]))),hve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-txt-32-F-fV3-rh.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([575,1]))),gve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-word-32-B7SS0owB.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([576,1]))),vve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-xltx-32-D5SMBiZo.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([577,1]))),yve=u.lazy(()=>D(()=>import( __get$ProxyUrl("./document-xml-32-Ch2vnlXo.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([578,1])));function Cve(e){ const _hh$temp1198=e,t=_hh$temp1198.fileType,n=_hh$temp1198.className; switch(t){case"application/pdf":return i.jsx(ive,{className:n});case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/msword":case"application/vnd.ms-word.document.macroEnabled.12":case"application/vnd.google-apps.document":return i.jsx(gve,{className:n});case"application/vnd.openxmlformats-officedocument.wordprocessingml.template":case"application/vnd.ms-word.template.macroEnabled.12":return i.jsx(nve,{className:n});case"text/plain":return i.jsx(hve,{className:n});case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":case"application/vnd.ms-excel":case"application/vnd.ms-excel.sheet.binary.macroEnabled.12":case"application/vnd.ms-excel.sheet.macroEnabled.12":case"application/vnd.google-apps.spreadsheet":return i.jsx(ove,{className:n});case"application/vnd.openxmlformats-officedocument.spreadsheetml.template":case"application/vnd.ms-excel.template.macroEnabled.12":return i.jsx(vve,{className:n});case"text/csv":return i.jsx(tve,{className:n});case"application/vnd.openxmlformats-officedocument.presentationml.presentation":case"application/vnd.ms-powerpoint":case"application/vnd.ms-powerpoint.presentation.macroEnabled.12":case"application/vnd.google-apps.presentation":return i.jsx(dve,{className:n});case"application/vnd.openxmlformats-officedocument.presentationml.template":case"application/vnd.ms-powerpoint.template.macroEnabled.12":return i.jsx(lve,{className:n});case"application/vnd.openxmlformats-officedocument.presentationml.slideshow":case"application/vnd.ms-powerpoint.slideshow.macroEnabled.12":return i.jsx(uve,{className:n});case"application/json":case"text/markdown":case"image/svg+xml":case"application/xml":case"application/x-sql":case"text/javascript":case"text/css":return i.jsx(eve,{className:n});case"application/onenote":return i.jsx(rve,{className:n});case"application/rtf":return i.jsx(pve,{className:n});case"application/msonenote":return i.jsx(fve,{className:n});case"text/html":return i.jsx(ave,{className:n});case"text/xml":return i.jsx(yve,{className:n});case"application/vnd.ms-project":return i.jsx(mve,{className:n});case"image/png":case"image/jpeg":return i.jsx(cve,{className:n});default:return i.jsx(sve,{className:n})}}function Sve(e){ const _hh$temp1199=e,t=_hh$temp1199.fileType,n=_hh$temp1199.className; return i.jsx(u.Suspense,{fallback:i.jsx("svg",{className:n}),children:i.jsx(Cve,{fileType:t,className:n})})}function bve(e){switch(e){case"application/pdf":return"bg-system-red-350";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/msword":return"bg-midnight-300";case"text/plain":return"bg-spot-blue-300";case"application/json":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":case"application/vnd.ms-excel":case"application/vnd.openxmlformats-officedocument.presentationml.presentation":case"application/vnd.ms-powerpoint":case"text/csv":case"text/markdown":default:return"bg-neutral-300"}}function Ive(e){ const _hh$temp1200=Y(),t=_hh$temp1200.t; switch(e){case"application/pdf":return t("fileUpload.fileTypeDisplayPdf");case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/msword":return t("fileUpload.fileTypeDisplayDoc");case"text/plain":return t("fileUpload.fileTypeDisplayTxt");case"application/json":return t("fileUpload.fileTypeDisplayJson");case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":case"application/vnd.ms-excel":return t("fileUpload.fileTypeDisplayXlsx");case"application/vnd.openxmlformats-officedocument.presentationml.presentation":case"application/vnd.ms-powerpoint":return t("fileUpload.fileTypeDisplayPptx");case"text/csv":return t("fileUpload.fileTypeDisplayCsv");case"text/markdown":return t("fileUpload.fileTypeDisplayMarkdown");case"image/jpeg":return t("fileUpload.fileTypeDisplayJpeg");case"image/png":return t("fileUpload.fileTypeDisplayPng");case"image/webp":return t("fileUpload.fileTypeDisplayWebp");case"image/tiff":return t("fileUpload.fileTypeDisplayTiff");default:return t("fileUpload.fileTypeDisplayDefault")}}const L4="absolute end-0.5 top-0.5 m-1 border border-black/20 bg-acrylic-thin-fallback-light/60 fill-black text-foreground-900 dark:bg-midnight-800/80 forced-colors:[forced-color-adjust:none] forced-colors:focus-visible:shadow-[inset_0_0_0_2px_Canvas] forced-colors:focus-visible:outline forced-colors:focus-visible:outline-1 forced-colors:focus-visible:outline-[CanvasText]",D4="forced-colors:focus-visible:shadow-[inset_0_0_0_2px_Canvas] forced-colors:focus-visible:outline forced-colors:focus-visible:outline-1 forced-colors:focus-visible:outline-[CanvasText]",Eve=u.lazy(()=>D(()=>Promise.resolve().then(()=>E_),void 0));function O4(e){ const _hh$temp1201=e,t=_hh$temp1201.onRemove,n=_hh$temp1201.fileName,o=_hh$temp1201.fileType,s=_hh$temp1201.isUploading,a=_hh$temp1201.role,r=_hh$temp1201.ariaLabel,_hh$temp1201$layout=_hh$temp1201.layout,c=_hh$temp1201$layout===void 0?"grid":_hh$temp1201$layout,d=_hh$temp1201.index,m=_hh$temp1201.total,_hh$temp1202=Y(),p=_hh$temp1202.t,h=bve(o),v=Ive(o),y=c==="list",C=u.useCallback(()=>{(t?.()),Qn({msg:p("fileUpload.fileRemoved")});},[t,p]),S=W("file-upload-card-v2"),b=!!Z.instance().config().composer?.smallAttachmentCard||S,I=i.jsx(Dt,{className:O("absolute inset-0 grid place-items-center ",{"bg-white/80 dark:bg-white/45":!y,"bg-transparent":y}),children:s?i.jsxs(i.Fragment,{children:[i.jsx(u.Suspense,{fallback:i.jsx("div",{"aria-hidden":!0}),children:i.jsx(Eve,{type:"spinnerThemed",className:y?"size-8":"size-11"})}),i.jsx(po,{msg:p("fileUpload.uploadingFile"),type:"polite"})]}):null}); return i.jsxs(Ce.div,{className:Je("relative flex justify-center gap-2 overflow-hidden rounded-xl",{"mt-1 h-small-attachment w-auto flex-row items-center pe-8":b,"h-32 w-44 flex-col":!b,"w-full bg-transparent !pe-0":y,"border border-black/8 bg-acrylic-thin-fallback-light/60 p-3 dark:border-white/8 dark:bg-midnight-800/80 sm:w-56":!y}),layout:"position",initial:Be,animate:ct,exit:Be,role:a,"aria-label":r,children:[S?i.jsx("div",{className:O("relative",{"h-8 w-8":b&&y}),children:y&&s?I:i.jsx(Sve,{fileType:o,className:"size-8"})}):i.jsx("div",{className:Je("grid aspect-square size-8 place-items-center self-start rounded-full text-black",h),children:i.jsx(X0e,{fileType:o,className:"size-5"})}),i.jsxs("div",{className:Je({"min-w-0 flex-1":b}),children:[i.jsx("p",{className:Je("font-ligatures-none truncate text-sm",{"overflow-hidden whitespace-nowrap":b}),children:n}),i.jsx("p",{className:"line-clamp-1 text-foreground-600 text-xs",children:v})]}),t&&!s&&i.jsx("button",{type:"button",title:p("fileUpload.removeFileWithName",{name:n}),"aria-label":d!==void 0&&m!==void 0?p("fileUpload.removeFileWithPosition",{name:n,index:d,total:m}):p("fileUpload.removeFileWithName",{name:n}),onClick:C,className:O("rounded-full p-1",{[L4]:!y,[D4]:y}),children:i.jsx(sn,{className:"size-3","aria-hidden":!0})}),y?null:I]})}const wve=( _hh$temp1203 )=>{ var e=_hh$temp1203.title,t=_hh$temp1203.titleId,n=__rest$Object(_hh$temp1203,["title","titleId"]);  const _hh$temp1204=__arrayFrom$(u.useState("")),o=_hh$temp1204[0],s=_hh$temp1204[1]; return u.useEffect(()=>{s(Math.random().toString(36).slice(2,10))},[]),u.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M3.556 6.708C3.556 4.989 4.949 3.596 6.667 3.596H22.222C25.659 3.596 28.444 6.382 28.444 9.818V25.374C28.444 27.092 27.052 28.485 25.333 28.485H9.778C6.341 28.485 3.556 25.699 3.556 22.263V6.708Z",fill:`url(#${o}-paint0_linear_393_48941)`}),u.createElement("path",{d:"M4.444 6.708C4.444 5.480 5.439 4.485 6.667 4.485H22.222C25.168 4.485 27.556 6.873 27.556 9.818V25.374C27.556 26.602 26.561 27.596 25.333 27.596H9.778C6.832 27.596 4.444 25.208 4.444 22.263V6.708Z",fill:`url(#${o}-paint1_linear_393_48941)`}),u.createElement("path",{d:"M4.444 6.708C4.444 5.480 5.439 4.485 6.667 4.485H22.222C25.168 4.485 27.556 6.873 27.556 9.818V25.374C27.556 26.602 26.561 27.596 25.333 27.596H9.778C6.832 27.596 4.444 25.208 4.444 22.263V6.708Z",fill:`url(#${o}-paint2_radial_393_48941)`}),u.createElement("path",{d:"M14.900 15.109L9.514 20.497C8.534 21.477 9.228 23.152 10.614 23.152H21.389C22.774 23.152 23.468 21.477 22.488 20.497L17.100 15.109C16.493 14.502 15.507 14.502 14.900 15.109Z",fill:`url(#${o}-paint3_linear_393_48941)`}),u.createElement("circle",{cx:20.889,cy:11.152,r:2.222,fill:`url(#${o}-paint4_linear_393_48941)`}),u.createElement("defs",null,u.createElement("linearGradient",{id:o+"-paint0_linear_393_48941",x1:11.593,y1:3.596,x2:14.944,y2:28.729,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#BBBBBB"}),u.createElement("stop",{offset:1,stopColor:"#888888"})),u.createElement("linearGradient",{id:o+"-paint1_linear_393_48941",x1:10.864,y1:4.485,x2:13.787,y2:27.873,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"white"}),u.createElement("stop",{offset:1,stopColor:"#EBEBEB"})),u.createElement("radialGradient",{id:o+"-paint2_radial_393_48941",cx:0,cy:0,r:1,gradientTransform:"matrix(12.198 18.296 -18.296 6.861 11.827 10.504)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{offset:.177083,stopColor:"white"}),u.createElement("stop",{offset:1,stopColor:"#EFEFEF"})),u.createElement("linearGradient",{id:o+"-paint3_linear_393_48941",x1:8.935,y1:11.488,x2:15.591,y2:29.836,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{offset:1e-4,stopColor:"#597493"}),u.createElement("stop",{offset:1,stopColor:"#0F2F56"})),u.createElement("linearGradient",{id:o+"-paint4_linear_393_48941",x1:18.667,y1:6.152,x2:23.495,y2:15.396,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{offset:1e-4,stopColor:"#597493"}),u.createElement("stop",{offset:1,stopColor:"#0F2F56"}))))},Tve=[{canHandle:e=>e.startsWith("https://"),getImageSrc:e=>e,shouldReleaseOnLoad:!1},{canHandle:uA,getImageSrc:e=>Kae(e),shouldReleaseOnLoad:!0},{canHandle:e=>e.startsWith("blob:"),getImageSrc:e=>e,shouldReleaseOnLoad:!1}];function xve(e){return Tve.find(t=>t.canHandle(e))??null}function U4(e){ const _hh$temp1205=e,t=_hh$temp1205.uploadedFile,n=_hh$temp1205.url,_hh$temp1206=__arrayFrom$(u.useState({src:null,releaseOnLoad:!1})),o=_hh$temp1206[0],s=_hh$temp1206[1]; return u.useEffect(()=>{if(t&&(t.size>0||!n)){const r=URL.createObjectURL(t);return s({src:r,releaseOnLoad:!0}),()=>{URL.revokeObjectURL(r)}}if(n){const r=xve(n);if(!r){s({src:null,releaseOnLoad:!1});return}let c=!1;return(async()=>{const m=await r.getImageSrc(n);if(!c){if(m===null){s({src:null,releaseOnLoad:!1});return}s({src:m,releaseOnLoad:r.shouldReleaseOnLoad})}})(),()=>{c=!0}}s({src:null,releaseOnLoad:!1})},[t,n]),o}function Ave(e){ const _hh$temp1207=e,t=_hh$temp1207.uploadedFile,n=_hh$temp1207.url,o=_hh$temp1207.onRemove,s=_hh$temp1207.scenario,a=_hh$temp1207.isUploading,r=_hh$temp1207.role,c=_hh$temp1207.ariaLabel,_hh$temp1207$layout=_hh$temp1207.layout,d=_hh$temp1207$layout===void 0?"grid":_hh$temp1207$layout,m=_hh$temp1207.index,p=_hh$temp1207.total,_hh$temp1208=Y(),h=_hh$temp1208.t,_hh$temp1209=U4({uploadedFile:t,url:n}),v=_hh$temp1209.src,y=_hh$temp1209.releaseOnLoad,_hh$temp1210=__arrayFrom$(u.useState(!1)),C=_hh$temp1210[0],S=_hh$temp1210[1],_hh$temp1211=__arrayFrom$(u.useState(!1)),b=_hh$temp1211[0],I=_hh$temp1211[1]; u.useEffect(()=>{S(!1),I(!1)},[v]);const x=s==="screenshot"?h("composer.screenshotAdded"):void 0,E=d==="list",k=G=>{S(!0),I(!1),y&&ih(G)},w=G=>{S(!0),I(!0),y&&ih(G)},_=u.useCallback(()=>{o?.(),Qn({msg:h("fileUpload.imageRemoved")})},[o,h]),N=W("file-upload-card-v2"),L=t.name,B=!!Z.instance().config().composer?.smallAttachmentCard||N,F=a?i.jsxs(Dt,{className:O("absolute inset-0 grid place-items-center ",{"bg-transparent":E,"bg-white/80 dark:bg-white/45":!E}),children:[i.jsx(u.Suspense,{fallback:i.jsx("div",{"aria-hidden":!0}),children:i.jsx(At,{type:"spinnerThemed",className:E?"size-8":"size-11"})}),i.jsx(po,{msg:h("fileUpload.uploadingImage"),type:"polite"})]}):null,K={"h-small-attachment w-full object-cover":B&&!E,"h-8 w-8 object-cover":B&&E,"h-32":!B};return i.jsxs(Ce.div,{className:Je("relative flex max-w-fit shrink-0",{"mt-1 min-w-[58px]":B,"min-h-32":!B,"flex h-small-attachment w-full max-w-full items-center gap-2":E}),layout:"position",initial:Be,animate:C||E?ct:Be,exit:Be,transition:{delay:o_},role:r,"aria-label":c,children:[i.jsxs("div",{className:O("relative",{"h-8 w-8":B&&E,"flex w-full justify-center rounded-xl border border-black/8 bg-acrylic-thin-fallback-light/60 dark:border-white/8 dark:bg-midnight-800/80":!E}),children:[E&&a&&F,(!E||!a)&&(b||!v)&&i.jsx(wve,{className:Je("w-auto rounded-xl border border-black/8 object-contain shadow-inner dark:border-white/8",K),role:"presentation","aria-hidden":!0}),(!E||!a)&&!b&&v&&i.jsx(Ce.img,{className:Je("size-auto rounded-xl border-none object-contain shadow-inner",K),src:v,role:"presentation",onLoad:k,onError:w,alt:"",draggable:!1})]}),E?i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:O("font-ligatures-none overflow-hidden truncate whitespace-nowrap text-sm"),children:t.name||h("library.itemTypes.image")}),i.jsx("p",{className:"line-clamp-1 uppercase text-foreground-600 text-xs",children:L.split(".").pop()})]}):null,x&&i.jsx(po,{msg:x}),o&&!a&&i.jsx(Ce.button,{type:"button",title:h("fileUpload.removeImageWithName",{name:L}),"aria-label":m!==void 0&&p!==void 0?h("fileUpload.removeImageWithPosition",{name:L,index:m,total:p}):h("fileUpload.removeImageWithName",{name:L}),onClick:_,className:O("rounded-full p-1",{[L4]:!E,[D4]:E}),children:i.jsx(sn,{className:"size-3","aria-hidden":!0})}),E?null:F]})}const vv=u.memo(e=>{ const _hh$temp1212=e,t=_hh$temp1212.attachment,n=_hh$temp1212.onRemove,o=_hh$temp1212.role,s=_hh$temp1212.ariaLabel,_hh$temp1212$layout=_hh$temp1212.layout,a=_hh$temp1212$layout===void 0?"grid":_hh$temp1212$layout,r=_hh$temp1212.index,c=_hh$temp1212.total,_hh$temp1213=t,d=_hh$temp1213.file,m=_hh$temp1213.processing,p=_hh$temp1213.error,h=_hh$temp1213.scenario; if(p||!d)return null;const v=Oo(d);if(il(v))return i.jsx(O4,{onRemove:n,fileName:d.name,fileType:v,isUploading:m,role:o,ariaLabel:s,layout:a,index:r,total:c});const y=t.attachment?.item.type==="image"?t.attachment.item.url:void 0;return i.jsx(Ave,{uploadedFile:d,onRemove:n,scenario:h,isUploading:m,role:o,ariaLabel:s,layout:a,url:y,index:r,total:c})});vv.displayName="AttachmentItem";function _ve(e){const t=u.useRef(null);u.useEffect(()=>{t.current=document.activeElement;const n=e?.current;return()=>{n?n.focus():t.current&&t.current.focus()}},[e])}function kve(e){ const _hh$temp1214=e,t=_hh$temp1214.fileName,n=_hh$temp1214.fileType,o=_hh$temp1214.role,_hh$temp1214$layout=_hh$temp1214.layout,s=_hh$temp1214$layout===void 0?"grid":_hh$temp1214$layout,a=n!==""?n:v0(t); return il(a)?i.jsx(O4,{fileName:t,fileType:a,role:o,layout:s}):null}function Pve( _hh$temp1215 ){ var e=_hh$temp1215.url,_hh$temp1215$layout=_hh$temp1215.layout,t=_hh$temp1215$layout===void 0?"grid":_hh$temp1215$layout,n=_hh$temp1215.fileName;  const _hh$temp1216=Y(),o=_hh$temp1216.t,_hh$temp1217=U4({url:e}),s=_hh$temp1217.src,a=_hh$temp1217.releaseOnLoad,r=t==="list"; return s?i.jsx("img",{className:O("block h-full overflow-hidden bg-background-static-250 object-cover object-center shadow-inner dark:bg-background-static-900",{"w-full rounded-xl":r,"rounded-2xl":!r}),alt:n??o("chat.uploadedImageAltText"),src:s,onLoad:a?ih:void 0}):null}function Xb(e){ const _hh$temp1218=e,t=_hh$temp1218.messageItem,n=_hh$temp1218.imageClassName,o=_hh$temp1218.role,_hh$temp1218$layout=_hh$temp1218.layout,s=_hh$temp1218$layout===void 0?"grid":_hh$temp1218$layout,_hh$temp1218$size=_hh$temp1218.size,a=_hh$temp1218$size===void 0?"md":_hh$temp1218$size,_hh$temp1219=Y(),r=_hh$temp1219.t,c=s==="list"; return t.type==="document"?i.jsx(kve,{fileType:t.contentType,fileName:t.fileName,role:o,layout:s}):t.type==="image"?i.jsxs("div",{className:O("inline-block h-full max-w-[min(80%,256px)]",n,{"mt-1 h-small-attachment":a==="sm","flex w-full max-w-full items-center gap-2":c,"align-top":!c}),role:o,children:[i.jsx("div",{className:O("h-full w-fit min-w-0",{"h-8 w-8":c&&a==="sm"}),children:i.jsx(Pve,{fileName:t.fileName,url:t.localUrl??t.url,layout:s})}),c&&i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:O("font-ligatures-none overflow-hidden truncate whitespace-nowrap text-sm"),children:t.fileName??r("library.itemTypes.image")}),i.jsx("p",{className:"line-clamp-1 uppercase text-foreground-600 text-xs",children:(t.url||"").split(".").pop()})]})]}):null}function F4(e){ const _hh$temp1220=e,t=_hh$temp1220.messageItem,n=_hh$temp1220.onClick,_hh$temp1221=Y(),o=_hh$temp1221.t,s=u.useCallback(()=>{n&&n(t);},[n,t]); return n?i.jsx("button",{type:"button",onClick:s,className:"contents text-start","aria-label":o("common.view"),children:i.jsx(Xb,{...e})}):i.jsx(Xb,{...e})}function j4(e){ const _hh$temp1222=e,t=_hh$temp1222.onRemove,n=_hh$temp1222.onClose,_hh$temp1222$messages=_hh$temp1222.messages,o=_hh$temp1222$messages===void 0?[]:_hh$temp1222$messages,_hh$temp1222$attachments=_hh$temp1222.attachments,s=_hh$temp1222$attachments===void 0?[]:_hh$temp1222$attachments,a=_hh$temp1222.restoreFocusRef; _ve(a); const r=W("file-upload-card-v2"),_hh$temp1223=Y(),c=_hh$temp1223.t,_hh$temp1224=xo(),d=_hh$temp1224.openMediaViewer,m=Z.instance().config().composer?.smallAttachmentCard||r?"sm":"md",p=o.filter(v=>v.type==="image"),h=u.useCallback(v=>{const y=p.findIndex(C=>C===v);d({currentMediaIndex:y,media:p.map(C=>({type:"image",url:C.localUrl??C.url,altText:C.fileName??c("chat.uploadedImageAltText"),downloadable:!0})),source:"attachmentModal"}),(n?.());},[p,d,n,c]); return s.length===0&&o.length===0?null:i.jsxs(Rs,{isOpen:!0,fullBleed:!0,className:O("max-h-[580px] min-h-[480px] w-full justify-between p-6",{"sm:w-[640px]":!r,"sm:w-[500px]":r}),onClose:n,dialogName:c("userInput.filePreviewModalTitle"),children:[i.jsx("h2",{className:"w-full shrink-0 text-center leading-8 text-2xl",children:c("userInput.filePreviewModalTitle")}),i.jsx("div",{className:"max-h-[450px] min-h-0 flex-1 overflow-y-auto p-4",children:i.jsx("div",{role:"list",className:O("flex  gap-y-1",{"flex-wrap content-start gap-x-2":!r,"flex-col":r}),children:s.length>0?s.map((v,y)=>i.jsx(vv,{layout:r?"list":"grid",attachment:v,onRemove:()=>t?.(y),role:"listitem",ariaLabel:c("fileUpload.ariaLabel.listitem",{index:y+1,total:s.length}),index:y+1,total:s.length},`attachment-${y}`)):o.map((v,y)=>i.jsx(F4,{layout:r?"list":"grid",messageItem:v,imageClassName:"h-32",role:"listitem",size:m,onClick:v.type==="image"?h:void 0},`message-${y}`))})}),i.jsx(X,{color:r?"subtle-dimmed-inverted":"strong",className:"w-full shrink-0",title:c("common.dismiss"),onClick:n,children:c("common.dismiss")})]})}function Mve(e){ const _hh$temp1225=e,t=_hh$temp1225.attachments,n=_hh$temp1225.onRemove,o=_hh$temp1225.onVisibilityChange,_hh$temp1226=Y(),s=_hh$temp1226.t,a=u.useRef(null),r=u.useMemo(()=>t.filter(x=>!x.error),[t]),c=u.useMemo(()=>r.slice(0,Mu),[r]),d=u.useMemo(()=>r.slice(Mu),[r]),m=d.filter(x=>x.processing).length,_hh$temp1227=__arrayFrom$(u.useState(!1)),p=_hh$temp1227[0],h=_hh$temp1227[1],v=u.useCallback(x=>{__get$(t,x)?.file&&(n(x),r.length<=1&&(h(!1),(o?.(!1))));},[t,n,r,o]),y=u.useCallback(()=>{Qn({msg:s("userInput.seeAll"),type:"polite"}),h(!0),(o?.(!0));},[h,s,o]),C=u.useCallback(()=>{h(!1),(o?.(!1));},[h,o]),S=m>0?s("userInput.uploadingProcess",{uploadingCount:m,totalCount:d.length}):s("userInput.seeAll"),b=W("file-upload-card-v2"),I=!!Z.instance().config().composer?.smallAttachmentCard||b; return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative flex max-h-64 min-w-0 max-w-full flex-wrap gap-2 overflow-y-auto overflow-x-hidden p-1",children:[c.map((x,E)=>i.jsx(vv,{attachment:x,onRemove:()=>v(t.indexOf(x)),ariaLabel:s("fileUpload.ariaLabel.listitem",{index:E+1,total:r.length}),index:E+1,total:r.length},x.id??`file-${E}`)),d.length>0&&i.jsx(X,{ref:a,"aria-label":S,title:S,color:"overlay-dimmed-inverted",onClick:y,className:O("flex cursor-pointer items-center justify-center rounded-xl border-none px-3.5 py-1 text-sm",{"mt-1 h-small-attachment":I,"h-32":!I}),children:m>0?i.jsxs(i.Fragment,{children:[i.jsx(At,{className:"size-6"}),s("userInput.uploadingProcess",{uploadingCount:m,totalCount:d.length})]}):i.jsx(i.Fragment,{children:s("userInput.seeAll")})})]}),p&&i.jsx(j4,{onClose:C,attachments:t,onRemove:v,restoreFocusRef:a})]})}function Rve(){ const _hh$temp1228=Y(),e=_hh$temp1228.t,t=Qa(); return i.jsx("div",{"data-testid":"coco-read-only",className:"pointer-events-none absolute bottom-0 z-20 flex w-full justify-center bg-background-150 px-3 pt-2",children:i.jsxs("div",{className:"relative mt-2.5 flex w-expanded-composer max-w-chat flex-col-reverse items-center gap-5 p-4 pb-10 sm:flex-col",children:[i.jsx("div",{className:"text-center text-foreground-650 text-sm",children:e("common.cocoReadOnlyReminder")}),i.jsxs(X,{title:e("actions.taskClosedButton"),size:"56-xl",color:"strong",variant:"pill",className:"pointer-events-auto gap-x-1 px-20",onClick:t,children:[i.jsx(hl,{className:"size-6"}),e("actions.taskClosedButton")]})]})})}function Nve(e){const t=e.tags?.map(o=>o.label).join(" ")??"",n=t?`${e.title} ${t}`:e.title;return e.description?`${n}. ${e.description}`:n}function Lve(e){ const _hh$temp1229=e,t=_hh$temp1229.item,n=_hh$temp1229.onClick,o=_hh$temp1229.focusRef,s=M(Se),a=u.useRef(void 0),r=t.ariaLabel??Nve(t); return u.useEffect(()=>{s&&a.current!==s&&t.onImpression&&(a.current=s,t.onImpression(s))},[s,t]),i.jsxs(X,{title:t.title,"aria-label":r,variant:"rect",color:"subtle-dimmed-inverted",onClick:n,size:"40-base",alignment:"start",className:"min-w-[230px] gap-3 px-3 py-2",testId:t.testId,role:"menuitem",ref:o,children:[i.jsx("div",{children:t.icon}),i.jsxs("div",{className:"grow text-left",children:[i.jsxs("div",{className:"line-clamp-1 inline-flex gap-1.5 text-sm",children:[t.title,t.tags?.map(c=>i.jsx("div",{className:"flex items-center",children:i.jsx(Ek,{color:c.color,children:i.jsx("span",{className:"leading-4",children:c.label})},c.label)},c.label))]}),t.description&&i.jsx("p",{className:"line-clamp-1 leading-4 text-foreground-600 text-xs dark:text-foreground-650",children:t.description})]})]},t.key)}const B4="/static/cmc/assets/dismiss-strong-C4wQ_QdN.svg";function Dve(e){ const _hh$temp1230=e,t=_hh$temp1230.portalContainerRef,n=_hh$temp1230.selector,o=_hh$temp1230.children,s=u.useRef(null),_hh$temp1231=__arrayFrom$(u.useState(!1)),a=_hh$temp1231[0],r=_hh$temp1231[1]; u.useEffect(()=>{n&&(s.current=document.querySelector(n)??document.body),r(!0)},[n]);const c=t?.current??s.current;return a&&c?Hh.createPortal(o,c):null}function Ove(e){ const _hh$temp1232=e,t=_hh$temp1232.renderTrigger,n=_hh$temp1232.renderSurface,o=_hh$temp1232.containerClassNames,_hh$temp1232$color=_hh$temp1232.color,s=_hh$temp1232$color===void 0?"default":_hh$temp1232$color,a=_hh$temp1232.onOutsideEvent,_hh$temp1232$placement=_hh$temp1232.placement,r=_hh$temp1232$placement===void 0?"bottom":_hh$temp1232$placement,_hh$temp1232$floatingOffset=_hh$temp1232.floatingOffset,c=_hh$temp1232$floatingOffset===void 0?10:_hh$temp1232$floatingOffset,d=_hh$temp1232.portalContainerRef,_hh$temp1232$role=_hh$temp1232.role,m=_hh$temp1232$role===void 0?"dialog":_hh$temp1232$role,p=_hh$temp1232.onCloseAnimationComplete,_hh$temp1232$constrainToViewport=_hh$temp1232.constrainToViewport,h=_hh$temp1232$constrainToViewport===void 0?!1:_hh$temp1232$constrainToViewport,v=s8(),_hh$temp1233=__arrayFrom$(u.useState(!1)),y=_hh$temp1233[0],C=_hh$temp1233[1],S=u.useRef(null),b=u.useRef(null),I=u.useCallback(_=>{_.stopPropagation(),_.preventDefault(),C(N=>!N);},[]),x=u.useCallback(()=>{C(!1),(a?.());},[a]),_hh$temp1234=Tc({nodeId:v,placement:r,strategy:"fixed",middleware:[Ic(c),Ec(),wc(),...h?[Gh({padding:10,apply(_hh$temp1235){var _=_hh$temp1235.availableHeight,N=_hh$temp1235.elements;__call$(Object,"assign",[N.floating.style,{maxHeight:`${_}px`}]);}})]:[]],whileElementsMounted:qr,open:y,onOpenChange:(_,N,L)=>{_?C(!0):L!=="ancestor-scroll"&&x();}}),E=_hh$temp1234.refs,k=_hh$temp1234.floatingStyles,w=_hh$temp1234.context; return xc(w,{outsidePressEvent:"pointerdown",ancestorScroll:!0,outsidePress:_=>{if(_.target instanceof Element){const N=_.target;if(N instanceof Element&&N.closest("[data-outside-events-ignore]")!==null)return!1}return!0}}),er(_=>{_.key==="Escape"&&y&&x()}),i.jsxs("div",{ref:E.setReference,className:O("relative",o?.trigger),children:[t({openPopover:I,isOpen:y,ref:S}),i.jsx(a8,{id:v,children:i.jsx(Dve,{...d?{portalContainerRef:d}:{selector:"#popoverPortal"},children:i.jsx(bt,{onExitComplete:p,children:y&&i.jsx($h,{context:w,modal:m==="dialog",returnFocus:!0,initialFocus:b,children:i.jsx(Ce.div,{ref:E.setFloating,className:O("rounded-2xl p-3 shadow-lg",h&&"flex flex-col",s==="thin"?ma:Co,o?.surface,at.modal),style:{...k,...r5},role:m,tabIndex:-1,initial:"initial",animate:"animate",exit:"exit",variants:{initial:Be,animate:ct,exit:{...Be,transition:{duration:eo.default}}},transition:{duration:eo.default,ease:"easeInOut"},onKeyDown:_=>{_.key==="Escape"&&(_.preventDefault(),_.stopPropagation(),x())},children:i.jsx("div",{className:O("pointer-events-auto relative",h&&"t-custom-scrollbar -m-1 min-h-0 flex-1 overflow-auto p-1",!h&&"max-h-expanded-section overflow-visible",at.modal),children:n({closePopover:x,isOpen:y,focusRef:b})})})})})})})]})}function Pm(e){ const _hh$temp1236=e,t=_hh$temp1236.renderTrigger,n=_hh$temp1236.renderSurface,o=_hh$temp1236.containerClassNames,s=_hh$temp1236.color,a=_hh$temp1236.onOutsideEvent,r=_hh$temp1236.placement,c=_hh$temp1236.floatingOffset,d=_hh$temp1236.portalContainerRef,m=_hh$temp1236.role,p=_hh$temp1236.onCloseAnimationComplete,h=_hh$temp1236.constrainToViewport,v=n8(),y=i.jsx(Ove,{renderTrigger:t,renderSurface:n,containerClassNames:o,color:s,onOutsideEvent:a,placement:r,floatingOffset:c,portalContainerRef:d,role:m,onCloseAnimationComplete:p,constrainToViewport:h}); return v===null?i.jsx(o8,{children:y}):y}const Uve="composer-dropdown-button-menu-contents";function yv(e){ const _hh$temp1237=e,t=_hh$temp1237.items,n=_hh$temp1237.value,o=_hh$temp1237.defaultValue,s=_hh$temp1237.onSelect,a=_hh$temp1237.onReset,r=_hh$temp1237.onMenuClick,c=_hh$temp1237.disabled,_hh$temp1237$showDefaultItemInDropdown=_hh$temp1237.showDefaultItemInDropdown,d=_hh$temp1237$showDefaultItemInDropdown===void 0?!1:_hh$temp1237$showDefaultItemInDropdown,m=_hh$temp1237.renderHeader,p=_hh$temp1237.renderFooter,_hh$temp1237$alwaysShowDefault=_hh$temp1237.alwaysShowDefault,h=_hh$temp1237$alwaysShowDefault===void 0?!1:_hh$temp1237$alwaysShowDefault,_hh$temp1237$floatingOffset=_hh$temp1237.floatingOffset,v=_hh$temp1237$floatingOffset===void 0?4:_hh$temp1237$floatingOffset,y=_hh$temp1237.onCloseAnimationComplete,C=M(Se),S=u.useRef(void 0),_hh$temp1238=u.useMemo(()=>({selectedItem:t.find(E=>E.key===(h?o:n)),dropdownItems:d?t:t.filter(E=>E.key!==o),selectedNonDefault:n!==o&&!h}),[t,n,o,d,h]),b=_hh$temp1238.selectedItem,I=_hh$temp1238.dropdownItems,x=_hh$temp1238.selectedNonDefault; return u.useEffect(()=>{C&&S.current!==C&&b&&b.onImpression&&(S.current=C,b.onImpression(C))},[C,b]),i.jsx(Pm,{color:"default",role:"menu",renderTrigger: _hh$temp1239=>{var E=_hh$temp1239.openPopover;return b&&i.jsxs(X,{id:b.id,title:b.title,"aria-label":b.title,variant:"rect",size:"36-sm",disabled:c,color:x?"composer-selected":"subtle-dimmed",className:O("h-9 select-none gap-1 rounded-2xl border border-black/8 dark:border-white/8",b.isIconEnabledInButton?"pe-3 ps-2":"pe-3.5 ps-2.5",b.isChevronEnabledInButton&&"pe-2.5",b.hideButtonTitle&&"p-0"),onClick:k=>{(r?.()),(b.beforeClick?.(C??"")),x?a():E(k);},testId:b.testId,children:[x?i.jsx(pt,{url:B4,className:"size-3.5"}):b.isIconEnabledInButton&&b.icon,!b.hideButtonTitle&&i.jsx("span",{className:"text-sm",children:b.buttonTitle??b.title}),(!x&&b.isChevronEnabledInButton)&&i.jsx(Eo,{className:"size-4 rotate-90"})]});} ,renderSurface:( _hh$temp1240 )=>{ var E=_hh$temp1240.closePopover,k=_hh$temp1240.focusRef; const w=m&&m({closePopover:E,focusRef:k});return i.jsxs(wo,{id:Uve,className:"flex flex-col","data-testid":"composer-dropdown-button-menu-contents",children:[w,I.map((_,N)=>i.jsx(Lve,{item:_,onClick:L=>{_.beforeClick?.(C??""),s(_.key),E(L)},focusRef:!w&&N===0?k:void 0},_.key)),p&&p({closePopover:E})]})},containerClassNames:{surface:"p-1.5 border-white/25 dark:border-stroke-400/25 shadow-tinted-xl"},placement:"bottom-start",floatingOffset:v,onCloseAnimationComplete:y,constrainToViewport:!0})}yv.displayName="ComposerDropdownButton";const Fve="/static/cmc/assets/analyst-D8sXpiav.svg",jve="/static/cmc/assets/coco-BiXU4q_c.svg",Bve="/static/cmc/assets/quick-DbAdyS8q.svg",Vve="/static/cmc/assets/study-BpnC_q84.svg",Hve="/static/cmc/assets/think-wWCa40yF.svg",zve="/static/cmc/assets/cursor-click-9t1_mFob.svg",Gve="/static/cmc/assets/search-BjOz_Dmt.svg";function Wve(){const e=M(Qd),t=$("kill-composer-reasoning-button");return!e&&t}const $ve=P(null);function Cv(){ const e=!rt("kill-coco-isolation"),_hh$temp1241=__arrayFrom$(Re($ve)),t=_hh$temp1241[0],n=_hh$temp1241[1],o=Qa(),a=(M(Lt)?.history?.length??0)>0,r=e&&a,c=t!==null,d=(h,v)=>{n({targetMode:h,onModalConfirm:v});},m=()=>{n(null);}; return{isOpen:c,hasConversationHistory:a,shouldAskForConfirmation:r,onConfirm:async()=>{t&&(await o(),t.onModalConfirm(),m())},onOpen:d,onClose:m,targetMode:t?.targetMode??null}}const qve=new Set(["chat","search"]),Kve=["copy","regenerate"],Yve=new Set(o1);function Zve(){return hs()?qve:Yve}const Jve=["smart-mode-default","remove-qr"];function Qve(){return qc(Jve,"any")}const Xve=[new Set(["analyst","chat","smart","smart-latest","study","reasoning","research","researcher","computerUse","search","browserAction"]),new Set(["coco"])];function Nh(e,t){let n=null;for(const o of Xve)o.has(e)&&(n=o);return n?n.has(t):!1}function eye(e){ const _hh$temp1242=e,_hh$temp1242$disabled=_hh$temp1242.disabled,t=_hh$temp1242$disabled===void 0?!1:_hh$temp1242$disabled,n=_hh$temp1242.chatModes,o=tye(),s=n??o,a=Kt(),r=Bs(),_hh$temp1243=Cv(),c=_hh$temp1243.onOpen,d=_hh$temp1243.shouldAskForConfirmation,m=u.useCallback(C=>{yn(C),lh();},[]),p=u.useCallback(C=>{if(d&&!Nh(a,C)){c(C,()=>{m(C);});return;}m(C);},[m,d,a,c]),h=u.useCallback(()=>{yn(Vt()),lh();},[]),v=u.useCallback(()=>{const C=Vt();if(d&&!Nh(a,C)){c(C,()=>{h();});return;}h();},[h,d,a,c]),y=MA().includes(a)?a:Vt(); return r?i.jsx(yv,{items:s,onSelect:p,value:y,defaultValue:Vt(),showDefaultItemInDropdown:!0,onReset:v,disabled:t,onMenuClick:()=>fe({source:"composerChatModeDropdownButton",pageName:"chatPage",customData:JSON.stringify({currentMode:a})})}):null}function ta(e){return()=>_t({element:"composerModeButton",scenario:e,page:"chatPage"})}function na(e){return t=>fe({source:"composerModeButton",scenario:e,conversationId:t})}function oa(e){return t=>fe({source:"composerDrawerTypeSheet",scenario:e,conversationId:t})}function tye(){ const _hh$temp1244=Y("translation"),e=_hh$temp1244.t,n=Yt().startsWith("/projects"),o=Qve(),s=W("remove-qr"),a=R0()&&!n,r=W("smart-mode-52"),d=W("smart-mode-52-dropdown")&&!r,m=E3(),p=nY(),h=Wve(),v=Zve(),y=Qf("smart"),C={key:"smart",title:y.title,icon:i.jsx(pt,{url:y.icon,className:"size-5"}),description:y.description,testId:"composer-chat-mode-smart-button",isChevronEnabledInButton:!0,onImpression:ta("smart"),beforeSelect:oa("smart"),beforeClick:na("exitSmart"),tags:y.tags},S=Qf("smart-latest"),b={key:"smart-latest",title:S.title,icon:i.jsx(pt,{url:S.icon,className:"size-5"}),description:S.description,testId:"composer-chat-mode-smart-latest-button",isChevronEnabledInButton:!0,onImpression:ta("smartLatest"),beforeSelect:oa("smartLatest"),beforeClick:na("exitSmartLatest"),tags:S.tags},I={key:"browserAction",title:e("composer.chatModes.browserAction.title"),icon:i.jsx(pt,{url:zve,className:"size-5"}),description:e("composer.chatModes.browserAction.description"),testId:"composer-chat-mode-browser-action-button"},x={key:"chat",title:e("composer.chatModes.chat.title"),buttonTitle:e("composer.chatModes.chat.title"),icon:i.jsx(pt,{url:Bve,className:"size-5"}),description:e("composer.chatModes.chat.description"),testId:"composer-chat-mode-quick-button",onImpression:ta("quick"),beforeSelect:oa("quickResponse"),beforeClick:na("showDrawer"),isChevronEnabledInButton:!0,isIconEnabledInButton:!1},E={key:"coco",title:e("composer.chatModes.coco.title"),icon:i.jsx(pt,{url:jve,className:"size-5"}),description:e("composer.chatModes.coco.description"),testId:"composer-chat-mode-coco-button",onImpression:ta("coco"),beforeSelect:oa("coco"),beforeClick:na("exitCoco")},k={key:"reasoning",title:e("composer.chatModes.reasoning.title"),icon:i.jsx(pt,{url:Hve,className:"size-5"}),description:e("composer.chatModes.reasoning.description"),testId:"composer-chat-mode-reasoning-button",onImpression:ta("thinkDeeper"),beforeSelect:oa("thinkDeeper"),beforeClick:na("exitThinkDeeper")},w={key:"study",title:e("composer.chatModes.study.title"),icon:i.jsx(pt,{url:Vve,className:"size-5"}),description:e("composer.chatModes.study.description"),testId:"composer-chat-mode-study-button",onImpression:ta("study"),beforeSelect:oa("study"),beforeClick:na("exitStudy")},_={key:"search",title:e("composer.chatModes.search.title"),icon:i.jsx(pt,{url:Gve,className:"size-5"}),description:e("composer.chatModes.search.description"),testId:"composer-chat-mode-search-button",onImpression:ta("search"),beforeSelect:oa("search"),beforeClick:na("exitSearch")},N={key:"analyst",title:"Analyst",icon:i.jsx(pt,{url:Fve,className:"size-5"}),description:"Analyze your data and generate insights",testId:"composer-chat-mode-analyst-button",onImpression:()=>{},beforeSelect:()=>{},beforeClick:()=>{},isChevronEnabledInButton:!0,isIconEnabledInButton:!1},L=[]; return o||s?(L.push(C),d&&L.push(b),m&&L.push(I),s||L.push(x),a&&L.push(E),h||L.push(k),L.push(w),L.push(_),p&&L.push(N)):(L.push(x),m&&L.push(I),a&&L.push(E),h||L.push(k),L.push(w),L.push(C),d&&L.push(b),L.push(_),p&&L.push(N)),L.filter(B=>v.has(B.key))}const nye="/static/cmc/assets/tab-add-6wnFKKVV.svg";function oye(e){ const _hh$temp1245=e,t=_hh$temp1245.onSelectUserOpenedTabs,_hh$temp1246=Y(),n=_hh$temp1246.t; return i.jsx(X,{title:n("composer.multiTabs.addTab"),"aria-label":n("composer.multiTabs.addTab"),variant:"rect",color:"subtle-dimmed-inverted",onClick:t,size:"40-base",alignment:"start",className:"min-w-[230px] rounded-xl p-0",testId:"add-tabs-button",children:i.jsxs("div",{className:"flex h-10 w-full items-center gap-3 rounded-xl px-3 py-2",children:[i.jsx(pt,{url:nye,className:"size-5"}),i.jsx("div",{className:"grow text-left",children:i.jsx("div",{className:"line-clamp-1 inline-flex gap-1.5 text-sm",children:n("composer.multiTabs.addTab")})})]})})}const V4=( _hh$temp1247 )=>{ var e=_hh$temp1247.title,t=_hh$temp1247.titleId,n=__rest$Object(_hh$temp1247,["title","titleId"]);  const _hh$temp1248=__arrayFrom$(u.useState("")),o=_hh$temp1248[0],s=_hh$temp1248[1]; return u.useEffect(()=>{s(Math.random().toString(36).slice(2,10))},[]),u.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M9.29079 9.1001C4.70421 9.1002 1.2758 12.8547 1.0177 17.0373C1.17748 17.9385 1.70262 19.7181 2.52502 19.6268C3.553 19.5125 6.14201 19.6268 8.35029 15.6289C9.96344 12.7085 13.2818 9.10001 9.29079 9.1001Z",fill:`url(#${o}-paint0_radial_105551_302)`}),u.createElement("path",{d:"M8.23018 10.6611C6.68846 13.1022 4.61317 16.5999 3.91275 17.7006C3.08017 19.0089 0.875229 18.4531 1.05789 16.5777C1.03989 16.73 1.02606 16.8835 1.01652 17.038C0.714885 21.9171 4.58327 25.9691 9.39699 25.9691C14.7024 25.9691 27.3553 19.3586 26.0748 12.7352C24.7252 8.84183 20.9318 6.04932 16.6328 6.04932C12.3338 6.04932 9.57858 8.52613 8.23018 10.6611Z",fill:`url(#${o}-paint1_radial_105551_302)`}),u.createElement("path",{d:"M8.23018 10.6611C6.68846 13.1022 4.61317 16.5999 3.91275 17.7006C3.08017 19.0089 0.875229 18.4531 1.05789 16.5777C1.03989 16.73 1.02606 16.8835 1.01652 17.038C0.714885 21.9171 4.58327 25.9691 9.39699 25.9691C14.7024 25.9691 27.3553 19.3586 26.0748 12.7352C24.7252 8.84183 20.9318 6.04932 16.6328 6.04932C12.3338 6.04932 9.57858 8.52613 8.23018 10.6611Z",fill:`url(#${o}-paint2_radial_105551_302)`,fillOpacity:.4}),u.createElement("path",{d:"M8.23018 10.6611C6.68846 13.1022 4.61317 16.5999 3.91275 17.7006C3.08017 19.0089 0.875229 18.4531 1.05789 16.5777C1.03989 16.73 1.02606 16.8835 1.01652 17.038C0.714885 21.9171 4.58327 25.9691 9.39699 25.9691C14.7024 25.9691 27.3553 19.3586 26.0748 12.7352C24.7252 8.84183 20.9318 6.04932 16.6328 6.04932C12.3338 6.04932 9.57858 8.52613 8.23018 10.6611Z",fill:`url(#${o}-paint3_radial_105551_302)`}),u.createElement("path",{d:"M8.23018 10.6611C6.68846 13.1022 4.61317 16.5999 3.91275 17.7006C3.08017 19.0089 0.875229 18.4531 1.05789 16.5777C1.03989 16.73 1.02606 16.8835 1.01652 17.038C0.714885 21.9171 4.58327 25.9691 9.39699 25.9691C14.7024 25.9691 27.3553 19.3586 26.0748 12.7352C24.7252 8.84183 20.9318 6.04932 16.6328 6.04932C12.3338 6.04932 9.57858 8.52613 8.23018 10.6611Z",fill:`url(#${o}-paint4_radial_105551_302)`,fillOpacity:.6}),u.createElement("path",{d:"M8.23018 10.6611C6.68846 13.1022 4.61317 16.5999 3.91275 17.7006C3.08017 19.0089 0.875229 18.4531 1.05789 16.5777C1.03989 16.73 1.02606 16.8835 1.01652 17.038C0.714885 21.9171 4.58327 25.9691 9.39699 25.9691C14.7024 25.9691 27.3553 19.3586 26.0748 12.7352C24.7252 8.84183 20.9318 6.04932 16.6328 6.04932C12.3338 6.04932 9.57858 8.52613 8.23018 10.6611Z",fill:`url(#${o}-paint5_radial_105551_302)`,fillOpacity:.9}),u.createElement("path",{d:"M9.31824 25.9703C9.31824 25.9703 21.986 25.9952 24.1347 25.9952C28.0342 25.9952 30.999 22.8115 30.9991 19.0966C30.9991 15.3817 27.9747 12.2173 24.1348 12.2173C20.2949 12.2173 18.0836 15.0901 16.4227 18.2259C14.4764 21.9005 11.9937 25.9262 9.31824 25.9703Z",fill:`url(#${o}-paint6_linear_105551_302)`}),u.createElement("path",{d:"M9.31824 25.9703C9.31824 25.9703 21.986 25.9952 24.1347 25.9952C28.0342 25.9952 30.999 22.8115 30.9991 19.0966C30.9991 15.3817 27.9747 12.2173 24.1348 12.2173C20.2949 12.2173 18.0836 15.0901 16.4227 18.2259C14.4764 21.9005 11.9937 25.9262 9.31824 25.9703Z",fill:`url(#${o}-paint7_radial_105551_302)`,fillOpacity:.4}),u.createElement("path",{d:"M9.31824 25.9703C9.31824 25.9703 21.986 25.9952 24.1347 25.9952C28.0342 25.9952 30.999 22.8115 30.9991 19.0966C30.9991 15.3817 27.9747 12.2173 24.1348 12.2173C20.2949 12.2173 18.0836 15.0901 16.4227 18.2259C14.4764 21.9005 11.9937 25.9262 9.31824 25.9703Z",fill:`url(#${o}-paint8_radial_105551_302)`,fillOpacity:.9}),u.createElement("defs",null,u.createElement("radialGradient",{id:o+"-paint0_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(6.05863 7.25975 -10.1194 12.3526 1.58653 10.1963)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#4894FE"}),u.createElement("stop",{offset:.695072,stopColor:"#0934B3"})),u.createElement("radialGradient",{id:o+"-paint1_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(-26.6342 30.7229 -23.4745 -18.9187 26.9705 -0.690804)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{offset:.165327,stopColor:"#23C0FE"}),u.createElement("stop",{offset:.534,stopColor:"#1C91FF"})),u.createElement("radialGradient",{id:o+"-paint2_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(-6.33129 -5.31528 -11.8431 14.7663 7.72211 10.7344)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"white"}),u.createElement("stop",{offset:.660528,stopColor:"#ADC0FF",stopOpacity:0})),u.createElement("radialGradient",{id:o+"-paint3_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(-7.11293 -6.01877 9.14061 -10.8028 16.711 20.5051)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#033ACC"}),u.createElement("stop",{offset:1,stopColor:"#368EFF",stopOpacity:0})),u.createElement("radialGradient",{id:o+"-paint4_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(8.12906 18.7598 -20.2526 8.77435 7.17496 5.4191)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{offset:.592618,stopColor:"#3464E3",stopOpacity:0}),u.createElement("stop",{offset:1,stopColor:"#033ACC"})),u.createElement("radialGradient",{id:o+"-paint5_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(-21.2655 21.266 33.3159 33.3166 26.6427 1.43264)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#4BFDE8"}),u.createElement("stop",{offset:.543937,stopColor:"#4BFDE8",stopOpacity:0})),u.createElement("linearGradient",{id:o+"-paint6_linear_105551_302",x1:20.1654,y1:25.9812,x2:20.1654,y2:12.3807,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#0086FF"}),u.createElement("stop",{offset:.49,stopColor:"#00BBFF"})),u.createElement("radialGradient",{id:o+"-paint7_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(12.6678 5.02394 -16.0514 21.3963 13.0585 13.8376)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"white"}),u.createElement("stop",{offset:.785262,stopColor:"white",stopOpacity:0})),u.createElement("radialGradient",{id:o+"-paint8_radial_105551_302",cx:0,cy:0,r:1,gradientTransform:"matrix(-14.1522 12.1976 -16.7761 -10.2898 30.5753 11.1494)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#4BFDE8"}),u.createElement("stop",{offset:.584724,stopColor:"#4BFDE8",stopOpacity:0}))))},sye="/static/cmc/assets/paperclip-CMVChwA7.svg";function e2(e){ const _hh$temp1249=e,t=_hh$temp1249.onClick,n=_hh$temp1249.uploadButtonDisabled,o=_hh$temp1249.title,s=_hh$temp1249.icon,a=_hh$temp1249.focusRef,r=u.useRef(null),c=hA(r,a); return i.jsx(X,{ref:c,title:o,"aria-label":o,variant:"rect",color:"subtle-dimmed-inverted",onClick:t,size:"40-base",alignment:"start",className:"min-w-[230px] rounded-xl p-0",testId:"add-images-files",disabled:n,children:i.jsxs("div",{className:"flex h-10 w-full items-center gap-3 rounded-xl px-3 py-2",children:[s,i.jsx("div",{className:"grow text-left",children:i.jsx("div",{className:"line-clamp-1 inline-flex gap-1.5 text-sm",children:o})})]})})}function aye(e){ const _hh$temp1250=e,t=_hh$temp1250.onSelectFile,n=_hh$temp1250.uploadButtonDisabled,o=_hh$temp1250.onSelectOneDriveFile,s=_hh$temp1250.focusRef,_hh$temp1251=Y(),a=_hh$temp1251.t; return i.jsxs(i.Fragment,{children:[i.jsx(e2,{onClick:t,uploadButtonDisabled:n,title:a("composer.connector.addImagesFiles"),icon:i.jsx(pt,{url:sye,className:"size-5"}),focusRef:s}),o&&i.jsx(e2,{onClick:o,uploadButtonDisabled:n,title:a("composer.addFromOneDrive"),icon:i.jsx(V4,{className:"size-5"})})]})}const H4= _hh$temp1252=>{var e=_hh$temp1252.title,t=_hh$temp1252.titleId,n=__rest$Object(_hh$temp1252,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M7.87869 8.5858C7.48348 8.84756 7.00954 9 6.5 9C5.11929 9 4 7.88071 4 6.5C4 5.11929 5.11929 4 6.5 4C7.88071 4 9 5.11929 9 6.5C9 7.00954 8.84756 7.48348 8.5858 7.8787L10.6213 9.9142C11.0165 9.65244 11.4905 9.5 12 9.5C12.5095 9.5 12.9835 9.65244 13.3787 9.9142L15.4142 7.87869C15.1524 7.48348 15 7.00954 15 6.5C15 5.11929 16.1193 4 17.5 4C18.8807 4 20 5.11929 20 6.5C20 7.88071 18.8807 9 17.5 9C16.9905 9 16.5165 8.84756 16.1213 8.5858L14.0858 10.6213C14.3476 11.0165 14.5 11.4905 14.5 12C14.5 12.5095 14.3476 12.9835 14.0858 13.3787L16.1213 15.4142C16.5165 15.1524 16.9905 15 17.5 15C18.8807 15 20 16.1193 20 17.5C20 18.8807 18.8807 20 17.5 20C16.1193 20 15 18.8807 15 17.5C15 16.9905 15.1524 16.5165 15.4142 16.1213L13.3787 14.0858C12.9835 14.3476 12.5095 14.5 12 14.5C11.4905 14.5 11.0165 14.3476 10.6213 14.0858L8.5858 16.1213C8.84756 16.5165 9 16.9905 9 17.5C9 18.8807 7.88071 20 6.5 20C5.11929 20 4 18.8807 4 17.5C4 16.1193 5.11929 15 6.5 15C7.00954 15 7.48348 15.1524 7.87869 15.4142L9.9142 13.3787C9.65244 12.9835 9.5 12.5095 9.5 12C9.5 11.4905 9.65244 11.0165 9.9142 10.6213L7.87869 8.5858ZM8 6.5C8 5.67157 7.32843 5 6.5 5C5.67157 5 5 5.67157 5 6.5C5 7.32843 5.67157 8 6.5 8C7.32843 8 8 7.32843 8 6.5ZM19 6.5C19 5.67157 18.3284 5 17.5 5C16.6716 5 16 5.67157 16 6.5C16 7.32843 16.6716 8 17.5 8C18.3284 8 19 7.32843 19 6.5ZM6.5 19C7.32843 19 8 18.3284 8 17.5C8 16.6716 7.32843 16 6.5 16C5.67157 16 5 16.6716 5 17.5C5 18.3284 5.67157 19 6.5 19ZM19 17.5C19 16.6716 18.3284 16 17.5 16C16.6716 16 16 16.6716 16 17.5C16 18.3284 16.6716 19 17.5 19C18.3284 19 19 18.3284 19 17.5ZM13.5 12C13.5 11.1716 12.8284 10.5 12 10.5C11.1716 10.5 10.5 11.1716 10.5 12C10.5 12.8284 11.1716 13.5 12 13.5C12.8284 13.5 13.5 12.8284 13.5 12Z",fill:"currentColor",stroke:"currentColor",strokeWidth:.2}));} ;function td(e){ const _hh$temp1253=e,t=_hh$temp1253.isChecked,n=_hh$temp1253.label,o=_hh$temp1253.description,s=_hh$temp1253.onChange,a=_hh$temp1253.accessory,r=_hh$temp1253.disabled,c=_hh$temp1253.testId,d=_hh$temp1253.className,m=_hh$temp1253.labelClassName,p=_hh$temp1253.descriptionClassName,h=u.useId(),_hh$temp1254=__arrayFrom$(u.useState(!1)),v=_hh$temp1254[0],y=_hh$temp1254[1],C=li(),S=E=>{E.currentTarget.matches(":focus-visible")&&y(!0);},b=()=>y(!1),_hh$temp1255=cm({autoRestoreFocus:!0,forceFocus:!0}),I=_hh$temp1255.focusable; let x=t?"bg-system-green-400":"bg-black/20 dark:bg-white/20";return r&&(x="bg-black/20 after:bg-white/40 dark:bg-white/20 dark:after:bg-black/40"),i.jsxs("label",{className:O("flex min-w-0 items-center justify-between gap-4",!r&&"cursor-pointer",d),htmlFor:h,ref:I.ref,"data-testid":c,children:[i.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[i.jsx("span",{className:O("text-foreground-800 text-sm",m),children:n}),o&&i.jsx("span",{className:O("font-medium text-foreground-450 text-sm",p),children:o})]}),i.jsxs("span",{className:"flex flex-row items-center gap-2",children:[a,i.jsx("input",{id:h,type:"checkbox",title:n,checked:t,onChange:E=>s(E.target.checked),onFocus:S,onBlur:b,className:"sr-only",disabled:r}),i.jsx("div",{className:O("relative h-6 w-10 rounded-full","after:absolute after:size-5 after:rounded-full after:transition-all contrast-more:forced-color-adjust-none",C?"rotate-180 after:bottom-[2px] after:end-[2px]":"after:start-[2px] after:top-[2px]",x,!r&&"after:bg-white after:shadow-switch after:hover:scale-110 after:active:w-6",t&&"after:translate-x-4",t&&!r&&"after:active:translate-x-3",v&&"outline outline-2 outline-offset-2")})]})]})}function z4(e){ const _hh$temp1256=e,_hh$temp1256$isInComposer=_hh$temp1256.isInComposer,t=_hh$temp1256$isInComposer===void 0?!1:_hh$temp1256$isInComposer,n=_hh$temp1256.IconComponent,o=_hh$temp1256.title,s=_hh$temp1256.isToggleOn,a=_hh$temp1256.showToggle,_hh$temp1256$showConnect=_hh$temp1256.showConnect,r=_hh$temp1256$showConnect===void 0?!1:_hh$temp1256$showConnect,_hh$temp1256$isDisConnected=_hh$temp1256.isDisConnected,c=_hh$temp1256$isDisConnected===void 0?!1:_hh$temp1256$isDisConnected,d=_hh$temp1256.onClickToggle,m=_hh$temp1256.onClickMore,p=_hh$temp1256.onClickConnect,h=_hh$temp1256.description,v=_hh$temp1256.isModal,_hh$temp1256$isDeviceBasedConnector=_hh$temp1256.isDeviceBasedConnector,y=_hh$temp1256$isDeviceBasedConnector===void 0?!1:_hh$temp1256$isDeviceBasedConnector,C=O("flex items-center ",t?"gap-3":"gap-2"),S=O("shrink-0",t?"size-4":"size-5"),b=u.useId(),I=u.useId(),x=c?U("connector.connect"):U("connector.reconnect"); function E(){return!v||t?null:i.jsx(X,{"aria-label":U("connector.moreDetailsAriaLabel",{description:h}),title:U("connector.moreDetails"),className:"mx-0 shrink-0 px-0",size:"28-xxs",color:"subtle-dimmed",onClick:m,children:i.jsx(Eo,{className:"size-4"})})}return i.jsxs("div",{className:O(t?"py-1.5 ps-3.5 text-sm":"flex flex-col gap-2 p-2",t&&a?"pe-2.5":"pe-1"),children:[r&&i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:C,children:[i.jsx(n,{className:S}),i.jsx("span",{id:b,className:"text-foreground-800 text-sm",children:o})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(X,{className:O("px-2 text-sm",t&&"opacity-65 focus-visible:opacity-100 safe-hover:opacity-100"),"aria-labelledby":`${b} ${I}`,title:x,size:"28-xxs",color:t?"subtle-dimmed-inverted":"default",onClick:p,disabled:y,children:i.jsx("span",{id:I,children:x})}),E()]})]}),a&&i.jsxs("div",{className:C,children:[i.jsx(n,{className:S}),i.jsx(td,{className:"w-full",labelClassName:"text-sm",label:o,isChecked:s,onChange:d}),E()]}),!t&&i.jsxs("div",{className:"text-foreground-700 text-xs",children:[i.jsx("span",{className:"me-1",children:h}),!v&&i.jsx(X,{"aria-label":U("connector.moreDetailsAriaLabel",{description:h}),title:U("connector.moreDetails"),className:"inline-block h-auto min-h-0 whitespace-nowrap p-0 leading-none text-foreground-700 underline text-xs",onClick:m,color:"subtle-bright",children:U("connector.moreDetails")})]})]})}const G4=(e,t,n)=>{R.trackEvent({name:"interaction",data:{eventName:"connectorPlatformConnectionManagementImpression",eventInfo_connectorPlatformConnectorType:e,eventInfo_connectorPlatformConnectionStatus:t,eventInfo_connectorPlatformConnectionStartSource:n}})},Xi=(e,t,n,o)=>{R.trackEvent({name:"interaction",data:{eventName:"connectorPlatformConnectionManagementAction",eventInfo_connectorPlatformConnectorType:e,eventInfo_connectorPlatformConnectionStatus:t,eventInfo_connectorPlatformConnectionStartSource:n,eventInfo_connectorPlatformConnectionActionType:o}})},P7e=(e,t)=>{R.trackEvent({name:"interaction",data:{eventName:"connectorPlatformConnectionStartPageImpression",eventInfo_connectorPlatformConnectionStartSource:t,eventInfo_connectorPlatformConnectorType:e}})},M7e=(e,t,n)=>{R.trackEvent({name:"interaction",data:{eventName:"connectorPlatformConnectionStartPageAction",eventInfo_connectorPlatformConnectionStartSource:t,eventInfo_connectorPlatformConnectorType:e,eventInfo_connectorPlatformConnectionActionType:n}})},rye=(e,t)=>{R.trackEventAfterUserReady({name:"interaction",data:{eventName:"connectorPlatformConnectionSetupFailureEvent",eventInfo_connectorPlatformConnectorType:e,eventInfo_connectorPlatformConnectorErrorType:t??"",eventInfo_source:"Component"}})},iye=e=>{R.trackEventAfterUserReady({name:"interaction",data:{eventName:"connectorPlatformConnectionSetupSuccessEvent",eventInfo_connectorPlatformConnectorType:e,eventInfo_source:"Component"}})},W4=( _hh$temp1257 )=>{ var e=_hh$temp1257.title,t=_hh$temp1257.titleId,n=__rest$Object(_hh$temp1257,["title","titleId"]);  const _hh$temp1258=__arrayFrom$(u.useState("")),o=_hh$temp1258[0],s=_hh$temp1258[1]; return u.useEffect(()=>{s(Math.random().toString(36).slice(2,10))},[]),u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.2552 0.0498047C21.7096 0.0498047 23.9502 2.29046 23.9502 5.74485V18.2552C23.9502 21.7096 21.7096 23.9502 18.2552 23.9502H5.74482C2.29046 23.9502 0.0497925 21.7096 0.0497925 18.2552V5.74485C0.0497925 2.29046 2.29046 0.0498047 5.74482 0.0498047H18.2552Z",fill:"white"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.63713 1.63713C0.655976 2.61828 0.0995851 4.02861 0.0995851 5.74482V18.2552C0.0995851 19.9714 0.655976 21.3817 1.63713 22.3629C2.61828 23.344 4.02861 23.9004 5.74482 23.9004H18.2552C19.9714 23.9004 21.3817 23.344 22.3629 22.3629C23.344 21.3817 23.9004 19.9714 23.9004 18.2552V5.74482C23.9004 4.02861 23.344 2.61828 22.3629 1.63713C21.3817 0.655976 19.9714 0.0995851 18.2552 0.0995851H5.74482C4.02861 0.0995851 2.61828 0.655976 1.63713 1.63713ZM1.56671 1.56671C2.56949 0.563942 4.00666 0 5.74482 0H18.2552C19.9933 0 21.4305 0.563942 22.4333 1.56671C23.4361 2.56949 24 4.00666 24 5.74482V18.2552C24 19.9933 23.4361 21.4305 22.4333 22.4333C21.4305 23.4361 19.9933 24 18.2552 24H5.74482C4.00666 24 2.56949 23.4361 1.56671 22.4333C0.563942 21.4305 0 19.9933 0 18.2552V5.74482C0 4.00666 0.563942 2.56949 1.56671 1.56671Z",fill:"#A4A4A4"}),u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.6046 14.067C14.6067 14.0674 14.6088 14.0678 14.6108 14.0682C14.6108 14.0682 14.6108 14.0674 14.6108 14.0659C16.2229 13.7699 18.5332 11.2499 18.5332 11.2499C18.5332 11.2499 19.4508 10.2771 20.0014 9.05113C20.5512 7.82712 20.6547 6.27668 19.4673 5.08936C17.1597 2.7818 14.7429 4.95552 14.6046 5.08356C14.4664 4.95552 12.0495 2.7818 9.74194 5.08936C8.55462 6.27668 8.6581 7.82712 9.20786 9.05113C9.75849 10.2771 10.6761 11.2499 10.6761 11.2499C10.6761 11.2499 12.9864 13.7699 14.5984 14.0659C14.5984 14.0674 14.5984 14.0682 14.5984 14.0682C14.6005 14.0678 14.6025 14.0674 14.6046 14.067Z",fill:`url(#${o}-paint0_linear_apple_health)`}),u.createElement("defs",null,u.createElement("linearGradient",{id:o+"-paint0_linear_apple_health",x1:8.81328,y1:4.03316,x2:8.81328,y2:14.0682,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#FF60AB"}),u.createElement("stop",{offset:1,stopColor:"#FF281B"}))))},$4=( _hh$temp1259 )=>{ var e=_hh$temp1259.title,t=_hh$temp1259.titleId,n=__rest$Object(_hh$temp1259,["title","titleId"]);  const _hh$temp1260=__arrayFrom$(u.useState("")),o=_hh$temp1260[0],s=_hh$temp1260[1]; return u.useEffect(()=>{s(Math.random().toString(36).slice(2,10))},[]),u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",id:o+"-fitbit","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{fill:"#28B0B9",d:"M11.512 3.582c.976 0 1.786-.812 1.786-1.791 0-.975-.81-1.791-1.786-1.791-.971 0-1.784.815-1.784 1.791 0 .978.812 1.791 1.784 1.791zm.002 5.206a1.839 1.839 0 0 0 1.865-1.871 1.85 1.85 0 0 0-1.871-1.872c-1.05.002-1.859.814-1.859 1.872 0 1.057.81 1.871 1.865 1.871zm-5.028 6.658v.012a1.628 1.628 0 0 0 0 3.253c.893 0 1.619-.737 1.619-1.64a1.62 1.62 0 0 0-1.619-1.625zm-.023-5.112.012.001.011-.001h-.023zm5.045 4.881c-1.05.002-1.859.814-1.859 1.87 0 1.057.81 1.872 1.865 1.872 1.053 0 1.865-.814 1.865-1.872 0-.974-.823-1.868-1.871-1.87zm-5.033-4.88c-.967.006-1.692.734-1.692 1.708 0 .978.721 1.709 1.695 1.709s1.695-.732 1.695-1.709c0-.975-.729-1.702-1.698-1.708zM11.504 5.045h.008zM11.514 10.091h-.002c-1.052 0-1.945.894-1.945 1.951s.894 1.952 1.947 1.952 1.946-.894 1.946-1.952-.894-1.951-1.946-1.951zm-.002 10.332c-.972 0-1.784.812-1.784 1.79 0 .973.813 1.787 1.784 1.787a1.8 1.8 0 0 0 1.786-1.79 1.8 1.8 0 0 0-1.786-1.787zM11.504 15.215h.008z"}),u.createElement("ellipse",{cx:16.46,cy:12.042,fill:"#28B0B9",rx:2.189,ry:2.196}),u.createElement("path",{fill:"#28B0B9",d:"M14.352 6.917c0 1.138.973 2.114 2.108 2.114s2.106-.978 2.106-2.114c0-1.139-.972-2.116-2.106-2.116v-.002c-1.136 0-2.108.98-2.108 2.118zm7.214 2.675V9.6a2.443 2.443 0 0 0-2.43 2.442c0 1.301 1.051 2.441 2.43 2.441 1.381 0 2.434-1.069 2.434-2.452-.082-1.386-1.135-2.439-2.434-2.439zm-5.106 9.609c1.135 0 2.106-.979 2.106-2.116s-.971-2.114-2.106-2.114c-1.136 0-2.108.979-2.108 2.114 0 1.139.973 2.116 2.108 2.116zM4.866 6.918c0 .894.729 1.625 1.62 1.625a1.625 1.625 0 0 0 0-3.251V5.29c-.892 0-1.62.732-1.62 1.628z"}),u.createElement("ellipse",{cx:1.46,cy:12.042,fill:"#28B0B9",rx:1.459,ry:1.464}))},q4=( _hh$temp1261 )=>{ var e=_hh$temp1261.title,t=_hh$temp1261.titleId,n=__rest$Object(_hh$temp1261,["title","titleId"]);  const _hh$temp1262=__arrayFrom$(u.useState("")),o=_hh$temp1262[0],s=_hh$temp1262[1]; return u.useEffect(()=>{s(Math.random().toString(36).slice(2,10))},[]),u.createElement("svg",{fill:"#000000",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("g",{id:o+"-SVGRepo_bgCarrier",strokeWidth:0}),u.createElement("g",{id:o+"-SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("g",{id:o+"-SVGRepo_iconCarrier"},u.createElement("title",null,"Garmin icon"),u.createElement("path",{d:"M22.017 22.67H1.984c-.77 0-1.388-.383-1.694-1.002-.387-.61-.387-1.39 0-2.002L10.304 2.33c.385-.615 1.002-1 1.695-1 .77 0 1.386.385 1.69 1l10.02 17.336c.387.617.387 1.39 0 2.002-.31.695-.927 1.002-1.693 1.002z"})))},K4= _hh$temp1263=>{var e=_hh$temp1263.title,t=_hh$temp1263.titleId,n=__rest$Object(_hh$temp1263,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M23.3686 8.63379H8.63184V23.3704H23.3686V8.63379Z",fill:"white"}),u.createElement("path",{d:"M23.3688 30.0008L30.0004 23.3695L26.6846 22.8037L23.3688 23.3695L22.7637 26.4023L23.3688 30.0008Z",fill:"#EA4335"}),u.createElement("path",{d:"M2 23.3695V27.7904C2 29.0117 2.9892 30.0008 4.2105 30.0008H8.63152L9.31239 26.6851L8.63152 23.3695L5.01863 22.8037L2 23.3695Z",fill:"#188038"}),u.createElement("path",{d:"M30.0004 8.63147V4.21049C30.0004 2.98919 29.0112 2 27.7898 2H23.3688C22.9653 3.64452 22.7637 4.85476 22.7637 5.63073C22.7637 6.40668 22.9653 7.40691 23.3688 8.63147C24.8355 9.05145 25.9407 9.26145 26.6846 9.26145C27.4284 9.26145 28.5336 9.05145 30.0004 8.63147Z",fill:"#1967D2"}),u.createElement("path",{d:"M30.0007 8.63379H23.3691V23.3704H30.0007V8.63379Z",fill:"#FBBC04"}),u.createElement("path",{d:"M23.3686 23.3662H8.63184V29.9977H23.3686V23.3662Z",fill:"#34A853"}),u.createElement("path",{d:"M23.3681 2H4.2105C2.9892 2 2 2.98919 2 4.21049V23.3681H8.63152V8.63147H23.3681V2Z",fill:"#4285F4"}),u.createElement("path",{d:"M11.6544 20.0633C11.1036 19.6912 10.7223 19.1478 10.5142 18.4293L11.7926 17.9025C11.9086 18.3446 12.1112 18.6872 12.4005 18.9304C12.6878 19.1735 13.0378 19.2933 13.4468 19.2933C13.8649 19.2933 14.2241 19.1662 14.5244 18.912C14.8247 18.6578 14.9757 18.3335 14.9757 17.9412C14.9757 17.5396 14.8173 17.2117 14.5005 16.9575C14.1836 16.7033 13.7857 16.5762 13.3105 16.5762H12.5718V15.3107H13.2349C13.6438 15.3107 13.9884 15.2002 14.2684 14.9792C14.5484 14.7581 14.6884 14.456 14.6884 14.0711C14.6884 13.7284 14.563 13.4557 14.3126 13.2513C14.062 13.0467 13.7451 12.9436 13.3601 12.9436C12.9845 12.9436 12.686 13.0432 12.4649 13.244C12.244 13.4453 12.0779 13.6994 11.9823 13.9825L10.7168 13.4557C10.8844 12.9805 11.1921 12.5605 11.6434 12.1976C12.0947 11.8347 12.6712 11.6523 13.3713 11.6523C13.8888 11.6523 14.3549 11.7518 14.7676 11.9526C15.1801 12.1534 15.5044 12.4315 15.7384 12.7852C15.9723 13.1407 16.0884 13.5386 16.0884 13.9807C16.0884 14.4321 15.9796 14.8134 15.7623 15.1265C15.5449 15.4396 15.2778 15.6792 14.9609 15.8467V15.9223C15.37 16.0909 15.7255 16.3679 15.9888 16.7235C16.2559 17.0829 16.3905 17.512 16.3905 18.0131C16.3905 18.5141 16.2634 18.9616 16.009 19.3541C15.7549 19.7464 15.403 20.056 14.9573 20.2806C14.5097 20.5053 14.0068 20.6195 13.4486 20.6195C12.802 20.6214 12.2052 20.4353 11.6544 20.0633ZM19.5073 13.7192L18.1036 14.7342L17.4017 13.6694L19.9198 11.8531H20.885V20.4206H19.5073V13.7192Z",fill:"#4285F4"}));} ,Y4= _hh$temp1264=>{var e=_hh$temp1264.title,t=_hh$temp1264.titleId,n=__rest$Object(_hh$temp1264,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M16.0038 11.0319L11.0706 2.48113C11.2344 2.31734 11.4229 2.20991 11.6113 2.1377C10.1566 2.60794 9.48907 4.21242 9.48907 4.21242L0.476883 19.8292C0.350075 20.3188 0.314848 20.7609 0.330699 21.1501H10.1671L16.0038 11.0319Z",fill:"#34A853"}),u.createElement("path",{d:"M16.0034 11.0319L21.8401 21.1501H31.6766C31.6924 20.7609 31.6572 20.3188 31.5304 19.8292L22.5182 4.21242C22.5182 4.21242 21.8489 2.60794 20.3959 2.1377C20.5826 2.20991 20.7728 2.31734 20.9366 2.48113L16.0034 11.0319Z",fill:"#FBBC05"}),u.createElement("path",{d:"M16.0035 11.0308L20.9367 2.48001C20.7729 2.31622 20.5827 2.20878 20.396 2.13657C20.1811 2.06789 19.9504 2.02209 19.7003 2.00977H19.4396H12.5674H12.3067C12.0584 2.02033 11.8259 2.06612 11.611 2.13657C11.4243 2.20878 11.2341 2.31622 11.0703 2.48001L16.0035 11.0308Z",fill:"#188038"}),u.createElement("path",{d:"M10.1687 21.1494L5.29186 29.6033C5.29186 29.6033 5.12982 29.5258 4.90967 29.3655C5.60183 29.8886 6.27462 29.9996 6.27462 29.9996H25.4279C26.4847 29.9996 26.7048 29.6033 26.7048 29.6033C26.7083 29.6015 26.7101 29.5998 26.7136 29.598L21.8403 21.1494H10.1687Z",fill:"#4285F4"}),u.createElement("path",{d:"M10.169 21.1494H0.33252C0.381834 22.2977 0.889067 22.9688 0.889067 22.9688L1.25893 23.5993C1.28534 23.6363 1.30119 23.6574 1.30119 23.6574L2.10607 25.0452L3.91309 28.1344C3.96592 28.2595 4.02757 28.374 4.09273 28.4832C4.11739 28.5201 4.14028 28.5606 4.1667 28.5959C4.17375 28.6064 4.18079 28.617 4.18784 28.6276C4.41151 28.9375 4.66161 29.1771 4.9117 29.3655C5.13186 29.5276 5.29389 29.6033 5.29389 29.6033L10.169 21.1494Z",fill:"#1967D2"}),u.createElement("path",{d:"M21.8403 21.1494H31.6768C31.6275 22.2977 31.1202 22.9688 31.1202 22.9688L30.7504 23.5993C30.7239 23.6363 30.7081 23.6574 30.7081 23.6574L29.9032 25.0452L28.0962 28.1344C28.0434 28.2595 27.9817 28.374 27.9166 28.4832C27.8919 28.5201 27.869 28.5606 27.8426 28.5959C27.8355 28.6064 27.8285 28.617 27.8214 28.6276C27.5978 28.9375 27.3477 29.1771 27.0976 29.3655C26.8774 29.5276 26.7154 29.6033 26.7154 29.6033L21.8403 21.1494Z",fill:"#EA4335"}));} ,Z4= _hh$temp1265=>{var e=_hh$temp1265.title,t=_hh$temp1265.titleId,n=__rest$Object(_hh$temp1265,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M24.251 6.70996L16.087 12.9318L7.73633 6.70996V6.71164L7.74642 6.72005V15.4322L15.9928 21.7886L24.251 15.6778V6.70996Z",fill:"#EA4335"}),u.createElement("path",{d:"M26.3955 5.19615L24.2515 6.70956V15.6774L30.9979 10.6192V7.5722C30.9979 7.5722 30.179 3.22031 26.3955 5.19615Z",fill:"#FBBC05"}),u.createElement("path",{d:"M24.2515 15.6783V27.3097H29.4223C29.4223 27.3097 30.8936 27.1617 30.9996 25.5238V10.6201L24.2515 15.6783Z",fill:"#34A853"}),u.createElement("path",{d:"M7.74642 27.3192V15.4322L7.73633 15.4238L7.74642 27.3192Z",fill:"#C5221F"}),u.createElement("path",{d:"M7.73635 6.71107L5.60413 5.20607C1.8206 3.23023 1 7.58044 1 7.58044V10.6274L7.73635 15.4233V6.71107Z",fill:"#C5221F"}),u.createElement("path",{d:"M7.73633 6.71191V15.4241L7.74642 15.4325V6.72032L7.73633 6.71191Z",fill:"#C5221F"}),u.createElement("path",{d:"M1 10.6289V25.5326C1.10426 27.1721 2.57731 27.3184 2.57731 27.3184H7.74812L7.73635 15.423L1 10.6289Z",fill:"#4285F4"}));} ,J4= _hh$temp1266=>{var e=_hh$temp1266.title,t=_hh$temp1266.titleId,n=__rest$Object(_hh$temp1266,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("circle",{cx:16,cy:16,r:10,stroke:"#4285F4",strokeWidth:3,strokeOpacity:.7,fill:"none"}),u.createElement("path",{d:"M13 14L17 18L28 7",stroke:"#4285F4",strokeWidth:3,strokeOpacity:.7,strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}));} ,Q4= _hh$temp1267=>{var e=_hh$temp1267.title,t=_hh$temp1267.titleId,n=__rest$Object(_hh$temp1267,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M13.875 0C15.2475 0 16.3789 1.03761 16.5256 2.37033L18.6562 2.37037C20.1256 2.37037 21.3125 3.5643 21.3125 5.03704V13.037H19.5312V5.03704C19.5312 4.54612 19.1371 4.14815 18.6562 4.14815L16.1357 4.14838C15.6579 4.86294 14.8435 5.33333 13.9167 5.33333H9.77778C8.85089 5.33333 8.03646 4.86289 7.55862 4.14836L5.03125 4.14815C4.55036 4.14815 4.15625 4.54612 4.15625 5.03704V13.037H2.375V5.03704C2.375 3.5643 3.56205 2.37037 5.03125 2.37037L7.15993 2.37033C7.30739 1.03671 8.43854 0 9.81111 0H13.9167H13.875ZM16.5305 2.48408L16.5368 2.66667C16.5368 2.60528 16.5346 2.5444 16.5305 2.48408ZM13.875 1.77778H9.77778C9.28689 1.77778 8.88889 2.17578 8.88889 2.66667C8.88889 3.15756 9.28689 3.55556 9.77778 3.55556H13.9167C14.4075 3.55556 14.8056 3.15756 14.8056 2.66667C14.8056 2.17578 14.4075 1.77778 13.875 1.77778ZM19.5556 17.1852H21.3333V21.037C21.3333 22.5098 20.1463 23.7037 18.6771 23.7037H5.03125C3.56205 23.7037 2.375 22.5098 2.375 21.037V17.1852H4.15625V21.037C4.15625 21.5279 4.55036 21.9259 5.03125 21.9259H18.6771C19.158 21.9259 19.5556 21.5279 19.5556 21.037V17.1852ZM10.6306 7.74916C10.5274 7.39869 10.2207 7.14697 9.85718 7.11458C9.49364 7.08219 9.14724 7.27569 8.9839 7.60244L5.67175 14.2222H0.888889C0.397995 14.2222 0 14.6202 0 15.1111C0 15.602 0.397995 16 0.888889 16H6.22222C6.55891 16 6.86671 15.8098 7.01728 15.5086L9.56139 10.4181L11.8881 18.3249C11.9913 18.6754 12.298 18.927 12.6616 18.9594C13.0251 18.9918 13.3715 18.7984 13.5348 18.4716L15.7746 13.9939L16.7193 15.5685C16.8799 15.8362 17.1694 16 17.4815 16H22.8148C23.3057 16 23.7037 15.602 23.7037 15.1111C23.7037 14.6202 23.3057 14.2222 22.8148 14.2222H17.9848L16.4659 11.6907C16.2991 11.4126 15.9938 11.2474 15.6696 11.2599C15.3454 11.2723 15.0537 11.4605 14.9086 11.7506L12.9545 15.6558L10.6306 7.74916Z"}));} ,X4= _hh$temp1268=>{var e=_hh$temp1268.title,t=_hh$temp1268.titleId,n=__rest$Object(_hh$temp1268,["title","titleId"]);return u.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-labelledby":t,...n},e===void 0?u.createElement("title",{id:t},"Oura-o SVG Icon"):e?u.createElement("title",{id:t},e):null,u.createElement("path",{fill:"currentColor",d:"M7.885 2h8.226v1.775H7.885ZM12 5.549a8.226 8.226 0 1 0 8.226 8.225A8.226 8.226 0 0 0 12 5.549m0 14.677a6.452 6.452 0 1 1 6.452-6.452A6.452 6.452 0 0 1 12 20.226"}));} ,cye=P(null),Xp=new Map,ef="confirmation_failed",lye=3e3,uye=e=>{switch(e){case"google-drive":return{title:U("connector.googleDrive.title"),icon:Y4};case"google-calendar":return{title:U("connector.googleCalendar.title"),icon:K4};case"gmail":return{title:U("connector.googleMail.title"),icon:Z4};case"google-contacts":return{title:U("connector.googleContacts.title"),icon:dl};case"google-tasks":return{title:U("connector.googleTasks.title"),icon:J4};case"fitbit":return{title:U("connector.fitbit.title"),icon:$4};case"oura":return{title:U("connector.oura.title"),icon:X4};case"garmin":return{title:U("connector.garmin.title"),icon:q4};case"health-ex":return{title:U("connector.healthEx.title"),icon:Q4};case"apple-health":return{title:U("connector.appleHealth.title"),icon:W4};default:return{title:"",icon:null}}};function dye(e){return gg.includes(e)}const Lh=e=>!!(e&&e!=="unknown"&&dye(e)),mye=async(e,t)=>{const n=`${e}-${t}`;if(Xp.has(n))return null;const o=Nt({path:"/connections/confirm",args:{body:{code:e,state:t}}}).finally(()=>{Xp.delete(n)});return Xp.set(n,o),o},e6=(e,t)=>{ const _hh$temp1269=uye(t),n=_hh$temp1269.title,o=_hh$temp1269.icon; if(!o||!n)return;_e().set(Ct,{Icon:o,iconClassName:"size-10 shrink-0",intent:e?"info":"error",title:e?U("connector.connectSuccessTitle"):U("connector.connectUnsuccessfulTitle"),subtitle:e?U("connector.connectSuccessSubtitle",{title:n}):U("connector.connectUnsuccessfulSubtitle",{title:n}),dismissAfter:lye})},t2=e=>(iye(e??"unknown"),hd.invalidateQueries({queryKey:[Sh]}),e6(!0,e),{insufficientScopes:!1,invalidConnector:!Lh(e)}),Ql=(e,t)=>(rye(e??"unknown",t),(t==="insufficient_scopes"||t==="insufficient-scopes")&&e?(_e().set(cye,{type:e}),{insufficientScopes:!0,invalidConnector:!Lh(e)}):(e6(!1,e),{insufficientScopes:!1,invalidConnector:!Lh(e)})),pye=async( _hh$temp1270 )=>{ var e=_hh$temp1270.connectorType,t=_hh$temp1270.error,n=_hh$temp1270.state,o=_hh$temp1270.code; const s=!t;if(n&&o)try{const r=await mye(o,n);if(!r)return{insufficientScopes:!1,invalidConnector:!1};const c=r;if(!c.ok){if(c.status===400){const d=await c.json();return Ql(e,d.errorCode??ef)}return Ql(e,ef)}return lo("processedConnectorCode",o),t2(e)}catch(r){return Ql(e,r instanceof Error?r.message:ef)}return s?t2(e):Ql(e,t)},n2=()=>{const e=Xt("connectorConsentFlowStartUrl");kn({to:e??"/",from: __get$(__get$(window,"location"),"href") })},R7e=async( _hh$temp1271 )=>{ var e=_hh$temp1271.connectorType,t=_hh$temp1271.error,n=_hh$temp1271.state,o=_hh$temp1271.code; if(o&&Xt("processedConnectorCode")===o){n2();return} const _hh$temp1272=await pye({connectorType:e,error:t,state:n,code:o}),s=_hh$temp1272.insufficientScopes,a=_hh$temp1272.invalidConnector; if(!s){if(a){await kn({to:"/",from: __get$(__get$(window,"location"),"href") });return}window.setTimeout(n2,500)}},tf={"one-drive":["settings","composer-default","consent-card"],outlook:["settings","composer-default","consent-card"],"edge-browser":["settings","composer-default","consent-card"],"google-drive":["settings","composer-default","consent-card"],"google-calendar":["settings","composer-default","consent-card"],gmail:["settings","composer-default","consent-card"],"google-contacts":["settings","composer-default","consent-card"],fitbit:["settings-health-section","composer-health-space"],oura:["settings-health-section","composer-health-space"],garmin:["settings-health-section","composer-health-space"],"health-ex":["settings-health-section","composer-health-space","consent-card"],"apple-health":["settings-health-section","composer-health-space"]},Xl=e=>Object.keys(tf).filter(t=>t in tf).filter(t=> __get$(tf,t) ?.includes(e)),N7e=async(e,t)=>{const n=`${ __get$(window,"location") .origin}/connector/callback?connectorType=${e}`;return{loginUrl:(await ut("/connections",zW,{options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({redirectUrl:n,type:e,...t&&t.length>0&&{scopes:t}})}})).data.loginUrl,redirectUrl:n}},fye=( _hh$temp1273 )=>{ var e=_hh$temp1273.title,t=_hh$temp1273.titleId,n=__rest$Object(_hh$temp1273,["title","titleId"]);  const _hh$temp1274=__arrayFrom$(u.useState("")),o=_hh$temp1274[0],s=_hh$temp1274[1]; return u.useEffect(()=>{s(Math.random().toString(36).slice(2,10))},[]),u.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M20.051 16.8869C19.7881 17.0247 19.5135 17.148 19.2281 17.2552C18.3702 17.5775 17.4227 17.7602 16.4233 17.7602C12.7264 17.7602 9.50588 15.2171 9.50588 11.9537C9.50588 11.0361 10.0368 10.2407 10.7892 9.82178C7.44572 9.96193 6.58623 13.4468 6.58623 15.4882C6.58623 21.2596 11.9057 21.8453 13.052 21.8453C13.6696 21.8453 14.602 21.6654 15.1637 21.4892C15.198 21.4778 15.2321 21.4663 15.2661 21.4545C17.4348 20.7066 19.2653 19.2352 20.4685 17.328C20.641 17.0544 20.3375 16.7367 20.051 16.8869Z",fill:`url(#${o}-paint0_linear_11766_2366)`}),u.createElement("path",{d:"M10.2588 20.8619C9.56389 20.4312 8.96067 19.8633 8.48255 19.192C7.7427 18.1532 7.30039 16.8755 7.30039 15.4882C7.30039 13.4468 8.25099 11.6386 9.71629 10.4929C10.0491 10.2328 10.4752 9.97036 10.7892 9.82176C11.0329 9.70633 11.4499 9.49851 12.0036 9.50636C12.9218 9.51937 13.6154 9.98746 14.0103 10.519C14.3137 10.9275 14.5008 11.4307 14.507 11.9769C14.5072 11.9605 16.4183 5.75781 8.25313 5.75781C4.82396 5.75781 2 9.01327 2 11.8684C2 13.6795 2.42026 15.1255 2.94646 16.246C4.1184 18.7422 6.29164 20.6741 8.95009 21.5252C9.91281 21.8335 10.9384 22.0015 12.0036 22.0015C13.1084 22.0015 14.1701 21.8198 15.1637 21.4892C14.602 21.6654 14.0064 21.7619 13.3888 21.7619C12.2426 21.7619 11.1742 21.4295 10.2588 20.8619Z",fill:`url(#${o}-paint1_linear_11766_2366)`}),u.createElement("path",{d:"M13.9001 13.6309C13.8369 13.7129 13.6421 13.8261 13.6421 14.0734C13.6421 14.2769 13.7749 14.4732 14.0109 14.638C15.1345 15.422 17.2521 15.3164 17.2578 15.3164C18.132 15.3134 18.9184 15.073 19.6229 14.6611C19.9433 14.4737 20.24 14.2512 20.5074 13.997C21.4251 13.1249 21.9847 11.8959 22.0002 10.5303C22.0201 8.77913 21.3783 7.61489 21.1145 7.09937C19.4589 3.86354 15.8849 2.00134 11.9989 2.00134C6.52112 2.00134 2.07446 6.40343 2.00096 11.8608C2.03809 9.0059 4.87549 6.7005 8.24835 6.7005C8.52183 6.7005 10.0814 6.72717 11.53 7.4875C12.8061 8.15725 13.4752 8.96655 13.9402 9.76937C14.4231 10.603 14.509 11.6558 14.509 12.0756C14.509 12.4954 14.2973 13.1168 13.9001 13.6309Z",fill:`url(#${o}-paint2_linear_11766_2366)`}),u.createElement("defs",null,u.createElement("linearGradient",{id:o+"-paint0_linear_11766_2366",x1:6.58623,y1:15.8336,x2:20.5188,y2:15.8336,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#094987"}),u.createElement("stop",{offset:.245021,stopColor:"#0C59A4"}),u.createElement("stop",{offset:1,stopColor:"#114A8B"})),u.createElement("linearGradient",{id:o+"-paint1_linear_11766_2366",x1:8,y1:5.99998,x2:5.22878,y2:19.2687,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#117FBA"}),u.createElement("stop",{offset:.223416,stopColor:"#1797E0"}),u.createElement("stop",{offset:.947917,stopColor:"#0078D4"})),u.createElement("linearGradient",{id:o+"-paint2_linear_11766_2366",x1:22,y1:10,x2:8,y2:5.50003,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#48D566"}),u.createElement("stop",{offset:1,stopColor:"#35C1F1"}))))},hye=( _hh$temp1275 )=>{ var e=_hh$temp1275.title,t=_hh$temp1275.titleId,n=__rest$Object(_hh$temp1275,["title","titleId"]);  const _hh$temp1276=__arrayFrom$(u.useState("")),o=_hh$temp1276[0],s=_hh$temp1276[1]; return u.useEffect(()=>{s(Math.random().toString(36).slice(2,10))},[]),u.createElement("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M21.0063 5.41416L4.42759 15.9228L3.00183 13.6735V11.7353C3.00183 11.0297 3.35909 10.372 3.95105 9.98784L13.5882 3.73443C15.0565 2.78169 16.9478 2.78155 18.4162 3.73406L21.0063 5.41416Z",fill:`url(#${o}-paint0_linear_105551_397)`}),u.createElement("path",{d:"M18.2683 3.64233C18.3181 3.67198 18.3676 3.70268 18.4165 3.73444L25.9378 8.61321L7.28914 20.4339L4.42749 15.9193L18.1138 7.22729C19.4101 6.40398 19.4669 4.55187 18.2683 3.64233Z",fill:`url(#${o}-paint1_linear_105551_397)`}),u.createElement("path",{d:"M18.2683 3.64233C18.3181 3.67198 18.3676 3.70268 18.4165 3.73444L25.9378 8.61321L7.28914 20.4339L4.42749 15.9193L18.1138 7.22729C19.4101 6.40398 19.4669 4.55187 18.2683 3.64233Z",fill:`url(#${o}-paint2_linear_105551_397)`,fillOpacity:.2}),u.createElement("path",{d:"M14.7293 22.6909L7.28894 20.4338L23.1079 10.4064C24.4401 9.5619 24.4367 7.61694 23.1014 6.77722L23.0302 6.73242L23.2353 6.86006L28.0498 9.98306C28.6419 10.3672 28.9993 11.0249 28.9993 11.7307V13.6066L14.7293 22.6909Z",fill:`url(#${o}-paint3_linear_105551_397)`}),u.createElement("path",{d:"M14.7293 22.6909L7.28894 20.4338L23.1079 10.4064C24.4401 9.5619 24.4367 7.61694 23.1014 6.77722L23.0302 6.73242L23.2353 6.86006L28.0498 9.98306C28.6419 10.3672 28.9993 11.0249 28.9993 11.7307V13.6066L14.7293 22.6909Z",fill:`url(#${o}-paint4_linear_105551_397)`,fillOpacity:.2}),u.createElement("path",{d:"M18.4162 3.73406C16.9478 2.78155 15.0565 2.78169 13.5882 3.73443L3.95105 9.98784C3.35909 10.372 3.00183 11.0297 3.00183 11.7353V11.8301C3.02507 12.5385 3.39786 13.1914 3.99995 13.571L15.9829 21.1256L27.996 13.5825C28.6198 13.1907 28.9985 12.5058 28.9985 11.7691V13.6068L28.9988 11.7307C28.9988 11.025 28.6414 10.3672 28.0493 9.98309L18.4162 3.73406Z",fill:`url(#${o}-paint5_radial_105551_397)`}),u.createElement("path",{d:"M13.8709 29.0012H24.4983C26.9836 29.0012 28.9983 26.9865 28.9983 24.5012L28.9983 11.6782C28.9983 12.4715 28.5905 13.2092 27.9186 13.631L12.2086 23.4955C11.357 24.0302 10.8401 24.9652 10.8402 25.9707C10.8404 27.6444 12.1972 29.0012 13.8709 29.0012Z",fill:`url(#${o}-paint6_linear_105551_397)`}),u.createElement("path",{d:"M13.8709 29.0012H24.4983C26.9836 29.0012 28.9983 26.9865 28.9983 24.5012L28.9983 11.6782C28.9983 12.4715 28.5905 13.2092 27.9186 13.631L12.2086 23.4955C11.357 24.0302 10.8401 24.9652 10.8402 25.9707C10.8404 27.6444 12.1972 29.0012 13.8709 29.0012Z",fill:`url(#${o}-paint7_radial_105551_397)`,fillOpacity:.4}),u.createElement("path",{d:"M13.8709 29.0012H24.4983C26.9836 29.0012 28.9983 26.9865 28.9983 24.5012L28.9983 11.6782C28.9983 12.4715 28.5905 13.2092 27.9186 13.631L12.2086 23.4955C11.357 24.0302 10.8401 24.9652 10.8402 25.9707C10.8404 27.6444 12.1972 29.0012 13.8709 29.0012Z",fill:`url(#${o}-paint8_radial_105551_397)`,fillOpacity:.5}),u.createElement("path",{d:"M18.1862 29.0003H7.5004C5.01512 29.0003 3.0004 26.9856 3.0004 24.5003V11.7129C3.0004 12.4774 3.3927 13.1885 4.03946 13.5963L19.7712 23.5142C20.6346 24.0586 21.1583 25.0079 21.1582 26.0286C21.158 27.6699 19.8274 29.0003 18.1862 29.0003Z",fill:`url(#${o}-paint9_radial_105551_397)`}),u.createElement("path",{d:"M18.1862 29.0003H7.5004C5.01512 29.0003 3.0004 26.9856 3.0004 24.5003V11.7129C3.0004 12.4774 3.3927 13.1885 4.03946 13.5963L19.7712 23.5142C20.6346 24.0586 21.1583 25.0079 21.1582 26.0286C21.158 27.6699 19.8274 29.0003 18.1862 29.0003Z",fill:`url(#${o}-paint10_linear_105551_397)`}),u.createElement("rect",{x:2,y:14,width:12,height:12,rx:2.75,fill:`url(#${o}-paint11_radial_105551_397)`}),u.createElement("rect",{x:2,y:14,width:12,height:12,rx:2.75,fill:`url(#${o}-paint12_radial_105551_397)`,fillOpacity:.5}),u.createElement("path",{d:"M7.96826 23.3589C7.0318 23.3589 6.263 23.0568 5.66185 22.4526C5.0607 21.8485 4.76013 21.06 4.76013 20.0873C4.76013 19.0602 5.06524 18.2295 5.67544 17.5951C6.28565 16.9607 7.08466 16.6436 8.07248 16.6436C9.00591 16.6436 9.76565 16.9471 10.3517 17.5543C10.9408 18.1615 11.2353 18.962 11.2353 19.9559C11.2353 20.9769 10.9302 21.8001 10.32 22.4254C9.71279 23.0477 8.92888 23.3589 7.96826 23.3589ZM7.99544 22.0765C8.50597 22.0765 8.9168 21.8968 9.22794 21.5373C9.53909 21.1778 9.69466 20.6779 9.69466 20.0375C9.69466 19.3699 9.54362 18.8503 9.24154 18.4787C8.93945 18.1071 8.53617 17.9214 8.03169 17.9214C7.51211 17.9214 7.09373 18.1132 6.77654 18.4968C6.45935 18.8775 6.30076 19.3819 6.30076 20.0103C6.30076 20.6477 6.45935 21.1521 6.77654 21.5237C7.09373 21.8923 7.50003 22.0765 7.99544 22.0765Z",fill:"white"}),u.createElement("defs",null,u.createElement("linearGradient",{id:o+"-paint0_linear_105551_397",x1:5.88149,y1:14.8183,x2:21.0063,y2:5.43718,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#20A7FA"}),u.createElement("stop",{offset:.4,stopColor:"#3BD5FF"}),u.createElement("stop",{offset:1,stopColor:"#C4B0FF"})),u.createElement("linearGradient",{id:o+"-paint1_linear_105551_397",x1:11.0876,y1:18.0175,x2:19.5075,y2:4.53529,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#165AD9"}),u.createElement("stop",{offset:.5008,stopColor:"#1880E5"}),u.createElement("stop",{offset:1,stopColor:"#8587FF"})),u.createElement("linearGradient",{id:o+"-paint2_linear_105551_397",x1:17.2286,y1:18.2009,x2:7.88049,y2:10.584,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{offset:.236946,stopColor:"#448AFF",stopOpacity:0}),u.createElement("stop",{offset:.792113,stopColor:"#0032B1"})),u.createElement("linearGradient",{id:o+"-paint3_linear_105551_397",x1:16.0387,y1:21.1339,x2:30.8121,y2:11.6789,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#1A43A6"}),u.createElement("stop",{offset:.492267,stopColor:"#2052CB"}),u.createElement("stop",{offset:1,stopColor:"#5F20CB"})),u.createElement("linearGradient",{id:o+"-paint4_linear_105551_397",x1:20.2091,y1:20.5687,x2:11.2319,y2:12.8005,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#0045B9",stopOpacity:0}),u.createElement("stop",{offset:.669859,stopColor:"#0D1F69"})),u.createElement("radialGradient",{id:o+"-paint5_radial_105551_397",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(16.0012 3.59051) rotate(-90) scale(19.5009 21.1067)"},u.createElement("stop",{offset:.568182,stopColor:"#275FF0",stopOpacity:0}),u.createElement("stop",{offset:.992424,stopColor:"#002177"})),u.createElement("linearGradient",{id:o+"-paint6_linear_105551_397",x1:28.9983,y1:20.2914,x2:15.8933,y2:20.2914,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{stopColor:"#4DC4FF"}),u.createElement("stop",{offset:.196145,stopColor:"#0FAFFF"})),u.createElement("radialGradient",{id:o+"-paint7_radial_105551_397",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.9562 26.0462) rotate(-45) scale(8.35708)"},u.createElement("stop",{offset:.259477,stopColor:"#0060D1"}),u.createElement("stop",{offset:.908166,stopColor:"#0383F1",stopOpacity:0})),u.createElement("radialGradient",{id:o+"-paint8_radial_105551_397",cx:0,cy:0,r:1,gradientTransform:"matrix(17.2076 -22.5536 15.8577 21.5059 6.34585 32.2282)",gradientUnits:"userSpaceOnUse"},u.createElement("stop",{offset:.732317,stopColor:"#F4A7F7",stopOpacity:0}),u.createElement("stop",{offset:1,stopColor:"#F4A7F7"})),u.createElement("radialGradient",{id:o+"-paint9_radial_105551_397",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(12.0794 18.5501) rotate(123.339) scale(14.9678 38.8433)"},u.createElement("stop",{stopColor:"#49DEFF"}),u.createElement("stop",{offset:.724349,stopColor:"#29C3FF"})),u.createElement("linearGradient",{id:o+"-paint10_linear_105551_397",x1:1.16485,y1:26.0177,x2:13.7825,y2:26.0086,gradientUnits:"userSpaceOnUse"},u.createElement("stop",{offset:.205882,stopColor:"#6CE0FF"}),u.createElement("stop",{offset:.535,stopColor:"#50D5FF",stopOpacity:0})),u.createElement("radialGradient",{id:o+"-paint11_radial_105551_397",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(1.95718 14.4615) rotate(46.9242) scale(15.7964)"},u.createElement("stop",{offset:.038877,stopColor:"#0091FF"}),u.createElement("stop",{offset:.919119,stopColor:"#183DAD"})),u.createElement("radialGradient",{id:o+"-paint12_radial_105551_397",cx:0,cy:0,r:1,gradientUnits:"userSpaceOnUse",gradientTransform:"translate(8 21.3079) rotate(90) scale(8.4 9.68913)"},u.createElement("stop",{offset:.557796,stopColor:"#0FA5F7",stopOpacity:0}),u.createElement("stop",{offset:1,stopColor:"#74C6FF"}))))},gye={outlook:{"./outlook.readonly":"connector.scopes.outlook.readonly","./outlook.write":"connector.scopes.outlook.write"},"one-drive":{"./onedrive.readonly":"connector.scopes.oneDrive.readonly"},"google-calendar":{"https://www.googleapis.com/auth/calendar":"connector.scopes.googleCalendar.calendar","https://www.googleapis.com/auth/calendar.events.readonly":"connector.scopes.googleCalendar.calendarEventsReadonly","https://www.googleapis.com/auth/calendar.readonly":"connector.scopes.googleCalendar.calendarReadonly"},gmail:{"https://www.googleapis.com/auth/gmail.send":"connector.scopes.gmail.gmailSend","https://www.googleapis.com/auth/gmail.readonly":"connector.scopes.gmail.gmailReadonly","https://www.googleapis.com/auth/gmail.compose":"connector.scopes.gmail.gmailCompose"},"google-contacts":{"https://www.googleapis.com/auth/contacts.readonly":"connector.scopes.googleContacts.contactsReadonly"},"google-tasks":{"https://www.googleapis.com/auth/tasks":"connector.scopes.googleTasks.tasks","https://www.googleapis.com/auth/tasks.readonly":"connector.scopes.googleTasks.tasksReadonly"},"google-drive":{"https://www.googleapis.com/auth/drive.readonly":"connector.scopes.googleDrive.driveReadonly"}};function Cl(){ const e=M(Fr),t=q(Fr),n=q(iq),_hh$temp1277=Y(),o=_hh$temp1277.t,s=zh(),a=M4(),r=W("connector-dynamic-scope"),c=W("connector-metadata"),d=u.useCallback(w=>{const _=kr.getCachedConnectorMetadataByConnectorType(w);if(!_)return null;const _hh$temp1278=_,N=_hh$temp1278.iconUrl,L=_hh$temp1278.title;return{type:w,title:L,description:_.shortDescription??"",details:_.longDescription??"",websiteLink:_.websiteUrl,privacyLink:_.privacyPolicyUrl,developer:_.developer,category:_.category,IconComponent:_hh$temp1279=>{var B=_hh$temp1279.className;return i.jsx("img",{src:N,alt:L,className:B});}};},[]),m=u.useCallback(w=>{switch(w){case"google-drive":return{type:"google-drive",title:o("connector.googleDrive.title"),description:o("connector.googleDrive.description"),details:o("connector.googleDrive.details"),websiteLink:"https://drive.google.com",privacyLink:jt,developer:o("connector.developerMicrosoft"),category:o("connector.productivity"),IconComponent:Y4};case"one-drive":return{type:"one-drive",title:o("connector.oneDrive.title"),description:o("connector.oneDrive.description"),details:o("connector.oneDrive.details"),websiteLink:"https://onedrive.com",privacyLink:jt,developer:o("connector.developerMicrosoft"),category:o("connector.productivity"),IconComponent:V4};case"outlook":return{type:"outlook",title:o("outlook.title"),description:o("outlook.description"),details:o("connector.outlook.details"),websiteLink:"https://outlook.com",privacyLink:jt,developer:o("connector.developerMicrosoft"),category:o("connector.productivity"),IconComponent:hye};case"google-calendar":return{type:"google-calendar",title:o("connector.googleCalendar.title"),description:o("connector.googleCalendar.description"),details:o("connector.googleCalendar.details"),websiteLink:"https://calendar.google.com",privacyLink:jt,developer:o("connector.developerMicrosoft"),category:o("connector.productivity"),IconComponent:K4};case"gmail":return{type:"gmail",title:o("connector.googleMail.title"),description:o("connector.googleMail.description"),details:o("connector.googleMail.details"),websiteLink:"https://mail.google.com",privacyLink:jt,developer:o("connector.developerMicrosoft"),category:o("connector.productivity"),IconComponent:Z4};case"google-contacts":return{type:"google-contacts",title:o("connector.googleContacts.title"),description:o("connector.googleContacts.description"),details:o("connector.googleContacts.details"),websiteLink:"https://contacts.google.com",privacyLink:jt,developer:o("connector.developerMicrosoft"),category:o("connector.productivity"),IconComponent:dl};case"google-tasks":return{type:"google-tasks",title:o("connector.googleTasks.title"),description:o("connector.googleTasks.description"),details:o("connector.googleTasks.details"),websiteLink:"https://tasks.google.com",privacyLink:jt,developer:o("connector.developerMicrosoft"),category:o("connector.productivity"),IconComponent:J4};case"edge-browser":return{type:"edge-browser",title:o("connector.edgeBrowser.title"),description:o("connector.edgeBrowser.description"),details:o("connector.edgeBrowser.details"),websiteLink:"https://microsoft.com/edge",privacyLink:jt,developer:o("connector.developerMicrosoft"),category:o("connector.productivity"),IconComponent:fye};case"fitbit":return{type:"fitbit",title:o("connector.fitbit.title"),description:o("connector.fitbit.description"),details:o("connector.fitbit.details"),websiteLink:"https://fitbit.com",privacyLink:jt,developer:o("connector.developerMicrosoft"),category:o("sidebar.health.title"),IconComponent:$4};case"oura":return{type:"oura",title:o("connector.oura.title"),description:o("connector.oura.description"),details:o("connector.oura.details"),websiteLink:"https://ouraring.com",privacyLink:jt,developer:o("connector.developerMicrosoft"),category:o("sidebar.health.title"),IconComponent:X4};case"garmin":return{type:"garmin",title:o("connector.garmin.title"),description:o("connector.garmin.description"),details:o("connector.garmin.details"),websiteLink:"https://garmin.com",privacyLink:jt,developer:o("connector.developerMicrosoft"),category:o("sidebar.health.title"),IconComponent:q4};case"health-ex":return{type:"health-ex",title:o("connector.healthEx.title"),description:o("connector.healthEx.description"),details:o("connector.healthEx.details"),websiteLink:"https://www.healthex.io/",privacyLink:jt,developer:o("connector.developerMicrosoft"),category:o("sidebar.health.title"),IconComponent:Q4};case"apple-health":return{type:"apple-health",title:o("connector.appleHealth.title"),description:o("connector.appleHealth.description"),details:o("connector.appleHealth.details"),websiteLink:"https://www.apple.com/health/",privacyLink:jt,developer:o("connector.developerMicrosoft"),category:o("sidebar.health.title"),IconComponent:W4};default:return null;}},[o]),p=u.useCallback(w=>{if(c){const _=d(w);if(_)return _;}return m(w);},[c,d,m]),h=u.useCallback(w=>{if(!w)return null;const _=e.find(L=>L.type===w);if(!_)return null;const N=p(w);return N?{id:_.id,status:_.status,scopes:_.scopes,...N}:null;},[e,p]),v=u.useCallback((w,_)=>{if(!w)return null;if(c){const B=(kr.getCachedConnectorMetadataByConnectorType(w)?.scopes?.find(F=>F.name===_));if(B)return B.description;}const N=(__get$(__get$(gye,w),_,true));return N?o(N):null;},[c,o]),y=(w,_,N)=>{const L=p(w);n({type:w,title:L?.title,IconComponent:L?.IconComponent,visible:!0,startSource:_,scopes:r?N:void 0});},C=async w=>{if(!w)return;const _=await Nt({path:`/connections/${w}`,args:{options:{method:"DELETE"},body:{}}});(_.ok&&_.status===204)&&(t(e.map(N=>N.id===w?{...N,status:"disconnected"}:N)),await s.invalidateQueries({queryKey:[Sh]}));},S=async (w,_)=>{const N=e.find(F=>F.id===w);if(!w||!N)return;const L=F=>{t(K=>K.map(G=>G.id===w?{...G,status:F}:G));};L(_),(await Nt({path:`/connections/${w}/${_==="ready"?"enable":"disable"}`,args:{options:{method:"POST"},body:{connectionStatus:_}}})).ok?await s.invalidateQueries({queryKey:[Sh]}):L(N.status);},b=u.useCallback(w=>{const _=Xl(w||"composer-default");return e.filter(L=>L.status==="ready"&&_.includes(L.type)).length;},[e]),I=u.useCallback(w=>w==="one-drive"||w==="outlook"||w==="edge-browser",[]),x=u.useCallback(w=>w==="apple-health",[]),E=(w,_)=>{const N=w.status==="ready"||w.status==="disabled",L=_.status==="ready"||_.status==="disabled";return N&&!L?-1:!N&&L?1:0;},k=u.useCallback(w=>{const _=Xl(w||"composer-default"),N=e.filter(G=>_.includes(G.type)),L=[],B=[];for(const G of N)I(G.type)?L.push(G):B.push(G);B.sort(E);const F=B.filter(G=>G.status==="ready"||G.status==="disabled");F.unshift(...L);const K=B.filter(G=>G.status==="disconnected"||G.status==="sign-in-required");return[F,K];},[e,I]); return{isConnectorsAvailable:a,getConnectorAppInfo:h,getSortedConnectors:k,isFirstParty:I,isDeviceBasedConnector:x,handleConnect:y,handleDisconnect:C,handleToggle:S,getAvailableConnectorsCount:b,getConnectorAccessLabel:v}}function vye( _hh$temp1280 ){ var e=_hh$temp1280.connectorType,t=_hh$temp1280.triggerSource,n=_hh$temp1280.isModal;  const _hh$temp1281=gs(),o=_hh$temp1281.pushPage,s=q(pT),_hh$temp1282=Cl(),a=_hh$temp1282.getConnectorAppInfo,r=_hh$temp1282.handleToggle,_hh$temp1283=a(e)??{},c=_hh$temp1283.id,d=_hh$temp1283.status,m=_hh$temp1283.title,p=_hh$temp1283.IconComponent,h=_hh$temp1283.description,v=t==="composer"; return u.useEffect(()=>{G4(e,d??"unavailable",v?"composer":"settingsConnectorList")},[e,d,v]),!d||!m||!p||!h?null:i.jsx(z4,{isInComposer:v,IconComponent:p,title:m,description:h,showToggle:d==="disconnected"||d==="ready"||d==="disabled",isToggleOn:d==="ready",showConnect:!1,isDisConnected:!1,onClickConnect:()=>{},onClickToggle:()=>{Xi(e,d,v?"composer":"settingsConnectorList",d==="ready"?"toggleOff":"toggleOn"),r(c,d==="ready"?"disabled":"ready")},onClickMore:()=>{s(e),Xi(e,d,"settingsConnectorList","goToDetail"),o("connector-detail")},isModal:n})}function yye( _hh$temp1284 ){ var e=_hh$temp1284.connectorType,t=_hh$temp1284.triggerSource,n=_hh$temp1284.closePage,o=_hh$temp1284.isModal;  const _hh$temp1285=gs(),s=_hh$temp1285.pushPage,a=_hh$temp1285.closeSettings,r=q(pT),_hh$temp1286=Cl(),c=_hh$temp1286.getConnectorAppInfo,d=_hh$temp1286.handleConnect,m=_hh$temp1286.handleToggle,p=_hh$temp1286.isDeviceBasedConnector,h=c(e),_hh$temp1287=h??{},v=_hh$temp1287.id,y=_hh$temp1287.status,C=_hh$temp1287.title,S=_hh$temp1287.IconComponent,b=_hh$temp1287.description,I=_hh$temp1287.scopes,x=t==="composer",E=u.useRef(null),k=rg(E,{amount:"all",once:!0}); u.useEffect(()=>{k&&G4(e,y??"unavailable",x?"composer":"settingsConnectorList")},[e,y,x,k]);const w=u.useCallback(L=>{const B=I?.map(F=>F.name);d(e,x?"composer":"settingsConnectorList",B),Xi(e,y,x?"composer":"settingsConnectorList","connect"),a(),n?.(L)},[e,y,I,d,a,n,x]),_=u.useCallback(()=>{Xi(e,y,x?"composer":"settingsConnectorList",y==="ready"?"toggleOff":"toggleOn"),m(v,y==="ready"?"disabled":"ready")},[e,y,m,v,x]),N=u.useCallback(()=>{r(e),Xi(e,y,x?"composer":"settingsConnectorList","goToDetail"),s("connector-detail")},[e,y,s,r,x]);return!y||!C||!S||!b?null:i.jsx("div",{ref:E,children:i.jsx(z4,{isInComposer:x,IconComponent:S,title:C,description:b,showToggle:y==="ready"||y==="disabled",isToggleOn:y==="ready",showConnect:y==="disconnected"||y==="sign-in-required",isDisConnected:y==="disconnected",onClickConnect:w,onClickToggle:_,onClickMore:N,isModal:o,isDeviceBasedConnector:p(e)})})}const Cye={default:"border-black/10 dark:border-white/10",weak:"border-black/5 dark:border-white/5",accent:"border-stroke-300"},Uo=u.forwardRef((e,t)=>{ const _hh$temp1288=e,_hh$temp1288$horizontalMargin=_hh$temp1288.horizontalMargin,n=_hh$temp1288$horizontalMargin===void 0?!0:_hh$temp1288$horizontalMargin,_hh$temp1288$verticalMargin=_hh$temp1288.verticalMargin,o=_hh$temp1288$verticalMargin===void 0?!0:_hh$temp1288$verticalMargin,_hh$temp1288$color=_hh$temp1288.color,s=_hh$temp1288$color===void 0?"default":_hh$temp1288$color,a=_hh$temp1288.className,r=_hh$temp1288.style,_hh$temp1288$vertical=_hh$temp1288.vertical,c=_hh$temp1288$vertical===void 0?!1:_hh$temp1288$vertical; return i.jsx("div",{ref:t,className:O(c?"border-s-[1px]":"border-t-[1px]",n&&"mx-2",o&&"my-2", __get$(Cye,s) ,a),style:r})});Uo.displayName="Divider";function Sye( _hh$temp1289 ){ var e=_hh$temp1289.section,t=_hh$temp1289.triggerSource,n=_hh$temp1289.closePage,_hh$temp1289$isModal=_hh$temp1289.isModal,o=_hh$temp1289$isModal===void 0?!1:_hh$temp1289$isModal,s=_hh$temp1289.header;  const _hh$temp1290=Cl(),a=_hh$temp1290.getSortedConnectors,r=_hh$temp1290.isFirstParty,c=t==="composer",_hh$temp1291=__arrayFrom$(a(e)),d=_hh$temp1291[0],m=_hh$temp1291[1]; if([...d,...m].length===0)return null;const h=v=>r(v.type)?i.jsx(vye,{connectorType:v.type,triggerSource:t,isModal:o},v.type):i.jsx(yye,{connectorType:v.type,triggerSource:t,closePage:n,isModal:o},v.type);return i.jsxs("div",{children:[s&&i.jsxs("div",{children:[i.jsxs("div",{className:"px-2 pb-2.5 pt-4",children:[i.jsx("h3",{className:"text-foreground-800 text-md",children:s.title}),i.jsx("div",{className:"text-foreground-700 text-xs",children:s.description})]}),i.jsx(Uo,{className:"my-2",horizontalMargin:!1,color:"default"})]}),d.map(h),d.length>0&&m.length>0&&i.jsx(Uo,{className:c?"mx-2 my-1":"my-2",horizontalMargin:!1,color:"default"}),m.map(h)]})}const Sv= _hh$temp1292=>{var e=_hh$temp1292.title,t=_hh$temp1292.titleId,n=__rest$Object(_hh$temp1292,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M6.25 10C6.25 10.6904 5.69036 11.25 5 11.25C4.30964 11.25 3.75 10.6904 3.75 10C3.75 9.30964 4.30964 8.75 5 8.75C5.69036 8.75 6.25 9.30964 6.25 10ZM11.25 10C11.25 10.6904 10.6904 11.25 10 11.25C9.30964 11.25 8.75 10.6904 8.75 10C8.75 9.30964 9.30964 8.75 10 8.75C10.6904 8.75 11.25 9.30964 11.25 10ZM15 11.25C15.6904 11.25 16.25 10.6904 16.25 10C16.25 9.30964 15.6904 8.75 15 8.75C14.3096 8.75 13.75 9.30964 13.75 10C13.75 10.6904 14.3096 11.25 15 11.25Z"}));} ,L7e=Object.freeze(Object.defineProperty({__proto__:null,default:Sv},Symbol.toStringTag,{value:"Module"})),bv=()=>{const e=W("settings-as-modal"),t=ks({key:"useDialogLayout",default:!1}),n=vt({breakpoint:"sm"}),o=fi();return e&&!(n&&!o)&&!t};function bye(e,t){R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionElement:"composerCreateButton",eventInfo_impressionScenario:e??"off",eventInfo_conversationId:t}})}function Iye(e){R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionElement:"composerScreenshotButton",eventInfo_conversationId:e}})}function Eye(e,t){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"composerCreateButton",eventInfo_clickScenario:wye(e),eventInfo_conversationId:t}})}function wye(e){if(!e)return"showDrawer";switch(e){case"actions":return"exitActions";case"image":return"exitImage";case"page":return"exitPage";case"podcast":return"exitPodcast";case"researchReport":return"exitResearchReport";case"quiz":return"exitQuiz";case"video":return"exitVideo";case"homeworkHelper":return"exitHomeworkHelper";case"practiceTest":return"exitPracticeTest";default:return"showDrawer"}}function Tye(e){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"composerScreenshotButton",eventInfo_conversationId:e}})}function t6(e,t){R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:e,eventInfo_clickScenario:t}})}function Dh(e,t){const n=t?.dataset.spatialFocusKey;n&&e?.setFocus(n,{})}function n6(e){u.useEffect(()=>(window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}),[e])}function Iv(e){ const _hh$temp1293=e,t=_hh$temp1293.title,n=_hh$temp1293.onClickBack,o=_hh$temp1293.rightView,s=_hh$temp1293.onClickClose,a=u.useRef(null),r=J0("nav-header-back-button"),c=tc([a,r]),d=im(),m=bv(),p=s&&!m?i.jsx(X,{title:U("common.closeText"),variant:"circle",size:"32-xs",onClick:s,className:"col-start-3 justify-self-end",color:"subtle-bright-inverted",testId:"close-settings-button",children:i.jsx(sn,{className:"size-5","aria-hidden":!0})}):null; return n6(h=>{h.key==="Enter"&&a.current&&a.current.focus(); const _hh$temp1294=YY.run({event:h}),v=_hh$temp1294.isDismissEvent; (h.key==="Enter"||v)&&Dh(d,a.current)}),i.jsxs("div",{className:O("flex items-center",m?"py-4":"pb-4"),children:[i.jsx(X,{ref:c,variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:U("common.backText"),onClick:n,testId:"nav-header-back-button",children:i.jsx(ci,{className:"size-5 -rotate-90"})}),i.jsx("h2",{className:O("mt-px grow text-center uppercase text-foreground-450 text-xs dark:text-foreground-600",!o&&"pe-8"),children:t}),o??p]})}function xye(e,t){return e==="settings"?[{section:"settings"},{section:"settings-health-section",header:{title:U("health.connector.title"),description:U("health.connector.description")}}]:[{section:t??"composer-default"}]}function o6( _hh$temp1295 ){ var _hh$temp1295$triggerSource=_hh$temp1295.triggerSource,e=_hh$temp1295$triggerSource===void 0?"settings":_hh$temp1295$triggerSource,t=_hh$temp1295.closePage,n=_hh$temp1295.connectorSection;  const o=e==="composer",s=bv(),a=!s&&!o,_hh$temp1296=gs(),r=_hh$temp1296.goBackOrClose,c=vt({breakpoint:"md"}),d=xye(e,n); return i.jsxs("div",{className:o?"min-w-60":"pb-3",children:[a&&i.jsx(Iv,{title:U("settings.connectedAppsTitle"),onClickBack:r}),i.jsxs("div",{className:O("flex flex-col",!o&&"gap-1.5"),children:[d.map( _hh$temp1297=>{var m=_hh$temp1297.section,p=_hh$temp1297.header;return i.jsx(Sye,{section:m,triggerSource:e,closePage:t,isModal:s,header:p},m);} ),o&&!c&&i.jsxs(X,{variant:"rect",title:U("connector.composer.settings"),color:"subtle-dimmed-inverted",className:"h-6 w-full justify-start gap-2.5 px-3 py-1.5 text-sm",onClick:m=>{t6("composer","connectorSettings"),t?.(m),setTimeout(()=>{P3("connector-list")},200)},children:[i.jsx(Sv,{className:"size-5 shrink-0"}),i.jsx("div",{className:"text-foreground-800 text-sm",children:U("connector.composer.settings")})]})]})]})}function Aye(e){ const _hh$temp1298=Y(),t=_hh$temp1298.t,_hh$temp1299=e,n=_hh$temp1299.closeDropdown,o=_hh$temp1299.connectorSection,s=vt({breakpoint:"sm"}); return i.jsx(Pm,{color:"default",renderTrigger: _hh$temp1300=>{var a=_hh$temp1300.openPopover;return i.jsx(X,{title:t("composer.connector.useConnector"),"aria-label":t("composer.connector.useConnector"),variant:"rect",color:"subtle-dimmed-inverted",onClick:r=>{a(r),t6("composer","useConnectors");},size:"40-base",alignment:"start",className:"w-full rounded-xl p-0",testId:"dropdown-connector-button",children:i.jsxs("div",{className:"flex h-10 w-full items-center gap-3 rounded-xl pe-2 ps-3",children:[i.jsx(H4,{className:"size-5"}),i.jsxs("div",{className:"flex grow items-center justify-between text-left",children:[i.jsx("div",{className:"line-clamp-1 inline-flex gap-1.5 text-sm",children:t("composer.connector.useConnector")}),i.jsx(Eo,{className:"size-4"})]})]})});} ,renderSurface: _hh$temp1301=>{var a=_hh$temp1301.closePopover;return i.jsx("div",{className:"flex flex-col",children:i.jsx(o6,{triggerSource:"composer",closePage:r=>{a(r),n(r);},connectorSection:o})});} ,containerClassNames:{surface:`p-1.5 border-white/25 dark:border-stroke-400/25 shadow-tinted-xl ${s?"":"-ml-2.5"}`},placement:s?"top-start":"right-end"})}const _ye="/static/cmc/assets/screenshot-DXZDs5NE.svg";function kye(e){ const _hh$temp1302=e,t=_hh$temp1302.onTakeScreenshot,_hh$temp1303=Y(),n=_hh$temp1303.t,o=M(Se),s=u.useRef(void 0); return u.useEffect(()=>{s.current!==o&&Iye(o)},[o]),i.jsx(X,{title:n("composer.takeScreenshot"),"aria-label":n("composer.takeScreenshot"),variant:"rect",color:"subtle-dimmed-inverted",onClick:a=>{t(a),Tye(o)},size:"40-base",alignment:"start",className:"min-w-[230px] rounded-xl p-0",testId:"take-screenshot-button",children:i.jsxs("div",{className:"flex h-10 w-full items-center gap-3 rounded-xl px-3 py-2",children:[i.jsx(pt,{url:_ye,className:"size-5"}),i.jsx("div",{className:"grow text-left",children:i.jsx("div",{className:"line-clamp-1 inline-flex gap-1.5 text-sm",children:n("composer.takeScreenshot")})})]})})}const Pye="/static/cmc/assets/add-BTcFT5ig.svg",Mye="/static/cmc/assets/camera-DYwg6Clj.svg",Rye="/static/cmc/assets/image-zMo0jLdY.svg",Nye="/static/cmc/assets/podcast-BQmBU8ew.svg",Lye="/static/cmc/assets/research-DLTQx7hg.svg",Dye="/static/cmc/assets/video-clip-9pviB4uv.svg",Oye="/static/cmc/assets/edit-line-horizontal-CFFP_Xzl.svg",Uye="/static/cmc/assets/quiz-new-fGeLWOyT.svg",Fye="/static/cmc/assets/text-list-abc-B_wmbTHB.svg";function jye(){ const _hh$temp1304=Y(),e=_hh$temp1304.t,t=Yt(); return{setComposerCreateModeWithPrefill:u.useCallback(o=>{const s=a3(o,e);Vr(o),s&&fc({prompt:s,prefillSource:"create"},t==="/")},[e,t])}}const Bye=P(null);function Ev(){const e=q(Bye),t=u.useCallback(o=>{e(o)},[e]),n=u.useCallback(o=>{e(o)},[e]);return{handleFeatureUpsell:t,handleFeatureLimitReached:n}}function Vye(){ const _hh$temp1305=Y(),e=_hh$temp1305.t,_hh$temp1306=Ev(),t=_hh$temp1306.handleFeatureUpsell,n=_hh$temp1306.handleFeatureLimitReached,o=cl(); return u.useCallback(()=>{if(o.disabledReason??o.eligibleSubscriptionUpgrades.length===0){n({allowUpsell:!1,title:e("proSubscription.modal.featureLimitReached.deepResearch.title"),subtitle:e("proSubscription.modal.featureLimitReached.deepResearch.subtitleIneligible"),payflowEntryPoint:"DeepResearchLimit",dismissButton:e("common.dismiss"),subscriptions:o.eligibleSubscriptionUpgrades,upsellReason:"DailyLimit",disabledReason:o.disabledReason??""});return} const _hh$temp1307=o,s=_hh$temp1307.eligibleSubscriptionUpgrades; let a;s.includes("m365-personal")?a="proSubscription.modal.featureLimitReached.deepResearch.subtitleFree":s.includes("m365-premium")?a="proSubscription.modal.featureLimitReached.deepResearch.subtitleUpgradable":a="proSubscription.modal.featureLimitReached.deepResearch.subtitleIneligible",t({allowUpsell:!0,title:e("proSubscription.modal.featureLimitReached.deepResearch.title"),subtitle:e(a),payflowEntryPoint:"DeepResearchLimit",confirmButton:e("actions.proSubscription.subscribeToPro"),dismissButton:e("common.dismiss"),subscriptions:o.eligibleSubscriptionUpgrades,upsellReason:"DailyLimit"})},[o,t,e,n])}function Hye(){ const _hh$temp1308=Y(),e=_hh$temp1308.t,_hh$temp1309=Ev(),t=_hh$temp1309.handleFeatureUpsell,n=_hh$temp1309.handleFeatureLimitReached,o=cl(); return u.useCallback(()=>{if(o.disabledReason??o.eligibleSubscriptionUpgrades.length===0){n({allowUpsell:!1,title:e("proSubscription.modal.featureLimitReached.podcast.title"),subtitle:e("proSubscription.modal.featureLimitReached.podcast.subtitleIneligible"),payflowEntryPoint:"PodcastLimit",dismissButton:e("common.dismiss"),subscriptions:o.eligibleSubscriptionUpgrades,upsellReason:"DailyLimit",disabledReason:o.disabledReason??""});return} const _hh$temp1310=o,s=_hh$temp1310.eligibleSubscriptionUpgrades; let a;s.includes("m365-personal")?a="proSubscription.modal.featureLimitReached.podcast.subtitleFree":s.includes("m365-premium")?a="proSubscription.modal.featureLimitReached.podcast.subtitleUpgradable":a="proSubscription.modal.featureLimitReached.podcast.subtitleIneligible",t({allowUpsell:!0,title:e("proSubscription.modal.featureLimitReached.podcast.title"),subtitle:e(a),payflowEntryPoint:"PodcastLimit",confirmButton:e("actions.proSubscription.subscribeToPro"),dismissButton:e("common.dismiss"),subscriptions:o.eligibleSubscriptionUpgrades,upsellReason:"DailyLimit"})},[o,t,e,n])}function zye(){ const _hh$temp1311=Y(),e=_hh$temp1311.t,_hh$temp1312=Ev(),t=_hh$temp1312.handleFeatureUpsell,n=_hh$temp1312.handleFeatureLimitReached,o=cl(); return u.useCallback(()=>{if(o.disabledReason??o.eligibleSubscriptionUpgrades.length===0){n({allowUpsell:!1,title:e("proSubscription.modal.featureLimitReached.video.title"),subtitle:e("proSubscription.modal.featureLimitReached.video.subtitleIneligible"),payflowEntryPoint:"VideoGenLimit",dismissButton:e("common.dismiss"),subscriptions:o.eligibleSubscriptionUpgrades,upsellReason:"DailyLimit",disabledReason:o.disabledReason??""});return} const _hh$temp1313=o,s=_hh$temp1313.eligibleSubscriptionUpgrades; let a;s.includes("m365-personal")?a="proSubscription.modal.featureLimitReached.video.subtitleFree":s.includes("m365-premium")?a="proSubscription.modal.featureLimitReached.video.subtitleUpgradable":a="",t({allowUpsell:!0,title:e("proSubscription.modal.featureLimitReached.video.title"),subtitle:e(a),payflowEntryPoint:"VideoGenLimit",confirmButton:e("actions.proSubscription.subscribeToPro"),dismissButton:e("common.dismiss"),subscriptions:o.eligibleSubscriptionUpgrades,upsellReason:"DailyLimit"})},[o,t,e,n])}function s6(){ const _hh$temp1314=Cl(),e=_hh$temp1314.getSortedConnectors,_hh$temp1315=__arrayFrom$(e()),t=_hh$temp1315[0],_hh$temp1316=__arrayFrom$(u.useState(!1)),n=_hh$temp1316[0],o=_hh$temp1316[1],_hh$temp1317=__arrayFrom$(u.useState(null)),s=_hh$temp1317[0],a=_hh$temp1317[1],r=u.useMemo(()=>t.find(p=>p.type==="one-drive")?.status==="ready",[t]),c=u.useCallback(()=>{r&&o(!0);},[r]),d=u.useCallback(p=>{a(p);},[a]),m=u.useCallback(()=>{o(!1);},[o]); return{isOneDriveFilePickerOpen:n,setIsOneDriveFilePickerOpen:o,pickedOneDriveItems:s,setPickedOneDriveItems:a,oneDriveConnectorReady:r,selectOneDriveFile:c,onPickCallback:d,onCloseCallback:m}}const o2="create",Gye="composer-create-button";function Wye(e){ const _hh$temp1318=e,_hh$temp1318$disabled=_hh$temp1318.disabled,t=_hh$temp1318$disabled===void 0?!1:_hh$temp1318$disabled,n=_hh$temp1318.onSelectFile,o=_hh$temp1318.onSelectUserOpenedTabs,s=_hh$temp1318.onTakeScreenshot,a=_hh$temp1318.onSelectOneDriveFile,r=_hh$temp1318.uploadButtonDisabled,c=_hh$temp1318.connectorSection,d=M(Kd),m=M(Yd),p=M(Zd),h=M(Fr),v=M(Wa),y=Kt(),C=M(Qd),S=kt(),b=q(Ws),I=q(hT),x=Hye(),E=Vye(),k=zye(),_=Tn("connector")&&h.length>0,N=a6({remainingPodcastGeneration:d,remainingResearchReportGeneration:m,remainingVideoGeneration:p,isUpgradedUser:C}),_hh$temp1319=s6(),L=_hh$temp1319.oneDriveConnectorReady,B=$1(),_hh$temp1320=Cv(),F=_hh$temp1320.shouldAskForConfirmation,K=_hh$temp1320.onOpen,G=Dx(),te=u.useRef(G),ne=u.useRef(!1); u.useEffect(()=>{te.current.length>0&&(ne.current=!0),te.current=G},[G]); const _hh$temp1321=jye(),ae=_hh$temp1321.setComposerCreateModeWithPrefill,Te=u.useCallback(De=>{switch(De){case"image":ae("image");break;case"page":ae("page");break;case"homeworkHelper":Vr("homeworkHelper"),I(!0);break;case"podcast":if(d===0){S?x():b({isOpen:!0,scenario:"podcast",reason:"createPodcast"});return;}ae("podcast");break;case"researchReport":if(m===0){S?E():b({isOpen:!0,scenario:"researchReport",reason:"createResearchReport"});return;}ae("researchReport");break;case"quiz":ae("quiz");break;case"practiceTest":ae("practiceTest");break;case"actions":ae("actions");break;case"video":if(p===0){k();return;}ae("video");break;default:ae(null);break;}},[ae,I,S,d,m,p,b,x,E,k]),he=u.useCallback(De=>{if(De==="create")return;const le=kx(De);if((le&&F)&&!Nh(y,le)){K(le,()=>{Te(De);});return;}Te(De);},[y,K,F,Te]),Ee=u.useCallback(()=>{Vr(null),om(),yn(Vt());},[]); u.useEffect(()=>{G.length===0&&ne.current&&B!==null&&y!=="research"&&y!=="computerUse"&&y!=="study"&&Ee()},[G,Ee,y,B]);const Ae=!!s||!!o||_,Ue=N.length>1||Ae,Fe=!Tn("uploadFile"),ke=u.useRef(null),Ve=(De,le,oe)=>{ke.current=oe,le(De)};return i.jsx(yv,{items:N,onSelect:he,value:B??o2,defaultValue:o2,onReset:Ee,disabled:t,onMenuClick:()=>fe({source:"composerCreateButton",pageName:"chatPage"}),alwaysShowDefault:!0,renderHeader: _hh$temp1322=>{var De=_hh$temp1322.closePopover,le=_hh$temp1322.focusRef;return v||Fe?null:i.jsxs(i.Fragment,{children:[i.jsx(aye,{onSelectFile:oe=>{De(oe),n();},uploadButtonDisabled:r,focusRef:le,onSelectOneDriveFile:a&&L?()=>{a();}:void 0}),Ue&&i.jsx(Uo,{verticalMargin:!1,className:"my-1.5"})]});} ,renderFooter: _hh$temp1323=>{var De=_hh$temp1323.closePopover;return i.jsxs(i.Fragment,{children:[Ae&&i.jsx(Uo,{verticalMargin:!1,className:"my-1.5"}),s&&i.jsx(kye,{onTakeScreenshot:le=>{Ve(le,De,s);}}),o&&i.jsx(oye,{onSelectUserOpenedTabs:le=>{De(le),o();}}),_&&i.jsx(Aye,{closeDropdown:De,connectorSection:c})]});} ,floatingOffset:{mainAxis:4,crossAxis:-10},onCloseAnimationComplete:()=>{ke.current?.(),ke.current=null}})}function qo(e,t){return n=>{bye(e,n),e==="podcast"&&t===0?hp({entryPoint:"ComposerV4",featureName:"Podcast"}):e==="researchReport"&&t===0?hp({entryPoint:"ComposerV4",featureName:"DeepResearch"}):e==="video"&&t===0&&hp({entryPoint:"ComposerV4",featureName:"Video"})}}function Ko(e,t){return n=>{Eye(e,n),e==="podcast"&&t===0?gp({entryPoint:"ComposerV4",featureName:"Podcast"}):e==="researchReport"&&t===0?gp({entryPoint:"ComposerV4",featureName:"DeepResearch"}):e==="video"&&t===0&&gp({entryPoint:"ComposerV4",featureName:"Video"})}}function a6( _hh$temp1324 ){ var e=_hh$temp1324.remainingPodcastGeneration,t=_hh$temp1324.remainingResearchReportGeneration,n=_hh$temp1324.remainingVideoGeneration,o=_hh$temp1324.isUpgradedUser;  const s=Tn("podcast"),a=Tn("researchReport"),r=Tn("quiz"),c=Tn("practiceTest"),d=Tn("image"),m=Tn("homeworkHelper"),p=Tn("video"),h=kt(),v=W("video-gen"),y=(p&&v)&&h,C=Tn("page"),_hh$temp1325=Y("translation",{keyPrefix:"composer.create"}),S=_hh$temp1325.t; return u.useMemo(()=>{const I={key:"create",title:S("buttonTitle"),icon:i.jsx(pt,{url:Pye,className:"size-6"}),hideButtonTitle:!0,id:Gye,testId:"composer-create-button",onImpression:qo(null),beforeClick:Ko(null),isIconEnabledInButton:!0},x={key:"image",title:S("image.title"),icon:i.jsx(pt,{url:Rye,className:"size-5"}),testId:"composer-create-image-button",onImpression:qo("image"),beforeClick:Ko("image")};function E(){return{key:"podcast",title:S("podcast.title"),ariaLabel:e!==null&&!o?S("podcast.ariaLabelWithRemainingCalls",{remainingCalls:e.toString()}):S("podcast.title"),icon:i.jsx(pt,{url:Nye,className:"size-5"}),testId:"composer-create-podcast-button",onImpression:qo("podcast",e),beforeClick:Ko("podcast",e),tags:e!==null&&!o?[{label:S("podcast.remainingCalls",{remainingCalls:e.toString()}),color:e>0?"neutral":"accent"}]:void 0}}function k(){return{key:"researchReport",title:S("researchReport.title"),ariaLabel:t!==null&&!o?S("researchReport.ariaLabelWithRemainingCalls",{remainingCalls:t.toString()}):S("researchReport.title"),icon:i.jsx(pt,{url:Lye,className:"size-5"}),testId:"composer-create-research-report-button",onImpression:qo("researchReport",t),beforeClick:Ko("researchReport",t),tags:t!==null&&!o?[{label:S("researchReport.remainingCalls",{remainingCalls:t.toString()}),color:t>0?"neutral":"accent"}]:void 0}}function w(){return{key:"quiz",title:S("quiz.title"),icon:i.jsx(pt,{url:Uye,className:"size-5"}),testId:"composer-create-quiz-button",onImpression:qo("quiz"),beforeClick:Ko("quiz")}}function _(){return{key:"practiceTest",title:S("practiceTest.title"),icon:i.jsx(pt,{url:Fye,className:"size-5"}),testId:"composer-create-practice-test-button",onImpression:qo("practiceTest"),beforeClick:Ko("practiceTest"),tags:[{label:S("practiceTest.newTag"),color:"accent"}]}}function N(){return{key:"page",title:S("page.title"),icon:i.jsx(pt,{url:Oye,className:"size-5"}),testId:"composer-create-page-button",onImpression:qo("page"),beforeClick:Ko("page")}}function L(){return{key:"video",title:S("video.title"),ariaLabel:n!==null&&!o?S("video.ariaLabelWithRemainingCalls",{remainingCalls:n.toString()}):S("video.title"),icon:i.jsx(pt,{url:Dye,className:"size-5"}),testId:"composer-create-video-button",onImpression:qo("video",n),beforeClick:Ko("video",n),tags:n!==null&&!o?[{label:S("video.remainingCalls",{remainingCalls:n.toString()}),color:n>0?"neutral":"accent"}]:void 0}}function B(){return{key:"homeworkHelper",title:S("homeworkHelper.title"),icon:i.jsx(pt,{url:Mye,className:"size-5"}),hideButtonTitle:!0,testId:"composer-homework-helper-button",onImpression:qo("homeworkHelper"),beforeClick:F=>{Ko("homeworkHelper")(F)},isIconEnabledInButton:!0}}return[I,d?x:void 0,m?B():void 0,C?N():void 0,y?L():void 0,a?k():void 0,s?E():void 0,r?w():void 0,c?_():void 0].filter(F=>F!==void 0)},[S,d,C,a,s,r,c,y,m,e,o,t,n])}function $ye(e){ const _hh$temp1326=Y(),t=_hh$temp1326.t,_hh$temp1327=e,n=_hh$temp1327.createMode,o=_hh$temp1327.onReset,s=t(`composer.create.${n}.selectedText`); return i.jsxs(X,{title:s,"aria-label":s,variant:"rect",size:"36-sm",color:"composer-selected",className:O("h-9 select-none gap-1 rounded-2xl border border-black/8 pe-3.5 ps-2.5 dark:border-white/8"),onClick:o,testId:`composer-${n}-mode-selected`,children:[i.jsx(pt,{url:B4,className:"size-3.5"}),i.jsx("span",{className:"text-sm",children:s})]})}const qye=e=>e==="coco"?{headerI18nKey:"composer.chatModes.coco.newChatConfirmationModal.switchToCocoHeader",descriptionI18nKey:"composer.chatModes.coco.newChatConfirmationModal.switchToCocoDescription"}:{headerI18nKey:"composer.chatModes.coco.newChatConfirmationModal.switchFromCocoHeader",descriptionI18nKey:"composer.chatModes.coco.newChatConfirmationModal.switchFromCocoDescription"};function Kye(){ const _hh$temp1328=Y(),e=_hh$temp1328.t,_hh$temp1329=Cv(),t=_hh$temp1329.onClose,n=_hh$temp1329.onConfirm,o=_hh$temp1329.isOpen,s=_hh$temp1329.targetMode,_hh$temp1330=qye(s),a=_hh$temp1330.headerI18nKey,r=_hh$temp1330.descriptionI18nKey,c=e(a),d=e("composer.chatModes.coco.newChatConfirmationModal.continueButtonText"),m=e("composer.chatModes.coco.newChatConfirmationModal.stayHereButtonText"); return i.jsxs(Rs,{isOpen:o,headerText:c,className:"w-full max-w-[448px]",children:[i.jsx("p",{children:i.jsx(fn,{i18nKey:r,components:{bold:i.jsx("strong",{}),br:i.jsx("br",{})}})}),i.jsxs("div",{className:"mt-5 flex flex-col gap-2",children:[i.jsx(X,{title:d,color:"strong",size:"56-xl",variant:"rect",className:"w-full",onClick:n,children:d}),i.jsx(X,{title:m,color:"subtle-dimmed",size:"56-xl",variant:"rect",className:"w-full",onClick:t,children:m})]})]})}function Yye(){ const _hh$temp1331=__arrayFrom$(u.useState(!1)),e=_hh$temp1331[0],t=_hh$temp1331[1]; return u.useEffect(()=>{async function n(){ const _hh$temp1332=Z.instance().config(),_hh$temp1332$uiOverrides=_hh$temp1332.uiOverrides,_hh$temp1332$uiOverrides$assign=_hh$temp1332$uiOverrides===void 0?{}:_hh$temp1332$uiOverrides,_hh$temp1332$uiOverrides$assign$showScreenshotButton=_hh$temp1332$uiOverrides$assign.showScreenshotButton,o=_hh$temp1332$uiOverrides$assign$showScreenshotButton===void 0?()=>Promise.resolve(!1):_hh$temp1332$uiOverrides$assign$showScreenshotButton,s=await o(); t(s)}n().catch(()=>{})},[]),e}function Zye( _hh$temp1333 ){ var _hh$temp1333$connectorSection=_hh$temp1333.connectorSection,e=_hh$temp1333$connectorSection===void 0?"composer-default":_hh$temp1333$connectorSection;  const _hh$temp1334=Y(),t=_hh$temp1334.t,_hh$temp1335=Cl(),n=_hh$temp1335.getAvailableConnectorsCount,o=n(e),s=Kt(),r=W("enable-research-connector-always-show")&&s==="research",c=o>0,d=r||c,m=r&&!c; return i.jsx(bt,{children:d&&i.jsx(Ce.div,{initial:{...Be},animate:{...ct},exit:{...Be},transition:{duration:.1,ease:"easeInOut"},children:i.jsx(Pm,{color:"default",renderTrigger: _hh$temp1336=>{var p=_hh$temp1336.openPopover;return i.jsx(X,{title:t("connector.composer.buttonTitle"),"aria-label":t("connector.composer.buttonTitle"),variant:"rect",size:"36-sm",color:"subtle-dimmed",className:"h-9 select-none gap-1 rounded-2xl border border-black/8 dark:border-white/8",onClick:p,children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(H4,{className:"size-6"}),m&&i.jsx("span",{className:"text-sm",children:t("connector.composer.buttonTitle")}),i.jsx(bt,{mode:"popLayout",initial:!1,children:c&&i.jsx(Ce.span,{className:"min-w-4 rounded-full bg-background-700 px-1 text-foreground-100 text-xs-medium",initial:{...Be,scale:.5},animate:{...ct,scale:1},exit:{...Be,scale:.5},transition:goe,children:o})}),i.jsx(Eo,{className:"size-4 rotate-90"})]})});} ,renderSurface: _hh$temp1337=>{var p=_hh$temp1337.closePopover;return i.jsx("div",{className:"flex flex-col",children:i.jsx(o6,{triggerSource:"composer",closePage:p,connectorSection:e})});} ,containerClassNames:{surface:"p-1.5 border-white/25 dark:border-stroke-400/25 shadow-tinted-xl"},placement:"bottom-start",floatingOffset:{mainAxis:4,crossAxis:-4}})})})}const Jye=["chat","smart"];function Qye(e){ const _hh$temp1338=e,t=_hh$temp1338.onSelectFile,n=_hh$temp1338.onSelectUserOpenedTabs,o=_hh$temp1338.onTakeScreenshot,s=_hh$temp1338.onSelectOneDriveFile,a=_hh$temp1338.uploadButtonDisabled,_hh$temp1338$disabled=_hh$temp1338.disabled,r=_hh$temp1338$disabled===void 0?!1:_hh$temp1338$disabled,c=_hh$temp1338.chatModes,d=_hh$temp1338.connectorSection,m=$1(),p=Tn("connector"),h=M(Kd),v=M(Yd),y=M(Zd),C=M(Qd),b=a6({remainingPodcastGeneration:h,remainingResearchReportGeneration:v,remainingVideoGeneration:y,isUpgradedUser:C}).find(B=>B.key===m),I=u.useCallback(()=>{Vr(null),om(),yn(Vt());},[]),x=Yye(),E=nm(),k=Kt(),w=W("dr-connectors"),_=[...Jye,...w?["research"]:[]],N=m!==null&&b?i.jsx($ye,{createMode:m,onReset:I}):!E&&i.jsx(eye,{disabled:r,chatModes:c}),L=p&&_.includes(k); return i.jsxs(i.Fragment,{children:[i.jsx(Wye,{disabled:r,onSelectFile:t,onSelectOneDriveFile:s,onSelectUserOpenedTabs:n,onTakeScreenshot:x?o:void 0,uploadButtonDisabled:a,connectorSection:d}),N,L&&i.jsx(Zye,{connectorSection:d}),i.jsx(r8,{children:i.jsx(Kye,{})})]})}function Xye(){const e=$s(),t=M(go),n=M(z1);return e&&!t&&n}function eCe(){ const e=M(tl),n=Kt()==="computerUse",_hh$temp1339=Nx(),o=_hh$temp1339.userInput,s=M(sl),a=W("attachment-suggestions"); u.useEffect(()=>{e?Oi("autosuggest"):n?Oi("actions-autosuggest"):a&&!o&&s.length>0?Oi("file-upload-autosuggest"):Oi("starter-prompts")},[e,o,n,a,s])}function tCe(){ const e=q(en),_hh$temp1340=__arrayFrom$(Re(Ws)),t=_hh$temp1340[0],n=_hh$temp1340[1],o=M(kJ),s=M(aT),a=al(); u.useEffect(()=>{o&&(e(a?"prompt-3p-sign-in":"prompt-sign-in"),t.isOpen&&n({...t,isOpen:!1,reason:t.reason??(s?"overTurnLimit":null)}),Gi(!0))},[e,n,o,t,a,s])}function nCe(){const e=q(en),t=M(GX),n=Yt(),o=gl(),s=oA(),a=fo(n),r=n.endsWith("/daily"),c=n.startsWith("/chats")&&!a,d=r||o,m=s?.type==="computerUse"&&c,p=m&&!n0(s.status),h=m&&sA(s);u.useEffect(()=>{e(d?"daily-briefing-player":h?"safety-risk-card":p?"computer-use-task-closed":t?"dialog":null)},[e,p,h,d,t])}function oCe(){const e=W("remove-qr");u.useEffect(()=>{let t=Vt();t=RA()??Vt(),yn(t)},[e])}function sCe(){tCe(),nCe(),oCe(),eCe()}const r6=typeof document<"u"?u.useLayoutEffect:u.useEffect;var sa={},Ri={},aa={},s2;function i6(){if(s2)return aa;s2=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.Node=aa.NodeType=void 0;var e;(function(a){ __set$(a,a.element=1,"element") , __set$(a,a.text=3,"text") })(e||(aa.NodeType=e={}));let t=class{constructor( _hh$temp1341 ){ var r=_hh$temp1341.nodeType,c=_hh$temp1341.namespace,d=_hh$temp1341.selfCloseTag,m=_hh$temp1341.text,p=_hh$temp1341.nodeName,h=_hh$temp1341.childNodes,v=_hh$temp1341.parentNode,y=_hh$temp1341.attributes; this.namespace=c||null,this.nodeType=r,this.isSelfCloseTag=!!d,this.text=m||null,this.nodeName=r===e.element?p:"#text",this.childNodes=h||[],this.parentNode=v,this.attributes=y||[]}get firstChild(){return this.childNodes[0]||null}get lastChild(){return  __get$(this.childNodes,this.childNodes.length-1) ||null}get innerHTML(){return this.childNodes.reduce((r,c)=>r+(c.nodeType===e.text?c.text:c.outerHTML),"")}get outerHTML(){if(this.nodeType===e.text)return this.textContent;const r=s(this.attributes),c=`<${this.nodeName}${r.length?" ":""}${r}${this.isSelfCloseTag?"/":""}>`;if(this.isSelfCloseTag)return c;const d=this.childNodes.map(p=>p.outerHTML).join(""),m=`</${this.nodeName}>`;return[c,d,m].join("")}get textContent(){return this.nodeType===e.text?this.text: __call$(this.childNodes.map(r=>r.textContent).join(""),"replace",[/\x20+/g," "]) }getAttribute(r){const c=this.attributes.find(d=>d.name===r);return c?c.value:null}getElementsByTagName(r){return n(this,c=>c.nodeName.toUpperCase()===r.toUpperCase())}getElementsByClassName(r){const c=new RegExp(`^(.*?\\s)?${r}(\\s.*?)?$`);return n(this,d=>!!(d.attributes.length&&c.test(d.getAttribute("class")||"")))}getElementsByName(r){return n(this,c=>!!(c.attributes.length&&c.getAttribute("name")===r))}getElementById(r){return o(this,c=>!!(c.attributes.length&&c.getAttribute("id")===r))}};aa.Node=t,t.ELEMENT_NODE=e.element,t.TEXT_NODE=e.text;function n(a,r){return a.nodeType===e.text?[]:a.childNodes.reduce((c,d)=>d.nodeType!==e.text&&r(d)?[...c,d,...n(d,r)]:[...c,...n(d,r)],[])}function o(a,r){for(let c=0,d=a.childNodes.length;c<d;c++){const m= __get$(a.childNodes,c) ;if(r(m))return m;const p=o(m,r);if(p)return p}return null}function s(a){return a.map(r=>r.name+(r.value?`="${r.value}"`:"")).join(" ")}return aa}var Ni={},a2;function aCe(){if(a2)return Ni;a2=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.NodeAttribute=void 0;let e=class{constructor( _hh$temp1342 ){ var n=_hh$temp1342.name,o=_hh$temp1342.value; this.name=n,this.value=o}};return Ni.NodeAttribute=e,Ni}var r2;function i2(){if(r2)return Ri;r2=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.Dom=void 0;const e=i6(),t=aCe(),n=/(<\/?(?:[a-z][a-z0-9]*:)?[a-z][a-z0-9-_.]*?[a-z0-9]*\s*(?:\s+[a-z0-9-_:]+(?:=(?:(?:'[\s\S]*?')|(?:"[\s\S]*?")))?)*\s*\/?>)|([^<]|<(?![a-z/]))*/gi,o=/\s[a-z0-9-_:]+\b(\s*=\s*('|")[\s\S]*?\2)?/gi,s=/(\s[a-z0-9-_:]+\b\s*)(?:=(\s*('|")[\s\S]*?\3))?/gi,a=/^<[a-z]/,r=/\/>$/,c=/^<\//,d=/^[^<]/,m=/<\/?((?:([a-z][a-z0-9]*):)?(?:[a-z](?:[a-z0-9-_.]*[a-z0-9])?))/i,p=/^('|")|('|")$/g,h=/^(?:area|base|br|col|command|embed|hr|img|input|link|meta|param|source)/i;let v=class{constructor(_){this.rawHTML=_}find(_,N){const L=y(this.rawHTML,_,N);return N?L[0]||null:L}getElementsByClassName(_){const N=new RegExp(`^(.*?\\s)?${_}(\\s.*?)?$`);return this.find(L=>!!(L.attributes.length&&N.test(L.getAttribute("class")||"")))}getElementsByTagName(_){return this.find(N=>N.nodeName.toUpperCase()===_.toUpperCase())}getElementById(_){return this.find(N=>N.getAttribute("id")===_,!0)}getElementsByName(_){return this.find(N=>N.getAttribute("name")===_)}getElementsByAttribute(_,N){return this.find(L=>L.getAttribute(_)===N)}};Ri.Dom=v;function y(w,_,N=!1){const L=C(w),B=[];for(const F of L)if(F&&_(F)&&(B.push(F),N))return B;return B}function*C(w){const _=b(w);let N=null;for(let L=0,B=_.length;L<B;L++){const F= __get$(_,L) ;N=I(F,N)||N,S(N,F)&&(yield N,N=N.parentNode)}for(;N;)yield N,N=N.parentNode}function S(w,_){if(!_)return!1; const N=c.test(_),_hh$temp1343=__arrayFrom$(_.match(m)||[]),L=_hh$temp1343[1]; return N&&w.nodeName===L||w.isSelfCloseTag||w.nodeType===e.NodeType.text}function b(w){return w.match(n)||[]}function I(w,_){const N=d.test(w),L=a.test(w);return N?k(w,_):L?x(w,_):null}function x(w,_){var N; const _hh$temp1344=__arrayFrom$(w.match(m)||[]),L=_hh$temp1344[1],B=_hh$temp1344[2],F=r.test(w)||h.test(L),K=E(w),G=new e.Node({nodeType:e.NodeType.element,nodeName:L,namespace:B,attributes:K,childNodes:[],parentNode:_,selfCloseTag:F}); return(N=_?.childNodes)===null||N===void 0||N.push(G),G}function E(w){return(w.match(o)||[]).map(_=>{s.lastIndex=0; const N=s.exec(_)||[],_hh$temp1345=__arrayFrom$(N),_hh$temp1345$i1=_hh$temp1345[1],L=_hh$temp1345$i1===void 0?"":_hh$temp1345$i1,_hh$temp1345$i2=_hh$temp1345[2],B=_hh$temp1345$i2===void 0?"":_hh$temp1345$i2; return  new t.NodeAttribute({name:L.trim(),value:__call$(B.trim(),"replace",[p,""])}) })}function k(w,_){var N;const L=new e.Node({nodeType:e.NodeType.text,nodeName:"#text",text:w,parentNode:_});return(N=_?.childNodes)===null||N===void 0||N.push(L),L}return Ri}var c2;function rCe(){return c2||(c2=1,function(e){var t=sa&&sa.__createBinding||(Object.create?function(a,r,c,d){d===void 0&&(d=c);var m=Object.getOwnPropertyDescriptor(r,c);(!m||("get"in m?!r.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return  __get$(r,c) }}),Object.defineProperty(a,d,m)}:function(a,r,c,d){d===void 0&&(d=c), __set$(a,d,__get$(r,c)) }),n=sa&&sa.__exportStar||function(a,r){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(r,c)&&t(r,a,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.parseFromString=void 0;const o=i2();function s(a){return new o.Dom(a)}e.parseFromString=s,n(i2(),e),n(i6(),e)}(sa)),sa}var l2=rCe();function c6(e){const t=[];let n="",o=!1;for(const s of e)s===" "||s===`
`?o=!0:o&&(t.push(n),n="",o=!1),n+=s;return n.length>0&&t.push(n),t}function F7e(e){const n=l2.parseFromString(`<html>${e}</html>`).getElementsByTagName("html")[0];let o=[];for(const s of n.childNodes)s.nodeType===l2.NodeType.text?s.textContent&&(o=o.concat(c6(s.textContent))):o.push(s.outerHTML);return o}function iCe(e){return e===" "||e===`
`||e==="	"}function j7e(e,t,n={}){if(e.length<=t)return e;function o(c){const d=c.trim();return n.ellipsis?`${d}...`:d}const s=e.indexOf(`
`,0);if(s>=0&&s<t){const c=e.slice(0,s);return o(c)}let a=t;for(;a>0;){const c= __get$(e,a) ;if(c&&!iCe(c))a-=1;else break}let r=e.slice(0,t);return a>0&&(r=e.slice(0,a)),o(r)}function cCe(e){return!!(e&&e.trim().length>0)}function u2(e){return!cCe(e)}function lCe(e,t,n){const o=t+n,s=u.useRef({autocompleteValue:n,userInputValue:o});return s.current={autocompleteValue:n,userInputValue:o},r6(()=>{!e.current||u2(n)||e.current.updateSelectionRange(t.length,t.length+n.length)},[e,t,n]),u.useEffect(()=>{const a=()=>{if(!e.current)return; const _hh$temp1346=s.current,d=_hh$temp1346.autocompleteValue,m=_hh$temp1346.userInputValue; u2(d)||e.current.updateInputValue(()=>m)},r=e.current?.getTextAreaRef().current,c=()=>{!e.current||!r||document.activeElement===r&&r.selectionStart===r.selectionEnd&&a()};return document.addEventListener("selectionchange",c),r?.addEventListener("focusout",a),()=>{document.removeEventListener("selectionchange",c),r?.removeEventListener("focusout",a)}},[e]),o}const l6=async(e,t)=>{j(ga)&&e?.();try{await N4(ga,n=>!n)}catch{}t?.()},B7e= _hh$temp1347=>{var e=_hh$temp1347.onTurnstileDisplaying,t=_hh$temp1347.onTurnstileClosed;return u.useCallback(async ()=>{await l6(e,t);},[e,t]);} ;function uCe(e){const t=e[0]?.createdAt;if(!t)return;const n=new Date(t).getTime();if(!Number.isNaN(n))return n.toString()}function u6(){const e=_A(),t=M(Se),n=M(g1),o=M(Lt),s=uCe(o?.history??[]);return G0({queryKey:["history",t],queryFn:async r=>{ const _hh$temp1348=r,c=_hh$temp1348.pageParam,_hh$temp1349=c,d=_hh$temp1349.url,m=_hh$temp1349.args,p=_hh$temp1349.conversationId,h=await ut(d,Dw,{query:{...m,"api-version":"2"},analytics:{anonymousPath:"/conversations/*/history"},parseOptions:{safe:!0}}).then(v=>v.data); if(h.results.length>0){const v=h.results,y=gie(v),C=k4(y),S=zQ(C);e(p,b=>{b.length===0&&L$(o,S.at(0)?.createdAt),S.reverse(),b.unshift(...S)})}return h},initialPageParam:{url:t?`/conversations/${t}/history`:"",conversationId:t??"",...s?{args:{cursor:s}}:{}},getNextPageParam:r=>r.next&&t?{url:`/conversations/${t}/history`,args:{cursor:r.next},conversationId:t}:null,enabled:!!t&&!n?.prompt})}function dCe(){const e=!rt("kill-cf-turnstile");return!rt("kill-cf-turnstile-voice")&&e}function mCe(){return!et("kill-cf-turnstile-voice")&&!et("kill-cf-turnstile")}function pCe(e){ const _hh$temp1350=__arrayFrom$(u.useState("not_started")),t=_hh$temp1350[0],n=_hh$temp1350[1],o=u.useRef(null),s=u.useCallback(()=>{try{let r=o.current;n("not_started"),r?r.currentTime=0:(r=new Audio(e),o.current=r,r.addEventListener("ended",()=>{n("finished"),o.current&&(o.current.src=""),o.current=null;},{once:!0})),n("playing"),r.play();}catch{}},[e,n]),a=u.useCallback(()=>{n("not_started");},[n]); return{playSound:s,playState:t,resetPlayState:a}}function fCe(){}function hCe( _hh$temp1351 ){ var e=_hh$temp1351.inputValue,t=_hh$temp1351.handleChange,_hh$temp1351$className=_hh$temp1351.className,n=_hh$temp1351$className===void 0?"":_hh$temp1351$className;  const _hh$temp1352=__arrayFrom$(u.useState("")),o=_hh$temp1352[0],s=_hh$temp1352[1],_hh$temp1353=Y(),a=_hh$temp1353.t; return rt("kill-free-form-text")?null:i.jsx(gv,{disabled:!1,className:O(n,"max-h-[8rem] grow-0 basis-[8rem] !items-start overflow-auto rounded-xl border-2 border-foreground-700 bg-black/5 px-0.5"),inputBoxClassName:"placeholder:text-foreground-550 dark:placeholder:text-foreground-600",inputValue:e,characterLimit:BN,autoFocus:!1,noDesktopAutoFocus:!0,setInput:c=>{t(c)},placeholder:a("chat.feedback.placeholder"),errorMessage:o,setError:s,onEnter:fCe,isMultiLines:!0})}function wv(e){ const _hh$temp1354=e,t=_hh$temp1354.feedbackOptions,n=_hh$temp1354.onSubmit,_hh$temp1354$shouldHideTextbox=_hh$temp1354.shouldHideTextbox,o=_hh$temp1354$shouldHideTextbox===void 0?!1:_hh$temp1354$shouldHideTextbox,_hh$temp1355=Y(),s=_hh$temp1355.t,_hh$temp1356=__arrayFrom$(u.useState(new Set())),a=_hh$temp1356[0],r=_hh$temp1356[1],_hh$temp1357=__arrayFrom$(u.useState("")),c=_hh$temp1357[0],d=_hh$temp1357[1],m=a.size===0,p=v=>{r(y=>{const C=new Set(y);return a.has(v)?C.delete(v):C.add(v),C;});},h=async ()=>{n(a,c),r(new Set());}; return t?i.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[i.jsx("ul",{role:"list",className:"mt-0 flex list-none flex-col gap-4",children:t.map((v,y)=>i.jsx("li",{children:i.jsx(G3,{label:v.label,setChecked:()=>p(v.type),checked:a.has(v.type),spatialNavigationAutofocus:y===0})},v.type))}),m||o?null:i.jsx(hCe,{inputValue:c,handleChange:d}),i.jsx(X,{title:s("chat.feedback.submitFeedbackButton"),size:"48-lg",color:"strong",className:"mt-4 max-h-12",disabled:m,onClick:h,children:s("chat.feedback.submitFeedbackButton")})]}):null}function d6(e){ const _hh$temp1358=e,t=_hh$temp1358.onSubmit,_hh$temp1359=Y(),n=_hh$temp1359.t,_hh$temp1360=__arrayFrom$(u.useState(!1)),o=_hh$temp1360[0],s=_hh$temp1360[1],a=async r=>{s(!0),await t(r),s(!1);}; return i.jsxs("div",{children:[i.jsx("p",{children:n("voice.feedback.reviewReasonV2")}),i.jsx(X,{title:n("voice.feedback.okay"),size:"48-lg",color:"strong",className:"mt-4 max-h-12 w-full",disabled:o,onClick:()=>a(!0),children:n("voice.feedback.okay")}),i.jsx(X,{title:n("voice.feedback.noThanks"),size:"48-lg",color:"default",className:"mt-3 w-full",onClick:()=>a(!1),children:n("voice.feedback.noThanks")})]})}function nf( _hh$temp1361 ){ var e=_hh$temp1361.conversationId,t=_hh$temp1361.callId,n=_hh$temp1361.status,o=_hh$temp1361.durationMs,s=_hh$temp1361.fileSizeBytes,a=_hh$temp1361.scenario,r=_hh$temp1361.errorCode,c=_hh$temp1361.errorMessage,d=_hh$temp1361.serverResponseCallId; R.trackEvent({name:"system",data:{eventName:"CopilotUploadDiagnosticAudio",eventInfo_conversationId:e,eventInfo_callId:t,eventInfo_duration:o,eventInfo_scenario:a,eventInfo_errorCode:r,eventInfo_errorMessage:c,eventInfo_customData:JSON.stringify({status:n,fileSize:s,serverCallId:d})}})}async function gCe(e,t){const n=new FormData;n.append("file",e,`${t}-audio.wav`);try{const o=await ut(`/conversations/${t}/upload-diagnostic-audio`,oG,{options:{method:"POST",body:n},analytics:{anonymousPath:"/conversations/*/upload-diagnostic-audio"}}).then(s=>s.data);if("errorCode"in o)throw new Error(o.errorCode);return o.callId}catch(o){throw console.error("Error uploading audio",o),o}}const vCe=5*60*1e3;class yCe{firstEventProcessed=null;events=[];aiMessageNeedsPadding=!1;aiPcmParts=[];totalAIBytes=0;userPcmParts=[];totalUserBytes=0;voiceCallId=null;scenario=void 0;conversationId=null;reset(){this.firstEventProcessed=null,this.events=[],this.aiMessageNeedsPadding=!1,this.aiPcmParts=[],this.totalAIBytes=0,this.userPcmParts=[],this.totalUserBytes=0,this.conversationId=null,this.voiceCallId=null,this.scenario=void 0}setCallId(t){this.voiceCallId=t}setScenario(t){this.scenario=t}recordEvent(t){const n=Date.now();this.firstEventProcessed??=n;const o=n-this.firstEventProcessed;o>vCe||this.events.push({...t,timestamp:o})}async download(){}async upload(){if(!$("voice-upload-diagnostic-audio")||!this.conversationId)return;const t={conversationId:this.conversationId,callId:this.voiceCallId??"",scenario:this.scenario,status:"start"},n=performance.now();try{this.processEvents();const o=this.combineTracks();t.fileSizeBytes=o.size,nf(t);const s=await gCe(o,this.conversationId);nf({...t,status:"success",durationMs:Math.round(performance.now()-n),serverResponseCallId:s}),this.reset()}catch(o){nf({...t,status:"fail",durationMs:Math.round(performance.now()-n),errorMessage:o instanceof Error?o.message:"Unknown error"})}}saveFile(t,n){const o=URL.createObjectURL(n),s=document.createElement("a"); __set$(s,"href",o) ,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(o)}processEvents(){for(const t of this.events)t.event==="userAudio"?this.addUserAudioData(t.audio):t.event==="audioEnd"?this.trimAiToUser():t.event==="startMessage"?this.onNewAiMessage():t.event==="audio"?this.addAIAudioData(t.audio):t.event==="interruptAudio"&&this.trimAiToUser()}onNewAiMessage(){this.aiMessageNeedsPadding=!0}padAiAudioData(){if(!this.aiMessageNeedsPadding)return;this.aiMessageNeedsPadding=!1;const t=2;let n=this.totalUserBytes-this.totalAIBytes;if(n<=0)return;n%t!==0&&(n+=t-n%t);const o=new Uint8Array(n);this.aiPcmParts.push(o),this.totalAIBytes+=n}trimAiToUser(){const t=this.totalUserBytes;let n=this.totalAIBytes-t;if(!(n<=0))for(let o=this.aiPcmParts.length-1;o>=0&&n>0;o-=1){const s= __get$(this.aiPcmParts,o) ;if(s)if(s.length<=n)n-=s.length,this.totalAIBytes-=s.length,this.aiPcmParts.pop();else{const a=s.length-n; __set$(this.aiPcmParts,o,s.subarray(0,a)) ,this.totalAIBytes-=n,n=0}}}addAIAudioData(t){this.padAiAudioData();const n=atob(t),o=new Uint8Array(n.length);for(let s=0;s<n.length;s+=1) __set$(o,s,n.charCodeAt(s)) ;this.aiPcmParts.push(o),this.totalAIBytes+=o.length}addUserAudioData(t){const n=atob(t),o=new Uint8Array(n.length);for(let s=0;s<n.length;s+=1) __set$(o,s,n.charCodeAt(s)) ;this.userPcmParts.push(o),this.totalUserBytes+=o.length}bytesToWavBlob(t,n,o,s){const a=t.length,r=new ArrayBuffer(44),c=new DataView(r),d=(v,y)=>{let C=0;for(const S of y)c.setUint8(v+C,S.charCodeAt(0)),C+=1};d(0,"RIFF"),c.setUint32(4,36+a,!0),d(8,"WAVE"),d(12,"fmt "),c.setUint32(16,16,!0),c.setUint16(20,1,!0),c.setUint16(22,o,!0),c.setUint32(24,n,!0);const m=Math.trunc(o*s/8);c.setUint32(28,n*m,!0),c.setUint16(32,m,!0),c.setUint16(34,s,!0),d(36,"data"),c.setUint32(40,a,!0);const p=new Uint8Array(44+a);return p.set(new Uint8Array(r),0),p.set(t,44),new Blob([p],{type:"audio/wav"})}combineTracks(){const o=Math.trunc(2),s=this.concatParts(this.userPcmParts,this.totalUserBytes),a=this.concatParts(this.aiPcmParts,this.totalAIBytes),r=Math.floor(s.length/o),c=Math.floor(a.length/o),d=Math.max(r,c),m=new Int16Array(s.buffer,s.byteOffset,r),p=new Int16Array(a.buffer,a.byteOffset,c),h=new Int16Array(d*2);for(let v=0;v<d;v+=1){const y=v<r? __get$(m,v) :0;typeof y=="number"&&( __set$(h,v*2,y) );const C=v<c? __get$(p,v) :0;typeof C=="number"&&( __set$(h,v*2+1,C) )}return this.bytesToWavBlob(new Uint8Array(h.buffer),24e3,2,16)}concatParts(t,n){const o=new Uint8Array(n);let s=0;for(const a of t)o.set(a,s),s+=a.length;return o}processTextLog(){let t=!1,n=`Audio Recorder Log for conversation ${this.conversationId}:

`;for(const o of this.events){ const _hh$temp1362=o,s=_hh$temp1362.event,a=_hh$temp1362.timestamp; if(s==="userAudio")continue;if(s==="audio"){t||(n+=`${a}ms  server-to-client  ai audio stream
`,t=!0);continue}t=!1,n+=`${a}ms  ${s==="audioEnd"||s==="audioStart"?"client-to-server":"server-to-client"}  ${s}`,s==="audioStartFailed"&&(n+=`  ${o.reason}`),n+=`
`}return n}}const Sc=new yCe,Pr=Object.freeze(Object.defineProperty({__proto__:null,AUDIO_RECORDER:Sc},Symbol.toStringTag,{value:"Module"}));async function Oh(e,t,n){try{await Nt({path:`/conversations/${e}/react`,args:{body:{[n]:t},analytics:{anonymousPath:"/conversations/*/react"}}})}catch{}}async function m6(e,t,n){try{await Nt({path:`/conversations/${e}/feedback`,args:{body:{types:Array.from(t),text:n},analytics:{anonymousPath:"/conversations/*/feedback"}}})}catch{}}const CCe="voice",SCe="appearance",bCe="vision";function Tv(e){ const _hh$temp1363=e??{},_hh$temp1363$feedbackType=_hh$temp1363.feedbackType,t=_hh$temp1363$feedbackType===void 0?"voice":_hh$temp1363$feedbackType,n=M(Se),o=u0(),s=t==="vision",a=()=>s?{destination:bCe,telemetrySource:"visionFeedback",reactionTarget:"visionReaction"}:o?{destination:SCe,telemetrySource:"voiceFeedback",reactionTarget:"audioReaction"}:{destination:CCe,telemetrySource:"voiceFeedback",reactionTarget:"audioReaction"},_hh$temp1364=a(),r=_hh$temp1364.destination,c=_hh$temp1364.telemetrySource,d=_hh$temp1364.reactionTarget,m=M(jr),p=q(jr),h=q(MT),v=W("voice-upload-diagnostic-audio"),y=E=>{const k=es.getCurrentOrLastCallId();R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"voiceConsentDialog",eventInfo_clickScenario:E,eventInfo_conversationId:n,...k&&{eventInfo_callId:k},eventInfo_clickDestination:r}});}; return{sendPositiveFeedback:()=>{const E=es.getCurrentOrLastCallId();R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:c,eventInfo_clickScenario:"thumbsUp",eventInfo_conversationId:n,...E&&{eventInfo_callId:E},eventInfo_clickDestination:r}}),n&&Oh(n,"thumbs-up",d),Ie.emit("feedback:ai-message-reaction","positive")},sendNegativeFeedback:()=>{const E=es.getCurrentOrLastCallId();R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:c,eventInfo_clickScenario:"thumbsDown",eventInfo_conversationId:n,...E&&{eventInfo_callId:E},eventInfo_clickDestination:r}}),n&&Oh(n,"thumbs-down",d),m&&v&&Sc.upload()},sendFeedbackOptions:async(E,k)=>{const w=es.getCurrentOrLastCallId();R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:c,eventInfo_clickScenario:"feedbackSubmit",eventInfo_conversationId:n,...w&&{eventInfo_callId:w},eventInfo_clickDestination:r,eventInfo_customData:JSON.stringify({selectedOptionsCount:E.size,feedbackTypes:[...E].join(",")})}}),n&&E.size>0&&m6(n,E,k)},handleReviewRequestShown:()=>{y("show")},handleReviewRequestSubmitted:async E=>{E?(p(!0),await HA({optInToVoiceTraining:!0}),v&&Sc.upload()):h(!0),y(E?"allow":"disallow")}}}function ICe(e){ const _hh$temp1365=e,t=_hh$temp1365.type,n=_hh$temp1365.setType,_hh$temp1366=Y(),o=_hh$temp1366.t,s=M(Wd),_hh$temp1367=__arrayFrom$(Re(jr)),a=_hh$temp1367[0],r=_hh$temp1367[1],c=W("voice-upload-diagnostic-audio"),d=u0(),_hh$temp1368=Tv(),m=_hh$temp1368.sendFeedbackOptions,p=q(Ct),h=async (C,S)=>{await m(C,S),a?(y(),c&&Sc.upload()):n("review-request");},v=async C=>{C&&(r(!0),await HA({optInToVoiceTraining:!0}),c&&Sc.upload()),y();},y=()=>{n(null),p(null);}; return t==="feedback-options"?i.jsx(Rs,{isOpen:!0,onClose:()=>y(),headerText:o("voice.feedback.chooseWhatHappened"),className:"z-[60] w-full max-w-[400px]",children:i.jsx(wv,{onSubmit:h,feedbackOptions:d?s?.appearance:s?.call})}):t==="review-request"?i.jsx(Rs,{isOpen:!0,onClose:()=>y(),headerText:o("voice.feedback.canMicrosoftReview"),className:"z-[60] w-full max-w-[400px]",children:i.jsx(d6,{onSubmit:v})}):null}const xv= _hh$temp1369=>{var e=_hh$temp1369.title,t=_hh$temp1369.titleId,n=__rest$Object(_hh$temp1369,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7939 22.5C13.4857 22.4999 14.1313 22.154 14.5151 21.5786L14.54 21.5405C15.3284 20.3578 15.7499 18.9687 15.75 17.5474C15.75 16.8701 15.6551 16.196 15.4673 15.5464L15.3809 15.2695L15.2915 15H19.0781C20.9676 15 22.5 13.4676 22.5 11.5781C22.5 11.3687 22.4811 11.1597 22.4429 10.9541L22.3975 10.749L20.6543 3.77197C20.3204 2.43673 19.12 1.50018 17.7437 1.5H10.6772C9.60719 1.5 8.55025 1.71953 7.57031 2.1416C7.16475 1.74558 6.61162 1.5 6 1.5H3.75C2.50736 1.5 1.5 2.50736 1.5 3.75V11.25C1.5 12.4926 2.50736 13.5 3.75 13.5H6C6.51972 13.5 6.9975 13.3228 7.37842 13.0269L8.92383 14.8799L9.10986 15.1128C10.0102 16.2948 10.5 17.7421 10.5 19.2334V20.2837C10.5 21.5073 11.4927 22.5 12.7163 22.5H12.7939ZM3.75 12C3.33579 12 3 11.6642 3 11.25V3.75C3 3.33579 3.33579 3 3.75 3H6C6.41421 3 6.75 3.33579 6.75 3.75V11.25C6.75 11.6642 6.41421 12 6 12H3.75ZM12.7163 21C12.3211 21 12 20.6789 12 20.2837V19.2334C12 17.4131 11.4012 15.6473 10.3022 14.2046L10.0767 13.9204L8.20752 11.6792C8.23439 11.5402 8.25 11.3969 8.25 11.25V3.75C8.25 3.6622 8.24221 3.5759 8.23242 3.49072C9.00588 3.16824 9.83642 3 10.6772 3H17.7437C18.4318 3.00018 19.0313 3.4691 19.1982 4.13672L20.9429 11.1123L20.9854 11.3438C20.9949 11.4214 21 11.4997 21 11.5781C21 12.6392 20.1392 13.5 19.0781 13.5H14.25C14.2397 13.5 14.2295 13.5025 14.2192 13.5029C14.1856 13.5043 14.152 13.5071 14.1182 13.5132C14.0986 13.5167 14.08 13.5229 14.061 13.5278C14.0452 13.532 14.0284 13.5328 14.0127 13.5381C14.0021 13.5416 13.9923 13.5473 13.9819 13.5513C13.9639 13.5582 13.9466 13.5664 13.9292 13.5747C13.9038 13.5868 13.8794 13.5997 13.856 13.6143C13.8409 13.6236 13.8263 13.6332 13.812 13.6436C13.7873 13.6614 13.7638 13.6802 13.7417 13.7007C13.73 13.7115 13.719 13.7228 13.708 13.7344C13.6878 13.7557 13.6698 13.7784 13.6523 13.8018C13.6421 13.8154 13.6309 13.8284 13.6216 13.8428C13.6055 13.8677 13.5921 13.8938 13.5791 13.9204C13.5434 13.993 13.5194 14.0713 13.5088 14.1548C13.5056 14.1796 13.5021 14.2043 13.5015 14.2295C13.5013 14.2363 13.5 14.2431 13.5 14.25C13.5 14.2653 13.502 14.2804 13.5029 14.2954C13.5038 14.31 13.5041 14.3247 13.5059 14.3394L13.5103 14.3628C13.5148 14.3928 13.5213 14.4219 13.5293 14.4507L13.5381 14.4873L13.957 15.7441L14.0845 16.1851C14.194 16.6302 14.25 17.0879 14.25 17.5474C14.2499 18.6726 13.9161 19.7722 13.292 20.7085L13.2671 20.7466C13.1614 20.9047 12.9841 20.9999 12.7939 21H12.7163Z"}));} ,V7e=Object.freeze(Object.defineProperty({__proto__:null,default:xv},Symbol.toStringTag,{value:"Module"})),Av= _hh$temp1370=>{var e=_hh$temp1370.title,t=_hh$temp1370.titleId,n=__rest$Object(_hh$temp1370,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.7939 1.5C13.4857 1.50008 14.1313 1.84595 14.5151 2.42139L14.54 2.45947L14.8184 2.91211C15.4271 3.98985 15.7499 5.20889 15.75 6.45264C15.75 7.2266 15.6256 7.99622 15.3809 8.73047L15.2915 9H19.0781C20.9676 9 22.5 10.5324 22.5 12.4219C22.5 12.6313 22.4811 12.8403 22.4429 13.0459L22.3975 13.251L20.6543 20.228C20.3204 21.5633 19.12 22.4998 17.7437 22.5H10.6772C9.61047 22.5 8.55647 22.2823 7.5791 21.8628L7.57031 21.8584C7.16475 22.2544 6.61162 22.5 6 22.5H3.75C2.50736 22.5 1.5 21.4926 1.5 20.25V12.75C1.5 11.5074 2.50736 10.5 3.75 10.5H6C6.51972 10.5 6.9975 10.6772 7.37842 10.9731L8.92383 9.12012L9.10986 8.88721C10.0102 7.70524 10.5 6.2579 10.5 4.7666V3.71631C10.5 2.49265 11.4927 1.5 12.7163 1.5H12.7939ZM3.75 12C3.33579 12 3 12.3358 3 12.75V20.25C3 20.6642 3.33579 21 3.75 21H6C6.41421 21 6.75 20.6642 6.75 20.25V12.75C6.75 12.3358 6.41421 12 6 12H3.75ZM12.7163 3C12.3211 3 12 3.32108 12 3.71631V4.7666C12 6.58686 11.4012 8.35271 10.3022 9.79541L10.0767 10.0796L8.20752 12.3208C8.23439 12.4598 8.25 12.6031 8.25 12.75V20.25C8.25 20.3378 8.24221 20.4241 8.23242 20.5093C9.00584 20.8318 9.83643 21 10.6772 21H17.7437C18.4318 20.9998 19.0313 20.5309 19.1982 19.8633L20.9429 12.8877L20.9854 12.6562C20.9949 12.5786 21 12.5003 21 12.4219C21 11.3608 20.1392 10.5 19.0781 10.5H14.25C14.2382 10.5 14.2266 10.4961 14.2148 10.4956C14.1855 10.4942 14.1564 10.4918 14.127 10.4868C14.102 10.4827 14.0778 10.4772 14.0537 10.4707C14.0403 10.467 14.026 10.4664 14.0127 10.4619C14.0035 10.4589 13.9953 10.4536 13.9863 10.4502C13.9606 10.4405 13.936 10.4289 13.9116 10.4165C13.8915 10.4063 13.8719 10.3961 13.853 10.3843C13.8325 10.3714 13.8136 10.3566 13.7944 10.3418C13.7742 10.3262 13.7542 10.3109 13.7358 10.2935C13.719 10.2775 13.7043 10.2597 13.689 10.2422C13.6733 10.2243 13.6574 10.2072 13.6436 10.188C13.6284 10.167 13.6155 10.1446 13.6025 10.1221C13.5914 10.1027 13.5797 10.0838 13.5703 10.0635C13.5589 10.0388 13.5497 10.0133 13.541 9.9873C13.5337 9.96547 13.5258 9.94388 13.5205 9.92139C13.5159 9.90169 13.5133 9.88159 13.5103 9.86133C13.5058 9.83177 13.5024 9.80214 13.5015 9.77197C13.5013 9.76466 13.5 9.75736 13.5 9.75C13.5 9.73818 13.5024 9.72653 13.5029 9.71484C13.5043 9.68556 13.5068 9.65636 13.5117 9.62695C13.5158 9.60203 13.5213 9.57774 13.5278 9.55371C13.5315 9.54019 13.5336 9.52615 13.5381 9.5127L13.957 8.25586C14.1508 7.67456 14.25 7.06538 14.25 6.45264C14.2499 5.46789 13.9952 4.5022 13.5132 3.64893L13.292 3.2915L13.2671 3.25342C13.1614 3.09528 12.9841 3.00008 12.7939 3H12.7163Z"}));} ,H7e=Object.freeze(Object.defineProperty({__proto__:null,default:Av},Symbol.toStringTag,{value:"Module"})),p6="voice-feedback-toast",ECe=3e3;function wCe(){ const _hh$temp1371=Y(),e=_hh$temp1371.t,_hh$temp1372=__arrayFrom$(Re(Ct)),t=_hh$temp1372[0],n=_hh$temp1372[1],_hh$temp1373=__arrayFrom$(u.useState(null)),o=_hh$temp1373[0],s=_hh$temp1373[1],_hh$temp1374=Tv(),a=_hh$temp1374.sendPositiveFeedback,r=_hh$temp1374.sendNegativeFeedback,c=()=>{a(),n({title:e("chat.feedback.postSubmitHeader"),subtitle:e("chat.feedback.postSubmitDescription"),dismissable:!1,dismissAfter:ECe});},d=()=>{r(),s("feedback-options"),t?.id===p6&&n({...t,dismissAfter:void 0});}; return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-row items-center gap-2 py-2 pe-12 ps-5 text-foreground-800",children:[e("voice.feedback.howWasVoiceConversation"),i.jsx(X,{title:e("reviewPrompt.negative"),onClick:d,children:i.jsx(xv,{})}),i.jsx(X,{title:e("reviewPrompt.positive"),onClick:c,children:i.jsx(Av,{})}),i.jsx(po,{msg:e("voice.feedback.howWasVoiceConversation"),type:"polite"})]}),i.jsx(ICe,{type:o,setType:s})]})}function TCe(){return W("voice-feedback-toast")?i.jsx(wCe,{}):null}const xCe=P(null),ACe="/static/cmc/assets/tool_chime-DhDie0AZ.mp3",_Ce=on.extend({actionName:g("suggest_hang_up")});function kCe(){const e=Rn(),t=j(LZ);return e&&!t}const PCe={USER_INTERRUPT:6},MCe=null;function d2(){return MCe}function RCe(e){return e instanceof Error&&(e.name==="NotFoundError"||e.name==="OverconstrainedError")}function NCe(e){const t=e.length;if(t===0)return 0;let n=0;return  __get$(e,t-1) ==="="&&(n+=1), __get$(e,t-2) ==="="&&(n+=1),t*3/4-n}function eu(){if(yo()==="study"&&$("study-mode-voice"))return"study"}function LCe( _hh$temp1375 ){ var e=_hh$temp1375.initAudio,t=_hh$temp1375.getAudioConstraints,n=_hh$temp1375.onCallTerminated,o=_hh$temp1375.onHangupSuggested,s=_hh$temp1375.onSpeechEndDetected,_hh$temp1375$shouldRefetchHistory=_hh$temp1375.shouldRefetchHistory,a=_hh$temp1375$shouldRefetchHistory===void 0?!0:_hh$temp1375$shouldRefetchHistory,_hh$temp1375$eventListeners=_hh$temp1375.eventListeners,r=_hh$temp1375$eventListeners===void 0?[]:_hh$temp1375$eventListeners;  const c=q(ha),d=q(cq),m=q(go),p=c0(),h=q(AC),v=q(Jt),y=M(Se),C=M(Zc),S=M(Xr),_hh$temp1376=__arrayFrom$(Re(ra)),b=_hh$temp1376[0],I=_hh$temp1376[1],x=q($$),E=q(Ia),k=q(Ur),w=q(mS),_=M(xCe),N=_A(),_hh$temp1377=u6(),L=_hh$temp1377.refetch,_hh$temp1378=n5(),B=_hh$temp1378.showBoundary,F=u.useRef(new Set()),_hh$temp1379=mm(),K=_hh$temp1379.isPortraitEnabled,G=_hh$temp1379.isPortraitV2Enabled,te=_hh$temp1379.portraitId,ne=_hh$temp1379.portraitVoiceId,ae=_hh$temp1379.portraitScenario,Te=q(nte),he=q(TA),Ee=q(DZ),Ae=TCe(),Ue=u.useRef(null),Fe=u.useRef(void 0),ke=u.useRef(null),Ve=afe(),De=u.useRef(0),le=u.useRef(!1),_hh$temp1380=__arrayFrom$(Re(xp)),oe=_hh$temp1380[0],we=_hh$temp1380[1],se=d0.getInstance(),z=dCe(),Q=cl(),me=u.useRef(!1),pe=q(Ct),We=$("voice-upload-diagnostic-audio"),be=q(fT),ge=$("voice-start-message-timeout-fix"),Ne=u.useRef(null),Ke=u.useRef(null); u.useEffect(()=>{e||(we(!0),I("waiting-for-user-interaction"))},[e,we,I]),u.useEffect(()=>{Xe.AudioIn.toggleMute(oe)},[oe]);const Me=u.useCallback(()=>{Ue.current&&clearTimeout(Ue.current),ge&&(Ue.current=null)},[ge]);u.useEffect(()=>ge?()=>{}:(b!=="checking-availability"&&Me(),Me),[Me,ge,b]);const Ye=u.useCallback(async()=>{y&&(N(y,ie=>ie.splice(0)),await L())},[L,y,N]),re=u.useCallback(()=>{Xe.AudioOut.stopAudioPlayback(),Rn()&&Xe.Animation.stopAnimation()},[]),He=u.useCallback((ie,ee,Pe)=>{Di.run({}).then(qe=>{qe.recordSessionEnd?.(ee)}).catch(()=>{});const ce=eu();se.onEndCall({numMessages:De.current,audioChatMode:ce,availabilityStatus:ie,endReason:ee,notReceivedStartMessage:Pe}),De.current=0},[se]),nt=u.useCallback(()=>ie=>{switch(ie.event){case"callEnded":{v("inactive");break}}},[v]),ve=u.useCallback(async(ie,ee)=>{if(j(Jt)==="ending")return; const _hh$temp1381=ee,Pe=_hh$temp1381.reason,ce=_hh$temp1381.disableFeedbackToast,qe=j(mS); ie.setOnEvent(nt()),v("ending"),await Xe.AudioIn.stopAudioCapture(),ke.current&&(ke.current(),ke.current=null),re(),we(!1);let ze=!1;ge?Ue.current&&(ze=!0,Me()):Me();const Ze=await gr.endSession({reason:Pe});if(ie.sendAudioEnd(),We){ const _hh$temp1382=await D(async ()=>{const _hh$temp1383=await Promise.resolve().then(()=>Pr),Hn=_hh$temp1383.AUDIO_RECORDER;return{AUDIO_RECORDER:Hn};},void 0),dt=_hh$temp1382.AUDIO_RECORDER; dt.recordEvent({event:"audioEnd"})}h("idle"),yS();const Et=j(ra);if(He(Et,Pe,ze),Et==="available"){j(WC)||Xe.AudioOut.playCallEndJingle(),a&&await Ye();let dt;!me.current&&xee(Pe)&&(dt=Ze||qe?"vision":"voice"),k(dt),gte(),Ae&&!ce&&pe({id:p6,children:Ae,dismissAfter:5e3,bringToFrontOnDialog:!1}),K&&Te(!0)}if(w(!1),await Xe.AudioOut.cleanUpAudioContextAfterCallIfNeeded(),!le.current){le.current=!0;const dt=Ht(Pu,A())??0;No(Pu,A(),dt+1)}},[nt,v,re,we,ge,We,h,He,w,Me,a,k,Ae,K,Ye,pe,Te]),je=u.useCallback(async ie=>{ const _hh$temp1384=Xe,ee=_hh$temp1384.AudioIn,Pe=ze=>{if(ze instanceof CustomEvent&&typeof ze.detail=="string"){const Ze=ze.detail,Et=NCe(Ze);$("fix-ftr")&&ee.recordSentAudioChunk(Et,performance.now()),ie.sendAudio(Ze);}},ce=async ()=>{ee.removeEventListener("audioData",Pe),ee.removeEventListener("audioTrackEnded",ce);const ze=ke.current;ke.current=null,(ze?.()),j(Jt)==="active"&&je(ie);}; let qe;try{qe=performance.now(),se.trackAudioPermission("mic-request"),me.current=!0,await ee.startAudioCapture(t,()=>j(Jt)!=="active");const ze=async()=>{if(se.onClientSpeechStartDetected(),y){const dt=await gr.getContext();dt&&ie.sendContext(dt,y)}},Ze=ee.addOnClientSideVoiceStartDetectedListener(()=>{ze().catch(dt=>{})}),Et=ee.addOnClientSideVoiceEndDetectedListener(()=>{const dt=ee.getLastClientVoiceEndTime();dt!==null&&se.onClientSpeechEndDetected(dt)});if(ee.addEventListener("audioData",Pe),ee.addEventListener("audioTrackEnded",ce),ke.current=()=>{ee.removeEventListener("audioData",Pe),ee.removeEventListener("audioTrackEnded",ce),Ze(),Et()},se.trackAudioPermission("mic-granted",qe),y){const dt=await gr.getContext();dt&&ie.sendContext(dt,y)}return!0}catch(ze){const Ze=async Et=>{const dt=j(Jt)==="active"&&j(ra)==="available";switch(Et){case"microphone-denied":case"microphone-not-found":I(Et);break;case"audio-capture-failed":default:I("error");break}dt?await ve(ie,{reason:{category:"client-terminated",detail:Et}}):v("inactive")};return ze instanceof Error&&(ze.name==="NotAllowedError"||ze.name==="NotSupportedError")?(await Ze("microphone-denied"),R.trackEvent({name:"system",data:{eventName:"copilotNoMicrophoneAccess"}}),se.trackAudioPermission("mic-denied",qe,"no_permission",ze.message)):RCe(ze)?(await Ze("microphone-not-found"),R.trackEvent({name:"system",data:{eventName:"copilotMicrophoneNotFound"}}),se.trackAudioPermission("mic-denied",qe,"no_microphone_found",ze instanceof Error?ze.message:String(ze))):ze instanceof FA?R.trackEvent({name:"system",data:{eventName:"copilotChatCancelledAfterMicrophoneAccess"}}):ze instanceof Error&&ze.name==="InvalidStateError"?(await Ze("audio-capture-failed"),R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"AudioWorkletInvalidStateError",eventInfo_details:JSON.stringify({error:ze}),eventInfo_errorMessage:ze.message}})):(await Ze("audio-capture-failed"),B(new Error(`Error starting audio capture: ${String(ze)}`)),se.trackAudioPermission("mic-denied",qe,"other_start_fail",ze instanceof Error?ze.message:String(ze))),!1}finally{me.current=!1}},[t,I,v,ve,B,se,y]),it=u.useCallback(ie=>{we(ie==="mute")},[we]);u.useEffect(()=>(Ie.on("voice:toggle-mute",it),()=>{Ie.off("voice:toggle-mute",it)}),[it]); const In=u.useCallback(async ie=>{Xe.currentTurnIndex+=1,$("start-audio-capture-before-voice-call")||Xe.AudioIn.audioContext||je(ie),await Xe.AudioOut.initialize(),await Xe.Animation.initialize(Rn());},[je]),jn=u.useCallback(()=>{if(K)return"portrait";const ie=Z.instance().config().audioConfigClientType;if(ie)return ie;if(Rn())return"character";},[K]),Bn=u.useCallback(()=>ne??S??C[0]?.id,[ne,S,C]),un=u.useCallback(()=>te?[{type:"portrait",portraitId:te,scenario:G?ae:void 0}]:void 0,[G,te,ae]),Vn=u.useCallback(()=>{const ie=j(lq);if(Rn()&&ie)return[{type:"campaign",id:ie}];},[]),It=u.useCallback(()=>{const ie=un(),ee=Vn(),Pe=[...ie??[],...ee??[],..._?[_]:[]];return Pe.length>0?Pe:void 0;},[un,Vn,_]),dn=u.useCallback((ie,ee,Pe)=>{if(j(Jt)!=="active")return;const ce=jn(),qe=Bn(),ze=eu(),Ze=It();Fe.current=ce,ie.sendAudioStart({conversationId:ee,options:{voice:qe,initiator:Pe},clientType:ce,mode:ze,context:Ze}),B1.run({inputMethod:"voice"}),ie.resetConversationState(ee,performance.now(),performance.now()),ie.setInputMethodForConversation(ee,"voice");const Et=1e4;Me(),Ue.current=setTimeout(()=>{ge?($("disable-start-message-timeout-ban")||I("start-timeout"),se.onAudioStartTimeout(Et),Me()):(j(ra)==="checking-availability"&&j(Jt)==="active")&&($("disable-start-message-timeout-ban")||I("start-timeout"),se.onAudioStartTimeout(Et));},Et);},[jn,Bn,I,se,It,Me,ge]),Vo=u.useCallback(async ()=>{const ie=performance.now();se.trackAudioPermission("mic-request"),me.current=!0;const ee=await BA({onPrompt:()=>{I("microphone-denied");}});switch(me.current=!1,ee.state){case"granted":return I("available"),se.trackAudioPermission("mic-granted",ie),!0;case"denied":return I("microphone-denied"),se.trackAudioPermission("mic-denied",ie,ee.errorType,ee.errorMessage),!1;default:return I("microphone-denied"),!1;}},[I,se]),Ho=u.useCallback(async (ie,ee)=>{if(!ee||!e||j(Jt)==="ending")return;if(Xe.AudioIn.startNewFtrSession(),I("checking-availability"),$("start-audio-capture-before-voice-call")){if(!await je(ie)||j(Jt)!=="active")return;I("available");}else if(!await Vo()||j(Jt)!=="active"){v("inactive");return;}const Pe=eu();se.onStartCall(ee,Pe),x(null);const ce=await Di.run({});if((ce.initRecord?.(ee)),(ce.recordStart?.()),(kCe()||mCe())&&await l6(),dn(ie,ee),(ce.recordReady?.(ee,"unknown")),Xe.currentTurnIndex=0,We){const _hh$temp1386=await D(async ()=>{const _hh$temp1387=await Promise.resolve().then(()=>Pr),ze=_hh$temp1387.AUDIO_RECORDER;return{AUDIO_RECORDER:ze};},void 0),qe=_hh$temp1386.AUDIO_RECORDER;qe.reset(),qe.conversationId=ee,qe.recordEvent({event:"audioStart"});}j(WC)||await Xe.AudioOut.playCallStartJingle(),Sr("onStartVoiceChat");},[e,I,v,x,dn,We,se,Vo,je]),zo=u.useCallback(async (ie,ee)=>{const Pe=j(Nn),ce=Pe!==null,qe=Pe?.limitReached===!0;if(ce){if(yp.run({reason:ee,subscriptionEligibility:Q}).handled){await ve(ie,{reason:{category:"server-terminated",detail:ee}});return;}if(!qe&&ee==="time-expired"){ye(Nn,Ze=>Ze?{...Ze,limitReached:!0}:null);try{await gr.dropVisionToVoice();const Ze=j(Se);Ze&&dn(ie,Ze,"human");}catch(Ze){const Et=Ze instanceof Error?Ze.message:String(Ze);gr.logReconnectError(Et),await ve(ie,{reason:{category:"server-terminated",detail:ee}}),n(ee);}return;}}await ve(ie,{reason:{category:"server-terminated",detail:ee}}),n(ee);},[ve,n,dn,Q]),vs=u.useRef(null),zt=u.useCallback(async ie=>{try{if(!ie.length)return;let ee;const Pe=[];for(const Ze of ie){if((Ze.op==="replace"&&Ze.path==="/selectedComponentPath")&&Ze.value!==null){ee=Ze.value;continue;}Pe.push(Ze);}if(ee!==void 0&&ye(jX,ee),!vs.current){const _hh$temp1388=await D(async ()=>{const _hh$temp1389=await import(__get$ProxyUrl("./index-DS1hydBz.js","https://copilot.microsoft.com/static/cmc/assets/")),Et=_hh$temp1389.applyPatch;return{applyPatch:Et};},[]),Ze=_hh$temp1388.applyPatch;vs.current={applyPatch:Ze};}const ce=j(aS)??[],_hh$temp1390=vs.current,qe=_hh$temp1390.applyPatch,_hh$temp1391=qe(ce,Pe),ze=_hh$temp1391.newDocument;ye(aS,ze);}catch{}},[]),nr=(ie,ee)=>{if(!ie)return null;switch(ie.type){case"topicList":return Array.isArray(ie.topics)?{...ie,selectedIndex:ie.selectedIndex??-1}:{...ie,topics:ee?.type==="topicList"?ee.topics:null};case"summary":return ie;default:return null;}},Sl=u.useCallback((ie,ee)=>{const Pe=nr(ie,ee);ye(Zf,Pe),p&&d(null);},[p,d]),_hh$temp1385=pCe(ACe),bl=_hh$temp1385.playSound,yi=_hh$temp1385.playState,Go=_hh$temp1385.resetPlayState,or=u.useRef(r); or.current=r;const sr=u.useCallback(ie=>ee=>{const Pe=eu();switch(ee.event){case"startMessage":{ const _hh$temp1392=ee,ce=_hh$temp1392.messageId; if(se.onStartMessage(ce),re(),Go(),j(Jt)==="inactive")break;Ne.current=ce,In(ie),I("available"),h("listening"),ge&&Me();break}case"transcriptEvent":{ const _hh$temp1393=ee,ce=_hh$temp1393.text; se.onTranscriptReceived(ce.length);break}case"appendText":{ const _hh$temp1394=ee,ce=_hh$temp1394.messageId; se.onTextReceived(ce),p&&d("responding");break}case"audioStartFailed":{ const _hh$temp1395=ee,ce=_hh$temp1395.reason,_hh$temp1396=AT.safeParse(ce),qe=_hh$temp1396.success,ze=qe?ce:"error"; if(j(Nn)!==null&&yp.run({reason:ze,subscriptionEligibility:Q}).handled){se.onAudioStartFailed(ce,Pe);break}I(ze),se.onAudioStartFailed(ce,Pe);break}case"audioTimeRemaining":{ const _hh$temp1397=ee,ce=_hh$temp1397.seconds; x(ce);break}case"audio":{if(j(Jt)==="inactive")break;se.onAudioReceived(Pe),Xe.AudioOut.appendAudioData(ee.audio),yi==="playing"&&y&&Ne.current&&Ke.current&&R.trackEvent({name:"system",data:{eventName:"voiceCallToolChimeOverlap",eventInfo_conversationId:y,eventInfo_callId:se.getCurrentOrLastCallId(),eventInfo_messageId:Ne.current,eventInfo_type:Ke.current}});break}case"characterAnimation":{se.onCharacterAnimationReceived(),Rn()&&Xe.Animation.setFrameData(ee);break}case"characterAnimationEnd":{se.onCharacterAnimationEnd(),Rn()&&Xe.Animation.setAnimationDone();break}case"callUI":{ const _hh$temp1398=ee,ce=_hh$temp1398.callUI,qe=j(Zf); Sl(ce,qe),se.onCallUIEventReceived(Pe);break}case"callUIUpdate":{ const _hh$temp1399=ee,ce=_hh$temp1399.update; zt(ce);break}case"characterAppearance":{Rn()&&Ve&&(se.onCharacterAppearanceReceived({body:ee.body,props:ee.props}),Xe.Animation.setCharacterAppearance({body:ee.body,props:ee.props}),Ee(!0));break}case"characterEmotion":{Rn()&&(se.onCharacterEmotionReceived(ee.emotion,ee.bodyReaction),Xe.Animation.setEmotionData({emotion:ee.emotion,bodyReaction:ee.bodyReaction}));break}case"interruptAudio":{Di.run({}).then(ce=>{ce.incrementCounter?.(PCe.USER_INTERRUPT)}).catch(()=>{}),h("listening"),c("listening"),p&&d("listening"),se.onAudioInterrupt(Pe),re(),Go(),Ie.emit("portrait:interrupt-audio");break}case"speechEndDetected":{ const _hh$temp1400=ee,ce=_hh$temp1400.sampleIndex; let qe=null;$("fix-ftr")&&ce!==void 0&&(qe=Xe.AudioIn.findTimestampForSampleIndex(ce)),se.onSpeechEndDetected(Pe,qe),Ie.emit("portrait:end-speech"),c("thinking"),p&&d("thinking");const ze=Xe.AudioIn.onServerSpeechEndDetected();ze!==null&&se.onServerVADLatencyMeasured(ze),s?.();break}case"callTerminated":{ const _hh$temp1401=ee,ce=_hh$temp1401.reason; zo(ie,ce),se.onTerminated(ce,Pe);break}case"error":{ const _hh$temp1402=ee,ce=_hh$temp1402.errorCode; switch(ce){case"over-turn-limit":{E(0);break}case"character-out-of-capacity":{ie.setCallType("standard");break}case"chat-service-unavailable":{if(j(Nn)!==null&&yp.run({reason:ce,subscriptionEligibility:Q}).handled){se.onAudioStartFailed(ce,Pe);break}I("chat-service-unavailable"),se.onAudioStartFailed(ce,Pe);break}}se.onError(ce,Pe);break}case"done":{ const _hh$temp1403=ee,ce=_hh$temp1403.messageId; De.current+=1,Xe.AudioOut.setAudioDone(),se.onMessageDone({messageId:ce,voiceType:S??C[0]?.id,audioChatMode:Pe});break}case"banned":{ const _hh$temp1404=ee,ce=_hh$temp1404.expiresAt,qe=_0(ce); qe&&(k0(qe,"voice",ce),re(),ve(ie,{reason:{category:"server-banned"}}));break}case"callTypeChanged":{ const _hh$temp1405=ee,ce=_hh$temp1405.callType; Fe.current=ce,ce==="character"?(KA(vl.CallTypeChanged),m($a)):(yS(),m(void 0));break}case"challenge":{z&&(v("inactive"),I("waiting-for-user-interaction"),h("waiting-for-user-interaction"),ye(xp,!0),re(),se.onAudioStartFailed("challenge",Pe));break}case"consentRequired":{ const _hh$temp1406=ee,ce=_hh$temp1406.type,qe=_hh$temp1406.version,_hh$temp1407=Yg.safeParse(ce),ze=_hh$temp1407.success; be(ze?ce:null),h("waiting-for-user-interaction"),se.onConsentRequired(ce,qe);break}case"toolExecuting":{if(j(Jt)==="inactive")break; const _hh$temp1408=ee,ce=_hh$temp1408.messageId,qe=_hh$temp1408.tool; yi==="not_started"&&!F.current.has(ce)&&Ne.current===ce&&(bl(),Ke.current=qe.type,F.current.add(ce),y&&Ne.current&&R.trackEvent({name:"system",data:{eventName:"voiceCallToolChimePlayed",eventInfo_conversationId:y,eventInfo_callId:se.getCurrentOrLastCallId(),eventInfo_messageId:Ne.current,eventInfo_type:qe.type}}));break}case"invokeAction":{ const _hh$temp1409=_Ce.safeParse(ee),ce=_hh$temp1409.success,qe=_hh$temp1409.data; ce&&(async()=>(ie.sendActionResult({actionId:qe.actionId,result:{success:!0}}),await ve(ie,{reason:{category:"client-terminated",detail:"suggest-hang-up"}}),o&&await o()))();break}}for(const ce of or.current)try{ce(ee,Fe.current)}catch{}We&&D(async()=>{ const _hh$temp1410=await Promise.resolve().then(()=>Pr),ce=_hh$temp1410.AUDIO_RECORDER; return{AUDIO_RECORDER:ce}},void 0).then(( _hh$temp1411 )=>{ var ce=_hh$temp1411.AUDIO_RECORDER; ce.recordEvent(ee)})},[se,re,In,I,v,h,p,d,x,Sl,zt,Ve,Ee,c,s,zo,E,S,C,ve,m,z,We,be,Me,ge,bl,Q,yi,Go,y,o]),ar=u.useCallback(async(ie,ee)=>{const Pe=sr(ie);ie.setOnEvent(Pe),ie.setOnOpen(()=>{j(Jt)==="active"&&ee&&j(ra)==="available"?(ie.setOnEvent(Pe),dn(ie,ee,"human"),se.onConnected()):(v("inactive"),j(ra)==="available"&&I("checking-availability"))}),ie.setOnClose(()=>{se.onConnectionClosed()}),Rn()&&Ve&&await Xe.Animation.initSyncHandler()},[sr,v,dn,se,I,Ve]),Ci=u.useCallback(async( _hh$temp1412 )=>{ var ie=_hh$temp1412.action,ee=_hh$temp1412.options;  const Pe=ie==="start",_hh$temp1413=ee??{},_hh$temp1413$force=_hh$temp1413.force,ce=_hh$temp1413$force===void 0?!1:_hh$temp1413$force,_hh$temp1413$disableFeedbackToastOnEnd=_hh$temp1413.disableFeedbackToastOnEnd,qe=_hh$temp1413$disableFeedbackToastOnEnd===void 0?!1:_hh$temp1413$disableFeedbackToastOnEnd,ze=ie==="end"?ee.endReason:{category:"unknown"},Ze=j(Se); xa.onVoiceChatToggled(ie,Ze),ge||Me();const Et=j(Jt);if(ie==="end"&&(Et==="inactive"||Et==="ending")&&!ce)return;let dt;try{if(dt=await _n({useMockConnection:!!d2()}),Pe&&j(Jt)!=="inactive"&&!ce){await ar(dt,Ze);return}if(Pe&&(le.current=!1,se.onBeforeStartCall(Rn(),K)),v(Pe&&e?"active":"inactive"),Pe){const Hn=dt.status();Hn.readyState!==WebSocket.OPEN?R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"WebSocketNotOpen",eventInfo_inputMethod:"voice",eventInfo_details:JSON.stringify(Hn)}}):(await Di.run({})).recordConnected?.()}}catch(Hn){throw Pe&&R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitMessage",eventInfo_inputMethod:"voice",eventInfo_errorMessage:Hn instanceof Error?Hn.message:"",eventInfo_details:Hn instanceof Error?Hn.stack??"":""}}),Hn}Pe?(await ar(dt,Ze),await Ho(dt,Ze)):(await ve(dt,{disableFeedbackToast:qe,reason:ze}),Ie.emit("voice:call-ended"))},[e,se,ar,Ho,v,ve,K,ge,Me]);u.useEffect(()=>{async function ie(){if(!z||!e)return;j(xp)&&it("unmute"),j(AC)==="waiting-for-user-interaction"&&((await _n()).sendAudioEnd(),await Ci({action:"start",options:{force:!0}}))}return Ie.on("challenge:success",ie),()=>{Ie.off("challenge:success",ie)}},[e,it,Ci,z]),u.useEffect(()=>{ const _hh$temp1414=Xe,ie=_hh$temp1414.AudioOut,ee=()=>{he(!0),h("responding"),c("responding"),se.onAudioStart();},Pe=()=>{he(!1),h("listening"),c("listening"),se.onAudioEnd();}; return ie.addEventListener("audioStart",ee),ie.addEventListener("audioEnd",Pe),()=>{ie.removeEventListener("audioStart",ee),ie.removeEventListener("audioEnd",Pe)}},[c,he,h,se]);const Lm=u.useCallback(async ie=>{if(j(Jt)!=="active")return;const ee=await _n({useMockConnection:!!d2()});ie==="start"?await je(ee):await Xe.AudioIn.stopAudioCapture()},[je]);return{toggleVoiceChat:Ci,toggleMute:it,isInputMuted:oe,inputVolume:Xe.AudioIn.volume,toggleAudioCapture:Lm}}const DCe=3,OCe=10,UCe=3,m2={SUCCESS:"success",FAILED:"failed"};function FCe( _hh$temp1415 ){ var e=_hh$temp1415.toggleVoiceChat,_hh$temp1415$enabled=_hh$temp1415.enabled,t=_hh$temp1415$enabled===void 0?!1:_hh$temp1415$enabled,n=_hh$temp1415.enabledForCallTypes; const o=u.useRef(e);o.current=e; const s=u.useRef({hasAudio:!0,hasText:!0,retryCount:0,consecutiveErrors:0,isFirstTurn:!0}),_hh$temp1416=__arrayFrom$(u.useState(!1)),a=_hh$temp1416[0],r=_hh$temp1416[1],c=M(Se),d=u.useCallback(C=>{const S=s.current;let b="initialAutoRetry";a?b="userManualRetry":S.isFirstTurn?b="initialAutoRetry":S.consecutiveErrors>0&&(b="backendAutoRecover");const I=JSON.stringify({retryCount:S.retryCount,consecutiveErrors:S.consecutiveErrors});R.trackEvent({name:"system",data:{eventName:"voiceRecoveryEventData",eventInfo_result:C,eventInfo_scenario:b,eventInfo_customData:I,eventInfo_conversationId:c??""}});},[a,c]),m=u.useCallback(async ()=>{o.current({action:"end",options:{force:!0,endReason:{category:"client-restarted",detail:"auto-recovery"}}}),await Cm(),o.current({action:"start",options:{force:!0}}),s.current.isFirstTurn=!0,s.current.retryCount+=1;},[]),p=u.useCallback(()=>{d(m2.FAILED),o.current({action:"end",options:{force:!0,endReason:{category:"client-terminated",detail:"auto-recovery-failed"}}}),s.current.retryCount=0,s.current.consecutiveErrors=0,r(!0);},[d,r]),h=u.useCallback(()=>{(s.current.retryCount>0||s.current.consecutiveErrors>0||a)&&d(m2.SUCCESS),s.current.retryCount=0,s.current.consecutiveErrors=0,r(!1);},[r,d,a]),v=u.useCallback(()=>{const C=s.current;if((!a&&C.isFirstTurn)&&C.retryCount<OCe){m();return;}if(!((!C.isFirstTurn&&!a)&&(C.consecutiveErrors+=1,C.consecutiveErrors<UCe))){if(a&&C.retryCount<DCe){m();return;}p();}},[a,m,p]); return{voiceRecoveryHandler:u.useCallback((C,S="standard")=>{if(t&&!(n&&!n.includes(S)))switch(C.event){case"startMessage":s.current.hasAudio=!1,s.current.hasText=!1;break;case"appendText":s.current.hasText=!0;break;case"audio":s.current.hasAudio=!0,h();break;case"done":s.current.hasText&&!s.current.hasAudio&&v(),s.current.isFirstTurn=!1;break}},[h,v,t,n]),isNoAudioErrorVisible:t?a:!1}}function jCe(e,t){return fo(e)&&fo(t)&&e.endsWith("/vision")!==t.endsWith("/vision")}const BCe=P(null);async function z7e(){const e=_e(),t=e.get(Bl),n=t==="open"?"close":"open";e.set(Bl,n);try{const o=await da.run({});o.onToggleScreenPicker&&await o.onToggleScreenPicker(n)!=="Success"&&e.set(Bl,t)}catch{e.set(Bl,t)}}function VCe( _hh$temp1417 ){ var e=_hh$temp1417.isAudioCall,t=_hh$temp1417.onCallTerminated,n=_hh$temp1417.onHangupSuggested,o=_hh$temp1417.onMute,s=_hh$temp1417.onUnmute;  const a=Yt(),r=eA(),_hh$temp1418=__arrayFrom$(Sm()),c=_hh$temp1418[0],d=_hh$temp1418[1],m=c==="audioCall",_hh$temp1419=__arrayFrom$(u.useState(!1)),p=_hh$temp1419[0],h=_hh$temp1419[1],_hh$temp1420=Nk(),v=_hh$temp1420.noModalToShow,y=kt(),C=M(GA),S=M(Ui),_hh$temp1421=fk({defaultValue:!m}),b=_hh$temp1421.state,I=_hh$temp1421.setState,x=M(BCe),E=u.useMemo(()=>P(!1),[]),k=(x?.getVisionContextIsActiveAtom())??E; M(k); const w=q(ra),_=u.useRef(!1),N=u.useRef(async ()=>{}),_hh$temp1422=FCe({toggleVoiceChat:N.current,enabled:!0,enabledForCallTypes:["standard"]}),L=_hh$temp1422.voiceRecoveryHandler,B=_hh$temp1422.isNoAudioErrorVisible,F=u.useMemo(()=>[L],[L]),_hh$temp1423=LCe({initAudio:b,onCallTerminated:t,onHangupSuggested:n,eventListeners:F}),K=_hh$temp1423.toggleVoiceChat,G=_hh$temp1423.toggleMute,te=_hh$temp1423.inputVolume,ne=_hh$temp1423.isInputMuted; N.current=K,u.useEffect(()=>{const oe=a.endsWith("/vision");e?!m&&(v||oe)&&!S&&N.current({action:"start"}):N.current({action:"end",options:{endReason:{category:"client-terminated",detail:"navigate-away"}}})},[a,e,m,v,S]);const ae=u.useCallback(oe=>{K({action:"start",options:{force:oe}}),b&&!p&&(h(!0),G("unmute"))},[K,b,p,G]),Te=u.useCallback(oe=>{I(!m),d(),K({action:"end",options:oe})},[d,m,I,K]),he=u.useCallback(()=>{I(!0),G(ne?"unmute":"mute"),ne?s?.():o?.()},[I,G,ne,o,s]);u.useEffect(()=>{e&&m&&b&&ae()},[b,e,m,ae]),u.useEffect(()=>{B&&w("error")},[B,w]);async function Ee(){return(await Di.run({})).recordLaunchSurface?.(),(await RY.run({onAudioCall:async()=>"NotSupported"})).onAudioCall()}const Ae=u.useCallback(async(oe=!1)=>{(!e||oe)&&await Ee()!=="NotSupported"||await r({talkType:"talk"})},[e,r]);u.useEffect(()=>{m&&Ae(!0)},[m,Ae]);const Ue=u.useCallback(oe=>{ const _hh$temp1424=oe,we=_hh$temp1424.toLocation,se=_hh$temp1424.fromLocation,z=we.pathname,Q=se?.pathname??""; if(e&&jCe(Q,z)){(async()=>{try{const me=lx.run({conversationId:"",options:{}}),pe=z.endsWith("/vision")?me.clientType??"standard":"standard";(await _n()).setCallType(pe)}catch{}})();return}e&&!fo(z)&&N.current({action:"end",options:{endReason:{category:"client-terminated",detail:"navigate-away"}}})},[e]);L0(Ue),u.useEffect(()=>{const oe=()=>{ae(!0),Ie.off("voice:call-ended",oe),_.current=!1,Ie.emit("voice:call-restarted")},we=se=>{switch(se.action){case"start":ae();break;case"end":Te({disableFeedbackToastOnEnd:!0,endReason:{category:"client-terminated",detail:se.reason}});break;case"restart":{_.current=!0,Te({force:!0,disableFeedbackToastOnEnd:!0,endReason:{category:"client-restarted",detail:se.reason}});break}}};return Ie.on("composer:request-voice",we),_.current&&Ie.on("voice:call-ended",oe),()=>{Ie.off("composer:request-voice",we),_.current&&Ie.off("voice:call-ended",oe)}},[Te,ae]),u.useEffect(()=>{async function oe(){if(!C||!y)return;const we=await da.run({});await we.getAndClearPendingScreenPickerToggle?.()&&we.onToggleScreenPicker?.()}oe()},[y,C]);const Fe=u.useCallback(async()=>{await(await da.run({})).onToggleScreenPicker?.()},[]),ke=u.useCallback(async()=>{x?await x.handleVisionButtonClicked():await Fe()},[x,Fe]),Ve=x?.visionButtonTitle()??"composer.startVisionCall",De=x?.shouldShowMuteIcon()??!1,le=x?.shouldUseCustomTooltip()??!1;return{launchAudioCall:Ae,startAudioCallIfNotStartedAlready:ae,endAudioCall:Te,toggleAudioInput:he,onVisionButtonClick:ke,visionButtonTitle:Ve,showVisionMute:De,shouldUseCustomTooltip:le,inputVolume:te,isInputMuted:ne,isAudioDeepLink:m,canInitAudio:b}}function HCe(e){ const _hh$temp1425=__arrayFrom$(u.useState(!1)),t=_hh$temp1425[0],n=_hh$temp1425[1],_hh$temp1426=e,o=_hh$temp1426.tab,_hh$temp1426$className=_hh$temp1426.className,s=_hh$temp1426$className===void 0?"":_hh$temp1426$className,_hh$temp1427=Y(),a=_hh$temp1427.t; return t||!o.favIconUrl?i.jsx(rv,{className:Je("size-5",s)}):i.jsx("img",{src:o.favIconUrl,alt:a("composer.multiTabs.tabFavIconAltText"),className:Je("size-4 rounded bg-white",s),onError:()=>{n(!0)}})}function zCe(e){try{return  __call$(new URL(e).hostname,"replace",[/^www\./,""]) }catch{return null}}function GCe(e,t=5){const n=new Set;for(const o of e){if(n.size>=t)break;if(o.url){const s=zCe(o.url);s&&n.add(s)}}return Array.from(n).join(", ")}function WCe(e,t=5){const n=new Set;for(const o of e){if(n.size>=t)break;o.title&&n.add(o.title)}return Array.from(n).join(", ")}function $Ce(e){ const _hh$temp1428=e,t=_hh$temp1428.tabs,n=u.useMemo(()=>WCe(t,5),[t]),o=t.length-1; return i.jsxs("div",{className:"flex",children:[i.jsx("span",{className:"min-w-0 truncate font-semibold text-foreground-750 text-sm",children:n}),o>0&&i.jsxs("span",{className:"ms-1 font-semibold text-foreground-750 text-sm",children:["+",o]})]})}function qCe(e){ const _hh$temp1429=e,t=_hh$temp1429.tabs,n=u.useMemo(()=>GCe(t,5),[t]); return i.jsx("span",{className:"truncate text-foreground-450 opacity-95 text-xs dark:text-foreground-600 dark:opacity-90",children:n})}function KCe(e,t){return`${e.id}-${e.url??""}-${t}`}function f6(e){ const _hh$temp1430=e,t=_hh$temp1430.tabs,n=_hh$temp1430.onRemove,o=_hh$temp1430.showRemoveIcon,s=_hh$temp1430.onClick,_hh$temp1430$isLoading=_hh$temp1430.isLoading,a=_hh$temp1430$isLoading===void 0?!1:_hh$temp1430$isLoading,r=_hh$temp1430.ariaLabel,_hh$temp1431=Y(),c=_hh$temp1431.t,d=u.useMemo(()=>t.slice(0,3),[t]),m=v=>{v.stopPropagation(),(n?.());},p=v=>{v.stopPropagation(),(s?.());},h=iv(()=>{(s?.());}); return i.jsxs(Ce.div,{className:"relative flex h-[58px] w-full flex-row items-center justify-center gap-2 overflow-hidden rounded-xl border border-black/8 bg-white/90 p-3 dark:border-white/8 dark:bg-background-200/80",layout:"position",initial:Be,animate:ct,exit:Be,onClick:p,tabIndex:s?0:void 0,onKeyDown:h,role:s?"button":void 0,"aria-label":r,children:[i.jsx("div",{className:Je("flex h-5 min-w-5 flex-none items-center justify-center rounded bg-white/90 dark:bg-background-200/80"),children:d.map((v,y)=>i.jsx(HCe,{tab:v,className:Je(y>0&&"-ms-[6px]")},KCe(v,y)))}),i.jsxs("div",{className:"me-7 flex min-w-0 flex-1 flex-col",children:[i.jsx($Ce,{tabs:t}),i.jsx(qCe,{tabs:t})]}),a&&i.jsx(Dt,{className:"absolute inset-0 grid place-items-center bg-white/80 dark:bg-white/45","data-testid":"multi-tabs-loading",children:i.jsx(u.Suspense,{fallback:i.jsx("div",{"aria-hidden":!0}),children:i.jsx(At,{type:"spinnerThemed",className:"size-11"})})}),o&&i.jsx("button",{type:"button",title:c("common.closeText"),"aria-label":c("common.closeText"),onClick:m,tabIndex:0,className:"absolute end-0.5 top-0.5 m-1 rounded-full p-1 text-foreground-850 safe-hover:bg-black/5 dark:safe-hover:bg-black/30",children:i.jsx(sn,{className:"size-3"})})]})}function YCe( _hh$temp1432 ){ var e=_hh$temp1432.onClick,_hh$temp1432$showRemoveIcon=_hh$temp1432.showRemoveIcon,t=_hh$temp1432$showRemoveIcon===void 0?!0:_hh$temp1432$showRemoveIcon,_hh$temp1432$isLoading=_hh$temp1432.isLoading,n=_hh$temp1432$isLoading===void 0?!1:_hh$temp1432$isLoading;  const _hh$temp1433=__arrayFrom$(Re(Do)),o=_hh$temp1433[0],s=_hh$temp1433[1],a=u.useMemo(()=>Array.from(o.values()),[o]),_hh$temp1434=Y(),r=_hh$temp1434.t; return o.size===0?null:i.jsx("div",{className:"flex min-h-[60px] cursor-pointer flex-col gap-2","data-testid":"manual-multi-tabs-preview-card",children:i.jsx(f6,{showRemoveIcon:t,tabs:a,onRemove:()=>{s(new Map)},onClick:e,isLoading:n,ariaLabel:r("composer.multiTabs.browserTabMenuTitleForUpdate")})})}const h6=crypto.randomUUID();function ZCe(e){return e? __get$({"zh-Hans":"zh-CN","zh-Hant":"zh-TW"},e) ??e:"en-US"}function JCe(){return{sdk:"8.0",messaging:{origin: __get$(window,"location") .origin,channelId:h6},selection:{mode:"multiple"},accessibility:{showFocusOnLoad:!1,enableFocusTrap:!0},authentication:{},entry:{oneDrive:{recent:{}}},typesAndSources:{mode:"files",filters:[..._ae(),...kae()],pivots:{oneDrive:!0,recent:!0,photos:!1}},commands:{upload:{enabled:!1},createFolder:{enabled:!1}}}}function QCe(){const e=new URLSearchParams({app:"CMC",scenario:"AnalyzeDoc",filePicker:JSON.stringify(JCe()),locale:ZCe(st.resolvedLanguage)});return`${g6}/picker?${e.toString()}`}const g6="https://onedrive.live.com";async function v6(){return(await rZ())?.accessToken??""}function XCe(e){return e!==null&&typeof e=="object"&&"type"in e&&e.type==="initialize"&&"channelId"in e&&typeof e.channelId=="string"}function eSe( _hh$temp1435 ){ var e=_hh$temp1435.port,t=_hh$temp1435.onClose,n=_hh$temp1435.onPick,o=_hh$temp1435.setIsLoading,s=_hh$temp1435.onError; return async a=>{let r;switch(a.data.type){case"notification":a.data.data.notification==="page-loaded"&&o(!1);break;case"command":switch( __call$(e,"postMessage",[{type:"acknowledge",id:a.data.id}]) ,a.data.data.command){case"authenticate":r=await v6(),typeof r<"u"? __call$(e,"postMessage",[{type:"result",id:a.data.id,data:{result:"token",token:r}}]) :( __call$(e,"postMessage",[{type:"result",id:a.data.id,data:{result:"error",error:{code:"authTokenError",message:"Could not get OneDrive authentication token."}}}]) ,o(!1),s(),t());break;case"close":t();break;case"pick":a.data.data.items!==void 0&&a.data.data.items.length>0&&a.data.data.items[0]!==void 0&&(n(a.data.data.items), __call$(e,"postMessage",[{type:"result",id:a.data.id,data:{result:"success"}}]) ,t());break;default:o(!1), __call$(e,"postMessage",[{result:"error",error:{code:"unsupportedCommand",message:a.data.data.command},isExpected:!0}]) ,s(),t();break}break}}}function tSe( _hh$temp1436 ){ var e=_hh$temp1436.onClose,t=_hh$temp1436.onPick,n=_hh$temp1436.onError;  const o=u.useRef(null),_hh$temp1437=Y(),s=_hh$temp1437.t,_hh$temp1438=__arrayFrom$(u.useState(!0)),a=_hh$temp1438[0],r=_hh$temp1438[1]; return u.useEffect(()=>{const c=()=>{const h={title:s("composer.errors.attachmentOneDrive.title"),message:s("composer.errors.attachmentOneDrive.message")};n(h),R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitMessage",eventInfo_errorMessage:h.message,eventInfo_details:"Error submitting message"}})},d=o.current?.contentWindow;let m,p;return d&&(async()=>{const v=d.document.createElement("form");v.method="POST",v.action=QCe(),d.document.body.appendChild(v);const y=d.document.createElement("input");y.type="hidden",y.name="access_token",y.value=await v6(),v.appendChild(y),window.addEventListener("message",C=>{if(C.origin&&C.origin===g6){const S=C.data;if(XCe(S)&&S.channelId===h6){ var _hh$temp1439; if( _hh$temp1439=__arrayFrom$(C.ports),p=_hh$temp1439[0],_hh$temp1439 ,!p){r(!1),c(),e();return}m=eSe({port:p,onClose:e,onPick:t,onError:c,setIsLoading:r}),p.addEventListener("message",m),p.start(), __call$(p,"postMessage",[{type:"activate"}]) }}}),v.submit()})(),()=>{m&&window.removeEventListener("message",m),p&&p.close()}},[e,t,n,s]),i.jsxs(Rs,{isOpen:!0,onClose:e,className:"flex h-[90vh] max-h-[680px] w-[90vw] max-w-[1080px]",fullBleed:!0,children:[a&&i.jsxs("div",{className:"flex size-full items-center justify-center","aria-live":"polite",role:"status","aria-label":s("oneDrive.pickerLoading"),children:[i.jsx("span",{className:"sr-only",children:s("oneDrive.pickerLoading")}),i.jsx(At,{className:"size-20"})]}),i.jsx("iframe",{title:s("onedrive.filePicker"),ref:o,hidden:a,width:"100%",height:"100%"})]})}const G7e="h-conversation-modal w-[88vw] max-w-conversation-modal bg-background-200",nSe="Auto-detect";function p2(e){ const _hh$temp1440=e,t=_hh$temp1440.name,n=_hh$temp1440.i18nCode,o=_hh$temp1440.isSelected,s=_hh$temp1440.onChange,a=n.split("-")[0]; return i.jsx("li",{role:"presentation",className:"w-full",children:i.jsx(X,{role:"option","aria-selected":o,variant:"rect",color:"subtle-dimmed-inverted",className:"w-full",title:void 0,onClick:()=>s(n),children:i.jsxs("div",{className:"flex grow cursor-pointer items-center",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx("span",{className:"truncate font-light",children:t}),i.jsx("span",{className:"mt-px ps-4 uppercase text-foreground-600 text-xs",children:a})]}),o&&i.jsx("div",{className:"ms-auto flex size-4 items-center justify-center rounded-full bg-background-900",children:i.jsx(Tm,{className:"size-3 text-foreground-100 contrast-more:text-current"})})]})})})}function oSe(e){ const _hh$temp1441=e,t=_hh$temp1441.onClickBack,n=_hh$temp1441.onSpeechLanguageSelected,o=_hh$temp1441.className,_hh$temp1442=Y(),s=_hh$temp1442.t,a=M(f1),_hh$temp1443=__arrayFrom$(Re(w1)),r=_hh$temp1443[0],c=_hh$temp1443[1],d=q0({axis:"vertical",circular:!0,memorizeCurrent:!0}),m=async p=>{n&&n(p),S1({settingName:"voiceLanguage",oldValue:r,newValue:p}),c(p),await Nt({path:"/user/settings",args:{options:{method:"PATCH"},query:{"api-version":"2"},body:{preferredVoiceLanguage:p}}});}; return i.jsxs(i.Fragment,{children:[t&&i.jsx(Iv,{title:s("settings.voiceLanguageTitle"),onClickBack:t}),i.jsxs("ul",{className:O("t-custom-scrollbar flex max-h-96 flex-col gap-1 overflow-y-auto p-1.5",o),role:"listbox","data-tabster":d["data-tabster"],children:[i.jsx(p2,{name:s("settings.voiceLanguageAutoDetect"),i18nCode:"",isSelected:!r,onChange:m},nSe),i.jsx(Uo,{}),a.map(p=>i.jsx(p2,{name:p.label,i18nCode:p.language,isSelected:r===p.language,onChange:m},p.language))]})]})}function sSe( _hh$temp1444 ){ var e=_hh$temp1444.onLanguageSelected;  const _hh$temp1445=Y(),t=_hh$temp1445.t,n=M(w1),o=M(f1),s=u.useMemo(()=>n?o.find(r=>r.language===n)?.label:t("settings.voiceLanguageAutoDetect"),[n,o,t]),a=u.useRef(null); return i.jsxs("div",{className:"flex items-center justify-between gap-2 p-2",ref:a,children:[i.jsx("h3",{className:"shrink-0 text-sm-strong",children:t("settings.languageTitle")}),i.jsx(Pm,{portalContainerRef:a,renderTrigger: _hh$temp1446=>{var r=_hh$temp1446.openPopover,c=_hh$temp1446.isOpen;return i.jsxs(X,{title:s,onClick:r,size:"32-xs",color:"overlay-dimmed",className:"min-w-20 max-w-full justify-between","aria-haspopup":"listbox","aria-expanded":c?"true":"false","aria-label":t("settings.voiceLanguageButtonAriaLabel",{language:s}),children:[i.jsx("span",{className:"truncate",children:s}),i.jsx(Eo,{className:"size-4 rotate-90"})]});} ,renderSurface:()=>i.jsx(oSe,{className:"max-h-64 min-w-60 max-w-72",onSpeechLanguageSelected:e}),placement:"bottom-end",containerClassNames:{surface:"p-1.5 bg-white/95 dark:bg-muted-200/95",trigger:"py-0.5"}})]})}function aSe(e){ const _hh$temp1447=__arrayFrom$(u.useState(!1)),t=_hh$temp1447[0],n=_hh$temp1447[1]; u.useEffect(()=>{if(!e)return;(async()=>{try{ const _hh$temp1448=await _Y.run({}),_hh$temp1448$micPermissionAllowed=_hh$temp1448.micPermissionAllowed,a=_hh$temp1448$micPermissionAllowed===void 0?!1:_hh$temp1448$micPermissionAllowed; n(a)}catch{}})()},[e]);const o=u.useCallback(async s=>{n(s);try{ const _hh$temp1449=await kY.run({isChecked:s}),a=_hh$temp1449.isSwitchDone; a||n(!s)}catch{n(!s)}},[]);return{isMicPermissionAllowed:t,handleMicAccessChange:o}}function rSe(e){ const _hh$temp1450=e,t=_hh$temp1450.isChecked,n=_hh$temp1450.label,o=_hh$temp1450.onChange,s=_hh$temp1450.disabled,_hh$temp1451=__arrayFrom$(u.useState(!1)),a=_hh$temp1451[0],r=_hh$temp1451[1],c=u.useId(),d=()=>r(!0),m=()=>r(!1),p=v=>{((v.key==="Enter"||v.key===" ")&&!s)&&o(!t);}; let h=t?"bg-system-green-400":"bg-black/20 dark:bg-white/20";return s&&(h="bg-black/20 after:bg-white/40 dark:bg-white/20 dark:after:bg-black/40"),i.jsxs("span",{className:"flex flex-row items-center gap-2",children:[i.jsx("input",{role:"switch",id:c,type:"checkbox",title:n,"aria-label":n,checked:t,onChange:v=>o(v.target.checked),onKeyDown:p,onFocus:d,onBlur:m,className:"sr-only",disabled:s}),i.jsx("label",{htmlFor:c,className:O("relative flex h-6 w-10 cursor-pointer items-center rounded-full","after:absolute after:start-[2px] after:top-[2px] after:size-5 after:rounded-full after:transition-all contrast-more:forced-color-adjust-none",h,!s&&"after:bg-white after:shadow-switch after:hover:scale-110 after:active:w-6",t&&"after:translate-x-4",t&&!s&&"after:active:translate-x-3",a&&"outline",!s&&"cursor-pointer")})]})}async function iSe(e){return Nt({path:"/user/settings",args:{options:{method:"PATCH"},query:{"api-version":"2"},body:{preferredVoice:e}}})}function cSe(e){ const _hh$temp1452=e,t=_hh$temp1452.className,n=_hh$temp1452.onVoiceSelected,_hh$temp1453=Y(),o=_hh$temp1453.t,s=u.useRef(null),a=u.useRef(null),r=M(Zc),c=M(dK),d=q(Xr),_hh$temp1454=__arrayFrom$(u.useState(!1)),m=_hh$temp1454[0],p=_hh$temp1454[1],_hh$temp1455=__arrayFrom$(u.useState(!1)),h=_hh$temp1455[0],v=_hh$temp1455[1],C=M(mK)/Uc,S=im(),_hh$temp1456=mm(),b=_hh$temp1456.portraitVoiceId,I=b??c?.id; async function x(E){n&&n(E),s.current&&(m?s.current.pause():await s.current.play()),R.setSettings({userSettingVoiceType:E.id}),S1({settingName:"voiceType",oldValue:I,newValue:E.id}),d(E.id),v(!0),await iSe(E.id)}return u.useEffect(()=>{s.current&&(s.current.playbackRate=C,s.current.defaultPlaybackRate=C)},[C,h]),n6(E=>{if(E.key==="Enter"&&a.current){const k=r.findIndex(w=>w.name===c?.name);if(k!==-1){const w= __get$(a.current.children,k) ;w?.focus(),Dh(S,w)}else{const w=a.current.firstChild;w?.focus(),Dh(S,w)}}}),i.jsxs("div",{className:Je("grid grid-cols-2 gap-2 pt-1",t),"data-testid":"voice-selector",ref:a,role:"radiogroup","aria-label":o("settings.voiceSelection"),children:[r.map((E,k)=>i.jsx(jk,{className:Je("flex h-16 items-center justify-center",I===E.id&&m&&"bg-black dark:bg-background-300"),isSelected:I===E.id,onClick:()=>x(E),ariaSetSize:r.length,ariaPosInSet:k+1,ariaLabel:o("settings.voiceOptionPosition",{voiceName:E.name,position:k+1,total:r.length}),children:E.name},E.id)),h&&c?.previewUrl&&i.jsx("audio",{autoPlay:!0,ref:s,src:c.previewUrl,onPlay:()=>p(!0),onPause:()=>p(!1),onEnded:()=>p(!1)})]})}const y6={voice:"change-voice-tone",language:"change-voice-language"};function lSe(){return i.jsxs("div",{className:"flex w-0 flex-auto items-center gap-2",children:[i.jsx(Y0,{className:"size-6 rounded-2xl"}),i.jsx("span",{className:"shrink truncate text-sm",children:U("settings.appearanceSettingsTitle")})]})}function uSe(e){ const _hh$temp1457=e,t=_hh$temp1457.selectedVoiceAppearance,n=_hh$temp1457.handleCharacterToggleClick,o=_hh$temp1457.isAppearancePreloadEnabled,s=u.useCallback(()=>{o&&Zk();},[o]); return i.jsx("div",{className:"flex flex-none items-center gap-2",onFocus:s,onMouseEnter:s,onTouchStart:s,children:i.jsx(rSe,{label:U("settings.appearanceToggleLabel"),isChecked:!!t,onChange:n})})}const dSe="px-2 pb-5 pt-2 text-sm-strong";function mSe(e){ const _hh$temp1458=e,t=_hh$temp1458.onClickBack,n=_hh$temp1458.onVoiceSettingChanged,o=_hh$temp1458.onAppearanceEnabled,_hh$temp1458$hideAppearanceControls=_hh$temp1458.hideAppearanceControls,s=_hh$temp1458$hideAppearanceControls===void 0?!1:_hh$temp1458$hideAppearanceControls,_hh$temp1458$hideVoiceLanguageControls=_hh$temp1458.hideVoiceLanguageControls,a=_hh$temp1458$hideVoiceLanguageControls===void 0?!1:_hh$temp1458$hideVoiceLanguageControls,r=_hh$temp1458.className,_hh$temp1459=__arrayFrom$(Re(go)),c=_hh$temp1459[0],d=_hh$temp1459[1],m=q(en),_hh$temp1460=pi(),p=_hh$temp1460.createConversation,h=$s(),v=M(Tx),y=()=>{Zi($k);},C=W("appr-preload-onhover"),S=ks({key:"shouldShowMicAccess",default:!1}),b=ks({key:"shouldShowVoiceContent",default:!0}),I=W("voice-live-caption"),x=W("speech-language-setting"),E=ks({key:"shouldShowLiveCaptionAccess",default:!1})&&I,_hh$temp1461=__arrayFrom$(Re(fK)),k=_hh$temp1461[0],w=_hh$temp1461[1],_=G=>{w(G);},_hh$temp1462=aSe(S??!1),N=_hh$temp1462.isMicPermissionAllowed,L=_hh$temp1462.handleMicAccessChange,B=async ()=>{fe({source:"characterTalkToggleButton",customData:JSON.stringify({changedToEnabled:!c})});const G=c?void 0:$a;(!G&&v)&&y(),Ie.emit("composer:request-voice",{action:"end",reason:c?"disable-appearance":"enable-appearance"}),await p({shouldNavigateToChat:!1,characterId:G}),d(G),Ie.emit("composer:request-voice",{action:"start"}),G&&(xa.onUserInteract(vl.CharacterTalkToggleButton),(o?.()));}; er(G=>{G.key==="Escape"&&(G.stopPropagation(),m(null))});const F=x&&!a,K=i.jsx("h3",{className:dSe,children:U("settings.voiceTitle")});return i.jsxs(i.Fragment,{children:[t&&i.jsx(Iv,{title:U("settings.voiceTitle"),onClickBack:t}),i.jsxs("div",{className:O("overflow-y-auto pb-2",r),children:[h&&!s&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between gap-2 p-2",children:[i.jsx(lSe,{}),i.jsx(uSe,{selectedVoiceAppearance:c,handleCharacterToggleClick:B,isAppearancePreloadEnabled:C})]}),i.jsx("div",{className:"px-2 pb-2",children:i.jsx("span",{className:"block w-full text-foreground-600 text-xs-medium",children:U("settings.appearanceSettingsDiscoveryDescription")})}),!F&&K]}),b&&i.jsxs(i.Fragment,{children:[F&&i.jsxs(i.Fragment,{children:[i.jsx(sSe,{onLanguageSelected:G=>{n?.({type:"language",language:G})}}),i.jsx("p",{className:"px-2 text-center text-foreground-600 text-xs",children:U("settings.voiceLanguageDescription")}),K]}),i.jsx(cSe,{className:"px-2 pb-2",onVoiceSelected:G=>{n?.({type:"voice",voice:G})}}),i.jsx("p",{className:"mt-2 px-2 text-center text-foreground-600 text-xs",children:U("voice.voiceChangeDescription")}),(E??S)&&i.jsx(Uo,{})]}),S&&i.jsxs("div",{className:"px-2 py-1",children:[i.jsx(td,{label:U("settings.micAccessLabel"),isChecked:N,onChange:L}),i.jsx("div",{className:"mt-2 text-foreground-600 text-xs",children:U("settings.micAccessDescription")})]}),E&&i.jsxs("div",{className:O("px-2 py-1",S?"pt-4":""),children:[i.jsx(td,{label:U("settings.liveCaptionAccessLabel"),isChecked:k,onChange:_}),i.jsx("div",{className:"mt-2 text-foreground-600 text-xs",children:U("settings.liveCaptionAccessDescription")})]})]})]})}const pSe=Object.freeze(Object.defineProperty({__proto__:null,VOICE_SETTING_TYPE_TO_CLOSE_REASON_MAP:y6,default:mSe},Symbol.toStringTag,{value:"Module"})),fSe=new Set(["prompt-sign-in","prompt-3p-sign-in","prompt-review","confirm-link-navigation","cross-promo-card","shopping-upsell-card","shopping-price-tracking","add-to-page","safety-risk-card","computer-use-task-closed","over-task-quota","biometric-consent"]),C6=64,hSe=8,W7e={opacity:0,translateY:C6},gSe={opacity:1,scale:1,translateY:0};function vSe(){return bk()?{opacity:1,scale:1,translateY:0}:{opacity:0,translateY:C6}}const ySe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./daily-briefing-composer-player-D8Jj4qqn.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([579,1,580,545,542,543,544,7]))),CSe=Fn(()=>D(()=>import( __get$ProxyUrl("./composer-voice-ui-W3dqrwWk.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([581,1,582,583,452,555,7])),{moduleName:"composer-voice-ui",retryStrategy:bn,exportName:"ComposerVoiceUi"}),f2={coco:"userInput.cocoPlaceholderText",study:"userInput.studyPlaceholderText",search:"userInput.searchPlaceholderText"},h2={concise:"personality.placeholders.concise",imaginative:"personality.placeholders.imaginative",curious:"personality.placeholders.curious",skeptical:"personality.placeholders.skeptical",supportive:"personality.placeholders.supportive",casual:"personality.placeholders.casual"},SSe={acrylic:zJ,floating:qJ},bSe={floatingPill:"m-1.5 h-14 rounded-[26px] bg-white/90 dark:bg-midnight-850/35 items-center"};function Mm(e){ const _hh$temp1463=e,t=_hh$temp1463.banner,n=_hh$temp1463.suppressBottomSection,o=_hh$temp1463.suppressBackgroundFade,_hh$temp1463$backgroundMaterial=_hh$temp1463.backgroundMaterial,s=_hh$temp1463$backgroundMaterial===void 0?"acrylic":_hh$temp1463$backgroundMaterial,a=_hh$temp1463.voiceComposerStyle,r=_hh$temp1463.hideAudioOutputBackground,c=_hh$temp1463.compactExpandedSection,d=_hh$temp1463.onInputKeydown,m=_hh$temp1463.onTextChange,p=_hh$temp1463.onSubmit,h=_hh$temp1463.onInputSubmitted,_hh$temp1463$shouldNavigateToChat=_hh$temp1463.shouldNavigateToChat,v=_hh$temp1463$shouldNavigateToChat===void 0?!0:_hh$temp1463$shouldNavigateToChat,y=_hh$temp1463._limitInputMaxHeight,C=_hh$temp1463.chatModes,S=_hh$temp1463.connectorSection,_hh$temp1464=Y(),b=_hh$temp1464.t; nJ(),sCe(); const _hh$temp1465=mm(),I=_hh$temp1465.isPortraitEnabled,x=q(YA),E=q(ZA),k=M(Wa),w=ri(),_=Tn("oneDriveFileUpload"),N=!ll(),L=M(NT),B=M(W0),F=C4(),K=W("dr-nano-single-file-upload"),G=M(GA),te=hs(),ne=W("shopping-placeholder"),ae=si(),Te=eA(),he=Yt(),Ee=M(mt),Ae=vt({breakpoint:"sm"}),Ue=fv({breakpoint:"h600"}),Fe=iJ(),ke=aJ(),_hh$temp1466=__arrayFrom$(u.useState(null)),Ve=_hh$temp1466[0],De=_hh$temp1466[1],_hh$temp1467=__arrayFrom$(Re(Ws)),le=_hh$temp1467[0],oe=_hh$temp1467[1],we=M(aT),se=M(iT),z=M(Yc),Q=M(zf),me=cJ(),pe=Xye(),We=M(Lt),be=!!We?.group,ge=u.useMemo(()=>{if(be&&We?.id)return`/conversations/${We.id}/attachments`;},[be,We?.id]),Ne=M(Tx),Ke=W("file-upload-card-v2"),Me=W("ping-on-send"),Ye=Bs(),re=(!be&&z)||me,He=M(fs),_hh$temp1468=__arrayFrom$(u.useState(!1)),nt=_hh$temp1468[0],ve=_hh$temp1468[1],_hh$temp1469=__arrayFrom$(Re(en)),je=_hh$temp1469[0],it=_hh$temp1469[1],_hh$temp1470=__arrayFrom$(Re(el)),In=_hh$temp1470[0],jn=_hh$temp1470[1],Bn=q(v1),_hh$temp1471=A4(),un=_hh$temp1471.isPlaying,Vn=_hh$temp1471.pause,It=_hh$temp1471.resetAllTimers,dn=G1e(),Vo=Uce(),Ho=t0e(),zo=u.useRef(null),vs=J0("audio-call-controls"),zt=u.useRef(null),nr=u.useRef(null),Sl=u.useRef(null),_hh$temp1472=Nx(),bl=_hh$temp1472.userInput,yi=_hh$temp1472.autocompleteValue,Go=lCe(zt,bl,yi),_hh$temp1473=s6(),or=_hh$temp1473.isOneDriveFilePickerOpen,sr=_hh$temp1473.pickedOneDriveItems,ar=_hh$temp1473.setPickedOneDriveItems,Ci=_hh$temp1473.selectOneDriveFile,Lm=_hh$temp1473.onPickCallback,ie=_hh$temp1473.onCloseCallback,_hh$temp1474=xo(),ee=_hh$temp1474.isMediaViewerOpen,Pe=_hh$temp1474.showComposerWhenMediaViewerOpen,ce=_hh$temp1474.contentComposerType,qe=_hh$temp1474.contentPageType,_hh$temp1475=k1e(),ze=_hh$temp1475.trackConsumptionPageComposerClick,Ze=_hh$temp1475.trackConsumptionPageComposerSubmit,_hh$temp1476=o0e(),Et=_hh$temp1476.switchMsnConversation,dt=ce===Ps.IMAGE_VIEWER,Hn=ce===Ps.CLOSE_BUTTON,zn=fo(he),Pn=he.endsWith("/daily"),Zs=gl(),Js=he==="/",Mv=_m(),Dm=he.startsWith("/shopping"),Il=he.startsWith("/chats")&&!zn,Si=he.startsWith("/shares"),J6=qe==="weather",El=he.startsWith("/projects"),wl=Pk(),Tl=je==="dialog",Q6=Y1e(),Gn=Kt(),X6=s0e(),_hh$temp1477=__arrayFrom$(u.useState(!1)),e9=_hh$temp1477[0],t9=_hh$temp1477[1],Wn=dv(),Om=Go.trim().length>0,_hh$temp1478=l1e(Om),n9=_hh$temp1478.outerShadowStyle,o9=_hh$temp1478.outerShadowAnimate,s9=_hh$temp1478.outerShadowTransition,a9=_hh$temp1478.innerShadowStyle,r9=_hh$temp1478.innerShadowAnimate,i9=_hh$temp1478.innerShadowTransition,_hh$temp1479=Xa(),c9=_hh$temp1479.isAutoSuggestEnabled,l9=_hh$temp1479.isStarterPromptsEnabled,u9=_hh$temp1479.isAppearanceOnHomeEnabled,_hh$temp1480=A1e(Js),d9=_hh$temp1480.autoSuggestOnInputClick,m9=_hh$temp1480.autoSuggestOnInputFocus,p9=_hh$temp1480.autoSuggestOnInputChange,_hh$temp1481=d1e(),f9=_hh$temp1481.floatingStyles,Um=_hh$temp1481.edgeTabMenuRefs,Rv=_hh$temp1481.isMultiTabsMenuExpanded,Nv=_hh$temp1481.setIsMultiTabsMenuExpanded,h9=_hh$temp1481.multiTabsMenuMode,Lv=_hh$temp1481.setMultiTabsMenuMode,g9=_hh$temp1481.handleMentionEvent,Dv=_hh$temp1481.handleMultiTabsMenuSaveBtnEvent,Ov=_hh$temp1481.handleMultiTabsMenuCloseBtnEvent,v9=_hh$temp1481.handleUserInputEnterEvent,Uv=_hh$temp1481.handleUserInputKeydownEvent,xl=_hh$temp1481.isMentionTriggered,Fv=_hh$temp1481.isFetchingTabsPageContext,y9=_hh$temp1481.menuPlacement,_hh$temp1482=x1e({setInputValue:mc,userInputRef:zt}),ys=_hh$temp1482.isGroupsMentionEnabled,Cs=_hh$temp1482.mentionPopup,C9=_hh$temp1482.handleMentionTriggerEvent,jv=_hh$temp1482.handleMentionKeydown,Bv=_hh$temp1482.hasSelectedMentions,S9=_hh$temp1482.getTextWithMentions,b9=_hh$temp1482.handleTextareaChange,I9=_hh$temp1482.handleTextareaSelect; let Fm;Wn?Fm=g9:ys&&(Fm=C9); const Vv=M(WX),Hv=Gn==="computerUse",E9=(c9&&!je)&&!Hv,zv=rJ(),Gv=zv!==null,Wv=(ke==="autosuggest"&&E9)&&!Gv,Al=u.useId(),w9=M(t3),T9=(((l9&&(!je||je==="biometric-consent"))&&!Hv)&&!w9)&&(!Ue||Ae),bi=u.useRef(null),x9=(((!o&&!zn)&&!Pn)&&!Zs)&&!J6,jm=((Mv||Il||Js||Si||El||wl||Dm)&&(!je||je==="biometric-consent"))&&!(ee&&!Pe),A9=Wv||((Wn&&Rv)&&jm),$v=M(tl),qv=M(Q$),_hh$temp1483=__arrayFrom$(Re(Fx)),Bm=_hh$temp1483[0],Kv=_hh$temp1483[1],_9=M(TJ),_l=oA(),rr=_l?.type==="computerUse"&&Il,Yv=rr&&!n0(_l.status),Vm=rr&&sA(_l),k9=rr&&DQ(_l),P9=Tn("voice"),M9=(((((((((v&&!he.endsWith("/agents"))&&!Pn)&&!Js)&&!Si)&&!u9)&&!ee)&&!te)&&!El)&&!wl)&&!Dm,R9=El||wl||Vm||rr||Pn||ee||!P9||!Ye,N9=u.useCallback(()=>{const ue=[];if(zt.current&&xl){const $e=zt.current.getTextAreaRef();$e.current&&ue.push($e);}return ue;},[zt,xl]),Zv=(!(ee&&!Pe)&&!zn)&&!je,kl=we||!Zv||Yv||Vm||k9,_hh$temp1484=__arrayFrom$(u.useState(!1)),L9=_hh$temp1484[0],D9=_hh$temp1484[1],Jv=M(Ux),Qv=()=>{Zi(qk);},Xv=()=>{Zi(Xhe);},ey=q(Ct),ty=fSe.has(je),ny=(((!zn&&je!=="daily-briefing-player")&&je!=="audioSettings")&&!ty)&&!(ee&&!Pe),O9=vSe(),U9=u.useCallback(ue=>{Jo(ue);},[]),F9=u.useCallback(()=>{(zt.current?.focus()),Gi(!0);},[]),j9=u.useCallback(()=>{nr.current&&(nr.current.value="");},[]),Pl=u.useCallback((ue,$e)=>{oe({isOpen:!0,scenario:$e??null,reason:ue});},[oe]),B9=u.useCallback(()=>{Pl("fileUpload");},[Pl]),_hh$temp1485=cre(F9,Jo,j9,B9),oy=_hh$temp1485.processUploadedFiles,no=_hh$temp1485.processUploadedLocalFiles,V9=_hh$temp1485.isUploadingAttachments,Ss=_hh$temp1485.uploadedAttachments,H9=_hh$temp1485.resetFileUpload,Hm=_hh$temp1485.removeAttachment,z9=M(AA),$n=Ss.filter(_hh$temp1488=>{var ue=_hh$temp1488.error;return!ue;}),sy=$n.length>0||Vv,G9=V9||(Wn&&Fv),Ii=Pa(),ay=!!(Om||sy)&&!kl,ry=!!((Ve&&Ve.length>0)===!0||G9||re||Q||(!Om&&Gn==="computerUse"))||!Ye,ir=M(Io),W9=$n.length>=ir.maxFilesPerMessage||!Ye,_hh$temp1486=__arrayFrom$(u.useState({onSubmitCallback:null,onCancelCallback:null})),$9=_hh$temp1486[0],q9=_hh$temp1486[1],K9=u.useCallback(()=>{Dv(),(zt.current?.focus());},[Dv]),Y9=u.useCallback(()=>{xl||(zo.current?.focus()),Ov();},[Ov,xl]),Z9=u.useCallback(async ()=>new Promise(ue=>{if(j(Uf)||$n.length===0){ue(!0);return;}it("biometric-consent"),q9({onSubmitCallback:()=>{it(null),ue(!0);},onCancelCallback:()=>{it(null),ue(!1);}});}),[$n,it]),J9=u.useCallback(ue=>{if(((!(((d&&(zt.current?.contains(document.activeElement)))&&(d(ue),ue.defaultPrevented))||((ys&&Cs.isMentionPopupOpen)&&(jv(ue),ue.defaultPrevented))||Uv(ue))&&ue.key==="ArrowDown")&&(zt.current?.contains(document.activeElement)))&&bi.current){ue.preventDefault();const Wt=bi.current.querySelector("button");Wt&&Wt.focus();}},[Uv,d,jv,ys,Cs]),Q9=async ()=>{await Mo.stopMessage({connectionType:te?"temporary":"regular"}),(zt.current?.focus());},Ml=async ue=>{const $e=ue??Go;let Wt=performance.now();if(p){const an=new CustomEvent("submit",{detail:{text:$e},cancelable:!0});if(p(an),an.defaultPrevented)return;}if(Si&&await $b(),!ay||(!Go&&!sy)||ry){await Mo.onSubmitMessageBlocked({connectionType:te?"temporary":"regular"});return;}if(!(j(Uf)||$n.length===0)){if(!await Z9())return;Wt=performance.now();}if(Gn==="research"&&_9){const an=j(Se);if(an){fu(b("error.researchTaskNotAllowedWhileRunningAnother"),an),yn(Vt());return;}}if(Qv(),om(),r7?(zt.current?.focus()):(zt.current?.blur()),await u7($e,Wt),h){const an=new CustomEvent("inputSubmitted",{detail:{text:$e,filesWithAttachment:Ss},cancelable:!0});h(an);}},X9=u.useCallback(async ue=>{await Te();const _hh$temp1489=Tee(b,ue),$e=_hh$temp1489.title,Wt=_hh$temp1489.subtitle;ey({title:$e,subtitle:Wt,dismissAfter:3e3});},[Te,ey,b]),iy=M(TA),cy=VCe({isAudioCall:zn,onCallTerminated:X9,onHangupSuggested:Te,onMute:()=>nn({source:"audioCall",scenario:"mute"})}),_hh$temp1487=cy,e7=_hh$temp1487.launchAudioCall,t7=_hh$temp1487.startAudioCallIfNotStartedAlready,zm=_hh$temp1487.endAudioCall,n7=_hh$temp1487.onVisionButtonClick,Rl=u.useRef(null),Nl=u.useRef(null); n0e(Rl);const o7=Ys(ue=>{Nl.current&&(ue.height===0?Nl.current.style.removeProperty("--composer-attachments-height"):Nl.current.style.setProperty("--composer-attachments-height",`${ue.height+hSe}px`))}),ly=()=>{nt&&(t7(),ve(!1))},uy=()=>{if(je==="prompt-3p-sign-in"&&(Zs||Pn)&&it("daily-briefing-player"),!(we||Pn||Zs||Vm)){if(Yv){it("computer-use-task-closed");return}if(Tl&&Jv?.closeDialogCallback){Jv.closeDialogCallback();return}je==="prompt-review"&&b0e(j(Se),"dismissed"),je==="audioSettings"&&ly(),it(null),je==="prompt-sign-in"&&le.scenario&&oe({isOpen:!1,scenario:null})}},Gm=u.useCallback(async(ue={})=>{ const _hh$temp1490=ue,_hh$temp1490$isHidden=_hh$temp1490.isHidden,$e=_hh$temp1490$isHidden===void 0?!1:_hh$temp1490$isHidden; pe&&Xv(),Ne&&Zi($k),zm({endReason:{category:"client-terminated",detail:$e?"visibility-hidden":"click-close"}}),I?(E(!1),x(null),await ae({to:"/labs/portrait",from:he})):await Te()},[I,x,E,pe,Ne,zm,ae,he,Te]);u.useEffect(()=>{Z.instance().config().endAudioOnVisibilityHidden&&!qv&&(un?Vn?.():zn&&Gm({isHidden:!0}))},[Gm,zn,un,Vn,qv]);const s7=ue=>{ue.type==="voice"&&I&&(Ie.emit("portrait:change-voice",ue.voice),E(!0)),Pn||Zs?Vn?.():zn&&zm({endReason:{category:"client-restarted",detail: __get$(y6,ue.type) }}),ve(!0)},Wm=q(wJ),$m=(["chat","reasoning","smart","smart-latest","study"].includes(Gn)||Gn==="research"&&K)&&!rr&&!L9,qm=!Tn("uploadFile"),dy=$1();let Gt=M(Za);Gn==="research"?Gt=ir.document.mimeTypes:dy==="video"&&(Gt=ir.image.mimeTypes);const a7=vm(Gt);u.useEffect(()=>{for(const _hh$temp1491 of Ss.entries()) {const _hh$temp1492=__arrayFrom$(_hh$temp1491),ue=_hh$temp1492[0],$e=_hh$temp1492[1];g0($e.file,{supportedMimeTypes:Gt})||Hm(ue);} },[Gt,Ss,Hm]);const r7=pv(),Ei=!zn&&!ee,cr=u.useCallback(()=>{Wm(null)},[Wm]);u.useEffect(()=>{cr()},[ny,cr]),ds({onOutsideEvent:()=>{uy()},elements:[Rl],includeScroll:!1,invokeOnce:!1}),ds({onOutsideEvent:Gr,elements:[Rl,bi],includeScroll:!1,invokeOnce:!1});const my=()=>{t9(!0),it(ue=>ue==="audioSettings"?(ly(),null):(pe&&Xv(),"audioSettings"))},i7=()=>{Gi(!0),w&&M_("idle")},c7=ue=>{m9(ue)},l7=async()=>{if(M9){const ue= __call$(he,"replace",[/^\//,""]) ;fe({source:"composerInput",scenario:"clickNavigateToChat",pageName:ue}),Il||await v7()}ee&&Pe&&ze(),d9(Go)},py=u.useCallback(ue=>{fc({prompt:ue,prefillSource:"promptPassThrough"},Js),jn(null),Bn(null)},[jn,Bn,Js]);u.useEffect(()=>{(In?.source==="promptInUrl"||In?.source==="edgeOnAskCopilot")&&py(In.prompt)},[In,py]);const fy=u.useCallback((ue,$e)=>{ const _hh$temp1493=$e,Wt=_hh$temp1493.scenario,qn=_hh$temp1493.reasonIfSignInError; ue.message==="not-signed-in"?Pl(qn,Wt):Jo(F_(ue.message))},[Pl]),u7=async(ue,$e)=>{const Wt=Vre(ue),qn=ue.trim();let an;Gn==="research"?an={research:{awaitUserConfirmation:!0}}:Gn==="study"&&dy==="homeworkHelper"&&(an={education:{isHomeworkHelperEnabled:!0}}),H9(),Gi(!0),Lx(void 0),it(null),Gr(),ee&&Pe?(await Et(),Ze()):v&&!te&&!El&&!wl&&await Te();try{Fu(!0);let Kn;dn&&(Kn=dn),Vo&&(Kn=Vo),Ho&&(Kn=Ho);const wi=ys&&Bv?S9(qn):void 0,I7=Bre(wi??qn,Ss);await Mo.submitMessage({text:wi??qn,filesWithAttachment:Ss,inputMethod:"text",scenario:Wt??void 0,customData:I7??void 0,reference:Kn,context:an,connectionType:te?"temporary":"regular",messageStartTime:$e,pingCheck:Me})}catch(Kn){if(Kn instanceof Error){let wi={};$n.length>0&&(wi={eventInfo_uploadFileSize:$n[0]?.file?.size??0,eventInfo_uploadFileType:$n[0]?.file?.type??"",eventInfo_numDocumentsUploaded:$n.length}),R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitMessage",eventInfo_errorMessage:Kn.message,eventInfo_inputMethod:"text",eventInfo_details:"Error submitting message",...wi}})}else R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitMessage",eventInfo_errorMessage:"Unknown error",eventInfo_inputMethod:"text",eventInfo_details:"Error submitting message"}});Jo({title:b("composer.errors.default.title"),message:b("composer.errors.default.message")})}finally{Fu(!1),Hre()}},d7=u.useCallback(()=>{nr.current?.click()},[]),hy=u.useCallback(ue=>{const $e=Oae(ue);no({rawFiles:[$e],scenario:"pasteUploadText",supportedMimeTypes:Gt,uploadEndpointOverride:ge})},[no,Gt,ge]),m7=u.useCallback(ue=>{const $e=ue.clipboardData.getData("text/plain")||"";$e.length>a5&&(ue.preventDefault(),ue.stopPropagation(),hy($e))},[hy]);u.useEffect(()=>{if(kl)return()=>{};const ue=async $e=>{if(_4($e.target))return; const _hh$temp1494=Mae($e),Wt=_hh$temp1494.file,qn=_hh$temp1494.error; (Wt??qn)&&($e.preventDefault(),qn?fy(qn,{reasonIfSignInError:"fileUpload"}):Wt&&no({rawFiles:[Wt],scenario:"pasteUpload",supportedMimeTypes:Gt,uploadEndpointOverride:ge}))};return document.addEventListener("paste",ue),()=>document.removeEventListener("paste",ue)},[no,kl,fy,Gt,ge]),u.useEffect(()=>{Bm.length>0&&(no({rawFiles:Bm,scenario:"fileUpload",supportedMimeTypes:Gt,uploadEndpointOverride:ge}),Kv([]))},[Bm,no,Kv,Gt,ge]),u.useEffect(()=>{sr&&!or&&(oy({uploads:sr.map(ue=>({kind:"onedrive",item:ue,file:new File([],ue.name)})),scenario:"fileUpload",supportedMimeTypes:Gt,uploadEndpointOverride:ge}),ar(null))},[sr,ar,or,oy,Gt,ge]),u.useEffect(()=>{Pn&&It()},[Pn]);function p7(ue){const $e=Array.from(ue.target.files??[]);$e.length!==0&&no({rawFiles:$e,scenario:"fileUpload",supportedMimeTypes:Gt,uploadEndpointOverride:ge})}const f7=u.useCallback(ue=>{if(!$m||!ue.dataTransfer||qm)return;ue.preventDefault(),cr();const $e=Array.from(ue.dataTransfer.files);$e.length&&no({rawFiles:$e,scenario:"fileUpload",supportedMimeTypes:Gt,uploadEndpointOverride:ge})},[$m,cr,no,Gt,ge,qm]),Km=W1e({enabled:Zv,onDraggedFileDrop:f7,ignoreIfOverDialog:!0}),Ym=($n.length>0||Km)&&!zn;async function h7(){Si&&await $b(),nn({source:"audioCallButton",chatMode:Gn}),xa.onUserInteract("audioCallButton"),await e7()}async function g7(){await n7(),fe({source:"visionCallButton"})}const gy=u.useCallback(()=>{zt.current?.focus()},[]);u.useEffect(()=>{const ue=()=>{zt.current?.focus()};return Ie.on("composer:focus-input",ue),()=>{Ie.off("composer:focus-input",ue)}},[]);const v7=Qa(),y7=u.useCallback(async()=>{cr(); const _hh$temp1495=await PY.run({}),ue=_hh$temp1495.file,$e=_hh$temp1495.error; ue?no({rawFiles:[ue],scenario:"screenshot",supportedMimeTypes:Gt,uploadEndpointOverride:ge}):$e&&Jo($e)},[cr,ge,no,Gt]),C7=()=>$n.length>0?b("userInput.messageRequiredPlaceholderText"):Km?be&&qm?b("userInput.fileDropNotSupportedInGroupPlaceHolderText"):$m?b("userInput.fileUploadLimit",{imageSizeLimit:ir.image.maxBytes/(1024*1024),documentSizeLimit:ir.document.maxBytes/(1024*1024),maxCount:ir.maxFilesPerMessage}):b("userInput.fileDropNotSupportedPlaceHolderText",{chatMode:iee(Gn)}):Si?b("userInput.continueConversationInputPlaceholderText"):L?.name&&w?b("userInput.characterPlaceholderText",{character:L.name}):Wn?b("userInput.placeholderTextWithMention"): __get$(f2,Gn) ?b( __get$(f2,Gn) ):Dm?b(ne?"userInput.shopWithCopilotPlaceholderText":"userInput.shoppingPlaceholderText"):F&&B!=="default"&& __get$(h2,B) ?b( __get$(h2,B) ):b("userInput.placeholderText"),S7=( _hh$temp1496 )=>{ var ue=_hh$temp1496.enableActionButtons; const $e=!!Z.instance().config().composer?.smallAttachmentCard||Ke,qn=je==="daily-briefing-player"&&Pn?"":void 0,an=Z.instance().config().composer?.reducedUserInputHeight;return i.jsxs(i.Fragment,{children:[i.jsxs(Ce.div,{className:O("w-full",{"mt-2 h-auto min-h-32 px-2":Ym&&!Wn&&!$e,"mt-2 h-auto min-h-[58px] px-2":Ym&&!Wn&&$e,"h-auto":Wn,"h-0":!Ym&&!Wn}),ref:o7,layout:!0,children:[z9&&i.jsx(Mve,{onRemove:Hm,attachments:Ss,onVisibilityChange:D9}),Wn&&Vv&&i.jsx(Ce.div,{className:"z-10 mt-2 w-full px-2","data-testid":"browser-tabs-preview",children:i.jsx(YCe,{onClick:()=>{Lv("update"),Nv(!0)},isLoading:Fv})})]}),i.jsx(gv,{ref:zt,className:O("min-h-0 w-auto grow",!Pn&&"mt-1"),inputContainerClassName:O({"max-h-[15dvh]":an,"max-h-user-input-shallow":y&&!an,"max-h-user-input":!y&&!an}),disabled:kl,disabledClassName:qn,inputValue:Go,errorMessage:Ve,onClick:l7,onBlur:i7,onTextChange:Kn=>{p9(Kn.target.value),l3({text:Kn.target.value,attachments:$n,isLandingRoute:Js}),Qv(),m&&m(Kn),ys&&Bv&&b9(Kn)},onFocus:c7,onPaste:m7,onEnter:async()=>{v9()||await Ml()},onKeyDown:J9,onMentionIfEnabled:Fm,onSelect:ys?I9:void 0,hideMentionPlaceholder:ys,setInput:mc,setError:De,placeholder:C7(),characterLimit:se,rightButtons:ue?[i.jsx(Jp,{config:vy()},"composer-action-button")]:void 0,testId:"composer-input","aria-autocomplete":"both","aria-controls":A9?Al:void 0,autoFocus:!wd()})]})},vy=()=>{if(Ii){if(re)return{mode:"stop",onClick:Q9};if(ay)return{mode:"submit",disabled:ry,onClick:()=>Ml()};if(!k&&!R9)return{mode:"microphone",onClick:h7}}},b7=( _hh$temp1497 )=>{ var ue=_hh$temp1497.enableInputActionButtons; const $e=Wn?()=>{Wm(null),Lv("add"),Nv(!0)}:void 0,Wt=He==="dark"?nv:tv;return i.jsx(Ce.div,{className:O("relative max-h-full w-expanded-composer max-w-chat bg-gradient-to-b p-1.5",!Ii&&"before:pointer-events-none before:absolute before:inset-0 before:rounded-[inherit] before:border before:border-white/100 dark:before:border-white/12","from-background-400/5 to-background-400/8 dark:from-background-200/65 dark:to-background-200/65"),layout:!0,style:{borderRadius:Jl(Ei),boxShadow:Ii?Wt:void 0},ref:Um.setReference,children:i.jsxs(Ce.div,{className:O(dhe),layout:!0,style:{borderRadius:r1e(Ei)},children:[i.jsx(Ce.div,{className:O(lhe,uhe,Km?"before:opacity-100 before:delay-100 before:duration-200":"before:opacity-0"),layout:!0,children:S7({enableActionButtons:ue})}),!ue&&i.jsxs(Ce.div,{className:"relative bottom-0 flex justify-between pb-0.5 pe-2.5 ps-1.5",layout:!0,children:[i.jsx("div",{className:"flex h-11 items-center gap-2 ps-1",children:i.jsx(Qye,{onSelectFile:d7,onSelectOneDriveFile:Ee?.provider==="microsoft"&&_?Ci:void 0,uploadButtonDisabled:W9,onSelectUserOpenedTabs:$e,onTakeScreenshot:y7,disabled:!Ye,chatModes:C,connectorSection:S})}),i.jsxs("div",{className:"flex items-center gap-2",children:[G&&i.jsx(Jp,{config:{mode:"vision",onClick:g7}}),i.jsx(Jp,{config:vy()})]})]})]})})};return!Q6||ee&&ce===Ps.NONE?null:Il&&X6?i.jsx(Rve,{}):i.jsxs(i.Fragment,{children:[i.jsx(bt,{children:x9&&i.jsx(Ife,{dynamicHeight:je===null&&!Mv})}),i.jsxs("div",{"data-testid":"composer",ref:Nl,className:O("pointer-events-none relative flex",at.composer),children:[i.jsx($0,{elementTiming:uk}),i.jsx("input",{type:"file",accept:a7.join(","),className:"hidden",ref:nr,onChange:p7,"aria-hidden":"true",multiple:!0,"data-testid":"composer-file-input"}),Gv&&i.jsx("div",{className:"absolute bottom-full flex w-full items-center justify-center px-3 pb-3",children:i.jsx("div",{className:"flex w-full max-w-chat flex-col items-center justify-center px-2",children:i.jsx(u.Suspense,{fallback:null,children:i.jsx(Ype,{content:zv,handleSubmit:Ml,focusInputHandler:gy,autoSuggestId:Al,autoSuggestResponse:$v,autoSuggestRef:bi})})})}),i.jsx(Ce.div,{className:O("relative flex w-full flex-col-reverse items-center px-3 sm:flex-col",(Pn||Zs)&&"min-w-72"),initial:N?"enter":!1,animate:"animate",variants:{enter:O9,animate:gSe},transition:p0,style:r5,children:i.jsxs(Y2,{transition:Fe?moe:{duration:0},children:[i.jsxs(Ce.div,{layoutId:"composer-inner",className:O("relative max-h-full min-h-composer min-w-16 max-w-chat rounded-5xl",Wn&&"z-40"),children:[w&&ny&&i.jsx(Qfe,{}),i.jsx(Ce.div,{layoutId:"composer-container",className:O("absolute inset-0",!Ii&&"hidden"),layout:!0,style:{borderRadius:Jl(Ei),boxShadow:Ii?o1e(He,!0):void 0}}),i.jsx(bt,{children:iy&&i.jsx(Ab,{hideNestedBackground:r})}),i.jsx(Ce.div,{layoutId:"composer-background","data-testid":"composer-background",className:O("relative shadow-tinted-xl", __get$(SSe,s) ),layout:!0,style:{borderRadius:Jl(Ei),...n9},animate:o9,transition:s9,children:i.jsxs(Ce.div,{layoutId:"composer-content",className:O("pointer-events-auto relative flex flex-col overflow-hidden contrast-more:border-2",Tl&&"max-w-72"),"data-testid":"composer-content",ref:Rl,layout:!0,style:{borderRadius:Jl(Ei),...a9},animate:r9,transition:i9,children:[i.jsx(bt,{children:iy&&i.jsx(Ab,{isNested:!0,hideNestedBackground:r})}),i.jsxs(bt,{children:[je&&je!=="daily-briefing-player"&&je!=="dismiss-audio-call-only"&&i.jsx(Ahe,{expandedSection:je,isDialogShown:Tl,expandedSectionPromptAction:ty,chatModalRef:Sl,biometricConsentCallbacks:$9,turnLimitReached:we,closeExpandedSection:uy,onVoiceSettingChanged:s7,toggleAudioSettingsVisibility:my,isCompact:c??!1}),(Pn||Zs)&&i.jsx(u.Suspense,{fallback:i.jsx("div",{className:O("flex h-composer items-center justify-center",Pn?"w-daily-briefing-lg":"w-daily-briefing"),children:i.jsx(At,{className:"size-12"})}),children:i.jsx(ySe,{isPodcast:Zs})}),t,zn&&!ee&&(!je||je==="audioSettings"||je==="dismiss-audio-call-only")&&i.jsx(u.Suspense,{fallback:i.jsx("div",{"aria-hidden":!0}),children:i.jsx("div",{ref:vs,className:O("flex justify-center p-2",a&& __get$(bSe,a) ),children:i.jsx(CSe,{exitAudioCall:Gm,toggleAudioSettingsVisibility:my,voiceChatController:cy,didInteractWithAudioComposer:e9})})}),jm&&b7({enableInputActionButtons:rr}),ee&&(Hn||dt)&&i.jsx(Dhe,{isDialogShown:Tl,expandedSection:je}),or&&i.jsx(tSe,{onPick:Lm,onClose:ie,onError:U9})]})]})}),ys&&Cs.isMentionPopupOpen&&i.jsx(Jhe,{participants:Cs.mentionPopupParticipants,position:Cs.position,selectedIndex:Cs.mentionPopupSelectedIndex,onSelect:Cs.handleMentionSelect,onClose:Cs.closeMentionPopup})]}),!n&&i.jsx(Dt,{id:ke,className:O("flex h-[150px] w-full max-w-chat flex-none items-end px-2 sm:flex-initial sm:items-start",at.composerBottomSlot),delay:.2,initial:N?"initial":!1,children:i.jsx(Yfe,{composerBottomSection:ke,handleSubmit:Ml,focusInputHandler:gy,uploadedAttachments:Ss,showAutoSuggest:Wv,autoSuggestResponse:$v,autoSuggestRef:bi,autoSuggestId:Al,isLanding:Js,shouldShowStarterPrompts:T9})}),Wn&&Rv&&jm&&i.jsx(n1e,{onSave:K9,styles:f9,onRef:Um.setFloating,onClose:Y9,outsideClickElements:N9(),mode:h9,originElement:Um.reference,menuPlacement:y9,id:Al})]})})]})]})}const _v=(e,t=0)=>{const n=q(bJ);return Ys(s=>{const a=e==="app"?document.getElementById("app"):e.current;a&&(n(s.height),a.style.setProperty("--composer-container-height",`${s.height+t}px`))})};function S6(e){ const _hh$temp1498=e,t=_hh$temp1498.children,n=_v("app"); return i.jsx("div",{ref:n,className:"pointer-events-none absolute bottom-0 w-full",children:i.jsx("div",{className:"mb-4 sm:mb-8",children:t})})}function ISe(){ const e=rt("kill-cookie-banner"),t=M(Ut),_hh$temp1499=__arrayFrom$(Re(C1)),n=_hh$temp1499[0],o=_hh$temp1499[1],_hh$temp1500=__arrayFrom$(u.useState("main")),s=_hh$temp1500[0],a=_hh$temp1500[1],r=Ma(),_hh$temp1501=__arrayFrom$(u.useState(()=>r.analytics)),c=_hh$temp1501[0],d=_hh$temp1501[1],_hh$temp1502=__arrayFrom$(u.useState(r.advertising)),m=_hh$temp1502[0],p=_hh$temp1502[1],_hh$temp1503=__arrayFrom$(u.useState(r.socialMedia)),h=_hh$temp1503[0],v=_hh$temp1503[1],y=um(t),C=!!ug(),_hh$temp1504=__arrayFrom$(Re(W3)),S=_hh$temp1504[0],b=_hh$temp1504[1],I=!e&&(!!S||((y&&!C)&&!n)); if(u.useEffect(()=>{I&&R.trackEvent({name:"system",data:{eventName:"cookieBannerShown",eventInfo_region:t}})},[t,I]),er(u.useCallback(k=>{k.key==="Escape"&&I&&(k.stopPropagation(),k.preventDefault(),a("main"),b(void 0))},[I,a,b])),!I)return null;const x=k=>{R.trackEvent({name:"interaction",data:{eventName:"cookieBannerChoice",eventInfo_analytics:k.analytics,eventInfo_advertising:k.advertising,eventInfo_socialMedia:k.socialMedia}}),HR(k),a("main"),b(void 0),o(!0)},E=S==="more-options";return i.jsxs("div",{className:"pointer-events-none absolute inset-x-0 top-0 flex w-full justify-center p-3",children:[i.jsx("div",{className:"absolute top-0 h-3.5 w-full bg-background-150 opacity-90 dark:bg-background-150"}),i.jsx("div",{className:Je("relative w-full max-w-cookie-banner rounded-xl border border-black/5 shadow-xl dark:border-black/40",Co,at.modal),children:i.jsxs("div",{className:"pointer-events-auto relative max-h-[90vh] overflow-auto p-5",id:"cookie-banner",children:[S!=="more-options"&&s==="main"&&i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("h3",{className:"text-lg",children:U("cookies.heading")}),i.jsxs("div",{className:"flex flex-col gap-x-8 gap-y-6 text-xs sm:flex-row",children:[i.jsxs("div",{className:"flex flex-col gap-x-5 gap-y-4 text-xs sm:flex-row",children:[i.jsx("p",{children:U("cookies.bannerIntro")}),i.jsxs("p",{children:[U("cookies.bannerExplanation"),i.jsx(ss,{href:jt,title:U("cookies.privacyLink"),className:"ps-1 underline",children:U("cookies.privacyLink")})]})]}),i.jsxs("div",{className:"flex min-w-44 shrink-0 grow flex-col gap-2",children:[i.jsx(X,{variant:"rect",size:"32-xs",onClick:()=>x({analytics:!0,advertising:!0,socialMedia:!0}),title:U("cookies.accept"),testId:"cookie-banner-accept-button",children:U("cookies.accept")}),i.jsx(X,{variant:"rect",size:"32-xs",onClick:()=>x({analytics:!1,advertising:!1,socialMedia:!1}),title:U("cookies.reject"),testId:"cookie-banner-reject-button",children:U("cookies.reject")}),i.jsx(X,{variant:"rect",color:"subtle-dimmed",size:"32-xs",onClick:()=>{a("more-options")},title:U("cookies.moreOptions"),testId:"cookie-banner-options-button",children:U("cookies.moreOptions")})]})]})]}),(S==="more-options"||s==="more-options")&&i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex items-center",children:[!E&&i.jsx(X,{title:U("common.backText"),variant:"circle",color:"subtle-dimmed",size:"32-xs",onClick:()=>a("main"),children:i.jsx(Eo,{className:"rotate-180"})}),i.jsx("h3",{className:Je({"ps-3":!E},"text-lg"),children:U("cookies.moreOptionsHeading")})]}),i.jsx("p",{className:"py-3 text-xs",children:U("cookies.essentialCookiesExplanation")}),i.jsx(of,{label:U("cookies.advertisingLabel"),explanation:U("cookies.advertisingDescription"),isChecked:m,onChange:()=>p(k=>!k),testId:"cookie-banner-advertising-option"}),i.jsx(of,{label:U("cookies.analyticsLabel"),explanation:U("cookies.analyticsDescription"),isChecked:c,onChange:()=>d(k=>!k),testId:"cookie-banner-analytics-option"}),i.jsx(of,{label:U("cookies.socialMediaLabel"),explanation:U("cookies.socialMediaDescription"),isChecked:h,onChange:()=>v(k=>!k),testId:"cookie-banner-social-option"}),i.jsx("div",{className:"flex justify-end",children:i.jsx(X,{variant:"rect",size:"36-sm",className:"w-fit px-7",onClick:()=>{x({analytics:c,advertising:m,socialMedia:h})},title:U("cookies.savePreferences"),testId:"cookie-banner-save",children:U("cookies.savePreferences")})})]})]})})]})}function of(e){ const _hh$temp1505=e,t=_hh$temp1505.label,n=_hh$temp1505.explanation,o=_hh$temp1505.isChecked,s=_hh$temp1505.onChange,a=_hh$temp1505.testId; return i.jsxs(i.Fragment,{children:[i.jsx(Uo,{horizontalMargin:!1}),i.jsx(td,{label:t,className:"w-full py-2 pe-1",isChecked:o,onChange:s,testId:a}),i.jsx("p",{className:"pb-4 pt-1 text-xs",children:n})]})}function ESe( _hh$temp1506 ){ var e=_hh$temp1506.icon,t=_hh$temp1506.text,n=_hh$temp1506.buttonText,o=_hh$temp1506.buttonColor,s=_hh$temp1506.buttonOnClick,_hh$temp1506$className=_hh$temp1506.className,a=_hh$temp1506$className===void 0?"":_hh$temp1506$className; return i.jsxs("div",{className:Je("flex items-center justify-between",a),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-[8.5px] border border-black/10 bg-background-200 dark:border-white/10",children:i.jsx("div",{className:"m-1 size-6",children:e})}),i.jsx("p",{className:"text-base",children:t})]}),i.jsx(X,{className:"h-10 w-24",color:o,title:n,"aria-label":n,variant:"rect",onClick:s,children:n})]})}const wSe="data:image/svg+xml,%3csvg%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.9253%204.97196C22.5214%203.79244%2021.4126%203%2020.1658%203L18.774%203C17.3622%203%2016.1532%204.01106%2015.9033%205.40051L14.4509%2013.4782L15.0163%2011.5829C15.3849%2010.347%2016.5215%209.5%2017.8112%209.5L23.0593%209.5L25.3054%2010.809L27.4705%209.5H26.5598C25.313%209.5%2024.2042%208.70756%2023.8003%207.52804L22.9253%204.97196Z'%20fill='url(%23paint0_radial_262034_2117)'/%3e%3cpath%20d='M9.39637%2027.0147C9.79613%2028.2011%2010.9084%2029%2012.1604%2029H14.5727C16.1772%2029%2017.4805%2027.704%2017.4893%2026.0995L17.5315%2018.4862L16.9699%2020.4033C16.6058%2021.6461%2015.4659%2022.5%2014.1708%2022.5H8.88959L6.96437%2021.0214L4.88007%2022.5H5.78013C7.03206%2022.5%208.14435%2023.299%208.54411%2024.4853L9.39637%2027.0147Z'%20fill='url(%23paint1_radial_262034_2117)'/%3e%3cpath%20d='M19.7501%203H8.81266C5.68767%203%203.81268%207.08916%202.56269%2011.1783C1.08177%2016.0229%20-0.856044%2022.5021%204.75017%2022.5021H9.66051C10.9615%2022.5021%2012.105%2021.6415%2012.4657%2020.3915C13.2784%2017.5759%2014.7501%2012.4993%2015.9014%208.65192C16.4758%206.73249%2016.9543%205.08404%2017.6886%204.05749C18.1003%203.48196%2018.7864%203%2019.7501%203Z'%20fill='url(%23paint2_radial_262034_2117)'/%3e%3cpath%20d='M19.7501%203H8.81266C5.68767%203%203.81268%207.08916%202.56269%2011.1783C1.08177%2016.0229%20-0.856044%2022.5021%204.75017%2022.5021H9.66051C10.9615%2022.5021%2012.105%2021.6415%2012.4657%2020.3915C13.2784%2017.5759%2014.7501%2012.4993%2015.9014%208.65192C16.4758%206.73249%2016.9543%205.08404%2017.6886%204.05749C18.1003%203.48196%2018.7864%203%2019.7501%203Z'%20fill='url(%23paint3_linear_262034_2117)'/%3e%3cpath%20d='M12.2478%2029H23.1852C26.3102%2029%2028.1852%2024.9103%2029.4352%2020.8207C30.9161%2015.9755%2032.854%209.49548%2027.2477%209.49548H22.3375C21.0364%209.49548%2019.893%2010.3562%2019.5322%2011.6062C18.7196%2014.4221%2017.2479%2019.4994%2016.0965%2023.3474C15.5221%2025.2671%2015.0436%2026.9157%2014.3093%2027.9424C13.8976%2028.518%2013.2115%2029%2012.2478%2029Z'%20fill='url(%23paint4_radial_262034_2117)'/%3e%3cpath%20d='M12.2478%2029H23.1852C26.3102%2029%2028.1852%2024.9103%2029.4352%2020.8207C30.9161%2015.9755%2032.854%209.49548%2027.2477%209.49548H22.3375C21.0364%209.49548%2019.893%2010.3562%2019.5322%2011.6062C18.7196%2014.4221%2017.2479%2019.4994%2016.0965%2023.3474C15.5221%2025.2671%2015.0436%2026.9157%2014.3093%2027.9424C13.8976%2028.518%2013.2115%2029%2012.2478%2029Z'%20fill='url(%23paint5_linear_262034_2117)'/%3e%3cdefs%3e%3cradialGradient%20id='paint0_radial_262034_2117'%20cx='0'%20cy='0'%20r='1'%20gradientTransform='matrix(-7.37821%20-8.55084%20-7.96607%207.17216%2025.5747%2013.5466)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.0955758'%20stop-color='%2300AEFF'/%3e%3cstop%20offset='0.773185'%20stop-color='%232253CE'/%3e%3cstop%20offset='1'%20stop-color='%230736C4'/%3e%3c/radialGradient%3e%3cradialGradient%20id='paint1_radial_262034_2117'%20cx='0'%20cy='0'%20r='1'%20gradientTransform='matrix(6.61516%207.92888%207.80904%20-6.47171%207.1753%2021.9482)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23FFB657'/%3e%3cstop%20offset='0.633728'%20stop-color='%23FF5F3D'/%3e%3cstop%20offset='0.923392'%20stop-color='%23C02B3C'/%3e%3c/radialGradient%3e%3cradialGradient%20id='paint2_radial_262034_2117'%20cx='0'%20cy='0'%20r='1'%20gradientTransform='matrix(-0.990905%20-17.2799%2098.0282%20-5.51056%208.54161%2022.4952)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.03'%20stop-color='%23FFC800'/%3e%3cstop%20offset='0.31'%20stop-color='%2398BD42'/%3e%3cstop%20offset='0.49'%20stop-color='%2352B471'/%3e%3cstop%20offset='0.843838'%20stop-color='%230D91E1'/%3e%3c/radialGradient%3e%3clinearGradient%20id='paint3_linear_262034_2117'%20x1='9.52186'%20y1='3'%20x2='10.3572'%20y2='22.5029'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%233DCBFF'/%3e%3cstop%20offset='0.246674'%20stop-color='%230588F7'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3cradialGradient%20id='paint4_radial_262034_2117'%20cx='0'%20cy='0'%20r='1'%20gradientTransform='matrix(-8.64067%2024.4636%20-29.4075%20-10.797%2027.8096%207.58585)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.0661714'%20stop-color='%238C48FF'/%3e%3cstop%20offset='0.5'%20stop-color='%23F2598A'/%3e%3cstop%20offset='0.895833'%20stop-color='%23FFB152'/%3e%3c/radialGradient%3e%3clinearGradient%20id='paint5_linear_262034_2117'%20x1='28.6736'%20y1='8.30469'%20x2='28.6627'%20y2='13.617'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.0581535'%20stop-color='%23F8ADFA'/%3e%3cstop%20offset='0.708063'%20stop-color='%23A86EDD'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e";function TSe(e,t){return e?Date.now()-parseInt(e,10)<=t:!1}function xSe(e,t){return!e||parseInt(e,10)<t}function ASe(e){ const _hh$temp1507=e,t=_hh$temp1507.status,n=_hh$temp1507.eventName; switch(n){case"copilotMobileCrossSelling":case"crossPromotionProfileBanner":case"crossPromotionProfileMenuItem":return{eventName:n,eventInfo_status:t};default:return{eventName:n,eventInfo_status:t}}}function tu(e){ const _hh$temp1508=e,t=_hh$temp1508.name; R.trackEvent({name:t,data:ASe(e)})}const _Se="https://ercz.adj.st/home?network=1g17o7tz&campaign=1gl0zo0u&adj_t=1gl0zo0u&adj_deep_link=sapphirecopilot%3A%2F%2Fhome%3Fnetwork%3D1g17o7tz%26campaign%3D1gl0zo0u&adj_redirect_android=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.microsoft.copilot&adj_redirect_ios=https%3A%2F%2Fapps.apple.com%2Fus%2Fapp%2Fmicrosoft-copilot%2Fid6472538445%3Fct%3DCMC_Copilot_ContinueChatting%26pt%3D80423",kSe="https://ercz.adj.st/home?adj_t=1ve0j84i",g2={"cross-selling-t-control":"https://ercz.adj.st/conversation?adj_t=1u5g1il8","cross-selling-t-gpt52":"https://ercz.adj.st/conversation?adj_t=1ua9rbi6","cross-selling-t-faster-smarter":"https://ercz.adj.st/conversation?adj_t=1uiszixy","cross-selling-t-latest-gpt":"https://ercz.adj.st/conversation?adj_t=1uwhgdc0","cross-selling-t-faster-answers":"https://ercz.adj.st/conversation?adj_t=1wxeq6c5","cross-selling-t-for-professionals":"https://ercz.adj.st/conversation?adj_t=1w191ubo"};function PSe(){const e=R.getFormCode();return e==="MR0031"||e==="MR0032"}function MSe(e){if(PSe())return kSe;for(const _hh$temp1509 of Object.entries(e)) {const _hh$temp1510=__arrayFrom$(_hh$temp1509),t=_hh$temp1510[0],n=_hh$temp1510[1];if(n&&__get$(g2,t))return __get$(g2,t);} return _Se}function RSe(){ const e=pv(),t=wd(),n=$N(),o=qN(),s=u.useRef(null),_hh$temp1511=__arrayFrom$(u.useState(!1)),a=_hh$temp1511[0],r=_hh$temp1511[1],c=M(Qr),d=M(Lc),m=M(rT),p=W("cross-selling-triggerlogic-delay"),h=W("cross-selling-t-control"),v=W("cross-selling-t-gpt52"),y=W("cross-selling-t-faster-smarter"),C=W("cross-selling-t-latest-gpt"),S=W("cross-selling-t-faster-answers"),b=W("cross-selling-t-for-professionals"),I=()=>v?U("crossSelling.copilotAppGpt52"):y?U("crossSelling.copilotAppFasterSmarter"):C?U("crossSelling.copilotAppLatestGpt"):S?U("crossSelling.copilotAppFasterAnswers"):b?U("crossSelling.copilotAppForProfessionals"):U("crossSelling.copilotApp"),x=()=>{r(!0),tu({name:"system",status:"Shown",eventName:"copilotMobileCrossSelling"});}; u.useEffect(()=>{if(!c||d||e||n||o||!t){r(!1);return}if(!m){r(!1);return}const w=Mt(Qy),_=Mt(sp),N=!TSe(w,3*c5),L=xSe(_,3);N||L?p?setTimeout(()=>{x()},5e3):x():tu({name:"system",status:"TriggeredButSnoozed",eventName:"copilotMobileCrossSelling"})},[d,e,n,o,c,m,t,p]);const E=()=>{qt(Qy,Date.now().toString());const w=Mt(sp);qt(sp,`${parseInt(w??"0",10)+1}`),r(!1),tu({name:"interaction",status:"Dismissed",eventName:"copilotMobileCrossSelling"})},k=()=>{const w=MSe({"cross-selling-t-control":h,"cross-selling-t-gpt52":v,"cross-selling-t-faster-smarter":y,"cross-selling-t-latest-gpt":C,"cross-selling-t-faster-answers":S,"cross-selling-t-for-professionals":b});ui(w),r(!1),tu({name:"interaction",status:"Clicked",eventName:"copilotMobileCrossSelling"})};return a?i.jsx(Dt,{mode:"sync",className:O("relative",at.modal),children:i.jsx("div",{className:"fixed inset-0 grid bg-background-850/30 dark:bg-background-150/70",onClick:E,role:"button",tabIndex:0,"aria-label":U("common.close"),children:i.jsx("div",{ref:s,className:"mb-0 h-fit w-full self-end justify-self-center rounded-t-3xl border border-white/10 bg-background-200 p-2 contrast-more:border-2 md:mb-5 md:w-fit md:rounded-3xl",onClick:w=>w.stopPropagation(),role:"dialog",children:i.jsxs("div",{className:"mx-3 mb-6 mt-3 flex flex-col gap-4",children:[i.jsx("div",{className:"text-lg md:text-center",children:U("crossSelling.header")}),i.jsx(ESe,{icon:i.jsx("img",{src:wSe,alt:"Copilot",className:"size-full"}),text:I(),buttonText:U("common.open"),buttonColor:"strong",buttonOnClick:k,className:"gap-4"})]})})})}):null}function NSe(){ const _hh$temp1512=av(tge),e=_hh$temp1512.alreadyShown,t=_hh$temp1512.dismissCoachmark,_hh$temp1513=__arrayFrom$(u.useState(!1)),n=_hh$temp1513[0],o=_hh$temp1513[1],s=u.useCallback(()=>{o(!1),t();},[t]); return u.useEffect(()=>{if(!e){const a=()=>{o(!0)};return Ie.on("edge:inline-browsing-replace-visible-conversation",a),()=>{Ie.off("edge:inline-browsing-replace-visible-conversation",a)}}},[e]),{showInlineBrowsingPreviousConversationsCoachmark:n,dismissInlineBrowsingPreviousConversationsCoachmark:s}}function LSe(e){ const _hh$temp1514=e,t=_hh$temp1514.renderTrigger,_hh$temp1515=Y(),n=_hh$temp1515.t,_hh$temp1516=DSe(),o=_hh$temp1516.isOpen,s=_hh$temp1516.title,a=_hh$temp1516.description,r=_hh$temp1516.dismiss,c=d=>{d.stopPropagation(),r();}; return i.jsx(Kk,{className:"max-w-48 cursor-pointer bg-black dark:bg-background-850",arrowClassName:"dark:fill-background-850 fill-black",isOpen:o,placement:"bottom",withArrow:!0,offset:8,renderReferenceElement:d=>i.jsx("div",{ref:d.ref,className:"relative",children:t({onClick:()=>{r()}})}),portalId:"composer-container",onInsideEvent:()=>{r()},children:i.jsxs("div",{className:"flex max-w-[160px] flex-col gap-0.5 bg-black text-white dark:bg-background-850 dark:text-black",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-2xs-strong",children:s}),i.jsx("button",{onClick:c,type:"button","aria-label":n("common.dismiss"),children:i.jsx(sn,{className:"size-4"})})]}),i.jsx("div",{className:"text-2xs",children:a})]})})}function DSe(){ const _hh$temp1517=Y(),e=_hh$temp1517.t,_hh$temp1518=NSe(),t=_hh$temp1518.showInlineBrowsingPreviousConversationsCoachmark,n=_hh$temp1518.dismissInlineBrowsingPreviousConversationsCoachmark; return t?{isOpen:!0,title:e("composer.chatModes.inline.myConversations.coachmarkTitle"),description:e("composer.chatModes.inline.myConversations.description"),dismiss:n}:{isOpen:!1,title:"",description:"",dismiss:()=>{}}}function OSe(e){ const _hh$temp1519=e,t=_hh$temp1519.className,_hh$temp1520=Y(),n=_hh$temp1520.t,_hh$temp1521=__arrayFrom$(u.useState(!1)),o=_hh$temp1521[0],s=_hh$temp1521[1],a=M(Sk),r=q(Lo),c=u.useRef(null),d=u.useCallback(p=>{c.current=p;},[]),m=u.useCallback(p=>{p.key==="Escape"&&(p.preventDefault(),p.stopPropagation(),s(!1));},[]); return i.jsx(hk,{isOpen:o,onIsOpenChange:s,renderTrigger:p=>i.jsx(LSe,{renderTrigger:h=>i.jsx(X,{ref:v=>{p.ref(v),d(v)},onClick:v=>{p.onClick(v),h.onClick(v)},color:"subtle-dimmed-inverted",variant:"square",size:"28-xxs",title:n("edgeHeader.dropdownMenuButtonTitle"),className:"ms-auto",testId:"header-dropdown","aria-haspopup":"menu","aria-expanded":o,children:i.jsx(Sv,{className:"size-5"})})}),options:{overrideZIndex:at.header,placement:"bottom-end",offset:{mainAxis:4,crossAxis:0},hideOnMenuClick:!0,returnFocus:!1},className:O(Co,"flex p-1",t),children:i.jsxs(wo,{axis:"vertical",className:"flex flex-col items-start gap-1",role:"menu",circular:!0,onKeyDown:m,children:[!a&&i.jsx(X,{variant:"rect",color:"subtle-dimmed-inverted",className:"w-full justify-start text-sm",onClick:()=>{r(!0),fe({source:"sidebarHeader"})},title:n("edgeHeader.conversationHistory"),testId:"header-conversation-history-button",role:"menuitem",children:n("edgeHeader.conversationHistory")}),i.jsx(X,{variant:"rect",color:"subtle-dimmed-inverted",className:"w-full justify-start text-sm",onClick:p=>{p.stopPropagation(),r(!1),P3("menu",{onPopPageCallback:()=>{c.current?.focus()}}),s(!1)},title:n("settings.settings"),testId:"header-settings-button",role:"menuitem",children:n("settings.settings")}),i.jsx(X,{variant:"rect",color:"subtle-dimmed-inverted",className:"w-full justify-start text-sm",onClick:()=>{Ie.emit("edge:header-command","sendFeedback")},title:n("settings.feedbackButton"),testId:"header-feedback-button",role:"menuitem",children:n("settings.feedbackButton")})]})})}const b6= _hh$temp1522=>{var e=_hh$temp1522.title,t=_hh$temp1522.titleId,n=__rest$Object(_hh$temp1522,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M3.28035 2.21967C2.98746 1.92678 2.51258 1.92677 2.21968 2.21966C1.92678 2.51255 1.92677 2.98742 2.21967 3.28032L8.12461 9.18526L4.81064 10.3301C3.93794 10.6315 3.68202 11.7426 4.3349 12.3954L7.43942 15.4999L3.00009 19.9392L3.00001 20.9999H4.06077L8.50009 16.5605L11.6046 19.665C12.2575 20.3179 13.3686 20.062 13.67 19.1893L14.8148 15.8755L20.7196 21.7803C21.0125 22.0732 21.4874 22.0732 21.7803 21.7803C22.0732 21.4874 22.0732 21.0126 21.7803 20.7197L3.28035 2.21967ZM13.6353 14.696L12.3827 18.3218L5.67816 11.6174L9.30412 10.3648L13.6353 14.696ZM19.6829 10.8201L15.8957 12.7137L17.0137 13.8317L20.3537 12.1617C22.0326 11.3223 22.3957 9.08476 21.0684 7.75751L16.2426 2.93179C14.9153 1.60453 12.6778 1.96763 11.8383 3.6465L10.1684 6.98637L11.2864 8.10441L13.18 4.31731C13.5616 3.55419 14.5786 3.38914 15.1819 3.99244L20.0078 8.81817C20.6111 9.42146 20.446 10.4385 19.6829 10.8201Z"}));} ,$7e=Object.freeze(Object.defineProperty({__proto__:null,default:b6},Symbol.toStringTag,{value:"Module"})),I6= _hh$temp1523=>{var e=_hh$temp1523.title,t=_hh$temp1523.titleId,n=__rest$Object(_hh$temp1523,["title","titleId"]);return u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M16.2425 2.93189L21.0682 7.75765C22.3955 9.08491 22.0324 11.3224 20.3535 12.1619L15.4826 14.5973C15.3073 14.685 15.1732 14.8379 15.1092 15.0232L13.6699 19.1895C13.3684 20.0622 12.2574 20.3181 11.6045 19.6653L8.50002 16.5607L4.06074 21.0001H3L3.00008 19.9394L7.43936 15.5001L4.33487 12.3956C3.682 11.7427 3.93791 10.6317 4.81061 10.3302L8.97688 8.89096C9.16223 8.82694 9.31512 8.69287 9.40281 8.51748L11.8382 3.6466C12.6777 1.96772 14.9152 1.60462 16.2425 2.93189ZM20.0076 8.81831L15.1818 3.99255C14.5785 3.38924 13.5614 3.55429 13.1799 4.31742L10.7445 9.18829C10.4814 9.71446 10.0227 10.1167 9.46666 10.3087L5.67812 11.6175L12.3826 18.322L13.6914 14.5335C13.8835 13.9774 14.2857 13.5188 14.8118 13.2557L19.6827 10.8202C20.4458 10.4387 20.6109 9.42161 20.0076 8.81831Z"}));} ,q7e=Object.freeze(Object.defineProperty({__proto__:null,default:I6},Symbol.toStringTag,{value:"Module"}));function USe(e){ const _hh$temp1524=e,t=_hh$temp1524.isPinned,n=_hh$temp1524.showCloseButton,o=_hh$temp1524.showPinButton,s=_hh$temp1524.className,_hh$temp1525=Y(),a=_hh$temp1525.t,r=Ys(()=>{const c=document.getElementById("app");if(c&&r.current){const d=r.current.clientWidth;c.style.setProperty("--header-controls-inline-end-width",`${d}px`);}}); return i.jsxs("div",{className:O("flex items-center",s),"data-testid":"header-controls",ref:r,children:[i.jsx(OSe,{}),o&&i.jsx(X,{variant:"square",color:"subtle-dimmed-inverted",size:"28-xxs",onClick:()=>{Ie.emit("edge:header-command","togglePinState")},title:a(t?"edgeHeader.unpinButtonTitle":"edgeHeader.pinButtonTitle"),testId:"header-pin-button",children:t?i.jsx(b6,{className:"size-5"}):i.jsx(I6,{className:"size-5"})}),n&&i.jsx(X,{variant:"square",color:"subtle-dimmed-inverted",size:"28-xxs",onClick:()=>{Ie.emit("edge:header-command","closePane")},title:a(t?"edgeHeader.closeButtonAsPinnedTitle":"edgeHeader.closeButtonAsUnpinnedTitle"),testId:"header-close-button",children:i.jsx(sn,{className:"size-5"})})]})}function FSe( _hh$temp1526 ){ var e=_hh$temp1526.pixelUrl,t=_hh$temp1526.onComplete; return u.useEffect(()=>{const n=setTimeout(()=>{t()},3e3);return()=>{clearTimeout(n)}},[e,t]),i.jsx("img",{className:"hidden",src:e,width:"1",height:"1",alt:"",referrerPolicy:"no-referrer-when-downgrade",onLoad:t,onError:t})}function jSe(){ const e=W("ads-pixels"),_hh$temp1527=__arrayFrom$(Re(lT)),t=_hh$temp1527[0],n=_hh$temp1527[1],o=M(C1),s=M(Ut),a=(s&&bd.includes(s))===!0,r=u.useMemo(()=>Ma(),[o]),c=!a||r.advertising; if(!e||!c)return null;const d=Object.values(t).filter(m=>m.isMounted).map(m=>m.url);return i.jsx("div",{className:"absolute start-[-9999px] top-[-9999px] size-px overflow-hidden",children:d.map(m=>i.jsx(FSe,{pixelUrl:m,onComplete:()=>n(p=> __get$(p,m) ?{...p,[m]:{... __get$(p,m) ,isMounted:!1}}:p)},m))})}function BSe(e){ const _hh$temp1528=e,t=_hh$temp1528.label,n=_hh$temp1528.selected,o=_hh$temp1528.onClick,s=_hh$temp1528.icon; return i.jsxs(X,{className:O("flex w-48 justify-start",{"bg-black/5 contrast-more:bg-[Highlight] dark:bg-background-150":n}),title:t,role:"tab","aria-selected":n,"aria-current":n?"true":void 0,color:"subtle-dimmed",size:"36-sm",onClick:o,children:[i.jsx("span",{className:"w-full truncate text-start",children:t}),s&&i.jsx(s,{className:"size-4"})]})}const E6= _hh$temp1529=>{var e=_hh$temp1529.title,t=_hh$temp1529.titleId,n=__rest$Object(_hh$temp1529,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M6.24992 4.5C5.28344 4.5 4.49996 5.2835 4.49996 6.25V17.75C4.49996 18.7165 5.28344 19.5 6.24992 19.5H17.7496C18.7161 19.5 19.4996 18.7165 19.4996 17.75V13.75C19.4996 13.3358 19.8354 13 20.2496 13C20.6638 13 20.9995 13.3358 20.9995 13.75V17.75C20.9995 19.5449 19.5445 21 17.7496 21H6.24992C4.45504 21 3 19.5449 3 17.75V6.25C3 4.45507 4.45504 3 6.24992 3H10.2498C10.664 3 10.9998 3.33579 10.9998 3.75C10.9998 4.16421 10.664 4.5 10.2498 4.5H6.24992ZM12.9997 3.75C12.9997 3.33579 13.3355 3 13.7497 3H20.25C20.6642 3 21 3.33579 21 3.75V10.25C21 10.6642 20.6642 11 20.25 11C19.8358 11 19.5 10.6642 19.5 10.25V5.56074L14.28 10.7804C13.9871 11.0732 13.5123 11.0732 13.2194 10.7803C12.9265 10.4874 12.9265 10.0125 13.2194 9.71964L18.4395 4.5H13.7497C13.3355 4.5 12.9997 4.16421 12.9997 3.75Z"}));} ,K7e=Object.freeze(Object.defineProperty({__proto__:null,default:E6},Symbol.toStringTag,{value:"Module"})),w6="text-neutral-600 dark:text-neutral-350",Y7e=O("items-start justify-start text-sm",w6),Z7e=O("items-start justify-start text-xs",w6),J7e=O("content-end items-start justify-start text-accent-550 text-sm dark:text-accent-650"),Q7e="bg-accent-100 dark:bg-muted-200",X7e="USD",e8e={Visa:{Family:"credit_card",Type:"visa"},Amex:{Family:"credit_card",Type:"amex"},MasterCard:{Family:"credit_card",Type:"mc"},Discover:{Family:"credit_card",Type:"discover"}},t8e="shopify",n8e="commercetools",VSe="paypal",o8e="salesforce",s8e="stripe",a8e={paypal:"PayPal",venmo:"Venmo"},r8e=["paypal","venmo"],i8e={PAYPAL_INHOUSE:"paypal-inhouse",ADD_NEW:"addnewpm"},c8e="underline focus-visible:outline focus-visible:outline-current",l8e="https://account.microsoft.com/billing/payments",u8e="https://account.microsoft.com/billing/addresses",d8e="https://www.paypal.com/us/legalhub/paypal/privacy-full",m8e="COPILOT_PRODUCT_DETAILS_PAGE",p8e="paypalNativeCheckout",f8e="walletPaymentFailed",h8e="wallet.checkoutFooterDisclosure",g8e="wallet.checkoutFooterDisclosureWithMerchantTerms",v8e="wallet.checkoutFooterDisclosureWithEtsyTerms",y8e="wallet.PayPalFooterDisclosure",C8e="wallet-button-shipping-address",S8e="wallet-button-shipping-method",b8e="wallet-button-payment-options";function T6(){const t=Z.instance().config().shopping?.payment?.isPayPalCheckoutEnabled??!1,n=M(Ut),o=rt("kill-pay-paypal-integration");return t&&n==="US"&&!o}function I8e(e){const t=e?.toLowerCase()===VSe.toLocaleLowerCase(),n=T6();return t&&n}function x6(){const e=W("copilot-beta"),t=W("memory-settings-v2");W("studio-sdk"); const n=M(Vd),o=K0(),_hh$temp1530=Y(),s=_hh$temp1530.t,a=kt(),r=M(UT),c=M(Sd),d=W("shopping-card"),m=qc(["wallet-management-msa","pay-enable-checkout-urban","pay-enable-checkout-etsy"],"any"),p=ks({key:"shouldShowHostSettings",default:!1}),h=T6(),v=m||h,y=[{label:s("settings.preferences.title"),page:"preferences"},{label:s("settings.memory.title"),page:"memory-overview",needSignIn:!0},{label:s("settings.accountTitle"),page:"account"},{label:s("settings.connectedAppsTitle"),page:"connector-list",needSignIn:!0},{label:s("settings.shoppingTitle"),page:"shopping",needSignIn:!0},{label:s("settings.wallet"),page:"wallet",needSignIn:!0},{label:s("subscriptionManage.title"),page:"manage-subscription",needSignIn:!0},{label:s("settings.privacyLink"),page:"privacy",needSignIn:!0},{label:s("settings.titleAbout"),page:"about"},{label:s("settings.copilotBeta.title"),page:"copilot-beta"},{label:s("settings.title.browsing"),page:"host-browsing-settings",icon:E6}]; return j(Wa)?[{label:s("settings.titleAbout"),page:"about-sandbox"}]:y.filter(S=>{switch(S.page){case"memory-overview":return t&&a;case"copilot-beta":return(e||o)&&n;case"manage-subscription":return r;case"wallet":return a&&c&&v;case"shopping":return a&&d;case"host-browsing-settings":return p;default:return!S.needSignIn||a}})}function HSe(){ const _hh$temp1531=gs(),e=_hh$temp1531.currentPage,t=_hh$temp1531.pushPage,n=_hh$temp1531.parentPageOf,o=x6(),_hh$temp1532=Y(),s=_hh$temp1532.t; return i.jsx("nav",{"aria-label":s("settings.settings"),className:"flex flex-col",children:i.jsx(wo,{axis:"vertical",circular:!0,children:i.jsx("ul",{role:"tablist","aria-orientation":"vertical",className:"flex list-none flex-col gap-0.5",children:o.map(a=>i.jsx("li",{role:"presentation",children:i.jsx(BSe,{label:a.label,selected:e===a.page||e!==void 0&& __get$(n,e) ===a.page,icon:a.icon,onClick:async()=>{a.page==="host-browsing-settings"?await KY.run({}):t(a.page)}})},a.label))})})})}function zSe(){ const _hh$temp1533=gs(),e=_hh$temp1533.currentPage,o=(x6().find(s=>s.page===e)?.label??"").trim(); return o?i.jsxs("div",{className:"sticky top-0 z-10 bg-white py-3 dark:bg-background-150",children:[i.jsx("h3",{className:"flex w-full items-center justify-start p-2 pb-4 text-base-medium",children:o}),i.jsx(Uo,{verticalMargin:!1})]}):null}const A6=u.createContext(null);function GSe(e){ const _hh$temp1534=e,t=_hh$temp1534.value,n=_hh$temp1534.children; return i.jsx(A6.Provider,{value:t,children:n})}function E8e(){const e=u.useContext(A6);return e||null}function WSe(){return i.jsx("div",{className:"flex size-full items-center justify-center",children:i.jsx(At,{className:"size-12"})})}const $Se=u.lazy(()=>D(()=>import( __get$ProxyUrl("./settings-BGognPWo.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([453,1,454,455,456,457,458,459,460,461,462,7,463,464,465,466,450,467,468,469,470,471,472,473,474,475,476,477,478,479,480,481,482,483,484,485,486,487,488,489,490])));function qSe(e){ const _hh$temp1535=e,t=_hh$temp1535.customSettings,n=u.useRef(null); return i.jsx(GSe,{value:n,children:i.jsx("div",{className:"flex h-full min-h-0",ref:n,children:i.jsxs("div",{className:"flex w-full flex-1 gap-3",children:[i.jsx(HSe,{}),i.jsx("div",{className:O("relative flex min-h-0 min-w-0 flex-1 rounded-3xl bg-white py-3 will-change-auto dark:bg-background-150","after:pointer-events-none after:absolute after:inset-0 after:z-10 after:rounded-3xl after:border after:border-black/10 dark:border-transparent"),children:i.jsxs("div",{className:"t-custom-scrollbar flex flex-1 flex-col overflow-y-auto px-3 pb-3",children:[i.jsx(zSe,{}),i.jsx(u.Suspense,{fallback:i.jsx(WSe,{}),children:i.jsx($Se,{shouldShowHeaderOverride:!1,customSettings:t})})]})})]})})})}function KSe(e){ const _hh$temp1536=e,t=_hh$temp1536.customSettings,n=bv(),_hh$temp1537=gs(),o=_hh$temp1537.currentPage,s=_hh$temp1537.closeSettings,_hh$temp1538=Y(),a=_hh$temp1538.t,r=vt({breakpoint:"sm"}),c=fi(),d=u.useRef(null); return u.useEffect(()=>{d.current===!1&&r&&!c&&s(),d.current=r},[r,c,s]),n?i.jsx(Rs,{isOpen:!!o&&o!=="menu",className:"size-full h-conversation-modal p-3 dark:bg-background-150/50 md:w-[728px]",headerTextClassName:"ps-2.5 py-2",headerText:a("settings.settings"),onClose:s,bottomSheetOnSmall:!1,children:i.jsx(qSe,{customSettings:t})}):null}function YSe(){const e=Z.instance().config().uiOverrides?.showUpgradeAppTopBanner;u.useEffect(()=>{e&&R.trackEvent({name:"system",data:{eventName:"upgradeSurfaceApp",eventInfo_status:"Shown"}})},[e]);const t=()=>{R.trackEvent({name:"interaction",data:{eventName:"upgradeSurfaceApp",eventInfo_status:"Clicked"}}),ui("macappstore://apps.apple.com/app/id6738511300")};return e?i.jsxs("div",{className:"pointer-events-none absolute inset-x-0 top-0 flex w-full justify-center p-3",children:[i.jsx("div",{className:"absolute top-0 h-3.5 w-full bg-background-150 opacity-90 dark:bg-background-150"}),i.jsx("div",{className:Je("relative w-full max-w-cookie-banner rounded-xl border border-black/5 shadow-xl dark:border-black/40",Co,at.modal),children:i.jsx("div",{className:"pointer-events-auto relative max-h-[90vh] overflow-auto p-5",id:"cookie-banner",children:i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("h3",{className:"text-lg",children:U("upgradeSurface.heading")}),i.jsxs("div",{className:"flex flex-col gap-x-8 gap-y-6 text-xs sm:flex-row",children:[i.jsxs("div",{className:"flex flex-col gap-x-5 gap-y-4 text-xs sm:flex-row",children:[i.jsx("p",{children:U("upgradeSurface.primaryDescription")}),i.jsx("p",{children:U("upgradeSurface.secondaryDescription")})]}),i.jsx("div",{className:"flex min-w-44 shrink-0 grow flex-col justify-center gap-2",children:i.jsx(X,{variant:"rect",size:"32-xs",onClick:t,title:U("upgradeSurface.buttonText"),children:U("upgradeSurface.buttonText")})})]})]})})})]}):null}const ZSe=u.lazy(()=>D(()=>Promise.resolve().then(()=>E_),void 0)),JSe=Fn(()=>D(()=>import( __get$ProxyUrl("./settings-wrapper-C6UEjb6w.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([584,1,450,451,452,7])),{moduleName:"settings-wrapper",retryStrategy:bn}),QSe=Fn(()=>D(()=>import( __get$ProxyUrl("./media-viewer-Fujxjoay.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([585,1,586,587,588,490,7])),{moduleName:"media-viewer",exportName:"MediaViewer",showErrorToast:!0,retryStrategy:bn}),XSe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./picture-in-picture-BNil719r.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([589,1,543,544,590,591,7])).then(e=>({default:e.PictureInPicture}))),ebe=Fn(()=>D(()=>import( __get$ProxyUrl("./app-modals-U7v3eCfe.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([592,1,593,594,595,596,597,598,599,600,601,7,602,603,604,580,490,605,606,607,608,609,456,457,455,610,450,533,611,612,505,613,510,614,509,615,616,617,536,618,619,620,621,622,623,624,587,588,625,513])),{moduleName:"app-modals",exportName:"AppModals",retryStrategy:bn});function tbe(e){ const _hh$temp1539=e,t=_hh$temp1539.children,n=_hh$temp1539.customLayout,o=_hh$temp1539.background,s=_hh$temp1539.borderless,a=_hh$temp1539.paddingTop,r=_hh$temp1539.sidebarPadding,c=_hh$temp1539.customSettings,d=bk(),m=ln(),_hh$temp1540=Lk(),p=_hh$temp1540.isPictureInPictureOpen,h=Z.instance().config().appLayout,v=M(Eme),y=M(wme),C=M(Tme),S=Hpe(); return i.jsxs(i.Fragment,{children:[S&&i.jsx("div",{className:O("pointer-events-none sticky top-0 w-full",at.header),children:i.jsx("div",{className:"pointer-events-auto absolute end-2 top-2",children:i.jsx(USe,{isPinned:C,showCloseButton:v,showPinButton:y})})}),i.jsxs(Ppe,{borderless:s,background:o,paddingTop:a,sidebarPadding:r,children:[d||n?t:i.jsxs(km,{className:"flex-1",children:[t,i.jsx(nbe,{}),i.jsx(obe,{}),i.jsx(Rm,{})]}),i.jsx(q3,{}),p&&i.jsx(u.Suspense,{fallback:i.jsx(qpe,{}),children:i.jsx(XSe,{})})]}),h.showMobileCrossSelling&&m.startsWith("/chats")&&!fo(m)&&i.jsx(RSe,{}),h.showCookieBanner&&i.jsx(ISe,{}),i.jsx(YSe,{}),i.jsx(WI,{children:i.jsx(u.Suspense,{fallback:null,children:i.jsx(ebe,{})})}),i.jsx(KSe,{customSettings:c}),i.jsx("div",{id:"inAppFeedbackOcv"}),i.jsx("div",{id:"popoverPortal"}),i.jsx(jSe,{})]})}function nbe(){ const _hh$temp1541=xo(),e=_hh$temp1541.isMediaViewerOpen; return e?i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"pointer-events-auto absolute inset-0 flex items-center justify-center",children:i.jsx(ZSe,{type:"spinnerThemed",className:"size-12"})}),children:i.jsx(QSe,{})}):null}function obe(){return Vpe()?i.jsx(S6,{children:i.jsx(Mm,{suppressBottomSection:!0})}):null}function Rm(){const t=Z.instance().config().appLayout.showSettings,n=Ks(),o=W("sidebar-settings");return t?i.jsx(ao,{fallback:null,children:i.jsx(JSe,{className:O("top-6",n&&"-me-1 -mt-3",o&&"-me-[14px] -mt-[14px]")})}):null}function sbe(){typeof window<"u"&&(Object.defineProperty(window,"APP_VERSION",{value:Td()}),Object.defineProperty(window,"APP_SURFACE",{value:"cmc"}))}function abe(e){ const _hh$temp1542=e,t=_hh$temp1542.background,n=i.jsxs(i.Fragment,{children:[i.jsx(Hd,{children:i.jsx(eme,{})}),i.jsx(tbe,{background:t,children:i.jsx(F2,{})})]}); return i.jsx(ide,{children:n})}function rbe(e){ const _hh$temp1543=e,_hh$temp1543$onError=_hh$temp1543.onError,t=_hh$temp1543$onError===void 0?$w:_hh$temp1543$onError,n=_hh$temp1543.background,o=Ame(),s=_me(); return i.jsxs(pg,{fallback:i.jsx(z0,{}),onError:t,children:[i.jsx(bA,{}),o?i.jsx(F2,{}):i.jsx(abe,{background:s?n:void 0})]})}sbe();nme();function ibe(){return _hh$temp1544=>{var e=_hh$temp1544.search,t=_hh$temp1544.next;return t(e);} }f_();const cbe=f({"prompt-branch":l().optional(),"use-sxs":J([V(),l()]).transform(e=>typeof e=="string"?e==="true":e).optional(),branch:l().optional(),picasso_preview:l().optional(),"sxs-feature":l().optional(),renderingType:H(["ssr","csr"]).optional()}),Qe=NR({Root:()=>i.jsx(mN,{routeId:Qe.id,children:i.jsx(rbe,{})}),routerConfig:{validateSearch:e=>cbe.parse(e),search:{middlewares:[ibe(),i8(["prompt-branch","use-sxs","branch","picasso_preview","sxs-feature","renderingType"])]}}}),lbe=xe("/tasks")({}),ube=xe("/shopping")({beforeLoad:()=>({customLayout:!0})}),dbe=xe("/shares")({head:()=>Fs(()=>({meta:[{name:"robots",content:RR}]}))}),mbe=xe("/library")({beforeLoad:()=>({customLayout:!0})}),nu={default:{getTitle:e=>e("server.labs.metadata.title"),getDescription:e=>e("server.labs.metadata.description"),image:"/static/copilotlabs/og_image.png"},"copilot-gaming-experiences":{getTitle:e=>e("server.labs.metadata.experiments.copilotGamingExperiences.title"),getDescription:e=>e("server.labs.metadata.experiments.copilotGamingExperiences.description"),image:"/static/copilotlabs/labs-meta-copilot-gaming-experiences.png"},"copilot-3d":{getTitle:e=>e("server.labs.metadata.experiments.copilot3d.title"),getDescription:e=>e("server.labs.metadata.experiments.copilot3d.description"),image:"/static/copilotlabs/labs-meta-copilot-3d.png"},"copilot-appearance":{getTitle:e=>e("server.labs.metadata.experiments.copilotAppearance.title"),getDescription:e=>e("server.labs.metadata.experiments.copilotAppearance.description"),image:"/static/copilotlabs/labs-meta-copilot-appearance.png"},mico:{getTitle:e=>e("server.labs.metadata.experiments.mico.title"),getDescription:e=>e("server.labs.metadata.experiments.mico.description"),image:"/static/copilotlabs/labs-meta-mico.png"},"copilot-vision":{getTitle:e=>e("server.labs.metadata.experiments.copilotVision.title"),getDescription:e=>e("server.labs.metadata.experiments.copilotVision.description"),image:"/static/copilotlabs/labs-meta-copilot-vision.png"},"copilot-podcasts":{getTitle:e=>e("server.labs.metadata.experiments.copilotPodcasts.title"),getDescription:e=>e("server.labs.metadata.experiments.copilotPodcasts.description"),image:"/static/copilotlabs/labs-meta-copilot-podcasts.png"},"think-deeper":{getTitle:e=>e("server.labs.metadata.experiments.thinkDeeper.title"),getDescription:e=>e("server.labs.metadata.experiments.thinkDeeper.description"),image:"/static/copilotlabs/labs-meta-think-deeper.png"},"copilot-actions":{getTitle:e=>e("server.labs.metadata.experiments.copilotActions.title"),getDescription:e=>e("server.labs.metadata.experiments.copilotActions.description"),image:"/static/copilotlabs/labs-meta-copilot-actions.png"},"audio-expression":{getTitle:e=>e("server.labs.metadata.experiments.audioExpression.title"),getDescription:e=>e("server.labs.metadata.experiments.audioExpression.description"),image:"/static/copilotlabs/labs-meta-audio-expression.png"},portrait:{getTitle:e=>e("server.labs.metadata.experiments.portrait.title"),getDescription:e=>e("server.labs.metadata.experiments.portrait.description"),image:"/static/copilotlabs/labs-meta-portrait.png"}},pbe=["/labs","/gaming"];function fbe(e){return pbe.some(t=>e.startsWith(t))}const hbe=e=>e==="/gaming"?"copilot-gaming-experiences":e.startsWith("/labs/experiments/3d-generations")?"copilot-3d":e.match(/^\/labs(?:\/experiments)?\/(?<alias>[^/?#]+)/)?.[1],_6=(e,t)=>{const n=t?.t.bind(t)??(s=>s),o={title:nu.default.getTitle(n),description:nu.default.getDescription(n),image:nu.default.image};if(!e)return o;if(fbe(e)){const s=hbe(e),a=s? __get$(nu,s) :void 0;if(a)return{title:a.getTitle(n),description:a.getDescription(n),image:a.image}}return o},gbe=()=>D(()=>import( __get$ProxyUrl("./labs_-Dpnu6sYe.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([626,1,627,7])),vbe=xe("/labs_")({head:e=>Fs(()=>{ const _hh$temp1545=e.match.context,t=_hh$temp1545.baseUrl,n=_hh$temp1545.canonical,o=_hh$temp1545.i18n,a=__get$(e.matches,e.matches.length-1)?.pathname??e.match.pathname,_hh$temp1546=_6(a,o),r=_hh$temp1546.title,c=_hh$temp1546.description,d=_hh$temp1546.image,m=`${t}${d}`; return{meta:[...r?[{title:r}]:[],...c?[{name:"description",content:c}]:[],..._a({title:r,description:c,url:n,imageUrl:m,imageWidth:"1200",imageHeight:"630"}),...ka({title:r,description:c,card:"summary_large_image",image:m})]}}),component:c8(gbe,"component"),beforeLoad:()=>({customLayout:!0})}),ybe=xe("/health")({beforeLoad:()=>({customLayout:!0})}),Cbe=xe("/gaming")({beforeLoad:()=>({customLayout:!0}),staticData:{showBackButton:"auto"},head:e=>Fs(()=>{ const _hh$temp1547=e.match.context,t=_hh$temp1547.baseUrl,n=_hh$temp1547.canonical,o=_hh$temp1547.i18n,_hh$temp1548=e.match,s=_hh$temp1548.pathname,_hh$temp1549=_6(s,o),a=_hh$temp1549.title,r=_hh$temp1549.description,c=_hh$temp1549.image,d=`${t}${c}`; return{meta:[...a?[{title:a}]:[],...r?[{name:"description",content:r}]:[],..._a({title:a,description:r,url:n,imageUrl:d,imageWidth:"1200",imageHeight:"630"}),...ka({title:a,description:r,card:"summary_large_image",image:d})]}})}),Sbe=xe("/daily")({beforeLoad:()=>({showSidebarHeaderAcrylicBackplate:!0,customLayout:!0})});function bbe(){ const e=kt(),t=M(LT),n=M(jr),o=M(DT),s=M(Wa),a=M(EK),r=!!M(wK),c=!!M(TK),d=!!(ks({key:"shouldShowTextModelTrainingSettings",default:!0})&&r),m=!!(ks({key:"shouldShowVoiceModelTrainingSettings",default:!0})&&c),p="chat.firstTurnDisclaimerBaseAi",h=d||m,v=!h||(t&&!n),y=S3(),_hh$temp1550=__arrayFrom$(Re(BT)),C=_hh$temp1550[0],S=_hh$temp1550[1],_hh$temp1551=__arrayFrom$(u.useState(!1)),b=_hh$temp1551[0],I=_hh$temp1551[1]; u.useEffect(()=>{if((h||a)&&e&&!s){if(C){I(!0),S(!1);return}if(y<xf){I(!0);return}let k;try{k=mce()}catch{k=new Date}const w=z3(k,6),_=new Date;_>w&&(I(!0),qt(Nr,_.toISOString()))}},[e,h,s,y,a,C,S]);const x=()=>v===void 0||o===void 0||a===void 0?null:s||!e?"chat.unauthenticatedDisclaimer":!a||!b?p:!v&&!o?"chat.firstTurnDisclaimerPersonalizationTraining":v&&!o?"chat.firstTurnPersonalizationDisclaimer":o&&!v?"chat.firstTurnTrainingDisclaimer":p;return(()=>{let k=x();return k?Z.instance().config().uiOverrides?.hideTrainingDisclaimer?p:(k=Z.instance().config().textOverrides?.(k)??k,k):null})()}const Ibe="text-foreground-450 text-sm dark:text-foreground-600",Ebe="underline",v2={settingsLink:e=>i.jsx(bm,{pages:["menu","account","privacy"],className:O(e,Ebe),clickSource:"disclaimerSettingsLink"}),learnMoreLink:i.jsx(Fh,{link:Ju})},ou={termsLink:i.jsx(Fh,{link:vc}),privacyLink:i.jsx(Fh,{link:jt})},wbe={settingsLink:e=>i.jsx(bm,{pages:["menu","account","privacy"],className:e,disableLink:!0})};function Uh(e){ const _hh$temp1552=e,t=_hh$temp1552.forceVisible,n=_hh$temp1552.disableDisclaimerSettingsLink,o=_hh$temp1552.className,s=_hh$temp1552.testId,a=_hh$temp1552.shouldUpdateNewConversationCount,r=_hh$temp1552.textClassName,c=r??Ibe,d=bbe(),m=M(Lt),p=m?.id,v=(m?.isNew??t)&&d; if(u.useEffect(()=>{!a||!v||!p||hce(p)},[a,v,p]),!v)return null;const y=C=>{switch(C){case"chat.unauthenticatedDisclaimer":return i.jsxs(i.Fragment,{children:[i.jsx(fn,{i18nKey:"chat.firstTurnDisclaimerBaseAi"})," ",i.jsx(fn,{i18nKey:C,components:{termsLink:ou.termsLink,privacyLink:ou.privacyLink}})]});case"chat.firstTurnTrainingDisclaimer":case"chat.firstTurnPersonalizationDisclaimer":case"chat.firstTurnDisclaimerPersonalizationTraining":return i.jsxs(i.Fragment,{children:[i.jsx(fn,{i18nKey:"chat.firstTurnPersonalizationDisclaimerBaseAi"})," ",i.jsx(fn,{i18nKey:C,components:{settingsLink:n?wbe.settingsLink(c):v2.settingsLink(c)}})]});case"chat.edge.firstTurnPersonalizationDisclaimer":case"chat.edge.firstTurnPersonalizationSettingsDisclaimer":return i.jsxs(i.Fragment,{children:[i.jsx(fn,{i18nKey:"chat.firstTurnPersonalizationDisclaimerBaseAi"})," ",i.jsx(fn,{i18nKey:C,components:{learnMoreLink:v2.learnMoreLink,bold:i.jsx("strong",{})}})]});case"chat.firstTurnDisclaimerBaseAi":case"chat.firstTurnPersonalizationDisclaimerBaseAi":case"chat.tv.firstTurnDisclaimer":return i.jsx(fn,{i18nKey:C});case"chat.livingPortraitDisclaimerAi":return i.jsx(fn,{i18nKey:C,components:{termsLink:ou.termsLink,privacyLink:ou.privacyLink}});default:return null}};return i.jsx(Dt,{id:d,mode:"wait",className:O("space-y-8 pb-8",c,o),"data-testid":s,children:y(d)})}function Fh(e){ const _hh$temp1553=e,t=_hh$temp1553.children,n=_hh$temp1553.link,o=_hh$temp1553.className; return i.jsx(ss,{className:O("underline",o),href:n,title:"",children:t})}function k6(e){ const _hh$temp1554=e,t=_hh$temp1554.customBottomDisclaimer,n=_hh$temp1554.className,o=_hh$temp1554.textClassName,s=W("async-disclaimer-text"),a=Dx(),_hh$temp1555=__arrayFrom$(u.useState(!s)),r=_hh$temp1555[0],c=_hh$temp1555[1]; return u.useEffect(()=>{a&&a.length>0&&c(!0)},[a]),t||(r?i.jsx(Dt,{className:"absolute bottom-0 flex max-w-chat justify-center px-6 text-center","data-testid":"bottom-disclaimer",children:i.jsx(Uh,{shouldUpdateNewConversationCount:!0,className:n,textClassName:o})}):null)}function Tbe(){return i.jsx("div",{"aria-hidden":!0,className:"flex size-full flex-col items-center justify-center"})}const fr="absolute animate-dot-ellipsis size-2 rounded-full bg-background-450";function xbe(e){ const _hh$temp1556=e,t=_hh$temp1556.className; return i.jsxs("div",{className:O("flex items-center justify-center gap-3",t),children:[i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:fr,style:{animationDelay:"0ms"}}),i.jsx("div",{className:fr,style:{animationDelay:"30ms"}})]}),i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:fr,style:{animationDelay:"100ms"}}),i.jsx("div",{className:fr,style:{animationDelay:"130ms"}})]}),i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:fr,style:{animationDelay:"200ms"}}),i.jsx("div",{className:fr,style:{animationDelay:"230ms"}})]})]})}const P6=.6;function w8e(e={},t={}){return{start:{...e,opacity:0},end:n=>({...t,opacity:1,transition:{delay:n,ease:"easeInOut",duration:P6}})}}function Abe(e){ const _hh$temp1557=e,t=_hh$temp1557.text,_hh$temp1557$staggerChildren=_hh$temp1557.staggerChildren,n=_hh$temp1557$staggerChildren===void 0?.018:_hh$temp1557$staggerChildren,_hh$temp1557$delayChildren=_hh$temp1557.delayChildren,o=_hh$temp1557$delayChildren===void 0?0:_hh$temp1557$delayChildren,_hh$temp1557$initialOpacity=_hh$temp1557.initialOpacity,s=_hh$temp1557$initialOpacity===void 0?0:_hh$temp1557$initialOpacity,a=_hh$temp1557.className,r=_hh$temp1557.style; return i.jsx(Ce.div,{variants:{show:{transition:{staggerChildren:n,delayChildren:o}}},initial:"hidden",animate:"show",className:a,style:r,children:c6(t).map((c,d)=>i.jsx(Ce.span,{variants:{hidden:{opacity:s},show:{opacity:1,transition:{duration:P6}}},children:c},d))})}const _be={sm:"text-lg",md:"text-2xl",lg:"text-4xl"},y2=25;function kbe(e){ const _hh$temp1558=e,t=_hh$temp1558.className,_hh$temp1558$fontSize=_hh$temp1558.fontSize,n=_hh$temp1558$fontSize===void 0?"lg":_hh$temp1558$fontSize,o=M(ym),s=M(PT),_hh$temp1559=Y(),a=_hh$temp1559.t,_hh$temp1560=s3(),r=_hh$temp1560.greetingKey,c=_hh$temp1560.widgetGreeting,d=_hh$temp1560.shouldAnimateGreeting,_hh$temp1561=Xa(),m=_hh$temp1561.isCentralComposerEnabled,p=_hh$temp1561.isGreetingCentered,h=ev(),v=Dfe(),_hh$temp1562=Ja(),y=_hh$temp1562.showShoppingCardInNewChat,C=s&&s.length>y2?`${s.slice(0,y2)}`:s,S=r?a(r,{name:C}):""; return h?i.jsx("div",{className:O(t,"flex w-full flex-col items-start justify-start gap-2 sm:mb-6 sm:h-[100px] sm:justify-end"),children:i.jsx("div",{className:"flex justify-start sm:min-h-8",children:!v||o?i.jsx("div",{className:"ms-2 mt-6 flex size-full sm:mt-0",children:i.jsx(xbe,{className:"flex-1"})}):i.jsxs("div",{className:"flex flex-col items-start gap-2",children:[i.jsxs(Dt,{className:"flex items-center gap-2 text-foreground-550 dark:text-foreground-750",id:c??S,children:[i.jsx("p",{className:"text-sm-strong",children:a("common.copilotText")}),i.jsx("p",{className:"text-sm",children:gn(new Date,"h:mm aa")})]}),i.jsx("h1",{className:"text-xl",children:i.jsx(jh,{text:c??S},c)})]})})}):i.jsx("div",{className:O("flex w-full flex-col items-start justify-start sm:justify-end",!y&&"sm:mb-8 sm:h-[100px]",p&&"sm:items-center",!m&&"sm:justify-start", __get$(_be,n) ,t),"data-testid":"launch-greeting",children:i.jsx("h1",{children:d?i.jsx(jh,{text:S},S):S})})}const jh=u.memo(e=>{ const _hh$temp1563=e,t=_hh$temp1563.text; return i.jsx(Abe,{text:t,staggerChildren:.02,delayChildren:.1},t)});jh.displayName="AnimatedTextMemo";function Pbe(e){ const _hh$temp1564=e,t=_hh$temp1564.customLaunchGreeting,n=_hh$temp1564.className; return t||i.jsx(kbe,{className:n,fontSize:"md"})}function M6(e){ const _hh$temp1565=e,t=_hh$temp1565.className,n=M(Wa),o="top-disclaimer"; return n?i.jsx(Uh,{forceVisible:!0,className:t,testId:o,shouldUpdateNewConversationCount:!0}):i.jsx(Uh,{className:t,testId:o,shouldUpdateNewConversationCount:!0})}const Bh="long-animation-frame";function Mbe(e){return e.entryType===Bh}function Rbe(e){ const _hh$temp1566=e,t=_hh$temp1566.pageName,n=_hh$temp1566.scenario,o=u.useRef(null),s=Pa(); u.useEffect(()=>{if(!(!s||typeof PerformanceObserver>"u"||!PerformanceObserver.supportedEntryTypes.includes(Bh)))return o.current=new PerformanceObserver(a=>{try{const r="deviceMemory"in navigator?navigator.deviceMemory:void 0,c="hardwareConcurrency"in navigator?navigator.hardwareConcurrency:void 0;for(const d of a.getEntries())if(Mbe(d)){const m={eventName:"longAnimationFrame",eventInfo_pageName:t,eventInfo_scenario:n,eventInfo_duration:d.duration,eventInfo_conversationId:j(Se),eventInfo_customData:JSON.stringify({...r!==void 0&&{deviceMemory:r},...c!==void 0&&{hardwareConcurrency:c},blockingDuration:d.blockingDuration})};R.trackEvent({name:"system",data:m})}}catch(r){tt({feature:"performance",scenario:"longAnimationFrame",errorType:"LongAnimationFrameTrackingFailed",errorMessage:r instanceof Error?r.message:"unknown",customData:JSON.stringify({pageName:t,scenario:n})})}}),o.current.observe({type:Bh,buffered:!0}),()=>{o.current&&(o.current.disconnect(),o.current=null)}},[s,t,n])}function R6(){ const _hh$temp1567=Xa(),e=_hh$temp1567.isAppearanceOnHomeEnabled,t=fv({breakpoint:"h600"}),n=W("appr-home-toggle"),o=M(pK),s=M(go); return{shouldDisplay:e&&(!n||!o)&&!!s&&!t,isAppearanceOnHomeEnabled:e}}function Nbe( _hh$temp1568 ){ var e=_hh$temp1568.characterId,t=_hh$temp1568.className;  const n=M(Lt),_hh$temp1569=__arrayFrom$(Re(nT)),o=_hh$temp1569[0],s=_hh$temp1569[1],_hh$temp1570=Y(),a=_hh$temp1570.t; return u.useEffect(()=>{n?.isNew===!1&&s(!1)},[s,n?.isNew]),n?.isNew?i.jsxs(Dt,{id:"character-disclaimer",mode:"wait",className:Je("pb-2 text-foreground-550/90 text-sm dark:text-foreground-750/60",t),children:[a("characterAnimation.characterDisclaimerTextV2",{characterName:R$(e,a)})," ",o&&i.jsx(fn,{i18nKey:"characterAnimation.characterSettingDisclaimerText",components:{settingsLink:i.jsx(bm,{pages:["menu","character-options"],className:"text-foreground-550/90 underline text-sm dark:text-foreground-750/60"})}})]}):null}function Lbe(){return i.jsx(Z1,{size:"sm",stroke:!0,className:"mt-4 flex h-[172px] w-full max-w-sm cursor-pointer flex-col p-3 sm:max-w-md",children:i.jsx("div",{className:"flex flex-1",children:i.jsx(ov,{className:"size-full",style:{clipPath:"var(--clip-path-squircle-36)"}})})})}const Dbe=u.lazy(()=>D(()=>import( __get$ProxyUrl("./shopping-starter-card-B13_W1fF.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([628,1,629,479,475,459,630,477,532,631,632,633,478,634,474,533,599,600,635,481,450,636,7,604,580,637,602,603,605,638,639,640,641,642,643,644,645,487,646,476])).then(e=>({default:e.ShoppingStarterCard})));function Obe(e){ const _hh$temp1571=e,t=_hh$temp1571.customLaunchGreeting,n=_hh$temp1571.postContent,_hh$temp1572=Xa(),o=_hh$temp1572.isCentralComposerEnabled,s=_hh$temp1572.isGreetingCentered,a=_hh$temp1572.showLaunchGreeting,r=vt({breakpoint:"sm"}),_hh$temp1573=R6(),c=_hh$temp1573.shouldDisplay,d=_hh$temp1573.isAppearanceOnHomeEnabled,m=ri(),p=mi(),h=M(tT),v=!ll(),y=m&&h!==null,C=M(dT),_hh$temp1574=Ja(),S=_hh$temp1574.showShoppingCardInNewChat,b=a&&!y,x=!!Z.instance().config().smallScreenShowTopDisclaimerAfterSendingMessage?!p:!b,E=y||(r&&x); Rbe({pageName:"chat-welcome",scenario:c?"chat-welcome-with-appearance":"chat-welcome-without-appearance"});const k=b&&"pb-2",w=u.useMemo(()=>u.lazy(()=>d?D(()=>import( __get$ProxyUrl("./appearance-chat-wryrGVQ-.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([647,1,556,7])).then(N=>({default:N.AppearanceChat})):Promise.resolve({default:()=>null})),[d]);return i.jsxs(Dt,{delay:.2,initial:v?"initial":!1,className:O(o?"mt-2 flex flex-col items-start text-pretty pe-0 sm:absolute sm:inset-x-0 sm:inset-y-0 sm:mx-auto sm:mt-0 sm:max-w-chat sm:px-4 sm:pb-[calc(var(--composer-container-height))]":k,S&&"mx-auto mt-2 max-w-sm sm:relative sm:max-w-md sm:px-4",c&&r&&"flex grow flex-col"),children:[c&&o&&i.jsx("div",{className:O("order-2 flex w-full flex-col items-center justify-center sm:absolute sm:h-[calc(50%-var(--composer-container-height)/2)]",r&&"grow"),children:i.jsx(u.Suspense,{fallback:i.jsx(Tbe,{}),children:i.jsx(w,{voiceAppearanceId:$a},"appearance-chat-home")})}),i.jsxs("div",{className:"order-1 flex w-full flex-col gap-2 sm:top-0 sm:h-full sm:justify-center",children:[b&&i.jsx(Pbe,{customLaunchGreeting:t,className:O(c&&["relative",at.launchGreeting],s?"sm:text-center":"sm:ps-2")}),y&&i.jsx(Nbe,{characterId:h}),S&&!C&&i.jsx(u.Suspense,{fallback:i.jsx(Lbe,{}),children:i.jsx(Dbe,{})}),E&&i.jsx(M6,{}),n]})]},"chat-welcome")}function Ube(e){ const _hh$temp1575=e,t=_hh$temp1575.customData; R.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionScenario:"featureDiscovery",eventInfo_impressionPage:"landingPage",eventInfo_customData:JSON.stringify(t)}})}function C2(e){ const _hh$temp1576=e,t=_hh$temp1576.source,n=_hh$temp1576.customData; R.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickScenario:"featureDiscovery",eventInfo_clickSource:t,eventInfo_customData:JSON.stringify(n)}})}function Fbe(e){ const _hh$temp1577=e,t=_hh$temp1577.className,n=_hh$temp1577.onBannerClick,o=_hh$temp1577.onDismiss,s=_hh$temp1577.bannerData,_hh$temp1578=Y(),a=_hh$temp1578.t,r=Yt(),_hh$temp1579=s,c=_hh$temp1579.title,d=_hh$temp1579.description,m=_hh$temp1579.thumbnail,p=_hh$temp1579.id,h=_hh$temp1579.action,_hh$temp1580=__arrayFrom$(u.useState(!1)),v=_hh$temp1580[0],y=_hh$temp1580[1],S=M(fs)==="dark"; u.useEffect(()=>{Ube({customData:{widgetId:p}})},[p,r]); const b=()=>{C2({source:"tryIt",customData:{widgetId:p}});const w=Bk(h,{id:p,source:"banner"});n(w);},_hh$temp1581=__arrayFrom$(u.useState(!1)),I=_hh$temp1581[0],x=_hh$temp1581[1],E=w=>{w.stopPropagation(),C2({source:"dismiss",customData:{widgetId:p}}),x(!0);},k=()=>{I&&o();}; return i.jsx(Ce.div,{initial:{opacity:0},animate:{opacity:I?0:1},transition:{duration:.1,ease:"linear"},onAnimationComplete:k,className:O("relative flex w-full",t),children:i.jsxs("div",{className:O("relative flex max-w-md flex-row items-center gap-2.5 rounded-3xl border border-black/10 p-2.5 pe-10 dark:border-white/10",at.toastNotification),children:[i.jsx(X,{className:"absolute end-1 top-1",title:a("common.dismiss"),"aria-label":a("common.dismiss"),variant:"rect",color:"subtle-dimmed-inverted",size:"36-sm",onClick:E,children:i.jsx(sn,{className:"size-3"})}),i.jsxs("div",{className:"flex size-[72px] shrink-0 items-center justify-center",children:[!v&&i.jsx(ov,{className:"aspect-square w-full rounded-xl"}),i.jsx("img",{className:O("aspect-square w-full rounded-xl object-cover",v?"opacity-100":"opacity-0"),src:S&&m.urlDark?m.urlDark:m.url,alt:m.altText,onLoad:()=>y(!0),onError:()=>y(!1)})]}),i.jsxs("div",{className:"flex flex-1 select-none flex-col gap-0.5",children:[i.jsx("div",{className:"text-sm-strong",children:c}),d&&i.jsx("div",{className:"text-xs",children:d})]}),i.jsx(X,{title:a("widgets.featureDiscovery.tryIt"),"aria-label":a("widgets.featureDiscovery.tryIt"),variant:"rect",color:"default",size:"36-sm",onClick:b,children:i.jsx("div",{className:"text-xs",children:a("widgets.featureDiscovery.tryIt")})})]})})}function jbe(){ const _hh$temp1582=pi(),e=_hh$temp1582.createConversation,t=mi(),n=ln(),o=u.useRef(null); u.useEffect(()=>{const s=o.current;o.current=n,n==="/"&&s!=="/"&&(t||(vk(),e({shouldNavigateToChat:!1})))},[t,n,e])}function Nm(){ const e=M(en),_hh$temp1583=Xa(),t=_hh$temp1583.isCentralComposerEnabled; return t&&(!e||e==="biometric-consent")}function Bbe(){ const e=Yt(),t=W("feature-discovery"),n=fv({breakpoint:"h760"}),o=vt({breakpoint:"sm"}),s=M(gre),_hh$temp1584=__arrayFrom$(u.useState(!1)),a=_hh$temp1584[0],r=_hh$temp1584[1],c=x3(),d=Kt(),m=c&&d==="study",p=Nm(),h=(((((t&&s?.type==="banner")&&p)&&!n)&&!o)&&!a)&&!m,v=h?s:void 0,y=u.useCallback(()=>{s?.type==="banner"&&Vbe(s.id),r(!0);},[s]),C=u.useCallback(async S=>{r(!0),Ku(S,e==="/");},[e]); return{showFeatureDiscoveryBanner:h,bannerData:v,onDismiss:y,onBannerClick:C}}async function Vbe(e){try{const t=`/activations/banner/${e}/dismiss`;return(await vo(t,{options:{method:"POST"},analytics:{anonymousPath:t}})).ok}catch{return tt({feature:"featureDiscovery",scenario:"dismissFeatureDiscoveryBannerFailed",customData:JSON.stringify({eventInfo_widgetId:e})}),!1}}const N6={"56-default":"h-14","64-legacy":"h-16"},Hbe={100:"bg-background-100/95 dark:bg-background-100/90",150:"bg-background-150/95 dark:bg-background-150/90",200:"bg-background-200/95 dark:bg-background-200/90"},zbe={100:"dark:bg-background-100/90",150:"dark:bg-background-150/90",200:"dark:bg-background-200/90"};function kv(e){ const _hh$temp1585=e,t=_hh$temp1585.middle,n=_hh$temp1585.start,o=_hh$temp1585.end,s=_hh$temp1585.className,_hh$temp1585$sectionHeight=_hh$temp1585.sectionHeight,a=_hh$temp1585$sectionHeight===void 0?"56-default":_hh$temp1585$sectionHeight,_hh$temp1585$backgroundColor=_hh$temp1585.backgroundColor,r=_hh$temp1585$backgroundColor===void 0?"150":_hh$temp1585$backgroundColor,c=_hh$temp1585.backgroundDarkColor,d=_hh$temp1585.hideBackground,m=_hh$temp1585.showBottomBorder,p=_hh$temp1585.disableFadeInOut,h=_hh$temp1585.sectionClassName,v=_hh$temp1585.startClassName,y=_hh$temp1585.middleClassName,C=_hh$temp1585.endClassName,S=_hh$temp1585.secondaryStart,b=_hh$temp1585.secondaryMiddle,I=_hh$temp1585.secondaryEnd,x=_hh$temp1585.secondarySectionClassName,k=!vt({breakpoint:"md"}),w=!!n||!!t||!!o,_=!!S||!!b||!!I,N=w||_; return i.jsx(Dt,{className:O("pointer-events-none sticky top-0 w-full",at.stickyHeader),duration:p?0:eo.default,children:i.jsxs("div",{className:O("absolute flex w-full flex-col",m&&"border-b border-foreground-250/80 dark:border-foreground-250",s),"data-testid":"sticky-header",children:[i.jsx(Dt,{duration:k?0:eo.default,children:!d&&i.jsx("div",{className:O("pointer-events-auto absolute inset-0",!N&& __get$(N6,a) ,Co, __get$(Hbe,r) ,c&& __get$(zbe,c) )})}),w&&i.jsx(S2,{start:n,middle:t,end:o,height:a,sectionClassName:h,startClassName:v,middleClassName:y,endClassName:C}),_&&i.jsx(S2,{start:S,middle:b,end:I,height:a,sectionClassName:x,isSubtitleSection:!0})]})})}function S2(e){ const _hh$temp1586=e,t=_hh$temp1586.start,n=_hh$temp1586.middle,o=_hh$temp1586.end,_hh$temp1586$height=_hh$temp1586.height,s=_hh$temp1586$height===void 0?"64-legacy":_hh$temp1586$height,a=_hh$temp1586.isSubtitleSection,r=_hh$temp1586.sectionClassName,c=_hh$temp1586.startClassName,d=_hh$temp1586.middleClassName,m=_hh$temp1586.endClassName; return i.jsxs("section",{className:O("relative flex w-full gap-2 px-2.5",a?"pb-2.5":"py-2.5", __get$(N6,s) ,r),children:[i.jsx("div",{className:O("flex flex-1 items-center justify-start sm:gap-2",c),children:i.jsx("div",{className:"pointer-events-auto contents",children:t})}),n&&i.jsx("div",{className:O("flex items-center overflow-hidden sm:gap-2",d),children:i.jsx("div",{className:"pointer-events-auto contents",children:n})}),i.jsx("div",{className:O("flex flex-1 items-center justify-end sm:gap-2",m),children:i.jsx("div",{className:"pointer-events-auto contents",children:o})})]})}const Gbe=Fn(()=>D(()=>import( __get$ProxyUrl("./entry-button-MUl4Wvu6.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([648,1,649,7])),{moduleName:"entry-button",exportName:"TemporaryModeEntryButton",retryStrategy:bn});function Wbe(){const e=Nm();return i.jsx(Mm,{suppressBottomSection:!e,suppressBackgroundFade:e,_limitInputMaxHeight:e})}function $be(e){ const _hh$temp1587=e,t=_hh$temp1587.className,n=_hh$temp1587.conversationContainerClassName,o=_hh$temp1587.customLaunchGreeting,s=_hh$temp1587.customBottomDisclaimer,a=_hh$temp1587.disableHeaderActions,r=_hh$temp1587.postWelcomeContent; jbe(); const c=vt({breakpoint:"sm"}),d=Ks(),m=!ll(),_hh$temp1588=Ja(),p=_hh$temp1588.showShoppingCardInNewChat,_hh$temp1589=R6(),h=_hh$temp1589.shouldDisplay,v=!c,_hh$temp1590=Bbe(),y=_hh$temp1590.showFeatureDiscoveryBanner,C=_hh$temp1590.bannerData,S=_hh$temp1590.onDismiss,b=_hh$temp1590.onBannerClick,I=a?null:i.jsx(ao,{fallback:null,children:i.jsx(Gbe,{})}); return i.jsxs("div",{className:O("scrollbar-stable flex size-full flex-col items-center overflow-y-auto overflow-x-hidden overscroll-contain text-foreground-800 sm:min-w-secondary-panel-slim lg:min-w-secondary-panel",Z.instance().config().showScrollbarOnHover&&"scrollbar-container",t),"data-testid":"landing-page",children:[i.jsx(u.Suspense,{fallback:i.jsx("div",{"aria-hidden":!0}),children:i.jsx(kv,{hideBackground:h,end:I})}),i.jsx(wo.Motion,{circular:!1,tabbable:!0,initial:m?"start":!1,animate:"end",variants:{start:Be,end:{...ct,transition:{duration:.2,delay:.2}}},className:O(n,"grow",h&&c&&"flex flex-col","px-6"),layout:"position",transition:Jn,children:i.jsxs(u.Suspense,{fallback:i.jsx("div",{"aria-hidden":!0}),children:[i.jsx("div",{className:O("relative",d||!h?"pt-10":"pt-6","min-h-[60px]",!p&&"sm:min-h-[120px]")}),i.jsx(bt,{mode:"wait",initial:!1,children:i.jsx(Obe,{customLaunchGreeting:o,postContent:r})})]})}),y&&C&&i.jsx(Fbe,{className:"pointer-events-auto mb-20 flex justify-center",bannerData:C,onBannerClick:b,onDismiss:S}),v&&i.jsx(k6,{customBottomDisclaimer:s})]})}function qbe(e){ const _hh$temp1591=e,_hh$temp1591$composer=_hh$temp1591.composer,t=_hh$temp1591$composer===void 0?i.jsx(Wbe,{}):_hh$temp1591$composer,n=_hh$temp1591.className,_hh$temp1591$conversationContainerClassName=_hh$temp1591.conversationContainerClassName,o=_hh$temp1591$conversationContainerClassName===void 0?"mb-[var(--composer-container-height)]":_hh$temp1591$conversationContainerClassName,s=_hh$temp1591.customLaunchGreeting,a=_hh$temp1591.customBottomDisclaimer,r=_hh$temp1591.disableHeaderActions,c=_hh$temp1591.postWelcomeContent,d=Nm(),p=!Q0(),h=_v("app"); return i.jsxs(km,{className:"size-full overflow-hidden",children:[i.jsxs(Hd,{children:[i.jsx($be,{className:n,conversationContainerClassName:o,customLaunchGreeting:s,customBottomDisclaimer:a,disableHeaderActions:r,postWelcomeContent:c}),i.jsx(Rm,{})]}),p&&i.jsx("div",{ref:h,className:O("pointer-events-none absolute bottom-0 w-full",{"sm:bottom-1/2 sm:translate-y-1/2 sm:pt-36":d}),children:i.jsx("div",{className:O("mb-4 sm:mb-8",{"sm:mb-0":d}),children:t})})]})}const Kbe=xe("/")({component:()=>i.jsx(qbe,{}),beforeLoad:()=>({customLayout:!0})}),Ybe=xe("/imagine/")({head:e=>Fs(()=>{ const _hh$temp1592=e.match.context,t=_hh$temp1592.baseUrl,n=_hh$temp1592.canonical,o=_hh$temp1592.i18n,s=(o?.t("server.imagine.metadata.title")),a=(o?.t("server.imagine.metadata.description")),c=`${t}/static/cmc/images/imagine-meta-image.jpg`; return{meta:[...s?[{title:s}]:[],...a?[{name:"description",content:a}]:[],..._a({title:s,description:a,url:n,imageUrl:c,imageWidth:"1200",imageHeight:"630"}),...ka({title:s,description:a,card:"summary_large_image",image:c})]}})}),Zbe=xe("/tasks_/$conversationId")({beforeLoad:()=>({customLayout:!0})}),Jbe=()=>D(()=>import( __get$ProxyUrl("./shares._conversationId-pSZqSzoq.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([650,612,1])),Qbe=xe("/shares/$conversationId")({beforeLoad:()=>({customLayout:!0}),loader:j2(Jbe,"loader"),head:e=>Fs(()=>{ const _hh$temp1593=e,t=_hh$temp1593.match,n=_hh$temp1593.loaderData,o=_hh$temp1593.params,_hh$temp1594=t.context,s=_hh$temp1594.baseUrl,a=_hh$temp1594.i18n,_hh$temp1595=n??{},r=_hh$temp1595.title,_hh$temp1596=o,c=_hh$temp1596.conversationId,d=(a?.t("server.share.metadata.description")),m=`${s}/c/api/conversations/shares/${c}/preview`; return{meta:[...r?[{title:r},..._a({title:r,description:d,siteName:r,url:`${s}/shares/${c}`,imageUrl:m,imageWidth:"1200",imageHeight:"630"}),...ka({title:r,description:d,card:"summary_large_image",image:m})]:[]]}})}),Xbe=xe("/projects/$projectId")({beforeLoad:()=>({customLayout:!0})}),e2e=xe("/partners/feedback")({beforeLoad:()=>({standalonePage:!0})}),t2e=xe("/pages/$pageId")({beforeLoad:()=>({customLayout:!0})}),n2e=()=>D(()=>import( __get$ProxyUrl("./_galleryItemId-A2Xi8stb.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([651,652,1])),o2e=xe("/imagine/$galleryItemId")({loader:j2(n2e,"loader"),head:e=>Fs(()=>{ const _hh$temp1597=e.match.context,t=_hh$temp1597.baseUrl,n=_hh$temp1597.i18n,o=_hh$temp1597.canonical,s=(n?.t("server.imagine.metadata.title")),a="/static/cmc",_hh$temp1598=e.loaderData??{},_hh$temp1598$title=_hh$temp1598.title,r=_hh$temp1598$title===void 0?s:_hh$temp1598$title,_hh$temp1598$imageUrl=_hh$temp1598.imageUrl,c=_hh$temp1598$imageUrl===void 0?`${t}${a}/images/imagine-meta-image.jpg`:_hh$temp1598$imageUrl,d=(n?.t("server.imagine.metadata.description")); return{meta:[...s?[{title:s}]:[],...d?[{name:"description",content:d}]:[],..._a({title:r,description:d,url:o,imageUrl:c,imageWidth:"1200",imageHeight:"630"}),...ka({title:r,description:d,card:"summary_large_image",image:c})]}})});function s2e(){const e=new Map;function t( _hh$temp1599 ){ var n=_hh$temp1599.root,o=_hh$temp1599.rootMargin,s=_hh$temp1599.threshold; let a=e.get(n);a||(a=new Map,e.set(n,a));const r=JSON.stringify({rootMargin:o,threshold:s});let c=a.get(r);if(!c){const d=new Map;c={observer:new IntersectionObserver(p=>{p.forEach(h=>{d.get(h.target)?.(h)})},{root:n,rootMargin:o,threshold:s}),entryCallbacks:d},a.set(r,c)}return{observe:(d,m)=>{c.entryCallbacks.set(d,m),c.observer.observe(d)},unobserve:d=>{c.entryCallbacks.delete(d),c.observer.unobserve(d)}}}return{getObserver:t}}var a2e="0px",r2e=[0],i2e=s2e();function c2e(e){ const t=e?.rootMargin??a2e,n=e?.threshold??r2e,o=u.useRef(null),s=u.useRef(null),a=u.useRef(null),_hh$temp1600=__arrayFrom$(u.useState()),r=_hh$temp1600[0],c=_hh$temp1600[1],d=u.useCallback(()=>{function h(){const y=a.current,C=o.current;C&&((y?.unobserve(C)),c(void 0)),a.current=null;}function v(){const y=o.current;if(!y)return;const C=i2e.getObserver({root:s.current,rootMargin:t,threshold:n});C.observe(y,S=>{c(S);}),a.current=C;}h(),v();},[t,n]),m=u.useCallback(h=>(o.current=h,d(),()=>{o.current=null,d();}),[d]),p=u.useCallback(h=>(s.current=h,d(),()=>{s.current=null,d();}),[d]); return[m,{entry:r,rootRef:p}]}var l2e=c2e;function u2e(e){ const _hh$temp1601=e??{},t=_hh$temp1601.once,n=__rest$Object(_hh$temp1601,["once"]),_hh$temp1602=__arrayFrom$(l2e(n)),o=_hh$temp1602[0],s=_hh$temp1602[1],a=!!s.entry?.isIntersecting,_hh$temp1603=__arrayFrom$(u.useState(a)),r=_hh$temp1603[0],c=_hh$temp1603[1]; return t&&a&&!r&&c(!0),[o,{...s,isVisible:t?r:a}]}var d2e=u2e,m2e=100;function p2e( _hh$temp1604 ){ var e=_hh$temp1604.loading,t=_hh$temp1604.hasNextPage,n=_hh$temp1604.onLoadMore,o=_hh$temp1604.rootMargin,s=_hh$temp1604.disabled,_hh$temp1604$delayInMs=_hh$temp1604.delayInMs,a=_hh$temp1604$delayInMs===void 0?m2e:_hh$temp1604$delayInMs;  const r=u.useRef(n),_hh$temp1605=__arrayFrom$(d2e({rootMargin:o})),c=_hh$temp1605[0],_hh$temp1605$i1=_hh$temp1605[1],d=_hh$temp1605$i1.rootRef,m=_hh$temp1605$i1.isVisible; u.useEffect(()=>{r.current=n},[n]);const p=!s&&!e&&m&&t;return u.useEffect(()=>{if(p){const h=setTimeout(()=>{r.current()},a);return()=>{clearTimeout(h)}}},[p,a]),[c,{rootRef:d}]}var f2e=p2e;function L6(e){ const _hh$temp1606=e,t=_hh$temp1606.titleText,n=_hh$temp1606.subtitleText,o=_hh$temp1606.positiveButtonText,s=_hh$temp1606.negativeButtonText,a=_hh$temp1606.positiveButtonTitle,r=_hh$temp1606.negativeButtonTitle,c=_hh$temp1606.modalHeaderText,d=_hh$temp1606.onPositiveClick,m=_hh$temp1606.onNegativeClick,p=_hh$temp1606.isModalOpen,h=_hh$temp1606.onModalClose,v=_hh$temp1606.modalContent,_hh$temp1606$className=_hh$temp1606.className,y=_hh$temp1606$className===void 0?"":_hh$temp1606$className,_hh$temp1606$isDebugAudioRecorderEnabled=_hh$temp1606.isDebugAudioRecorderEnabled,C=_hh$temp1606$isDebugAudioRecorderEnabled===void 0?!1:_hh$temp1606$isDebugAudioRecorderEnabled; return i.jsxs("div",{className:y,children:[i.jsx("div",{className:"relative w-full pb-6 after:absolute after:mt-3 after:w-full after:border-b after:border-stroke-300"}),i.jsx("h2",{className:"mt-5 text-foreground-600 text-sm",children:i.jsx("strong",{children:t})}),i.jsx("p",{className:"mt-1 text-foreground-600 text-sm",children:n}),i.jsxs("div",{className:Je("mt-3.5 grid w-fit min-w-72 grid-rows-1 gap-2",C?"grid-cols-3":"grid-cols-2"),children:[i.jsxs(X,{onClick:d,title:a,variant:"rect",size:"36-sm",children:[i.jsx(Av,{className:"size-5"})," ",o]}),i.jsxs(X,{onClick:m,title:r,variant:"rect",size:"36-sm",children:[i.jsx(xv,{className:"size-5"})," ",s]}),C&&i.jsx(X,{onClick:async()=>{ const _hh$temp1607=await D(async ()=>{const _hh$temp1608=await Promise.resolve().then(()=>Pr),b=_hh$temp1608.AUDIO_RECORDER;return{AUDIO_RECORDER:b};},void 0),S=_hh$temp1607.AUDIO_RECORDER; await S.download()},title:"Download audio debug",variant:"rect",size:"36-sm",children:"Download audio debug"})]}),p&&i.jsx(Rs,{isOpen:!0,onClose:h,headerText:c,className:"w-full max-w-[400px]",children:v})]})}function h2e(e){ const _hh$temp1609=e,t=_hh$temp1609.className,n=M(Wd),_hh$temp1610=__arrayFrom$(Re(G1)),o=_hh$temp1610[0],s=_hh$temp1610[1],_hh$temp1611=__arrayFrom$(u.useState(!1)),a=_hh$temp1611[0],r=_hh$temp1611[1],_hh$temp1612=__arrayFrom$(u.useState()),c=_hh$temp1612[0],d=_hh$temp1612[1],m=W("ads-showroom-picasso-feedback"),_hh$temp1613=Y(),p=_hh$temp1613.t,h=I=>{nn({source:"feedback",scenario:__get$(v$,I),conversationId:o?.conversationId,additionalData:{brandId:o?.brandId,brandName:o?.brandName??""}});},v=()=>{r(!1),s(void 0);},y=async I=>{(o?.conversationId&&m)&&await Oh(o.conversationId,I,"showroomReaction");},C=()=>{h("thumbs-up"),d("thumbs-up"),n?.showroom?.positive?r(!0):v(),y("thumbs-up");},S=()=>{h("thumbs-down"),d("thumbs-down"),n?.showroom?.negative?r(!0):v(),y("thumbs-down");},b=async (I,x)=>{v(),o&&R.trackEvent({name:"interaction",data:{eventName:"copilotSubmitFineConversationFeedback",eventInfo_fineFeedbackTypes:Array.from(I).join(","),eventInfo_conversationId:o.conversationId,eventInfo_additionalData:JSON.stringify({brandId:o.brandId,brandName:o.brandName,reactionType:c,showroomMessageId:o.messageId})}}),(o?.conversationId&&I.size>0)&&m6(o.conversationId,I,x);}; return i.jsx(L6,{titleText:p("ads.showroomFeedbackTitle",{brand:o?.brandName}),subtitleText:p("ads.showroomFeedbackDescription"),positiveButtonText:p("ads.showroomFeedbackPositive"),negativeButtonText:p("ads.showroomFeedbackNegative"),positiveButtonTitle:p("reviewPrompt.positive"),negativeButtonTitle:p("reviewPrompt.negative"),modalHeaderText:p("ads.showroomFeedbackModalTitle"),onPositiveClick:C,onNegativeClick:S,isModalOpen:a,onModalClose:v,modalContent:i.jsx(wv,{onSubmit:b,feedbackOptions:c==="thumbs-up"?n?.showroom?.positive??void 0:n?.showroom?.negative}),className:t,isDebugAudioRecorderEnabled:!1})}function g2e( _hh$temp1614 ){ var e=_hh$temp1614.onGenerateSummary;  const _hh$temp1615=Y(),t=_hh$temp1615.t; u.useEffect(()=>{es.trackSummaryButtonImpression()},[]);const n=()=>{es.trackSummaryButtonClick(),e()};return i.jsx(X,{title:t("voice.feedback.generateSummary"),onClick:n,variant:"rect",size:"36-sm",className:"w-full",children:t("voice.feedback.generateSummary")})}const v2e=3e3;function y2e( _hh$temp1616 ){ var e=_hh$temp1616.className,_hh$temp1616$feedbackType=_hh$temp1616.feedbackType,t=_hh$temp1616$feedbackType===void 0?"voice":_hh$temp1616$feedbackType;  const n=M(Wd),_hh$temp1617=hte(),o=_hh$temp1617.isAudioSummaryAvailable,s=_hh$temp1617.handleGenerateSummary,_hh$temp1618=Tv({feedbackType:t}),a=_hh$temp1618.sendPositiveFeedback,r=_hh$temp1618.sendNegativeFeedback,c=_hh$temp1618.sendFeedbackOptions,d=_hh$temp1618.handleReviewRequestShown,m=_hh$temp1618.handleReviewRequestSubmitted,p=q(Ur),h=M(jr),v=M(MT),y=M(Yc),C=q(Ct),_hh$temp1619=__arrayFrom$(u.useState()),S=_hh$temp1619[0],b=_hh$temp1619[1],x=W("voice-upload-diagnostic-audio")&&!1,E=u0(),_hh$temp1620=Y(),k=_hh$temp1620.t; k("edgeVision.verboseFeedback"),k("edgeVision.doesnotWorkVisitedPageFeedback"),k("edgeVision.stopRespondingFeedback"),k("edgeVision.irrelevantAnswersFeedback"),k("edgeVision.poorAudioQualityFeedback"),k("edgeVision.otherFeedback"); const w=()=>t==="vision"?{title:k("vision.feedbackTitle"),subtitle:k("vision.feedbackSubtitle"),options:n?.vision}:E?{title:k("voice.feedback.howWasAppearanceChat"),subtitle:k("voice.feedback.giveFeedback"),options:n?.appearance}:{title:k("voice.feedback.howWasVoiceChat"),subtitle:k("voice.feedback.giveFeedback"),options:n?.call},_hh$temp1621=w(),_=_hh$temp1621.title,N=_hh$temp1621.subtitle,L=_hh$temp1621.options,B=u.useRef(!1),K=M(Ur)===t; u.useEffect(()=>{!K||B.current||y||(Qn({msg:`${_} ${N}`,type:"assertive"}),B.current=!0)},[K,y,k,_,N]);const G=()=>{a(),p(void 0),C({title:k("chat.feedback.postSubmitHeader"),subtitle:k("chat.feedback.postSubmitDescription"),dismissable:!1,dismissAfter:v2e})},te=()=>{r(),b("feedback-options")},ne=()=>{if(S==="feedback-options"&&!h&&!v){b("review-request"),d();return}b(null),p(void 0)},ae=async(Ee,Ae)=>{c(Ee,Ae),ne()},Te=async Ee=>{m(Ee),ne()},he=()=>S==="feedback-options"?i.jsx(wv,{onSubmit:ae,feedbackOptions:L}):S==="review-request"?i.jsx(d6,{onSubmit:Te}):null;return i.jsxs("div",{className:e,children:[o&&t==="voice"&&i.jsx(g2e,{onGenerateSummary:s}),i.jsx(L6,{titleText:_,subtitleText:N,positiveButtonText:k("voice.feedback.good"),negativeButtonText:k("voice.feedback.bad"),positiveButtonTitle:k("reviewPrompt.positive"),negativeButtonTitle:k("reviewPrompt.negative"),modalHeaderText:k(S==="feedback-options"?"voice.feedback.chooseWhatHappened":"voice.feedback.canMicrosoftReview"),onPositiveClick:G,onNegativeClick:te,isModalOpen:!!S,onModalClose:ne,modalContent:he(),isDebugAudioRecorderEnabled:x})]})}function C2e( _hh$temp1622 ){ var e=_hh$temp1622.className;  const _hh$temp1623=Y(),t=_hh$temp1623.t; return i.jsxs("div",{className:O("flex items-center gap-2",e),children:[i.jsx(At,{type:"reasoning",className:"size-11"}),i.jsxs("div",{className:"flex flex-col text-sm",children:[i.jsx("span",{children:t("chat.reasoningLoading.title")}),i.jsx("span",{className:"text-foreground-450 dark:text-foreground-600",children:t("chat.reasoningLoading.description")})]})]})}function S2e(){return i.jsx("div",{className:"animate-thinking-polygon h-12 w-[max(7rem,50%)] bg-accent-350 blur-md dark:bg-accent-550"})}function b2e(e){ const _hh$temp1624=e,t=_hh$temp1624.isActive,n=_hh$temp1624.animationDuration,o=_hh$temp1624.children,s=_hh$temp1624.className,a=__rest$Object(_hh$temp1624,["isActive","animationDuration","children","className"]); return i.jsx("div",{className:O(t&&"animate-shimmer-text bg-gradient-to-r from-foreground-800 from-[calc(50%-64px)] via-foreground-250 via-50% to-foreground-800 to-[calc(50%+64px)] bg-[size:400%_100%] bg-clip-text text-transparent rtl:animate-shimmer-text-reverse",s),style:{...t&&n&&{animationDuration:n}},...a,children:o})}function I2e(e){ const _hh$temp1625=e,t=_hh$temp1625.title,n=_hh$temp1625.className,_hh$temp1625$isActive=_hh$temp1625.isActive,o=_hh$temp1625$isActive===void 0?!0:_hh$temp1625$isActive,_hh$temp1626=Y(),s=_hh$temp1626.t,a=s("chat.reasoningLoading.title"),r=t&&t.trim()!==""?t:a; return i.jsx("div",{className:O("my-0.5 w-max text-base-dense",n),children:i.jsx(b2e,{isActive:o,children:r})})}const T8e="rounded-2xl px-4 py-3 text-foreground-600 -outline-offset-2 squircle-16 focus-visible:text-foreground-800 safe-hover:text-foreground-800 dark:text-foreground-700 dark:focus-visible:text-foreground-800 dark:safe-hover:text-foreground-800";function E2e(e){ const _hh$temp1627=e,t=_hh$temp1627.className,n=_hh$temp1627.children,_hh$temp1627$isActive=_hh$temp1627.isActive,o=_hh$temp1627$isActive===void 0?!0:_hh$temp1627$isActive,s=_hh$temp1627.title; return i.jsx(Z1,{className:O("mb-6 w-max max-w-[80%] px-4 py-2.5",t),background:"transparent",size:"xs",stroke:!0,initial:Be,animate:ct,strokeChildren:o?i.jsx("div",{className:"absolute inset-0 rtl:-scale-x-100",children:i.jsx(S2e,{})}):void 0,children:n??i.jsx(I2e,{title:s,isActive:o})})}function D6(e){ const _hh$temp1628=e,t=_hh$temp1628.loadingType; switch(t){case"spinner":return i.jsx(At,{type:"spinnerThemed",className:"absolute -ms-2.5 -mt-2 size-11"});case"thinking-card":return i.jsx(E2e,{});case"reasoning-chat":return i.jsx(C2e,{className:"absolute -ms-2.5 -mt-2 w-max"});default:return null}}const w2e=P(e=>{const t=e(Hs);if(t.length===0)return!1;const n= __get$(t,t.length-1) ;return n?.author==="ai"&&n.content.some(o=>o.type==="activity"&&o.activity.status==="running")});function O6(){const e=Kt(),t=M(w2e),n=W("think-deeper-cot"),o=M(Hs),s=u.useMemo(()=>{const a=o.at(-1);return!a||a.author!=="ai"?!1:a.content.some(r=>r.type==="chainOfThought")},[o]);switch(e){case"chat":case"computerUse":case"study":case"research":case"search":case"browserAction":return t?null:"spinner";case"analyst":case"reasoning":return n?"thinking-card":"reasoning-chat";case"smart":case"smart-latest":return s?null:"spinner";case"coco":return"thinking-card";case"researcher":return"thinking-card";default:return null}}function U6(e){ const _hh$temp1629=e,t=_hh$temp1629.delay,n=_hh$temp1629.className,_hh$temp1630=Y(),o=_hh$temp1630.t,s=u.useId(),a=Kt(),r=O6(); return r?i.jsxs(Ce.div,{"aria-hidden":!0,className:O("relative",n),initial:"start",animate:"end",variants:{start:{...Be},end:{...ct,transition:{delay:t}}},children:[i.jsx(po,{id:s,timeout:3e3,msg:o(a==="reasoning"?"chat.reasoning":"chat.loading"),type:"polite"}),i.jsx(D6,{loadingType:r})]}):null}const T2e=u.lazy(()=>D(()=>import( __get$ProxyUrl("./index.es-dK06k4Ie.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([443,1]))),x2e=I_();function A2e( _hh$temp1631 ){ var e=_hh$temp1631.onAnimationClicked;  const t=u.useRef(null),_hh$temp1632=Y(),n=_hh$temp1632.t,_hh$temp1633=__arrayFrom$(u.useState(null)),o=_hh$temp1633[0],s=_hh$temp1633[1]; u.useEffect(()=>{x2e.load("../../assets/lottie/character-thinking-cloud-animation.json").then(s).catch(()=>s(null))},[]),u.useEffect(()=>{const c=t.current;return c&&o&&c.playSegments([0,67],!0),()=>{c&&o&&c.playSegments([350,370],!0)}},[o]);const a=()=>{t.current?.playSegments([320,345],!0),t.current?.pause(),e(),document.getElementById(Kr)?.focus()},r=c=>{c.key==="Enter"&&a()};return i.jsx("div",{children:i.jsx(u.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(T2e,{lottieRef:t,role:"button",tabIndex:0,"aria-label":n("characterAnimation.characterThinkingCloudAriaLabelText"),title:n("characterAnimation.characterThinkingCloudAriaLabelText"),animationData:o,loop:!1,onMouseDown:a,onMouseEnter:()=>t.current?.playSegments([275,295],!0),onMouseLeave:()=>t.current?.playSegments([296,315],!0),onKeyDown:r,onComplete:()=>t.current?.playSegments([68,274],!0)})})})}const _2e="/static/cmc/assets/copilot_keyboard_aqua-DknzdRcZ.webp",k2e="/static/cmc/assets/copilot_keyboard_erin-Bbvp4684.webp",P2e="/static/cmc/assets/copilot_keyboard_mica-D_zD8c6M.webp",M2e=15e3,R2e="w-[430px]";function N2e(e){switch(e){case"aqua":return _2e;case"erin":return k2e;case"mica":default:return P2e}}const L2e=e=>{ const t=u.useRef(!1),_hh$temp1634=__arrayFrom$(u.useState(!1)),n=_hh$temp1634[0],o=_hh$temp1634[1],_hh$temp1635=Y(),s=_hh$temp1635.t,a=q(Ct),r=ri(),c=W("jp-characters-deprecation-toast"),d=W("jp-characters-post-deprecation-toast"),m=M(Jc),p=M(Ex),h=u.useMemo(()=>{function v(_hh$temp1636){var y=_hh$temp1636.className;const C=N2e(m);return i.jsx("img",{src:C,alt:"","aria-hidden":"true",className:y??"size-16 rounded-lg object-cover"});}return v;},[m]); return u.useEffect(()=>{const v=r&&!p&&(c||d)&&m;v||(t.current=!1),a(v?{className:R2e,title:(()=>{if(d)switch(m){case"mica":return s("settings.charactersPostDeprecationToastMicaTitle");case"aqua":return s("settings.charactersPostDeprecationToastAquaTitle");case"erin":return s("settings.charactersPostDeprecationToastErinTitle");default:return s("settings.charactersDeprecationToastTitle")}return s("settings.charactersDeprecationToastTitle")})(),subtitle:s("settings.charactersDeprecationToastSubtitle"),Icon:h,iconClassName:"rounded-lg object-cover",action:()=>{o(!0),fe({pageName:e,source:"charactersDeprecationToast",scenario:"open"})},onDismiss:()=>{fe({pageName:e,source:"charactersDeprecationToast",scenario:"dismiss"})},dismissAfter:M2e,removeIconBorder:!0,contentClassName:"w-auto"}:null),v&&!t.current&&(t.current=!0,_t({page:e,scenario:"displayed",element:"charactersDeprecationToast"}))},[h,p,c,d,r,e,m,a,s]),u.useEffect(()=>()=>{a(null)},[a]),{isModalOpen:n,setIsModalOpen:o}},b2=1,D2e=u.lazy(()=>D(()=>import( __get$ProxyUrl("./character-CiEsLcwC.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([528,1,529,7])).then(e=>({default:e.Character}))),O2e=u.lazy(()=>D(()=>import( __get$ProxyUrl("./character-deprecation-modal-BONNtlKz.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([653,1,7])).then(e=>({default:e.CharacterDeprecationModal})));function U2e( _hh$temp1637 ){ var e=_hh$temp1637.animatingMessageId,t=_hh$temp1637.isStreamingMessage,n=_hh$temp1637.displayedCharacterId,o=_hh$temp1637.setCharacterComponentHeight;  const s=W("characterspeech"),_hh$temp1638=__arrayFrom$(u.useState(0)),a=_hh$temp1638[0],r=_hh$temp1638[1],_hh$temp1639=__arrayFrom$(u.useState(!1)),c=_hh$temp1639[0],d=_hh$temp1639[1],_hh$temp1640=__arrayFrom$(Re(ha)),m=_hh$temp1640[0],p=_hh$temp1640[1],h=M(Hs),v=hs(),_hh$temp1641=L2e("chat"),y=_hh$temp1641.isModalOpen,C=_hh$temp1641.setIsModalOpen,S=()=>{r(0),d(!1);}; u.useEffect(()=>{let x;return s&&m==="idle"&&(x=setInterval(()=>{r(E=>E<b2?E+1:E),h.length>0&&a===b2&&!t&&(d(!0),R.trackEvent({name:"system",data:{eventName:"characterTalkToMeDisplayed",eventInfo_conversationId:j(Se),eventInfo_characterId:n}}))},1e3)),()=>clearInterval(x)},[m,n,h.length,s,a,t]),u.useEffect(()=>{s&&m!=="idle"&&m!=="hovering"&&S()},[m,s]);const b=async()=>{S(),p("responding"),await Mo.submitMessage({command:{type:"promptCharacterSpeech"},inputMethod:"promptCharacterSpeech",connectionType:v?"temporary":"regular"}),R.trackEvent({name:"interaction",data:{eventName:"characterTalkToMeClicked",eventInfo_conversationId:j(Se),eventInfo_characterId:n}})};function I(){switch(n){case"aqua":return"translate-x-9";case"mica":return"translate-x-14";case"erin":return"translate-x-16";default:throw new Error("Invalid characterId provided to getTranslateXClass")}}return i.jsxs(pg,{fallback:i.jsx(z0,{}),onError:N$(e,n),children:[i.jsx(u.Suspense,{fallback:null,children:i.jsx(O2e,{isOpen:y,onClose:()=>C(!1),page:"chat"})}),i.jsxs("div",{"data-testid":"character-div",className:O("absolute size-full bg-gradient-chat-light-character dark:bg-background-150 dark:bg-none",at.babylonCharacter),style:{maskImage:"linear-gradient(to bottom, #000 95%, transparent 100%)"},children:[i.jsx(bt,{children:c&&i.jsx(Ce.div,{className:O("absolute start-1/2 top-12 size-36",I()),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:i.jsx(A2e,{onAnimationClicked:b})})}),i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"flex h-full items-center justify-center",children:i.jsx(At,{type:"spinnerThemed",className:"size-12"})}),children:i.jsx(D2e,{characterId:n,setCharacterComponentHeight:o})})]})]})}function F2e(e){ const _hh$temp1642=e,t=_hh$temp1642.data; switch(t.type){case"character":return i.jsx(U2e,{animatingMessageId:t.data.animatingMessageId,isStreamingMessage:t.data.isStreaming,displayedCharacterId:t.data.characterId});default:return null}}function j2e(e){ const _hh$temp1643=e,t=_hh$temp1643.data,_hh$temp1644=Y(),n=_hh$temp1644.t,_hh$temp1645=t,_hh$temp1645$hideCloseButton=_hh$temp1645.hideCloseButton,o=_hh$temp1645$hideCloseButton===void 0?!1:_hh$temp1645$hideCloseButton,s=u.useRef(null); u.useEffect(()=>{const r=document.getElementById("app");if(!r||!s.current)return;const c=new ResizeObserver(d=>{const m=d[0];m&&r.style.setProperty("--chat-top-docked-height",`${m.contentRect.height}px`)});return c.observe(s.current),()=>{c.disconnect(),r.style.removeProperty("--chat-top-docked-height")}},[]);const a=()=>{t0(null)};return i.jsxs("div",{ref:s,className:O("sticky top-0 h-2/5 min-h-[40vh] w-full",at.chatTopDockedContainer),children:[!o&&i.jsx(X,{title:n("common.closeText"),color:"acrylic",size:"36-sm",variant:"square",onClick:a,tooltip:!0,className:"absolute end-4 top-4 z-50",children:i.jsx(sn,{className:"size-5"})}),i.jsx(F2e,{data:t})]})}function B2e(){const e=vt({breakpoint:"md"}),t=Ks(),n=M(Lo);return t&&n&&!e}function V2e(){const e=vt({breakpoint:"lg"}),t=vt({breakpoint:"xl"}),n=vt({breakpoint:"2xl"}),o=B2e(),a=!!EQ();return e||o&&t||a&&n}const F6=u.createContext({chatRef:{current:null},showStickyHeader:!1,isTopDockedVisible:!1});function H2e(){return u.useContext(F6)}const j6=u.forwardRef((e,t)=>{ const _hh$temp1646=e,n=_hh$temp1646.children,o=_hh$temp1646.stickyHeaderProps,_hh$temp1646$focusable=_hh$temp1646.focusable,s=_hh$temp1646$focusable===void 0?!1:_hh$temp1646$focusable,a=_hh$temp1646.topDockedData,_hh$temp1646$showChatInMediaViewer=_hh$temp1646.showChatInMediaViewer,r=_hh$temp1646$showChatInMediaViewer===void 0?!1:_hh$temp1646$showChatInMediaViewer,_hh$temp1647=xo(),c=_hh$temp1647.isMediaViewerOpen,d=u.useRef(null); u.useImperativeHandle(t,()=>({focus:()=>{d.current?.focus()}}),[]);const m=a!=null,p=m&&!a.hideCloseButton,C={...{hideBackground:!V2e()},...o,...p?{start:void 0,end:void 0,hideBackground:!0}:{}},S=o!==void 0,b=u.useMemo(()=>({chatRef:d,showStickyHeader:S,isTopDockedVisible:m}),[S,m]);return i.jsx(F6.Provider,{value:b,children:i.jsxs("div",{className:O("@container/chat","flex h-full max-h-dvh w-full flex-col items-center text-foreground-800 sm:min-w-secondary-panel-slim lg:min-w-secondary-panel","overflow-y-auto overflow-x-hidden","scrollbar-stable t-custom-scrollbar",Z.instance().config().showScrollbarOnHover&&"scrollbar-container",c&&!r&&"invisible"),ref:d,tabIndex:s?-1:void 0,"data-testid":"chat-page",children:[S&&i.jsx(kv,{...C}),a&&i.jsx(j2e,{data:a}),n]})})});j6.displayName="ChatContainer";function I2(e){const t=Ro(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function sf(e,t){const n=Wu(e),o=Wu(t),s=+n-I2(n),a=+o-I2(o);return Math.round((s-a)/Pie)}function z2e(e){return di(e,Cc(C0(e),1))}let G2e={};function W2e(){return G2e}function $2e(e,t){const n=W2e(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=Ro(e),a=s.getDay(),r=(a<o?7:0)+a-o;return s.setDate(s.getDate()-r),s.setHours(0,0,0,0),s}function q2e(e,t){const n=t*7;return Nc(e,n)}function K2e(e,t){return q2e(e,-1)}function Y2e(e,t,n){const o=sf(e,t),s=$2e(t,{weekStartsOn:1}),a=sf(s,t),r=sf(Cc(s,7),t),c=gn(e,"EEEE"),d=n(`dates.weekdays.${c.toLowerCase()}`),m=n(`dates.months.${gn(e,"MMMM").toLowerCase()}Abbr`),p=gn(e,"d"),h=n("dates.dayMonthDate",{day:d,month:m,date:p});return o>=1?h:o>=0?n("dates.today"):o>=-1?n("dates.yesterday"):o>=a?d:o>=r?n("dates.previousDay",{day:d}):h}function Z2e(e,t){return Y2e(e,new Date,t)}function x8e(e,t){const n=new Date(e),o=new Date,s=S0(n),a=z2e(n),r=K2e(o);let c;return s?c=gn(n,"h:mm a"):a?c=t("dates.yesterday"):n>=r?c=gn(n,"eeee"):c=gn(n,"MM/dd"),c}function A8e(e){const t=Math.max(0,e),n=Math.floor(t/60),o=t%60;return`${n}:${o<10?"0":""}${o}`}function J2e(e){ const _hh$temp1648=e,t=_hh$temp1648.date,n=_hh$temp1648.className,o=_hh$temp1648.labelOverride,_hh$temp1649=Y(),s=_hh$temp1649.t; return i.jsxs("div",{className:Je("flex items-center",n),children:[i.jsx("span",{className:"opacity-70 text-sm-strong","data-testid":"date-divider",children:o??Z2e(t,s)}),i.jsx(Uo,{verticalMargin:!1,color:"accent",className:"mt-px grow"})]})}function Q2e(e){ const _hh$temp1650=e,t=_hh$temp1650.content; return i.jsx("div",{className:"text-center text-foreground-450 text-sm dark:text-foreground-600",children:t})}const B6= _hh$temp1651=>{var e=_hh$temp1651.title,t=_hh$temp1651.titleId,n=__rest$Object(_hh$temp1651,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M17.5004 12.0003C20.5379 12.0003 23.0004 14.4627 23.0004 17.5003C23.0004 20.5378 20.5379 23.0003 17.5004 23.0003C14.4628 23.0003 12.0004 20.5378 12.0004 17.5003C12.0004 14.4627 14.4628 12.0003 17.5004 12.0003ZM12.0226 13.9996C11.7259 14.4629 11.4864 14.9663 11.314 15.4999L4.25278 15.5002C3.83919 15.5002 3.50391 15.8355 3.50391 16.2491V16.8267C3.50391 17.3624 3.69502 17.8805 4.04287 18.2878C5.29618 19.7555 7.26206 20.5013 10.0004 20.5013C10.5968 20.5013 11.1567 20.4659 11.6806 20.3954C11.9258 20.8903 12.2333 21.3489 12.5921 21.7618C11.7966 21.922 10.9317 22.0013 10.0004 22.0013C6.8545 22.0013 4.46849 21.0962 2.90219 19.2619C2.32242 18.583 2.00391 17.7195 2.00391 16.8267V16.2491C2.00391 15.007 3.01076 14.0002 4.25278 14.0002L12.0226 13.9996ZM17.5004 14.0002L17.4105 14.0083C17.2064 14.0453 17.0455 14.2063 17.0084 14.4104L17.0004 14.5002L16.9994 17.0003H14.5043L14.4144 17.0083C14.2103 17.0454 14.0494 17.2063 14.0123 17.4104L14.0043 17.5003L14.0123 17.5901C14.0494 17.7942 14.2103 17.9552 14.4144 17.9922L14.5043 18.0003H16.9994L17.0004 20.5002L17.0084 20.5901C17.0455 20.7942 17.2064 20.9551 17.4105 20.9922L17.5004 21.0002L17.5902 20.9922C17.7943 20.9551 17.9553 20.7942 17.9923 20.5901L18.0004 20.5002L17.9994 18.0003H20.5043L20.5941 17.9922C20.7982 17.9552 20.9592 17.7942 20.9962 17.5901L21.0043 17.5003L20.9962 17.4104C20.9592 17.2063 20.7982 17.0454 20.5941 17.0083L20.5043 17.0003H17.9994L18.0004 14.5002L17.9923 14.4104C17.9553 14.2063 17.7943 14.0453 17.5902 14.0083L17.5004 14.0002ZM10.0004 2.00488C12.7618 2.00488 15.0004 4.24346 15.0004 7.00488C15.0004 9.76631 12.7618 12.0049 10.0004 12.0049C7.23894 12.0049 5.00036 9.76631 5.00036 7.00488C5.00036 4.24346 7.23894 2.00488 10.0004 2.00488ZM10.0004 3.50488C8.06737 3.50488 6.50036 5.07189 6.50036 7.00488C6.50036 8.93788 8.06737 10.5049 10.0004 10.5049C11.9334 10.5049 13.5004 8.93788 13.5004 7.00488C13.5004 5.07189 11.9334 3.50488 10.0004 3.50488Z",fill:"currentColor"}));} ,_8e=Object.freeze(Object.defineProperty({__proto__:null,default:B6},Symbol.toStringTag,{value:"Module"})),V6= _hh$temp1652=>{var e=_hh$temp1652.title,t=_hh$temp1652.titleId,n=__rest$Object(_hh$temp1652,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M17.5004 12.0003C20.5379 12.0003 23.0004 14.4627 23.0004 17.5003C23.0004 20.5378 20.5379 23.0003 17.5004 23.0003C14.4628 23.0003 12.0004 20.5378 12.0004 17.5003C12.0004 14.4627 14.4628 12.0003 17.5004 12.0003ZM12.0226 13.9996C11.7259 14.4629 11.4864 14.9663 11.314 15.4999L4.25391 15.5002C3.83969 15.5002 3.50391 15.836 3.50391 16.2502V17.1575C3.50391 17.8132 3.7899 18.4362 4.28707 18.8636C5.54516 19.9453 7.44117 20.5013 10.0004 20.5013C10.5992 20.5013 11.1618 20.4709 11.6885 20.4104C11.9374 20.9105 12.2512 21.3743 12.6175 21.7908C11.8153 21.9315 10.9423 22.0013 10.0004 22.0013C7.11087 22.0013 4.87205 21.3447 3.30918 20.001C2.48056 19.2887 2.00391 18.2503 2.00391 17.1575V16.2502C2.00391 15.0075 3.01127 14.0002 4.25391 14.0002L12.0226 13.9996ZM16.7196 14.5889L16.6503 14.6467L14.1347 17.163L14.0941 17.2137L14.0594 17.2711L14.0272 17.3491L14.0156 17.3923L14.0044 17.4787L14.0082 17.5661L14.0271 17.6513L14.0591 17.729L14.0837 17.7714L14.1346 17.8374L16.6503 20.3538C16.8456 20.5491 17.1622 20.5491 17.3574 20.3538C17.531 20.1802 17.5503 19.9108 17.4153 19.716L17.3574 19.6467L15.7114 18.0003H20.5004C20.7458 18.0003 20.95 17.8234 20.9923 17.5901L21.0004 17.5003C21.0004 17.2548 20.8235 17.0507 20.5902 17.0083L20.5004 17.0003H15.7114L17.3574 15.3538C17.531 15.1802 17.5503 14.9108 17.4153 14.716L17.3574 14.6467C17.1839 14.4731 16.9145 14.4539 16.7196 14.5889ZM10.0004 2.00488C12.7618 2.00488 15.0004 4.24346 15.0004 7.00488C15.0004 9.76631 12.7618 12.0049 10.0004 12.0049C7.23894 12.0049 5.00036 9.76631 5.00036 7.00488C5.00036 4.24346 7.23894 2.00488 10.0004 2.00488ZM10.0004 3.50488C8.06737 3.50488 6.50036 5.07189 6.50036 7.00488C6.50036 8.93788 8.06737 10.5049 10.0004 10.5049C11.9334 10.5049 13.5004 8.93788 13.5004 7.00488C13.5004 5.07189 11.9334 3.50488 10.0004 3.50488Z"}));} ,k8e=Object.freeze(Object.defineProperty({__proto__:null,default:V6},Symbol.toStringTag,{value:"Module"})),H6= _hh$temp1653=>{var e=_hh$temp1653.title,t=_hh$temp1653.titleId,n=__rest$Object(_hh$temp1653,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M17.5004 12.0003C20.5379 12.0003 23.0004 14.4627 23.0004 17.5003C23.0004 20.5378 20.5379 23.0003 17.5004 23.0003C14.4628 23.0003 12.0004 20.5378 12.0004 17.5003C12.0004 14.4627 14.4628 12.0003 17.5004 12.0003ZM12.0226 13.9996C11.7259 14.4629 11.4864 14.9663 11.314 15.4999L4.25391 15.5002C3.83969 15.5002 3.50391 15.836 3.50391 16.2502V17.1575C3.50391 17.8132 3.7899 18.4362 4.28707 18.8636C5.54516 19.9453 7.44117 20.5013 10.0004 20.5013C10.5992 20.5013 11.1618 20.4709 11.6885 20.4104C11.9374 20.9105 12.2512 21.3743 12.6175 21.7908C11.8153 21.9315 10.9423 22.0013 10.0004 22.0013C7.11087 22.0013 4.87205 21.3447 3.30918 20.001C2.48056 19.2887 2.00391 18.2503 2.00391 17.1575V16.2502C2.00391 15.0075 3.01127 14.0002 4.25391 14.0002L12.0226 13.9996ZM15.0934 14.9665L15.0242 15.0244L14.9663 15.0936C14.8482 15.2642 14.8482 15.4917 14.9663 15.6623L15.0242 15.7315L16.7937 17.5009L15.0268 19.2677L14.9689 19.337C14.8508 19.5075 14.8508 19.7351 14.9689 19.9056L15.0268 19.9749L15.096 20.0327C15.2665 20.1508 15.4941 20.1508 15.6646 20.0327L15.7339 19.9749L17.5007 18.2079L19.2698 19.9771L19.339 20.035C19.5095 20.1531 19.7371 20.1531 19.9076 20.035L19.9769 19.9771L20.0347 19.9079C20.1528 19.7373 20.1528 19.5097 20.0347 19.3392L19.9769 19.27L18.2077 17.5009L19.9796 15.7316L20.0375 15.6623C20.1556 15.4918 20.1556 15.2642 20.0375 15.0937L19.9796 15.0244L19.9104 14.9666C19.7399 14.8485 19.5123 14.8485 19.3418 14.9666L19.2725 15.0244L17.5007 16.794L15.7313 15.0244L15.662 14.9665C15.5159 14.8653 15.3278 14.8508 15.1696 14.9231L15.0934 14.9665ZM10.0004 2.00488C12.7618 2.00488 15.0004 4.24346 15.0004 7.00488C15.0004 9.76631 12.7618 12.0049 10.0004 12.0049C7.23894 12.0049 5.00036 9.76631 5.00036 7.00488C5.00036 4.24346 7.23894 2.00488 10.0004 2.00488ZM10.0004 3.50488C8.06737 3.50488 6.50036 5.07189 6.50036 7.00488C6.50036 8.93788 8.06737 10.5049 10.0004 10.5049C11.9334 10.5049 13.5004 8.93788 13.5004 7.00488C13.5004 5.07189 11.9334 3.50488 10.0004 3.50488Z",fill:"currentColor"}));} ,P8e=Object.freeze(Object.defineProperty({__proto__:null,default:H6},Symbol.toStringTag,{value:"Module"}));function z6(){return O(ed("pageContainer")??"px-6","mx-auto w-full max-w-chat")}function X2e(e){switch(e){case"joined":return B6;case"left":return V6;case"kicked":return H6;default:return null}}function eIe( _hh$temp1654 ){ var e=_hh$temp1654.message;  const _hh$temp1655=e,t=_hh$temp1655.participant,n=_hh$temp1655.updateType,o=z6(),s=X2e(n),_hh$temp1656=Y(),a=_hh$temp1656.t,r=u.useMemo(()=>{switch(n){case"joined":return a("share.invite.participantJoined",{name:t.userDisplayName});case"left":return a("share.invite.participantLeft",{name:t.userDisplayName});case"kicked":return a("share.invite.participantKicked",{name:t.userDisplayName});default:return null;}},[n,t.userDisplayName,a]); return i.jsx("div",{className:O(p3,o),children:i.jsxs("div",{className:"flex gap-2 text-foreground-550 text-sm",children:[s&&i.jsx(s,{className:"size-4 shrink-0"}),r]})})}const tIe=["thumbsup","thumbsdown","report","share","copy","add-to-pages","regenerate","research-export","references","read-aloud"],M8e=[...tIe],nIe=[],R8e=["thumbsup","thumbsdown","report","copy","regenerate","references","read-aloud"],E2=Fn(()=>D(()=>import( __get$ProxyUrl("./ai-message-DWP8cQa4.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([654,1,655,447,455,484,593,594,595,596,597,598,599,600,601,7,602,603,604,580,656,450,657,658,659,660,637,605,661,662,663,664,665,666,667,668,669,670,545,671,672,544,673,498,499,674,675,676,677,678,679,680,681])),{moduleName:"ai-message",retryStrategy:bn,throwError:!0});function oIe(e){ const _hh$temp1657=e,t=_hh$temp1657.message,n=_hh$temp1657.animatingMessageIds,o=_hh$temp1657.conversationId,s=_hh$temp1657.sideBySideComparisonId,a=_hh$temp1657.isStreamingComplete,r=_hh$temp1657.shouldAnimate,c=_hh$temp1657.reactionsToAllow,d=_hh$temp1657.isLastMessage,_hh$temp1658=Y(),m=_hh$temp1658.t,p=q(Ct),h=O6(); if(!o)return null;if(!Yx(t))return i.jsx(Ce.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.25},children:i.jsx(u.Suspense,{fallback:h&&i.jsx(D6,{loadingType:h}),children:i.jsx(E2,{message:t,isStreamingComplete:a,shouldAnimate:!1,reactionsToAllow:c,isLastMessage:d})})});if(!s)return null; const _hh$temp1659=t,v=_hh$temp1659.left,y=_hh$temp1659.right,C=I=>!(n?.has(I.id))&&!I.sideBySideConfig.isStreamingComplete,S=(I,x)=>{uee({sideBySideComparisonId:s,sideBySideConfig:x}),Mo.selectSideBySideMessage({selectedMessageId:I,sideBySideComparisonId:s}),SQ(o,I),p({title:m("chat.sideBySide.selectedResponseToastTitle"),subtitle:m("chat.sideBySide.selectedResponseToastSubtitle"),dismissAfter:2e3});},b=i.jsx(U6,{delay:.5,className:"mt-2"}); return i.jsxs("div",{className:"flex w-full flex-col items-center gap-6 pb-4",children:[i.jsx("p",{children:m("chat.sideBySide.preambleMessage")}),i.jsx("div",{className:"flex flex-col justify-center gap-6 @5xl/chat:w-[100cqw] @5xl/chat:flex-row @5xl/chat:items-stretch @5xl/chat:px-6",children:[v,y].map(I=>i.jsxs("div",{className:"flex min-h-24 flex-col rounded-2xl border-[0.5px] border-black/12 bg-white/45 p-6 @5xl/chat:min-w-[480px] @5xl/chat:max-w-[600px] @5xl/chat:flex-[1_1_600px] dark:bg-background-650/10",children:[i.jsx("div",{className:"flex-1",children:C(I)?b:i.jsx(u.Suspense,{fallback:b,children:i.jsx(E2,{message:I,isStreamingComplete:a,shouldAnimate:r,reactionsToAllow:nIe,isLastMessage:!0,groupHasTopMargin:!1,isInSideBySide:!0})})}),a&&i.jsx(Ce.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.5},children:i.jsx(X,{size:"36-sm",className:"mx-auto mt-6",title:m("chat.actions.selectResponse"),color:"strong",onClick:()=>S(I.id,I.sideBySideConfig),children:m("chat.actions.selectResponse")})})]},I.id))})]})}function sIe(){const e=M(Lt);return W("m365-wxp-history-sync")&&e?.type==="m365"}const G6= _hh$temp1660=>{var e=_hh$temp1660.title,t=_hh$temp1660.titleId,n=__rest$Object(_hh$temp1660,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M19.5 5.5H4.5C3.94772 5.5 3.5 5.94772 3.5 6.5V15.5C3.5 16.0523 3.94772 16.5 4.5 16.5H9V18H4.5C3.11929 18 2 16.8807 2 15.5V6.5C2 5.11929 3.11929 4 4.5 4H19.5C20.8807 4 22 5.11929 22 6.5V15.5C22 16.7183 21.1285 17.7331 19.975 17.9549C19.9 17.5176 19.6598 17.1137 19.2849 16.8388L18.9461 16.5H19.5C20.0523 16.5 20.5 16.0523 20.5 15.5V6.5C20.5 5.94772 20.0523 5.5 19.5 5.5ZM11.2803 10.2197C11.0658 10.0052 10.7432 9.94103 10.463 10.0571C10.1827 10.1732 10 10.4467 10 10.75V21.25C10 21.5785 10.2138 21.8688 10.5275 21.9663C10.8413 22.0637 11.1819 21.9456 11.368 21.6749L13.8348 18.0869L18.0955 18.9839C18.4203 19.0523 18.7514 18.8991 18.9095 18.6073C19.0675 18.3154 19.015 17.9544 18.7803 17.7197L11.2803 10.2197ZM11.5 18.8353V12.5607L15.9357 16.9964L13.6545 16.5161C13.3582 16.4537 13.0535 16.5756 12.882 16.8251L11.5 18.8353Z"}));} ,N8e=Object.freeze(Object.defineProperty({__proto__:null,default:G6},Symbol.toStringTag,{value:"Module"})),W6= _hh$temp1661=>{var e=_hh$temp1661.title,t=_hh$temp1661.titleId,n=__rest$Object(_hh$temp1661,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM15.4462 8.39705L15.5303 8.46967C15.7966 8.73594 15.8208 9.1526 15.6029 9.44621L15.5303 9.53033L13.061 12L15.5303 14.4697C15.7966 14.7359 15.8208 15.1526 15.6029 15.4462L15.5303 15.5303C15.2641 15.7966 14.8474 15.8208 14.5538 15.6029L14.4697 15.5303L12 13.061L9.53033 15.5303C9.26406 15.7966 8.8474 15.8208 8.55379 15.6029L8.46967 15.5303C8.2034 15.2641 8.1792 14.8474 8.39705 14.5538L8.46967 14.4697L10.939 12L8.46967 9.53033C8.2034 9.26406 8.1792 8.8474 8.39705 8.55379L8.46967 8.46967C8.73594 8.2034 9.1526 8.1792 9.44621 8.39705L9.53033 8.46967L12 10.939L14.4697 8.46967C14.7359 8.2034 15.1526 8.1792 15.4462 8.39705Z"}));} ,L8e=Object.freeze(Object.defineProperty({__proto__:null,default:W6},Symbol.toStringTag,{value:"Module"})),w2="size-5",T2="flex w-full items-center justify-end gap-1.5 text-foreground-450 dark:text-foreground-600";function aIe( _hh$temp1662 ){ var e=_hh$temp1662.type;  const _hh$temp1663=Y(),t=_hh$temp1663.t; switch(e){case"takeTaskControl":return i.jsxs("div",{className:T2,children:[i.jsx(G6,{className:w2}),t("actions.tookControl")]});case"cancelTask":return i.jsxs("div",{className:T2,children:[i.jsx(W6,{className:w2}),t("actions.cancelledTask")]});case"createPage":case"appendToPage":case"promptCharacterSpeech":case"createCalendarEvent":case"modifyCalendarEvent":case"deleteCalendarEvents":case"triggerPlanningAgent":case"startSuggestedPlanningAgentTask":case"triggerScheduledTask":case"editPresentation":case"editSpreadsheet":case"editDocument":case"importAttachment":default:return null}}function rIe(e){ const _hh$temp1664=Y(),t=_hh$temp1664.t,_hh$temp1665=e,n=_hh$temp1665.item,o=M(qd),s=n.content,a=s.type==="copilot",r=s.type==="user"; if(!r&&!a)return null;const c=r&&s.id===o,d=a?t("common.copilotText"):s.displayName;return i.jsx("span",{className:O("text-base-medium",{"text-system-red-550 dark:text-system-red-350":c}),children:t("group.mentionUser",{userName:d})})}function iIe(e){ const _hh$temp1666=e,t=_hh$temp1666.contents,_hh$temp1666$isParticipantMessage=_hh$temp1666.isParticipantMessage,n=_hh$temp1666$isParticipantMessage===void 0?!1:_hh$temp1666$isParticipantMessage; return i.jsxs("div",{className:O("font-ligatures-none relative h-fit max-w-user-text-message whitespace-pre-wrap break-words bg-accent-250/60 px-4 py-2.5 squircle-16 dark:bg-accent-200",Rh("userMessage")??"text-base",{"bg-white dark:bg-accent-100":n,"self-start":n,"self-end":!n}),"data-content":"user-message",children:[n&&i.jsx("div",{className:"pointer-events-none absolute inset-0 border-squircle-card border-accent-200 squircle-stroke-16 dark:border-accent-300","aria-hidden":"true"}),t.map((o,s)=>o.type==="reference"?i.jsx(rIe,{item:o},s):i.jsx(u.Fragment,{children:o.text},s))]})}const cIe=f({contents:T(J([ww,Rw])),type:g("text-and-references")});de("type",[xw,Aw,Pw,Tw,cIe]);function lIe(e,t){const n=[];if(!t||!e.some(s=>s.type==="reference"))return e.map(s=>s.type==="text"||s.type==="reference"?{contents:[s],type:"text-and-references"}:s);let o=[];for(const s of e)s.type==="text"||s.type==="reference"?o.push(s):(o.length>0&&(n.push({contents:o,type:"text-and-references"}),o=[]),n.push(s));return o.length>0&&n.push({contents:o,type:"text-and-references"}),n}const $6=e=>(am(l8),Bu({groupper:{tabbability:uIe(e?.tabBehavior)},focusable:{ignoreKeydown:e?.ignoreDefaultKeydown}})),uIe=e=>{switch(e){case"unlimited":return Zm.Unlimited;case"limited":return Zm.Limited;case"limited-trap-focus":return Zm.LimitedTrapFocus;default:return}},q6=u.forwardRef((e,t)=>{ const _hh$temp1667=e,n=_hh$temp1667.children,_hh$temp1667$tabBehavior=_hh$temp1667.tabBehavior,o=_hh$temp1667$tabBehavior===void 0?"limited-trap-focus":_hh$temp1667$tabBehavior,s=_hh$temp1667.ignoreDefaultKeydown,a=__rest$Object(_hh$temp1667,["children","tabBehavior","ignoreDefaultKeydown"]),r=$6({tabBehavior:o,ignoreDefaultKeydown:s}); return i.jsx(Ce.div,{ref:t,...r,...a,tabIndex:0,children:n})});q6.displayName="FocusableGroupMotion";function dIe(e){ const _hh$temp1668=e,t=_hh$temp1668.children,_hh$temp1668$tabBehavior=_hh$temp1668.tabBehavior,n=_hh$temp1668$tabBehavior===void 0?"limited-trap-focus":_hh$temp1668$tabBehavior,o=_hh$temp1668.ignoreDefaultKeydown,s=__rest$Object(_hh$temp1668,["children","tabBehavior","ignoreDefaultKeydown"]),a=$6({tabBehavior:n,ignoreDefaultKeydown:o}); return i.jsx("div",{...a,...s,tabIndex:0,role:"article",children:t})}const K6=e=>i.jsx(dIe,{...e});K6.Motion=q6;function mIe( _hh$temp1669 ){ var _hh$temp1669$tabs=_hh$temp1669.tabs,e=_hh$temp1669$tabs===void 0?[]:_hh$temp1669$tabs; return e.length===0?null:i.jsx(wo,{className:"flex min-h-[60px] flex-col gap-2",tabbable:!0,tabIndex:0,children:i.jsx(f6,{showRemoveIcon:!1,tabs:e})})}const pIe= _hh$temp1670=>{var e=_hh$temp1670.title,t=_hh$temp1670.titleId,n=__rest$Object(_hh$temp1670,["title","titleId"]);return u.createElement("svg",{width:16,height:12,viewBox:"0 0 16 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M0.87371 6.16782C0.690251 5.96143 0.374215 5.94284 0.167823 6.1263C-0.0385679 6.30975 -0.0571583 6.62579 0.126301 6.83218L4.1263 11.3322C4.31743 11.5472 4.65013 11.557 4.85356 11.3536L15.3536 0.853553C15.5488 0.658291 15.5488 0.341709 15.3536 0.146447C15.1583 -0.0488155 14.8417 -0.0488155 14.6465 0.146447L4.52141 10.2715L0.87371 6.16782Z"}));} ,fIe= _hh$temp1671=>{var e=_hh$temp1671.title,t=_hh$temp1671.titleId,n=__rest$Object(_hh$temp1671,["title","titleId"]);return u.createElement("svg",{viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":t,...n},e?u.createElement("title",{id:t},e):null,u.createElement("path",{d:"M8 2C6.89543 2 6 2.89543 6 4V14C6 15.1046 6.89543 16 8 16H14C15.1046 16 16 15.1046 16 14V4C16 2.89543 15.1046 2 14 2H8ZM7 4C7 3.44772 7.44772 3 8 3H14C14.5523 3 15 3.44772 15 4V14C15 14.5523 14.5523 15 14 15H8C7.44772 15 7 14.5523 7 14V4ZM4 6.00001C4 5.25973 4.4022 4.61339 5 4.26758V14.5C5 15.8807 6.11929 17 7.5 17H13.7324C13.3866 17.5978 12.7403 18 12 18H7.5C5.567 18 4 16.433 4 14.5V6.00001Z"}));} ,hIe={"user-message":{id:"copy-user-message-button"},"ai-message":{id:"copy-ai-message-button"}},gIe={placement:"bottom"};function vIe(e){ const _hh$temp1672=e,t=_hh$temp1672.content,n=_hh$temp1672.onCopy,o=_hh$temp1672.isCopySuccess,s=_hh$temp1672.copyButtonHoverCallback,a=_hh$temp1672.type,_hh$temp1673=Y(),r=_hh$temp1673.t; return t?i.jsxs("div",{className:"relative",children:[i.jsx(X,{variant:"square",color:"subtle-dimmed-inverted",size:"36-sm",title:r("chat.actions.copy"),tooltip:o?void 0:gIe,onClick:o?void 0:n,testId: __get$(hIe,a) .id,onMouseEnter:()=>{s?.()},children:i.jsx(Dt,{id:o?"success":"copy",mode:"popLayout",children:o?i.jsx(pIe,{className:"size-5"}):i.jsx(fIe,{className:"size-5"})})}),o&&i.jsx("div",{className:"pointer-events-none absolute -top-12 start-1/2 z-40 [transform:translateX(-50%)] rtl:[transform:translateX(50%)]",children:i.jsx(bt,{children:i.jsx(Ce.div,{initial:Be,animate:ct,exit:Be,className:"rounded-lg bg-background-100 px-3 py-1.5 shadow-xl text-sm",children:r("chat.copied")})})})]}):null}function yIe(){ const _hh$temp1674=__arrayFrom$(u.useState(!1)),e=_hh$temp1674[0],t=_hh$temp1674[1],n=u.useRef(void 0),o=u.useCallback(()=>{clearTimeout(n.current),t(!0),n.current=setTimeout(()=>{t(!1);},AN);},[]); return{isCopySuccess:e,setCopySuccess:o}}async function CIe(e){ const _hh$temp1675=await D(async ()=>{const _hh$temp1676=await import(__get$ProxyUrl("./index.browser-CSyNuWKJ.js","https://copilot.microsoft.com/static/cmc/assets/")),c=_hh$temp1676.Remarkable;return{Remarkable:c};},[]),t=_hh$temp1675.Remarkable,o=new t().render(e),s=new Blob([o],{type:"text/html"}),a=new Blob([e],{type:"text/plain"}),r=new ClipboardItem({"text/html":s,"text/plain":a}); await navigator.clipboard.write([r])}function x2(e){ const _hh$temp1677=e,t=_hh$temp1677.messageId,n=_hh$temp1677.className,o=_hh$temp1677.messageContent,s=W("user-message-copy"),_hh$temp1678=Y(),a=_hh$temp1678.t,r=M(Se),_hh$temp1679=yIe(),c=_hh$temp1679.isCopySuccess,d=_hh$temp1679.setCopySuccess,m=u.useMemo(()=>o.filter(S=>S.type==="text").map(S=>S.text).join(`
`),[o]),p=async ()=>{if(m){d();try{await CIe(m),Qn({msg:a("chat.copied"),type:"polite"});}catch(C){R.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"CopyError",eventInfo_details:"Error copying user message content.",eventInfo_errorMessage:C instanceof Error?C.message:""}});}nn({source:"copyButton",scenario:"userMessageReactions",conversationId:r,messageId:t});}},h=u.useRef(null),_hh$temp1680=__arrayFrom$(u.useState(!1)),v=_hh$temp1680[0],y=_hh$temp1680[1]; return u.useEffect(()=>{const S=h.current?.parentElement,b=S?.querySelector("[data-content='user-message']");if(!S||!b)return;const I=()=>{const E=getComputedStyle(b),k=parseFloat(E.lineHeight),w=parseFloat(E.paddingTop),_=parseFloat(E.paddingBottom),N=k+w+_;y(b.offsetHeight>N)};I();const x=new ResizeObserver(I);return x.observe(b),()=>x.disconnect()},[]),i.jsx("div",{ref:h,role:"group",className:O("relative z-40","flex opacity-0 transition-opacity duration-300 ease-in-out group-focus-within/user-message:opacity-100 group-hover/user-message:opacity-100","items-center",v?"mt-auto":"",n),"data-copy":"false","data-testid":"user-message-reactions",children:s&&i.jsx(vIe,{content:m,isCopySuccess:c,onCopy:p,type:"user-message",copyButtonHoverCallback:()=>{R.trackEvent({name:"system",data:{eventName:"userMessageCopyButtonHover",eventInfo_messageId:t,eventInfo_conversationId:r}})}})})}const SIe=u.lazy(()=>D(()=>Promise.resolve().then(()=>Zhe),void 0));function bIe(e){ const _hh$temp1681=e,t=_hh$temp1681.message,n=_hh$temp1681.className,_hh$temp1682=Y(),o=_hh$temp1682.t,a=!!M(Zn),_hh$temp1683=xo(),r=_hh$temp1683.openMediaViewer,c=M(qd),d=dv(),m=nm(),p=m,h=u.useMemo(()=>lIe(t.content,p),[t.content,p]),v=t.content.filter(F=>F.type==="document"||F.type==="image"),_hh$temp1684=__arrayFrom$(u.useState(!1)),y=_hh$temp1684[0],C=_hh$temp1684[1],S=W("file-upload-card-v2"),b=v.slice(0,Mu),I=v.filter(F=>F.type==="image"),x=u.useCallback(F=>{const K=I.findIndex(G=>G===F);r({currentMediaIndex:K,media:I.map(G=>({type:"image",url:G.localUrl??G.url,altText:G.fileName??o("chat.uploadedImageAltText"),downloadable:!0})),source:"userMessage"});},[I,r,o]),E=u.useCallback(()=>{Qn({msg:o("userInput.seeAll"),type:"polite"}),C(!0);},[o,C]),k=v.length>Mu,w=t.author==="groupParticipant"&&t.authorMetadata?.id!==c,_=w?t.authorMetadata?.displayName??o("share.invite.formerMemberTitle"):"",N=!!Z.instance().config().composer?.smallAttachmentCard||S; function L(){return w?o("chat.participantSaid",{name:_}):o("chat.userSaid")}const B=L();return i.jsxs(K6,{className:Je("group/user-message space-y-1",n),id:`${t.id}-user-message`,"aria-labelledby":`${t.id}-user-message`,children:[i.jsxs("div",{className:"relative space-y-3",children:[i.jsx("h5",{className:"sr-only","aria-label":B,"data-copy":"false",children:B}),i.jsxs("div",{className:"flex w-full flex-col gap-1",children:[w&&i.jsx("div",{className:"px-10 text-foreground-600 text-xs","aria-hidden":"true",children:_}),i.jsxs("div",{className:"flex w-full items-start",children:[w&&i.jsx("div",{className:"z-10 -me-2 mt-2 size-8 shrink-0",role:"presentation",children:i.jsx(u.Suspense,{fallback:i.jsx("div",{className:"size-8"}),children:i.jsx(SIe,{firstName:_,nameSizeClass:"text-base-medium",showTwoCharacters:!0})})}),i.jsxs("div",{className:"flex w-full flex-col gap-1",children:[v.length>0&&i.jsxs("div",{className:O("flex w-full flex-row gap-2 overflow-hidden",{"h-32":!S&&!N,"h-small-attachment":!S&&N,"h-auto":S,"justify-start":w,"justify-end":!w,"ms-3":w}),children:[b.map((F,K)=>i.jsx(F4,{messageItem:F,size:N?"sm":"md",onClick:F.type==="image"&&m?x:void 0},`file-${K}`)),k&&i.jsx(X,{"aria-label":o("userInput.seeAll"),title:o("userInput.seeAll"),color:"overlay-dimmed-inverted",onClick:E,className:N?"mt-1 h-small-attachment":"",children:o("userInput.seeAll")}),y&&i.jsx(j4,{onClose:()=>C(!1),messages:v})]}),h.map((F,K)=>{if(F.type==="text-and-references")return i.jsxs("div",{className:O("flex gap-2",{"justify-end":!w,"justify-start":w}),children:[!w&&i.jsx(x2,{messageId:t.id,messageContent:t.content}),i.jsx(iIe,{contents:F.contents,isParticipantMessage:w}),w&&i.jsx(x2,{messageId:t.id,messageContent:t.content})]},K);const G=F;return G.type==="browserTabs"?d&&ooe(G.tabs)?i.jsx(mIe,{tabs:G.tabs},K):null:G.type==="command"?i.jsx(aIe,{type:G.command.type},K):null})]})]}),t.emojiReaction&&i.jsx("div",{className:"absolute -bottom-3 end-3",children:t.emojiReaction})]})]}),!a&&t.brand?.brandLogo&&i.jsx("div",{className:"w-full px-3 text-right text-foreground-600 text-sm",children:o("ads.aboutBrand",{brand:t.brand.brandLogo.businessName})})]},t.id)}const A2=Fn(()=>D(()=>import( __get$ProxyUrl("./ai-message-DWP8cQa4.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([654,1,655,447,455,484,593,594,595,596,597,598,599,600,601,7,602,603,604,580,656,450,657,658,659,660,637,605,661,662,663,664,665,666,667,668,669,670,545,671,672,544,673,498,499,674,675,676,677,678,679,680,681])),{moduleName:"ai-message",retryStrategy:bn,throwError:!0});function _2(e){ const _hh$temp1685=e,t=_hh$temp1685.chatItemClasses,n=_hh$temp1685.currentConversation,_hh$temp1685$enableLastMessageCheck=_hh$temp1685.enableLastMessageCheck,o=_hh$temp1685$enableLastMessageCheck===void 0?!1:_hh$temp1685$enableLastMessageCheck,_hh$temp1685$hasNextPage=_hh$temp1685.hasNextPage,s=_hh$temp1685$hasNextPage===void 0?!1:_hh$temp1685$hasNextPage,a=_hh$temp1685.isStreamingComplete,r=_hh$temp1685.messages,c=_hh$temp1685.previousMessageInit,d=_hh$temp1685.reactionsToAllow,m=_hh$temp1685.targetMessageId,p=_hh$temp1685.targetMessageRef,_hh$temp1685$shouldAnimate=_hh$temp1685.shouldAnimate,h=_hh$temp1685$shouldAnimate===void 0?!1:_hh$temp1685$shouldAnimate,_hh$temp1685$variant=_hh$temp1685.variant,v=_hh$temp1685$variant===void 0?"default":_hh$temp1685$variant,y=v==="pick",S=M(Gd).get(n?.id??""),b=!rt("kill-share-continue"),I=sIe(),_hh$temp1686=Z.instance().config(),x=_hh$temp1686.disableMultiturn; return r.map((k,w)=>{const _=new Date(k.createdAt),N=w>0? __get$(r,w-1) :c,L=N&&new Date(N.createdAt),B=!L||!di(_,L),F=b&&u0e(n?.continuedAt?new Date(n.continuedAt):null,_,L),K=o&&w===r.length-1;let G;if(fQ(k))G=i.jsx(oIe,{message:k,conversationId:n?.id,animatingMessageIds:S,sideBySideComparisonId:n?.sideBySideComparisonId,isStreamingComplete:a,shouldAnimate:h,reactionsToAllow:d,isLastMessage:K});else if(k.author==="ai")G=e.isNewChat?i.jsx(u.Suspense,{fallback:i.jsx("div",{"aria-hidden":!0}),children:i.jsx(A2,{message:k,isStreamingComplete:a,shouldAnimate:h,reactionsToAllow:d,isLastMessage:K})}):i.jsx(A2,{message:k,isStreamingComplete:a,shouldAnimate:h,reactionsToAllow:d,isLastMessage:K});else if(k.author==="system")G=i.jsx(eIe,{message:k});else{if(y)return null;G=i.jsx(bIe,{message:k,className:t})}const te=w===0&&s&&!N,ae=I&&(w===0&&!s&&!N)?U("chat.m365.dividerFromM365Copilot"):void 0,Te=!te&&B&&!x&&!y,he=m===k.id;return i.jsxs(u.Fragment,{children:[F&&i.jsx(Q2e,{content:U("chat.continuedConversationDisclaimer")}),Te&&i.jsx(J2e,{date:_,className:t,labelOverride:ae}),he&&p?i.jsx("div",{ref:p,children:G}):G]},k.id)})}const k2=10,IIe=0,EIe=.2;function wIe( _hh$temp1687 ){ var e=_hh$temp1687.onClick,t=_hh$temp1687.shouldShowScrollToBottomButton,_hh$temp1687$bottomButtonClass=_hh$temp1687.bottomButtonClass,n=_hh$temp1687$bottomButtonClass===void 0?"":_hh$temp1687$bottomButtonClass,o=_hh$temp1687.title;  const _hh$temp1688=Y(),s=_hh$temp1688.t; return i.jsx(bt,{children:t&&i.jsx(Ce.div,{className:O("pointer-events-none absolute flex justify-center",at.chatScrollToBottomButton,"inset-x-0",n),initial:{...Be,y:k2},animate:{...ct,y:IIe},exit:{...Be,y:k2},transition:{duration:EIe},children:i.jsx(X,{color:"acrylic",variant:"circle",size:"36-sm",title:o??s("chat.scrollToBottom"),onClick:e,className:"pointer-events-auto border-none shadow-xl",testId:"scroll-to-bottom-button",children:i.jsx("span",{className:O("relative rounded-full bg-white/40 p-2 hover:bg-white hover:p-[9px] dark:bg-background-350/60","after:absolute after:inset-0 after:rounded-full after:opacity-50 after:shadow-xl","before:absolute before:-inset-px before:rounded-full before:border before:border-black/8"),children:i.jsx(ci,{className:"size-5 rotate-180 fill-foreground-900 dark:fill-white"})})})})})}async function TIe(e,t){return(await vo(`/conversations/${e}/viewed`,{options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},analytics:{anonymousPath:"/conversations/*/viewed"}})).ok}async function xIe(e,t){try{const n=await TIe(e,{latestMessageId:t});return n&&sm(e,o=>{o.hasUnreadMessages=!1}),n}catch{return!1}}function AIe(e){const t=M(Se),n=M(Hs),o=nm(),s=u.useRef(!1),a=W("groups-unread-indicator"),r=u.useRef(new Map),c=n.at(-1),d=n.at(-2),m=c?.author==="ai"&&c.streamingState!=="idle"?d:c;u.useEffect(()=>{if(!a||!t||!o||!m?.id||s.current)return;const p=r.current.get(t);if(p===m.id||!e)return;(async()=>{s.current=!0,r.current.set(t,m.id),await xIe(t,m.id)||r.current.set(t,p),s.current=!1})()},[t,o,m?.id,a,e])}function _Ie(e){const t=M(Gd),n=M(Yc);return{hasAnimatingMessage:!!t.get(e?.id??"")?.size,isCurrentConversationStreaming:n}}const kIe="answerCards.ariaLabel.numberOfLocalResultsSingle",PIe="answerCards.ariaLabel.numberOfLocalResultsPlural";function MIe(e){let t="";for(const o of e.entities){if(t+=o.name,o.category&&(t+=`, ${o.category}`),o.price&&(t+=`, ${RIe(o.price)}`),o.reviews[0]){const s=o.reviews[0];t+=", ",t+=U("answerCards.ariaLabel.ratedByReviewer",{rating:s.rating,reviewCount:s.count,reviewProvider:s.providerName})}o.phoneNumber&&(t+=", ",t+=U("answerCards.ariaLabel.phoneNumber",{phoneNumber:o.phoneNumber})), __get$(o,"location") .address&&(t+=", ",t+=U("answerCards.ariaLabel.address",{address: __get$(o,"location") .address})),o.openState&&(t+=", ",t+=U("answerCards.ariaLabel.openState",{openState:o.openState})),t+=". "}const n=e.entities.length===1?kIe:PIe;return U(n,{count:e.entities.length,resultSummary:t})}function RIe(e){switch(e.length){case 1:return U("answerCards.ariaLabel.inexpensivePrices");case 2:return U("answerCards.ariaLabel.averagePrices");default:return U("answerCards.ariaLabel.expensivePrices")}}function NIe(e){ const _hh$temp1689=e,t=_hh$temp1689.content,n=_hh$temp1689.announce; let o;for(const s of t){switch(s.type){case"text":o=s.text;break;case"image":s.url?o=U("chat.imageGenerated",{prompt:s.prompt??""}):o=U("chat.imageGenerating");break;case"page":break;case"citation":break;case"modelStatement":break;case"card":o=LIe(s.card);break;case"error":o=s.text;break;case"task":break;case"deleted":break;case"chainOfThought":break;case"chainOfThoughtGroup":break;case"agentTaskProgressGroup":break;case"step":case"webSearch":case"textFile":case"shellCommandExecution":case"computerUse":break;case"document":break;case"activity":break;case"inline-consent-disclaimer":break;case"memorySignal":o=s.text;break;case"indicator-ai-response":o=s.text;break}o&&n({msg:o})}}function LIe(e){switch(e.type){case"localEntity":return MIe(e);case"healthcareEntity":return"";case"healthcareInfo":case"chart":return"";case"shoppingProducts":return U("shopping.ariaLabel.carouselCards");case"ads":case"artifact":case"weather":case"inline-artifact":case"weatherTemperatureHourly":case"weatherTemperatureDaily":case"weatherPrecipitationHourly":case"weatherPrecipitationDaily":case"image":case"person":case"phoneImages":case"phoneLinking":case"phoneAlarm":case"phoneTimer":case"phoneSendMessage":case"video":case"sportsSchedule":case"sportsGame":case"safetyHelpline":case"shopping":case"shoppingCurated":case"suggestVision":case"fileSearch":case"windowsSettings":case"job":case"inlineVideo":case"quiz":case"financeChart":case"financeComparisonChart":case"recipe":case"mediaSpotlight":case"inlineImage":case"m365":case"file":case"computerUseFeedback":case"document":case"personalArtifacts":case"flashcard":case"consent":case"consentV2":case"newsCarousel":case"navigation":case"mediaCarousel":case"edge-passwords":case"suggestResearch":case"suggestPlanningAgent":case"powerPointCreator":case"federatedLogin":case"form-fill":case"composeEmail":case"practiceTest":case"createCalendarEvent":case"modifyCalendarEvent":case"deleteCalendarEvent":case"command":case"tapToReveal":case"textRewrite":case"connectorSuggestion":case"audioCallSummary":return"";default:return""}}function DIe(e,t){const n=u.useRef(void 0);u.useEffect(()=>{if(t)return;const o=e.at(-1);o&&o.author==="ai"&&o.id!==n.current?.id&&(NIe({content:o.content,announce:Qn}),n.current=o)},[e,t])}function OIe(e){u.useEffect(()=>{if(e.current){const t=o=>{if(o.target&&o.target instanceof Element&&o.target.closest('[data-formatless-copy="false"]'))return;const s=window.getSelection();if(s?.rangeCount){let a=document.createElement("div"); const r=s.getRangeAt(0),_hh$temp1690=r,c=_hh$temp1690.startContainer,d=_hh$temp1690.endContainer; a.appendChild(r.cloneContents());const m=c.parentElement?.closest("pre"),p=d.parentElement?.closest("pre"),h=!!m&&!!p&&m===p,v=!!c.parentElement?.closest("table")&&!UIe(r);a.style.position="absolute",a.style.left="-9999px",document.body.appendChild(a);const y=a.getElementsByTagName("*");for(const E of y)if(E.getAttribute("data-copy")==="false")E.remove();else{ const _hh$temp1691=window.getComputedStyle(E),k=_hh$temp1691.whiteSpace; E.removeAttribute("style"),E.removeAttribute("class"),E.removeAttribute("initial"),E.removeAttribute("animate"),E.removeAttribute("variants"),E.removeAttribute("custom"),E instanceof HTMLElement&&k&&(E.style.whiteSpace=k)}if(document.body.removeChild(a),h){const E=document.createElement("pre");E.appendChild(a),a=E}if(v){const E=document.createElement("table"),k=Array.from(a.children);for(const w of k)E.appendChild(w);a=E} const _hh$temp1692=r,C=_hh$temp1692.commonAncestorContainer,S=C instanceof Element?C:C.parentElement; if(S){ const _hh$temp1693=window.getComputedStyle(S),E=_hh$temp1693.whiteSpace; a.style.whiteSpace=E}a.style.position="absolute",a.style.left="-9999px",document.body.appendChild(a);const b=window.getSelection(),I=document.createRange();I.selectNodeContents(a),b?.removeAllRanges(),b?.addRange(I);const x=b?.toString()??"";b?.removeAllRanges(),b?.addRange(r),document.body.removeChild(a),a.removeAttribute("style"),o.clipboardData?.setData("text/plain",x),o.clipboardData?.setData("text/html",h||v?a.outerHTML:a.innerHTML)}o.preventDefault()},n=e.current;return n.addEventListener("copy",t),()=>{n.removeEventListener("copy",t)}}return()=>{}},[e])}function UIe(e){ const _hh$temp1694=e,t=_hh$temp1694.startContainer,n=_hh$temp1694.endContainer,o=(t.parentElement?.closest("td"))??(t.parentElement?.closest("th")),s=(n.parentElement?.closest("td"))??(n.parentElement?.closest("th")); return!!(o&&s&&o===s)}const FIe=100,P2=.3,jIe=2*xN,BIe="bottom-14 h-[120px]",VIe="shrink-0 min-h-14",HIe="min-h-[calc(100%-56px)]";function zIe(e,t,n){ const o=Ks(),s=u.useMemo(()=>({initial:{opacity:0,y:FIe},animate:{opacity:1,y:0,transition:{duration:.4,y:{duration:P2}}},exit:{opacity:0,y:-100,transition:{duration:.2,y:{duration:P2}}},onAnimationStart:I=>{((typeof I=="object"&&!Array.isArray(I))&&I.opacity===1)&&e();}}),[e]),a=BIe,r=VIe,c=HIe,_hh$temp1695=WIe(n),d=_hh$temp1695.highlighted,m=_hh$temp1695.backstage,_hh$temp1696=__arrayFrom$(u.useState(!1)),p=_hh$temp1696[0],h=_hh$temp1696[1],v=u.useRef(null),y=u.useCallback(I=>{v.current=I,I&&h(!0);},[]),_hh$temp1697=dR({target:p?v:void 0,container:t,offset:["end start","start start"]}),C=_hh$temp1697.scrollYProgress; Ys(()=>{requestAnimationFrame(()=>{t.current?.dispatchEvent(new Event("scroll"))})},{},t.current);const S=Tu(C,[jIe/100,1],[0,1]);return{highlightedMessagesProps:s,opacity:o?S:C,sentinelRef:y,sentinelClasses:a,backstageClasses:r,highlightedClasses:c,highlighted:d,backstage:m}}function GIe(e){const t=Y6(e);if(!t)return[];const n=e.at(-2),o=[];Ta(n)&&o.push(n),Ta(t)&&o.push(t);const s=e.at(-3);if(s?.author==="human"&&o.length===2)return[s,...o];const a=t.author==="human",r=!a&&n?.author==="ai";return a||r?[t]:e.slice(-2)}function Y6(e){return e.at(-1)}function WIe(e){const t=GIe(e),n=e.slice(0,-t.length);return{highlighted:t,backstage:n}}function $Ie(e,t){const n=u.useRef(0),o=u.useRef(0);r6(()=>{const s=t.current;if(!s)return;const a=s.scrollHeight-n.current,r=s.scrollTop===0;a>0&&r?s.scrollTop=a:s.scrollTop=o.current,n.current=s.scrollHeight,o.current=s.scrollTop},[e]),u.useEffect(()=>{ const _hh$temp1698=t,s=_hh$temp1698.current,a=()=>{s&&(o.current=s.scrollTop);}; return s?.addEventListener("scroll",a),()=>s?.removeEventListener("scroll",a)},[t])}function qIe(e,t){const n=rt("kill-review-prompt"),s=!!Z.instance().config().promptForReviews&&!n,a=q(en),r=u.useCallback(async d=>{if(!s)return; const _hh$temp1699=await MY.run({}),m=_hh$temp1699.shown; if(m)return;const h=C0e()>=p0e,v=d>d0e;(h||v)&&!S0e()&&(a("prompt-review"),R.trackEvent({name:"system",data:{eventName:"inAppSurveyPopUp",eventInfo_triggerType:v?"longChat":"activeDays"}}))},[s,a]),c=u.useRef(!1);u.useEffect(()=>{t&&(c.current=!0)},[t]),u.useEffect(()=>{t||!c.current||r(e)},[e,t,r])}function KIe(e){return u.useCallback(( _hh$temp1700 )=>{ var _hh$temp1700$behavior=_hh$temp1700.behavior,n=_hh$temp1700$behavior===void 0?"smooth":_hh$temp1700$behavior,_hh$temp1700$delay=_hh$temp1700.delay,o=_hh$temp1700$delay===void 0?0:_hh$temp1700$delay; const s=()=>{e.current&&e.current.scrollTo({top:e.current.scrollHeight,behavior:n})};o===0?s():setTimeout(s,o)},[e])}function YIe(e){ const _hh$temp1701=e,t=_hh$temp1701.chatRef,_hh$temp1701$hasMessages=_hh$temp1701.hasMessages,n=_hh$temp1701$hasMessages===void 0?!0:_hh$temp1701$hasMessages,o=u.useRef(null),_hh$temp1702=__arrayFrom$(u.useState(!1)),s=_hh$temp1702[0],a=_hh$temp1702[1],r=u.useRef(n); r.current=n;const c=u.useCallback(d=>{const m=d[0];if(m){const h=!(m.intersectionRatio>0)&&r.current;a(h)}},[]);return u.useEffect(()=>{if(!t.current||!o.current)return()=>{};const d=new IntersectionObserver(c,{root:t.current});return d.observe(o.current),()=>{d.disconnect()}},[t,c]),u.useEffect(()=>{n||a(!1)},[n]),{bottomRef:o,shouldShowScrollToBottomButton:s}}function ZIe(){ const _hh$temp1703=B2(),e=__get$(_hh$temp1703,"location"),t=V2(); return u.useCallback(n=>{const o={};for(const _hh$temp1704 of Object.entries(e.state)) {const _hh$temp1705=__arrayFrom$(_hh$temp1704),s=_hh$temp1705[0],a=_hh$temp1705[1];n.includes(s)||__set$(o,s,a);} t({to:e.pathname,replace:!0,state:o})},[e.pathname,e.state,t])}const su="targetMessageId";function JIe(){ const e=B2(),t=ZIe(),_hh$temp1706=__get$(e,"location"),n=_hh$temp1706.state,o=su in n&&typeof __get$(n,su)=="string"?__get$(n,su):void 0,s=u.useRef(o); s.current=o;const a=u.useRef(t);a.current=t;const r=u.useCallback(c=>{const d=s.current;!c||!d||requestAnimationFrame(()=>{s.current===d&&(_t({page:"chat",scenario:"conversationSearch",status:"success",messageId:d,conversationId:j(Se)}),c.scrollIntoView({behavior:"smooth",block:"center"}),a.current([su]))})},[]);return{targetMessageId:o,targetMessageRef:r}}async function QIe(e,t){const n=q1(t);if(n){ const _hh$temp1707=n,o=_hh$temp1707.message,s=_hh$temp1707.part; if(!s.task)return;const a=await _n();a.setConversationIdByMessageId({messageId:o.id,conversationId:e}),a.setMessageIdByTaskId({taskId:s.task.id,messageId:o.id})}}const XIe=window.requestIdleCallback?window.requestIdleCallback:function(t){const n=Date.now();return setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,50-(Date.now()-n))}})},1)};function e5e(e){if(e.author!=="ai")return!1;const t=e.content.at(-1);return t?.type==="image"&&t.status==="generating"}function t5e(e){if(e.author!=="human")return!1;const t=e.content.at(-1);return t?.type==="command"&&t.command.type==="startCall"}function n5e(e){return e?e5e(e)||t5e(e):!1}const o5e=1.5,M2="inline-block w-full space-y-8",s5e="max-w-chat w-full";function a5e( _hh$temp1708 ){ var e=_hh$temp1708.children,t=_hh$temp1708.chatRef,n=_hh$temp1708.historyLength; return $Ie(n,t),e}function r5e(e){ const _hh$temp1709=e,t=_hh$temp1709.className,n=_hh$temp1709.customLaunchGreeting,_hh$temp1709$disableScrollToBottomButton=_hh$temp1709.disableScrollToBottomButton,o=_hh$temp1709$disableScrollToBottomButton===void 0?!1:_hh$temp1709$disableScrollToBottomButton,s=_hh$temp1709.reactionsToAllow,_hh$temp1709$variant=_hh$temp1709.variant,a=_hh$temp1709$variant===void 0?"default":_hh$temp1709$variant,r=_hh$temp1709.CustomBottomContent,c=a==="pick",_hh$temp1710=H2e(),d=_hh$temp1710.chatRef,m=_hh$temp1710.showStickyHeader,p=_hh$temp1710.isTopDockedVisible,_hh$temp1711=u6(),h=_hh$temp1711.loader,v=M(Hs),y=M(Lt),C=M(z$),S=M(G1),b=vt({breakpoint:"sm"}),I=!ll(),x=!rt("kill-coco-isolation"); u.useEffect(()=>{let It=RA()??Vt();if(x){const dn=It;It=B$(It,C);const Vo=dn!==It&&It==="coco",Ho=lJ();Vo&&Ho&&(Vr(null),om())}yn(It)},[C,x]);const E=y?.sideBySideComparisonId,k=!!E,w=KIe(d);OIe(d); const _hh$temp1712=JIe(),_=_hh$temp1712.targetMessageId,N=_hh$temp1712.targetMessageRef,_hh$temp1713=Ja(),L=_hh$temp1713.isContextualShoppingCardExpanded,B=_hh$temp1713.showShoppingCardInNewChat; Mk({scrollableRef:d,source:"chat",customData:{conversationId:y?.id,...L&&{isContextualShoppingCardExpanded:L}}}); const _hh$temp1714=__arrayFrom$(f2e({...h,disabled:!!h.error})),F=_hh$temp1714[0],_hh$temp1715=zIe(()=>w({behavior:"instant",delay:Z.instance().config().scrollToBottomDelay}),d,v),K=_hh$temp1715.highlightedMessagesProps,G=_hh$temp1715.sentinelRef,te=_hh$temp1715.sentinelClasses,ne=_hh$temp1715.backstageClasses,ae=_hh$temp1715.highlightedClasses,Te=_hh$temp1715.opacity,he=_hh$temp1715.highlighted,Ee=_hh$temp1715.backstage,Ae=Tu(Te,It=>It<.5?"none":"auto"),Ue=()=>w({behavior:"smooth"}),_hh$temp1716=YIe({chatRef:d,hasMessages:v.length>0&&!o}),Fe=_hh$temp1716.bottomRef,ke=_hh$temp1716.shouldShowScrollToBottomButton,_hh$temp1717=_Ie(y),Ve=_hh$temp1717.hasAnimatingMessage,De=_hh$temp1717.isCurrentConversationStreaming,le=M(Ur),oe=W("voice-feedback-toast"),we=W("voice-feedback-download-audio"),se=(!oe||we)&&le; u.useEffect(()=>{y?.id&&(QIe(y.id,v),XIe(()=>{v3("ai-message",bn)(()=>D(()=>import( __get$ProxyUrl("./ai-message-DWP8cQa4.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([654,1,655,447,455,484,593,594,595,596,597,598,599,600,601,7,602,603,604,580,656,450,657,658,659,660,637,605,661,662,663,664,665,666,667,668,669,670,545,671,672,544,673,498,499,674,675,676,677,678,679,680,681]))),D(()=>import( __get$ProxyUrl("./markdown-ic5HwMRG.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([657,658,1,7]))}))},[y?.id,v]),DIe(v,De),AIe(!ke); const z=Y6(he),Q=z?.author==="human"||De,me=!!M(Li),pe=M(lu),We=(Q&&!Ve)||me||pe,_hh$temp1718=Z.instance().config(),be=_hh$temp1718.disableMultiturn,ge=Z.instance().config().styleOverrides?.width?.chat; qIe(v.length,Q);const Ne=mi(),Ke=!(B&&!b),Me=W("chat-refactor-max-width"),Ye=Me?z6():void 0,re=Me?"w-full":s5e,He=!De,nt=Ne&&!p,je=!!Z.instance().config().smallScreenShowTopDisclaimerAfterSendingMessage?!Ne:!nt,it=p||b&&je,In=We&&!k&&!n5e(z),jn=he[0],Bn=jn?.createdAt,un=Ee,Vn=k?pQ(he,E):he;return i.jsx(wo.Motion,{circular:!1,tabbable:!0,initial:I?"start":!1,animate:"end",variants:{start:Be,end:{...ct,transition:{duration:.2,delay:.2}}},className:O(t,"grow",!Me&&(ed("pageContainer")??"px-6"),re,ge,"flex h-full grow flex-col",p&&"h-[calc(100%-var(--chat-top-docked-height)+40px)]"),transition:Jn,"data-content":"conversation","data-copy":"false",children:i.jsx(u.Suspense,{fallback:i.jsx("div",{"aria-hidden":!0}),children:i.jsx(u.Suspense,{fallback:i.jsx("div",{"aria-hidden":!0}),children:i.jsxs(a5e,{chatRef:d,historyLength:v.length,children:[h.hasNextPage&&i.jsx("div",{ref:F}),i.jsxs(Ce.div,{className:O("relative",Ke&&ne,c&&"h-0 min-h-0 overflow-hidden"),style:{opacity:v.length>0?Te:0,pointerEvents:Ae},"data-testid":"backstage-chats",children:[i.jsx("div",{className:O("absolute -z-10 w-full",te),ref:G,"data-testid":"sentinel-div"}),un.length>0&&i.jsx("div",{className:O(m&&"pt-16","mb-8",M2),children:i.jsx(_2,{chatItemClasses:Ye,currentConversation:y,variant:a,isStreamingComplete:He,messages:un,hasNextPage:h.hasNextPage,reactionsToAllow:s,targetMessageId:_,targetMessageRef:N,isNewChat:!1})})]}),i.jsxs("div",{className:O(m&&ae,!m&&"min-h-full","flex shrink-0 flex-col"),"data-testid":"highlighted-chats",children:[i.jsx(bt,{mode:"wait",initial:!0,children:i.jsxs(i.Fragment,{children:[nt&&i.jsx("div",{className:O(Ye,n?.layout==="fullScreen"?"flex flex-1 items-center justify-center":"pb-2"),children:n?.content}),it&&i.jsx("div",{className:Ye,children:i.jsx(M6,{})}),he.length>0&&i.jsxs(Ce.div,{className:O("pt-3",be?"pb-24":"pb-6",M2),initial:K.initial,animate:K.animate,exit:K.exit,onAnimationStart:It=>{const dn=Te.get()<1;(jn?.author==="human"||dn)&&K.onAnimationStart(It)},children:[i.jsx(_2,{chatItemClasses:Ye,currentConversation:y,enableLastMessageCheck:!0,variant:a,isStreamingComplete:He,messages:Vn,previousMessageInit: __get$(un,un.length-1) ??void 0,reactionsToAllow:s,targetMessageId:_,targetMessageRef:N,shouldAnimate:Ve,isNewChat:!0}),i.jsx(u.Suspense,{fallback:i.jsx("div",{"aria-hidden":!0}),children:In&&i.jsx(U6,{delay:o5e,className:Ye})}),i.jsx(Dt,{children:se&&i.jsx(y2e,{className:O(Ye,In&&"pt-12"),feedbackType:le})}),i.jsx(Dt,{children:S&&S.visible&&i.jsx(h2e,{className:Ye})})]},Bn)]})}),i.jsx("div",{className:O(!c&&"mt-[var(--composer-container-height)]"),ref:Fe,style:{height:0,overflow:"hidden"}}),i.jsx(wIe,{shouldShowScrollToBottomButton:ke&&!o,onClick:Ue,bottomButtonClass:"bottom-[calc(var(--composer-container-height)+1rem)]"}),r&&i.jsx(r,{isVisible:!ke&&!We})]})]})})})})}function i5e(e){ const _hh$temp1719=e,t=_hh$temp1719.className,_hh$temp1720=Y(),n=_hh$temp1720.t; return i.jsxs("div",{className:O("flex w-full flex-col items-start justify-start text-2xl sm:mb-4 sm:justify-end",t),"data-testid":"temporary-conversation-greeting",children:[i.jsx("h1",{children:n("chat.launchMessage.temporaryConversation")}),i.jsx("h2",{className:"mt-4 text-foreground-800 text-base",children:n("chat.launchMessage.subheadingTemporaryConversation")})]})}const c5e=Fn(()=>D(()=>import( __get$ProxyUrl("./entry-button-MUl4Wvu6.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([648,1,649,7])),{moduleName:"temporary-mode-entry-button",exportName:"TemporaryModeEntryButton",retryStrategy:bn});function l5e(){ const e=_v("app"),_hh$temp1721=Xa(),t=_hh$temp1721.isGreetingCentered,n=Nm(); return i.jsxs(km,{className:"size-full overflow-hidden",children:[i.jsxs(Hd,{children:[i.jsxs("div",{className:"scrollbar-stable flex size-full flex-col items-center overflow-y-auto overflow-x-hidden overscroll-contain text-foreground-800 sm:min-w-secondary-panel-slim lg:min-w-secondary-panel","data-testid":"temporary-conversation-landing",children:[i.jsx(kv,{end:i.jsx(ao,{fallback:null,children:i.jsx(c5e,{})})}),i.jsxs("div",{className:"mb-[var(--composer-container-height)] grow px-6",children:[i.jsx("div",{className:"relative min-h-[60px] pt-10 sm:min-h-[120px]"}),i.jsx("div",{className:"mt-2 flex flex-col items-start text-pretty sm:absolute sm:inset-0 sm:mx-auto sm:mt-0 sm:max-w-chat sm:px-4 sm:pb-[calc(var(--composer-container-height))]",children:i.jsx("div",{className:"flex w-full flex-col gap-2 sm:h-full sm:justify-center",children:i.jsx(i5e,{className:O(t&&"sm:items-center sm:text-center")})})})]}),i.jsx(k6,{})]}),i.jsx(Rm,{})]}),i.jsx("div",{ref:e,className:O("pointer-events-none absolute bottom-0 w-full",{"sm:bottom-1/2 sm:translate-y-1/2 sm:pt-36":n}),children:i.jsx("div",{className:O("mb-4 sm:mb-8",{"sm:mb-0":n}),children:i.jsx(Mm,{suppressBottomSection:!n,suppressBackgroundFade:n,_limitInputMaxHeight:n})})})]})}function u5e(e){const t=u.useRef(!1);u.useEffect(()=>{t.current||(t.current=!0,e())})}const d5e=Fn(()=>D(()=>import( __get$ProxyUrl("./entry-button-MUl4Wvu6.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([648,1,649,7])),{moduleName:"temporary-mode-entry-button",exportName:"TemporaryModeEntryButton",retryStrategy:bn});function m5e(){ const e=kt(),t=V2(),_hh$temp1722=pi(),n=_hh$temp1722.createConversation,o=mi(); return u.useEffect(()=>{e||t({to:"/",replace:!0})},[e,t]),u5e(()=>{n({isTemporary:!0,shouldNavigateToChat:!1})}),o?i.jsx(l5e,{}):i.jsxs(km,{className:"relative h-full flex-1 overflow-hidden will-change-auto",children:[i.jsxs(Hd,{children:[i.jsx(j6,{stickyHeaderProps:{end:i.jsx(ao,{fallback:null,children:i.jsx(d5e,{})})},children:i.jsx(r5e,{reactionsToAllow:Kve})}),i.jsx(Rm,{})]}),i.jsx(S6,{children:i.jsx(Mm,{suppressBottomSection:!0})})]})}const p5e=xe(yg)({component:m5e,beforeLoad:()=>({customLayout:!0}),onEnter:()=>{Ioe()},onLeave:()=>{Eoe()}}),f5e=xe("/chats/$conversationId")({beforeLoad:()=>({customLayout:!0})}),h5e=xe("/labs_/team-of-advisers/")({staticData:{showBackButton:"auto"}}),g5e=xe("/labs_/portrait/")({staticData:{showBackButton:"auto"}}),v5e=xe("/labs_/experiments/")({beforeLoad:()=>{throw u8({to:"/labs"})}}),y5e=xe("/labs_/career-coach/")({staticData:{showBackButton:"auto"}}),C5e=xe("/labs_/audio-expression/")({staticData:{showBackButton:"auto"}}),S5e=xe("/shares/pages/$shareId")({beforeLoad:()=>({customLayout:!0})}),b5e=xe("/shares/artifacts/$shareId")({beforeLoad:()=>({customLayout:!0})}),I5e=xe("/shares/3d-generations/$shareId")({head:e=>Fs(()=>{ const _hh$temp1723=e.params,t=_hh$temp1723.shareId,_hh$temp1724=e.match.context,n=_hh$temp1724.baseUrl,o=_hh$temp1724.i18n,a=`${n}/static/cmc/images/meta-image.jpg`,r=(o?.t("server.share3dGeneration.metadata.title")),c=(o?.t("server.share3dGeneration.metadata.description")); return{meta:[...r?[{title:r}]:[],...c?[{name:"description",content:c}]:[],..._a({title:r,description:c,url:`${n}/shares/3d-generations/${t}`,imageUrl:a,imageWidth:"1200",imageHeight:"630"}),...ka({title:r,description:c,card:"summary_large_image",image:a})]}})}),E5e=xe("/labs_/team-of-advisers/summary")({staticData:{showBackButton:"auto"}}),w5e=xe("/labs_/team-of-advisers/debate")({staticData:{showBackButton:"auto"}}),T5e=xe("/labs_/portrait/talk")({beforeLoad:()=>({customLayout:!0})}),x5e=xe("/labs_/experiments/$experimentAlias")({staticData:{showBackButton:!0}}),A5e=xe("/health_/chats/$conversationId")({beforeLoad:()=>({customLayout:!0})}),_5e=xe("/conversations/join/$token")({head:e=>Fs(()=>{ const _hh$temp1725=e.match.context,t=_hh$temp1725.canonical,n=_hh$temp1725.i18n,o=(n?.t("server.conversations.join.metadata.title")),s=(n?.t("server.conversations.join.metadata.description")); return{meta:[...o?[{title:o}]:[],...s?[{name:"description",content:s}]:[],..._a({title:o,description:s,url:t}),...ka({title:o,description:s,card:"summary_large_image"})]}})}),k5e=xe("/chats_/$conversationId/talk")({beforeLoad:()=>({customLayout:!0})}),P5e=xe("/labs_/experiments/3d-generations/")({staticData:{showBackButton:"auto"}}),M5e=xe("/projects_/$projectId/chats/$conversationId")({beforeLoad:()=>({customLayout:!0})}),R5e=xe("/labs_/experiments/3d-generations/my-creations")({staticData:{showBackButton:"auto"}}),N5e=xe("/practice/chats/$conversationId/messages/$messageId/parts/$partId")({beforeLoad:()=>({customLayout:!0})}),L5e=xe("/topic-selection")(),D5e=xe("/login")(),O5e=xe("/imagine")(),U5e=xe("/agents")(),F5e=xe("/labs_/")(),j5e=xe("/subscription/start")(),B5e=xe("/subscription/pricing")(),V5e=xe("/subscription/manage")(),H5e=xe("/sdk/tasks")(),z5e=xe("/research/$researchId")(),G5e=xe("/e/sol")(),W5e=xe("/e/so")(),$5e=xe("/connector/callback")(),q5e=xe("/campaigns/$campaignId")(),K5e=xe("/subscription/redeem/enel")(),Y5e=xe("/subscription/ewallet/return")(),Z5e=xe("/shares/tasks/$shareId")(),J5e=xe("/shares/podcasts/$shareId")(),Q5e=xe("/podcasts/$podcastType/$podcastId")(),X5e=xe("/labs_/portrait/gallery")(),eEe=xe("/labs_/career-coach/report")(),tEe=xe("/labs_/career-coach/mock-interview")(),nEe=xe("/discover/{-$modalType}/{-$modalId}")(),oEe=xe("/labs_/portrait/future-self/")(),sEe=xe("/labs_/portrait/future-self/create")(),aEe=L5e.update({id:"/topic-selection",path:"/topic-selection",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./topic-selection.lazy-DzzWP0WT.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([682,1,7])).then(e=>e.Route)),rEe=D5e.update({id:"/login",path:"/login",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./login.lazy-C82f64JU.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([683,1,553,7])).then(e=>e.Route)),Pv=O5e.update({id:"/imagine",path:"/imagine",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./imagine._galleryItemId.lazy--v8oMn3r.js","https://copilot.microsoft.com/static/cmc/assets/") ).then(e=>e.i),__vite__mapDeps([684,1,652,685,686,687,688,689,690,665,7,691,692,615,616,693,694,611,595,586,587,588,591])).then(e=>e.Route)),iEe=U5e.update({id:"/agents",path:"/agents",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./agents.lazy-BR5Kazsf.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([695,1])).then(e=>e.Route)),cEe=lbe.update({id:"/tasks",path:"/tasks",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./tasks.lazy-mt3fTLSq.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([696,1,697,694,698,498,597,598,599,600,601,7,602,603,699,535,536,700,701,702,469,693,703,704,559,4,3,5,621,457,705,544,706,501])).then(e=>e.Route)),lEe=ube.update({id:"/shopping",path:"/shopping",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./shopping.lazy-BCmSs2-f.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([707,1,635,532,477,630,610,2,3,639,708,478,479,709,710,678,711,599,600,475,459,450,473,474,476,712,713,714,531,533,480,530,7,715,716,717,718,656,601,604,580,602,603,598,594,595,596,597,661,719,720,620,615,616,621,622,623,624,587,588,625,513,609,721])).then(e=>e.Route)),tr=dbe.update({id:"/shares",path:"/shares",getParentRoute:()=>Qe}),uEe=mbe.update({id:"/library",path:"/library",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./library.lazy-DC1AubRf.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([722,1,703,723,724,725,457,726,727,685,701,728,597,598,599,600,601,7,602,603,507,729,730,731,615,616,732,733,734,668,669,670,735,671,736,737,691,692,498])).then(e=>e.Route)),Zt=vbe.update({id:"/labs_",path:"/labs",getParentRoute:()=>Qe}),dEe=ybe.update({id:"/health",path:"/health",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./health.lazy-DP5grorJ.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([738,1,739,740,7])).then(e=>e.Route)),mEe=Cbe.update({id:"/gaming",path:"/gaming",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./gaming.lazy-Cf7izyAw.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([741,1,627,742,7])).then(e=>e.Route)),pEe=Sbe.update({id:"/daily",path:"/daily",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./daily.lazy-DWLE3PyF.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([743,1,744,723,724,725,745,667,746,747,748,545,669,749,670,7])).then(e=>e.Route)),fEe=Kbe.update({id:"/",path:"/",getParentRoute:()=>Qe}),hEe=F5e.update({id:"/",path:"/",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./index.lazy-BowyMI7r.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([750,1,742,751,752,7])).then(e=>e.Route)),gEe=Ybe.update({id:"/",path:"/",getParentRoute:()=>Pv}),vEe=j5e.update({id:"/subscription/start",path:"/subscription/start",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./subscription.start.lazy-C74DelTe.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([753,1,7])).then(e=>e.Route)),yEe=B5e.update({id:"/subscription/pricing",path:"/subscription/pricing",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./subscription.pricing.lazy-CbdM4AsW.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([754,1,461,462,7,463,755,756,757,758,469,759,760,11,465,471,761,762,763,764,468,765,766,767,450,768,769,770,771,772,773,774,775,776,546,777,778,779,780,781,735,512,782,706,783])).then(e=>e.Route)),CEe=V5e.update({id:"/subscription/manage",path:"/subscription/manage",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./subscription.manage.lazy-DOhUc65y.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([784,1,777,596,7])).then(e=>e.Route)),SEe=H5e.update({id:"/sdk/tasks",path:"/sdk/tasks",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./tasks.lazy-Cwm-wsHJ.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([785,1,498,598,599,600,700,703,704,7])).then(e=>e.Route)),bEe=z5e.update({id:"/research/$researchId",path:"/research/$researchId",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./research._researchId.lazy-B0P5i-87.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([786,1,659,660,598,599,600,601,7,604,580,602,603,637,605,661,662,663,671,715,716,717,718,656,594,595,596,597,450,719,720,620,615,616,621,622,623,624,587,588,625,513,609,721,787,736,737,691,692,498])).then(e=>e.Route)),IEe=G5e.update({id:"/e/sol",path:"/e/sol",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./e.sol.lazy-CEELB_pf.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([788,1,7])).then(e=>e.Route)),EEe=W5e.update({id:"/e/so",path:"/e/so",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./e.so.lazy-MCHvVfQC.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([789,1,7])).then(e=>e.Route)),wEe=$5e.update({id:"/connector/callback",path:"/connector/callback",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./connector.callback.lazy-otMKFWef.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([790,1,7])).then(e=>e.Route)),TEe=q5e.update({id:"/campaigns/$campaignId",path:"/campaigns/$campaignId",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./campaigns._campaignId.lazy-DPLcxy1V.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([791,1,7])).then(e=>e.Route)),xEe=Zbe.update({id:"/tasks_/$conversationId",path:"/tasks/$conversationId",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./tasks_._conversationId.lazy-BSKHniVQ.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([792,1,793,498,655,447,455,484,593,594,595,596,597,598,599,600,601,7,602,603,604,580,656,450,657,658,659,660,637,605,661,662,663,664,665,666,667,668,669,670,545,671,672,544,673,499,674,675,676,677,678,679,680,681,718,794,512,457,795,796,797,798,500,697,694,698,699,535,536,700,701,702,469,693,703,799,800,801,726,621,802,803,804])).then(e=>e.Route)),AEe=Qbe.update({id:"/$conversationId",path:"/$conversationId",getParentRoute:()=>tr}).lazy(()=>D(()=>import( __get$ProxyUrl("./shares._conversationId.lazy-D9z3M_yo.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([805,1,716,717,718,656,601,7,604,599,600,580,602,603,598,594,595,596,597,450,661,719,720,620,615,616,621,622,623,624,587,588,625,513,609,721])).then(e=>e.Route)),_Ee=Xbe.update({id:"/projects/$projectId",path:"/projects/$projectId",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./projects._projectId.lazy-rPDzVZyl.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([806,1,495,457,496,807,808,668,809,810,811,677,727,670,812,694,494,813,814,705,815,721,7])).then(e=>e.Route)),kEe=e2e.update({id:"/partners/feedback",path:"/partners/feedback",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./partners.feedback.lazy-BxqPJEHt.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([816,1,817,10,7])).then(e=>e.Route)),PEe=t2e.update({id:"/pages/$pageId",path:"/pages/$pageId",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./pages._pageId.lazy-C1b66vFb.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([818,1,819,595,457,729,730,731,615,616,512,820,794,780,821,822,673,823,824,825,517,469,802,681,712,600,803,815,563,567,571,576,826,664,721,827,828,829,745,830,831,814,705,717,718,656,601,7,604,599,580,602,603,598,594,596,597,450,661,719,720,620,621,622,623,624,587,588,625,513,609,832,732,833])).then(e=>e.Route)),MEe=o2e.update({id:"/$galleryItemId",path:"/$galleryItemId",getParentRoute:()=>Pv}).lazy(()=>D(()=>import( __get$ProxyUrl("./imagine._galleryItemId.lazy--v8oMn3r.js","https://copilot.microsoft.com/static/cmc/assets/") ).then(e=>e.d),__vite__mapDeps([684,1,652,685,686,687,688,689,690,665,7,691,692,615,616,693,694,611,595,586,587,588,591])).then(e=>e.Route)),REe=p5e.update({id:"/chats/temporary",path:"/chats/temporary",getParentRoute:()=>Qe}),NEe=f5e.update({id:"/chats/$conversationId",path:"/chats/$conversationId",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./chats._conversationId.lazy-h4Gzkg4o.js","https://copilot.microsoft.com/static/cmc/assets/") ).then(e=>e.c),__vite__mapDeps([834,1,814,705,717,718,656,601,7,604,599,600,580,602,603,598,594,595,596,597,450,661,719,720,620,615,616,621,622,623,624,587,588,625,513,609,721,835,716,681])).then(e=>e.Route)),LEe=h5e.update({id:"/team-of-advisers/",path:"/team-of-advisers/",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./index.lazy-_HR6J1bv.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([836,1,837,705,838,826,752,7])).then(e=>e.Route)),DEe=g5e.update({id:"/portrait/",path:"/portrait/",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./index.lazy-BS9NWKJF.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([839,1,840,841,842,843,844,7])).then(e=>e.Route)),OEe=v5e.update({id:"/experiments/",path:"/experiments/",getParentRoute:()=>Zt}),UEe=y5e.update({id:"/career-coach/",path:"/career-coach/",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./mock-interview.lazy-pCveDyoT.js","https://copilot.microsoft.com/static/cmc/assets/") ).then(e=>e.i),__vite__mapDeps([845,1,469,641,642,582])).then(e=>e.Route)),FEe=C5e.update({id:"/audio-expression/",path:"/audio-expression/",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./index.lazy-yMYAZZgl.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([846,1,847,543,544,542,545,7])).then(e=>e.Route)),jEe=K5e.update({id:"/subscription/redeem/enel",path:"/subscription/redeem/enel",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./subscription.redeem.enel.lazy-BMMbnqDc.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([848,1,777,7])).then(e=>e.Route)),BEe=Y5e.update({id:"/subscription/ewallet/return",path:"/subscription/ewallet/return",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./subscription.ewallet.return.lazy-BhVs4pPQ.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([849,1,767,776,546,676,756,7])).then(e=>e.Route)),VEe=Z5e.update({id:"/tasks/$shareId",path:"/tasks/$shareId",getParentRoute:()=>tr}).lazy(()=>D(()=>import( __get$ProxyUrl("./shares.tasks._shareId.lazy-D9_MXdo8.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([850,1,851,731,787,830,515,737,660,598,599,600,601,7,604,580,602,603,637,605,661])).then(e=>e.Route)),HEe=J5e.update({id:"/podcasts/$shareId",path:"/podcasts/$shareId",getParentRoute:()=>tr}).lazy(()=>D(()=>import( __get$ProxyUrl("./shares.podcasts._shareId.lazy-Bo9o2eNn.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([852,1,669,670,747,748,7])).then(e=>e.Route)),zEe=Q5e.update({id:"/podcasts/$podcastType/$podcastId",path:"/podcasts/$podcastType/$podcastId",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./podcasts._podcastType._podcastId.lazy-P63bGNhp.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([853,1,744,723,724,725,745,667,746,747,748,545,669,749,670,7])).then(e=>e.Route)),GEe=X5e.update({id:"/portrait/gallery",path:"/portrait/gallery",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./gallery.lazy-B787pFdR.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([854,1,840,841,842,843,844,7])).then(e=>e.Route)),WEe=eEe.update({id:"/career-coach/report",path:"/career-coach/report",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./mock-interview.lazy-pCveDyoT.js","https://copilot.microsoft.com/static/cmc/assets/") ).then(e=>e.r),__vite__mapDeps([845,1,469,641,642,582])).then(e=>e.Route)),$Ee=tEe.update({id:"/career-coach/mock-interview",path:"/career-coach/mock-interview",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./mock-interview.lazy-pCveDyoT.js","https://copilot.microsoft.com/static/cmc/assets/") ).then(e=>e.m),__vite__mapDeps([845,1,469,641,642,582])).then(e=>e.Route)),qEe=nEe.update({id:"/discover/{-$modalType}/{-$modalId}",path:"/discover/{-$modalType}/{-$modalId}",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./discover._-_modalType_._-_modalId_.lazy-BnskadgD.js","https://copilot.microsoft.com/static/cmc/assets/") ).then(e=>e.f),__vite__mapDeps([855,1,678,715,716,717,718,656,601,7,604,599,600,580,602,603,598,594,595,596,597,450,661,719,720,620,615,616,621,622,623,624,587,588,625,513,609,721,749,831,856])).then(e=>e.Route)),KEe=S5e.update({id:"/pages/$shareId",path:"/pages/$shareId",getParentRoute:()=>tr}).lazy(()=>D(()=>import( __get$ProxyUrl("./shares.pages._shareId.lazy-CmZrwpCr.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([857,1,833,819,595,457,729,730,731,615,616,512,820,794,780,821,822,673,823,824,825,517,469,802,681,712,600,803,815,563,567,571,576,826,664,721,827,828,829,745,830,831,814,705,717,718,656,601,7,604,599,580,602,603,598,594,596,597,450,661,719,720,620,621,622,623,624,587,588,625,513,609,832,733,798])).then(e=>e.Route)),YEe=b5e.update({id:"/artifacts/$shareId",path:"/artifacts/$shareId",getParentRoute:()=>tr}).lazy(()=>D(()=>import( __get$ProxyUrl("./shares.artifacts._shareId.lazy-DL7H913z.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([858,1,859,595,457,798,795,796,860,861,498,787,830,7])).then(e=>e.Route)),ZEe=I5e.update({id:"/3d-generations/$shareId",path:"/3d-generations/$shareId",getParentRoute:()=>tr}).lazy(()=>D(()=>import( __get$ProxyUrl("./shares.3d-generations._shareId.lazy-DCKfO7_w.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([862,1,863,469,672,665,666,742,615,616,689,690,7])).then(e=>e.Route)),JEe=E5e.update({id:"/team-of-advisers/summary",path:"/team-of-advisers/summary",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./summary.lazy-BuQMq0P5.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([864,1])).then(e=>e.Route)),QEe=w5e.update({id:"/team-of-advisers/debate",path:"/team-of-advisers/debate",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./debate.lazy-Bo3WeBWf.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([865,1,837,866,7])).then(e=>e.Route)),XEe=T5e.update({id:"/portrait/talk",path:"/portrait/talk",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./talk.lazy-B-cY0lUb.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([867,1,868,869,672,558,554,555,556,7,717,718,656,601,604,599,600,580,602,603,598,594,595,596,597,450,661,719,720,620,615,616,621,622,623,624,587,588,625,513,609,721,843,835,716])).then(e=>e.Route)),ewe=x5e.update({id:"/experiments/$experimentAlias",path:"/experiments/$experimentAlias",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./experiments._experimentAlias.lazy-Dh7pSXSn.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([870,1,543,544,742,751,752,7])).then(e=>e.Route)),twe=A5e.update({id:"/health_/chats/$conversationId",path:"/health/chats/$conversationId",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./health_.chats._conversationId.lazy-DRY6a4GU.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([871,1,740,716,717,718,656,601,7,604,599,600,580,602,603,598,594,595,596,597,450,661,719,720,620,615,616,621,622,623,624,587,588,625,513,609,721])).then(e=>e.Route)),nwe=_5e.update({id:"/conversations/join/$token",path:"/conversations/join/$token",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./conversations.join._token.lazy-C0JXQUfF.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([872,1,483,484,7])).then(e=>e.Route)),owe=k5e.update({id:"/chats_/$conversationId/talk",path:"/chats/$conversationId/talk",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./chats_._conversationId.talk.lazy-D8tPViHg.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([873,1,868,869,672,558,554,555,556,7,717,718,656,601,604,599,600,580,602,603,598,594,595,596,597,450,661,719,720,620,615,616,621,622,623,624,587,588,625,513,609,721,843,835,716])).then(e=>e.Route)),swe=oEe.update({id:"/portrait/future-self/",path:"/portrait/future-self/",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./index.lazy-CQpuT4nJ.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([874,1,841,875,457,844,843,7])).then(e=>e.Route)),awe=P5e.update({id:"/experiments/3d-generations/",path:"/experiments/3d-generations/",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./my-creations.lazy-foFLM9Ey.js","https://copilot.microsoft.com/static/cmc/assets/") ).then(e=>e.i),__vite__mapDeps([876,1,877,863,469,672,665,666,742,551,7,748,826,878,879,847,880,691,692,615,616,612,690,723,724,725,457,881])).then(e=>e.Route)),rwe=sEe.update({id:"/portrait/future-self/create",path:"/portrait/future-self/create",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./create.lazy-kk-lQh5W.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([882,1,844,875,551,7,843])).then(e=>e.Route)),iwe=M5e.update({id:"/projects_/$projectId/chats/$conversationId",path:"/projects/$projectId/chats/$conversationId",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./projects_._projectId.chats._conversationId.lazy-CDashXMA.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([883,1,807,808,668,809,810,811,495,457,677,727,670,812,694,813,717,718,656,601,7,604,599,600,580,602,603,598,594,595,596,597,450,661,719,720,620,615,616,621,622,623,624,587,588,625,513,609,815,721])).then(e=>e.Route)),cwe=R5e.update({id:"/experiments/3d-generations/my-creations",path:"/experiments/3d-generations/my-creations",getParentRoute:()=>Zt}).lazy(()=>D(()=>import( __get$ProxyUrl("./my-creations.lazy-foFLM9Ey.js","https://copilot.microsoft.com/static/cmc/assets/") ).then(e=>e.m),__vite__mapDeps([876,1,877,863,469,672,665,666,742,551,7,748,826,878,879,847,880,691,692,615,616,612,690,723,724,725,457,881])).then(e=>e.Route)),lwe=N5e.update({id:"/practice/chats/$conversationId/messages/$messageId/parts/$partId",path:"/practice/chats/$conversationId/messages/$messageId/parts/$partId",getParentRoute:()=>Qe}).lazy(()=>D(()=>import( __get$ProxyUrl("./practice.chats._conversationId.messages._messageId.parts._partId.lazy-BN-Vdqi9.js","https://copilot.microsoft.com/static/cmc/assets/") ),__vite__mapDeps([884,1,597,598,599,600,601,7,602,603,831])).then(e=>e.Route)),uwe={LabsIndexLazyRoute:hEe,LabsExperimentsExperimentAliasRoute:ewe,LabsPortraitTalkRoute:XEe,LabsTeamOfAdvisersDebateRoute:QEe,LabsTeamOfAdvisersSummaryRoute:JEe,LabsCareerCoachMockInterviewLazyRoute:$Ee,LabsCareerCoachReportLazyRoute:WEe,LabsPortraitGalleryLazyRoute:GEe,LabsAudioExpressionIndexRoute:FEe,LabsCareerCoachIndexRoute:UEe,LabsExperimentsIndexRoute:OEe,LabsPortraitIndexRoute:DEe,LabsTeamOfAdvisersIndexRoute:LEe,LabsExperiments3dGenerationsMyCreationsRoute:cwe,LabsPortraitFutureSelfCreateLazyRoute:rwe,LabsExperiments3dGenerationsIndexRoute:awe,LabsPortraitFutureSelfIndexLazyRoute:swe},dwe=Zt._addFileChildren(uwe),mwe={SharesConversationIdRoute:AEe,Shares3dGenerationsShareIdRoute:ZEe,SharesArtifactsShareIdRoute:YEe,SharesPagesShareIdRoute:KEe,SharesPodcastsShareIdLazyRoute:HEe,SharesTasksShareIdLazyRoute:VEe},pwe=tr._addFileChildren(mwe),fwe={ImagineGalleryItemIdRoute:MEe,ImagineIndexRoute:gEe},hwe=Pv._addFileChildren(fwe),gwe={IndexRoute:fEe,DailyRoute:pEe,GamingRoute:mEe,HealthRoute:dEe,LabsRoute:dwe,LibraryRoute:uEe,SharesRoute:pwe,ShoppingRoute:lEe,TasksRoute:cEe,AgentsLazyRoute:iEe,ImagineLazyRoute:hwe,LoginLazyRoute:rEe,TopicSelectionLazyRoute:aEe,ChatsConversationIdRoute:NEe,ChatsTemporaryRoute:REe,PagesPageIdRoute:PEe,PartnersFeedbackRoute:kEe,ProjectsProjectIdRoute:_Ee,TasksConversationIdRoute:xEe,CampaignsCampaignIdLazyRoute:TEe,ConnectorCallbackLazyRoute:wEe,ESoLazyRoute:EEe,ESolLazyRoute:IEe,ResearchResearchIdLazyRoute:bEe,SdkTasksLazyRoute:SEe,SubscriptionManageLazyRoute:CEe,SubscriptionPricingLazyRoute:yEe,SubscriptionStartLazyRoute:vEe,ChatsConversationIdTalkRoute:owe,ConversationsJoinTokenRoute:nwe,HealthChatsConversationIdRoute:twe,DiscoverModalTypeModalIdLazyRoute:qEe,PodcastsPodcastTypePodcastIdLazyRoute:zEe,SubscriptionEwalletReturnLazyRoute:BEe,SubscriptionRedeemEnelLazyRoute:jEe,ProjectsProjectIdChatsConversationIdRoute:iwe,PracticeChatsConversationIdMessagesMessageIdPartsPartIdRoute:lwe},vwe=Qe._addFileChildren(gwe)._addFileTypes();let R2=null;function ywe( _hh$temp1726 ){ var e=_hh$temp1726.isEntryServerOrIsGetRouter; return d8({routeTree:vwe})}function Un(){return R2??=ywe({isEntryServerOrIsGetRouter:!0}),R2}(function(){const e="onabort onactivate onactivateinvisible onafterprint onafterupdate onanimationcancel onanimationend onanimationiteration onanimationstart onariarequest onauxclick onbeforeactivate onbeforecopy onbeforecut onbeforedeactivate onbeforeeditfocus onbeforepaste onbeforeprint onbeforeunload onbegin onblur onbounce oncancel oncanplay oncanplaythrough oncellchange onchange onclick onclose oncommand oncontextmenu oncontrolselect oncopy oncuechange oncut ondataavailable ondatasetchanged ondatasetcomplete ondblclick ondeactivate ondrag ondragdrop ondragend ondragenter ondragexit ondragleave ondragover ondragstart ondrop ondurationchange onemptied onend onended onerror onerrorupdate onexit onfilterchange onfinish onfocus onfocusin onfocusout onformdata onfullscreenchange onfullscreenerror ongotpointercapture onhelp oninput oninvalid onkeydown onkeypress onkeyup onlayoutcomplete onload onloadeddata onloadedmetadata onloadend onloadstart onlosecapture onlostpointercapture onmediacomplete onmediaerror onmessage onmousedown onmouseenter onmouseleave onmousemove onmouseout onmouseover onmouseup onmousewheel onmove onmoveend onmovestart onmozfullscreenchange onmozfullscreenerror onmscontentzoom onmsgesturechange onmsgesturedoubletap onmsgestureend onmsgesturehold onmsgesturestart onmsgesturetap onmsgotpointercapture onmsinertiastart onmslostpointercapture onmsmanipulationstatechanged onmspointercancel onmspointerdown onmspointerenter onmspointerleave onmspointermove onmspointerout onmspointerover onmspointerup onoffline ononline onoutofsync onoverscroll onpaste onpause onplay onplaying onpointercancel onpointerdown onpointerenter onpointerleave onpointermove onpointerout onpointerover onpointerrawupdate onpointerup onprogress onpropertychange onratechange onreadystatechange onrepeat onreset onresize onresizeend onresizestart onresume onreverse onrowdelete onrowenter onrowexit onrowinserted onscroll onscrollend onsearch onseek onseeked onseeking onselect onselectionchange onselectstart onshow onstalled onstart onstop onstorage onsubmit onsuspend onsynchrestored ontimeerror ontimeupdate ontoggle ontrackchange ontransitioncancel ontransitionend ontransitionrun ontransitionstart onunload onurlflip onvolumechange onwaiting onwebkitanimationend onwebkitanimationiteration onwebkitanimationstart onwebkitfullscreenchange onwebkitfullscreenerror onwebkittransitionend onwheel".split(" ");function t(){if(typeof window<"u"){const h=[];for(const v in HTMLElement.prototype)v.slice(0,2)==="on"&&h.push(v);return h}return e} const n=typeof window<"u",o=()=>{throw new TypeError("undefined conversion");},s=()=>null,_hh$temp1727=String.prototype,a=_hh$temp1727.toLowerCase,r=_hh$temp1727.toUpperCase; function c(){throw new TypeError("Illegal constructor")}function d(){throw new TypeError("Illegal constructor")} const _hh$temp1728=function(){function h(z){let Q=te.get(z);return Q===void 0&&(Q=E(null),te.set(z,Q)),Q;}function v(z){const Q=N(z);if(Q==null||N(Q)!==L)throw Error();for(const me of _(Q))k(z,me,{value:__get$(z,me)});return z;}function y(z,Q){w(z.prototype),delete z.name,k(z,"name",{value:Q});}function C(z){return Q=>Q instanceof z&&te.has(Q);}function S(z,Q){function me(We,be){const ge=__get$(Q,be)||(z=="default"?s:o),Ne=w(new We(G,z));return w(__get$({[be](Ke,...Me){if(Ke=ge(""+Ke,...Me),Ke==null){if(z=="default")return Ke;Ke="";}return Ke=""+Ke,Me=w(E(Ne)),h(Me).v=Ke,Me;}},be));}const pe=E(c.prototype);for(const We of _(we))__set$(pe,We,me(__get$(we,We),We));return k(pe,"name",{value:z,writable:!1,configurable:!1,enumerable:!0}),w(pe);}function b(z,Q,me,pe="",We=""){if(z=r.apply(String(z)),(pe=We||pe)||(pe="http://www.w3.org/1999/xhtml"),pe=B.apply(le,[pe])?__get$(le,pe):null){if(((B.apply(pe,[z])&&__get$(pe,z))&&B.apply(__get$(__get$(pe,z),Q),[me]))&&__get$(__get$(__get$(pe,z),Q),me))return __get$(__get$(__get$(pe,z),Q),me);if((B.apply(pe,["*"])&&B.apply(__get$(pe["*"],Q),[me]))&&__get$(__get$(pe["*"],Q),me))return __get$(__get$(pe["*"],Q),me);}}function I(){return he;}const _hh$temp1729=Object,x=_hh$temp1729.assign,E=_hh$temp1729.create,k=_hh$temp1729.defineProperty,w=_hh$temp1729.freeze,_=_hh$temp1729.getOwnPropertyNames,N=_hh$temp1729.getPrototypeOf,L=_hh$temp1729.prototype,_hh$temp1730=L,B=_hh$temp1730.hasOwnProperty,_hh$temp1731=Array.prototype,F=_hh$temp1731.forEach,K=_hh$temp1731.push,G=Symbol(),te=v(new WeakMap()),ne=v([]),ae=v([]);let Te=!0,he=null,Ee=!1;class Ae{constructor(Q,me){if(Q!==G)throw Error("cannot call the constructor");k(this,"policyName",{value:me,enumerable:!0});}toString(){return h(this).v;}valueOf(){return h(this).v;}}class Ue extends Ae{}y(Ue,"TrustedScriptURL");class Fe extends Ae{}y(Fe,"TrustedHTML");class ke extends Ae{}y(ke,"TrustedScript"),y(Ae,"TrustedType");const Ve=w(E(new Fe(G,"")));h(Ve).v="";const De=w(E(new ke(G,"")));h(De).v="";const le={"http://www.w3.org/1999/xhtml":{EMBED:{attributes:{src:Ue.name}},IFRAME:{attributes:{srcdoc:Fe.name}},OBJECT:{attributes:{data:Ue.name,codebase:Ue.name}},SCRIPT:{attributes:{src:Ue.name,text:ke.name},properties:{innerText:ke.name,textContent:ke.name,text:ke.name}},"*":{attributes:{},properties:{innerHTML:Fe.name,outerHTML:Fe.name}}},"http://www.w3.org/2000/svg":{"*":{attributes:{},properties:{}}}};var oe={codebase:"codeBase",formaction:"formAction"};!n||"srcdoc"in HTMLIFrameElement.prototype||delete le["http://www.w3.org/1999/xhtml"].IFRAME.attributes.srcdoc;for(const z of Object.keys(le["http://www.w3.org/1999/xhtml"])){__get$(le["http://www.w3.org/1999/xhtml"],z).properties||(__get$(le["http://www.w3.org/1999/xhtml"],z).properties={});for(const Q of Object.keys(__get$(le["http://www.w3.org/1999/xhtml"],z).attributes))__set$(__get$(le["http://www.w3.org/1999/xhtml"],z).properties,__get$(oe,Q)?__get$(oe,Q):Q,__get$(__get$(le["http://www.w3.org/1999/xhtml"],z).attributes,Q));}for(const z of t())__set$(le["http://www.w3.org/1999/xhtml"]["*"].attributes,z,"TrustedScript"),__set$(le["http://www.w3.org/2000/svg"]["*"].attributes,z,"TrustedScript");const we={createHTML:Fe,createScriptURL:Ue,createScript:ke},se=we.hasOwnProperty;return oe=E(d.prototype),x(oe,{createPolicy:function(z,Q){if(!z.match(/^[-#a-zA-Z0-9=_/@.%]+$/g))throw new TypeError("Policy "+z+" contains invalid characters.");if((Ee&&ae.indexOf(z)===-1)&&ae.indexOf("*")===-1)throw new TypeError("Policy "+z+" disallowed.");if(z==="default"&&he)throw new TypeError("Policy "+z+" already exists.");if((Ee&&!Te)&&ne.indexOf(z)!==-1)throw new TypeError("Policy "+z+" exists.");ne.push(z);const me=E(null);if(Q&&typeof Q=="object")for(const pe of _(Q))se.call(we,pe)&&__set$(me,pe,__get$(Q,pe));else console.warn("trustedTypes.createPolicy "+z+" was given an empty policy");return w(me),Q=S(z,me),z==="default"&&(he=Q),Q;},h:C(Fe),j:C(Ue),i:C(ke),c:function(z,Q,me="",pe=""){return Q=a.apply(String(Q)),b(z,"attributes",Q,me,pe)||null;},f:function(z,Q,me=""){return b(z,"properties",String(Q),me)||null;},g:function(z=""){if(!z)try{z=document.documentElement.namespaceURI;}catch{z="http://www.w3.org/1999/xhtml";}return(z=__get$(le,z))?JSON.parse(JSON.stringify(z)):{};},a:Ve,b:De,o:he,TrustedHTML:Fe,TrustedScriptURL:Ue,TrustedScript:ke}),k(oe,"defaultPolicy",{get:I,set:()=>{}}),{l:w(oe),w:function(z,Q){Ee=!0,ae.length=0,F.call(z,me=>{K.call(ae,""+me);}),Te=Q,ne.length=0;},m:function(){Ee=!1;},s:I,u:function(){he=null,ne.splice(ne.indexOf("default"),1);}};}(),m=_hh$temp1728.l; if(typeof window<"u"&&(window.TrustedTypes&&typeof window.trustedTypes>"u"&&(window.trustedTypes=Object.freeze(window.TrustedTypes)),typeof window.trustedTypes>"u")){var p=Object.create(d.prototype); __call$(Object,"assign",[p,{isHTML:m.h,isScriptURL:m.j,isScript:m.i,createPolicy:m.createPolicy,getAttributeType:m.c,getPropertyType:m.f,getTypeMapping:m.g,emptyHTML:m.a,emptyScript:m.b,_isPolyfill_:!0}]) ,Object.defineProperty(p,"defaultPolicy",Object.getOwnPropertyDescriptor(m,"defaultPolicy")||{}),window.trustedTypes=Object.freeze(p),window.TrustedHTML=m.TrustedHTML,window.TrustedScriptURL=m.TrustedScriptURL,window.TrustedScript=m.TrustedScript,window.TrustedTypePolicy=c,window.TrustedTypePolicyFactory=d}}).call(void 0);let Z6;function D8e(e){Z6=e}const N2=["copilot.microsoft.com","copilot.com","copilot-stg.com","studiostaticassetsprod.azureedge.net", __get$(window,"location") .hostname];function Cwe(e){if(!e)return!1;const t=/^\/cl\//,n=/^https:\/\/[^/]+\.clarity\.ms\//,o=/^https:\/\/[^/]+\.cloudflare\.com\//,s=/^https:\/\/bat\.bing\.com\//,a=/^https:\/\/az416426\.vo\.msecnd\.net\//,r=/^https:\/\/fpt\.dfp\.microsoft\.com\//,c=/^https:\/\/assets\.msn\.com\//,d=/^https:\/\/content\.lifecycle\.office\.net\//,m=/^https:\/\/content\.lifecycle\.officeppe\.net\//,p=/^https:\/\/[^/]+\.paypal\.com\//,h=/^https:\/\/[^/]+\.paypalobjects\.com\//,v=/^https:\/\/cdn\.shopifycloud\.com\//,y=/^https:\/\/[^/]+\.stripe\.com\//,C=/^https:\/\/tvmodules-vidaa\.vidaahub\.com\//,S= __call$(__get$(window,"location").protocol,"replace",[":",""]) ,b= __call$(__get$(window,"location").hostname,"replace",[/\./g,"\\."]) ,I= __get$(window,"location") .port?`:${ __get$(window,"location") .port}`:"",x=new RegExp(`^${S}://${b}${I}/src/workers/[^/]+\\.worker\\.ts`),E=N2.map(_=>{const N= __call$(_,"replace",[/\./g,"\\."]) ;return new RegExp(`^https://${N}/.+/assets/[^/]+\\.worker-[^/]+\\.js$`)}),k=_=>{if(!_.startsWith("blob:"))return!1;const N=_.match(/^blob:(https?:\/\/[^/]+)/);if(!N||!N[1])return!1;const L=N[1];try{const B=new URL(L);return N2.some(F=>B.hostname===F)}catch{return!1}},w=_=>!1;return t.test(e)||n.test(e)||o.test(e)||s.test(e)||a.test(e)||r.test(e)||c.test(e)||d.test(e)||m.test(e)||p.test(e)||h.test(e)||v.test(e)||y.test(e)||C.test(e)||x.test(e)||E.some(_=>_.test(e))||e===Z6||k(e)||w()}function Swe(){typeof window<"u"&&(window.copilotTrustedTypesPolicy=window.trustedTypes?.createPolicy("copilotPolicy",{createHTML:e=>by.sanitize(e)}),window.trustedTypes?.createPolicy("default",{createScriptURL:e=>{if(Cwe(e))return e;throw new Error(`Unsafe script URL "${e}" blocked by CSP.`)},createHTML:e=>by.sanitize(e)}))}function bwe(){if(typeof window>"u")return;const e=window.randomSeed;return typeof e=="number"?e:void 0}const Iwe="6472538445",Ewe="6738511300";function wwe(){const e=document.querySelector('meta[name="apple-itunes-app"]');e&&e.remove();let t=null;if(u5()?t=Iwe:KN()&&(t=Ewe),t){const n=document.createElement("meta");n.name="apple-itunes-app",n.content=`app-id=${t}`,document.head.appendChild(n)}}Swe();wwe();const Vh=Un();Vh.update({context:{...Vh.options.context,fetchAndParseAPI:ut,queryClient:hd}});m8.hydrateRoot(document.getElementById("app"),i.jsx(u.StrictMode,{children:i.jsx(IR,{queryClient:hd,randomSeed:bwe(),children:i.jsx(p8,{router:Vh})})}));export{ape as $,R as A,X as B,fTe as C,Rs as D,Z1 as E,Se as F,Mo as G,lm as H,i_e as I,EQ as J,rg as K,At as L,Nt as M,wo as N,et as O,xTe as P,vt as Q,Z as R,kTe as S,TTe as T,tt as U,w6e as V,yre as W,W as X,E6e as Y,pi as Z,io as _,Fr as a,ote as a$,ct as a0,Be as a1,Xk as a2,ln as a3,T6e as a4,xo as a5,$ as a6,t0 as a7,at as a8,Ire as a9,Eo as aA,bt as aB,eo as aC,sn as aD,CA as aE,Vu as aF,Gs as aG,Mn as aH,Co as aI,db as aJ,mb as aK,tm as aL,gt as aM,Rme as aN,yt as aO,kT as aP,H4e as aQ,_A as aR,U_e as aS,kt as aT,X6e as aU,bk as aV,Ht as aW,zTe as aX,Vwe as aY,No as aZ,YA as a_,rt as aa,m6e as ab,p6e as ac,ss as ad,lX as ae,Txe as af,fe as ag,e8e as ah,rm as ai,i8e as aj,Mie as ak,V6e as al,W6e as am,en as an,w4 as ao,si as ap,QTe as aq,XTe as ar,km as as,nbe as at,Rm as au,Dt as av,ov as aw,b8e as ax,Ut as ay,Oc as az,Fx as b,txe as b$,JTe as b0,doe as b1,G0 as b2,Dw as b3,gie as b4,k4 as b5,u0 as b6,LZ as b7,DAe as b8,_i as b9,z6 as bA,Rh as bB,fv as bC,_t as bD,po as bE,H3 as bF,yAe as bG,pde as bH,Kt as bI,eq as bJ,cl as bK,mle as bL,B4e as bM,gme as bN,Xke as bO,Ese as bP,f4e as bQ,Ie as bR,al as bS,Ws as bT,Vse as bU,eTe as bV,rl as bW,V0 as bX,H0 as bY,dl as bZ,hd as b_,vo as ba,WTe as bb,nz as bc,mm as bd,Uf as be,Fh as bf,Ju as bg,HA as bh,Fue as bi,W1 as bj,Yt as bk,WI as bl,pt as bm,YY as bn,LTe as bo,Ja as bp,Pm as bq,$s as br,afe as bs,Xf as bt,pg as bu,N$ as bv,z0 as bw,Zn as bx,K6 as by,nIe as bz,O as c,St as c$,Vme as c0,hg as c1,Ive as c2,Wk as c3,Z7e as c4,Y7e as c5,Kx as c6,J1 as c7,Q1 as c8,Jn as c9,H4 as cA,hs as cB,Vr as cC,E6 as cD,K4 as cE,hye as cF,j_ as cG,hk as cH,Lt as cI,Nb as cJ,PS as cK,goe as cL,Th as cM,uq as cN,cc as cO,Bt as cP,Tt as cQ,w6 as cR,Tm as cS,J7e as cT,C8e as cU,Gk as cV,Wx as cW,S8e as cX,CK as cY,dC as cZ,Uo as c_,oQ as ca,Xse as cb,gk as cc,gb as cd,Nhe as ce,w8e as cf,Qn as cg,nn as ch,mxe as ci,$w as cj,ui as ck,li as cl,FJ as cm,Q7e as cn,gn as co,cQ as cp,N3 as cq,$1e as cr,Hs as cs,Ps as ct,_n as cu,ci as cv,E_e as cw,w_e as cx,wxe as cy,Jk as cz,Za as d,FX as d$,Foe as d0,H_e as d1,Que as d2,U1e as d3,R1e as d4,mt as d5,oq as d6,rxe as d7,qa as d8,Qr as d9,Sv as dA,Y3 as dB,Kwe as dC,qwe as dD,Vf as dE,iv as dF,_x as dG,J3 as dH,G4e as dI,DX as dJ,x_e as dK,x4e as dL,Lse as dM,HTe as dN,X$ as dO,DT as dP,AK as dQ,pm as dR,UTe as dS,kn as dT,x1 as dU,K0 as dV,kv as dW,Rk as dX,Jee as dY,Nk as dZ,yg as d_,zxe as da,vT as db,b1 as dc,to as dd,lo as de,Ir as df,xxe as dg,r4e as dh,r0e as di,Rt as dj,dye as dk,R7e as dl,b4e as dm,G2 as dn,lQ as dp,kde as dq,zd as dr,rG as ds,F7e as dt,c6 as du,sTe as dv,gq as dw,gs as dx,iA as dy,E8e as dz,Io as e,Mt as e$,NTe as e0,h6e as e1,ha as e2,ri as e3,Kw as e4,qt as e5,GR as e6,h1 as e7,f4 as e8,Ys as e9,X_ as eA,Dx as eB,bbe as eC,K6e as eD,Bk as eE,yoe as eF,Jse as eG,ds as eH,UJ as eI,Qa as eJ,f2e as eK,ma as eL,hi as eM,kse as eN,Kl as eO,Yc as eP,uX as eQ,x8e as eR,Z0e as eS,b2e as eT,Jg as eU,NK as eV,ns as eW,Le as eX,ot as eY,Kke as eZ,C4 as e_,V_e as ea,X1 as eb,p_e as ec,oA as ed,LY as ee,XC as ef,Av as eg,xv as eh,b0e as ei,O1 as ej,qd as ek,UT as el,ei as em,EAe as en,ic as eo,W0 as ep,S1 as eq,Iv as er,hz as es,YTe as et,KTe as eu,qTe as ev,$Te as ew,Ks as ex,Lo as ey,sl as ez,ut as f,c0 as f$,zwe as f0,Zf as f1,spe as f2,cq as f3,xCe as f4,moe as f5,Abe as f6,xbe as f7,xp as f8,z1 as f9,aZ as fA,uce as fB,gi as fC,cm as fD,fA as fE,C_e as fF,t4e as fG,n4e as fH,o4e as fI,D4 as fJ,L4 as fK,Sve as fL,g6e as fM,rSe as fN,l6e as fO,u6e as fP,jJ as fQ,Wf as fR,dAe as fS,c8e as fT,iTe as fU,jt as fV,vc as fW,av as fX,Tx as fY,Kk as fZ,$k as f_,mte as fa,Xe as fb,YI as fc,gv as fd,Wwe as fe,bv as ff,o6e as fg,ore as fh,Dae as fi,y0 as fj,J4e as fk,rre as fl,e6e as fm,G0e as fn,O4 as fo,Hr as fp,Ed as fq,SA as fr,w7e as fs,y9e as ft,obe as fu,b7e as fv,S7e as fw,T7e as fx,I7e as fy,E7e as fz,X4e as g,__e as g$,K$ as g0,go as g1,Gd as g2,UAe as g3,yo as g4,OAe as g5,BAe as g6,w9e as g7,Kc as g8,ate as g9,m5 as gA,fY as gB,yIe as gC,pIe as gD,fIe as gE,PAe as gF,MAe as gG,xK as gH,Fxe as gI,Mxe as gJ,Nxe as gK,vxe as gL,Rxe as gM,rv as gN,rs as gO,_c as gP,di as gQ,bJ as gR,xme as gS,L6e as gT,A0 as gU,dh as gV,$4e as gW,dK as gX,cSe as gY,are as gZ,Kae as g_,Wa as ga,ks as gb,PT as gc,cg as gd,fi as ge,fo as gf,_m as gg,F0 as gh,r5 as gi,foe as gj,poe as gk,P3 as gl,wh as gm,zk as gn,Nae as go,B_ as gp,Lhe as gq,Mk as gr,L0 as gs,qs as gt,f9e as gu,Wd as gv,wv as gw,LT as gx,cs as gy,m1 as gz,cre as h,ZIe as h$,j6 as h0,r5e as h1,M8e as h2,S6 as h3,Mm as h4,A8e as h5,mK as h6,A4 as h7,y7e as h8,Uc as h9,r6e as hA,Ck as hB,gTe as hC,hTe as hD,VL as hE,Tg as hF,wg as hG,jk as hH,S2e as hI,FAe as hJ,N6e as hK,gw as hL,B2e as hM,s5e as hN,ed as hO,Fn as hP,bIe as hQ,bn as hR,p0 as hS,gSe as hT,W7e as hU,c4e as hV,OIe as hW,Y1e as hX,u6 as hY,K1e as hZ,wse as h_,N_e as ha,kb as hb,ca as hc,ea as hd,bs as he,Ah as hf,zQ as hg,kA as hh,pk as hi,ol as hj,ZTe as hk,Z0 as hl,Uxe as hm,Gxe as hn,RX as ho,qf as hp,yA as hq,PX as hr,$f as hs,k3 as ht,Qu as hu,I_ as hv,U0 as hw,NIe as hx,A_e as hy,Upe as hz,Mae as i,A6e as i$,C4e as i0,P4e as i1,k4e as i2,y4e as i3,wQ as i4,yse as i5,w4e as i6,T4e as i7,M4e as i8,$6e as i9,Ot as iA,jwe as iB,l8e as iC,u8e as iD,dA as iE,Zme as iF,VTe as iG,o5 as iH,V$ as iI,H$ as iJ,dq as iK,Y6e as iL,Z6e as iM,fh as iN,Pb as iO,Y9e as iP,Jre as iQ,i6e as iR,x7e as iS,nte as iT,L6 as iU,Oh as iV,m6 as iW,q$ as iX,j_e as iY,P_e as iZ,u5e as i_,Bse as ia,wd as ib,jTe as ic,o_e as id,n_e as ie,P4 as ig,uQ as ih,D1e as ii,FTe as ij,_4e as ik,A4e as il,Bs as im,R8e as io,Jd as ip,E9e as iq,jZ as ir,RIe as is,R4 as it,v0 as iu,M6e as iv,t4 as iw,Ife as ix,lTe as iy,Y2e as iz,F_ as j,X_e as j$,Gwe as j0,$we as j1,DTe as j2,RTe as j3,OTe as j4,Rde as j5,Lk as j6,Fpe as j7,qc as j8,T6 as j9,T3e as jA,hke as jB,mke as jC,pke as jD,fke as jE,dke as jF,uke as jG,Ske as jH,gke as jI,vke as jJ,yke as jK,Cke as jL,l3e as jM,c3e as jN,d3e as jO,u3e as jP,n3e as jQ,t3e as jR,k3e as jS,P3e as jT,U3e as jU,F3e as jV,e3e as jW,j3e as jX,K_e as jY,Y_e as jZ,Z_e as j_,I6e as ja,Qne as jb,rke as jc,J3e as jd,ake as je,ike as jf,Dke as jg,eke as jh,tke as ji,Oke as jj,Uke as jk,Q3e as jl,X3e as jm,r3e as jn,i3e as jo,E3e as jp,Eke as jq,wke as jr,Ike as js,$i as jt,Vke as ju,A3e as jv,pc as jw,x3e as jx,_3e as jy,w3e as jz,V4e as k,t6e as k$,Q_e as k0,q_e as k1,J_e as k2,S3e as k3,C3e as k4,I3e as k5,b3e as k6,xke as k7,Ake as k8,f3e as k9,Z3e as kA,s3e as kB,o3e as kC,B3e as kD,H3e as kE,V3e as kF,z3e as kG,Zne as kH,Fke as kI,jke as kJ,yTe as kK,Bke as kL,q3e as kM,Jxe as kN,ske as kO,nke as kP,oke as kQ,es as kR,Cme as kS,tA as kT,V6 as kU,i7e as kV,zs as kW,GTe as kX,F_e as kY,O_ as kZ,W1e as k_,m3e as ka,p3e as kb,_ke as kc,kke as kd,Mke as ke,Pke as kf,cke as kg,Lke as kh,lke as ki,y3e as kj,v3e as kk,G3e as kl,bke as km,Tke as kn,M3e as ko,R3e as kp,N3e as kq,L3e as kr,D3e as ks,O3e as kt,g3e as ku,h3e as kv,$3e as kw,W3e as kx,Y3e as ky,K3e as kz,G3 as l,_v as l$,hT as l0,Xae as l1,W_ as l2,sre as l3,fue as l4,z$ as l5,sIe as l6,mi as l7,s0e as l8,ao as l9,a4e as lA,s4e as lB,exe as lC,i4e as lD,a0e as lE,Ek as lF,VX as lG,k_e as lH,C7e as lI,I4 as lJ,E4 as lK,gl as lL,yh as lM,a9e as lN,pv as lO,c9e as lP,i9e as lQ,t9e as lR,s9e as lS,l9e as lT,_pe as lU,d5 as lV,xpe as lW,S0 as lX,z2e as lY,sf as lZ,Un as l_,tT as la,Y6 as lb,Jc as lc,p1 as ld,I8e as le,Hke as lf,M1 as lg,zke as lh,Rke as li,Sd as lj,n8e as lk,s8e as ll,o8e as lm,VSe as ln,t8e as lo,YJ as lp,cA as lq,q6e as lr,yn as ls,hA as lt,aS as lu,jX as lv,Dse as lw,am as lx,a_e as ly,k7e as lz,Ce as m,jo as m$,Cl as m0,ioe as m1,Y4e as m2,Z4e as m3,Ro as m4,Rie as m5,kie as m6,I2 as m7,W2e as m8,G6e as m9,j7e as mA,S6e as mB,b6e as mC,f6e as mD,P6 as mE,b6 as mF,I6 as mG,cTe as mH,Vs as mI,uxe as mJ,Xw as mK,MQ as mL,bce as mM,IK as mN,Zx as mO,Z2e as mP,D8e as mQ,Z3 as mR,CTe as mS,c7e as mT,h8e as mU,d8e as mV,y8e as mW,v8e as mX,g8e as mY,bm as mZ,m8e as m_,z6e as ma,C0 as mb,$Ae as mc,vA as md,WAe as me,GAe as mf,HAe as mg,VAe as mh,nxe as mi,RQ as mj,PQ as mk,ID as ml,m_e as mm,Jke as mn,TS as mo,lp as mp,mAe as mq,vTe as mr,pT as ms,Sh as mt,bK as mu,vK as mv,yK as mw,gg as mx,STe as my,HT as mz,_ve as n,vAe as n$,X7e as n0,f8e as n1,p8e as n2,Lye as n3,Rg as n4,I_e as n5,g9e as n6,Wu as n7,t_e as n8,b_ as n9,jxe as nA,ET as nB,_xe as nC,fk as nD,mR as nE,Tu as nF,voe as nG,Wke as nH,Yk as nI,hoe as nJ,Nn as nK,Xhe as nL,DZ as nM,e7e as nN,GA as nO,Xye as nP,M_e as nQ,Xwe as nR,ra as nS,TA as nT,Pi as nU,gxe as nV,$re as nW,Gre as nX,uh as nY,_6e as nZ,R6e as n_,fye as na,Z4 as nb,Y4 as nc,V4 as nd,r_e as ne,u_e as nf,ahe as ng,nv as nh,tv as ni,ihe as nj,F0e as nk,zJ as nl,yxe as nm,fc as nn,kq as no,Axe as np,i5 as nq,$d as nr,IT as ns,CT as nt,kxe as nu,aq as nv,Q6e as nw,Bwe as nx,Bxe as ny,Vxe as nz,Je as o,pTe as o$,uAe as o0,O6e as o1,U6e as o2,EJ as o3,d3 as o4,k6e as o5,S_e as o6,Jr as o7,z7e as o8,Qd as o9,G_e as oA,W_e as oB,dfe as oC,ife as oD,ffe as oE,As as oF,q9e as oG,$9e as oH,z_e as oI,G6 as oJ,SK as oK,Zke as oL,hAe as oM,Yke as oN,B4 as oO,Y2 as oP,rhe as oQ,che as oR,dhe as oS,gAe as oT,tG as oU,OT as oV,Zre as oW,Mve as oX,Jp as oY,lhe as oZ,uhe as o_,$a as oa,xa as ob,vl as oc,M9e as od,Xme as oe,epe as of,R9e as og,hCe as oh,ig as oi,Hd as oj,qle as ok,IO as ol,Qk as om,bTe as on,Zw as oo,aTe as op,d6e as oq,mTe as or,ETe as os,ITe as ot,wTe as ou,_Te as ov,ATe as ow,v6e as ox,CS as oy,$_e as oz,AN as p,Lwe as p$,wn as p0,jI as p1,dR as p2,td as p3,wIe as p4,dpe as p5,Tn as p6,K4e as p7,q4e as p8,U4 as p9,gP as pA,Q2 as pB,yP as pC,SP as pD,cI as pE,CP as pF,uI as pG,BI as pH,_I as pI,ff as pJ,wr as pK,AM as pL,DI as pM,xP as pN,LI as pO,PM as pP,pI as pQ,Qh as pR,pd as pS,RI as pT,r8e as pU,ob as pV,a8e as pW,J6e as pX,B_e as pY,r6 as pZ,kc as p_,Q4e as pa,ih as pb,Oo as pc,W4e as pd,cAe as pe,u7e as pf,l7e as pg,fd as ph,is as pi,yr as pj,sc as pk,wI as pl,oM as pm,pa as pn,Ln as po,Kh as pp,P8 as pq,dd as pr,Yh as ps,Cu as pt,lP as pu,AP as pv,vP as pw,tI as px,aI as py,mI as pz,Qwe as q,KAe as q$,O8 as q0,MP as q1,PP as q2,NP as q3,LP as q4,yI as q5,sI as q6,bu as q7,$8 as q8,Pc as q9,Ere as qA,Nie as qB,y6e as qC,t3 as qD,_re as qE,C6e as qF,a3e as qG,Yxe as qH,Kxe as qI,E1 as qJ,Gke as qK,Sre as qL,qAe as qM,YAe as qN,ZAe as qO,zAe as qP,GZ as qQ,zZ as qR,$Z as qS,WZ as qT,IL as qU,G1 as qV,BZ as qW,Or as qX,dTe as qY,ZZ as qZ,Ax as q_,Ge as qa,ji as qb,Qs as qc,Nwe as qd,Rwe as qe,Owe as qf,Iu as qg,cM as qh,VP as qi,FP as qj,jP as qk,AI as ql,Us as qm,OM as qn,RP as qo,rf as qp,ehe as qq,Xfe as qr,oxe as qs,r7e as qt,L_e as qu,mee as qv,D_e as qw,IAe as qx,bAe as qy,wre as qz,Ct as r,AC as r$,qae as r0,J2e as r1,YIe as r2,$Ie as r3,fhe as r4,sm as r5,xIe as r6,YD as r7,Ph as r8,I0e as r9,Wxe as rA,$xe as rB,qxe as rC,rAe as rD,Gce as rE,sxe as rF,Xt as rG,axe as rH,zS as rI,co as rJ,aD as rK,js as rL,Ki as rM,Uue as rN,jY as rO,pAe as rP,Mee as rQ,cx as rR,PA as rS,hq as rT,$$ as rU,Qxe as rV,X3 as rW,v9e as rX,PZ as rY,MZ as rZ,RZ as r_,K5 as ra,QAe as rb,mc as rc,BT as rd,dce as re,x6e as rf,a3 as rg,V9e as rh,z9e as ri,G9e as rj,g6 as rk,W9e as rl,j9e as rm,B9e as rn,D9e as ro,F9e as rp,O9e as rq,Qke as rr,U9e as rs,z4e as rt,N9e as ru,H9e as rv,L9e as rw,uae as rx,Vce as ry,Bce as rz,Jo as s,Ude as s$,NZ as s0,Ur as s1,Jwe as s2,Ywe as s3,Zwe as s4,rTe as s5,RK as s6,TAe as s7,wk as s8,dxe as s9,Cxe as sA,a6e as sB,tde as sC,m4e as sD,d4e as sE,f_e as sF,Uwe as sG,Pxe as sH,Dxe as sI,Oxe as sJ,bq as sK,uo as sL,Ea as sM,FC as sN,Exe as sO,Ixe as sP,fT as sQ,Jt as sR,yle as sS,Ts as sT,y1 as sU,Qc as sV,rq as sW,Bye as sX,E3 as sY,vue as sZ,qke as s_,pxe as sa,iq as sb,P7e as sc,N7e as sd,M7e as se,wAe as sf,cye as sg,aAe as sh,hN as si,Lc as sj,lAe as sk,e9e as sl,xAe as sm,bxe as sn,zR as so,tTe as sp,RAe as sq,NAe as sr,AAe as ss,ix as st,_Ae as su,Yd as sv,s_e as sw,Ox as sx,Sxe as sy,G7e as sz,aT as t,w1 as t$,Uoe as t0,ux as t1,fAe as t2,E2e as t3,T8e as t4,I2e as t5,R0 as t6,gT as t7,t7e as t8,Y1 as t9,T_e as tA,HQ as tB,D6e as tC,pb as tD,nm as tE,kAe as tF,hK as tG,Xxe as tH,nTe as tI,pK as tJ,tu as tK,oTe as tL,jr as tM,eAe as tN,tAe as tO,nAe as tP,wK as tQ,TK as tR,EK as tS,iAe as tT,XAe as tU,SAe as tV,CAe as tW,n6e as tX,u4e as tY,gK as tZ,B0 as t_,p4e as ta,tfe as tb,u5 as tc,O_e as td,kP as te,Xr as tf,R_e as tg,l4e as th,vIe as ti,v$ as tj,P6e as tk,CIe as tl,Vt as tm,d_e as tn,c_e as to,l_e as tp,iT as tq,W6 as tr,mQ as ts,c6e as tt,g_e as tu,h_e as tv,v_e as tw,jpe as tx,loe as ty,C9e as tz,ak as u,o7e as u$,f1 as u0,oSe as u1,fxe as u2,tq as u3,Dr as u4,Zfe as u5,RT as u6,R$ as u7,q0 as u8,HI as u9,o6 as uA,e5 as uB,lg as uC,b_e as uD,JAe as uE,R4e as uF,ixe as uG,Lxe as uH,So as uI,W0e as uJ,h4e as uK,gm as uL,Pae as uM,lxe as uN,bse as uO,s1e as uP,o1e as uQ,Uh as uR,Wae as uS,j4e as uT,O4e as uU,D4e as uV,s6e as uW,U4e as uX,F4e as uY,L4e as uZ,n7e as u_,p2 as ua,h_ as ub,im as uc,Dh as ud,MK as ue,uTe as uf,mSe as ug,I1 as uh,sAe as ui,Nke as uj,Zxe as uk,oAe as ul,nq as um,Hxe as un,KN as uo,G4 as up,Xi as uq,Vd as ur,J0 as us,ok as ut,jde as uu,sk as uv,rk as uw,ik as ux,lk as uy,p9e as uz,j as v,hR as v$,q3 as v0,N4e as v1,cxe as v2,v4e as v3,g4e as v4,F6e as v5,j6e as v6,BTe as v7,Ise as v8,E4e as v9,iI as vA,IP as vB,A8 as vC,ba as vD,W2 as vE,K8 as vF,Ac as vG,N8 as vH,D8 as vI,dI as vJ,md as vK,By as vL,Ol as vM,Dwe as vN,w8 as vO,UM as vP,kwe as vQ,V8 as vR,Su as vS,Q8 as vT,CM as vU,lR as vV,ag as vW,yR as vX,jy as vY,wu as vZ,PI as v_,I4e as va,qH as vb,XH as vc,Tr as vd,S4e as ve,cCe as vf,u2 as vg,z2 as vh,lf as vi,k8 as vj,Z2 as vk,uP as vl,_8 as vm,nc as vn,ng as vo,Ms as vp,J2 as vq,C8 as vr,F8 as vs,Mwe as vt,U8 as vu,TP as vv,BP as vw,Pwe as vx,mP as vy,uf as vz,ye as w,E_ as w$,Xh as w0,vI as w1,eg as w2,Rc as w3,TM as w4,NI as w5,xM as w6,hI as w7,gI as w8,sg as w9,Sue as wA,H6e as wB,Nc as wC,Hle as wD,sN as wE,Vle as wF,r9e as wG,n9e as wH,a7e as wI,K9e as wJ,s7e as wK,iQ as wL,o9e as wM,Dc as wN,vee as wO,LA as wP,hee as wQ,zr as wR,gee as wS,a1e as wT,Jl as wU,r1e as wV,g0 as wW,e_e as wX,y_e as wY,$ke as wZ,e4e as w_,x8 as wa,zse as wb,jAe as wc,B7e as wd,ete as we,Fwe as wf,Hwe as wg,MTe as wh,WC as wi,lq as wj,LAe as wk,Z$ as wl,ga as wm,YN as wn,PTe as wo,tpe as wp,_7e as wq,_1e as wr,A7e as ws,bae as wt,hxe as wu,Qme as wv,BX as ww,Au as wx,$2e as wy,B6e as wz,fs as x,u9e as x0,d9e as x1,m9e as x2,h9e as x3,S9e as x4,b9e as x5,I9e as x6,T9e as x7,x9e as x8,A9e as x9,_9e as xa,k9e as xb,P9e as xc,Z9e as xd,J9e as xe,Q9e as xf,X9e as xg,d7e as xh,m7e as xi,p7e as xj,f7e as xk,h7e as xl,g7e as xm,v7e as xn,L7e as xo,V7e as xp,H7e as xq,$7e as xr,q7e as xs,K7e as xt,_8e as xu,k8e as xv,P8e as xw,N8e as xx,L8e as xy,f0 as y,er as z};

/*hammerhead|script|end*/