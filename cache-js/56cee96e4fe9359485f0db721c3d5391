/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
var SERPCopilotSearchComposer;(function(n){function vi(){var i=_w.pageYOffset,f=i<ut,n,u;if(ut=i,n=Lib.CssClass.contains(t,l),u=wi(),y=u,!kt&&f){n&&nt(!0);return}if(u){o&&(dt?n&&nt(!0):wr());return}br();i>r!=n&&(n?nt(!1):yi())}function wr(){Lib.CssClass.add(t,w);p&&!h&&Lib.CssClass.add(t,pt)}function br(){Lib.CssClass.remove(t,w);p&&!h&&Lib.CssClass.remove(t,pt)}function yi(){ot||(er(lr),ot=!0);h||ki();Lib.CssClass.add(_d.body,or);Lib.CssClass.add(t,l);tt(e);hu()}function nt(n){Lib.CssClass.contains(t,l)&&(n?pi():Lib.CssClass.add(t,at))}function pi(){Lib.CssClass.remove(t,at);Lib.CssClass.remove(t,l);Lib.CssClass.remove(t,w);tt(0)}function wi(){return _w.pageYOffset+_w.innerHeight>=sb_de.offsetHeight-1}function kr(){if(u&&"ResizeObserver"in window){var n= new ResizeObserver(function(n){for(var o,r,u,i=0,f=n;i<f.length;i++)o=__get$(f,i),r=o.contentRect.height,b!==r&&(u=r-b,e=e+u,b=r,Lib.CssClass.contains(t,l)&&(tt(e),(y&&u>0)&&window.scrollTo(_w.pageXOffset,_w.pageYOffset+u)));}) ;n.observe(f);st&&sj_evt.bind("csInlineSearchTrig",function(){n.disconnect();e=fi;tt(e)})}}function dr(){if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window){var n=new IntersectionObserver(function(n,t){n.forEach(function(n){n.isIntersecting&&(et||(er(cr),et=!0,(CopilotSearch===null||CopilotSearch===void 0?void 0:CopilotSearch.Helper)&&CopilotSearch.Helper.logCustomData&&CopilotSearch.Helper.logCustomData(CopilotSearch.Helper.ClientInst.SystemEvent,yr,"Serp",{},""),ru()),t.disconnect())})},{root:null,threshold:.1});n.observe(t)}}function gr(){u=_ge("b_copilot_search");h=Lib.CssClass.contains(u,sr);h&&(sj_evt.bind(ar,ou),sj_evt.bind(vr,su),ft||bi(!1));hi&&sj_evt.bind("ShellTurnScroll",gi,!0);Lib.CssClass.remove(u,a);e=u.offsetHeight;nu();f=_qs(".composer_container");b=f.offsetHeight;kr();h&&!ft&&(uu(),bi(!0))}function nu(){(s=_ge(yt),s)||(s=sj_ce("div",yt),p&&Lib.CssClass.add(s,w),u.after(s))}function tt(n){var t=p?tu(n):n;s.style.height=t+"px"}function tu(n){var t=n,i,r;return it&&(t-=it.offsetHeight),rt&&(i=getComputedStyle(rt),t-=parseInt(i.paddingBottom)),f&&(r=getComputedStyle(f),t-=parseInt(r.marginTop)),Math.max(0,t)}function iu(){if(i=_qs("#b_bop_cs_sb_place .suggestion_wrapper"),i&&i.childElementCount!=0){Lib.CssClass.add(t,"b_hassc");Lib.CssClass.remove(i,"hidden");(CopilotSearch===null||CopilotSearch===void 0?void 0:CopilotSearch.Helper)&&CopilotSearch.Helper.logCustomData&&CopilotSearch.Helper.logCustomData(CopilotSearch.Helper.ClientInst.SystemEvent,CopilotSearch.Helper.LogNames.SuggestionChipEvent,"Serp",{Source:"BOPComposer"},"");var n=i.querySelectorAll(".suggestion_chip");n===null||n===void 0?void 0:n.forEach(function(n,t){return sj_be(n,"click",function(){var i,r;(CopilotSearch===null||CopilotSearch===void 0?void 0:CopilotSearch.Helper)&&CopilotSearch.Helper.logCustomData&&CopilotSearch.Helper.logCustomData(CopilotSearch.Helper.ClientInst.CopilotInteraction,CopilotSearch.Helper.LogNames.SuggestionChipClick,"Serp",{Position:(i=t+1)===null||i===void 0?void 0:i.toString(),Title:(r=n===null||n===void 0?void 0:n.innerText)!==null&&r!==void 0?r:"",Source:"BOPComposer"},"")})})}}function ru(){var n,t;i&&(n=i.querySelectorAll(".suggestion_chip"),n&&n.length!=0)&&(t=[],n===null||n===void 0?void 0:n.forEach(function(n){(n===null||n===void 0?void 0:n.innerText)&&t.push(n.innerText)}),(CopilotSearch===null||CopilotSearch===void 0?void 0:CopilotSearch.Helper)&&CopilotSearch.Helper.logCustomData&&CopilotSearch.Helper.logCustomData(CopilotSearch.Helper.ClientInst.SystemEvent,CopilotSearch.Helper.LogNames.SuggestionChipRender,"Serp",{NumChips:n.length.toString(),Titles:JSON.stringify(t),Source:"BOPComposer"},""))}function bi(n){i&&(n?Lib.CssClass.remove(i,a):Lib.CssClass.add(i,a))}function uu(){var s,r,n,o,e,y;if(i&&u&&(s=_qs("#b_copilot_search .composer_wrapper"),s)&&(r=i.querySelectorAll(".suggestion_chip"),r.length!==0)){n=getComputedStyle(r[0]);fu(n);var p=parseInt(n.paddingLeft)+parseInt(n.paddingRight)+parseInt(n.borderLeftWidth)+parseInt(n.borderRightWidth),h=getComputedStyle(i),w=parseInt(_G.RTL?h.marginRight:h.marginLeft),b=parseInt(h.gap)||0,k=_d.documentElement.clientWidth||_w.innerWidth,v=getComputedStyle(t),d=parseInt(_G.RTL?v.paddingRight:v.paddingLeft),g=Math.min(f.offsetWidth,k-d),l=g-s.offsetWidth-w;for(o=0;o<r.length;o++)e= __get$(r,o) ,y=(c?Math.ceil(c.measureText(e.innerText).width):e.hasAttribute("data-width")?parseInt(e.getAttribute("data-width")):0)+p,l-=y,l<0&&Lib.CssClass.add(e,a),l-=b}}function fu(n){var t,i;c||(t=_d.createElement("canvas"),t.getContext&&(c=t.getContext("2d")),c)&&(i=n.fontWeight+" "+n.fontSize+" "+n.fontFamily,c.font=i)}function eu(){i&&Lib.CssClass.remove(i,vt)}function ki(){i&&Lib.CssClass.add(i,vt)}function di(n){n.animationName==="fadeInAnimation"&&n.target===t&&eu();i&&n.animationName==="scFadeOutAnimation"&&n.target===i&&ki();n.animationName==="fadeOutAnimation"&&n.target===t&&pi()}function ou(){Lib.CssClass.add(f,wt)}function su(){Lib.CssClass.remove(f,wt)}function gi(){var t=_ge("b_content"),n=_d.querySelectorAll(".ca_userquery"),i=_d.querySelector(".b_inlineChatInitWrapper .ca_div");(n===null||n===void 0?void 0:n.length)<=0||!t||(i&&(i.style.display="block"),Lib.CssClass.remove(t,"b_showconv"),n[0].scrollIntoView({behavior:"smooth",block:"start",inline:"start"}),sj_evt.fire("bcontentvis"),sj_evt.unbind("ShellTurnScroll",gi))}function hu(){if(si&&(!ei||!oi)){var n=t.querySelector(".b_copilot_composer");n&&(ci&&li||(li=!0,tr(),g=window.setTimeout(function(){cu(n,!1)},pr)))}}function cu(n,t){var r=t?n.getAttribute("placeholder")||"":"",i=t?r.length:0;tr();d=window.setInterval(function(){i<=ct.length?(n.setAttribute("placeholder",ct.substring(0,i)),i++):nr()},ai)}function nr(){d!==null&&(clearInterval(d),d=null)}function tr(){nr();g!==null&&(clearTimeout(g),g=null)}function lt(){var f=k?_w.screen.width:_w.innerWidth,e=k?_w.screen.height:_w.innerHeight,i,n,u;!ht&&(gt||k)&&(Math.round(f)<ni||Math.round(e)<ti)||(t=_ge("b_bop_cs_sb_place"),t)&&"ResizeObserver"in window&&((_ge("progContPlaceHolder")&&(o=!1,sj_evt.bind("directNavComplete",ur,!0)),v=_ge("b_header"),it=_ge("b_footer"),rt=_ge("b_content"),i=lu(),n=30*_d.body.offsetHeight/100,r=Math.max(n,i),o||(r=Math.min(r,Math.max(n,_d.body.offsetHeight-_w.innerHeight-10))),r=ri?-1:r,ii&&(r=Math.max(r,au())),u=v?Math.max(v.offsetHeight,r):r,!ht&&_d.body.offsetHeight-u<_w.innerHeight+100&&o)||(ui?pu():ir()))}function ir(){iu();gr();dr();sj_be(t,"animationend",di);sj_evt.fire("bopCompLoaded");y=wi();var n=_w.pageYOffset>r;o&&(n=n&&!y);n&&yi();sj_be(_d,"scroll",vi);sj_evt.bind("ajax.unload",rr,!1)}function lu(){var n=0,r=_qs(".b_ans.b_top"),u=_ge("b_topw"),f=_qs("#b_pole .b_poleContent"),t,i,e;if(f)n=f.offsetHeight;else if(u)n=u.offsetHeight;else if(r)n=r.offsetHeight;else if(t=_d.querySelectorAll("#b_results > li"),t.length>0)for(i=0;i<Math.min(t.length,3);i++)e= __get$(t,i) ,n+=e.offsetHeight;return v?v.offsetHeight+n:n}function au(){var n=_d.querySelector(".copans_container"),t=n&&n.querySelector(".copans_sc_main"),i=t&&t.querySelector(".copans_sc");return n&&t&&i?n.getBoundingClientRect().bottom:0}function rr(){sj_ue(_d,"scroll",vi);t&&sj_ue(t,"animationend",di);sj_evt.unbind("onP1",lt);sj_evt.unbind("ajax.unload",rr);sj_evt.unbind("directNavComplete",ur);nt(!0);u&&Lib.CssClass.add(u,"b_hide")}function ur(){o=!0;st&&sj_evt.bind("csInlineSearchTrig",function(){vu()},1)}function vu(){var t=_qs(".b_pag"),n;t&&(t.style.display="none");n=_ge("b_footer");n&&(n.style.display="none")}function yu(){sj_evt.bind("onP1",lt,!0)}function pu(){var n=_ge("bopchat-css-link");n&&(n.rel!=="stylesheet"?(n.rel="stylesheet",n.onload=function(){fr()}):fr())}function fr(){var n=_ge("b_copilot_search_container");Lib.CssClass.remove(n,a);ir()}function er(n){typeof Log!="undefined"&&Log.LogFilterFlare&&Log.LogFilterFlare([hr+n])}function wu(n){var t,i,r,u,f,e,s,h,c,l,a,v,w,b,d,g,nt,tt,it,rt,at,vt,yt;bt=(t=n.enableInitOnLoad)!==null&&t!==void 0?t:!1;kt=(i=n.enablePinWhenScrollUp)!==null&&i!==void 0?i:!1;dt=(r=n.enableFadeInWhenScrollUp)!==null&&r!==void 0?r:!1;p=(u=n.enablePinAboveFooter)!==null&&u!==void 0?u:!1;gt=(f=n.hideBaseWOrH)!==null&&f!==void 0?f:!1;k=(e=n.hideBaseRes)!==null&&e!==void 0?e:!1;ni=(s=n.showMinWidth)!==null&&s!==void 0?s:0;ti=(h=n.showMinHeight)!==null&&h!==void 0?h:0;ft=(c=n.mobileUI)!==null&&c!==void 0?c:!1;ii=(l=n.duplicateSC)!==null&&l!==void 0?l:!1;st=(a=n.enableSerpChat)!==null&&a!==void 0?a:!1;ui=(v=n.enablePrefetchCss)!==null&&v!==void 0?v:!1;ht=(w=n.alwaysShowComposer)!==null&&w!==void 0?w:!1;ri=(b=n.alwaysPinComposer)!==null&&b!==void 0?b:!1;fi=(d=n.inlChatMobCompH)!==null&&d!==void 0?d:0;ei=(g=n.isSERPVertical)!==null&&g!==void 0?g:!1;oi=(nt=n.goToSERP)!==null&&nt!==void 0?nt:!1;si=(tt=n.enableAnimatedComposerHint)!==null&&tt!==void 0?tt:!1;hi=(it=n.enableShowSerpOnInlineChat)!==null&&it!==void 0?it:!1;ct=(at=(rt=n.locStrings)===null||rt===void 0?void 0:rt.copilotSearchBoxFollowUp)!==null&&at!==void 0?at:"Ask me anything...";ci=(vt=n.enableAnimatedHintPlayOnce)!==null&&vt!==void 0?vt:!1;ai=(yt=n.animationIntervalMs)!==null&&yt!==void 0?yt:100;o=!0;et=!1;ot=!1;y=!1;ut=0;bt?lt():yu()}var l="b_pinbop",w="b_bop_nobg",at="b_unpin_anim",or="b_pincomposer",vt="b_bop_sc_hide",yt="b_bop_pin_placehold",pt="b_pin_abovefoot",wt="focusmode",sr="b_collapsed_co",a="b_hide",hr="webco_",cr="visible",lr="overlay",ar="csComposerFocus",vr="csComposerBlur",yr="csComposerRender",r,t,v,it,rt,u,s,e=0,f,i,b=0,ut=0,y=!1,h=!1,c,bt=!1,kt=!1,dt=!1,p=!1,gt=!1,k=!1,ni=0,ti=0,ft=!1,ii=!1,ri=!1,o=!0,et=!1,ot=!1,st=!1,ui=!1,ht=!1,fi=0,ei=!1,oi=!1,si=!1,hi=!1,ci=!1,ct="",li=!1,d=null,g=null,ai=100,pr=500;n.initComposer=wu})(SERPCopilotSearchComposer||(SERPCopilotSearchComposer={}))
/*hammerhead|script|end*/