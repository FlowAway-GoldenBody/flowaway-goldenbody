/*hammerhead|script|start*/"use strict";if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
"use strict";(self.webpackChunkxiangqi_client=self.webpackChunkxiangqi_client||[]).push([[5196],{95196(e,n,t){t.r(n),t.d(n,{default:()=>ae});var r,i,o,a=t(96540),l=t(8604),c=t(56915),s=t(67467),u=t(97132),p=t(35567),f=t(65503),d=t(19809),m=t(84127),h=t(63393),g=t(8162),v=t(39030);function y(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var A=g.Ay.span.withConfig({displayName:"UserMenu__MessageContainer",componentId:"sc-1iiwuga-0"})(["color:",";display:inline-block;text-transform:uppercase;text-align:right;font-weight:300;font-size:13px;line-height:13px;letter-spacing:1.95px;vertical-align:middle;",""],v.ut.$white,v.$_.phone(r||(r=y(["\n    display: none;\n  "]))));const w=g.Ay.div.withConfig({displayName:"UserMenu",componentId:"sc-1iiwuga-1"})(["margin-top:24px;display:flex;align-items:center;justify-content:space-between;width:100%;flex-direction:",";.profile-container{position:relative;.purchased{left:-10px;top:","px;position:absolute;width:20px;}}& a{padding:0 10px;font-size:13px;height:36px;line-height:33px;&:nth-child(2){margin-left:5px;}}.notification-button{cursor:pointer;}"," &.forgotPassword{","}"],function(e){return e.drawer?"row":"column-reverse"},function(e){return e.drawer?-15:-5},v.$_.phone(i||(i=y(["\n    & a {\n      letter-spacing: -0.5px;\n      padding: 0 3px;\n      font-size: 12px;\n    }\n  "]))),v.$_.smallphone(o||(o=y(["\n      display: none;\n    "]))));var b=t(56181),x=t(39905),S=t(56640),k=t(47195),I=t(18462),N=t(46828),_=t(12194);const C=g.Ay.div.withConfig({displayName:"Wrapper",componentId:"sc-10iq552-0"})(["margin-left:","px;margin-bottom:","px;position:relative;cursor:pointer;.badge{position:absolute;top:-2px;right:",";background-color:",";color:",";font-size:12px;font-weight:600;height:15px;width:15px;border-radius:50%;display:flex;align-items:center;justify-content:center;}"],function(e){return e.drawer?3:0},function(e){return e.drawer?0:10},function(e){return e.drawer?"-8px":"-2px"},v.ut.$yellow,v.ut.$fireBrick);var O,j=g.Ay.div.withConfig({displayName:"Wrapper__PopoverWrapper",componentId:"sc-10iq552-1"})(["height:445px;width:410px;.popover-header{padding:32px 32px 16px;display:flex;justify-content:space-between;h2{margin:0;padding:0;color:",";font-size:20px;line-height:24px;font-weight:600;}.cross-icon{cursor:pointer;padding:0;}}.notifications-list{margin:0;height:calc(100% - 146px);overflow-y:auto;padding:16px 0;}.view-all{color:",";font-size:16px;font-weight:600;line-height:1.5;text-align:center;display:block;margin:16px auto 32px;cursor:pointer;}"],function(e){return e.theme.text_23},v.ut.$fireBrick);function P(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&& __get$(e,Symbol.iterator) ||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return E(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++) __set$(r,t,__get$(e,t)) ;return r}function R(e,n,t,r){O||(O="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(n||0===o||(n={children:void 0}),1===o)n.children=r;else if(o>1){for(var a=Array(o),l=0;l<o;l++) __set$(a,l,__get$(arguments,l+3)) ;n.children=a}if(n&&i)for(var c in i)void 0=== __get$(n,c) &&( __set$(n,c,__get$(i,c)) );else n||(n=i||{});return{$$typeof:O,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}var $=function(e,n,t,r,i){var o;return R(j,{},"notification-popover",R("div",{className:"popover-header"},void 0,R(S.A,{},void 0,a.createElement(l.sA,N.A.notifications)),R("button",{type:"button",className:"cross-icon",onClick:e},void 0,R(h.A,{src:x.Ay.cancelIcon,alt:"blah"}))),R(_.A,{notifications:r,makeSingleNotificationRead:i}),(null===r||void 0===r||null===(o=r.items)||void 0===o?void 0:o.length)>0&&R("button",{type:"button",className:"view-all",onClick:function(){t(!1),n.push("/notifications")}},void 0,a.createElement(l.sA,N.A.viewAllNotifications)))},z=function(e){var n=e.drawer,t=e.notifications,r=e.handleSingleRead,i=e.notificationCount,o=e.makeMarkAllRead,l=P((0,a.useState)(!1),2),s=l[0],u=l[1],p=(0,c.W6)();return(0,a.useEffect)(function(){s&&i>0&&o()},[s,i]),R(k.A,{isOpen:s,preferPlace:n?I.A.ABOVE:I.A.RIGHT,place:n?I.A.ABOVE:I.A.RIGHT,onOuterAction:function(){return u(!1)},body:[$(function(){return u(!1)},p,u,t,r)]},void 0,R(C,{onClick:function(){return u(function(e){return!e})},isOpen:s,drawer:n},void 0,R(h.A,{src:x.Ay.BellIcon,alt:"Notifications icon"}),i>0&&R("span",{className:"badge"},void 0,i)))},U=function(e,n){return e.drawer===n.drawer&&e.notifications===n.notifications&&e.notificationCount===n.notificationCount};const G=(0,a.memo)(z,U);var H,T=t(93535),W=t(5757),M=t(3644);var B,q,V,D=g.Ay.div.withConfig({displayName:"Wrappers__UserWrapper",componentId:"a2jigm-0"})(["cursor:pointer;display:flex;align-items:center;flex:1;margin-top:","px;a{display:inline-block;vertical-align:top;padding:0;}div{margin-right:0;width:30px;height:30px;line-height:40px;","}.username{color:",";font-size:14px;line-height:1;font-weight:600;margin-left:5px;flex:1;}",";"],function(e){return e.drawer?0:10},v.$_.phone(H||(B=["\n      width: 26px;\n      height: 26px;\n      line-height: 26px;\n    "],q||(q=B.slice(0)),H=Object.freeze(Object.defineProperties(B,{raw:{value:Object.freeze(q)}})))),function(e){return e.theme.text_1},function(e){return e.isOpen&&(0,g.AH)([".chevron-up{transform:rotate(180deg);transiton:all 0.6ms ease-in-out;}"])}),F=(0,g.Ay)(c.N_).withConfig({displayName:"Wrappers__ProfileLink",componentId:"a2jigm-1"})(["",""],W.$),L=g.Ay.ul.withConfig({displayName:"Wrappers__PopoverWrapper",componentId:"a2jigm-2"})(["margin:0;padding:0;position:relative;padding:16px 0;li{list-style:none;.subscription-img{width:25px;}a,button{color:",";padding:15px 32px;display:block;cursor:pointer;}span{margin-left:25px;color:",";font-size:14px;line-height:1;font-weight:600;}&:hover,&.active{background-color:",";img{filter:none;}span{color:",";}}}"],function(e){return e.theme.text_7},function(e){return e.theme.heading_2},v.ut.$brown_18,v.ut.$fireBrick);function J(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&& __get$(e,Symbol.iterator) ||e["@@iterator"];if(null!=t){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==n);c=!0);}catch(e){s=!0,i=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return K(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?K(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++) __set$(r,t,__get$(e,t)) ;return r}function Q(e,n,t,r){V||(V="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(n||0===o||(n={children:void 0}),1===o)n.children=r;else if(o>1){for(var a=Array(o),l=0;l<o;l++) __set$(a,l,__get$(arguments,l+3)) ;n.children=a}if(n&&i)for(var c in i)void 0=== __get$(n,c) &&( __set$(n,c,__get$(i,c)) );else n||(n=i||{});return{$$typeof:V,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}var X=function(e,n,t){return Q(L,{},"popover-wrapper",Q("li",{onClick:t},"profile",Q(F,{to:"/@".concat(e)},void 0,Q(h.A,{src:x.Ay.ProfileIcon,alt:"profile",className:"to-white"}),a.createElement(l.sA,b.A.profile))),Q("li",{onClick:t},"friends",Q(c.N_,{to:"/@".concat(e,"/friends")},void 0,Q(h.A,{src:x.Ay.FriendsIcon,alt:"fiends",className:"to-white"}),a.createElement(l.sA,b.A.friends))),Q("li",{onClick:t},"logout",Q(W.A,{onClick:n},void 0,Q(h.A,{src:x.Ay.LogoutIcon,alt:"fiends",className:"to-white"}),a.createElement(l.sA,b.A.logout))))},Y=function(e){var n=e.user,t=e.logoutHandler,r=e.drawer,i=J((0,a.useState)(!1),2),o=i[0],l=i[1],c=function(){l(function(e){return!e})};return(0,a.useMemo)(function(){return!n.username},[n])?null:Q(k.A,{isOpen:o,preferPlace:r?I.A.ABOVE:I.A.RIGHT,place:r?I.A.ABOVE:I.A.RIGHT,onOuterAction:function(){l(!1)},body:[X(n.username,t,c)]},void 0,Q(D,{onClick:c,isOpen:o,drawer:r},void 0,Q(M.A,{user:n}),r&&Q("span",{className:"username"},void 0,n.username),r&&Q(h.A,{src:x.Ay.ChevronDown,alt:"chevon icon",className:"chevron-up"})))};const Z=(0,a.memo)(Y);var ee,ne,te;function re(e,n,t,r){te||(te="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(n||0===o||(n={children:void 0}),1===o)n.children=r;else if(o>1){for(var a=Array(o),l=0;l<o;l++) __set$(a,l,__get$(arguments,l+3)) ;n.children=a}if(n&&i)for(var c in i)void 0=== __get$(n,c) &&( __set$(n,c,__get$(i,c)) );else n||(n=i||{});return{$$typeof:te,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}var ie=function(e){var n=e.logoutHandler,t=e.drawer,r=e.notifications,i=e.handleSingleRead,o=e.notificationCount,s=e.makeMarkAllRead,u=e.isPremium,g=(0,c.zy)(),v=(0,a.useMemo)(function(){return(0,d.HW)()},[g.pathname]);return g.pathname===f.R7.SIGNUP||g.pathname===f.R7.SSO_SIGNUP?re(w,{},void 0,re(A,{},void 0,a.createElement(l.sA,b.A.alreadyHave),ee||(ee=re("br",{})),a.createElement(l.sA,b.A.account)),re(m.A,{to:"/account/signin",btnType:"yellow"},void 0,a.createElement(l.sA,b.A.signIn))):g.pathname===f.R7.SIGNIN?re(w,{},void 0,re(A,{},void 0,a.createElement(l.sA,b.A.dontHave),ne||(ne=re("br",{})),a.createElement(l.sA,b.A.account)),re(m.A,{to:f.R7.SIGNUP,btnType:"yellow"},void 0,a.createElement(l.sA,b.A.signUp))):g.pathname===f.R7.FORGOT_PASSWORD?re(w,{className:"forgotPassword"},void 0,re(m.A,{to:f.R7.SIGNUP,btnType:"yellow"},void 0,a.createElement(l.sA,b.A.signUp)),re(m.A,{to:f.R7.SIGNIN,btnType:"yellow"},void 0,a.createElement(l.sA,b.A.signIn))):re(w,{drawer:t},void 0,re("div",{className:"profile-container"},void 0,u&&re(h.A,{className:"purchased",src:p.PurchasedCrown,alt:"purchased"}),re(Z,{user:v,logoutHandler:n,drawer:t})),re(G,{drawer:t,notifications:r,handleSingleRead:i,notificationCount:o,makeMarkAllRead:s}))},oe=(0,u.j8)({isPremium:(0,T.iU)()});const ae=(0,s.connect)(oe)((0,a.memo)(ie))}}]);
/*hammerhead|script|end*/