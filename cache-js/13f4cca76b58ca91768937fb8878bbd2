/*hammerhead|script|start*/if (typeof window !== 'undefined' && window){window['hammerhead|process-dom-method'] && window['hammerhead|process-dom-method']();if (window.__get$ && typeof __get$ === 'undefined')var __get$Loc = window.__get$Loc,__set$Loc = window.__set$Loc,__set$ = window.__set$,__get$ = window.__get$,__call$ = window.__call$,__get$Eval = window.__get$Eval,__proc$Script = window.__proc$Script,__proc$Html = window.__proc$Html,__get$PostMessage = window.__get$PostMessage,__get$ProxyUrl = window.__get$ProxyUrl,__rest$Array = window.__rest$Array,__rest$Object = window.__rest$Object,__arrayFrom$ = window.__arrayFrom$;} else {if (typeof __get$ === 'undefined')var __get$Loc = function(l){return l},__set$Loc = function(l,v){return l = v},__set$ = function(o,p,v){return o[p] = v},__get$ = function(o,p){return o[p]},__call$ = function(o,p,a){return o[p].apply(o,a)},__get$Eval = function(e){return e},__proc$Script = function(s){return s},__proc$Html = function(h){return h},__get$PostMessage = function(w,p){return arguments.length===1?w.postMessage:p},__get$ProxyUrl = function(u,d){return u},__rest$Array = function(a,i){return Array.prototype.slice.call(a, i)},__rest$Object = function(o,p){var k=Object.keys(o),n={};for(var i=0;i<k.length;++i)if(p.indexOf(k[i])<0)n[k[i]]=o[k[i]];return n},__arrayFrom$ = function(r){if(!r)return r;return!Array.isArray(r)&&"function"==typeof r[Symbol.iterator]?Array.from(r):r};if (typeof importScripts !== "undefined" && /\[native code]/g.test(importScripts.toString())) {var __getWorkerSettings$ = function () {return null};importScripts((location.origin || (location.protocol + "//" + location.host)) + "/worker-hammerhead.js");}}/*hammerhead|script|processing-header-end*/
var WfPlanner;(function(n){var i=function(){function n(n,t,i){this.containerWidth=0;this.prefColCount=0;this.prefColWidth=0;this.maxHeight=0;this.isInited=!1;var r=this;n&&t&&!r.isInited&&(r.containerWidth=n.width,r.container=n,r.layoutOptions=t,r.isInited=!0,r.refineInputOptions(i),r.initVirtualColumns())}return n.prototype.calcAvgItemWidth=function(n){var i,r,t;if(n!=null&&n.length>0){for(i=n.length,r=0,t=0;t<i;t++)r+= __get$(n,t) .width;return Math.floor(r/i)}return 0},n.prototype.normalizeColumnCount=function(n){var t=this;return Math.floor(Math.min(t.layoutOptions.maxColCount,Math.max(t.layoutOptions.minColCount,n)))},n.prototype.normalizeColumnWidth=function(n){var t=this;return Math.floor(Math.min(t.layoutOptions.maxColWidth,Math.max(t.layoutOptions.minColWidth,n)))},n.prototype.calColumnWidth=function(n){var t=this,i=(t.containerWidth+t.layoutOptions.hGap)/n;return Math.floor(i>t.layoutOptions.hGap?i-t.layoutOptions.hGap:0)},n.prototype.calColumnCount=function(n){var t=this;return Math.floor((t.containerWidth+t.layoutOptions.hGap)/(n+t.layoutOptions.hGap))},n.prototype.refineInputOptions=function(n){var t=this,o=Math.min(t.layoutOptions.maxColWidth,t.calColumnWidth(t.layoutOptions.minColCount)),u,f,e,i,r;for(t.layoutOptions.maxColWidth=Math.max(t.layoutOptions.minColWidth,o),u=Math.max(t.layoutOptions.minColWidth,t.calColumnWidth(t.layoutOptions.maxColCount)),t.layoutOptions.minColWidth=Math.min(t.layoutOptions.maxColWidth,u),f=Math.min(t.layoutOptions.maxColCount,t.calColumnCount(t.layoutOptions.minColWidth)),t.layoutOptions.maxColCount=Math.max(t.layoutOptions.minColCount,f),e=Math.max(t.layoutOptions.minColCount,t.calColumnCount(t.layoutOptions.maxColWidth)),t.layoutOptions.minColCount=Math.min(t.layoutOptions.maxColCount,e),i=t.layoutOptions.minColCount,r=t.calcAvgItemWidth(n),r>0&&(r=t.normalizeColumnWidth(r),i=t.normalizeColumnCount(t.calColumnCount(r)));i<=t.layoutOptions.maxColCount;i++)if(t.layoutOptions.maxColWidth>=t.calColumnWidth(i))break;t.prefColCount=Math.min(i,t.layoutOptions.maxColCount);t.prefColWidth=t.normalizeColumnWidth(t.calColumnWidth(i))},n.prototype.initVirtualColumns=function(){var n=this,i=n.prefColCount,t;for(n.virtualColumns={},t=0;t<i;t++) __set$(n.virtualColumns,t,{}) , __get$(n.virtualColumns,t) .top=0, __get$(n.virtualColumns,t) .left=t*(n.layoutOptions.hGap+n.prefColWidth), __get$(n.virtualColumns,t) .idx=t, __get$(n.virtualColumns,t) .outputs=[];n.container.setWidth&&n.container.setWidth(i*(n.layoutOptions.hGap+n.prefColWidth)-n.layoutOptions.hGap)},n.prototype.findVirtualColumn=function(){for(var n=this,u=n.prefColCount,i=n.virtualColumns[0].top,r=0,t=1;t<u;t++) __get$(n.virtualColumns,t) .top<i&&(i= __get$(n.virtualColumns,t) .top,r=t);return  __get$(n.virtualColumns,r) },n.prototype.setMaxHeight=function(n){var t=this;n>t.maxHeight&&(t.maxHeight=n,t.container.setHeight&&t.container.setHeight(t.maxHeight))},n.prototype.add=function(n){var i=this,u;if(n!=null&&n.width>0&&n.height>0&&n.render){var e=n.height/n.width,f=Math.floor(Math.min(i.prefColWidth*e,n.height)),o=Math.max(f,i.layoutOptions.minItemHeight),r=i.findVirtualColumn(),t={};t.conWidth=i.prefColWidth;t.conHeight=o;t.itemWidth=Math.min(i.prefColWidth,n.width);t.itemHeight=f;t.left=r.left;t.top=r.top;t.dimIndex=r.idx;t.inputItem=n;u=n.render(t);t.finalSize=u;r.top+=u.height+i.layoutOptions.vGap;r.outputs.push(t);this.setMaxHeight(r.top)}},n.prototype.plan=function(n){var i=this,r,t;if(i.isInited&&n!=null&&n.length>0)for(r=n.length,t=0;t<r;t++)i.add( __get$(n,t) )},n.prototype.reset=function(){var n=this;n.isInited=!1},n.prototype.adjustOutputFinalSize=function(n,t){var s=this,i,f,e,u,r,o;if(s.isInited&&n&&t&&n.finalSize&&t.height!=n.finalSize.height&&(i= __get$(s.virtualColumns,n.dimIndex) ,i))for(f=t.height-n.finalSize.height,i.top=i.top+f,this.setMaxHeight(i.top),e=!1,u=0;u<i.outputs.length;u++)r= __get$(i.outputs,u) ,o=r.inputItem,r==n?(r.finalSize.height=t.height,e=!0):e&&o.move&&(r.top=r.top+f,o.move(r))},n.prototype.adjustColumnHeight=function(n,t){var i= __get$(this.virtualColumns,n) ;i&&(i.top+=t)},n}(),t;n.isInit||(n.isInit=!0,t={},n.planItems=function(n,r,u){if(n&&n.id&&r&&t){var f= __get$(t,n.id) ;f&&f.isInited||(f=new i(n,r,u), __set$(t,n.id,f) );u&&f.isInited&&f.plan(u)}},n.reset=function(n){if(n&&n.id&&t){var i= __get$(t,n.id) ;i&&i.isInited&&i.reset()}},n.adjustOutputFinalSize=function(n,i,r){if(n&&n.id&&i&&r){var u= __get$(t,n.id) ;u&&u.isInited&&u.adjustOutputFinalSize(i,r)}},n.adjustColumnHeight=function(n,i,r){if(n&&n.id&&r){var u= __get$(t,n.id) ;u&&u.isInited&&u.adjustColumnHeight(i,r)}},n.unload=function(){n.isInit=!1;t=null})})(WfPlanner||(WfPlanner={}))
/*hammerhead|script|end*/